"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[368],{96496:(e,a,s)=>{s.r(a),s.d(a,{default:()=>Ya});s(41260);var t=s(96651),r=s(10124),i=s.n(r),l=s(33220),n=s(8004),c=s(96560),o=s(8320),u=s(14788),d=s(12100),m=s(87832),y=s(56684),g=s(1044),h=s(62688),p=s(73372),x=s(92376),b=s(62768),v=s(83968),L=s(23052),k=s(2284);const j="o2TlnuNKxRO5RnB9BpHB",f="q0Ke_aAvTcc4dO4wCHQt",I="UlKUfS_GcROZmofuafOW",C="I5LORTI1u3A6VoUvRCBf",N="TS85Qkpioa31wR0p4kzT",A="yL1DLXBc05CR_ACv_NhA",w="k5kRkUyoz9znqg_SGOVQ";var R=s(72032),P=s(24392),U=s(43619),_=s(44616),T=s(90464),S=s(20896),F=s(2488);let E=function(e){return e.SMALL="small",e.LARGE="large",e}({});const O=({art:e,disabled:a=!1,LinkComponent:s,name:t,size:r=E.SMALL,type:n,uri:c})=>{const o=e?[e]:[],m=r===E.SMALL?(0,R.E)(n):function(e){switch(e){case S.Q.SINGLE:return d._s.get("track-page.from-the-single");case S.Q.EP:return d._s.get("track-page.from-the-ep");case S.Q.COMPILATION:return d._s.get("track-page.from-the-compilation");case S.Q.ALBUM:default:return d._s.get("track-page.from-the-album")}}(n),y=(0,l.i6)();return(0,F.jsxs)("div",{className:i()(j,{[I]:r===E.SMALL,[f]:a}),children:[(0,F.jsx)("div",{className:C,children:(0,F.jsx)(P.i,{images:o,size:_.fm.SIZE_80,title:t,type:U.s.ALBUM})}),(0,F.jsxs)("div",{className:N,children:[(0,F.jsx)(T.F,{variant:r===E.SMALL?"mestoBold":"finale",children:m}),(0,F.jsx)(s,{to:c,children:(0,F.jsx)(T.F,{as:"div",className:A,variant:"balladBold",dir:"auto",children:t})})]}),(0,F.jsx)("div",{onClick:()=>{y((0,u.nX)(c).toURLPath(!0))},className:w})]})};var D=s(11920),B=s(22480),M=s(52588),q=s(62692),G=s(52276);let z=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const K=(e,a)=>{switch(a.type){case"LYRICS_LOADING":return{...e,[a.uri]:{status:z.LOADING}};case"LYRICS_LOADED":return{...e,[a.uri]:{status:z.LOADED,data:a.response}};case"LYRICS_ERROR":return{...e,[a.uri]:{status:z.UNAVAILABLE}};default:return(0,G.E)(a,`Unhandled lyrics action with type: ${a.type}`)}};var Y=s(84264),W=s(76404);var Q=s(62984);const H=async({trackUri:e,api:a,imageForLyricsRequest:s,isPlayable:t})=>{if(!t)return{hasLyrics:!1};const r=(0,u.nX)(e);try{const e=await(async(e,a,s)=>(await e.build().withHost(W.Ef).withPath(`/track/${encodeURIComponent(a)}/image/${encodeURIComponent(s)}`).withHeaders([{key:"App-Platform",value:"WebPlayer"}]).withQueryParameters({format:"json",vocalRemoval:!1}).withEndpointIdentifier("/track/{trackId}").send()).body)(a||Y.W.getInstance(),r.id,s||"");return{hasLyrics:!0,syncType:e.lyrics.syncType,lyrics:e.lyrics.lines,provider:e.lyrics.provider,providerDisplayName:e.lyrics.providerDisplayName,providerLyricsId:e.lyrics.providerLyricsId,isRtlLanguage:e.lyrics.isRtlLanguage}}catch(e){if(e instanceof Q.S&&404===e.status)return{hasLyrics:!1};throw e}},V={status:z.LOADING},$={status:z.UNAVAILABLE},X=t.createContext(void 0),Z=({children:e,initialState:a={}})=>{const s=t.useReducer(K,a);return(0,F.jsx)(X.Provider,{value:s,children:e})},J=({uri:e,isAnonymous:a,imageForLyricsRequest:s,isPlayable:r})=>{const i=t.useContext(X);if(void 0===i)throw new Error("useTrackEntityLyrics must be used within a TrackEntityLyricsProvider");const[l,n]=i,c=e?l[e]:null;return(0,t.useEffect)((()=>{!c&&e&&(n({type:"LYRICS_LOADING",uri:e}),H({trackUri:e,imageForLyricsRequest:s,isPlayable:r}).then((a=>{n({type:"LYRICS_LOADED",uri:e,response:a})})).catch((()=>{n({type:"LYRICS_ERROR",uri:e})})))}),[n,s,r,c,e]),e&&(0,u._Z)(e)&&!a&&r?c||V:$};var ee=s(40636),ae=s(19872),se=s(59476),te=s(89060),re=s(23676),ie=s(38292),le=s(68860);const ne="oTRKhYD0MZlNPm66W3Tw",ce="sc95MwPalcHwYGZ7j3xN",oe="zrCZCfYv4zZiB1HYv9i8",ue="RnlxIDmWcYTbbwNSJNjA",de="SHkxfN1vy0wpRMP1hK7I",me="COXBS6zLyyxKNYuEAzjZ",ye="sR5IpdOUvoUGYKlC9Dk1",ge="FHMr3WxshoYjZ7jd3YwI",he="Evcwc4KM2tf9xrLbfB8B",pe="x4_dsi31Cx2SO1L0uYIj",xe="euPDqfFEBILj9KHDNLC1",be="x6FPRUKK40oDCPP7g6Ls",ve="k3SPcfaKewjfdYumDcGw",Le="t9C7vRiN1OSC9uWfJEr0",ke="Onv6dO4lntCzKUqYa8PE",je="vHNIIDpwcSLuHumlKDbY",fe=({richTrack:e})=>{const{search:a}=(0,l.IT)(),s=(0,t.useCallback)((()=>new URLSearchParams(a.slice(1)).get("highlight")||""),[a])(),{tracklistRef:r}=(0,le.M)(),i=e.albumOfTrack,n=(0,ie.y)(i?.uri||""),{usePlayContextItem:c}=(0,M.I)({uri:n},{featureIdentifier:"album"}),o=(0,t.useMemo)((()=>({items:[],totalCount:0})),[]);return i?(0,F.jsx)("div",{ref:r,className:ye,children:(0,F.jsx)(re.m,{ariaLabel:i.name,nrTracks:i.tracks.totalCount,albumUri:i.uri,highlightUri:s,discs:o,usePlayContextItem:c,hasHeaderRow:!1})}):null};var Ie=s(10660),Ce=s(50176),Ne=s(48856),Ae=s(3844),we=s(72144),Re=s(26681),Pe=s(75480),Ue=s(7296),_e=s(13932);const Te=t.memo((function({uri:e,togglePlay:a,isPlaying:s,isActive:r,spec:i,logger:l,backgroundColor:n,name:c,isPlayable:o,albumUri:u,artists:h}){const p=(0,Ue.w)(),x=(0,_e.O)(),[L,k]=(0,Ae.X)(e),j=(0,t.useCallback)((async()=>{p({targetUri:e,intent:L?"unsave":"save",type:"click"});const a=i.saveButtonFactory();l.logInteraction(L?a.hitRemoveLike({itemNoLongerLiked:e}):a.hitLike({itemToBeLiked:e}));try{await k(!L)}catch{}}),[p,e,L,i,l,k]),f=(0,t.useCallback)((()=>{const t=(0,v.Il)({isPlaying:s,isActive:r,spec:i.playButtonFactory(),logger:l,uri:e});a({loggingParams:t})}),[r,s,l,i,a,e]),I=(0,t.useCallback)((()=>{l.logInteraction(i.contextButtonFactory().hitUiReveal())}),[l,i]),C=(0,Pe.u)();return(0,F.jsx)(we.g,{backgroundColor:n,children:(0,F.jsxs)(Re.i,{children:[(0,F.jsx)(g.mG,{children:(0,F.jsx)(b.e,{onClick:f,isPlaying:s,disabled:!o,size:C,uri:e})}),(0,F.jsx)(g.mG,{children:(0,F.jsx)(Ie.O,{isAdded:!!L,onClick:j,disabled:!x,size:C})}),(0,F.jsx)(Ce.W,{uri:e,isFollowing:!!L,onFollow:j,size:C}),(0,F.jsx)(m.pD,{menu:(0,F.jsx)(y.k,{uri:e,albumUri:u,artists:h}),onShow:I,children:(0,F.jsx)(Ne.g,{label:d._s.get("more.label.context",c),size:C})})]})})})),Se="OH5mnpJIVCJozYM3raMt",Fe="etw0slM6uVrCi5RR3iDi",Ee=({padded:e,providerDisplayName:a})=>a?(0,F.jsx)(T.F,{as:"p",dir:"auto",variant:"finale",className:`${Se} ${e?Fe:""}`,children:d._s.get("web-player.lyrics.providedBy",a)}):null,Oe=({uri:e,imageForLyricsRequest:a,isPlayable:s})=>{const{data:t}=J({uri:e,imageForLyricsRequest:a,isPlayable:s});return t?.hasLyrics?(0,F.jsx)(Ee,{providerDisplayName:t.providerDisplayName}):null};var De=s(4564),Be=s(8340);const Me="QhDsXG1Gmo7XmQWLggAO",qe="bZgWQj7UxvK8GYKWDA7N",Ge="AW61P3tnW5cKJCWtbhFh",ze=({buttonText:e,onSecondaryButtonClick:a,onPrimaryButtonClick:s,secondaryButtonText:t,text:r})=>(0,F.jsxs)("div",{className:Me,"data-testid":"static-activation-trigger",children:[(0,F.jsx)(n.a,{className:qe,variant:"bodyMediumBold",children:r}),(0,F.jsxs)("div",{className:Ge,children:[(0,F.jsx)(c.u,{onClick:a,semanticColor:"textBase",children:t}),(0,F.jsx)(Be.g,{onClick:s,colorSet:"invertedLight",children:e})]})]});var Ke=s(11732);const Ye="T1nqQ4HEh3heHy4RCCKa",We="L8zjshPVgUMXyZR4FtOk",Qe="YMn1FWcFmOz9osBrNvhF",He="Inbyq3TnvKDOJtcKFTDQ",Ve="lWk5se4WETUOJwaEb8D6",$e="i8DyQbWCmDV_8N5XGJQT",Xe="t5WPFlGTY6GCd9UOFfLu",Ze="AGQ3wRyMVK1odq860qnT",Je="ZX_r7uZgPgssaUplfpxT",ea="qrqctaPu2XBpxsw23nPX",aa="XnWidTagai3nQwMPxIMF";var sa=s(88004),ta=s(60016);let ra=function(e){return e.SMALL="small",e.LARGE="large",e}({});const ia=e=>{const{disabled:a,images:s,LinkComponent:t,name:r,size:n,uri:c,enableI18nRoutes:o,enableI18nAdditionalPages:m}=e,y=n===ra.SMALL,g=(0,l.i6)(),h=(0,u.nX)(c),p=h?.type,x=d._s.getLocaleForURLPath(),b=(0,sa.QZ)({localeFeatureFlag:o,entityFeatureFlag:m,urlLocale:x,entity:p,type:"link"});return(0,F.jsxs)("div",{className:i()(We,{[Qe]:a}),"data-testid":"track-artist-link-card",children:[(0,F.jsx)(P.i,{shape:P.O.CIRCLE,images:s,size:_.fm.SIZE_80,title:r,type:U.s.ARTIST}),(0,F.jsxs)("div",{className:i()(Ve,{[$e]:y}),children:[(0,F.jsx)(T.F,{variant:"mestoBold",className:He,children:d._s.get("card.tag.artist")}),(0,F.jsx)(t,{to:c,children:(0,F.jsx)(T.F,{as:"div",dir:"ltr",className:Xe,variant:"balladBold",children:r})})]}),(0,F.jsx)("div",{onClick:()=>{const e=h?.toURL(`/${ta.Si}${x}/`);if(h){const a=b?e:h.toURLPath(!0);g(a)}},className:Ze})]})},la=({size:e=ra.LARGE,disabled:a=!1,enableI18nRoutes:s,enableI18nAdditionalPages:r,...l})=>{const[n,o]=(0,t.useState)(!1),u=(0,t.useCallback)((()=>{o(!n)}),[n]),m=l.artists;return(0,F.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,F.jsx)("div",{className:Ye,children:m.map(((t,c)=>(0,F.jsx)("div",{className:i()({[ea]:n&&c>5,[Je]:c>5}),children:(0,F.jsx)(ia,{name:t.name,uri:t.uri,images:t.images,size:e,LinkComponent:l.LinkComponent,disabled:a,enableI18nRoutes:s,enableI18nAdditionalPages:r},t.id)},`${t.uri}-${c}`)))}),m.length>6&&(0,F.jsx)(c.u,{onClick:u,className:aa,children:(0,F.jsx)(T.F,{as:"p",variant:"violaBold",children:n?d._s.get("show_less"):d._s.get("mwp.search.artists.all")})})]})};var na=s(34016),ca=s(82504);const oa="EaTxqhHk6J4ecKHwpY5m",ua="dUQl9yd5x_1oWk4L0Ntm",da="xt5C47eHPYNiriMJxGnC",ma=({words:e,onObserve:a,lyricsInView:s})=>{const{ref:r,inView:i}=(0,ca.cD)({threshold:0}),l=(0,t.useRef)(!1);return(0,t.useEffect)((()=>{s||(l.current=!1)}),[s]),(0,t.useEffect)((()=>{l.current||i&&(a({text:e,outOfView:!1}),l.current=!0)}),[i,a,e]),(0,F.jsx)(T.F,{ref:r,as:"p",dir:"auto",variant:"ballad",className:da,children:e})};var ya=s(35404);const ga=({data:e,eventSender:a,playbackId:s,uri:r})=>{const{lyrics:i=[],provider:l,providerLyricsId:n,syncType:c}=e,{ref:o,inView:u}=(0,ca.cD)({threshold:0}),m=function(e){const{trackUri:a,provider:s,providerLyricsId:r,syncType:i,eventSender:l,playbackId:n}=e,c=(0,t.useRef)(null),[o,u]=(0,t.useState)(!1),[d,m]=(0,t.useState)(0),[y,g]=(0,t.useState)(!1),h=(0,t.useMemo)((()=>(0,ya._)({lyrics_format:"track-page",track_uri:a,provider:s,provider_lyrics_id:r,sync_type:i,playback_id:n})),[s,r,i,a,n]);return(0,t.useEffect)((()=>{u(!1),m(0),g(!1),c.current=null}),[a]),(0,t.useEffect)((()=>{o&&n&&u(!1)}),[n]),(0,t.useEffect)((()=>{o||d>=140&&y&&(l?.send(h),u(!0))}),[d,o,h,l,y]),(0,t.useCallback)((e=>{const{text:a,outOfView:s}=e;a&&a.length>1&&(m((e=>e+a.length)),o||null!==c.current||(c.current=setTimeout((()=>{g(!0)}),1500))),s&&(c.current&&clearTimeout(c.current),c.current=null,m(0))}),[m,o])}({trackUri:r,provider:l,providerLyricsId:n,syncType:c,eventSender:a,playbackId:s});return(0,t.useEffect)((()=>{u||m({outOfView:!0})}),[u,m]),(0,F.jsxs)("div",{className:oa,ref:o,children:[(0,F.jsx)(T.F,{as:"h2",variant:"canon",semanticColor:"textBase",className:ua,children:d._s.get("web-player.lyrics.title")}),i.map((({words:e},a)=>(0,F.jsx)(ma,{onObserve:m,words:e,lyricsInView:u},`lyrics-seo-line-${a}`)))]})};var ha=s(72001),pa=s(3990),xa=s(57800);const ba=({uri:e,imageForLyricsRequest:a,isPlayable:s})=>{const{data:t}=J({uri:e,imageForLyricsRequest:a,isPlayable:s}),r=(0,xa.mg)(),{isPaused:i,currentTrackUri:l,playbackId:n}=(0,ha.o)((e=>({isPaused:e?.isPaused,currentTrackUri:e?.item?.uri,playbackId:e?.playbackId})),pa.c),c=!i&&l===e;return t&&t?.hasLyrics?(0,F.jsx)(ga,{data:t,uri:e,eventSender:r,playbackId:c?n:void 0}):null};var va=s(32848),La=s(68964);const ka=e=>{const{albumArtists:a,columnCount:s,imageForLyricsRequest:r,isPlayable:l,uri:n}=e,c=s-2,o={"--column-count":s,"--left-column-end":c-2,"--right-column-start":c},{isAnonymous:u}=(0,De.w1)(La.cx),m=(0,_e.O)(),{data:y,status:g}=J({uri:n,isAnonymous:u,imageForLyricsRequest:r,isPlayable:l}),h=!!y&&y.hasLyrics&&g!==z.UNAVAILABLE||u,p=(0,De.w1)(va.Y3),x=(0,De.w1)(va.Oq);return(0,F.jsxs)(t.Suspense,{fallback:null,children:[h&&(0,F.jsx)("div",{className:i()(oe,{[ue]:s>5}),style:{...o},"data-testid":"lyrics-container",children:u?(0,F.jsx)(ze,{buttonText:d._s.get("sign_up"),secondaryButtonText:d._s.get("login"),text:d._s.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:na.mq,onSecondaryButtonClick:na.KS}):(0,F.jsx)(ba,{uri:n,imageForLyricsRequest:r,isPlayable:l})}),(0,F.jsx)("div",{className:i()(ne,{[ce]:s>5&&h}),style:{...o},children:(0,F.jsx)(la,{artists:a,LinkComponent:Ke.default,disabled:!m,enableI18nRoutes:p,enableI18nAdditionalPages:x})})]})};var ja=s(12980),fa=s(4668),Ia=s(81604),Ca=s(84340),Na=s(59792),Aa=s(35156);const wa=({album:e,index:a,artistURI:s})=>(0,F.jsx)(Ia.oL,{value:"card",index:a,children:(0,F.jsx)(Aa.u,{index:a,latest:!1,showType:!0,...(0,Na.eQ)(e,s,e.name)})});var Ra=s(29384);const Pa=({albums:e,artistName:a,artistId:s,artistUri:t,className:r})=>e?(0,F.jsx)(Ia.oL,{value:"shelf/albums",children:(0,F.jsx)(Ra.y,{total:e.totalCount,title:d._s.get("rich-page.popular-albums-by-artist",{artist:a}),seeAllUri:`${(0,Na.ag)(s)}:discography:${Ca.s1.Album.toLowerCase()}`,seeAllLabel:d._s.get("shelf.see-all"),alwaysShowSeeAll:!0,className:r,children:(0,Na.UJ)(e.items).map(((e,a)=>(0,F.jsx)(wa,{album:e,index:a,artistURI:t},e.uri)))})}):null;var Ua=s(43168);const _a=({artistId:e,className:a,fansAlsoLike:s,title:t})=>(0,F.jsx)(Ia.oL,{value:"shelf/fans-also-like",children:(0,F.jsx)(Ra.y,{total:s.length,title:t??d._s.get("rich-page.fans-also-like"),seeAllUri:`${(0,Na.ag)(e)}:related`,className:a,children:s.map(((e,a)=>(0,F.jsx)(Ia.oL,{value:"card",index:a,children:(0,F.jsx)(Ua.M,{index:a,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources||[]})},e.uri)))})});var Ta=s(89364);const Sa="ERm7dIKbVoqGwPb_lXPH",Fa=({artistName:e,artistUri:a,headerClassName:s,rowClassName:r,topTracks:i,topTracksTransformer:l,uri:c})=>{const o=(0,t.useMemo)((()=>i?.items.map((e=>l(e,c)))),[i?.items,l,c]),{usePlayContextItem:u}=(0,M.I)({uri:a},{featureIdentifier:"artist"});return o&&o.length>0?(0,F.jsxs)("div",{className:r,children:[(0,F.jsxs)("div",{children:[(0,F.jsx)(n.a,{variant:"bodySmall",className:Sa,children:d._s.get("rich-page.popular-tracks")}),(0,F.jsx)(n.a,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:s,children:e})]}),(0,F.jsx)(Ta.E,{nrTracks:o.length,initialTracks:o,usePlayContextItem:u})]}):null},Ea=({artistName:e,artistId:a,artistUri:s,className:t,releases:r,artistImages:i})=>r?(0,F.jsx)(Ia.oL,{value:"shelf/releases",children:(0,F.jsx)(Ra.y,{total:10,title:d._s.get("rich-page.popular-releases-by-artist",{artist:e}),seeAllUri:`${(0,Na.ag)(a)}:discography:${Ca.s1.Album.toLowerCase()}`,seeAllLabel:d._s.get("shelf.see-all"),alwaysShowSeeAll:!0,className:t,listRowHeaderProps:i?{title:e,pretitle:d._s.get("artist-page.popular"),media:(0,ae.u)(i,{desiredSize:48})||""}:null,children:r.items.map(((e,a)=>(0,F.jsx)(wa,{album:e,index:a,artistURI:s},e.uri)))})}):null,Oa=({artistId:e,artistName:a,artistUri:s,className:t,singles:r})=>r?(0,F.jsx)(Ia.oL,{value:"shelf/singles-and-eps",children:(0,F.jsx)(Ra.y,{total:r.totalCount,title:d._s.get("rich-page.popular-singles-and-eps-by-artist",{artist:a}),seeAllUri:`${(0,Na.ag)(e)}:discography:${Ca.s1.Single.toLowerCase()}`,seeAllLabel:d._s.get("shelf.see-all"),alwaysShowSeeAll:!0,className:t,children:(0,Na.UJ)(r.items).map(((e,a)=>(0,F.jsx)(wa,{album:e,index:a,artistURI:s},e.uri)))})}):null;var Da=s(47824),Ba=s(92280),Ma=s(42544),qa=s(88284);const Ga=e=>(e.items||[]).map((e=>({name:e.profile.name,images:(e.visuals.avatarImage?.sources||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.uri,id:e.id}))),za=e=>(e||[]).map((e=>e.profile.name)),Ka=({uri:e,track:a})=>{const s=(0,_e.O)(),r=(0,Ba.A)(),l=(0,Da.W)({type:"locale",uri:e}),u=d._s.getLocaleForTranslation(),x=parseInt(a.playcount||"0",10),{firstArtist:j,otherArtists:f,albumOfTrack:I,duration:C,name:N}=a,A=I?.coverArt,w=I?.copyright.items,R=I?.courtesyLine,{date:P,precision:_}=I?.date?(0,se.w3)(I.date):{date:void 0,precision:void 0},T=A?.extractedColors?.colorRaw.hex,S=(A?.sources||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),D={uri:I?.uri||"",name:I?.name||""},B=za(j.items),G=za(f.items),z=Ga(j),K=Ga(f),Y=[...z,...K],W=j.items[0],Q=a.albumOfTrack,H=Q?.playability?.playable,V={artistId:W?.id,artistName:W?.profile?.name,artistUri:W?.uri},$=a.albumOfTrack?.coverArt?.sources,X=(0,ae.u)($||void 0,{desiredLabel:"large",desiredSize:600})??$?.[0]?.url??"",[J,re]=(0,t.useState)(!1),le=(0,t.useCallback)((()=>{re(!J)}),[J]),ne=f&&f.items.length>5,{spec:ce,logger:oe}=(0,ee.gp)(o.createDesktopTrackEventFactory,{data:{uri:e}}),ue=a.playability.playable,ye=(0,ie.y)(e),{togglePlay:Ie,isPlaying:Ce,isActive:Ne}=(0,M.I)({uri:ye},{featureIdentifier:"track"}),Ae=(0,t.useCallback)((()=>(0,q.eG)({i18n:d._s,trackArtistsList:[...B,...G].join(d._s.getSeparator()),trackName:a.name,shouldLocalize:l})),[B,G,l,a.name]),we=(0,t.useCallback)(((e,a)=>{oe.logInteraction(ce.headerFactory().artistLinkFactory({position:a.position,uri:a.creator.uri}).hitUiNavigate({destination:a.creator.uri}))}),[oe,ce]),Re=(0,t.useCallback)((()=>{const a=(0,v.Il)({isPlaying:Ce,isActive:Ne,spec:ce.actionBarFactory().playButtonFactory(),logger:oe,uri:e});Ie({loggingParams:a})}),[Ne,Ce,oe,ce,Ie,e]),Pe=Q?.uri,Ue=(0,t.useMemo)((()=>[...j.items,...f.items].map((e=>({uri:e.uri,name:e.profile.name})))),[j.items,f.items]),Se=(0,F.jsx)(y.k,{uri:e,albumUri:Pe,artists:Ue});return(0,F.jsxs)("section",{"data-testid":"track-page",children:[(0,F.jsx)(ja.Q,{children:Ae()}),(0,F.jsxs)(g.I1,{backgroundColor:T,children:[(0,F.jsxs)(h.E,{children:[(0,F.jsx)(b.e,{size:"medium",onClick:Re,disabled:!ue,isPlaying:Ce,uri:e}),(0,F.jsx)(p.e,{text:N,dragUri:e,dragLabel:N})]}),(0,F.jsx)(m.UF,{menu:Se,children:(0,F.jsx)(g.gR,{dragUri:e,images:S,name:N,placeholderType:"album"})}),(0,F.jsxs)(g.a8,{children:[(0,F.jsx)(n.a,{variant:"bodySmallBold",children:d._s.get("song")}),(0,F.jsx)(m.UF,{menu:Se,children:(0,F.jsx)(g.on,{dragUri:e,dragLabel:N,children:N})}),(0,F.jsx)(g.E1,{creators:z,releaseDate:P,releaseDatePrecision:_,durationMilliseconds:C.totalMilliseconds,onCreatorClick:we,isTrack:!0,album:D,playcount:x})]})]}),(0,F.jsx)(Te,{uri:e,togglePlay:Ie,isPlaying:Ce,isActive:Ne,spec:(0,t.useMemo)((()=>ce.actionBarFactory()),[ce]),logger:oe,backgroundColor:T,name:N,isPlayable:ue,albumUri:Pe,artists:Ue}),(0,F.jsxs)(Z,{children:[(0,F.jsxs)("div",{className:"contentSpacing",children:[(0,F.jsx)("div",{className:de,children:(0,F.jsx)(k.C,{render:({columnCount:a})=>(0,F.jsx)(ka,{imageForLyricsRequest:X,albumArtists:Y,columnCount:a,uri:e,isPlayable:ue})})}),(0,F.jsx)(fa.B,{subtitle:d._s.get("internal-link-recommender.based-on-this-song"),uri:a.uri,entityType:U.s.TRACK}),(0,F.jsx)(Fa,{artistName:W.profile.name,artistUri:W.uri,headerClassName:he,rowClassName:de,topTracks:W.discography.topTracks,topTracksTransformer:Ma.ID,uri:a.uri}),(0,F.jsx)(Ea,{className:ge,releases:W?.discography?.popularReleasesAlbums,...V}),(0,F.jsx)(Pa,{albums:W?.discography?.albums,className:ge,...V}),(0,F.jsx)(Oa,{className:ge,singles:W?.discography?.singles,...V}),f&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{className:xe,children:f.items.map(((e,a)=>(0,F.jsx)(Ea,{className:i()(pe,{[ve]:a>4,[Le]:J&&a>4}),releases:e.discography.popularReleasesAlbums,artistName:e.profile.name,artistId:e.id,artistUri:e.uri,artistImages:e.visuals.avatarImage?.sources},e.id)))}),ne&&(0,F.jsx)(c.u,{onClick:le,className:ke,children:(0,F.jsx)(n.a,{as:"h2",variant:"bodySmallBold",children:J?d._s.get("show_less"):d._s.get("mwp.search.artists.all")})}),(0,F.jsx)(_a,{artistId:W.id,className:i()(ge,{[be]:f.items.length>0}),fansAlsoLike:W.relatedContent.relatedArtists.items,title:d._s.get("artist-page.fansalsolike")})]}),Q&&(0,F.jsx)(O,{art:Q.coverArt?.sources[0],disabled:!H||!s,LinkComponent:Ke.default,name:Q.name,type:Q.type,size:E.LARGE,uri:Q.uri}),(0,F.jsx)(fe,{richTrack:a})]}),(0,F.jsx)("div",{className:"contentSpacing",children:(0,F.jsxs)("div",{className:me,children:[P&&(0,F.jsx)(n.a,{as:"p",variant:"bodySmall",className:je,children:(0,te.iY)((0,te._z)(P),u,{year:"numeric",month:"long",day:"numeric"},_)}),(0,F.jsx)(L.k,{copyrights:w||[],courtesyLine:R}),!r&&(0,F.jsx)(Oe,{uri:e,imageForLyricsRequest:X,isPlayable:ue})]})})]})]})},Ya=(0,t.memo)((function(){const{trackId:e=""}=(0,l.W4)(),a=(0,u.U1)(e).toURI(),s=(0,qa.q)({uri:a});return s.loading||s.error||"Track"!==s.data?.trackUnion?.__typename?(0,F.jsx)(x.K,{hasError:!s.loading,errorMessage:d._s.get("track-page.error")}):(0,F.jsx)(B.y,{surface:D.g.TRACK,uris:[a,s.data.trackUnion.albumOfTrack?.uri??null],children:(0,F.jsx)(Ka,{uri:a,track:s.data.trackUnion})})}))},88284:(e,a,s)=>{s.d(a,{q:()=>l});var t=s(88272),r=s(99972);const i=new t.a("getTrack","query","ae85b52abb74d20a4c331d4143d4772c95f34757bfa8c625474b912b9055b5c0",null),l=(e,a)=>(0,r.U)(i,e,a)}}]);
//# sourceMappingURL=xpui-routes-track-v2.js.map