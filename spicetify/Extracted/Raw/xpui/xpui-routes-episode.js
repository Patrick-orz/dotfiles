"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9789],{98224:(e,t,s)=>{s.d(t,{C:()=>n});var i=s(49232),a=s(15040);function n(){return{version:(0,i.IP)(a.INV)?2:1}}},35244:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Ut});s(41260);var i=s(96651),a=s(72199),n=s(33220),r=s(56052),o=s(31024),l=s(14788),c=s(12100),d=s(12980),u=s(94231),p=s(92376),m=s(49612),y=s(49232),h=s(15040),x=s(98224),g=s(20751),b=s(2488);const k=(0,i.lazy)((()=>s.e(2064).then(s.bind(s,22064)))),j=(0,i.lazy)((()=>s.e(4452).then(s.bind(s,84452))));function C(e){const t=(0,g.G)(),s=(0,y.IP)(h.cGB,{loadingValue:!1}),a=(0,x.C)();return t?s?e.uri?(0,b.jsx)(i.Suspense,{fallback:!0,children:(0,b.jsx)(j,{uri:e.uri})}):null:(0,b.jsx)(i.Suspense,{fallback:!0,children:(0,b.jsx)(k,{reason:"Episode page",...a,...e})}):null}const P="dpN5ViPOceUWNB5EQPHN",T="fBEA27lLw_sc60Zjd_qw",I="vBcxPq3E2okwgXOkVPEM",f="CxoSYuAjlcCDSOWnnbJe",S="HCCBXwdFvq6omWW2hR0N",v="bJOPO5Zo7dpjSVDwEpSw",E="TXdDDpokVTyJzDEDWHHf",U="tvj001zNcrC5VUZmTt9c",w="PC5kR03GYecc7syeoC0q",N="YldGldlfaI9myEGXQf9g",L="qJHVIpJn1vLPWsAKfTEZ",A="wSIzjkVlr0Zdy7di2vRm",M="hYS_K1NATGyWt6tCSRqQ",D="hVVaM4pF9arpQ8Nvn2a1",R="zf0Eac1LugsHUacz74Zf",B="TnNaqxbaI0hzhBQZ7wE0",F="zSw1lG1TNe_xm6KTqtCv",_="MlEQDkXnjdKKJueJ9kkB",O="jg0xlyD1yjh0DPNG6eOg",z="QiHXpFb4dLZNOFe5gpp3";var H=s(8004),Q=s(24032),V=s(40636),W=s(8340),X=s(97192);const q=({cardHeaderText:e,cardBodyText:t,buttonText:s,buttonTarget:i})=>(0,y.IP)(h.WEs)?(0,b.jsxs)("div",{className:N,children:[(0,b.jsxs)("div",{className:L,children:[(0,b.jsx)(H.a,{variant:"bodyMediumBold",semanticColor:"textBase",children:e}),(0,b.jsx)(H.a,{semanticColor:"textBase",children:t})]}),(0,b.jsx)(W.g,{size:"small",colorSet:"invertedLight",href:(0,l.nX)(i).toURLPath(!0),component:X.m,children:s})]}):null,K=({areHTMLDescriptionsEnabled:e,contentInformation:t,description:s,hasDescription:a,htmlDescription:n,onExpanded:r,onTimeStampClick:o,playability:l,showHeader:d=!0,spec:u})=>{const p=(0,V.Mk)(),m=(a||t)&&d,x=(0,i.useCallback)((e=>{const t=u.readMoreButtonFactory();p.logInteraction(e?t.hitUiReveal():t.hitUiHide()),r?.()}),[u,p,r]),g=(0,y.IP)(h.EFu,{loadingValue:!1});return(0,b.jsxs)(b.Fragment,{children:[m&&(0,b.jsx)(H.a,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:S,children:c._s.get("episode.description-title")}),t&&(0,b.jsx)(q,{cardHeaderText:t.cardHeaderText,cardBodyText:t.cardBodyText,buttonText:t.buttonText,buttonTarget:t.buttonTarget}),a&&(0,b.jsx)(Q.Y,{className:I,onTimeStampClick:o,maxLines:4,onExpanded:x,content:(s||"").trim(),htmlContent:e&&n?n:void 0,enableTimestamps:l.playable,enableAutomaticLinkification:g&&e&&!!n})]})};var Z=s(10124),G=s.n(Z),J=s(82504),Y=s(88280),$=s(87500),ee=s(52976),te=s(77808),se=s(81040),ie=function(e){return e.DESCRIPTION="description",e.TRANSCRIPT="transcript",e}(ie||{});const ae=i.memo((function({transcriptSections:e,descriptionContent:t,transcriptContent:s,spec:a}){const n=(0,V.Mk)(),[r,o]=(0,i.useState)(ie.DESCRIPTION),l=(0,se.Iz)(),{ref:d,inView:u}=(0,J.cD)({threshold:[1],root:l.current,rootMargin:`-${te.QJ+1}px 100000px 0px 100000px`}),p=(0,i.useRef)(null),m=(0,i.useCallback)((e=>{p.current=e,d(e)}),[d]);return(0,i.useEffect)((()=>{const e=p.current?.parentElement?.offsetTop,t=l?.current;if(!e||!t)return;const s=e-te.QJ;t.scrollTop>s&&t.scrollTo({top:s})}),[l,r]),(0,b.jsx)(Y.Y,{list:(0,b.jsxs)($.a,{className:G()(_,{[O]:!u}),ref:m,children:[(0,b.jsx)(ee.b,{label:c._s.get("web-player.episode.description"),sentenceCase:!0,active:r===ie.DESCRIPTION,onClick:()=>{const e=a.tabsFactory().descriptionTabButtonFactory().hitUiReveal();n.logInteraction(e),o(ie.DESCRIPTION)},className:G()(z,{[A]:r===ie.DESCRIPTION})}),(0,b.jsx)(ee.b,{label:c._s.get("web-player.episode.transcript"),sentenceCase:!0,disabled:null===e,active:r===ie.TRANSCRIPT,onClick:()=>{const e=a.tabsFactory().transcriptTabButtonFactory().hitUiReveal();n.logInteraction(e),o(ie.TRANSCRIPT)},className:G()(z,{[A]:r===ie.TRANSCRIPT})})]}),children:null===e||r===ie.DESCRIPTION?t:s})}));var ne=s(8451),re=s(71916),oe=s(52588),le=s(19872);const ce=(0,i.memo)((function({transcriptSections:e,onTimeStampClick:t,episodeUri:s}){const{spec:i,logger:a}=(0,V.gp)(ne.G,{data:{uri:s}}),{isPlaying:n}=(0,oe.I)({uri:s},{featureIdentifier:"episode"}),r=i.timestampLinkFactory();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:D,children:(0,b.jsx)(H.a,{variant:"bodySmall",semanticColor:"textBase",children:c._s.get("web-player.episode.transcript.disclaimer")})}),e.map(((e,i)=>{const o=`transcript-section-${i}`;return(0,b.jsxs)("div",{className:M,children:[(0,b.jsx)("button",{className:R,onClick:()=>{t(e.startMs,o),a.logInteraction(n?r.hitSeekToTime({msToSeekTo:e.startMs}):r.hitPlay({itemToBePlayed:s}))},children:(0,b.jsx)(re.s,{id:o,targetURI:(0,l.nX)(s),fadeOut:!0,children:(0,b.jsx)(H.a,{variant:"marginalBold",semanticColor:"textSubdued",className:B,children:(0,le.A)(e.startMs)})})}),e.content.map(((e,t)=>(0,b.jsx)(H.a,{variant:"bodySmall",semanticColor:"textBase",className:F,dir:"auto",children:e},`transcript-text-${t}`)))]},o)}))]})}));s(73952),s(99400);var de=s(60592),ue=s(33912),pe=s(45268),me=s(52276),ye=s(80296),he=s(87832),xe=s(56684),ge=s(24300),be=s(45060),ke=s(43476),je=s(81604),Ce=s(42300);const Pe="OYehkMWcGJRKPkByp46K",Te="uc1bXkrZqrCz0CMK4lBb",Ie="qZeibBbA3SVClzEueYND",fe=({episodeUri:e,index:t,duration:s,start:a,stop:n,name:r,uri:o,artists:l,album:d,playable:u})=>{const{isActive:p,isPlaying:m,onClick:y}=(0,ke.y)({episodeUri:e,start:a,stop:n}),h=(0,i.useCallback)(((e,t)=>{y(t)}),[y]),{spec:x}=(0,V.gp)(ye.C,{data:{position:t,reason:"",uri:o}});return(0,b.jsx)(je.oL,{value:"row",index:t,children:(0,b.jsx)(he.SM,{trigger:"right-click",action:"open",menu:(0,b.jsx)(xe.k,{uri:o}),children:(0,b.jsxs)(be.i,{uri:o,index:t,ariaRowIndex:t+1,dragMetadata:{name:r,createdBy:l?.[0].name??""},onTriggerPlay:h,isActive:p,isPlayable:u,spec:x,children:[(0,b.jsxs)(ge.I9,{ariaColIndex:0,children:[(0,b.jsx)(ge.ae,{uri:o,playAriaLabel:c._s.get("tracklist.a11y.play",r,l?.[0].name),onClick:h,isPlaying:m,isActive:p,spec:x,children:(0,b.jsx)(ge.iq,{children:(0,b.jsx)("img",{className:Te,src:d.image,alt:d.name})})}),(0,b.jsxs)(ge.yY,{children:[(0,b.jsx)(ge.Ml,{titleText:r,children:r}),(0,b.jsx)(ge.aU,{children:(0,b.jsx)(ge.ui,{artists:l,spec:x})})]})]}),(0,b.jsx)(ge.sv,{ariaColIndex:1,children:(0,b.jsx)(ge.MZ,{uri:d.uri,name:d.name,spec:x,children:d.name})}),(0,b.jsxs)(ge.sP,{ariaColIndex:2,children:[(0,b.jsx)(Ce.K,{uri:o,spec:x}),(0,b.jsx)(ge.U$,{duration:s}),(0,b.jsx)(ge.op,{spec:x,menu:(0,b.jsx)(xe.k,{uri:o,artists:l}),label:c._s.get("more.label.track",r,l?.[0].name)})]})]})})})};function Se(e,t,s){return e.reduce(((e,i,a)=>((a>0||t>0)&&e.push({type:"SPACER",id:`spacer-${e.length}`}),"MUSIC"===i.type?e.push(function(e,t,s){return{type:"MUSIC",index:t,uri:s.uri,episodeUri:e,start:s.start,stop:s.stop,duration:s.duration,name:s.track.name,artists:s.track.artists,album:s.track.album,playable:s.track.playable}}(s,a,i)):"TALK"===i.type&&e.push(function(e,t,s){return{type:"TALK",index:t,uri:e,title:s.title,subtitle:s.subtitle,start:s.start,stop:s.stop,duration:s.duration,showUri:s.show.uri,showName:s.show.name}}(s,a,i)),e)),[])}const ve=({uri:e,segmentCount:t})=>{const s=(0,pe.W)(),a=(0,i.useCallback)((async(i,a)=>{const n=Math.ceil(i/2);try{return{items:Se(await s.getSegments(e,n,a),n,e),totalLength:2*t-1}}catch(e){return{items:[],totalLength:0}}}),[t,s,e]),n=(0,i.useCallback)((t=>{switch(t.type){case"SPACER":return(0,b.jsx)("div",{className:Ie},t.id);case"MUSIC":return(0,b.jsx)(fe,{...t},`${e}-${t.index}`);case"TALK":return(0,b.jsx)(de._,{...t},`${e}-${t.index}`);default:return(0,me.E)(t)}}),[e]),r=(0,i.useCallback)((e=>({uri:"MUSIC"===e.type?e.uri:""})),[]),o=c._s.get("music_and_talk.in_this_episode");return(0,b.jsxs)("div",{children:[(0,b.jsx)(H.a,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:Pe,children:o}),(0,b.jsx)(ue.aE,{ariaLabel:o,hasHeaderRow:!0,rowPlaceholder:ue.gl,columns:[ue.yw.TITLE_AND_ARTIST,ue.yw.ALBUM_OR_SHOW,ue.yw.DURATION],renderRow:n,fetchTracks:a,resolveItem:r,limit:50,nrTracks:2*t-1,testID:"music-and-talk-tracklist"})]})};var Ee=s(80420);const Ue=({areHTMLDescriptionsEnabled:e,contentInformation:t,description:s,hasDescription:a,hasMusicAndTalkSegements:n,htmlDescription:r,onExpanded:o,onDescriptionTimestampClick:l,onTranscriptTimestampClick:d,playability:u,segmentCount:p,showUrl:y,transcript:h,uri:x,spec:g})=>{const k=(0,V.Mk)(),j=(0,i.useMemo)((()=>g.descriptionSectionFactory()),[g]),P=(0,i.useMemo)((()=>j.trackListFactory()),[j]),[T,I]=(0,i.useState)(null),f=(0,i.useCallback)((async e=>{const t=await(0,Ee.Q)(e);I(t)}),[]);(0,i.useEffect)((()=>{h&&h.length>0&&f(h[0].cdnUrl)}),[f,h]);const S=i=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(K,{hasDescription:a,contentInformation:t,onTimeStampClick:l,onExpanded:o,description:s,areHTMLDescriptionsEnabled:e,htmlDescription:r,playability:u,showHeader:i,spec:j}),n&&(0,b.jsx)(V.Ud,{spec:P,children:(0,b.jsx)(ve,{segmentCount:p,uri:x})}),y&&(0,b.jsx)(m.w,{size:"small",className:v,href:y,component:X.m,onClick:()=>{k.logInteraction(j.allEpisodesLinkFactory().hitUiNavigate({destination:y}))},children:c._s.get("episode.see_all_episodes")}),(0,b.jsx)(C,{uri:x})]}),E=h&&h?.length>0&&u.playable;return(0,b.jsx)(b.Fragment,{children:E?(0,b.jsx)(ae,{transcriptSections:T,descriptionContent:S(!1),transcriptContent:(0,b.jsx)(ce,{transcriptSections:T||[],onTimeStampClick:d,episodeUri:x}),spec:g}):S(!0)})};var we=s(97334),Ne=s(34328),Le=s(92280),Ae=s(15700);const Me="activation-trigger-mme",De=({episodeUri:e,showUri:t,isLocked:s,isPlaying:i,isPlayDisabled:a,playButtonPlayLabel:n,playButtonPauseLabel:r,onClick:o,size:c="large"})=>{const d=(0,Ae.m)();if((0,Le.A)())return(0,b.jsx)(Ne.O,{size:c,onClick:o,isPlaying:i,disabled:a,locked:s,ariaPlayLabel:n,ariaPauseLabel:r});const u=(0,b.jsx)(we.i,{showUri:t,enabled:s,renderInline:!1,children:(0,b.jsx)(Ne.O,{size:c,onClick:o,isPlaying:i,disabled:a,locked:s,ariaPlayLabel:n,ariaPauseLabel:r})});return d?(0,b.jsx)(re.s,{id:Me,targetURI:(0,l.nX)(e),fadeOut:!0,children:u}):u};var Re=s(7296),Be=s(39244),Fe=s(10928),_e=s(6912),Oe=s(94192),ze=s(72001),He=s(38356),Qe=s(86852),Ve=s(62692),We=s(84340),Xe=s(43619),qe=s(4564),Ke=s(33508),Ze=s(6948),Ge=s(48856),Je=s(5260),Ye=s(31720),$e=s(71464),et=s(96160),tt=s(83968),st=s(41436),it=s(5256),at=s(97276),nt=s(57148),rt=s(72144),ot=s(26681),lt=s(75480),ct=s(61652);const dt=({episode:e,onPlayEpisode:t,isPlaying:s,isActive:a,isFullyPlayed:n,setIsFullyPlayed:r,backgroundColor:o,isLocked:l,spec:d})=>{const{uri:u,playedState:p,contentRating:m,playability:y}=e,h=(0,V.Mk)(),x=(0,qe.OY)(),[g]=(0,it.e)(1e4,(e=>e?.item?.uri===u)),k=(0,ze.o)((e=>e?.duration)),{badges:j}=(0,nt.C)({contentRating:m?.label}),C=(0,i.useCallback)((e=>{!y.playable&&j.nineteen&&(e.stopPropagation(),x((0,Ke.AP)(u||"")))}),[u,y.playable,j.nineteen,x]),P=(0,i.useCallback)((()=>{const e=d.contextMenuButtonFactory().hitUiReveal();h.logInteraction(e)}),[h,d]),T=(0,i.useCallback)(((e,t)=>{(0,tt.cN)(t,d.downloadButtonFactory(),h,u)}),[h,d,u]),I=(0,i.useCallback)((e=>{const t=d.saveButtonFactory();h.logInteraction(e?t.hitLike({itemToBeLiked:u}):t.hitRemoveLike({itemNoLongerLiked:u}))}),[h,d,u]),f=!l&&!e.playability.playable,S=c._s.get("tracklist.a11y.play",e.name,e.podcast?.name),v=c._s.get("tracklist.a11y.pause",e.name,e.podcast?.name),U=e.podcast?.uri,w=(0,lt.u)(),N=(0,et.E)(e.uri),L=!l;return(0,b.jsxs)(rt.g,{backgroundColor:o,children:[(0,b.jsxs)(ot.i,{children:[j.nineteen&&(0,b.jsx)(st.o,{className:E,size:16}),(0,b.jsx)(at.W,{fullyPlayed:n,durationMs:a&&k?k:e.duration.milliseconds,releaseDate:wt(e.releaseDate?.isoString),resumePositionMs:p.playPositionMilliseconds,isPlaying:s,position:a&&g||void 0})]}),(0,b.jsxs)(ot.i,{children:[(0,b.jsx)("div",{onClick:C,children:(0,b.jsx)(De,{episodeUri:e.uri,showUri:U,isLocked:l,onClick:()=>{t(p.playPositionMilliseconds)},isPlaying:s,isPlayDisabled:f,playButtonPlayLabel:S,playButtonPauseLabel:v,size:w})}),(0,b.jsx)(Ze.g,{uri:e.uri,onClick:T,size:w,canDownload:L}),N?(0,b.jsx)(ct.u,{uri:e.uri,size:w}):(0,b.jsx)(Je.Q,{uri:e.uri,size:w,onClick:I}),(0,b.jsx)(Ye.p,{onShow:P,menu:(0,b.jsx)($e.y,{uri:e.uri,sharingInfo:e.sharingInfo,showUri:U,contextUri:e.uri,isPlayed:n,onMarkAsPlayed:r}),children:(0,b.jsx)(Ge.g,{label:c._s.get("more.label.context",e.name),size:w})})]})]})};s(78620);var ut=s(7300),pt=s(1044),mt=s(19408),yt=s(62688),ht=s(73372),xt=s(78232),gt=s(74796),bt=s(11732),kt=s(52520),jt=s(53048),Ct=s(24392),Pt=s(44616);const Tt=({coverArt:e,name:t})=>{const s=(0,jt.oV)(),i=s===jt.u_.SMALL||s===jt.u_.XSMALL;return(0,b.jsx)(Ct.i,{images:e,type:Xe.s.EPISODE,shape:Ct.O.ROUNDED_CORNERS,title:t,size:i?Pt.fm.SIZE_20:Pt.fm.SIZE_24,className:U})};const It=({episode:e,isFullyPlayed:t,setIsFullyPlayed:s,backgroundColor:a,spec:n})=>{const{uri:r,name:o,sharingInfo:d,playedState:u,episodeType:p,releaseDate:m,coverArt:y}=e,h=(0,V.Mk)(),x=function(e,t,s,i,a){const n=t===We.sF.Episode;return(0,kt.CC)(e,i,s,a)?(0,b.jsx)(kt.oE,{isMusicAndTalk:n}):n?c._s.get("type.showEpisode"):c._s.get("type.podcastEpisode")}(r,p||We.sF.Unknown,u.playPositionMilliseconds,wt(m?.isoString),u.state===We.QF.Completed),g=e.podcast?.uri,k=function(e){const t=(0,l.nX)(e);return`/show/${(0,l.Wq)(t?.id||"")}`}(g),j=(0,i.useCallback)((()=>{h.logInteraction(n.podcastLinkFactory().hitUiNavigate({destination:k}))}),[h,k,n]),C=e.podcast?.coverArt,P=!!(C&&C.length===y.length&&y.every(((e,t)=>e.url===C[t].url))),I=(0,jt.oV)();return(0,b.jsxs)(pt.I1,{backgroundColor:a,children:[(0,b.jsx)(yt.E,{children:(0,b.jsx)(ht.e,{text:o,dragUri:r,dragLabel:o})}),!P&&(0,b.jsx)(mt.I,{children:(0,b.jsx)(ut.U,{menu:(0,b.jsx)($e.y,{uri:r,sharingInfo:d,showUri:g,contextUri:r,isPlayed:t,onMarkAsPlayed:s}),children:(0,b.jsx)(pt.iI,{loading:"eager",name:o,images:y,placeholderType:"episode",shape:pt.OU.SQUARE})})}),(0,b.jsxs)(pt.a8,{children:[(0,b.jsx)(xt.a,{children:x}),(0,b.jsx)(ut.U,{menu:(0,b.jsx)($e.y,{uri:r,sharingInfo:d,showUri:g,contextUri:r,isPlayed:t,onMarkAsPlayed:s}),children:(0,b.jsx)(pt.on,{dragUri:r,dragLabel:o,scaleAtMinWidth:pt.Gc,className:T,children:(0,b.jsx)("span",{"data-testid":"episodeTitle",children:o})})}),(0,b.jsx)(ut.U,{menu:(0,b.jsx)($e.y,{uri:r,sharingInfo:d,showUri:g,contextUri:r,isPlayed:t,onMarkAsPlayed:s}),children:(0,b.jsxs)(bt.default,{to:k,onClick:j,className:w,children:[P&&(0,b.jsx)(Tt,{name:o,coverArt:y}),(0,b.jsx)(gt._,{className:I===jt.u_.SMALL&&P?"":f,children:(0,b.jsx)("span",{"data-testid":"showTitle",children:e.podcast?.name})})]})})]})]})};var ft=s(13932),St=s(46736),vt=s(89624);const Et=({episode:e})=>{const{uri:t,episodeType:s,description:n,htmlDescription:o,podcastSubscription:c,segmentsCount:p,podcast:m,contentInformation:y,playedState:h,coverArt:x}=e,{spec:g,logger:k}=(0,V.gp)(r.Q,{data:{uri:t}}),j=(0,ft.O)(),C=(0,i.useMemo)((()=>g.headerFactory()),[g]),T=(0,i.useMemo)((()=>g.actionBarFactory()),[g]),[I,f]=(0,i.useState)(h.state===We.QF.Completed),S=(0,_e.Q)(),v=(0,Re.w)(),E=void 0!==p&&p>0,U=(0,Le.A)(),{triggerPlay:w,togglePlay:N,isActive:L}=(0,oe.I)({uri:t,...j?{}:{pages:[{items:[{type:Xe.s.EPISODE,uri:t,uid:null,provider:null}]}]}},{featureIdentifier:"episode"}),{isActive:A,isPlaying:M}=(0,Oe.Cu)(t),D=x[0].url,R=(0,Fe.O6)(D||null),B=(0,ze.o)((e=>e?.isPaused??void 0)),F=(0,Ae.m)(),_=c.isPaywalled&&!c.isUserSubscribed,O=A||L,z=e?{name:e.name,uri:e.uri,mediaTypes:e.mediaTypes,audio:{items:e.audio.items.map((e=>({url:e.url})))}}:null,H=m?{name:m.name,uri:m.uri,trailer:m.trailer,showTypes:m.showTypes}:null,Q=(0,Be.e)(z,H),W=(0,i.useCallback)(((e,i,a,n)=>{const r=()=>{B?(n?.("resume"),S.resume()):(n?.("pause"),S.pause())};if(_)return;let o="play";if(!M||0!==e&&i||(o="pause"),v({intent:o,targetUri:t,type:"click",itemIdSuffix:e>0?"podcast-description-timestamp":"button"}),s===We.sF.Episode&&F)u.F.set((()=>({triggerId:a||Me,triggerAction:null})));else if(L&&!i)U?r():N({loggingParams:n?.()});else if(A&&!i)r();else{const t=n?.("play");U?Q({seekTo:e,loggingParams:t}):w({seekTo:e,loggingParams:t})}}),[_,M,v,t,s,F,A,L,U,B,S,N,Q,w]),X=(0,i.useCallback)((e=>{W(e,!1,void 0,(e=>{const s=g.actionBarFactory().playButtonFactory();let i;return i="pause"===e||M?s.hitPause({itemToBePaused:t}):"resume"===e||O?s.hitResume({itemToBeResumed:t}):s.hitPlay({itemToBePlayed:t}),k.logInteraction(i)}))}),[W,O,M,k,g,t]),q=(0,i.useCallback)((e=>{W(e,!0,void 0,(()=>k.logInteraction(g.descriptionSectionFactory().timestampLinkFactory().hitPlay({itemToBePlayed:t}))))}),[W,k,g,t]),K=(0,i.useCallback)(((e,t)=>{W(e,!0,t)}),[W]),Z=(0,i.useCallback)((()=>{v({intent:"expand-description",type:"click"})}),[v]),[G,J]=(0,a.k5)();(0,i.useEffect)((()=>{if(e&&!O&&G.has("t")){const t=G.get("t")||"0",s=1e3*parseInt(t,10);s<=e.duration.milliseconds&&(G.delete("t"),J(G,{replace:!0}),W(s,!0))}}),[e,W,O,G,J]);const Y=!!n||!!o,$=e.podcast?.uri,ee=(0,l.nX)($)?.toURLPath(!0);return(0,b.jsxs)("section",{"data-testid":"episode",className:P,children:[(0,b.jsx)(d.Q,{children:(0,Ve.wt)({episodeOrChapterName:e.name,showOrAudiobookName:e.podcast?.name??"",type:"Podcast"})}),(0,b.jsx)(It,{episode:e,isFullyPlayed:I,setIsFullyPlayed:f,backgroundColor:R,spec:C}),(0,b.jsx)(dt,{episode:e,onPlayEpisode:X,isPlaying:M,isActive:O,isFullyPlayed:I,setIsFullyPlayed:f,backgroundColor:R,isLocked:_,spec:T}),(0,b.jsx)("div",{className:"contentSpacing",children:(0,b.jsx)(Ue,{transcript:e.transcript,hasDescription:Y,contentInformation:y,onDescriptionTimestampClick:q,onTranscriptTimestampClick:K,onExpanded:Z,description:e.description,areHTMLDescriptionsEnabled:!0,htmlDescription:e.htmlDescription,playability:e.playability,hasMusicAndTalkSegements:E,segmentCount:p,uri:e.uri,showUrl:ee,spec:g})})]})},Ut=i.memo((function(){const{episodeId:e=""}=(0,n.W4)(),t=(0,l.qW)(e).toURI(),s=(0,He.a)(t);return s?.isError||!s?.episodeOrChapter?(0,b.jsx)(p.K,{hasError:s?.isError||!1,errorMessage:c._s.get("error.not_found.title.podcast")}):(0,Qe.c)(s.episodeOrChapter)?(0,b.jsx)(St.InstrumentedRedirect,{to:(0,l.nX)(s.episodeOrChapter.book?.uri).toURLPath(!0)}):(0,b.jsx)(i.Suspense,{fallback:null,children:(0,b.jsx)(vt.I,{pageId:o.eA.PODCAST_EPISODE,uri:t,children:(0,b.jsx)(Et,{episode:s.episodeOrChapter})})})}));function wt(e){return e?.replace(/T.*/,"")||""}}}]);
//# sourceMappingURL=xpui-routes-episode.js.map