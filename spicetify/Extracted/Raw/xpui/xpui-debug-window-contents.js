"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2876],{94986:(e,t,s)=>{s.d(t,{DebugWindowContents:()=>ia});s(73952),s(97296),s(41260);var n=s(96651),a=s(10124),r=s.n(a),l=s(13552),i=s(74684),o=s(96752),c=s(78360),d=s(49232),u=(s(99400),s(36836)),m=s(68792),h=s(56508);const p=(0,m.A)();window.abba={get:async function(e,t){const s=new u.ae((0,h.Y)()),n=(await s.getValues(u.AH.fromPartial({}))).pairs;let a={},r="";if(n.abbaOverrides?r=n.abbaOverrides:n.abbaoverrides&&(r=n.abbaoverrides),r)try{a=JSON.parse(r)}catch(e){console.error(`error parsing value=${r}, error=${e}`)}if(Object.prototype.hasOwnProperty.call(a,e))return console.warn(`Abba: Override for ${e} : ${a[e]}`),void setTimeout((()=>t(null,a[e])),0);p.post("sp://abba/v1/flags",{flags:[e]}).then((s=>{const{flags:n=[]}=s,a=n[0]&&n[0].featureName===e&&n[0].cell;t(null,a||null)})).catch((e=>{t(e)}))},getAll:function(e){console.warn("Abba:getAll should only be used by TA tests for logging purposes."),p.get("sp://abba/v1/all_flags").then((t=>{const{flags:s=[]}=t,n=s.reduce(((e,t)=>(e[t.featureName]=t.cell,e)),{});e(null,JSON.stringify(n,null,2))})).catch((t=>{e(t)}))},getRequestedFlagNames:function(e){p.get("sp://abba/v1/requested_flag_names").then((t=>{e(null,JSON.stringify(t.sort(),null,2))})).catch((t=>{e(t)}))}};var v=s(94440);const x="rh7v8PDNC0ke2OkkyRhk",j="L6pjHHt_x4tfksfQ4Pem",g="H0jIvFjLqNoS1jwvMR82",f="UZcGKrwobJ2tS5Ka06pD";var y=s(2488);const b=()=>{const[e,t]=(0,n.useState)(60),[s,a]=(0,n.useState)("stream"),[r,l]=(0,n.useState)("");return(0,y.jsxs)("div",{className:x,children:[(0,y.jsxs)("div",{className:j,children:[(0,y.jsx)("p",{children:"Stream time (in seconds)"}),(0,y.jsx)("input",{className:g,type:"text",value:e,onChange:e=>{const s=e.target.value;t(parseInt(s,10))}}),(0,y.jsx)("button",{className:f,onClick:()=>{v.c.increaseStreamTime(e)},children:"Add time"}),(0,y.jsx)("button",{className:f,onClick:()=>{v.c.increaseStreamTime(1200)},children:"Add 20 minutes"})]}),(0,y.jsxs)("div",{className:j,children:[(0,y.jsx)("p",{children:"Override Country"}),(0,y.jsxs)("select",{value:r,onBlur:()=>{},onChange:e=>{l(e.target.value)},children:[(0,y.jsx)("option",{value:"US",children:"USA"}),(0,y.jsx)("option",{value:"UK",children:"United Kingdom"}),(0,y.jsx)("option",{value:"JP",children:"Japan"}),(0,y.jsx)("option",{value:"BR",children:"Brasil"}),(0,y.jsx)("option",{value:"AU",children:"Australia"}),(0,y.jsx)("option",{value:"SE",children:"Sweden"}),(0,y.jsx)("option",{value:"",children:"Clear Override"})]}),(0,y.jsx)("button",{className:f,onClick:()=>{v.c.overrideCountry(r)},children:"Override"})]}),(0,y.jsxs)("div",{className:j,children:[(0,y.jsx)("p",{children:"Clear ad in slot"}),(0,y.jsxs)("select",{value:s,onBlur:()=>{},onChange:e=>{a(e.target.value)},children:[(0,y.jsx)("option",{value:"stream",children:"STREAM"}),(0,y.jsx)("option",{value:"billboard",children:"BILLBOARD OVERLAY"}),(0,y.jsx)("option",{value:"promotedsong",children:"PROMOTED SONG"}),(0,y.jsx)("option",{value:"hpto",children:"HPTO"}),(0,y.jsx)("option",{value:"leaderboard",children:"LEADERBOARD"})]}),(0,y.jsx)("button",{className:f,onClick:()=>{v.c.clearSlot(s)},children:"Clear slot"}),(0,y.jsx)("p",{children:"Trigger ad in slot"}),(0,y.jsxs)("select",{value:s,onBlur:()=>{},onChange:e=>{a(e.target.value)},children:[(0,y.jsx)("option",{value:"stream",children:"STREAM"}),(0,y.jsx)("option",{value:"billboard",children:"BILLBOARD OVERLAY"}),(0,y.jsx)("option",{value:"promotedsong",children:"PROMOTED SONG"}),(0,y.jsx)("option",{value:"hpto",children:"HPTO"}),(0,y.jsx)("option",{value:"leaderboard",children:"LEADERBOARD"})]}),(0,y.jsx)("button",{className:f,onClick:()=>{v.c.triggerSlot(s)},children:"Trigger slot"})]}),(0,y.jsx)("button",{className:f,onClick:()=>{v.c.queueVideoAd()},children:"Queue Video Ad"})]})};var N=s(4564),w=s(8340),C=s(7440),S=s(87712);const O="scaF2wOGtuiU5UBKJrGa",A="PjVBb0nlrIUasTrrFgCx",k="MjtdwpkzFFhhmzeyzOy2",I="uVClWczmJLRR5jfAENGP",E=[{label:"Production",value:"prod"},{label:"Development",value:"dev"}],R=()=>{const e=(0,N.OY)(),t=(0,N.w1)((e=>e.inAppMessaging.env)),s=(0,N.w1)((e=>e.inAppMessaging.message)),[a,r]=(0,n.useState)(""),[l,i]=(0,n.useState)(""),[o,c]=(0,n.useState)(!1);(0,n.useEffect)((()=>{s&&o&&c(!1)}),[s,o]);const d=!s&&o;return(0,y.jsx)("div",{className:O,children:(0,y.jsxs)("div",{className:A,children:[(0,y.jsx)("div",{children:(0,y.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingEnv",children:"Mode (endpoint):"})}),(0,y.jsx)(C.W,{dir:"auto",value:t,id:"desktop.settings.inAppMessagingEnv",onSelect:function(t){"prod"!==t&&"dev"!==t||e((0,S.aW)(t))},children:E.map((({label:e,value:t})=>(0,y.jsx)("option",{value:t,children:e},t)))}),(0,y.jsx)("div",{children:(0,y.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingCreativeId",children:"Creative Id:"})}),(0,y.jsx)("div",{children:(0,y.jsx)("input",{className:k,placeholder:"(eg. 12123434)",id:"desktop.settings.inAppMessagingCreativeId",name:"Creative Id",type:"text",value:a,onChange:function(e){r(e.target.value),c(!1)}})}),(0,y.jsx)("div",{children:(0,y.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingAppUri",children:"URI for Dynamic Content (optional):"})}),(0,y.jsx)("div",{children:(0,y.jsx)("input",{className:k,placeholder:"(eg. spotify:artist:123)",id:"desktop.settings.inAppMessagingAppUri",name:"App Uri",type:"text",value:l,onChange:function(e){i(e.target.value),c(!1)}})}),(0,y.jsx)("div",{}),(0,y.jsx)("div",{}),(0,y.jsx)("div",{children:(0,y.jsx)(w.g,{colorSet:"invertedLight",onClick:function(t){t.preventDefault(),e((0,S.Yz)(a,l)),c(!1),window.setTimeout((()=>{c(!0)}),1e3)},children:"Get Preview"})}),d&&(0,y.jsx)("div",{className:I,children:"No Messsage found"})]})})};var P=s(56616),T=s(31360),D=s(86477),L=s(96768),_=s(8992),M=s(116),U=s(85828),V=s(15124),z=s(95660),B=s(87056),F=s(48072),J=s(86540),H=s(3044);const q={tableContainer:"Oq75N3dIIFwLLxqhrTGw",collapsed:"Y1mIc_urBEFpW0IaPvTg",tableTitle:"A3f7b8Ykb8QaTHv9e6DV",tableToggle:"cN2yet80TrzvhUOVyNyJ",table:"w3RCrOKYvq_0htC6zhzd",tableHead:"viEusJyR3z4ijG1P7ji6",rowHeader:"qM20Y4j0mkUnh1qSFmb3",rowName:"PMJ_WnnsgiBd1d9yFIGf",rowValue:"zyDs7IcK71IYTnn2YfNJ",rowActions:"ofGd7aEjrX3mgVu0DbO8",propertyDescription:"WoXbezM6uoI1BhVP_Huq",rowAction:"zmgvPs6K0W0mLJ3xX1Uv",rowControl:"dPVfdc5bb3lNG2ybyp2a"},G=({title:e,titleExtra:t,rows:s,cols:a,canCollapse:l=!1,isCollapsedInitially:i=!1,renderHead:o=!1,renderRow:c})=>{const[d,u]=(0,n.useState)(!!l&&i);return(0,y.jsxs)(z._,{className:r()(q.tableContainer,{[q.collapsed]:d}),children:[e?(0,y.jsxs)("div",{className:q.tableTitle,onClick:()=>{l&&u(!d)},children:[l?(0,y.jsx)("button",{className:q.tableToggle,children:d?(0,y.jsx)(B.U,{size:"small"}):(0,y.jsx)(F.o,{size:"small"})}):null,(0,y.jsx)("h3",{children:e}),t]}):null,(0,y.jsxs)(J.o,{className:q.table,children:[(0,y.jsx)("colgroup",{children:a.map(((e,t)=>(0,y.jsx)("col",{width:e.width,className:e.className},t)))}),o?(0,y.jsx)("thead",{children:(0,y.jsx)("tr",{children:a.map(((e,t)=>(0,y.jsx)(H.q,{className:q.tableHead,children:e.name},t)))})}):null,(0,y.jsx)("tbody",{children:Array.isArray(s)?s.map((e=>c?c(e,a):null)):s})]})]})};function W(){const e=(0,P.Oi)();return(0,n.useMemo)((()=>e?new e.Function("value","if (value) { navigator.clipboard.writeText(value) }"):()=>{}),[e])}const Y="ipHwQurO5v9UGSq71YmY",K=()=>{const e=W(),t=(0,V.q)(),s=t.token?.accessToken??"Not authorized",n=new Date(t.token?.accessTokenExpirationTimestampMs??0);return(0,y.jsx)("div",{className:Y,children:(0,y.jsx)(G,{title:"Authorization",rows:[{name:"Token",value:s},{name:"Expires At",value:n.toLocaleString()},{name:"Retry Attempt",value:t.retryAttempt?.toString()??"N/A"},{name:"Retry At",value:t.retryAt?.toLocaleString()??"N/A"}],cols:[{width:"30%"},{},{width:"16px"}],renderRow:({name:t,value:s})=>(0,y.jsxs)(_.C,{hover:!0,children:[(0,y.jsx)(M.y,{className:q.rowName,highlight:!0,children:t}),(0,y.jsx)(M.y,{className:q.rowValue,truncate:!0,align:"right",children:s}),(0,y.jsx)(M.y,{className:q.rowActions,children:(0,y.jsx)("button",{className:q.rowAction,onClick:()=>e(s),children:(0,y.jsx)(U.I,{size:"small"})})})]})})})};var $=s(4957);const Q="WT_NZ6JEU_dK03UPUjQm",X=({name:e,value:t})=>{const s=W();return(0,y.jsxs)(_.C,{hover:!0,children:[(0,y.jsx)(M.y,{className:q.rowName,highlight:!0,children:e}),(0,y.jsx)(M.y,{className:q.rowValue,truncate:!0,align:"right",children:t}),(0,y.jsx)(M.y,{className:q.rowActions,children:(0,y.jsx)("button",{className:q.rowAction,onClick:()=>s(t),children:(0,y.jsx)(U.I,{size:"small"})})})]})},Z=({device:e})=>(0,y.jsx)(G,{title:e.name,rows:[{name:"Device",value:e?.name},{name:"Identifier",value:e.id},{name:"Type",value:e.type},{name:"Group",value:e.isGroup.toString()},{name:"Local",value:e.isLocal.toString()},{name:"Active",value:e.isActive.toString()},{name:"Connecting",value:e.isConnecting.toString()},{name:"Disabled",value:e.isDisabled.toString()},{name:"Volume",value:e.volume.toString()},{name:"HiFi",value:e.hifiSupport.deviceSupported.toString()}],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:e=>(0,y.jsx)(X,{...e}),canCollapse:!0,isCollapsedInitially:!0}),ee=()=>{const e=(0,$.c)(),t=e.devices;return(0,y.jsxs)("div",{className:Q,children:[(0,y.jsx)(G,{title:"Connect",rows:(0,y.jsx)(X,{name:"Status",value:e.connectionStatus}),cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}]}),t.map((e=>(0,y.jsx)(Z,{device:e},e.id)))]})};var te=s(8004),se=s(49612),ne=s(6528),ae=s(63176),re=s(13396),le=s(36216),ie=s(5976),oe=s(60391),ce=s(11472),de=s(57636),ue=s(83560),me=s(16244),he=s(47428),pe=s(1952),ve=s(97936),xe=s(58024),je=s(76008),ge=s(12352);const fe=({view:e,className:t})=>{const s=(0,n.useCallback)((t=>{(0,me.ik)(e,t.nativeEvent,"search-panel")&&t.preventDefault()}),[e]),a=(0,n.useCallback)((t=>{e.dispatch({effects:ce.qq.of(new ce.UH({search:t}))})}),[e]),r=(0,n.useCallback)((()=>{(0,ce.kF)(e)}),[e]),l=(0,n.useRef)(null);return(0,n.useEffect)((()=>{e.dispatch({effects:ce.qq.of(new ce.UH({search:""}))}),l.current?.select()}),[e]),(0,y.jsx)("div",{className:t,children:(0,y.jsx)(ve.U,{iconLeading:(0,y.jsx)(xe.O,{}),iconTrailing:(0,y.jsx)(je.K,{onClick:()=>r()}),children:(0,y.jsx)(ge.g,{ref:l,onKeyDown:e=>s(e),onChange:e=>a(e.currentTarget.value)})})})};var ye=s(74432);s(91372);function be(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Ne(e,t,s=[]){let n=0;for(const a of Object.getOwnPropertyNames(e))t(e,a,s)?n++:be(e[a])&&(n+=Ne(e[a],t,[a,...s]));return n}function we(e,t){return void 0===e[t]&&(e[t]={},!0)}function Ce(e,t){return!(!Array.isArray(e[t])||0!==e[t].length)&&(e[t]=[{}],!0)}function Se(e,t){return!(!Array.isArray(e[t])||1!==e[t].length||!be(e[t][0])||0!==Object.getOwnPropertyNames(e[t][0]).length)&&(e[t]=[],!0)}function Oe(e,t){return!(!be(e[t])||0!==Object.getOwnPropertyNames(e[t]).length)&&(e[t]=void 0,!0)}function Ae(e,t,s){return!(!s.some((e=>/policy/i.test(e)))||!1!==e[t])&&(delete e[t],!0)}function ke(e,t,s={}){let n=0;do{n=Ne(t=e.fromPartial(t),we),n+=Ne(t,Ce)}while(n>0);return Ne(t,Oe),Ne(t,Se),!0===s.cleanPolicies&&Ne(t,Ae),t}const Ie=["spotify:artist:5INjqkS1o8h1imAzPqGZBb","spotify:album:79dL7FLiJFOO0EoehUHQBv","spotify:track:6K4t31amVTZDgR3sKmwUJJ","spotify:show:1OLcQdw2PFDPG1jo3s0wbp","spotify:episode:0VpyIy8Srg5IKQdRAbDDH1"],Ee=Object.values(ye.k1).filter((e=>"string"==typeof e)).map((e=>({name:e,value:(0,ye.IT)(e)})));function Re(e,t){let s=0;const n=[];if(t.type.is("["))t.parent();else if(t.type.is("Property")){if(!t.firstChild())return[];n.unshift(e.sliceDoc(t.from+1,t.to-1)),t.parent()}for(;t.parent()&&!t.type.is("JsonText");){if(t.type.is("Array"))n.unshift("[]");else if(t.type.is("Property")){if(!t.firstChild())break;n.unshift(e.sliceDoc(t.from+1,t.to-1)),t.parent()}if(++s>1e4)break}return n}function Pe(e,t){for(const s of t)if("[]"===s){if(!Array.isArray(e)||0===e.length)return null;e=e[0]}else Object.hasOwn(e,s)&&(e=e[s]);return e}function Te(e={}){return(0,ae.uA)({activateOnTyping:!1,override:[t=>{const s=(0,ie.Ar)(t.state).cursorAt(t.pos,-1);if(s.type.is("{")||s.type.is("Object")){const n=Re(t.state,s),a=function(e,t){return Object.getOwnPropertyNames(Pe(e,t))}(e,n);return{from:t.pos,options:a.map((e=>({type:"text",label:e,apply:`"${e}"`})))}}if(s.type.is("[")||s.type.is("Array")){const n=Re(t.state,s),a=Pe(e,n);return Array.isArray(a)&&be(a[0])?{from:t.pos,options:[{type:"text",label:"{ ... }",apply:JSON.stringify(a[0]),boost:1},{type:"text",label:"{}",boost:0}]}:/extension/i.test(n[n.length-1])?{from:t.pos,options:Ee.map((({name:e,value:t})=>({type:"constant",label:e,apply:`${t}`})))}:{from:t.pos,options:Ie.map((e=>({type:"text",label:`"${e}"`})))}}if(s.type.is("Property")){const n=Re(t.state,s),a=function(e,t){const s=Pe(e,t);return void 0===s?"null":Array.isArray(s)?"array":typeof s}(e,n),r=[];if("boolean"===a)r.push({type:"keyword",label:"true",boost:1}),r.push({type:"keyword",label:"false",boost:0});else if("null"===a)r.push({type:"keyword",label:"null",boost:1}),r.push({label:"{}",apply:"{}",boost:0});else if("string"===a){r.push({label:'""'});for(const e of Ie)r.push({label:`"${e}"`})}else if("number"===a)if(/extension/i.test(n[n.length-1]))for(const{name:e,value:t}of Ee)r.push({type:"constant",label:e,apply:`${t}`});else r.push({label:"0",apply:"0"}),r.push({label:"10",apply:"10"}),r.push({label:"100",apply:"100"});else"object"===a?r.push({label:"{}",apply:"{}"}):"array"===a&&r.push({label:"[]",apply:"[]"});return{from:t.pos,options:r}}return null}]})}const De=[ue.En,(0,ie.ML)(ue.Gu),(0,me.i8)(),(0,me.MM)(),(0,me.YT)(),(0,me.K4)(),de.E7.allowMultipleSelections.of(!0),me.EN.of([...re.Yh,...re.Yt,...ae.Ul,...ce.An,re.qK]),(0,ce.kv)({top:!0,createPanel:e=>{const t=e.dom.ownerDocument.createElement("div");return(0,he.C)(t).render((0,y.jsx)(pe.Ko,{target:e.dom.ownerDocument.head,children:(0,y.jsx)(fe,{view:e})})),{dom:t,top:!0}}}),(0,ie.KY)(),(0,le.qS)()],Le=[...De,(0,re.OQ)(),(0,oe.ie)((0,le.iy)()),(0,ie.cH)(),(0,ie.IZ)(),(0,ae.Gi)()],_e=[...De,de.E7.readOnly.of(!0)],Me=new de.Q9,Ue=({readOnly:e=!1,onChange:t,onDiagnostics:s,editorRef:a,className:r})=>{const l=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const n=new me.yI({parent:l.current,extensions:[...e?_e:Le,Me.of(Te({})),me.yI.updateListener.of((e=>{e.docChanged&&t?.(e.state.doc.toString());for(const t of e.transactions)for(const e of t.effects)e.is(oe.cx)&&s?.(e.value)}))]});return void 0!==a&&(a.current=n),()=>{n.destroy()}}),[e,t,s,a]),(0,y.jsx)("div",{className:r,ref:l})};function Ve({readOnly:e,className:t,onChange:s,onDiagnostics:a}){const r=(0,n.useRef)(),l=(0,n.useRef)(s),i=(0,n.useRef)(a);l.current=s,i.current=a;const o=(0,n.useCallback)((()=>{const e=r.current;return void 0!==e?e.state.doc.toString():null}),[]),c=(0,n.useCallback)((e=>{const t=r.current;void 0!==t&&t.dispatch({changes:{from:0,to:t.state.doc.length,insert:e}})}),[]),d=(0,n.useCallback)((e=>{const t=r.current;void 0!==t&&t.dispatch({effects:Me.reconfigure(Te(e))})}),[]),u=(0,n.useCallback)((e=>{l?.current?.(e)}),[]),m=(0,n.useCallback)((e=>{i?.current?.(e)}),[]);return{Editor:(0,y.jsx)(Ue,{editorRef:r,readOnly:e,className:t,onChange:u,onDiagnostics:m}),getContent:o,setContent:c,setReference:d}}var ze=s(42504),Be=s(65208),Fe=s(87691),Je=s(27080),He=s(71368),qe=s(73784),Ge=s(97052),We=s(52172),Ye=s(38360),Ke=s(52876),$e=s(56820),Qe=s(28764),Xe=s(66136),Ze=s(28204),et=s(26954),tt=s(63568),st=s(98348),nt=s(93440),at=s(11156),rt=s(81528),lt=s(91398),it=s(30832),ot=s(81812),ct=s(44132),dt=s(42488),ut=s(23208),mt=s(25488),ht=s(80760),pt=s(56036),vt=s(18944),xt=s(48620),jt=s(24252),gt=s(52264),ft=s(704),yt=s(78196),bt=s(61676),Nt=s(96973),wt=s(4584),Ct=s(77712),St=s(55028),Ot=s(74788),At=s(64620),kt=s(22956);const It=[ze.k,Be.wL,Fe.Ex,Je.gq,He.oR,qe.WO,Ge.ic,We.YP,Ye.w1,Ke.eG,$e.qK,Qe.ii,Xe.oj,Ze.SW,et.Wu,tt.W,st.WI,nt.MD,at.CS,rt.aU,lt.Yz,it.SE,ot.y_,ct.mU,ct.wD,ct.sh,dt.uu,ut.eC,mt.Q1,ht.sH,pt.Q3,u.ae,vt.wn,xt.ei,jt.Ib,gt.aw,ft.or,yt.U,bt.A,Nt.M,wt.gH,Ct.W2,ye.ym,St.OA,Ot.mug,Ot.qcp,Ot.OBl,Ot.YNV,Ot.G45,At.yN,kt.K2].concat([]);function Et(e){return JSON.parse(e,((e,t)=>null===t?void 0:t))}function Rt(e){return JSON.stringify(e,((e,t)=>void 0===t?null:"bigint"==typeof t?t.toString():t),2)}function Pt(){const{serviceMap:e,serviceNames:t}=(0,n.useMemo)((()=>{const e=function(e){return It.sort(((e,t)=>e.SERVICE_ID.localeCompare(t.SERVICE_ID))).reduce(((t,s)=>(t[s.SERVICE_ID]={methods:s.METHODS,client:new s(e)},t)),{})}((0,h.Y)());return{serviceMap:e,serviceNames:Object.keys(e)}}),[]),[s,a]=(0,n.useState)(t[0]),r=e[s].methods,l=e[s].client,i=Object.keys(r),[o,c]=(0,n.useState)(i[0]),d=r[o].requestType,u=r[o].isStreaming,m=l[o],p=(0,n.useCallback)(((t,s)=>{const n=t??Object.keys(e)[0],r=e[n].methods,l=s??Object.keys(r)[0];a(n),c(l)}),[e,a,c]),v=(0,n.useMemo)((()=>Rt(ke(d,{},{cleanPolicies:!0}))),[d]),x=(0,n.useMemo)((()=>ke(d,{})),[d]),j=(0,n.useCallback)((e=>{try{return Rt(ke(d,Et(e),{cleanPolicies:!0}))}catch(t){return e}}),[d]),g=(0,n.useCallback)((async(e,t)=>{const s=d.fromPartial(Et(e));if(u)return m.call(l,s,(e=>{t(Rt(e))}));const n=await m.call(l,s);return t(Rt(n)),null}),[l,u,d,m]);return{services:t,methods:i,service:s,method:o,client:l,message:d,call:g,jsonReference:x,jsonString:v,prettify:j,update:p}}const Tt="gbcTqus4yhTHlzm2IETQ",Dt="EHmr8C7kxkrYGyC7o3JO",Lt="JAHwAteJRJtwtczneeVN",_t="nqOWuGeqweWJBgtLeohb",Mt="tU2LEDqdrQPq3oDlpEOv",Ut="gkuNSEZ7uAKsay3cfbMR",Vt="nbQvEMLCjLpv4xnKSOIt",zt=()=>{const{services:e,methods:t,service:s,method:a,call:r,jsonReference:l,jsonString:i,prettify:o,update:c}=Pt(),d=(0,n.useRef)(null),[u,m]=(0,n.useState)(!1),[h,p]=(0,n.useState)([]),v=h.length>0,{Editor:x,setContent:j,getContent:g,setReference:f}=Ve({className:Vt,onDiagnostics:e=>p(e)}),{Editor:b,setContent:N}=Ve({className:Vt,readOnly:!0}),w=(0,n.useCallback)((()=>{null!==d.current&&(d.current.cancel(),d.current=null,m(!1))}),[m]),C=(0,n.useCallback)((async()=>{w();const e=await r(g()??"{}",(e=>{N(e)}));null!==e&&(d.current=e,m(!0))}),[r,w,g,N]),S=(0,n.useCallback)((async()=>{const e=o(g()??"{}");j(e)}),[o,g,j]);(0,n.useEffect)((()=>{f(l),j(i),N(""),w()}),[f,l,j,i,N,w]);const O=[{label:"Core",options:e.filter((e=>-1===e.indexOf("desktop"))).map((e=>({label:e,value:e})))},{label:"Desktop",options:e.filter((e=>-1!==e.indexOf("desktop"))).map((e=>({label:e,value:e})))}],A=t.map((e=>({label:e,value:e})));return(0,y.jsxs)("div",{className:Tt,children:[(0,y.jsxs)("div",{className:Dt,children:[(0,y.jsx)(te.a,{as:"p",variant:"bodyMedium",children:"Endpoint"}),(0,y.jsx)(ne.cp,{value:{label:s,value:s},options:O,onChange:e=>{c(e?.value??void 0)},styles:{menuList:t=>({...t,minHeight:`min(60vh, ${50*e.length}px)`})}}),(0,y.jsx)(ne.cp,{value:{label:a,value:a},options:A,onChange:e=>c(s,e?.value??void 0),styles:{menuList:e=>({...e,minHeight:`min(60vh, ${50*t.length}px)`})}})]}),(0,y.jsxs)("div",{className:Lt,children:[(0,y.jsxs)("div",{className:Mt,children:[(0,y.jsx)(te.a,{as:"p",variant:"bodyMedium",children:"Request"}),(0,y.jsx)(se.w,{className:Ut,size:"small",disabled:v,onClick:S,children:"Prettify"}),(0,y.jsx)(se.w,{className:Ut,size:"small",disabled:v,onClick:u?w:C,children:u?"Cancel":"Send"})]}),x]}),(0,y.jsxs)("div",{className:_t,children:[(0,y.jsx)("div",{className:Mt,children:(0,y.jsx)(te.a,{as:"p",variant:"bodyMedium",children:"Response"})}),b]})]})};var Bt=s(32976),Ft=s(73628),Jt=s(38272),Ht=s(23304),qt=s(40968),Gt=s(6356),Wt=s(77264),Yt=s(76224),Kt=s(2732),$t=s(29476);var Qt=s(9852),Xt=s(61696);var Zt=s(6912),es=s(72001),ts=s(19872);const ss="bFE0oGWgZ40KJHjcBj12",ns="nzbIAA5MqUSD0hIKUuHg",as="hksYFxAm48XqAEbpcukQ",rs="UnO1u4VJB0B6pTtqWh1n",ls="xlSWVFMQmYmRK34yiPOA",is="oKgZ0g8at59jN8nf8Bee",os="Nodut0kqaRIc93iGqbbP",cs="dUIum8rPR6Msq9wot5ky",ds="QHO5pYBkfWBn6qyAh9dp";const us=({size:e,ranges:t})=>{if(0===t.length)return(0,y.jsx)("div",{className:as,children:(0,y.jsx)("div",{className:rs})});const s=`linear-gradient(90deg, ${t.map((t=>{const s=100*t.fromByte/e,n=100*t.toByte/e;return`transparent ${s}%, ${Bt.eM} ${s}%, ${Bt.eM} ${n}%, transparent ${n}%`})).join(", ")})`;return(0,y.jsx)("div",{className:as,children:(0,y.jsx)("div",{className:rs,style:{background:s}})})},ms=({item:e,file:t})=>{const s=(0,Zt.Q)(),n=W(),a=(function(e){let t,s,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)s=e.charCodeAt(t),n=(n<<5)-n+s,n|=0;return n}(`${t.format}${t.bitrate}${t.formatEnum}`)+180)%360;return(0,y.jsxs)(_.C,{hover:!0,children:[(0,y.jsx)(M.y,{className:q.rowName,highlight:!0,children:(0,y.jsxs)("div",{className:ls,style:{background:`linear-gradient(180deg, hsl(${a}, 60%, 30%), hsl(${a}, 40%, 70%))`},children:[(0,y.jsx)("span",{className:is,children:t.format}),(0,y.jsx)("span",{className:os,children:hs(t)})]})}),(0,y.jsx)(M.y,{className:q.rowValue,truncate:!0,children:(0,y.jsxs)("div",{className:ns,children:[t.fileId,(0,y.jsx)(us,{size:t.byteSize,ranges:t.byteRanges})]})}),(0,y.jsxs)(M.y,{className:q.rowActions,children:[(0,y.jsx)("button",{className:q.rowAction,onClick:()=>{s.play({uri:"spotify:internal:fileplayback",pages:[{items:[{...e,provider:"context",metadata:{"media.manifest":JSON.stringify({id:t.fileId,bitrate:t.bitrate,format:t.formatEnum,encryption:"aes"})}}]}]},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,y.jsx)(Ft.Y,{size:"small"})}),(0,y.jsx)("button",{className:q.rowAction,onClick:()=>{n(t.fileId)},children:(0,y.jsx)(U.I,{size:"small"})})]})]})};function hs(e){switch(e.formatEnum){case 16:return"16-bit";case 22:return"24-bit";default:return ps(e.bitrate,1e3,"k")}}function ps(e=void 0,t=1,s=""){if(void 0!==e&&-1!==e)return"string"==typeof e&&(e=Number.parseInt(e,10)),`${(Number(e)/t).toLocaleString("en",{maximumFractionDigits:10})}${s}`}function vs(e=void 0){return!0===e?"Yes":"No"}function xs(e=void 0){if(void 0!==e)return(0,ts.A)(Number(e))}const js=({name:e,value:t})=>{const s=W();return(0,y.jsxs)(_.C,{hover:!0,children:[(0,y.jsx)(M.y,{className:q.rowName,highlight:!0,children:e}),(0,y.jsx)(M.y,{className:q.rowValue,truncate:!0,align:"right",children:t}),(0,y.jsx)(M.y,{className:q.rowActions,children:(0,y.jsx)("button",{className:q.rowAction,onClick:()=>s(t),children:(0,y.jsx)(U.I,{size:"small"})})})]})},gs=({terminalType:e,transportType:t,isDefaultDevice:s})=>{const n=s?"essentialPositive":"essentialBase",a=[];switch(e){case ft.G0.TERMINAL_TYPE_SPEAKERS:a.push((0,y.jsx)(Jt.S,{semanticColor:n,size:"small"}));break;case ft.G0.TERMINAL_TYPE_HEADPHONES:a.push((0,y.jsx)(Ht.o,{semanticColor:n,size:"small"}));break;case ft.G0.TERMINAL_TYPE_DISPLAY_DEVICE:a.push((0,y.jsx)(qt.g,{semanticColor:n,size:"small"}))}switch(t){case ft.uW.TRANSPORT_TYPE_BUILT_IN:case ft.uW.TRANSPORT_TYPE_VIRTUAL:break;case ft.uW.TRANSPORT_TYPE_USB:a.push((0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",style:{position:"relative",top:"3px",width:16,height:16,fill:(0,Gt.M9)(n)},children:(0,y.jsx)("path",{d:"m7.792.312-1.533 2.3A.25.25 0 0 0 6.467 3H7.5v7.319a2.5 2.5 0 0 0-.515-.298L5.909 9.56A1.5 1.5 0 0 1 5 8.18v-.266a1.5 1.5 0 1 0-1 0v.266a2.5 2.5 0 0 0 1.515 2.298l1.076.461a1.5 1.5 0 0 1 .888 1.129 2.001 2.001 0 1 0 1.021-.006v-.902a1.5 1.5 0 0 1 .756-1.303l1.484-.848A2.5 2.5 0 0 0 11.995 7h.755a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h.741a1.5 1.5 0 0 1-.747 1.142L8.76 8.99a2.584 2.584 0 0 0-.26.17V3h1.033a.25.25 0 0 0 .208-.389L8.208.312a.25.25 0 0 0-.416 0Z"})}));break;case ft.uW.TRANSPORT_TYPE_BLUETOOTH:a.push((0,y.jsx)(Wt.Q,{semanticColor:n,size:"small"}));break;case ft.uW.TRANSPORT_TYPE_DISPLAY_DEVICE:a.push((0,y.jsx)(qt.g,{semanticColor:n,size:"small"}))}return 0===a.length&&a.push((0,y.jsx)(Yt.K,{semanticColor:n,size:"small"})),(0,y.jsx)(y.Fragment,{children:a})},fs=({name:e,id:t,isDefaultDevice:s,terminalType:n,terminalTypeRaw:a,transportType:r,transportTypeRaw:l})=>{const i=W();return(0,y.jsxs)(_.C,{hover:!0,children:[(0,y.jsxs)(M.y,{className:q.rowName,highlight:!0,children:[(0,y.jsx)(gs,{terminalType:n,transportType:r,isDefaultDevice:s})," ",e]}),(0,y.jsx)(M.y,{className:q.rowValue,truncate:!0,children:t}),(0,y.jsx)(M.y,{className:q.rowValue,children:a}),(0,y.jsx)(M.y,{className:q.rowValue,children:l}),(0,y.jsx)(M.y,{className:q.rowActions,children:(0,y.jsx)("button",{className:q.rowAction,onClick:()=>i(t),children:(0,y.jsx)(U.I,{size:"small"})})})]})},ys=()=>{const e=(0,es.o)((e=>e?.item??null)),t=function(){const[e,t]=(0,n.useState)(null),s=(0,$t.Q)();return(0,n.useEffect)((()=>{let e=!0;return s.getPlaybackInfo().then((s=>{e&&t(s)})),()=>{e=!1}}),[s]),(0,Xt.I)(Qt.k.INFO,(({data:e})=>{t(e)})),e}(),s=function(e=null,t=null){const[s,a]=(0,n.useState)(null),r=(0,$t.Q)();return(0,n.useEffect)((()=>{let s=!0,n=null;if(null===e)a(null);else{const l=async()=>{const t=await r.getFiles(e);s&&a(t)};l(),null!==t&&(n=window.setInterval(l,t))}return()=>{s=!1,null!==n&&window.clearInterval(n)}}),[r,e,t]),s}(e?.uri,500),a=(0,Zt.Q)(),[r,l]=(0,n.useState)([]);return(0,n.useEffect)((()=>{const e=(0,h.Y)(),t=new ft.or(e).getAudioOutputDevices({},(e=>{l(e.devices.sort(((e,t)=>e.isDefaultDevice?-1:t.isDefaultDevice?1:e.name.localeCompare(t.name))))}));return()=>{t.cancel()}}),[]),null===e?(0,y.jsx)("div",{className:ss,children:"Nothing is currently playing."}):(0,y.jsxs)("div",{className:ss,children:[(0,y.jsxs)("div",{className:cs,children:[(0,y.jsx)(te.a,{variant:"bodySmallBold",children:"Forced shuffle"}),(0,y.jsx)(Kt.q,{id:"forced-shuffe",value:a.getForcedShuffle(),onSelected:e=>{a.setForcedShuffle(e)}})]}),(0,y.jsx)("div",{children:(0,y.jsx)("button",{className:ds,onClick:()=>{a.play({uri:"invalid_context_uri"},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,y.jsx)("span",{children:"Clear context"})})}),(0,y.jsx)(G,{title:"Devices",rows:r,cols:[{name:"Name",width:"30%"},{name:"ID"},{name:"Terminal"},{name:"Transport"},{name:"Actions",width:"16px"}],renderRow:e=>(0,y.jsx)(fs,{...e}),canCollapse:!0}),(0,y.jsx)(G,{title:"Details",rows:[{name:"url"===t?.fileType?"URL":"File ID",value:t?.fileId},{name:"Type",value:t?.fileType},{name:"Codec",value:t?.codecName},{name:"Bitrate",value:ps(t?.fileBitrate,1e3,"k")},{name:"Strategy",value:t?.strategy},{name:"Target Bitrate",value:ps(t?.targetBitrate,1e3,"k")},{name:"Advisted Bitrate",value:ps(t?.advisedBitrate,1e3,"k")},{name:"Target File Available",value:vs(t?.targetFileAvailable)},{name:"Duration (hh:mm)",value:xs(t?.lengthMs)},{name:"Duration (ms)",value:ps(t?.lengthMs,1," ms")},{name:"Speed",value:ps(t?.playbackSpeed)},{name:"Gain Adjustment",value:ps(t?.gainAdjustment)},{name:"Loudness",value:t?.hasLoudness?ps(t?.loudness):void 0}],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:e=>(0,y.jsx)(js,{...e}),canCollapse:!0}),(0,y.jsx)(G,{title:"Files",rows:s??[],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:t=>(0,y.jsx)(ms,{item:e,file:t},t.fileId),canCollapse:!0,isCollapsedInitially:!0})]})};var bs=s(53496),Ns=s(29036),ws=s(92836),Cs=s(98620);function Ss(e,t){const s=(0,Cs.u)();(0,n.useEffect)((()=>{const n=s.getEvents();return n.addListener(e,t),()=>{n.removeListener(e,t)}}),[e,t,s])}var Os=s(79592),As=s(42343),ks=s(17912);const Is="X2I_RYWYpxMLnNlZS4pC",Es="SeONzyUTUcSX69dLCXjf",Rs="a6zsfAU_4iY1od9MSoF4",Ps=({name:e,value:t})=>{const s=W();return(0,y.jsxs)(_.C,{hover:!0,children:[(0,y.jsx)(M.y,{className:q.rowName,highlight:!0,children:e}),(0,y.jsx)(M.y,{className:q.rowValue,truncate:!0,align:"right",children:t}),(0,y.jsx)(M.y,{className:q.rowActions,children:(0,y.jsx)("button",{className:q.rowAction,onClick:()=>s(t),children:(0,y.jsx)(U.I,{size:"small"})})})]})},Ts=()=>{const e=(()=>{const e=(0,Cs.u)(),[t,s]=(0,n.useState)(e.getSubscriptions()),a=(0,n.useCallback)((()=>{s(e.getSubscriptions())}),[e,s]);return Ss(ws.S.SUBSCRIBE,a),Ss(ws.S.CANCEL,a),Ss(ws.S.REFRESH,a),t})(),t=W(),s=Object.entries((0,As.a)(e,(e=>`${e.ident}${e.isPrefix?"*":""}`)));return(0,y.jsx)(G,{title:"Subscriptions",rows:s,cols:[{name:"Ident"},{name:"Actions",width:"16px"}],renderRow:([e,s])=>(0,y.jsxs)(_.C,{hover:!0,children:[(0,y.jsxs)(M.y,{className:q.rowValue,truncate:!0,children:[e," (",s.length,")"]}),(0,y.jsx)(M.y,{className:q.rowActions,children:(0,y.jsx)("button",{className:q.rowAction,onClick:()=>t(e),children:(0,y.jsx)(U.I,{size:"small"})})})]},e),canCollapse:!0})};function Ds(e){if(e.ident.endsWith("/json"))return!0;if(0===e.payloads.length)return!1;const t=(0,Os.MR)(e.payloads[0]);return t.length>0&&"{"===t[0]}const Ls=({message:e})=>{const[t,s]=(0,n.useState)(!1),{Editor:a,setContent:r}=Ve({readOnly:!0});return(0,n.useEffect)((()=>{if(0!==e.payloads.length)if(Ds(e)){const t=JSON.parse((0,Os.MR)(e.payloads[0]));r(JSON.stringify(t,void 0,2))}else{const t=(0,Os.i_)(e.payloads[0]);r(JSON.stringify(t,void 0,2))}}),[e,r]),(0,y.jsxs)(_.C,{hover:!0,children:[(0,y.jsx)(M.y,{className:q.rowName,children:new Date(e.timestamp).toLocaleString()}),(0,y.jsx)(M.y,{className:q.rowName,children:e.ident}),(0,y.jsxs)(M.y,{className:q.rowName,children:[(0,y.jsx)("button",{className:q.rowAction,onClick:()=>s(!t),children:(0,y.jsx)(bs.c,{size:"small"})}),(0,y.jsx)(ks.E,{isOpen:t,className:Rs,onRequestClose:()=>s(!1),shouldCloseOnEsc:!0,shouldCloseOnBackdropClick:!0,animated:!0,children:a})]})]})},_s=()=>{const e=(0,Cs.u)(),[t,s]=(0,n.useState)(0),[a,r]=(0,n.useState)(!0);Ss(ws.S.MESSAGE,(()=>{s(t+1)}));const l=a?e.getMessages().filter(Ds):e.getMessages();return(0,y.jsx)(G,{title:"Messages",titleExtra:(0,y.jsxs)("div",{className:Es,children:[(0,y.jsx)(Ns.w,{id:"json-only",size:"small",checked:a,onChange:()=>r(!a)}),(0,y.jsx)(te.a,{as:"label",htmlFor:"json-only",variant:"marginal",children:"JSON only"})]}),rows:l,cols:[{name:"Time",width:"200px"},{name:"Ident"},{name:"Payload",width:"16px"}],renderRow:(e,t)=>(0,y.jsx)(Ls,{message:e},`${t}-${e.ident}-${e.timestamp}`),canCollapse:!0})},Ms=()=>{const e=(()=>{const e=(0,Cs.u)(),[t,s]=(0,n.useState)(null);(0,n.useEffect)((()=>{e.getConnectionId().then((e=>s(e)))}),[e,s]);const a=(0,n.useCallback)((e=>s(e.data.connectionId)),[s]);return Ss(ws.S.CONNECTION,a),t})();return(0,y.jsxs)("div",{className:Is,children:[(0,y.jsx)(G,{title:"PubSub",rows:(0,y.jsx)(Ps,{name:"Connection ID",value:e??"-"}),cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}]}),(0,y.jsx)(Ts,{}),(0,y.jsx)(_s,{})]})};var Us=s(18648),Vs=s(91340),zs=s(95616),Bs=s(46064),Fs=s(85988),Js=s(62100),Hs=s(26336),qs=s(31780),Gs=s(37535),Ws=s(94768),Ys=s(78808),Ks=s(40468),$s=s(71128),Qs=s(99432),Xs=s(5692),Zs=s(38432);const en=36e5;const tn="HnpguQ3rtX44hdThdwy9",sn="y1gsL5scUuLOArVrFYRl",nn="Ni7focuLC626smvmOnLP",an="W5wjtyjHTJPGX5j7_WOp",rn="gbwwwTt68IMGNnwRJ7x7",ln=({property:e,value:t,onOverride:s,isOverridden:n})=>{if("int"===e.type||"internal"===e.type)throw Error("Invalid property type for dropdown!");const a="bool"===e.type?["true","false"]:e.values;return(0,y.jsx)(Vs.A,{id:`${e.name}-dropdown`,value:(t??e.default).toString(),onChange:t=>{var n;s(e.name,(n=t.currentTarget.value,"bool"===e.type?"true"===n:n))},className:r()({[an]:n}),children:a.map((e=>(0,y.jsx)("option",{value:e,children:e},e)))})},on=({property:e,value:t,onOverride:s,isOverridden:a})=>{if("int"!==e.type)throw Error("Invalid property type for dropdown!");const[l,i]=(0,n.useState)(t??e.default),o=(0,Us.yK)((t=>{s(e.name,t)}),500);return(0,y.jsx)(ge.g,{type:"number",min:e.lower,max:e.upper,value:l,onChange:e=>{i(e.currentTarget.value),o(Number.parseInt(e.currentTarget.value,10))},className:r()({[an]:a})})},cn=({property:e,localValue:t,remoteValue:s,experimentUrl:n,isRemoteUserSpecificOverride:a,onOverride:r,filter:l})=>{const i=t!==s,o=e.default.toString(),c=s?.toString();let d=(n||o!==c?c:null)??null;return d&&n&&(d=(0,y.jsxs)("a",{href:n,target:"_blank",className:rn,children:[c,a&&(0,y.jsx)(zs.Q,{size:"small"})]}),a&&(d=(0,y.jsx)(Fs.Yl,{label:"This value comes from a user-specific override in the linked experiment.",children:d}))),(0,y.jsxs)(_.C,{hover:!0,children:[(0,y.jsxs)(M.y,{className:q.rowName,title:e.name,highlight:!0,children:[(0,y.jsx)("a",{href:`https://sites.spotify.net/s/hyperlink?path=property-experiments&property=${e.name}`,rel:"noopener noreferrer",target:"_blank",children:l?(0,y.jsx)(Ws.S,{searchWords:[l??""],textToHighlight:e.name}):e.name}),(0,y.jsx)("div",{className:q.propertyDescription,children:e.description})]}),(0,y.jsx)(M.y,{className:q.rowValue,children:o}),(0,y.jsx)(M.y,{className:q.rowValue,children:d}),(0,y.jsx)(M.y,{className:q.rowValue,children:"bool"===e.type||"enum"===e.type?(0,y.jsx)(ln,{property:e,value:t,onOverride:r,isOverridden:i}):"int"===e.type?(0,y.jsx)(on,{property:e,value:t,onOverride:r,isOverridden:i}):null})]})},dn="debugPanelRemoteConfigLastChangedAtByPropertyName",un=({properties:e,localConfiguration:t,remoteConfiguration:s,setOverrides:a,clearOverrides:r})=>{const{filter:l}=(0,n.useContext)(Ys.on),i=(0,T.Ow)(),o=()=>{const e=i.getItem(dn);return e instanceof Hs.U||e instanceof qs.E?{}:e},c=(e,t)=>{a(Bs.E3.fromJSON({[e]:t})),i.setItem(dn,{...o(),[e]:Date.now()})},d=(0,n.useRef)(o()),u=e.sort(((e,t)=>(d.current[t.name]??0)-(d.current[e.name]??0)||e.name.localeCompare(t.name))),m=function(){const e=(0,Zs.S)(),t=(0,Qs.U)(),s=(0,Xs.U)()?.username,a=(0,n.useMemo)((()=>Bs.iS.getPropertySetId({clientId:e.remote_config_client_id},(0,Bs.m_)(),[])),[e.remote_config_client_id]),r=(0,n.useMemo)((()=>{if(!e||!t.data||!s)return null;const n="web-player"===e.remote_config_client_id||"1"===t.data.employee;return{data:{platform:"WEB",clientId:e.remote_config_client_id,country:t.data.country,propertySetKey:a,clientVersion:e.event_sender_context_information?.client_version_string??"",installationId:e.event_sender_context_information?.installation_id??"",oauthClientId:e.event_sender_context_information?.client_id??"",employee:n,catalogue:t.data.catalogue,originPlatform:e.app_platform,originVersion:e.os_version??"",userName:s}}}),[s,e,t.data,a]),{data:l}=(0,Ks.U)({queryKey:["traceback-config"],queryFn:()=>(0,$s.G)().request("https://remote-configuration-resolver.spotify.net/debug/traceback-config",{method:"POST",responseType:"json",headers:{"content-type":"application/json"},payload:JSON.stringify(r)}).then((e=>{const t=e.body;return Object.fromEntries(t.data.map((e=>[e.name,e])))})),staleTime:5e3,gcTime:en,refetchInterval:en,refetchOnWindowFocus:!1,enabled:!!r});return l??{}}();return(0,y.jsxs)("div",{className:sn,children:[(0,y.jsxs)("div",{className:nn,children:[(0,y.jsx)(se.w,{size:"small",onClick:()=>{r(),i.clearItem(dn)},children:"Clear local overrides"}),(0,y.jsx)(Gs.Q,{placeholder:"Find",alwaysExpanded:!0})]}),(0,y.jsx)(z._,{children:(0,y.jsxs)(J.o,{children:[(0,y.jsxs)("colgroup",{children:[(0,y.jsx)("col",{width:"30%"}),(0,y.jsx)("col",{}),(0,y.jsx)("col",{})]}),(0,y.jsxs)("tbody",{children:[(0,y.jsxs)(_.C,{children:[(0,y.jsx)(H.q,{className:q.rowHeader,children:"Name"}),(0,y.jsx)(H.q,{className:q.rowHeader,children:"Default"}),(0,y.jsx)(H.q,{className:q.rowHeader,children:"Remote"}),(0,y.jsx)(H.q,{className:q.rowHeader,children:"Local"})]}),u.filter((e=>-1!==e.name.toLowerCase().indexOf(l.toLowerCase()))).map((e=>(0,y.jsx)(cn,{property:e,localValue:t.getValue(e.name),remoteValue:s.getValue(e.name),experimentUrl:m?.[e.name]?.experimentRef?.experimentUrl,isRemoteUserSpecificOverride:m?.[e.name]?.isOverride??!1,onOverride:c,filter:l},e.name)))]})]})})]})},mn=()=>{const e=[...(0,Bs.m_)()],{localConfiguration:t,remoteConfiguration:s,setOverrides:n,clearOverrides:a}=(0,Js.e)();return(0,y.jsx)("div",{className:tn,children:(0,y.jsx)(Ys.WC,{uri:"spotify:internal:debug:remote-config-properties",children:(0,y.jsx)(un,{properties:e,localConfiguration:t,remoteConfiguration:s,setOverrides:n,clearOverrides:a})})})};var hn=s(33220),pn=s(14788);const vn="mHtMWLOMN_lZh6Eq1lBe",xn="MNRz4Pg1lZNyfjDZ3N6M",jn=()=>{const e=(0,hn.IT)(),t=(0,hn.i6)(),s=e=>{const s=(0,pn.nX)(e);s&&t(s.toURLPath(!0),{state:{preventMoveFocus:!0}})},n=(0,pn.nX)(e.pathname);return(0,y.jsxs)("div",{className:vn,children:[(0,y.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.target).get("navigateTo").toString(),n=new URL(t,"https://open.spotify.com");n.hostname&&n.pathname?s(n.pathname):s(t)},className:xn,children:[(0,y.jsx)("label",{htmlFor:"navigate-input",children:"Navigate to"}),(0,y.jsx)(te.a,{variant:"bodySmall",as:"input",style:{color:Bt.oZb},name:"navigateTo",id:"navigate-input",type:"text",placeholder:"ex. /search/nirvana",onKeyDown:e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||e.stopPropagation()}})]}),(0,y.jsx)("h2",{children:"Current location:"}),(0,y.jsxs)("ul",{children:[(0,y.jsxs)("li",{children:["Location: ",e.pathname]}),e.search&&(0,y.jsxs)("li",{children:["Search params: ?",e.search]}),e.hash&&(0,y.jsxs)("li",{children:["Hash params: #",e.hash]}),n?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("li",{children:["URL: ",n.toURL()]}),(0,y.jsxs)("li",{children:["URI: ",n.toURI()]})]}):(0,y.jsx)("li",{children:"Not parseable as a Spotify URI!"}),(0,y.jsxs)("li",{children:["Location state: ",(0,y.jsx)("pre",{children:JSON.stringify(e.state,null,2)})]})]})]})};var gn=s(51468),fn=s(67564),yn=s(54712),bn=s(72504),Nn=s(19424),wn=s(64772),Cn=s(4732),Sn=s(40188),On=s(51760),An=function(e){return e.IPL="IN_PERSON",e.RGS="REMOTE",e}(An||{});var kn=s(34688),In=s(96560),En=s(13280);function Rn({obj:e}){return(0,y.jsx)(J.o,{children:(0,y.jsx)("tbody",{children:Object.entries(e).map((e=>(0,y.jsx)(Pn,{name:e[0],value:e[1]},e[0])))})})}function Pn({name:e,value:t}){const s=W();let n;return"string"==typeof t||"number"==typeof t?n=t:"boolean"==typeof t?n=(0,y.jsx)(kn.i,{defaultChecked:t,isActive:!1,onClick:e=>{e.preventDefault()}}):"object"==typeof t&&(n=(0,y.jsx)(Rn,{obj:t})),(0,y.jsxs)(_.C,{hover:!0,children:[(0,y.jsx)(M.y,{className:q.rowName,highlight:!0,children:e}),(0,y.jsx)(M.y,{className:q.rowValue,truncate:!0,align:"right",children:n}),(0,y.jsx)(M.y,{className:q.rowActions,children:(0,y.jsx)("button",{className:q.rowAction,onClick:()=>{void 0!==t&&s("object"==typeof t?JSON.stringify(t):t.toString())},children:(0,y.jsx)(U.I,{size:"small"})})})]})}const Tn=[{title:"Current Session",Component:()=>{const{currentSession:e,refreshCurrentSession:t}=(0,On.O)();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(In.u,{iconOnly:En.C,onClick:()=>{t()}}),(0,y.jsx)(z._,{children:e&&(0,y.jsxs)(J.o,{children:[(0,y.jsxs)("colgroup",{children:[(0,y.jsx)("col",{width:"30%"}),(0,y.jsx)("col",{}),(0,y.jsx)("col",{width:"16px"})]}),(0,y.jsx)("tbody",{children:Object.entries(e).map((e=>(0,y.jsx)(Pn,{name:e[0],value:e[1]},e[0])))})]})})]})}},{title:"Create New Session",Component:()=>{const{createSession:e}=(0,On.O)(),[t,s]=(0,n.useState)(null),[a,r]=(0,n.useState)(An.IPL),l=(0,N.OY)();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{children:"Create a new session as your current user (does nothing if you already have a session)"}),(0,y.jsxs)("div",{className:q.rowControl,children:[(0,y.jsxs)(C.W,{id:"sessionTypeDropdown",value:a,onSelect:e=>{switch(e){case An.IPL:r(An.IPL);break;case An.RGS:r(An.RGS);break;default:r(An.IPL)}},children:[(0,y.jsx)("option",{value:An.IPL,children:An.IPL},An.IPL),(0,y.jsx)("option",{value:An.RGS,children:An.RGS},An.RGS)]}),(0,y.jsx)(w.g,{onClick:async t=>{t.preventDefault();const n=await e();s(n)},children:"Create"})]}),(0,y.jsx)(se.w,{onClick:()=>{l((0,Cn.Ar)(Sn.SI.INVITE))},style:{marginTop:Nn.Q9},children:"Open invitation modal"}),null!==t&&(0,y.jsx)(wn.F,{value:JSON.stringify(t,null,2),readOnly:!0})]})}},{title:"Leave Current Session",Component:()=>{const{leaveSession:e,currentSession:t}=(0,On.O)(),[s,a]=(0,n.useState)(null);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:q.rowName,children:"Leave your current session"}),(0,y.jsxs)("div",{className:q.rowControl,children:[(0,y.jsx)(ge.g,{value:t?.sessionId??"",readOnly:!0}),(0,y.jsx)(w.g,{onClick:async s=>{if(s.preventDefault(),!t)return;const n=await e();a(n)},children:"Leave"})]}),null!==s&&(0,y.jsx)(wn.F,{value:JSON.stringify(s,null,2),readOnly:!0})]})}},{title:"Delete Current Session",Component:()=>{const{currentSession:e,deleteSession:t}=(0,On.O)(),[s,a]=(0,n.useState)(null);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:q.rowName,children:"Delete your current session"}),(0,y.jsxs)("div",{className:q.rowControl,children:[(0,y.jsx)(ge.g,{value:e?.sessionId??"",readOnly:!0}),(0,y.jsx)(w.g,{onClick:async s=>{if(s.preventDefault(),!e)return;const n=await t();a(n)},children:"Delete"})]}),null!==s&&(0,y.jsx)(wn.F,{value:JSON.stringify(s,null,2),readOnly:!0})]})}},{title:"Join Session as Guest",Component:()=>{const[e,t]=(0,n.useState)(""),s=(0,N.OY)(),a=(0,hn.i6)();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:q.rowName,children:"Join somebody else's session (paste join token or join URI)"}),(0,y.jsxs)("div",{className:q.rowControl,children:[(0,y.jsx)(ge.g,{value:e,onChange:e=>t(e.currentTarget.value)}),(0,y.jsx)(w.g,{onClick:async t=>{t.preventDefault();const n=(0,pn.nX)(e);n&&(0,pn.GK)(n)?a(n.toURLPath(!0)):s((0,Cn.Ar)(Sn.SI.JOIN,e))},children:"Join"})]})]})}}],Dn=()=>{const[e,t]=(0,n.useState)(-1);return(0,y.jsxs)("div",{className:vn,children:[(0,y.jsx)("h1",{children:"Social Connect!"}),(0,y.jsx)(gn.G,{children:Tn.map(((s,n)=>(0,y.jsxs)(fn.e,{children:[(0,y.jsx)(yn.o,{className:q.rowHeader,onClick:s=>{s.preventDefault(),t(n===e?-1:n)},isExpanded:n===e,children:s.title}),(0,y.jsx)(bn.u,{isExpanded:n===e,children:s.Component&&(0,y.jsx)(s.Component,{})})]},`${n}-item`)))})]})};var Ln=s(89740);const _n="EpKDeW2JglvI1Jul9PDh",Mn="g2miUZeGB9MKVvwZBLXH",Un=()=>{const{value:e,setValue:t,clearStoredKeyValue:s,clearSessionStorage:n}=(0,Ln.useSessionStorage)("eligibility"),{value:a,setValue:r,clearStoredKeyValue:l}=(0,Ln.useSessionStorage)("datetime");return(0,y.jsxs)("div",{className:_n,children:[(0,y.jsx)("h1",{children:"Premium Page Debug"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{children:"Override Eligiiblity"}),(0,y.jsxs)("select",{className:Mn,value:e,onChange:e=>t(e.target.value),children:[(0,y.jsx)("option",{}),(0,y.jsx)("option",{value:"INTRO_ELIGIBLE",children:"INTRO_ELIGIBLE"}),(0,y.jsx)("option",{value:"NON_INTRO_ELIGIBLE",children:"NON_INTRO_ELIGIBLE"}),(0,y.jsx)("option",{value:"WINBACK",children:"WINBACK"})]}),(0,y.jsx)(w.g,{className:_n,size:"small",onClick:()=>s("eligibility"),children:"Remove Eligiblity Override"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{children:"Override Date"}),(0,y.jsx)("input",{className:Mn,type:"datetime-local",value:a,onChange:e=>r(e.target.value)}),(0,y.jsx)(w.g,{size:"small",onClick:()=>l("datetime"),children:"Remove Date/Time Override"})]}),(0,y.jsx)(w.g,{size:"small",onClick:n,children:"Remove All Overrides"})]})};var Vn=s(15040),zn=s(5304),Bn=s(21706),Fn=s(66514),Jn=s(49812),Hn=s(37116),qn=s(88272);s(99972);const Gn=new qn.a("lookupDebug","query","d0ecc1331f8285583116076f7f83af19ce8d9d4d5cd86c0b8a888fbbde308384",null);var Wn=s(89291),Yn=s(91232);const Kn="u52EO0zzXPDFTTlWPw5O",$n="xj_2z64kLq0lRP2TaIXN";function Qn(e){return Boolean(e)}function Xn(e){return(0,Wn.kQ)(e)}const Zn=()=>{const{request:e}=(0,n.useContext)(Fn.Q9),[t,s]=(0,Hn.k)(Yn.g,[]),[a,r]=(0,n.useState)(""),l=async()=>{if(!function(e){const t=(0,pn.nX)(e);return!(!t||(0,pn.W8)(t)||t?.id===pn.cH.COLLECTION||!(!t||(0,pn.MJ)(t)||(0,pn.eg)(t)||(0,pn.QB)(t)||(0,pn.I9)(t)||(0,pn._Z)(t)||(0,pn.Gi)(t)||(0,pn.gX)(t)))}(a))return;const n=await(0,Jn.M)(e,Gn,{uris:[a]}),r=n?.data?.lookup.map(Xn).filter(Qn)||[];s(r.concat(t))};return(0,y.jsxs)("div",{className:Kn,children:[(0,y.jsx)("h1",{children:"Home"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{children:"Shortcuts override"}),(0,y.jsxs)(zn.W,{label:"Entity URI to add",labelFor:"shortcut_to_add",children:[(0,y.jsx)(ge.g,{id:"shortcut_to_add",type:"text",placeholder:"spotify:episode:123123",value:a,onChange:e=>r(e.currentTarget.value)}),(0,y.jsxs)(Bn.a,{children:["Right now we only allow: Artist, Album, Audiobook, Podcast, Track, User, Playlist, Episode and Chapter.",(0,y.jsx)("br",{})," For more info check the HomeV2ShortcutsShelf logic."]})]}),(0,y.jsx)(w.g,{size:"small",className:$n,disabled:0===a.length,onClick:()=>{l()},children:"Add to Shortcuts"}),(0,y.jsx)(w.g,{size:"small",className:$n,onClick:()=>{s([])},children:"Clear all overrides"})]})]})};var ea=s(5508);const ta="wjncHEmBUc7V8RZYdENw",sa="uyHngn_fJez61BsFl3tA",na="J2KhtXbDovVMDOMzv1Jy",aa="h5nLocSUS3w2NB53IdWQ",ra="debugWindowActiveTabGroup",la="debugWindowActiveTabIndex",ia=()=>{const e=(0,$t.Q)().getCapabilities().canGetFiles,t=(0,D.W)(),s=(0,P.y6)(),a=(0,d.IP)(Vn.Sw);(0,n.useEffect)((()=>{s&&(s.title="Spotify Debug Window")}),[s]);const u=(0,n.useMemo)((()=>Object.fromEntries(Object.entries({Page:[null].filter(L.g),Authorization:[{label:"Access Token",Panel:K}],Playback:[e?{label:"Playback",Panel:ys}:null,{label:"Connect",Panel:ee},t?{label:"Social Connect",Panel:Dn}:null].filter(L.g),"Data Fetching":[{label:"Esperanto",Panel:zt},{label:"PubSub",Panel:Ms},null].filter(L.g),UI:[{label:"Routing",Panel:jn}].filter(L.g),Other:[{label:"Remote Config",Panel:mn},{label:"Ads",Panel:b},{label:"In-App Messaging",Panel:R},{label:"Your DJ",Panel:ea.EV},{label:"Home",Panel:Zn},{label:"Premium Page",Panel:Un}].filter(L.g)}).filter((([e,t])=>t.length>0)))),[e,t]),m=Object.keys(u),h=(0,T.Ow)(),p=h.getItem(ra),v="string"==typeof p&&p in u?p:m[0],[x,j]=(0,n.useState)(v),g=h.getItem(la),f="number"==typeof g&&g in u[x]?g:0,[N,w]=(0,n.useState)(f),C=u[x][N].Panel;return(0,y.jsx)("div",{className:r()("encore-dark-theme","encore-layout-themes",{"vertical-metrics":a}),children:(0,y.jsxs)("div",{className:ta,children:[(0,y.jsx)(l._,{className:sa,children:(0,y.jsx)(i.s,{flexMobile:!0,children:m.map((e=>(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(o.g,{children:e}),u[e].map(((t,s)=>(0,y.jsx)(c.A,{active:x===e&&N===s,label:t.label,onClick:()=>{j(e),h.setItem(ra,e),w(s),h.setItem(la,s)},className:na,children:t.label},t.label)))]},e)))})}),(0,y.jsx)("div",{className:aa,children:(0,y.jsx)(C,{})})]})})}},5692:(e,t,s)=>{s.d(t,{U:()=>r});s(41260);var n=s(4564),a=s(43619);const r=()=>{const e=(0,n.w1)((e=>e.session?.user));return e?{type:a.s.USER,uri:e.uri,username:e.id,displayName:e.display_name??null,images:e.images.map((({url:e,width:t,height:s})=>({url:e,width:t||void 0,height:s||void 0})))}:null}}}]);
//# sourceMappingURL=xpui-debug-window-contents.js.map