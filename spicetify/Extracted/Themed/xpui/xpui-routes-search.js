"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[232],{40132:(e,t,s)=>{s.d(t,{_:()=>T,e:()=>F});var a=s(96651),r=s(4564),i=s(49232),n=s(1804),o=s(14788),l=s(33508),c=s(71916),u=s(7300),d=s(71464),p=s(24910),m=s(56316),y=s(97334),h=s(94231),g=s(23652),x=s(6812),j=s(7296),f=s(92280),b=s(39244),C=s(17556),k=s(41436),v=s(81604),R=s(53048),S=s(5256),A=s(40636),w=s(84340),I=s(57148),E=s(15700),_=s(15040),N=s(2488);function T(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const P=e=>`activation-trigger-mme-${e}`,F=a.memo((function({index:e=-1,showMetadata:t,episode:s,usePlayContextItem:F,status:U,variant:L}){const q=(0,E.m)(),M=s.playedState.playPositionMilliseconds,D=s.uri,O=(0,a.useRef)(null),[B,H]=(0,a.useState)(s.playedState.state===w.QF.Completed),V=(0,x.C)(),W=(0,f.A)(),Q=(0,R.oV)(),G=(0,j.w)(),K=(0,r.OY)(),{UBIFragment:z,spec:X,logger:Y}=(0,A.gp)(n.createDesktopEpisodeBlockEventFactory,{data:{uri:D,reason:s.requestId||"",position:e}}),$=(0,A.K2)(X),{isActive:J,isPlaying:Z,togglePlay:ee}=F({uri:D}),[te]=(0,S.e)(1e4,(e=>e?.item?.uri===D));(0,a.useEffect)((()=>{Z&&(O.current=te)}),[Z,te]),(0,a.useEffect)((()=>{!Z&&O.current&&s.duration.milliseconds<=O.current&&H(!0)}),[Z,s.duration.milliseconds]);const se=(0,a.useCallback)((e=>{e||(O.current=0),H(e)}),[]),ae=e=>{if(e.target!==e.currentTarget)return;const a=`${s.name} â€¢ ${t.name}`;V(e,{itemUris:[D],dragLabelText:a,contextUri:t.uri})},re=T(t),ie=(0,b.e)({...s,coverArt:{sources:s.coverArt}},re),ne=(0,a.useCallback)((()=>{if(s.episodeType===w.sF.Episode&&q)h.F.set((()=>({triggerId:P(s.uri),triggerAction:null})));else if(W)ie();else{let e;e=Z?X.playButtonFactory().hitPause({itemToBePaused:D}):J?X.playButtonFactory().hitResume({itemToBeResumed:D}):X.playButtonFactory().hitPlay({itemToBePlayed:D});const t=Y.logInteraction(e);G({targetUri:D,intent:Z?"pause":"play",type:"click"}),ee({loggingParams:t})}}),[J,ie,G,ee,D,Z,W,s,q,Y,X]),oe=(0,a.useCallback)((()=>{Y.logInteraction(X.hitUiNavigate({destination:D})),G({type:"click",targetUri:D,intent:"navigate"})}),[D,G,Y,X]),le=s.podcastSubscription?.isPaywalled??!1,ce=s.podcastSubscription?.isUserSubscribed??!1,ue=le&&!ce,de=le&&W,{badges:pe}=(0,I.C)({contentRating:s.contentRating?.label,isPaywalled:le}),me=(0,a.useCallback)((()=>K((0,l.AP)(t.uri))),[t.uri,K]),ye=(0,a.useCallback)((e=>{let a=e;return(ue||de)&&(a=(0,N.jsx)(y.i,{enabled:!0,showUri:t.uri,children:a})),!s.playability.playable&&pe.nineteen&&(a=(0,N.jsx)("div",{onClick:e=>{e.stopPropagation(),me()},children:e})),a=(0,N.jsx)(c.s,{id:P(D),targetURI:(0,o.nX)(D),children:a}),a}),[D,ue,de,t.uri,pe.nineteen,s.playability.playable,me]),he=(0,i.IP)(_.iK$,{loadingValue:!1});return(0,N.jsx)(z,{spec:X,children:(0,N.jsx)(v.oL,{value:"row",index:e,children:(0,N.jsx)(u.U,{onShow:()=>{Y.logInteraction(X.secondaryHitUiReveal())},menu:(0,N.jsx)(d.y,{uri:D,showUri:t.uri,sharingInfo:s.sharingInfo,isPlayed:B,onMarkAsPlayed:se}),children:he?(0,N.jsx)(m.E,{ref:$,requestId:s.requestId,index:e,uri:D,size:Q,images:s.coverArt||[],name:s.name,showName:t.name,description:s.description,isPlayable:s.playability.playable||ue,fullyPlayed:B,durationMs:s.duration.milliseconds,releaseDate:s.releaseDate?.isoString||"",resumePositionMs:O.current??M,handleDragStart:ae,handlePlaybackClick:ne,handleClick:oe,isCurrentlyPlaying:J,isPaywalled:le,isUserSubscribed:ce,isPlaying:Z,position:Z?te:void 0,episodeSharingInfo:s.sharingInfo,onMarkAsPlayed:se,contentInformation:s.contentInformation,showUri:t.uri,mediaTypes:s.mediaTypes??void 0,badges:(0,N.jsxs)(N.Fragment,{children:[pe.explicit&&(0,N.jsx)(C.C,{}),pe.paid&&(0,N.jsx)(g.a,{}),pe.nineteen&&(0,N.jsx)(k.o,{size:16})]}),playButtonWrapper:ye,onMoreButtonClick:()=>{Y.logInteraction(X.moreButtonFactory().hitUiReveal())},status:U,variant:L}):(0,N.jsx)(p.k,{ref:$,requestId:s.requestId,index:e,uri:D,size:Q,images:s.coverArt||[],name:s.name,showName:t.name,description:s.description,isPlayable:s.playability.playable||ue,fullyPlayed:B,durationMs:s.duration.milliseconds,releaseDate:s.releaseDate?.isoString||"",resumePositionMs:O.current??M,handleDragStart:ae,handlePlaybackClick:ne,handleClick:oe,isCurrentlyPlaying:J,isPaywalled:le,isUserSubscribed:ce,isPlaying:Z,position:Z?te:void 0,episodeSharingInfo:s.sharingInfo,onMarkAsPlayed:se,contentInformation:s.contentInformation,badges:(0,N.jsxs)(N.Fragment,{children:[pe.explicit&&(0,N.jsx)(C.C,{}),pe.paid&&(0,N.jsx)(g.a,{}),pe.nineteen&&(0,N.jsx)(k.o,{size:16})]}),playButtonWrapper:ye,onMoreButtonClick:()=>{Y.logInteraction(X.moreButtonFactory().hitUiReveal())},showUri:t.uri,mediaTypes:s.mediaTypes??void 0,status:U,variant:L})})})})}))},76596:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Rr});s(73952),s(97768);var a=s(96651),r=s(10124),i=s.n(r),n=s(4564),o=s(33220),l=s(55780),c=s.n(l),u=s(49232),d=s(31024),p=s(12100),m=s(57800),y=s(97244),h=s(77472),g=s(40636),x=(s(41260),s(90496)),j=s(46792),f=s(81604),b=s(34872),C=s(2488);const k=()=>{const{searchHistory:e,clearSearchHistory:t}=(0,b.y)();return 0===e.length?null:(0,C.jsx)(x.c,{index:0,id:"recent-searches",total:e.length,seeAllUri:"spotify:app:recent-searches",title:p._s.get("search.title.recent-searches"),children:e.map(((e,s)=>(0,C.jsx)(f.oL,{index:s,value:"search-history",children:(0,C.jsx)(j.w,{entity:e,index:s,clearSearchHistory:t})},e.uri)))})},v="search-searchBrowse-SearchBrowse",R=()=>{const{spec:e,UBIFragment:t}=(0,g.gp)(y.createDesktopFindEventFactory,{data:{uri:"search:find"}}),{recentSearchesSpec:s,browseAllSpec:r}=(0,a.useMemo)((()=>({recentSearchesSpec:e.recentSearchesFactory(),topGenresSpec:e.topGenresFactory(),browseAllSpec:e.browseAllFactory()})),[e]);return(0,C.jsxs)("div",{className:v,children:[(0,C.jsx)(t,{spec:s,children:(0,C.jsx)(k,{})}),(0,C.jsx)(h.C,{browseAllSpec:r})]})};var S=s(92628),A=s(58068),w=s(91128),I=s(11732);const E=(0,a.createContext)(null),_=E.Provider;function N(){const e=(0,a.useContext)(E);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var T=s(15040),P=s(1464);const F="search-searchCategory-SearchCategory",U="search-searchCategory-container",L="search-searchCategory-wrapper",q="search-searchCategory-categoryGridItem",M=({to:e,title:t,selected:s,onClick:a})=>(0,C.jsx)(I.default,{replace:!0,to:e,tabIndex:-1,onClick:a,className:q,children:(0,C.jsx)(S.a,{selected:s,selectedColorSet:"invertedLight",tabIndex:-1,children:t})}),D=({searchCategories:e,selectedCategory:t,displayChips:s})=>{const a=(0,u.IP)(T.OMw),{query:r}=N(),{spec:n,logger:o}=(0,g.gp)(A.createDesktopSearchChipsEventFactory,{});if(!r||!s)return null;const l=encodeURIComponent(r);return(0,C.jsx)("div",{className:F,children:(0,C.jsx)("div",{className:i()(U,"contentSpacing"),children:(0,C.jsx)("div",{className:L,children:(0,C.jsxs)(w.E,{children:[!a&&e.length>0&&(0,C.jsx)(M,{to:`spotify:app:search:${l}`,title:p._s.get("search.title.all"),selected:void 0===t,onClick:()=>{o.logInteraction(n.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${l}`}))}},"all"),e.map(((e,s)=>{const a=P.cd[e]?.()??"";return a||console.warn("Received empty title for category: ",e),(0,C.jsx)(M,{to:`spotify:app:search:${l}:${e}`,title:a,selected:t===e,onClick:()=>{o.logInteraction(n.chipFactory({identifier:e,position:s+1}).hitUiNavigate({destination:`spotify:app:search:${l}:${e}`}))}},e)}))]})})})})};s(99400),s(58032),s(78924),s(99696),s(63120),s(72248),s(1384),s(41256);var O=s(77624),B=s(71940),H=s(10156),V=s(84340),W=s(43619),Q=s(51160);const G={[V.Q3.Podcasts]:["podcasts","podcastAndEpisodes"],[V.Q3.Episodes]:["episodes","podcastAndEpisodes"],[V.Q3.TopResults]:["topResults","topResults"],[V.Q3.Artists]:["artists","artists"],[V.Q3.Albums]:["albums","albums"],[V.Q3.Playlists]:["playlists","playlists"],[V.Q3.Tracks]:["tracks","tracks"],[V.Q3.Audiobooks]:["audiobooks","audiobooks"],[V.Q3.Genres]:["genres","genres"],[V.Q3.Users]:["users","users"]};var K=s(13932),z=s(2284),X=s(84264),Y=s(66514),$=s(8802);const J={albums:d.eA.SEARCH_ALBUMS,artists:d.eA.SEARCH_ARTISTS,episodes:d.eA.SEARCH_EPISODES,genres:d.eA.SEARCH_GENRES,playlists:d.eA.SEARCH_PLAYLISTS,podcasts:d.eA.SEARCH_SHOWS,audiobooks:d.eA.SEARCH_AUDIOBOOKS,tracks:d.eA.SEARCH_SONGS,users:d.eA.SEARCH_PROFILES,podcastAndEpisodes:d.eA.SEARCH_PODCASTS_AND_EPISODES,topResults:d.eA.SEARCH};function Z({children:e}){const{query:t="",category:s=""}=(0,o.W4)();return(0,C.jsx)($.I,{pageId:J[s],entityUri:`spotify:app:search:${t}:${s}`,children:e})}function ee({children:e}){const{query:t}=(0,o.W4)();return(0,C.jsx)($.I,{pageId:d.eA.SEARCH,entityUri:`spotify:app:search:${t}`,children:e})}var te=s(51729),se=s(71704),ae=s(14788),re=s(33584),ie=s(72199),ne=s(8004),oe=s(8340),le=s(36416);const ce="hngqMWKjlLOEcuxpoHz9",ue="WjLSNZPxuT0Zuw42kxSM",de="zFOvsuNQpwehjH2VoiLL",pe="zeGt0Z2HCYRvd6ziu_t9",me=({forChip:e})=>{const{query:t,serpId:s}=N(),a=!(0,K.O)(),r=`/search/${t}`,i=(0,ae.oj)(t).toURI(),{spec:n,logger:o}=(0,g.gp)(le.createDesktopSearchEmptyResultsEventFactory,{data:{uri:i,reason:s}}),l=(0,g.K2)(n);return(0,C.jsxs)("div",{className:ce,"aria-live":"polite",ref:l,children:[(0,C.jsx)(ne.a,{as:"h1",variant:"titleSmall",className:ue,children:e?p._s.get("search.empty-results-title-for-chip",t,e):p._s.get("search.empty-results-title",t)}),(0,C.jsx)("p",{className:de,children:a?p._s.get("web-player.search-modal.offline"):p._s.get("search.empty-results-text")}),e&&(0,C.jsx)(ie.cH,{to:r,children:(0,C.jsx)(oe.g,{colorSet:"invertedLight",className:pe,onClick:()=>{o.logInteraction(n.seeAllButtonFactory().hitUiNavigate({destination:r}))},children:p._s.get("search.see-all")})})]})};var ye=s(10952);const he={results:null,isError:!1,isFetchMoreError:!1},ge=(e,t)=>{const s=(0,ye.E)(),r=(0,a.useRef)(null),i=(0,a.useRef)(0),[n,o]=(0,a.useState)(he),l=(0,a.useCallback)((async(a=!1)=>{if(!s())return;a&&(i.current=0,r.current=null);let n=e;if(null!==r.current){if(i.current>=r.current)return;i.current+n>r.current&&(n=r.current-i.current)}try{const e=await t(i.current,n);i.current+=n,r.current=e.totalCount||0,s()&&o((t=>({isError:!1,isFetchMoreError:!1,results:(a||null===t.results?[]:t.results).concat(e.items)})))}catch(e){s()&&o((e=>{const t=null===e.results||a;return{results:a?[]:e.results,isError:t,isFetchMoreError:!t}}))}}),[e,t,s]);return(0,a.useEffect)((()=>{l(!0)}),[l]),{results:n.results,isError:n.isError,fetchData:l,totalCountRef:r}};var xe=s(52276),je=s(6672),fe=s(25676),be=s(50176),Ce=s(3844),ke=s(7296);const ve=a.memo((function({uri:e,size:t=be.o.md,className:s,onClick:r,showUpsell:i}){const[n,o]=(0,Ce.X)(e),l=(0,ke.w)(),c=(0,a.useCallback)((()=>{l({targetUri:e,intent:"add-to-library",type:"click"}),o(!0)}),[l,e,o]);return(0,C.jsx)(be.W,{className:s,isFollowing:n,onFollow:c,onClick:r,uri:e,size:t,showUpsell:i})})),Re="RTP39YFgFAoVSlly6vCF",Se="QT1jLaHHvO5g2YQor2Fw",Ae="wArYyZVjFviopRvRFV8t",we="kRDD8AcqeOf5UDjOSQ8j",Ie="XN4TCZATPrKkEMngUtFc",Ee="VYaCpehPPhmTYPRxMBub",_e="abMqJCpsuShBo0DaZ7IY",Ne="ON88h0KYGqXMdOfsqot8",Te="BHFMWOZUKxElyq1Ffc_S",Pe="EyH4QLenIbFw0x8r83eK",Fe="JA9jP30dm3GJikfs7vBn",Ue="xKl_2100SG4svBvzZ8Xv",Le="leel3U31UlOaYhKp6FgQ",qe="FxqpfDsISPKNu1XFExOg",Me="kE234isNxJ9XiTT8QoJL",De="KcOp4A5HBQ4EPH0IDRxg",Oe="oODk_3Glvh7wotUlk4ov";var Be=s(83968);const He=({uri:e,spec:t})=>{const s=(0,g.Mk)(),r=(0,a.useCallback)(((a,r)=>{(0,Be.cN)(r,t.downloadButtonFactory(),s,e)}),[s,t,e]);return(0,C.jsx)(ve,{className:we,uri:e,size:be.o.xs,showUpsell:!1,onClick:r})};var Ve=s(24392),We=s(44616);const Qe=({shape:e=Ve.O.ROUNDED_CORNERS,type:t,name:s,images:a})=>(0,C.jsx)(Ve.i,{shape:e,size:We.fm.SIZE_64,images:a,type:t,title:s});var Ge=s(48856),Ke=s(87832);const ze=(0,a.createContext)((()=>{})),Xe=({menu:e,name:t,spec:s})=>{const r=(0,g.Mk)(),i=(0,a.useContext)(ze),n=(0,a.useCallback)((()=>{r.logInteraction(s.contextButtonFactory().hitUiReveal()),i(!0)}),[r,i,s]),o=(0,a.useCallback)((()=>{i(!1)}),[i]);return(0,C.jsx)(Ke.pD,{menu:e,onShow:n,onHide:o,children:(0,C.jsx)(Ge.g,{className:Ie,size:Ge.o.sm,label:p._s.get("more.label.context",t)})})};var Ye=s(85988);const $e=({name:e,uri:t,spec:s})=>{const r=(0,g.Mk)(),i=(0,a.useCallback)((()=>{r.logInteraction(s.titleLinkFactory({uri:t}).hitUiNavigate({destination:t}))}),[r,s,t]);return(0,C.jsx)(Ye.Yl,{label:e,showDelay:Ye.AL,children:(0,C.jsx)(I.default,{to:t,className:Te,onClick:i,children:(0,C.jsx)(ne.a,{variant:"bodyMediumBold",semanticColor:"textBase",className:Pe,children:e})})})};var Je=s(94192),Ze=s(18648),et=s(88840),tt=s(76172),st=s(60016),at=s(52588);const rt=a.forwardRef((function({children:e,isLocked:t=!1,uri:s,playAriaLabel:a,spec:r},n){const o=(0,g.Mk)(),{isPlaying:l,isActive:c,togglePlay:u}=(0,at.I)({uri:s},{featureIdentifier:"search"}),d=(0,Ze.yK)((e=>{if(e.preventDefault(),e.detail>0&&e.currentTarget&&e.currentTarget.blur(),t)o.logInteraction(r.playbackButtonFactory().hitShowPaywall({paywalledItem:s}));else{const e=(0,Be.Il)({isPlaying:l,isActive:c,spec:r.playbackButtonFactory(),logger:o,uri:s});u({loggingParams:e})}}),st.cT,{leading:!0,trailing:!1});return(0,C.jsxs)("div",{className:i()(Fe),children:[l?(0,C.jsx)(tt.W,{className:_e,animated:!0}):e,(0,C.jsx)(et.a,{className:Ee,iconClassName:De,onClick:d,isPlaying:l,isLocked:t,playAriaLabel:a,ref:n})]})}));var it=s(53048);const nt="kwJGggri7IZMFvQEClUf",ot="yt0QcQy0t7LfbeVaEJG_",lt="WHMDRepGVQXXrTx3838g",ct="wLoqasagmgNF8ULGMhil",ut="cpC_03FZN3i93V8j3g0l",dt="S7CXd4i9huhWL_kPV_e3",pt="c85eTWJAYaGjCiwH1WDu",mt="cTTgGuDbNSWllHjVqiUx",yt=({className:e,leading:t,media:s,pretitle:a,title:r,subtitle:n,body:o,footer:l,trailing:c,onContextMenu:u,onTouchStart:d,onTouchEnd:p,onDragStart:m,onDoubleClick:y})=>{const h=(0,it.oV)();return(0,C.jsxs)("div",{className:i()(e,nt),onContextMenu:u,onTouchStart:d,onTouchEnd:p,draggable:!0,onDragStart:m,onDoubleClick:y,children:[t?(0,C.jsx)("div",{className:ot,children:t}):null,s?(0,C.jsx)("div",{className:lt,children:s}):null,(0,C.jsxs)("div",{className:ct,children:[a?(0,C.jsx)("div",{children:a}):null,r?(0,C.jsx)("div",{className:pt,children:r}):null,n?(0,C.jsx)("div",{className:mt,children:n}):null,o?(0,C.jsx)("div",{children:o}):null,l?(0,C.jsx)("div",{children:l}):null]}),c?(0,C.jsx)("div",{className:i()(ut,{[dt]:h===it.u_.MEDIUM}),children:c}):null]})};s(97296);var ht=s(6812);const gt=e=>void 0!==e;const xt=({uri:e,destinationUri:t=e,name:s,createdBy:r,menu:n,media:o,leading:l,title:c,subtitle:u,body:d,trailing:p,onClick:m,spec:y})=>{const{isActive:h}=(0,Je.kP)(e),x=(0,g.Mk)(),j=(0,a.useCallback)((()=>{x.logInteraction(y.secondaryHitUiReveal())}),[x,y]),f=(0,a.useCallback)((e=>{e.isDefaultPrevented()||(x.logInteraction(y.hitUiNavigate({destination:t})),m(e))}),[x,m,y,t]),b=function(e,t){if(e!==t)return`?highlight=${e}`}(e,t),k=(0,g.K2)(y),v=((e,t,s)=>{const r=(0,ht.C)();return(0,a.useCallback)((a=>{if(a.target!==a.currentTarget)return;const i=[t,s].filter(gt).join(" â€¢ ");r(a,{itemUris:[e],dragLabelText:i})}),[r,s,t,e])})(e,s,r),[R,S]=(0,a.useState)(!1);return(0,C.jsx)(ze.Provider,{value:S,children:(0,C.jsx)(Ke.UF,{menu:n,onShow:j,children:(0,C.jsx)(I.default,{to:t,search:b,tabIndex:-1,onClick:f,className:Re,"data-context-menu-open":R.toString(),ref:k,children:(0,C.jsx)(yt,{leading:l||!0,title:c,subtitle:u,body:d,trailing:p,media:o,className:i()(Se,{[Ne]:h}),onDragStart:v})})})})};var jt=s(5260),ft=s(97336);const bt=({uri:e,type:t,spec:s})=>{const r=(0,g.Mk)(),i=(0,a.useCallback)((t=>{const a=t?s.heartButtonFactory().hitLike({itemToBeLiked:e}):s.heartButtonFactory().hitRemoveLike({itemNoLongerLiked:e});r.logInteraction(a)}),[s,r,e]);return["episode","audiobook"].includes(t)?(0,C.jsx)(jt.Q,{uri:e,className:Ae,onClick:i}):(0,C.jsx)(ft.s,{uri:e,className:Ae,onClick:i})};var Ct=s(7300),kt=s(33744),vt=s(81472),Rt=s(46003),St=s(48256);const At=({children:e,uri:t,name:s,index:r,menu:i,spec:n})=>{const o=(0,ht.C)({itemUris:[t],dragLabelText:s}),l=(0,g.Mk)(),c=(0,a.useCallback)((()=>{const e=n.subtitleLinkFactory({uri:t,position:r}).hitUiNavigate({destination:t});l.logInteraction(e)}),[r,l,n,t]);return(0,C.jsx)(Ct.U,{menu:i,children:(0,C.jsx)("span",{children:(0,C.jsx)(Ye.Yl,{label:s,showDelay:Ye.AL,children:(0,C.jsx)(I.default,{draggable:!0,to:t,onDragStart:o,dir:"auto",onClick:c,children:e})})})})},wt=({artists:e,spec:t})=>e?(0,C.jsx)(C.Fragment,{children:e.map((({uri:e,name:s},a)=>[a>0&&p._s.getSeparator(),(0,C.jsx)(At,{name:s,uri:e,index:a,menu:(0,C.jsx)(kt.g,{uri:e}),spec:t,children:s},e)]))}):null,It=({topics:e=[],spec:t})=>0===e.length?null:(0,C.jsx)(C.Fragment,{children:e.filter(St.U).map((({uri:e,title:s},a)=>[a>0&&p._s.getSeparator(),(0,C.jsx)(At,{name:s,uri:e,index:a,spec:t,children:s},e)]))}),Et=({show:e,spec:t})=>(0,C.jsx)(At,{name:e.name,uri:e.uri,index:0,menu:(0,C.jsx)(vt.Q,{uri:e.uri}),spec:t,children:e.name}),_t=({uri:e,name:t,spec:s})=>(0,C.jsx)(At,{name:t,uri:e,index:0,menu:(0,C.jsx)(Rt.Y,{uri:e}),spec:s,children:t}),Nt=a.memo((function({album:e,onClick:t,index:s,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:o,images:l,year:c,artists:u}=e,d=u[0].name,{spec:m}=(0,g.gp)(je.createDesktopSearchRowEventFactory,{data:{position:s,reason:r??"",uri:i}}),{isPlaying:y}=(0,Je.kP)(i),h=(0,C.jsx)(fe.k,{uri:i});return(0,C.jsx)(xt,{spec:m,menu:h,uri:i,name:o,createdBy:u.map((e=>e.name)).join(p._s.getSeparator()),onClick:t,media:(0,C.jsx)(Qe,{type:n,name:o,images:l}),leading:(0,C.jsx)(rt,{isLocked:!1,uri:i,spec:m,playAriaLabel:y?p._s.get("pause"):p._s.get("tracklist.a11y.play",o,d)}),title:(0,C.jsx)($e,{name:o,uri:i,spec:m}),subtitle:(0,C.jsxs)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Oe,children:[a&&(0,C.jsx)(ne.a,{className:Me,children:p._s.get("card.tag.album")}),(0,C.jsx)(ne.a,{className:Me,children:(0,C.jsx)(wt,{artists:u,spec:m})})]}),body:(0,C.jsx)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",children:c}),trailing:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(He,{uri:i,spec:m}),(0,C.jsx)(bt,{uri:i,type:"album",spec:m}),(0,C.jsx)(Xe,{menu:h,name:o,spec:m})]})})}));var Tt=s(17988);const Pt=a.memo((function({artist:e,onClick:t,index:s,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:o,images:l,verified:c}=e,{spec:u}=(0,g.gp)(je.createDesktopSearchRowEventFactory,{data:{position:s,reason:r??"",uri:i}}),{isPlaying:d}=(0,Je.kP)(i),m=(0,C.jsx)(kt.g,{uri:i});return(0,C.jsx)(xt,{spec:u,menu:m,uri:i,name:o,onClick:t,media:(0,C.jsx)(Qe,{type:n,name:o,images:l}),leading:(0,C.jsx)(rt,{isLocked:!1,uri:i,spec:u,playAriaLabel:d?p._s.get("playlist.a11y.play",o):p._s.get("pause")}),title:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)($e,{name:o,uri:i,spec:u}),c&&(0,C.jsx)(Tt.c,{iconSize:"small"})]}),subtitle:a&&(0,C.jsx)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",children:p._s.get("card.tag.artist")}),trailing:(0,C.jsx)(Xe,{menu:m,name:o,spec:u})})}));var Ft=s(65076),Ut=s(89060);const Lt=a.memo((function({book:e,onClick:t,index:s,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:o,images:l,authorName:c,publishDate:u,topics:d}=e,{spec:m}=(0,g.gp)(je.createDesktopSearchRowEventFactory,{data:{position:s,reason:r??"",uri:i}}),y=(0,C.jsx)(Ft.y,{uri:i}),h=d&&d.length>0;return(0,C.jsx)(xt,{spec:m,menu:y,uri:i,name:o,onClick:t,media:(0,C.jsx)(Qe,{type:n,name:o,images:l}),title:(0,C.jsx)($e,{name:o,uri:i,spec:m}),subtitle:(0,C.jsxs)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Oe,children:[a&&(0,C.jsx)(ne.a,{className:Me,children:p._s.get("search.row.subtitle")}),(0,C.jsx)(Ye.Yl,{label:c,showDelay:Ye.AL,children:(0,C.jsx)(ne.a,{className:Me,children:c})})]}),body:(0,C.jsxs)(C.Fragment,{children:[u&&(0,C.jsx)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Me,children:(0,Ut.qw)((0,Ut._z)(u.toISOString()))}),h&&(0,C.jsx)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Me,children:(0,C.jsx)(It,{topics:d,spec:m})})]}),trailing:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(bt,{uri:i,type:"audiobook",spec:m}),(0,C.jsx)(Xe,{menu:y,name:o,spec:m})]})})}));var qt=s(21824),Mt=s(6948),Dt=s(71464),Ot=s(17556),Bt=s(41436),Ht=s(28168),Vt=s(15640),Wt=s(24620);const Qt=a.memo((function({episode:e,onClick:t,index:s,withEntityTag:r=!1}){const{requestId:n,uri:o,type:l,name:c,images:u,show:d,release:m,duration:y,isExplicit:h,is19PlusOnly:x,timeLeft:j,mediaType:f}=e,{logger:b,spec:k}=(0,g.gp)(je.createDesktopSearchRowEventFactory,{data:{position:s,reason:n??"",uri:o}}),{isPlaying:v}=(0,Je.kP)(o),R=(0,a.useCallback)(((e,t)=>{(0,Be.cN)(t,k.downloadButtonFactory(),b,o)}),[b,k,o]),S=(0,C.jsx)(Dt.y,{uri:o}),A=f?.includes(Vt.i.Video)??!1,w=!(e.podcastSubscription.isPaywalled&&!e.podcastSubscription.isUserSubscribed);return(0,C.jsx)(xt,{spec:k,menu:S,uri:o,name:c,createdBy:d?.name||void 0,onClick:t,media:(0,C.jsx)(Qe,{type:l,name:c,images:u}),leading:(0,C.jsx)(rt,{isLocked:!1,uri:o,spec:k,playAriaLabel:v?p._s.get("pause"):d?p._s.get("tracklist.a11y.play",c,d.publisher):p._s.get("playlist.a11y.play",c)}),title:(0,C.jsx)($e,{name:c,uri:o,spec:k}),subtitle:(0,C.jsxs)(C.Fragment,{children:[A&&(0,C.jsx)(Wt.o,{}),h&&(0,C.jsx)(Ot.C,{}),x&&(0,C.jsx)(Bt.o,{size:16}),(0,C.jsxs)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Oe,children:[r&&(0,C.jsx)(ne.a,{children:p._s.get("card.tag.episode")}),d&&(0,C.jsx)(ne.a,{className:Me,children:(0,C.jsx)(Et,{show:d,spec:k})})]})]}),body:(0,C.jsxs)(C.Fragment,{children:[m.date&&(0,C.jsx)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Me,children:(0,Ut.qw)((0,Ut._z)(m.date))}),(0,C.jsx)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:i()(Me,Ue),children:j.milliseconds>0?(0,C.jsx)(Ht._,{durationMs:y.milliseconds}):(0,C.jsxs)(ne.a,{className:Le,children:[p._s.get("episode.played"),(0,C.jsx)(qt.k,{size:"small",className:qe,"aria-hidden":"true"})]})})]}),trailing:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Mt.g,{className:we,uri:o,size:Mt.o.xs,showUpsell:!1,onClick:R,canDownload:w}),(0,C.jsx)(bt,{uri:o,type:"episode",spec:k}),(0,C.jsx)(Xe,{menu:S,name:c,spec:k})]})})}));var Gt=s(57100);const Kt=a.memo((function({genre:e,onClick:t,index:s}){const{requestId:a,uri:r,type:i,name:n,images:o}=e,{spec:l}=(0,g.gp)(je.createDesktopSearchRowEventFactory,{data:{position:s,reason:a??"",uri:r}});return(0,C.jsx)(xt,{spec:l,menu:(0,C.jsx)(Gt.Y,{uri:r}),uri:r,name:n,onClick:t,media:(0,C.jsx)(Qe,{type:i,name:n,images:o}),title:(0,C.jsx)($e,{name:n,uri:r,spec:l})})}));var zt=s(30540);const Xt=a.memo((function({playlist:e,onClick:t,index:s,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:o,images:l,owner:c}=e,{spec:u}=(0,g.gp)(je.createDesktopSearchRowEventFactory,{data:{position:s,reason:r??"",uri:i}}),{isPlaying:d}=(0,Je.kP)(i),m=c.displayName?p._s.get("tracklist.a11y.play",o,c.displayName):p._s.get("play"),y=(0,C.jsx)(zt.E,{uri:i});return(0,C.jsx)(xt,{spec:u,menu:y,uri:i,name:o,createdBy:c.displayName??void 0,onClick:t,media:(0,C.jsx)(Qe,{type:n,name:o,images:l}),leading:(0,C.jsx)(rt,{isLocked:!1,uri:i,spec:u,playAriaLabel:d?p._s.get("pause"):m}),title:(0,C.jsx)($e,{name:o,uri:i,spec:u}),subtitle:(0,C.jsxs)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Oe,children:[a&&(0,C.jsx)(ne.a,{className:Me,children:p._s.get("card.tag.playlist")}),c.displayName&&(0,C.jsx)(ne.a,{className:Me,children:(0,C.jsx)(_t,{uri:c.uri,name:p._s.get("search.playlist-by",c.displayName),spec:u})})]}),trailing:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(He,{uri:i,spec:u}),(0,C.jsx)(bt,{uri:i,type:"playlist",spec:u}),(0,C.jsx)(Xe,{menu:y,name:o,spec:u})]})})})),Yt=a.memo((function({show:e,onClick:t,index:s,withEntityTag:a=!1}){const{requestId:r,uri:n,type:o,name:l,images:c,publisher:u,topics:d}=e,{spec:m}=(0,g.gp)(je.createDesktopSearchRowEventFactory,{data:{position:s,reason:r??"",uri:n}}),y=(0,C.jsx)(vt.Q,{uri:n});return(0,C.jsx)(xt,{spec:m,menu:y,uri:n,name:l,onClick:t,media:(0,C.jsx)(Qe,{type:o,name:l,images:c}),title:(0,C.jsx)($e,{name:l,uri:n,spec:m}),subtitle:(0,C.jsxs)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",children:[(0,C.jsxs)("div",{children:[a&&(0,C.jsx)(ne.a,{className:Me,children:p._s.get("card.tag.show")}),(0,C.jsx)(ne.a,{className:i()(Me),children:u})]}),(0,C.jsx)("div",{children:(0,C.jsx)(ne.a,{className:i()(Me,Oe),children:(0,C.jsx)(It,{topics:d,spec:m})})})]}),trailing:(0,C.jsx)(Xe,{menu:y,name:l,spec:m})})}));var $t=s(56684);const Jt=a.memo((function({track:e,onClick:t,index:s,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:o,artists:l,album:c,isExplicit:u,is19PlusOnly:d}=e,m=l[0].name,{spec:y}=(0,g.gp)(je.createDesktopSearchRowEventFactory,{data:{position:s,reason:r??"",uri:i}}),{isPlaying:h}=(0,Je.kP)(i),x=(0,C.jsx)($t.k,{uri:i});return(0,C.jsx)(xt,{spec:y,uri:i,destinationUri:c?.uri||void 0,menu:x,name:o,createdBy:l.map((e=>e.name)).join(p._s.getSeparator()),onClick:t,media:(0,C.jsx)(Qe,{type:n,name:o,images:c?.images||[]}),leading:(0,C.jsx)(rt,{isLocked:!1,uri:i,spec:y,playAriaLabel:h?p._s.get("pause"):p._s.get("tracklist.a11y.play",o,m)}),title:(0,C.jsx)($e,{name:o,uri:i,spec:y}),subtitle:(0,C.jsxs)(C.Fragment,{children:[u&&(0,C.jsx)(Ot.C,{}),d&&(0,C.jsx)(Bt.o,{size:16}),(0,C.jsxs)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Oe,children:[a&&(0,C.jsx)(ne.a,{children:p._s.get("card.tag.track")}),(0,C.jsx)(ne.a,{className:Me,children:(0,C.jsx)(wt,{artists:l,spec:y})})]})]}),trailing:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(bt,{uri:i,type:"track",spec:y}),(0,C.jsx)(Xe,{menu:x,name:o,spec:y})]})})})),Zt=a.memo((function({user:e,onClick:t,index:s,withEntityTag:a=!1}){const{requestId:r,uri:i,type:n,name:o,images:l}=e,{spec:c}=(0,g.gp)(je.createDesktopSearchRowEventFactory,{data:{position:s,reason:r??"",uri:i}}),u=(0,C.jsx)(Rt.Y,{uri:i});return(0,C.jsx)(xt,{spec:c,menu:u,uri:i,name:o,onClick:t,media:(0,C.jsx)(Qe,{type:n,name:o,images:l,shape:Ve.O.CIRCLE}),title:(0,C.jsx)($e,{name:o,uri:i,spec:c}),subtitle:a&&(0,C.jsx)(ne.a,{variant:"bodySmall",semanticColor:"textSubdued",children:p._s.get("card.tag.profile")}),trailing:(0,C.jsx)(Xe,{menu:u,name:o,spec:c})})})),es=({entity:e,index:t,withEntityTag:s})=>{const{onAddToHistory:r}=N(),i=(0,a.useCallback)((()=>{r(e)}),[e,r]);switch(e.type){case W.s.ALBUM:return(0,C.jsx)(Nt,{album:e,onClick:i,index:t,withEntityTag:s});case W.s.ARTIST:return(0,C.jsx)(Pt,{artist:e,onClick:i,index:t,withEntityTag:s});case W.s.AUDIOBOOK:return(0,C.jsx)(Lt,{book:e,onClick:i,index:t,withEntityTag:s});case W.s.EPISODE:return(0,C.jsx)(Qt,{episode:e,onClick:i,index:t,withEntityTag:s});case W.s.GENRE:return(0,C.jsx)(Kt,{genre:e,onClick:i,index:t});case W.s.PLAYLIST:return(0,C.jsx)(Xt,{playlist:e,onClick:i,index:t,withEntityTag:s});case W.s.USER:return(0,C.jsx)(Zt,{user:e,onClick:i,index:t,withEntityTag:s});case W.s.SHOW:return(0,C.jsx)(Yt,{show:e,onClick:i,index:t,withEntityTag:s});case W.s.TRACK:return(0,C.jsx)(Jt,{track:e,onClick:i,index:t,withEntityTag:s});case W.s.PRE_RELEASE:return null;default:return(0,xe.I)(e),null}};var ts=s(31128),ss=s(40132);const as="FSAE0ABtUCeNRJckpcCH",rs="H2PDjUgJNBIH5eWg59M0",is="vRlEuZATPhZt2l04RVIw",ns="Adlh7XTc3j3pXM3jGgr8",os=({index:e,item:t})=>{const{episode:s,show:a}=t,{usePlayContextItem:r}=(0,at.I)({uri:t.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return(0,C.jsxs)("div",{className:ns,children:[(0,C.jsx)(ss.e,{index:e,episode:{...s,requestId:t.requestId},showMetadata:a,usePlayContextItem:r}),(0,C.jsx)("hr",{className:is,"aria-hidden":!0})]})},ls=({showTitle:e=!0,displayEmptyPageOnEmptyResults:t=!0,displayError:s=!0,enableInfiniteScroll:a=!1,fetchData:r,totalCountRef:n,items:o,isError:l,isSearchV3Enabled:c})=>{const{query:u,serpId:d}=N(),p=(0,ae.oj)(u).toURI(),{ref:m,breakpoint:y}=(0,it.CA)({[it.u_.MEDIUM]:0,[it.u_.LARGE]:600}),h=(0,g.Mk)(),x=`spotify:app:search:${encodeURIComponent(u)}:${Ls}`,{spec:j,UBIFragment:f}=(0,g.gp)(se.u,{data:{uri:p,reason:d}});return l?s?(0,C.jsx)(te._,{}):null:0===n.current?t?(0,C.jsx)(f,{spec:j.emptyResultsFactory(),children:(0,C.jsx)(me,{forChip:P.cd.episodes()})}):null:(0,C.jsxs)(it.yM.Provider,{value:y,children:[o&&e&&(0,C.jsx)(re.q,{title:P.cd.episodes(),seeAllUri:x,onClickTitle:()=>{j&&h.logInteraction(j.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:x}))},onClickSeeAll:()=>{j&&h.logInteraction(j.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:x}))},hasMoreElements:!a&&o.length<(n.current||0)}),(0,C.jsx)("div",{ref:m,className:rs,children:o&&(0,C.jsx)(ts.A,{triggerOnInitialLoad:!1,className:i()({[as]:c}),onReachBottom:()=>{a&&r()},children:o})})]})},cs=e=>{const{query:t,api:s}=N(),{results:r,isError:i,fetchData:n,totalCountRef:o}=ge(30,(0,a.useCallback)(((e,a)=>s.getFullEpisodes(t,e,a)),[s,t]));return(0,C.jsx)(ls,{...e,fetchData:n,totalCountRef:o,items:r?.map(((e,t)=>(0,C.jsx)(os,{item:e,index:t},t))),isError:i})},us=e=>{const{query:t,api:s}=N(),{results:r,isError:i,fetchData:n,totalCountRef:o}=ge(30,(0,a.useCallback)(((e,a)=>s.getSearchCategoryResults(t,"episodes",!1,e,a)),[s,t]));return(0,C.jsx)(ls,{...e,fetchData:n,totalCountRef:o,items:r?.map(((e,t)=>(0,C.jsx)(es,{entity:e,index:t},t))),isError:i,isSearchV3Enabled:!0})},ds=e=>(0,u.IP)(T.OMw)?(0,C.jsx)(us,{...e}):(0,C.jsx)(cs,{...e});var ps=s(53728);const ms=e=>{const{title:t,category:s,query:a,results:r,onAddToHistory:i,position:n,showSeeAll:o}=e;if(!r)return null;const{items:l,totalCount:c}=r;return l&&0!==l.length?(0,C.jsx)(x.c,{index:n,id:s,total:c||0,title:t,testId:`${s}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(a)}:${s}`,showSeeAll:o,children:l.map(((e,t)=>(0,C.jsx)(f.oL,{value:s,index:t,children:(0,C.jsx)(ps.s,{onClick:()=>i(e),entity:e,index:t})},e.uri)))}):null},ys="pE9ccpPiPFWfTWfDdKT_",hs=({results:e})=>{const{query:t,serpId:s,onAddToHistory:a}=N(),r=(0,ae.oj)(t).toURI(),{spec:i,UBIFragment:n}=(0,g.gp)(se.u,{data:{uri:r,reason:s}});return 0===e?.podcasts.totalCount&&0===e?.episodes.totalCount?(0,C.jsx)(n,{spec:i.emptyResultsFactory(),children:(0,C.jsx)(me,{forChip:P.cd.podcastAndEpisodes()})}):(0,C.jsx)(n,{spec:i,children:(0,C.jsxs)("div",{className:ys,children:[0!==e?.podcasts.totalCount&&(0,C.jsx)("div",{children:(0,C.jsx)(ms,{position:0,category:"podcasts",title:P.cd.podcastAndEpisodes(),query:t,results:e?.podcasts,onAddToHistory:a})}),0!==e?.episodes.totalCount&&(0,C.jsx)("div",{children:(0,C.jsx)(ds,{displayEmptyPageOnEmptyResults:!1,displayError:!1})})]})})};var gs=s(50737),xs=s(25620),js=s(26208);const fs="bCoyoXohuLs0f6urF2PD",bs="EF2m35WFubo6yUwP04MQ",Cs=({displayChips:e,category:t})=>{const{query:s,api:r,serpId:n,onAddToHistory:o}=N(),{results:l,isError:c,fetchData:d,totalCountRef:p}=ge(30,(0,a.useCallback)(((e,a)=>r.getSearchCategoryResults(s,t,!0,e,a)),[r,t,s])),m=(0,a.useCallback)(((e,t)=>(0,C.jsx)(f.oL,{value:"card",index:t,children:(0,C.jsx)(ps.s,{entity:e,onClick:()=>o(e),testId:`search-category-card-${t}`,index:t})},`${e.uri}-${t}`)),[o]),y=(0,ae.oj)(s).toURI(),{spec:h,UBIFragment:x}=(0,g.gp)(gs.W,{data:{uri:y,identifier:t,reason:n}}),j=(0,a.useMemo)((()=>h.cardsFactory()),[h]),b=(0,a.useMemo)((()=>h.emptyResultsFactory()),[h]),k=(0,u.IP)(T.M1F)?(0,js._B)(js.AZ.ENCORE_CARDS):(0,js._B)(js.AZ.DEFAULT);return c?(0,C.jsx)(te._,{}):0===p.current?(0,C.jsx)(x,{spec:b,children:(0,C.jsx)(me,{forChip:P.cd[t]()})}):(0,C.jsx)(x,{spec:j,children:(0,C.jsx)("div",{className:i()(fs,{[bs]:e}),children:l&&(0,C.jsx)(ts.A,{onReachBottom:d,triggerOnInitialLoad:!1,children:(0,C.jsx)(xs.E,{config:k,children:(0,C.jsx)(z.C,{render:()=>l.map(((e,t)=>m(e,t)))})})})})})};var ks=s(45504),vs=s(77808),Rs=s(39188),Ss=s(40068),As=s(33912),ws=s(45208);const Is="BSIos9yETsaI3yKEqX2P",Es=({pageSize:e=100})=>{if(e>100)throw new Error("PathFinder does not support page sizes > 100");const t=(0,ws.u)(),{query:s,api:r,serpId:i}=N(),{results:n,isError:o,fetchData:l,totalCountRef:c}=ge(e,(0,a.useCallback)(((e,t)=>r.getSearchCategoryResults(s,"tracks",!1,e,t)),[r,s])),u=(0,a.useCallback)(((e,t)=>{const s=(0,Ss.C)(e.album?.images,{desiredSize:40});return(0,C.jsx)(As.rl,{index:t,uri:(0,Rs.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:s?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo},t+e.uri)}),[]),d=(0,a.useMemo)((()=>[As.yw.INDEX,As.yw.TITLE_AND_ARTIST,As.yw.ALBUM,As.yw.DURATION]),[]),m=(0,a.useCallback)((e=>({uri:e.uri})),[]),y=(0,ae.oj)(s).toURI(),{spec:h,UBIFragment:x}=(0,g.gp)(ks.i,{data:{uri:y,reason:i}}),j=(0,a.useMemo)((()=>h.tracksFactory()),[h]),b=p._s.get("search.showing-category-query-songs",s);if(o)return(0,C.jsx)(te._,{});if(0===c.current)return(0,C.jsx)(x,{spec:h.emptyResultsFactory(),children:(0,C.jsx)(me,{forChip:P.cd.podcastAndEpisodes()})});const k=t?48:vs.QJ+48;return(0,C.jsx)(x,{spec:j,children:(0,C.jsx)(f.oL,{value:"search-results-tracklist",children:(0,C.jsx)("div",{className:Is,children:n&&(0,C.jsx)(ts.A,{triggerOnInitialLoad:!1,onReachBottom:l,children:(0,C.jsx)(As.aE,{ariaLabel:b,hasHeaderRow:!0,columns:d,renderRow:u,resolveItem:m,nrTracks:n.length,headerTop:k,tracks:n,columnPersistenceKey:"search-results-tracklist"},s)})})})})},_s="hciep85bysUuJqNoK7uw",Ns="Xa3KEcm2U_GOL2KMSoHw",Ts="KjXzXFYQr6Wp2QlxPUAY",Ps=({category:e})=>{const{query:t,api:s,serpId:r}=N(),{results:n,isError:o,fetchData:l,totalCountRef:c}=ge(50,(0,a.useCallback)(((a,r)=>s.getSearchCategoryResults(t,e,!0,a,r)),[s,e,t])),u=(0,ae.oj)(t).toURI(),{spec:d,UBIFragment:p}=(0,g.gp)(gs.W,{data:{uri:u,identifier:e,reason:r}}),{ref:m,breakpoint:y}=(0,it.CA)({[it.u_.MEDIUM]:0,[it.u_.LARGE]:600}),h=(0,a.useMemo)((()=>d.cardsFactory()),[d]);if(o)return(0,C.jsx)(te._,{});if(0===c.current)return(0,C.jsx)(p,{spec:d.emptyResultsFactory(),children:(0,C.jsx)(me,{forChip:P.cd[e]()})});const x="episodes"===e||"podcasts"===e,j="topResults"===e;return(0,C.jsx)(p,{spec:h,children:(0,C.jsx)(it.yM.Provider,{value:y,children:(0,C.jsx)("div",{ref:m,className:i()(_s,{[Ts]:x}),children:n&&(0,C.jsx)(ts.A,{onReachBottom:l,triggerOnInitialLoad:!1,className:Ns,children:n.map(((e,t)=>(0,C.jsx)(es,{entity:e,index:t,withEntityTag:j},e.uri)))})})})})},Fs=({results:e,hasResults:t})=>{const{query:s,serpId:r}=N(),i=(0,ae.oj)(s).toURI(),{spec:n,UBIFragment:o}=(0,g.gp)(gs.W,{data:{uri:i,identifier:"topResults",reason:r}}),{ref:l,breakpoint:c}=(0,it.CA)({[it.u_.MEDIUM]:0,[it.u_.LARGE]:600}),u=(0,a.useMemo)((()=>n.cardsFactory()),[n]);return e&&t||n.emptyResultsFactory(),(0,C.jsx)(o,{spec:u,children:(0,C.jsx)(it.yM.Provider,{value:c,children:(0,C.jsx)("div",{ref:l,className:_s,children:e&&(0,C.jsx)(ts.A,{triggerOnInitialLoad:!1,className:Ns,children:e.topResults.items.map(((e,t)=>(0,C.jsx)(es,{entity:e,index:t,withEntityTag:!0},e.uri)))})})})})},Us="podcastAndEpisodes",Ls="episodes",qs=({results:e,hasResults:t,displayChips:s})=>{const{category:a}=N(),r=(0,u.IP)(T.OMw);return a?a===Us?(0,C.jsx)(hs,{results:e}):r?"topResults"===a?(0,C.jsx)(Fs,{results:e,hasResults:t}):(0,C.jsx)(Ps,{category:a}):"tracks"===a?(0,C.jsx)(Es,{}):a===Ls?(0,C.jsx)(ds,{enableInfiniteScroll:!0,showTitle:!1}):(0,C.jsx)(Cs,{displayChips:s,category:a}):(0,C.jsx)(te._,{})};var Ms=s(86904),Ds=s(19424),Os=s(58703);const Bs=a.memo((function({tracks:e,query:t}){const s=(0,u.IP)(T.Wwy),r=(0,a.useCallback)(((e,t)=>{const a=(0,Ss.C)(e.album?.images,{desiredSize:40});return(0,C.jsx)(As.sh,{uri:(0,Rs.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:t,imgUrl:a?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo&&s},e.uri)}),[s]),i=(0,a.useMemo)((()=>[As.yw.TITLE_AND_ARTIST,As.yw.DURATION]),[]),n=(0,a.useCallback)((e=>({uri:e.uri})),[]);return e&&(0,C.jsx)(f.oL,{value:"search-results-tracklist",children:(0,C.jsx)(As.aE,{ariaLabel:p._s.get("search.a11y.songs-search-results"),renderRow:r,rowPlaceholder:As.gl,nrTracks:Math.min(e.length,4),tracks:e,resolveItem:n,columns:i},t)})}),((e,t)=>e.tracks===t.tracks));var Hs=s(18040);const Vs="search-searchResult-tracklistHeader",Ws="search-searchResult-tracklistHeaderWrapper",Qs="search-searchResult-tracklistHeaderText",Gs="VL6wjp4Br_D3FEWrUGGR",Ks="search-searchResult-tracklistContainer",zs="search-searchResult-tracklist",Xs=({tracks:e,query:t,className:s,showSeeAll:r=!0,spec:n})=>{const o=(0,g.Mk)(),l=(0,a.useCallback)((()=>(0,C.jsx)("div",{className:zs,children:(0,C.jsx)(a.Suspense,{fallback:null,children:(0,C.jsx)(Bs,{tracks:e.items,query:t})})})),[t,e]),c=`spotify:app:search:${encodeURIComponent(t)}:tracks`,u=(0,a.useCallback)((()=>{const e=n.headerFactory().titleFactory().hitUiNavigate({destination:c});o.logInteraction(e)}),[o,n,c]),d=(0,a.useCallback)((()=>{const e=n.headerFactory().seeAllFactory().hitUiNavigate({destination:c});o.logInteraction(e)}),[o,n,c]);return e.items.length?(0,C.jsxs)("section",{className:i()(Ks,s),"aria-label":p._s.get("search.title.tracks"),"data-testid":"search-tracks-result",children:[(0,C.jsx)("div",{className:Vs,children:e.items.length>3?(0,C.jsxs)("div",{className:Ws,children:[(0,C.jsx)("div",{className:Qs,children:(0,C.jsx)(ne.a,{as:"h2",variant:"titleSmall",children:r?(0,C.jsx)(I.Link,{to:c,className:Gs,onClick:u,children:p._s.get("search.title.tracks")}):(0,C.jsx)("span",{className:Gs,children:p._s.get("search.title.tracks")})})}),r&&(0,C.jsx)(Hs.SeeAll,{link:c,onClick:d})]}):(0,C.jsx)(ne.a,{as:"h2",variant:"titleSmall",className:Gs,children:p._s.get("search.title.tracks")})}),(0,C.jsx)(g.Ud,{spec:n,children:(0,C.jsx)(z.C,{render:l})})]}):null},Ys=({topRecommendations:e,query:t,className:s,onAddToHistory:a,position:r,showSeeAll:i})=>{const n=e.totalCount||0;return(0,C.jsx)(x.c,{index:r,id:"top-recommendations",className:s,total:n,title:p._s.get("artist-page.featuring",e.artistName),seeAllUri:`spotify:app:search:${encodeURIComponent(t)}:topRecommendations`,showSeeAll:i,children:e.items.map(((e,t)=>(0,C.jsx)(f.oL,{index:t,value:"top-recommendations",children:(0,C.jsx)(ps.s,{onClick:()=>a(e),entity:e,index:t})},e.uri)))})};var $s=s(29384);const Js="search-searchResult-topResult",Zs="search-searchResult-topResultCard",ea="search-searchResult-searchResultGrid",ta="EFHPppToKFxfm6SRhL6K",sa="search-searchResult-tracklistShort",aa="search-searchResult-tracklistLong",ra="FTRmZyHUkeVY_X3RawUc",ia="Tx_CKMgRE8CpW5vLdpAe",na=({topResults:e,onAddToHistory:t})=>{const[s]=e.items;return s&&(0,C.jsx)($s.y,{total:1,className:Js,title:p._s.get("search.title.top-result"),removeOffsetMargin:!0,children:[(0,C.jsx)("div",{"aria-live":"polite","data-testid":"top-result-card",className:Zs,children:(0,C.jsx)(f.oL,{value:"top-result-card",children:(0,C.jsx)(ps.s,{isHero:!0,index:0,onClick:()=>t(s),entity:s})})},"top-result-item")]})},oa=({results:e})=>{const{query:t,onAddToHistory:s,serpId:r}=N(),i=(0,ae.oj)(t).toURI(),{spec:n,UBIFragment:o}=(0,g.gp)(Os.W,{data:{uri:i,reason:r}}),l=e.topResults.items.length>0,c=e.tracks.items.length>0,u=e.topRecommendations.items.length>0,d=(0,a.useMemo)((()=>({topResult:n.topResultFactory(),trackList:n.trackListFactory(),shelves:n.shelvesFactory()})),[n]);return(0,C.jsx)(z.C,{className:ea,rowGap:Ds.Q9,testId:"search-results",render:({columnCount:a})=>{let r,i;return l?r=a>3?sa:aa:u&&(a>5&&c?(r=ta,i=ra):(r=aa,i=ia)),(0,C.jsxs)(f.oL,{value:"search-results",children:[l&&(0,C.jsx)(o,{spec:d.topResult,children:(0,C.jsx)(na,{topResults:e.topResults,onAddToHistory:s})}),c&&(0,C.jsx)(Xs,{spec:d.trackList,className:r,query:t,tracks:e.tracks,onAddToHistory:s,showSeeAll:!1}),u&&(0,C.jsx)(o,{spec:d.shelves,children:(0,C.jsx)(Ys,{position:0,query:t,className:i,topRecommendations:e.topRecommendations,onAddToHistory:s,showSeeAll:!1})}),P.sn.map(((a,r)=>(0,C.jsx)(o,{spec:d.shelves,children:(0,C.jsx)(ms,{position:r+1,category:a,title:P.cd[a](),query:t,results:e[a],onAddToHistory:s,showSeeAll:!1})},`search-shelf-${a}`)))]})}})},la=({results:e,hasResults:t,category:s="topResults"})=>{const a=(0,u.IP)(T.OMw),{category:r,query:i,serpId:n}=N(),o=(0,ae.oj)(i).toURI(),l=!(0,K.O)(),{spec:c,UBIFragment:d}=(0,g.gp)(Os.W,{data:{uri:o,reason:n}});return l?(0,C.jsx)(me,{}):e?e&&!t?(0,C.jsx)(d,{spec:c.emptyResultsFactory(),children:(0,C.jsx)(me,{})}):a&&!r?s===Us?(0,C.jsx)(hs,{results:e}):(0,C.jsx)(Fs,{results:e,hasResults:t}):(0,C.jsx)(oa,{results:e}):null};var ca=s(864),ua=s(43052),da=s(92280),pa=s(10484),ma=s(99640);const ya=(e,t)=>{const s="object"==typeof e?.requestIds?e?.requestIds:void 0,a=s?.[t],r="object"==typeof a?a:void 0;return"string"==typeof r?.["search-api"]?r?.["search-api"]:void 0},ha=e=>ya(e,"/searchV2"),ga=e=>ya(e,"/searchV2/topResults");var xa=s(88272);s(99972);const ja=new xa.a("searchFullEpisodes","query","22e377f7b7c40e7ee0aa57dcb6d27120e524bb7dc14271101abed22aded60f8e",null);var fa=s(10572),ba=s(96768),Ca=s(33896),ka=s(59476),va=s(88168);function Ra(e){return e.map((e=>e.url?{url:e.url,width:Number(e.width)||56,height:Number(e.height)||56}:e))}const Sa={type:W.s.SHOW,uri:"",name:"",publisher:"",images:[],mediaType:va.v.UNKNOWN};function Aa(e,t){return{items:wa(e?.items||[],t),totalCount:e?.totalCount||0}}function wa(e,t){return e.map((e=>Ia(e,t))).filter(ba.g)}function Ia(e,t){if("Episode"!==e.data?.__typename)return null;const s=e.data,a=s.podcastV2.data;let r=Sa;return"Podcast"===a.__typename&&(r={type:W.s.SHOW,uri:a.uri,name:a.name,publisher:a.publisher?.name||"",mediaType:(0,ka.cT)(a.mediaType),images:Ra(a.coverArt?.sources||[])}),{type:W.s.EPISODE,name:s.name,images:Ra(s.coverArt?.sources||[]),uri:s.uri,duration:{milliseconds:s.duration.totalMilliseconds},isExplicit:s.contentRating?.label===V.A7.Explicit,release:(0,ka.w3)(s.releaseDate),description:s.description||"",timeLeft:{milliseconds:s.playedState.state===V.QF.Completed?0:s.duration.totalMilliseconds-s.playedState.playPositionMilliseconds},is19PlusOnly:s.contentRating?.label===V.A7.NineteenPlus,show:r,requestId:t,color:(0,Ca.y_)(s.coverArt?.extractedColors),mediaType:s.mediaTypes??[],podcastSubscription:(0,ka.w7)(s.restrictions,s.playability)}}const Ea={...Sa,description:"",htmlDescription:"",coverArt:[],trailer:null,topics:[],podcastType:"UNKNOWN",showTypes:[],publisherName:"",consumptionOrder:"recent",nextBestEpisode:void 0,gatedContentAccessReason:void 0,isLocked:!1};function _a(e,t){return e.map((e=>function(e,t){if("Episode"!==e.data?.__typename)return null;let s=Ea;"Podcast"===e.data.podcastV2.data.__typename&&(s=(0,fa.U9)(e.data.podcastV2.data));return{requestId:t,episode:(0,fa.mc)(e.data),show:s}}(e,t))).filter(ba.g)}async function Na(e,t){const s=await e(ja,t),a=s?.data?.searchV2?.episodes;return a?function(e,t){return{items:_a(e?.items||[],t),totalCount:e?.totalCount||0}}(a,ha(s?.extensions)):null}const Ta=new xa.a("searchDesktop","query","5e360fd8ecc91d7a2aa8ab520bad903cc67f864a9df86b579cf51a53c9589b7f",null);function Pa(e,t){if("PreRelease"!==e.data?.__typename)return null;const s=e.data.preReleaseContent;if(!s)return null;const a=(0,ka.w3)(e.data.releaseDate),r=s.artists.items.map((e=>"Artist"===e.data.__typename?{type:W.s.ARTIST,name:e.data.profile.name,uri:e.data.uri}:null)).filter(ba.g);return{type:W.s.PRE_RELEASE,name:s.name||"",uri:e.data.uri,images:Ra(s.coverArt?.sources||[]),release:a,releaseTimezone:e.data.timezone,artists:r,color:(0,Ca.y_)(s.coverArt?.extractedColors),requestId:t}}function Fa(e,t){return{items:(e?.items||[]).map((e=>{const{__typename:s}=e;switch(s){case"AlbumResponseWrapper":return Ua(e,t);case"PreReleaseResponseWrapper":return Pa(e,t);case"UnknownTypeWrapper":return null;default:return(0,xe.I)(s),null}})).filter(ba.g),totalCount:e?.totalCount||0}}function Ua(e,t){if("Album"!==e.data.__typename)return null;const s=e.data;return{type:W.s.ALBUM,name:s.name,uri:s.uri,images:Ra(s.coverArt?.sources||[]),artists:s.artists.items.map((e=>({type:W.s.ARTIST,name:e.profile.name,uri:e.uri}))),year:s.date?.year,requestId:t,color:(0,Ca.y_)(e.data.coverArt?.extractedColors)}}const La=new xa.a("searchAlbums","query","4ddf4d062c3c268954bb113ca2a24c6440e8c832170185388a087ca8608c727c",null);function qa(e,t){return{items:Ma(e?.items||[],t),totalCount:e?.totalCount||0}}function Ma(e,t){return e.map((e=>Da(e,t))).filter(ba.g)}function Da(e,t){if("Artist"!==e.data?.__typename)return null;const s=e.data;return{type:W.s.ARTIST,name:s.profile.name,images:Ra(s.visuals?.avatarImage?.sources||[]),uri:s.uri,verified:s.profile.verified||!1,requestId:t,color:(0,Ca.y_)(s.visuals.avatarImage?.extractedColors)}}const Oa=new xa.a("searchArtists","query","e07f4daeae2c35880f043847d4fda640517737eb66cf5f203c9e3deb93206977",null);function Ba(e,t){return{items:Ha(e?.items||[],t),totalCount:e?.totalCount}}function Ha(e,t){return e.map((e=>Va(e,t))).filter(ba.g)}function Va(e,t){if("Audiobook"!==e.data?.__typename)return null;const s=e.data;return{type:W.s.AUDIOBOOK,uri:s.uri,name:s.name,images:Ra(s.coverArt?.sources||[]),authorName:s.authors?.[0]?.name??"",topics:s.topics.items||[],publishDate:s.publishDate?new Date(s.publishDate.isoString):null,requestId:t,color:(0,Ca.y_)(s.coverArt?.extractedColors),signifierText:s.accessInfo?.signifier?.text??void 0}}const Wa=new xa.a("searchAudiobooks","query","7260cfdd59ba4f5588502dafd25def5164c6841c68a26bb60d9c75ba47bf29b4",null);const Qa=new xa.a("searchEpisodes","query","6c94e7db591c68ff6244234e1b2378b3eb6a1f5c1999b711a7bd12b9708f6322",null);function Ga(e,t){return{items:Ka(e?.items||[],t),totalCount:e?.totalCount||0}}function Ka(e,t){return e.map((e=>za(e,t))).filter(ba.g)}function za(e,t){if("Genre"!==e.data?.__typename)return null;const s=e.data,a=(0,ae.nX)(s.uri);return{type:W.s.GENRE,name:s.name,uri:a?s.uri:`spotify:genre:${s.uri}`,images:Ra(s.image?.sources||[]),requestId:t,color:(0,Ca.y_)(s.image?.extractedColors)}}const Xa=new xa.a("searchGenres","query","9e1c0e056c46239dd1956ea915b988913c87c04ce3dadccdb537774490266f46",null);const Ya={type:W.s.USER,uri:"",displayName:"",username:"",images:[]};function $a(e,t){return{items:Ja(e?.items||[],t),totalCount:e?.totalCount||0}}function Ja(e,t){return e.map((e=>Za(e,t))).filter(ba.g)}function Za(e,t){if("Playlist"!==e.data?.__typename)return null;const s=e.data;let a=Ya;if("User"===s.ownerV2?.data.__typename){const e=s.ownerV2?.data;a={type:W.s.USER,uri:e.uri||"",displayName:e.name||"",username:e.username||"",images:Ra(e.avatar?.sources||[])}}return{type:W.s.PLAYLIST,uri:s.uri,name:s.name,images:Ra(s.images?.items.flatMap((e=>e.sources))||[]),owner:a,requestId:t,formatListData:{type:s.format??"",attributes:(r=s.attributes??[],r.reduce(((e,t)=>(e[t.key]=t.value,e)),{}))},color:(0,Ca.y_)(s.images.items[0]?.extractedColors)};var r}const er=new xa.a("searchPlaylists","query","fc3a690182167dbad20ac7a03f842b97be4e9737710600874cb903f30112ad58",null);function tr(e,t){return{items:sr(e?.items||[],t),totalCount:e?.totalCount||0}}function sr(e,t){return e.map((e=>ar(e,t))).filter(ba.g)}function ar(e,t){if("Podcast"!==e.data?.__typename)return null;const s=e.data;return{type:W.s.SHOW,uri:s.uri,name:s.name,images:Ra(s.coverArt?.sources||[]),publisher:s.publisher?.name||"",topics:s.topics.items||[],requestId:t,color:(0,Ca.y_)(s.coverArt?.extractedColors)}}const rr=new xa.a("searchPodcasts","query","cbd33edc7a612454640d753caff6fb1074a7868843612d257dcef5e71e837dd9",null);function ir(e,t){return{items:nr(e,t),totalCount:e?.totalCount||0}}function nr(e,t){return e?.items.map((({item:e,matchedFields:s})=>or(e,s,t))).filter(ba.g)||[]}function or(e,t,s){if("Track"!==e.data?.__typename)return null;const a=e.data,r=a.albumOfTrack,i=!!a.associations&&a.associations.associatedVideos.totalCount>0;return{type:W.s.TRACK,uri:a.uri,name:a.name,isPlayable:a.playability.playable,album:{type:W.s.ALBUM,uri:r?.uri||"",name:r?.name||"",images:Ra(r?.coverArt?.sources||[])},artists:a.artists.items.map((e=>({type:W.s.ARTIST,name:e.profile.name,uri:e.uri}))),duration:{milliseconds:a.duration.totalMilliseconds},hasAssociatedVideo:i,isExplicit:"EXPLICIT"===a.contentRating?.label,is19PlusOnly:"NINETEEN_PLUS"===a.contentRating?.label,requestId:s,isLyricsMatch:!!t?.includes(V.a6.Lyrics),color:(0,Ca.y_)(r?.coverArt?.extractedColors)}}const lr=new xa.a("searchTracks","query","875aaad13da3b8cebc0951584343999525b242d3a6a45caf33423bbf6f027af3",null);function cr(e,t){return{items:ur(e?.items||[],t),totalCount:e?.totalCount||0}}function ur(e,t){return e.map((e=>dr(e,t))).filter(ba.g)}function dr(e,t){if("User"!==e.data?.__typename)return null;const s=e.data;return{type:W.s.USER,uri:s.uri,name:s.displayName||s.username,images:Ra(s.avatar?.sources??[]),requestId:t,color:(0,Ca.y_)(s.avatar?.extractedColors)}}const pr=new xa.a("searchUsers","query","d3f7547835dc86a4fdf3997e0f79314e7580eaf4aaf2f4cb1e71e189c5dfcb1f",null);function mr(e,t){const s=e?.itemsV2??[],a=s.map((({item:e,matchedFields:s})=>{const{__typename:a}=e;switch(a){case"AlbumResponseWrapper":return Ua(e,t);case"ArtistResponseWrapper":return Da(e,t);case"AudiobookResponseWrapper":return Va(e,t);case"EpisodeResponseWrapper":return Ia(e,t);case"GenreResponseWrapper":return za(e,t);case"PlaylistResponseWrapper":return Za(e,t);case"PodcastResponseWrapper":return ar(e,t);case"TrackResponseWrapper":return or(e,s,t);case"UserResponseWrapper":return dr(e,t);case"PreReleaseResponseWrapper":return Pa(e,t);case"UnknownTypeWrapper":return null;default:return(0,xe.I)(a),null}})).filter(ba.g);return{totalCount:s.length,items:a}}function yr(e,t){const s=e?.featured||[];return{artistName:s.length?hr(e):"",items:s?.map((e=>Za(e,t))).filter(ba.g)||[],totalCount:s.length||0}}function hr(e){const t=(0,ka.Dj)(e,"itemsV2",[]);try{const e=(0,ka._M)(t.map((({item:e})=>e)).filter(Boolean),"0.data");return e?.profile?.name||""}catch{return""}}const gr=new xa.a("searchTopResultsOnly","query","08cb2e4ea426d1ed10bef76b7d65cee91a82156d962a4aad0936a9720842e58d",null);const xr={items:[],totalCount:0},jr={albums:{items:[],totalCount:0},artists:{items:[],totalCount:0},episodes:{items:[],totalCount:0},genres:{items:[],totalCount:0},playlists:{items:[],totalCount:0},podcasts:{items:[],totalCount:0},audiobooks:{items:[],totalCount:0},topResults:{items:[]},tracks:{items:[],totalCount:0},users:{items:[],totalCount:0},topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}},fr={albums:async function(e,t){const s=await e(La,t),a=s?.data?.searchV2?.albumsV2;return a?Fa(a,ha(s?.extensions)):null},artists:async function(e,t){const s=await e(Oa,t),a=s?.data?.searchV2?.artists;return a?qa(a,ha(s?.extensions)):null},episodes:async function(e,t){const s=await e(Qa,t),a=s?.data?.searchV2?.episodes;return a?Aa(a,ha(s?.extensions)):null},genres:async function(e,t){const s=await e(Xa,t),a=s?.data?.searchV2?.genres;return a?Ga(a,ha(s?.extensions)):null},playlists:async function(e,t){const s=await e(er,t),a=s?.data?.searchV2?.playlists;return a?$a(a,ha(s?.extensions)):null},podcasts:async function(e,t){const s=await e(rr,t),a=s?.data?.searchV2?.podcasts;return a?tr(a,ha(s?.extensions)):null},audiobooks:async function(e,t){const s=await e(Wa,t),a=s?.data?.searchV2?.audiobooks;return a?Ba(a,ha(s?.extensions)):null},tracks:async function(e,t){const s=await e(lr,t),a=s?.data?.searchV2?.tracksV2;return a?ir(a,ha(s?.extensions)):null},users:async function(e,t){const s=await e(pr,t),a=s?.data?.searchV2?.users;return a?cr(a,ha(s?.extensions)):null},topResults:async function(e,t){const s=await e(gr,t),a=s?.data?.searchV2?.topResultsV2;return a?mr(a,ga(s?.extensions)):null},podcastAndEpisodes:Na};class br{constructor(e){this._request=e}async getSearchResults(e,t=!0,s=0,a=10,r=5){const i={searchTerm:e,offset:s,limit:a,numberOfTopResults:r,includeAudiobooks:t},n=await this._request(Ta,i),o=n?.data?.searchV2;if(!o)return jr;const l=ha(n?.extensions),c=ga(n?.extensions);return{albums:Fa(o.albumsV2,l),artists:qa(o.artists,l),episodes:Aa(o.episodes,l),genres:Ga(o.genres,l),playlists:$a(o.playlists,l),podcasts:tr(o.podcasts,l),audiobooks:Ba(o.audiobooks??null,l),tracks:ir(o.tracksV2,l),users:cr(o.users,l),topResults:mr(o.topResultsV2,c),topRecommendations:yr(o.topResultsV2,c),chipOrder:o.chipOrder}}async getSearchCategoryResults(e,t,s=!1,a=0,r=25,i=20){const n={searchTerm:e,offset:a,limit:r,numberOfTopResults:i,includeAudiobooks:s},o=fr[t];return await o(this._request,n)||xr}async getFullEpisodes(e,t=0,s=25){const a={searchTerm:e,offset:t,limit:s};return await Na(this._request,a)||xr}}var Cr=s(2568),kr=s(45456);const vr=({results:e,hasResults:t})=>{const s=(0,u.IP)(T.OMw),r=(0,ws.u)(),{isBrowser:l}=(0,n.w1)((e=>e.platform)),c=(0,n.w1)(ma.SS),p=(0,da.A)(),y=(0,m.mg)(),{version:h}=(0,m.eq)(),{category:g}=N(),x=((e,t,s)=>{const a=e?.chipOrder?.items??[];return Array.from(a.reduce(((a,r)=>{if(!r.typeName)return a;if(!s&&r.typeName===V.Q3.TopResults)return a;const[i,n]=G[r.typeName];return n&&i&&(t===n||e?.[i]?.items?.length)?(a.add(n),a):a}),new Set([])))})(e,g,s),j="podcasts"!==g&&"episodes"!==g,b=s?x[0]:void 0,k=(e=>{if(!e)return!1;const[t]=e.topResults.items;return Boolean(t&&t.type===W.s.TRACK)})(e),v=(0,u.IP)(T.qaN);return(0,a.useEffect)((()=>{l||e&&t&&(({eventSender:e,country:t,isAnonymous:s,context:a,variant:r})=>{const i={category:"internal-search-test",action:"search-results-page-visit",variant:r,label:"desktop-app",context:a,os:(0,Q.k)(),country:t,spt:(0,H.Ij)("sp_t")};s?e.send((0,B.O)(i)):e.send((0,O.E)(i))})({eventSender:y,country:c,isAnonymous:p,context:JSON.stringify({top_result_is_track:k,version:h}),variant:v})}),[c,y,t,p,l,e,k,v,h]),(0,C.jsxs)(f.oL,{value:"search-page",children:[!r&&(0,C.jsx)(ua.J,{children:(0,C.jsx)(Ms.o,{isSearchChipsEnabled:!0})}),(0,C.jsx)(D,{searchCategories:x,selectedCategory:g??b,displayChips:j}),(0,C.jsx)("div",{className:i()("contentSpacing",{[kr.c.narrowPage]:s&&e}),id:"searchPage",children:(0,C.jsx)(z.C,{className:kr.c.searchPageGrid,render:()=>(0,C.jsxs)(o.c5,{children:[(0,C.jsx)(o.kX,{path:"/",element:(0,C.jsx)($.I,{pageId:d.eA.FIND,entityUri:"spotify:app:search",children:(0,C.jsx)(R,{})})}),(0,C.jsx)(o.kX,{path:":query",element:(0,C.jsx)(ee,{children:(0,C.jsx)(la,{results:e,hasResults:t,category:b})})}),(0,C.jsx)(o.kX,{path:":query/:category",element:(0,C.jsx)(Z,{children:(0,C.jsx)(qs,{results:e,hasResults:t,displayChips:j})})})]})})})]})};const Rr=a.memo((function(){const e=(0,u.IP)(T.OMw),t=!(0,K.O)(),[{category:s,query:r},i]=(0,Cr.k)();(0,pa.o)("search");const[n,o]=(0,a.useState)({results:null,queryForResults:r??""}),l=n.results,d=function(e){return null!==e&&void 0!==Object.keys(e).find((t=>"chipOrder"!==t&&e[t].items.length>0))}(l),m=(0,a.useMemo)((()=>new br((0,Y.Gm)(X.W.getInstance()))),[]),{searchHistory:y,setSearchHistory:h}=(0,b.y)(),g=(0,a.useCallback)((e=>{h([e,...y])}),[y,h]),x=(0,a.useCallback)((async e=>{e===n.queryForResults&&d||i(e,s,!1)}),[n.queryForResults,s,d,i]);(0,a.useEffect)((()=>{(async()=>{if(!r)return;if(t)return void o({results:null,queryForResults:r});const s=e?20:5,a=await m.getSearchResults(r,!0,0,10,s);o({results:a,queryForResults:r})})()}),[r,m,e,t]),(0,a.useEffect)((()=>{r||o({results:null,queryForResults:""})}),[r]);const j=(0,a.useMemo)((()=>c().create().toString()),[s,n.queryForResults]),f=(0,a.useMemo)((()=>({api:m,category:s,query:n.queryForResults,onAddToHistory:g,onSearchRequest:x,serpId:j})),[m,s,g,x,n.queryForResults,j]);return(0,C.jsxs)(_,{value:f,children:[(0,C.jsx)(ca.Q,{children:p._s.get("search.page-title")}),(0,C.jsx)(vr,{results:l,hasResults:d})]})}))},39244:(e,t,s)=>{s.d(t,{e:()=>h});var a=s(96651),r=s(49232),i=s(7296);s(73952),s(97296);const n=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function o(e,t){return e.filter((e=>e.label?e.label===t:e.width?n(e.width)===t:!!e.height&&n(e.height)===t))[0]}var l=s(98399);var c=s(86852);function u(e){const t=o(e,"standard"),s=o(e,"large"),a=o(e,"small"),r=o(e,"xlarge");return{image_url:t?.url,image_height:t?.height?.toString(),image_width:t?.width?.toString(),image_url_large:s?.url,image_height_large:s?.height?.toString(),image_width_large:s?.width?.toString(),image_url_small:a?.url,image_height_small:a?.height?.toString(),image_width_small:a?.width?.toString(),image_url_xlarge:r?.url,image_height_xlarge:r?.height?.toString(),image_width_xlarge:r?.width?.toString()}}var d=s(6912),p=s(94192),m=s(43619),y=s(15040);function h(e,t){const s=(0,i.w)(),n=(0,d.Q)(),{isPlaying:o,isActive:h}=(0,p.Cu)(e?.uri||""),{isActive:g}=(0,p.kP)(t?.uri||""),x=(0,r.IP)(y.eo7);return(0,a.useCallback)((a=>{if(!t||!e)return;const r=function(e,t,s=!1){const a=(e.coverArt?.sources||[]).sort(((e,t)=>(t.width||0)-(e.width||0))),r=(0,l.ev)(e,t),i=(0,l.Mb)(t)||r,n=e.mediaTypes&&e.mediaTypes.includes(c.iM.Video)?"video":"audio";return{uri:e.uri,title:e.name,subtitle:t.name,type:"episode",album_uri:t.uri,album_title:t.name,artist_uri:t.uri,artist_name:t.name,...u(a),media_type:s?n:"audio",isTrailer:r,anonymousPlaybackAllowed:i}}(e,t,x);g&&!o&&h&&!a?n.resume():g&&o&&!a?(s({type:"click",intent:"pause",targetUri:e.uri}),n.pause()):(s({type:"click",intent:"play",targetUri:e.uri}),n.play({uri:t.uri,pages:[{items:[{type:m.s.EPISODE,uri:e.uri,uid:null,metadata:r,provider:null}]}]},{referrerIdentifier:n.getReferrer(),featureIdentifier:"episode"},a))}),[t,e,x,g,o,h,n,s])}},39188:(e,t,s)=>{s.d(t,{a:()=>a});const a=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-search.js.map