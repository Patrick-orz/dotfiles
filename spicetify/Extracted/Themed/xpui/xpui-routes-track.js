"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7752],{88284:(e,a,t)=>{t.d(a,{q:()=>i});var n=t(88272),r=t(99972);const c=new n.a("getTrack","query","ae85b52abb74d20a4c331d4143d4772c95f34757bfa8c625474b912b9055b5c0",null),i=(e,a)=>(0,r.U)(c,e,a)},52152:(e,a,t)=>{t.r(a),t.d(a,{default:()=>m});var n=t(96651),r=t(4564),c=t(33220),i=t(14788),s=t(12100),o=t(92376),d=t(88284),l=t(68964),u=t(99972),f=t(6912),k=t(40104),b=t(2488);const g=n.memo((function(){const e=(0,c.i6)(),a=(0,c.IT)(),t=(0,n.useContext)(k.Iv),g=(0,f.Q)(),{trackId:m=""}=(0,c.W4)(),{isAnonymous:p}=(0,r.w1)(l.cx),h=new URLSearchParams(a.search).get("context")||"",U=(0,i.U1)(m).toURI(),y=(0,d.q)({uri:U},{gcTime:30*u.y}),I=(0,n.useCallback)(((a,t)=>{const n=g.getState(),r=(0,i.nX)(t)?.toURLPath(!0),c=`${r}?highlight=${U}`;p?e(c):(n&&!n.isPaused||a>-1&&g.play({uri:t},{featureIdentifier:"track",referrerIdentifier:"deeplink"},{skipTo:{index:a}}),e(c,{replace:!0}))}),[e,p,g,U]),T=(0,n.useCallback)((()=>{if(!y.loading&&y.data?.trackUnion&&"Track"===y.data.trackUnion.__typename){const e=(y.data.trackUnion.albumOfTrack?.tracks?.items??[]).findIndex((e=>e.track.uri===U));e>=0&&I(e,y.data.trackUnion.albumOfTrack?.uri||"")}}),[I,y,U]);return(0,n.useEffect)((()=>{const e=(0,i.mS)(h);h&&e?t.getContents(h).then((e=>{const a=e.items.findIndex((e=>e?.uri===U));a<0?T():I(a,h)})):T()}),[h,T,I,t,U]),y.loading||y.error||"Track"!==y.data?.trackUnion?.__typename?(0,b.jsx)(o.K,{hasError:!y.loading,errorMessage:s._s.get("track-page.error")}):null})),m=g}}]);
//# sourceMappingURL=xpui-routes-track.js.map