"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4844],{4668:(e,t,a)=>{a.d(t,{B:()=>z});a(73952),a(97296),a(41260);var r=a(96651),i=a(8004),n=a(19424),s=a(12100),l=a(84340),c=a(88272),o=a(99972);const d=new c.a("internalLinkRecommenderTrack","query","8c3372e8c118eafd4e044b843473266ff1c7b9deb03f730080cfcad8646829e7",null);var u=a(4564),m=a(77624),p=a(71940),x=a(76995),y=a(10156),g=a(91412),b=a(57800),j=a(92280),k=a(51160),_=a(99640),h=a(68964);var f=a(14788),U=a(7300),v=a(70480),w=a(17556),I=a(41436),P=a(81604),C=a(50060),E=a(52588),M=a(57148),T=a(42300),A=a(49232),R=a(15040);var S=a(18648);var O=a(15700),$=a(52184),L=a(56684),B=a(12312),N=a(24300),F=a(79596),Y=a(45060);const D="Z9Dr8PkXFtlO8KnnDcxp",G="Bm0LUMlhVIcF5qusgdUP",q="GIyB7JDkRwjtVL6PSBbg",J="whTIka0YYAkqhqrs26Wa";var V=a(2488);const K=r.memo((function({uri:e,name:t,imgUrl:a,artists:i,isExplicit:n,index:l,albumUri:c,contextUri:o,isPlayable:d,isMOGEFRestricted:x,totalMilliseconds:g,playcount:D,parentUri:G}){const{isActive:K,isPlaying:Q,triggerPlay:W,togglePlay:X,usePlayContextItem:Z}=(0,E.I)({uri:e},{featureIdentifier:"ilr"}),z=(0,C._)(e),H=(0,$.E)(e,d),ee=i.map((e=>e.name)).join(s._s.getSeparator()),{badges:te,hasBadges:ae}=(0,M.C)({isMOGEFRestricted:x,downloadAvailability:z,isExplicit:n}),re=i.map((e=>e.name)).join(s._s.getSeparator()),ie=(0,O.m)(),ne=(({parentUri:e,destinationUrl:t})=>{const a=(0,j.A)(),i=(0,b.mg)(),n=(0,A.IP)(R.aik),s=(0,u.w1)(h.Yf),l=(0,u.w1)(_.SS);return(0,r.useCallback)((async()=>{if(!(0,f.MJ)(e))return;const r={category:"album_ilr_clicks_on_link",action:"click",variant:n,label:"dwp",os:(0,k.k)(),destination_url:t,context:`${e}|ilr`,country:s?l:"",sp_t:(0,y.Ij)("sp_t")};a?i.send((0,p.O)(r)):i.send((0,m.E)(r))}),[e,l,t,i,a,s,n])})({parentUri:G,destinationUrl:(0,f.nX)(e)?.toURL()}),se=(({parentUri:e,streamedUri:t,usePlayContextItem:a})=>{const r=(0,j.A)(),i=(0,b.mg)(),n=(0,A.IP)(R.aik),s=(0,u.w1)(h.Yf),l=(0,u.w1)(_.SS),{isPlaying:c}=a({uri:t}),o=c?"play":"pause";return(0,S.yK)((()=>{if(!(0,f.MJ)(e))return;const a={category:"album_ilr_streamed",action:r?"clicked":o,variant:n,label:"dwp",os:(0,k.k)(),context:`${e}|${t}`,country:s?l:"",sp_t:(0,y.Ij)("sp_t")};r?i.send((0,p.O)(a)):i.send((0,m.E)(a))}),1500)})({parentUri:G,streamedUri:e,usePlayContextItem:Z});return(0,V.jsx)(P.oL,{value:"row",index:l,children:(0,V.jsx)(U.U,{menu:(0,V.jsx)(L.k,{uri:e,albumUri:c,artists:i,contextUri:o}),children:(0,V.jsxs)(Y.i,{uri:e,contextUri:o,isPlayable:H,onTriggerPlay:(e,t)=>{W({loggingParams:t}),se()},isActive:K,index:l,ariaRowIndex:l,dragMetadata:{name:t,createdBy:ee},children:[(0,V.jsxs)(N.I9,{ariaColIndex:0,children:[(0,V.jsx)(N.gh,{uri:e,src:a,onClick:(e,t)=>{X({loggingParams:t}),se()},isLocked:!1,isPlaying:Q,isActive:K,playAriaLabel:s._s.get("tracklist.a11y.play",t,ee)}),(0,V.jsxs)(N.yY,{children:[(0,V.jsx)(B.a,{uri:e,enabled:ie,className:q,onClick:ne,children:(0,V.jsx)(N.Ml,{titleText:t,children:t})}),ae&&(0,V.jsxs)(N.MV,{children:[te.download&&(0,V.jsx)(v.g,{}),te.explicit&&(0,V.jsx)(w.C,{}),te.nineteen&&(0,V.jsx)(I.o,{className:J,size:16})]}),(0,V.jsx)(N.aU,{children:(0,V.jsx)(N.ui,{artists:i})})]})]}),(0,V.jsx)(N.sv,{ariaColIndex:1,children:(0,V.jsx)(F.Y,{playcount:D})}),(0,V.jsxs)(N.sP,{ariaColIndex:2,children:[(0,V.jsx)(T.K,{uri:e}),(0,V.jsx)(N.U$,{duration:g}),(0,V.jsx)(N.op,{menu:(0,V.jsx)(L.k,{uri:e,albumUri:c,contextUri:o,artists:i}),label:s._s.get("more.label.track",t,re)})]})]})})})}),((e,t)=>e.uri===t.uri&&e.index===t.index));var Q=a(73670),W=a(33912);const X=e=>{return t=e,"NotFound"!==t?.__typename&&"GenericError"!==t?.__typename&&"Track"===e.__typename;var t},Z=r.memo((function({inViewRef:e,subtitle:t,uri:a}){const{data:c}=(x={uri:a,strategy:l.Wk.ContentOnly},(0,o.U)(d,x,g));var x,g;const U=c?.seoRecommended.items,v=(0,r.useMemo)((()=>U?.slice(0,Math.min(U.length,5))),[U]),w=(0,r.useCallback)((e=>({uri:"uri"in e.data?e.data.uri:""})),[]),I=(0,r.useMemo)((()=>[W.yw.TITLE_AND_ARTIST,W.yw.ALBUM,W.yw.DURATION]),[]),P=(e=>e?e.filter((e=>X(e.data))).map((e=>e.data.uri)):[])(U);(({uri:e,recommendationUris:t})=>{const a=(0,j.A)(),i=(0,u.w1)(h.Yf),n=(0,u.w1)(_.SS),s=(0,b.mg)(),l=(0,A.IP)(R.aik),c=`${e}|${t}`;(0,r.useEffect)((()=>{const r={category:"album_ilr_exposures",action:"album_page_visit",variant:l,label:"dwp",os:(0,k.k)(),context:c,country:i?n:"",sp_t:(0,y.Ij)("sp_t")};(0,f.MJ)(e)&&0!==t.length&&(a?s.send((0,p.O)(r)):s.send((0,m.E)(r)))}),[c,n,s,a,t.length,e,i,l])})({uri:a,recommendationUris:P});const C=(0,r.useCallback)(((e,t)=>{if(!X(e.data))return(0,V.jsx)(r.Fragment,{});const i=e.data;return(0,V.jsx)(K,{index:t,contextUri:a,uri:i.uri,name:i.name,totalMilliseconds:i.duration.totalMilliseconds,imgUrl:i.albumOfTrack?.coverArt?.sources[0]?.url,isPlayable:i.playability.playable,artists:i.artists.items.map((e=>({uri:e.uri,id:e.id,name:e.profile.name}))),albumUri:i?.albumOfTrack?.uri||"",isExplicit:i.contentRating?.label===l.A7.Explicit,isMOGEFRestricted:i.contentRating?.label===l.A7.NineteenPlus,playcount:parseInt(i.playcount||"0",10),parentUri:a},`${t}-${i.uri}`)}),[a]);return U?.length?(0,V.jsxs)("div",{className:D,ref:e,children:[(0,V.jsxs)("div",{className:G,children:[(0,V.jsx)(i.a,{variant:"titleSmall",semanticColor:"textBase",children:s._s.get("playlist.extender.recommended.title")}),(0,V.jsx)(i.a,{variant:"bodySmall",paddingBottom:n.gm,children:t})]}),(0,V.jsx)(W.aE,{ariaLabel:s._s.get("playlist.extender.recommended.title"),nrTracks:Math.min(U.length,5),rowPlaceholder:W.gl,tracks:v,renderRow:C,resolveItem:w,columns:I},"internal-link-recommender-track-list")]}):null})),z=e=>{const{uri:t,entityType:a}=e,r=(({entityType:e,uri:t})=>{const a=(0,j.A)(),r=(0,b.mg)(),i=(0,u.w1)(h.Yf),n=(0,u.w1)(_.SS);return()=>{(0,g.Qp)({metric_type:x.MetricTypes.COUNTER,what:"dwp-ilr-component-error",value:1,tags:{entityType:e}});const s={category:`${e}_ilr_render_error`,label:"dwp",os:(0,k.k)(),context:t,country:i?n:"",sp_t:(0,y.Ij)("sp_t")};a?r.send((0,p.O)(s)):r.send((0,m.E)(s))}})({entityType:a,uri:t});return(0,V.jsx)(Q.a,{onError:r,children:(0,V.jsx)(Z,{...e})})}},23052:(e,t,a)=>{a.d(t,{k:()=>s});a(41260);var r=a(90464);const i="rTMkDBDp47Eo12ZEQv4U";var n=a(2488);const s=({copyrights:e,courtesyLine:t})=>{const a=(e||[]).map(((e,t)=>{const a=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let i;return i="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,n.jsx)(r.F,{as:"p",variant:"finale",dir:"auto",children:`${i} ${a}`},t)}));return t&&a.unshift((0,n.jsx)(r.F,{as:"p",variant:"finale",dir:"auto",children:t},a.length)),(0,n.jsx)("div",{className:i,children:a})}}}]);
//# sourceMappingURL=4844.js.map