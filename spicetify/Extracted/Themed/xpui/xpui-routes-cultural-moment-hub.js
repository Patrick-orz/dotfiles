"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5832],{74776:(e,t,n)=>{n.r(t),n.d(t,{CulturalMomentHub:()=>$,REDIRECT_BASE:()=>z,default:()=>J});var s=n(49232),i=n(15040),r=n(96651),l=n(10124),o=n.n(l),a=n(55560),c=n(12100),u=n(31128),d=n(76404);const m=(e,t)=>e.build().withHost(d.IZ).withPath("/hub").withQueryParameters({id:t,userHasRiF:!1}).withoutMarket().withEndpointIdentifier("cultural-moment/hub").send();var p=n(40636),h=n(32976),g=n(96956),x=n(1044),b=n(62688),f=n(73372),j=n(2488);const y=({image:e,color:t=h.on5,title:n})=>{const s=void 0===e?x.Yj.SMALL:x.Yj.DEFAULT,i=e?.custom?.sizes?.flatMap((e=>e.uri?[{url:e.uri,width:e.width,height:e.height}]:[]))??(e?.uri?[{url:e?.uri}]:[]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(x.I1,{backgroundImages:i,backgroundColor:t,size:s,children:[(0,j.jsx)(b.E,{children:n?(0,j.jsx)(f.e,{text:n}):null}),(0,j.jsx)(x.a8,{children:n?(0,j.jsx)(x.on,{children:n}):null})]}),(0,j.jsx)(g.m,{color:t})]})};n(73952),n(39568),n(41260),n(35272);var w=n(14788),v=n(90496),I=n(38896),A=n(73108);const D=e=>{if("number"==typeof e){return new Date(1e3*e).toISOString()}return null};const k=(e,t,n)=>{if(void 0===e.id)return null;const s=t.map(((e,t)=>function(e,t){const n=e.component?.id,s=e.id;if(void 0===n||void 0===s)return null;const i=e.events?.click?.data?.uri,r=e.images?.main?.uri,l=r?[{url:r}]:[];switch(n){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===i?null:(0,j.jsx)(I.w,{uri:i,name:e.text?.title??"",images:l,showImages:l,description:e.text?.description??e.text?.subtitle??"",durationMilliseconds:(o=e.custom?.duration,"number"==typeof o?o:0),releaseDate:D(e.custom?.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:t},i);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===i?null:(0,j.jsx)(A.I,{uri:i,name:e.text?.title??"",images:l,description:e.text?.description??"",authorName:e.text?.subtitle??"",index:t},i);default:return null}var o}(e,t))).flatMap((e=>e?[e]:[]));if(0===s.length)return null;const i=(0,w.nX)(e.events?.click?.data?.uri??"")?.toURLPath(!0);return(0,j.jsx)(v.c,{title:e.text?.title??"",total:s.length,seeAllUri:i,index:n,id:e.id,seeAllLabel:e.text?.accessory,children:s})},R=e=>{const t=(e=>{const t=Array();let n,s=Array();return e.forEach((e=>{"culturalmoments:sectionHeaderWithAction"===e.component?.id?(n&&0!==s.length&&t.push({heading:n,components:s}),n=e,s=Array()):n&&("culturalmoments:carousel"===e.component?.id||"glue2:carousel"===e.component?.id?e.children?.forEach((e=>{s.push(e)})):s.push(e))})),n&&0!==s.length&&t.push({heading:n,components:s}),t})(e);return(0,j.jsx)(j.Fragment,{children:t.map(((e,t)=>k(e.heading,e.components,t)))})};var C=n(97420),M=n(8004),N=n(19424),S=n(93620),O=n(11732),E=n(22876);const F="pgo3GiB844kDFl6Qbo05",_="RhOeeOpI4AOwx0QAVneD",B="XSE6HhcsNgvOjU0xmuTN";var U=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(U||{});const P=({spec:e})=>{const t=c._s.getLocaleForTranslation(),n=(0,p.Mk)(),s=(0,p.K2)(e),i=t=>{if(t===U.ANDROID){const s=e.googleBadgeFactory().hitNavigateToWebviewUri({destination:t});n.logInteraction(s)}else{const s=e.appleBadgeFactory().hitNavigateToWebviewUri({destination:t});n.logInteraction(s)}};return(0,j.jsxs)(C.k,{variant:"tinted",style:{width:600},ref:s,children:[(0,j.jsx)(M.a,{as:"p",variant:"bodyMediumBold",style:{marginBottom:N.q},children:c._s.get("web-player.cultural-moments.unsupportedHeading")}),(0,j.jsx)(M.a,{as:"p",variant:"bodySmall",style:{marginBottom:N.gm},children:c._s.get("web-player.cultural-moments.unsupportedDescription")}),(0,j.jsxs)("div",{className:o()(B),children:[(0,j.jsx)(O.default,{to:U.IOS,target:"_blank",onClick:()=>i(U.IOS),children:(0,j.jsx)("img",{src:(0,S.K)((0,E.M)(t)),alt:c._s.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:F})}),(0,j.jsx)(O.default,{to:U.ANDROID,target:"_blank",onClick:()=>i(U.ANDROID),children:(0,j.jsx)("img",{src:(0,S.K)((0,E.o)(t)),alt:c._s.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:o()(F,_)})})]})]})};var L=n(800),H=n(31860),T=n(12980),W=n(92376);const Q="BnW4ga5mfG9DYWXeADCL",V="RL_W31RCuHFbSTBORR6w",K="xfR1I0mMRPPSCr9FUSJs",X=({uri:e,id:t})=>{const{data:n,error:s,loading:i}=(0,L.Q)(m,[t]),{spec:l,UBIFragment:d}=(0,p.gp)(a.U,{data:{identifier:e,uri:e}}),h=(0,r.useMemo)((()=>l.shelvesFactory()),[l]),g=(0,r.useMemo)((()=>l.mobilePromptFactory()),[l]),x=n?.body.hubViewData?.body,b=n?.body.hubViewData?.header;if(null===n||void 0===x||void 0===b||i||null!==s)return(0,j.jsx)(W.K,{hasError:null!==s,errorMessage:c._s.get("error.generic")});const f=n.body.hubViewData?.title,w=b?.text?.title;return(0,j.jsxs)(d,{spec:l,children:[(0,j.jsx)(T.Q,{children:f??""}),w?(0,j.jsx)("div",{className:Q,children:(0,j.jsx)(y,{title:b?.text?.title,image:b.images?.background})}):null,(0,j.jsx)(d,{spec:h,children:(0,j.jsxs)("div",{className:K,children:[w&&(0,j.jsx)(H.E,{}),(0,j.jsx)("div",{className:o()("contentSpacing",V),children:(0,j.jsxs)(u.A,{children:[(0,j.jsx)(P,{spec:g}),x?R(x):null]})})]})})]})};var Y=n(92280),q=n(46736);const z="https://accounts.spotify.com/login",G=()=>{const e=window.location.href;return window.location.href=`${z}?continue=${encodeURIComponent(e)}`,null},$=e=>{const t=(0,Y.A)(),n=(0,s.IP)(i.qwu,{loadingValue:!1});return t?(0,j.jsx)(G,{}):n?(0,j.jsx)(X,{...e}):(0,j.jsx)(q.InstrumentedRedirect,{to:"/"})},J=$}}]);
//# sourceMappingURL=xpui-routes-cultural-moment-hub.js.map