(()=>{var e,t,n,s,i,r={77856:(e,t,n)=>{"use strict";n.d(t,{kF:()=>c,qy:()=>a,wJ:()=>l});var s=n(96651),i=n(2488);const r=(0,s.createContext)(null),a=({instance:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t}),o=()=>{const e=(0,s.useContext)(r);if(null===e)throw new Error("useAdsAPI must be used within a AdsAPIProvider");return e},l=()=>o().inStreamApi,c=()=>l().getInStreamAd()},53272:(e,t,n)=>{"use strict";n.d(t,{E:()=>I});n(73952),n(39568),n(41260);var s=n(96651),i=n(8004),r=n(19424),a=n(16120),o=n(65956),l=n(12100),c=n(57800),d=n(82960),u=n(45008),m=n(67316),p=n(89872),h=n(8340),g=n(11732),f=n(17148);const y="c5Ml9BbBuUEHjNkcSwZA";var _=n(2488);const b="70px",v=({adId:e,advertiser:t,tagline:n,displayImage:s,buttonMessage:i,cardOnClick:r,buttonOnClick:a,clickthroughUrl:o})=>(0,_.jsx)(g.default,{to:(0,f.W)(o),className:y,"":"leavebehind",children:(0,_.jsx)(d.U,{onClick:r,onClickHint:l._s.get("ad-formats.learnMore"),layout:"wide",variant:"tinted",id:e,size:"xl",title:(0,_.jsx)(u.Y,{weight:"bold",variant:"ballad",lineClamp:1,"":"leavebehind-advertiser",children:t}),subtitle:(0,_.jsx)(m.A,{as:"div",lineClamp:2,"":"leavebehind-tagline",children:n}),media:(0,_.jsx)(p.e,{"":"leavebehind-image",src:s.src,alt:s.alt,imageHeight:b,imageWidth:b,size:"xl"}),trailing:(0,_.jsx)(h.g,{onClick:()=>{a&&a()},"":"leavebehind-button",colorSet:"invertedLight",size:"small","aria-label":l._s.get("ad-formats.learnMore"),children:i})})});var x=n(81260),C=n(44712),E=n(71344);const S="jdxGjlENqU4Cu2WXuztT",w="VDuEhn7vq4IxDrnDlVaD",I=({leavebehinds:e,seeAllButton:t,surface:n,uri:d})=>{const u=(0,c.mg)(),m=(0,x.w)(x.O);(0,s.useEffect)((()=>{d&&e.length>0&&e.forEach(((e,t)=>{e.uri===d&&(e.trackingEvents?.viewed.forEach((async t=>{try{await m(t)}catch(s){const i=s;u.send((0,a.U)({error_type:"trackingURLFailure",error_message:i.message,http_error_code:422,surface:(0,C.sf)(n),request_url:t,request_type:"leavebehindAds",lineitem_id:e.lineitemId,ad_content_origin:(0,E.Kc)(n)}))}})),u.send((0,o.G)({leavebehind_lineitem_id:e.lineitemId,leavebehind_request_id:e.requestId,event:"event_viewed",event_reason:`viewed_on_${(0,C.sf)(n).toLowerCase()}`,surface:(0,C.sf)(n),surface_position:t+1,uri:d})))}))}),[u,m,e,d,n]);const p=({eventReason:e,lineitemId:t,requestId:s,trackingEvents:i,surfacePosition:r})=>{((e,t)=>{t?.forEach((async t=>{try{await m(t)}catch(s){const i=s;u.send((0,a.U)({error_type:"trackingURLFailure",error_message:i.name,http_error_code:422,surface:(0,C.sf)(n),request_url:t,request_type:"leavebehindAds",lineitem_id:e,ad_content_origin:(0,E.Kc)(n)}))}}))})(t,i),u.send((0,o.G)({leavebehind_lineitem_id:t,leavebehind_request_id:s,event:"event_clicked",event_reason:e,surface:(0,C.sf)(n),surface_position:r,uri:d}))};return(0,_.jsxs)("section",{"":"leavebehinds-wrapper",children:[(0,_.jsxs)("div",{className:w,children:[(0,_.jsx)(i.a,{as:"h2",semanticColor:"textBase",variant:"titleSmall",paddingBottom:r.Uk,"":"leavebehinds-title",children:l._s.get("podcast-ads.recent_ads")}),t]}),(0,_.jsx)("div",{className:S,"":"leavebehinds-list-wrapper",children:e.map(((e,t)=>(0,_.jsx)(v,{...e,buttonOnClick:()=>{p({eventReason:"button_clicked",lineitemId:e.lineitemId,trackingEvents:e.trackingEvents?.clicked,requestId:e.requestId,surfacePosition:t+1})},cardOnClick:()=>{p({eventReason:"card_clicked",lineitemId:e.lineitemId,trackingEvents:e.trackingEvents?.clicked,requestId:e.requestId,surfacePosition:t+1})}},e.adId)))})]})}},12368:(e,t,n)=>{"use strict";n.d(t,{c:()=>m});var s=n(96651),i=n(16120),r=n(49232),a=n(30260),o=n(57800),l=n(15040),c=n(84264),d=n(44712),u=n(71344);const m=function(e){const[t,n]=(0,s.useState)(),[m,p]=(0,s.useState)(!1),h=(0,o.mg)(),g=(0,r.IP)(l.EFc,{loadingValue:!1});return{data:t,error:m,getLeavebehinds:(0,s.useCallback)((async()=>{try{const t=await a.getLeavebehindsData(c.W.getInstance(),(0,d.sf)(e.surface),e.uri,e.playlistName,g);n(t.body)}catch(t){const n=t;h.send((0,i.U)({error_type:"fetchAdsFailure",error_message:n.name,http_error_code:n.status,surface:(0,d.sf)(e.surface),request_type:"leavebehindAds",ad_content_origin:(0,u.Kc)(e.surface)})),p(!0)}}),[h,e.playlistName,e.surface,e.uri,g])}}},71344:(e,t,n)=>{"use strict";n.d(t,{EB:()=>i,En:()=>d,Kc:()=>c,YZ:()=>l,Yx:()=>a,gj:()=>o,sB:()=>r});n(41260);var s=n(44712);const i=2,r=3,a=6,o=8,l=(e,t)=>{const n=e.leavebehindAds;let s=[];return n&&(s=n.map((n=>({adId:n.adId,advertiser:n.advertiser,tagline:n.tagline,displayImage:{src:n?.logoImage||n?.displayImage,alt:`${n.advertiser} logo`},buttonMessage:n.buttonMessage,clickthroughUrl:n.clickthroughUrl,trackingEvents:n.trackingEvents,requestId:e.requestId,lineitemId:n.lineitemId,uri:t})))),s};function c(e){switch(e){case s.g9.PODCAST_SCROLL_NPV:case s.g9.SHOW_PAGE:case s.g9.EPISODE_PAGE:case s.g9.PODCAST_SEE_ALL:return"podcast";case s.g9.MUSIC_NPV:case s.g9.PLAYLIST:case s.g9.MUSIC_SEE_ALL:return"music";case s.g9.UNKNOWN:return"unknown";case s.g9.UNRECOGNIZED:default:return"unrecognized"}}function d(e){switch(e){case s.g9.EPISODE_PAGE:case s.g9.PODCAST_SEE_ALL:case s.g9.PLAYLIST:case s.g9.MUSIC_SEE_ALL:case s.g9.SHOW_PAGE:return o;case s.g9.MUSIC_NPV:case s.g9.PODCAST_SCROLL_NPV:case s.g9.UNKNOWN:case s.g9.UNRECOGNIZED:default:return}}},72144:(e,t,n)=>{"use strict";n.d(t,{g:()=>c});var s=n(10124),i=n.n(s),r=n(31860),a=n(2052),o=n(28224),l=n(2488);const c=({backgroundColor:e,children:t,style:n})=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.E,{backgroundColor:e}),(0,l.jsx)(a.G,{children:(0,l.jsx)("div",{className:i()(o.c.ActionBar,"contentSpacing"),style:n,"":"action-bar",children:t})})]})},31860:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});const s="main-actionBarBackground-background";var i=n(2488);const r=({backgroundColor:e})=>(0,i.jsx)("div",{className:s,style:{backgroundColor:e}})},26681:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var s=n(28224),i=n(2488);const r=({testId:e,children:t})=>(0,i.jsx)("div",{className:s.c.ActionBarRow,"":e??"action-bar-row",children:t})},46236:(e,t,n)=>{"use strict";n.d(t,{g:()=>E});var s=n(10124),i=n.n(s),r=n(8004),a=n(76008),o=n(29036),l=n(96560),c=n(49612),d=n(8340),u=n(12100),m=n(87820),p=n(17160);const h="lIp2JaiMRS6_yF05q5N9",g="uzQIGWrDxI1E09vQnrXk",f="s58sp4t3h1uU9n_42KqD",y="c0KyMkxeMCWQGE7cR8s_",_="I2hCY2G1sJIBaTtEfJt_",b="bXJ77rNIJ18Y0GfegQdr",v="y9bkifFKNExwjaoINLm9",x="Qsmn7PN8jFZ8tATBCnFs";var C=n(2488);const E=({title:e,description:t,id:n,visible:s,primaryButtonText:E,secondaryButtonText:S,checkboxText:w,onHide:I,onPrimaryButtonClick:A,onSecondaryButtonClick:T=I,onCheckboxClick:k,onCloseClick:N=T,showButtons:O=!0,children:P,placement:j="auto",hideArrow:L,className:R,popperOptions:D,zIndex:M,maxWidth:U,tippyClassName:F,tippyWrapperClassName:B,hideOnClickOutside:G=!0,useSecondaryStyling:V=!1,childRef:H,fadeOut:W=!1,renderInline:z=!0,descriptionId:Y})=>(0,C.jsx)(m.O,{renderInline:z,visible:s,placement:j,hideArrow:L,popperOptions:D,className:F,tippyWrapperClassName:B,zIndex:M,maxWidth:U,onHide:G?I:()=>{},childRef:H,fadeOut:W,overlay:(0,C.jsxs)("div",{className:i()(h,R),"":`${n}-hook`,children:[(0,C.jsxs)("div",{className:g,children:[(0,C.jsx)(r.a,{as:"p",className:f,variant:"bodyMediumBold",children:e}),!O&&(0,C.jsx)(p.a,{size:"sm",className:x,onClick:e=>N?.(e),ariaLabel:u._s.get("close"),icon:a.K})]}),(0,C.jsx)(r.a,{as:"p",className:y,variant:"bodySmall",id:Y,children:t}),O&&(0,C.jsxs)("div",{className:_,children:[(0,C.jsx)("div",{children:w&&(0,C.jsx)(o.w,{id:"dont.show.onboarding.npv",onChange:k,semanticColor:"essentialBase",className:b,children:(0,C.jsx)(r.a,{variant:"bodySmall",children:w()})})}),(0,C.jsxs)("div",{className:v,children:[S&&(0,C.jsx)(l.u,{onClick:T,size:"small",children:S()}),E&&(V?(0,C.jsx)(c.w,{onClick:A,size:"small",children:E()}):(0,C.jsx)(d.g,{colorSet:"invertedLight",onClick:A,size:"small",children:E()}))]})]})]}),children:P})},71916:(e,t,n)=>{"use strict";n.d(t,{s:()=>d});var s=n(96651),i=n(12100),r=n(22716),a=n(71640),o=n(7296),l=n(16560),c=n(2488);const d=({id:e,children:t,targetURI:n,fadeOut:d=!1})=>{const u=(0,s.useCallback)((()=>{window.open((0,a.Gy)(n).href)}),[n]),m={getTitle:()=>i._s.get("action-trigger.available-in-app-only"),getDescription:()=>i._s.get("action-trigger.listen-mixed-media-episode"),primaryButtonText:()=>i._s.get("action-trigger.button.get-app"),secondaryButtonText:()=>i._s.get("action-trigger.button.not-now"),isCTA:!0,intentPrimaryButton:"download-app",onLogInteraction:(0,o.w)(),shouldHideOnScroll:!0,fadeOut:d};return(0,c.jsx)(r.Y,{className:l.c.container,id:e,onPrimaryButtonClick:u,options:m,children:t})}},53e3:(e,t,n)=>{"use strict";n.d(t,{e:()=>p,y:()=>m});var s=n(96651),i=n(4564),r=n(12100),a=n(22716),o=n(87820),l=n(62576),c=n(7296),d=n(16560),u=n(2488);const m=o._,p=({id:e,options:t,children:n})=>{const o=(0,i.OY)(),p=(0,s.useCallback)((()=>{o((0,l.YD)())}),[o]),h=(0,c.w)(),g={isCTA:!0,placement:m.rightTop,...t,primaryButtonText:()=>r._s.get("login"),secondaryButtonText:()=>r._s.get("action-trigger.button.not-now"),onLogInteraction:h};return(0,u.jsx)(a.Y,{className:d.c.container,id:e,onPrimaryButtonClick:p,options:g,children:n})}},10660:(e,t,n)=>{"use strict";n.d(t,{O:()=>P,o:()=>N});var s=n(96651),i=n(35044),r=n(92232),a=n(70664),o=n(50656),l=n(96560),c=n(49232),d=n(12100),u=n(85988),m=n(2488);const p=(0,s.memo)((function({size:e,onEnd:t}){return(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:1.3*e,height:1.3*e,viewBox:"0 0 384 384",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:`-${(1.3*e-e)/2}px`},children:[(0,m.jsxs)("g",{id:"_R_G",children:[(0,m.jsx)("g",{id:"_R_G_L_4_G_N_3_N_1_T_0_M",children:(0,m.jsx)("g",{id:"_R_G_L_4_G_N_3_N_1_T_0",children:(0,m.jsx)("g",{id:"_R_G_L_4_G_N_3_T_0",transform:" translate(0, 0)",children:(0,m.jsx)("g",{id:"_R_G_L_4_G",transform:" translate(0, 0.006) translate(0, 0)",children:(0,m.jsx)("path",{id:"_R_G_L_4_G_D_0_P_0",fill: getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z "})})})})}),(0,m.jsx)("g",{id:"_R_G_L_3_G_N_2_N_1_T_0_M",children:(0,m.jsx)("g",{id:"_R_G_L_3_G_N_2_N_1_T_0",children:(0,m.jsx)("g",{id:"_R_G_L_3_G_N_2_T_0",transform:" translate(0, 0)",children:(0,m.jsx)("g",{id:"_R_G_L_3_G",children:(0,m.jsx)("path",{id:"_R_G_L_3_G_D_0_P_0",fill: getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z "})})})})}),(0,m.jsx)("g",{id:"_R_G_L_2_G_N_2_N_1_T_0_M",children:(0,m.jsx)("g",{id:"_R_G_L_2_G_N_2_N_1_T_0",children:(0,m.jsx)("g",{id:"_R_G_L_2_G_N_2_T_0",transform:" translate(0, 0)",children:(0,m.jsx)("g",{id:"_R_G_L_2_G",children:(0,m.jsx)("path",{id:"_R_G_L_2_G_D_0_P_0",stroke: getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:"14",strokeOpacity:"1",d:" M0 -162 C89.41,-162 162,-89.41 162,0 C162,89.41 89.41,162 0,162 C-89.41,162 -162,89.41 -162,0 C-162,-89.41 -89.41,-162 0,-162z "})})})})}),(0,m.jsx)("g",{id:"_R_G_L_1_G_N_2_N_1_T_0_M",children:(0,m.jsx)("g",{id:"_R_G_L_1_G_N_2_N_1_T_0",children:(0,m.jsx)("g",{id:"_R_G_L_1_G_N_2_T_0",transform:" translate(0, 0)",children:(0,m.jsx)("g",{id:"_R_G_L_1_G",children:(0,m.jsx)("path",{id:"_R_G_L_1_G_D_0_P_0",fill: getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M96 -7 C96,-7 96,7 96,7 C96,7 -96,7 -96,7 C-96,7 -96,-7 -96,-7 C-96,-7 96,-7 96,-7z  M7 -96 C7,-96 7,96 7,96 C7,96 -7,96 -7,96 C-7,96 -7,-96 -7,-96 C-7,-96 7,-96 7,-96z "})})})})}),(0,m.jsx)("g",{id:"_R_G_L_0_G_N_2_N_1_T_0_M",children:(0,m.jsx)("g",{id:"_R_G_L_0_G_N_2_N_1_T_0",children:(0,m.jsx)("g",{id:"_R_G_L_0_G_N_2_T_0",transform:" translate(0, 0)",children:(0,m.jsx)("g",{id:"_R_G_L_0_G",transform:" rotate(-130) scale(1.03, 1.03)",children:(0,m.jsx)("path",{id:"_R_G_L_0_G_D_0_P_0",fill:"#1ed760",fillOpacity:"1",fillRule:"nonzero",d:" M-92.21 15.2 C-92.21,15.2 -27.04,91.53 -27.04,91.53 C-27.04,91.53 94.27,-50.53 94.27,-50.53 C94.27,-50.53 75.27,-66.67 75.27,-66.67 C75.27,-66.67 -27.04,53.15 -27.04,53.15 C-27.04,53.15 -75.83,-3.92 -75.83,-3.92 C-75.83,-3.92 -92.21,15.2 -92.21,15.2z  M-162 0 C-162,-89.47 -89.47,-162 0,-162 C89.47,-162 162,-89.47 162,0 C162,89.47 89.47,162 0,162 C-89.47,162 -162,89.47 -162,0z "})})})})})]}),(0,m.jsx)("g",{id:"time_group"}),(0,m.jsxs)("defs",{children:[(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"fill",from: getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),to: getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),keyTimes:"0;0.9090909;0.9545455;1",values:"#b3b3b3;#1db954;#1ed760;#1ed760",keySplines:"0 0 0 1;0.328 0.103 0.661 1;0 0 0 0",calcMode:"spline",ref:e=>{e&&e.addEventListener("endEvent",t,{once:!0})}}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z ",to:"M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z ",keyTimes:"0;0.9545455;1",values:"M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ",keySplines:"0 0 0.34 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_T_0",fill:"freeze",attributeName:"transform",from:"1 1",to:"0.99 0.99",type:"scale",additive:"sum",keyTimes:"0;0.9545455;1",values:"1 1;0.99 0.99;0.99 0.99",keySplines:"0.692 0 0.64 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"fill",from: getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),to: getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),keyTimes:"0;0.1818182;0.4545455;1",values:"#b3b3b3;#b3b3b3;#121212;#121212",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z ",to:"M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z ",keyTimes:"0;0.9545455;1",values:"M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z  M6 -96 C6,-96 6,96 6,96 C6,96 -6,96 -6,96 C-6,96 -6,-96 -6,-96 C-6,-96 6,-96 6,-96z ;M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z  M87.74 -37.48 C87.74,-37.48 70.28,60.99 70.28,60.99 C70.28,60.99 46.22,61 46.22,61 C46.22,61 62.59,-37.21 62.59,-37.21 C62.59,-37.21 87.74,-37.48 87.74,-37.48z ;M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z  M87.74 -37.48 C87.74,-37.48 70.28,60.99 70.28,60.99 C70.28,60.99 46.22,61 46.22,61 C46.22,61 62.59,-37.21 62.59,-37.21 C62.59,-37.21 87.74,-37.48 87.74,-37.48z ",keySplines:"0.66 0 0.34 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"1",to:"0",keyTimes:"0;0.0454545;0.0454546;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"1",to:"0",keyTimes:"0;0.0454545;0.0454546;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.7727273;0.9545455;1",values:"0;0;1;1",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.7727273;0.7727318;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{attributeType:"XML",attributeName:"opacity",dur:"0s",from:"0",to:"1",xlinkHref:"#time_group"})]})]})})),h=(0,s.memo)((function({size:e,onEnd:t}){return(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:1.3*e,height:1.3*e,viewBox:"0 0 384 384",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:`-${(1.3*e-e)/2}px`},children:[(0,m.jsxs)("g",{id:"_R_G",children:[(0,m.jsx)("g",{id:"_R_G_L_4_G_N_3_N_1_T_0_M",children:(0,m.jsx)("g",{id:"_R_G_L_4_G_N_3_N_1_T_0",children:(0,m.jsx)("g",{id:"_R_G_L_4_G_N_3_T_0",transform:" translate(0, 0)",children:(0,m.jsx)("g",{id:"_R_G_L_4_G",transform:" translate(0, 0.006) translate(0, 0)",children:(0,m.jsx)("path",{id:"_R_G_L_4_G_D_0_P_0",fill:"#1ed760",fillOpacity:"1",fillRule:"nonzero",d:" M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z "})})})})}),(0,m.jsx)("g",{id:"_R_G_L_3_G_N_2_N_1_T_0_M",children:(0,m.jsx)("g",{id:"_R_G_L_3_G_N_2_N_1_T_0",children:(0,m.jsx)("g",{id:"_R_G_L_3_G_N_2_T_0",transform:" translate(0, 0)",children:(0,m.jsx)("g",{id:"_R_G_L_3_G",children:(0,m.jsx)("path",{id:"_R_G_L_3_G_D_0_P_0",fill:"#121212",fillOpacity:"1",fillRule:"nonzero",d:" M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z "})})})})}),(0,m.jsx)("g",{id:"_R_G_L_2_G_N_2_N_1_T_0_M",children:(0,m.jsx)("g",{id:"_R_G_L_2_G_N_2_N_1_T_0",children:(0,m.jsx)("g",{id:"_R_G_L_2_G_N_2_T_0",transform:" translate(0, 0)",children:(0,m.jsx)("g",{id:"_R_G_L_2_G",transform:" rotate(-130) scale(1.03, 1.03)",children:(0,m.jsx)("path",{id:"_R_G_L_2_G_D_0_P_0",fill:"#1ed760",fillOpacity:"1",fillRule:"nonzero",d:" M-92.21 15.2 C-92.21,15.2 -27.04,91.53 -27.04,91.53 C-27.04,91.53 94.27,-50.53 94.27,-50.53 C94.27,-50.53 75.27,-66.67 75.27,-66.67 C75.27,-66.67 -27.04,53.15 -27.04,53.15 C-27.04,53.15 -75.83,-3.92 -75.83,-3.92 C-75.83,-3.92 -92.21,15.2 -92.21,15.2z  M-162 0 C-162,-89.47 -89.47,-162 0,-162 C89.47,-162 162,-89.47 162,0 C162,89.47 89.47,162 0,162 C-89.47,162 -162,89.47 -162,0z "})})})})}),(0,m.jsx)("g",{id:"_R_G_L_1_G_N_2_N_1_T_0_M",children:(0,m.jsx)("g",{id:"_R_G_L_1_G_N_2_N_1_T_0",children:(0,m.jsx)("g",{id:"_R_G_L_1_G_N_2_T_0",transform:" translate(0, 0)",children:(0,m.jsx)("g",{id:"_R_G_L_1_G",children:(0,m.jsx)("path",{id:"_R_G_L_1_G_D_0_P_0",fill: getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M96 -7 C96,-7 96,7 96,7 C96,7 -96,7 -96,7 C-96,7 -96,-7 -96,-7 C-96,-7 96,-7 96,-7z  M7 -96 C7,-96 7,96 7,96 C7,96 -7,96 -7,96 C-7,96 -7,-96 -7,-96 C-7,-96 7,-96 7,-96z "})})})})}),(0,m.jsx)("g",{id:"_R_G_L_0_G_N_2_N_1_T_0_M",children:(0,m.jsx)("g",{id:"_R_G_L_0_G_N_2_N_1_T_0",children:(0,m.jsx)("g",{id:"_R_G_L_0_G_N_2_T_0",transform:" translate(0, 0)",children:(0,m.jsx)("g",{id:"_R_G_L_0_G",children:(0,m.jsx)("path",{id:"_R_G_L_0_G_D_0_P_0",stroke: getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:"14",strokeOpacity:"1",d:" M0 -162 C89.41,-162 162,-89.41 162,0 C162,89.41 89.41,162 0,162 C-89.41,162 -162,89.41 -162,0 C-162,-89.41 -89.41,-162 0,-162z "})})})})})]}),(0,m.jsx)("g",{id:"time_group"}),(0,m.jsxs)("defs",{children:[(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:"#1ed760",to:"#1ed760",keyTimes:"0;0.9545455;1",values:"#1ed760;#b3b3b3;#b3b3b3",keySplines:"1 0 1 1;0 0 0 0",calcMode:"spline",ref:e=>{e&&e.addEventListener("endEvent",t,{once:!0})}}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z ",to:"M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z ",keyTimes:"0;0.9545455;1",values:"M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ",keySplines:"0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_T_0",fill:"freeze",attributeName:"transform",from:"0.99 0.99",to:"1 1",type:"scale",additive:"sum",keyTimes:"0;0.9545455;1",values:"0.99 0.99;1 1;1 1",keySplines:"0.66 0 0.34 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:"#121212",to:"#121212",keyTimes:"0;0.0454545;0.1818182;1",values:"#121212;#121212;#b3b3b3;#b3b3b3",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z ",to:"M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z ",keyTimes:"0;0.9545455;1",values:"M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z  M87.74 -37.48 C87.74,-37.48 70.28,60.99 70.28,60.99 C70.28,60.99 46.22,61 46.22,61 C46.22,61 62.59,-37.21 62.59,-37.21 C62.59,-37.21 87.74,-37.48 87.74,-37.48z ;M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z  M6 -96 C6,-96 6,96 6,96 C6,96 -6,96 -6,96 C-6,96 -6,-96 -6,-96 C-6,-96 6,-96 6,-96z ;M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z  M6 -96 C6,-96 6,96 6,96 C6,96 -6,96 -6,96 C-6,96 -6,-96 -6,-96 C-6,-96 6,-96 6,-96z ",keySplines:"0.66 0 0.34 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"1",to:"0",keyTimes:"0;0.0454545;0.0454546;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.9545455;0.95455;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.9545455;0.95455;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{attributeType:"XML",attributeName:"opacity",dur:"0s",from:"0",to:"1",xlinkHref:"#time_group"})]})]})}));var g=n(32976);const f=(0,s.memo)((function({size:e,onEnd:t}){const n=e>16?2.35:2.5;return(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:e*n,height:e*n,viewBox:"0 0 224 224",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:`-${(e*n-e)/2}px`},children:[(0,m.jsxs)("defs",{children:[(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_D_0_P_0",fill:"freeze",attributeName:"stroke-width",from:30,to:0,keyTimes:"0;0.1219512;0.804878;1",values:"30;30;0;0",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline",ref:e=>{e&&e.addEventListener("endEvent",t,{once:!0})}}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_D_0_P_0",fill:"freeze",attributeName:"rx",from:15,to:110,keyTimes:"0;0.1219512;0.804878;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_D_0_P_0",fill:"freeze",attributeName:"ry",from:15,to:110,keyTimes:"0;0.1219512;0.804878;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.1219512;0.804878;1",values:"1;1;0;0",keySplines:"0.2 0 0.4 1;0.2 0 0.4 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.1219512;0.1219537;0.8292683;0.8292683;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_D_0_P_0",fill:"freeze",attributeName:"stroke-width",from:30,to:0,keyTimes:"0;0.2926829;0.9756098;1",values:"30;30;0;0",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_D_0_P_0",fill:"freeze",attributeName:"rx",from:15,to:110,keyTimes:"0;0.2926829;0.9756098;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_D_0_P_0",fill:"freeze",attributeName:"ry",from:15,to:110,keyTimes:"0;0.2926829;0.9756098;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.2926829;0.9756098;1",values:"1;1;0;0",keySplines:"0.2 0 0.4 1;0.2 0 0.4 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_M",fill:"freeze",attributeName:"opacity",from:0,to:1,keyTimes:"0;0.2926829;0.2926854;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.7804878;1",values:"1;0;0",keySplines:"0.6 0 0.7 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G",fill:"freeze",keyTimes:"0;0.7804878;1",path:"M122.25 123.17 C200.25,137.25 197.5,23.92 197.5,23.92 C197.5,23.92 197.5,23.92 197.5,23.92 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.7804878;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.804878;0.8048781;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.6585366;1",values:"1;0;0",keySplines:"0.6 0 1 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G",fill:"freeze",keyTimes:"0;0.6585366;1",path:"M98 105.92 C19.75,106.25 32.25,37.42 32.25,37.42 C32.25,37.42 32.25,37.42 32.25,37.42 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.6585366;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.6829268;0.6829269;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.7317073;1",values:"1;0;0",keySplines:"0.6 0 1 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G",fill:"freeze",keyTimes:"0;0.7317073;1",path:"M112.5 123.17 C73.75,194.5 72,43.17 72,43.17 C72,43.17 72,43.17 72,43.17 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.7317073;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.804878;0.8048781;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.804878;1",values:"1;0;0",keySplines:"0.6 0 1 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G",fill:"freeze",keyTimes:"0;0.804878;1",path:"M112 134.92 C160.75,190.75 155.25,45.67 155.25,45.67 C155.25,45.67 155.25,45.67 155.25,45.67 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.804878;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.8536585;0.8536586;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:g.WKt,to:g.WKt,keyTimes:"0;0.1219512;0.2439024;1",values:"#ffffff;#ffffff;#1db954;#1db954",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z ",to:"M0.03 0 C0.02,0 0.02,0 0.02,0 C0.01,0 0.01,0 0.01,-0.01 C0.01,-0.01 0.01,-0.01 0.01,-0.01 C0,-0.01 0,-0.01 0,-0.01 C0,-0.01 0,-0.01 -0.01,-0.01 C-0.01,-0.01 -0.01,-0.01 -0.01,-0.01 C-0.01,0 -0.01,0 -0.01,0 C-0.02,0 -0.02,0 -0.02,0 C-0.03,0 -0.03,0 -0.03,-0.01 C-0.04,-0.01 -0.04,-0.01 -0.04,-0.02 C-0.04,-0.02 -0.04,-0.02 -0.04,-0.02 C-0.04,-0.03 -0.04,-0.03 -0.03,-0.03 C-0.03,-0.03 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0.03,-0.03 0.03,-0.03 C0.03,-0.03 0.03,-0.03 0.03,-0.03 C0.04,-0.03 0.04,-0.03 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.01 0.04,-0.01 0.03,-0.01 C0.03,0 0.03,0 0.03,0z ",keyTimes:"0;0.1219512;0.2439024;1",values:"M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z ;M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z ;M0.03 0 C0.02,0 0.02,0 0.02,0 C0.01,0 0.01,0 0.01,-0.01 C0.01,-0.01 0.01,-0.01 0.01,-0.01 C0,-0.01 0,-0.01 0,-0.01 C0,-0.01 0,-0.01 -0.01,-0.01 C-0.01,-0.01 -0.01,-0.01 -0.01,-0.01 C-0.01,0 -0.01,0 -0.01,0 C-0.02,0 -0.02,0 -0.02,0 C-0.03,0 -0.03,0 -0.03,-0.01 C-0.04,-0.01 -0.04,-0.01 -0.04,-0.02 C-0.04,-0.02 -0.04,-0.02 -0.04,-0.02 C-0.04,-0.03 -0.04,-0.03 -0.03,-0.03 C-0.03,-0.03 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0.03,-0.03 0.03,-0.03 C0.03,-0.03 0.03,-0.03 0.03,-0.03 C0.04,-0.03 0.04,-0.03 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.01 0.04,-0.01 0.03,-0.01 C0.03,0 0.03,0 0.03,0z ;M0.03 0 C0.02,0 0.02,0 0.02,0 C0.01,0 0.01,0 0.01,-0.01 C0.01,-0.01 0.01,-0.01 0.01,-0.01 C0,-0.01 0,-0.01 0,-0.01 C0,-0.01 0,-0.01 -0.01,-0.01 C-0.01,-0.01 -0.01,-0.01 -0.01,-0.01 C-0.01,0 -0.01,0 -0.01,0 C-0.02,0 -0.02,0 -0.02,0 C-0.03,0 -0.03,0 -0.03,-0.01 C-0.04,-0.01 -0.04,-0.01 -0.04,-0.02 C-0.04,-0.02 -0.04,-0.02 -0.04,-0.02 C-0.04,-0.03 -0.04,-0.03 -0.03,-0.03 C-0.03,-0.03 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0.03,-0.03 0.03,-0.03 C0.03,-0.03 0.03,-0.03 0.03,-0.03 C0.04,-0.03 0.04,-0.03 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.01 0.04,-0.01 0.03,-0.01 C0.03,0 0.03,0 0.03,0z ",keySplines:"0.333 0 0.667 1;0.333 0 0.667 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_1",fill:"freeze",attributeName:"fill",from:g.WKt,to:g.WKt,keyTimes:"0;0.1219512;0.2439024;1",values:"#ffffff;#ffffff;#1db954;#1db954",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G",fill:"freeze",attributeName:"opacity",from:.7000000000000001,to:1,keyTimes:"0;0.1219512;1",values:"0.7000000000000001;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_1_T_0",fill:"freeze",attributeName:"transform",from:"1 1",to:"1 1",type:"scale",additive:"sum",keyTimes:"0;0.1219512;0.2439024;0.5121951;1",values:"1 1;0.8 0.8;1.25 1.25;1 1;1 1",keySplines:"0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.2439024;0.2439025;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G_D_1_P_0",fill:"freeze",attributeName:"stroke-width",from:2,to:1,keyTimes:"0;0.2439024;0.5121951;1",values:"2;2;1;1",keySplines:"0.333 0 0 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",attributeName:"transform",from:"4 4",to:"4 4",type:"scale",additive:"sum",keyTimes:"0;0.2439024;0.5121951;1",values:"4 4;4 4;4 4;4 4",keySplines:"0.333 0 0 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_1_T_0",fill:"freeze",attributeName:"transform",from:"1 1",to:"1 1",type:"scale",additive:"sum",keyTimes:"0;0.1219512;0.2439024;0.5121951;1",values:"1 1;0.8 0.8;1.25 1.25;1 1;1 1",keySplines:"0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:0,to:1,keyTimes:"0;0.2439024;0.2439049;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{attributeType:"XML",attributeName:"opacity",dur:"1s",from:0,to:1,xlinkHref:"#time_group"})]}),(0,m.jsxs)("g",{id:"_R_G",children:[(0,m.jsx)("g",{id:"_R_G_L_7_G_M",children:(0,m.jsx)("g",{id:"_R_G_L_7_G",transform:" translate(112, 112) translate(0, 0)",children:(0,m.jsx)("g",{id:"_R_G_L_7_G_D_0_P_0_G_0_T_0",children:(0,m.jsx)("ellipse",{id:"_R_G_L_7_G_D_0_P_0",stroke:g.ayV,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:30,strokeOpacity:1,cx:0,cy:0})})})}),(0,m.jsx)("g",{id:"_R_G_L_6_G_M",children:(0,m.jsx)("g",{id:"_R_G_L_6_G",transform:" translate(112, 112) translate(0, 0)",children:(0,m.jsx)("g",{id:"_R_G_L_6_G_D_0_P_0_G_0_T_0",children:(0,m.jsx)("ellipse",{id:"_R_G_L_6_G_D_0_P_0",stroke:g.ayV,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:30,strokeOpacity:1,cx:0,cy:0})})})}),(0,m.jsx)("g",{id:"_R_G_L_5_G_M",children:(0,m.jsx)("g",{id:"_R_G_L_5_G",children:(0,m.jsx)("path",{id:"_R_G_L_5_G_D_0_P_0",fill:g.WKt,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "})})}),(0,m.jsx)("g",{id:"_R_G_L_4_G_M",children:(0,m.jsx)("g",{id:"_R_G_L_4_G",children:(0,m.jsx)("path",{id:"_R_G_L_4_G_D_0_P_0",fill:g.ayV,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "})})}),(0,m.jsx)("g",{id:"_R_G_L_3_G_M",children:(0,m.jsx)("g",{id:"_R_G_L_3_G",children:(0,m.jsx)("path",{id:"_R_G_L_3_G_D_0_P_0",fill:g.WKt,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "})})}),(0,m.jsx)("g",{id:"_R_G_L_2_G_M",children:(0,m.jsx)("g",{id:"_R_G_L_2_G",children:(0,m.jsx)("path",{id:"_R_G_L_2_G_D_0_P_0",fill:g.ayV,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "})})}),(0,m.jsx)("g",{id:"_R_G_L_1_G_N_1_T_0_M",children:(0,m.jsx)("g",{id:"_R_G_L_1_G_N_1_T_0",transform:" translate(112, 112)",children:(0,m.jsxs)("g",{id:"_R_G_L_1_G",transform:" scale(4, 4)",children:[(0,m.jsx)("path",{id:"_R_G_L_1_G_D_0_P_0",fill:g.WKt,fillOpacity:1,fillRule:"nonzero",d:" M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z "}),(0,m.jsx)("path",{id:"_R_G_L_1_G_D_0_P_1",fill:g.WKt,fillOpacity:1,fillRule:"nonzero",d:" M-3.22 -10.57 C-4.4,-10.85 -5.63,-10.8 -6.79,-10.43 C-7.94,-10.06 -8.98,-9.39 -9.79,-8.49 C-10.59,-7.58 -11.14,-6.47 -11.37,-5.29 C-11.57,-4.29 -11.54,-3.26 -11.28,-2.28 C-11.02,-1.3 -10.54,-0.4 -9.88,0.37 C-9.88,0.37 -1.93,9.85 -1.93,9.85 C-1.69,10.13 -1.4,10.36 -1.06,10.51 C-0.73,10.67 -0.37,10.75 0,10.75 C0.37,10.75 0.73,10.67 1.06,10.51 C1.4,10.36 1.69,10.13 1.93,9.85 C1.93,9.85 9.88,0.37 9.88,0.37 C10.54,-0.4 11.02,-1.3 11.28,-2.28 C11.54,-3.26 11.57,-4.29 11.37,-5.28 C11.37,-5.28 11.37,-5.29 11.37,-5.29 C11.1,-6.64 10.42,-7.89 9.43,-8.85 C8.43,-9.81 7.17,-10.44 5.8,-10.66 C5.8,-10.66 5.8,-10.66 5.8,-10.66 C4.77,-10.83 3.72,-10.75 2.73,-10.44 C1.74,-10.13 0.83,-9.6 0.08,-8.88 C0.06,-8.86 0.03,-8.85 0,-8.85 C-0.03,-8.85 -0.06,-8.86 -0.08,-8.88 C-0.96,-9.72 -2.04,-10.3 -3.22,-10.57z "})]})})}),(0,m.jsx)("g",{id:"_R_G_L_0_G_N_1_T_0_M",children:(0,m.jsx)("g",{id:"_R_G_L_0_G_N_1_T_0",transform:" translate(112, 112)",children:(0,m.jsxs)("g",{id:"_R_G_L_0_G",transform:" translate(0, 0)",children:[(0,m.jsx)("path",{id:"_R_G_L_0_G_D_0_P_0",fill:g.ayV,fillOpacity:1,fillRule:"nonzero",d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "}),(0,m.jsx)("path",{id:"_R_G_L_0_G_D_1_P_0",stroke:g.ayV,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:2,strokeOpacity:1,d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "})]})})})]}),(0,m.jsx)("g",{id:"time_group"})]})})),y=(0,s.memo)((function({size:e,onEnd:t}){const n=2.35;return(0,m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:e*n,height:e*n,viewBox:"0 0 224 224",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:`-${(e*n-e)/2}px`},children:[(0,m.jsxs)("defs",{children:[(0,m.jsx)("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_0",fill:"freeze",attributeName:"stroke-width",from:1,to:2,keyTimes:"0;0.3225806;0.6451613;1",values:"1;1;2;2",keySplines:"0.6 0 0.7 1;0.6 0 0.7 1;0 0 0 0",calcMode:"spline",ref:e=>{e&&e.addEventListener("endEvent",t,{once:!0})}}),(0,m.jsx)("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G",fill:"freeze",attributeName:"opacity",from:0,to:.7000000000000001,keyTimes:"0;0.3225806;0.6451613;1",values:"0;0;0.7000000000000001;0.7000000000000001",keySplines:"0.6 0 0.7 1;0.6 0 0.7 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",keyTimes:"0;0.3225806;0.483871;0.6451613;0.9677419;1",path:"M112 140 C112,140 100,140 100,140 C100,140 124,140 124,140 C124,140 100,140 100,140 C100,140 112,140 112,140 C112,140 112,140 112,140 ",keyPoints:"0;0.17;0.5;0.83;1;1",keySplines:"0.8 0 0.8 1;0.8 0 0.8 1;0.8 0 0.8 1;0.2 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:0,to:0,type:"rotate",additive:"sum",keyTimes:"0;0.2580645;0.3870968;0.5483871;0.7096774;0.9677419;1",values:"0;3;-4;6;-6;0;0",keySplines:"0.6 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.6 0 0.667 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G_D_1_P_0",fill:"freeze",attributeName:"stroke-width",from:1,to:2,keyTimes:"0;0.3225806;0.6451613;1",values:"1;1;2;2",keySplines:"0.3 0 0.4 1;0.3 0 0.4 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.3225806;0.6451613;1",values:"1;1;0;0",keySplines:"0.3 0 0.4 1;0.3 0 0.4 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateMotion",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",keyTimes:"0;0.3225806;0.483871;0.6451613;0.9677419;1",path:"M112 140 C112,140 100,140 100,140 C100,140 124,140 124,140 C124,140 100,140 100,140 C100,140 112,140 112,140 C112,140 112,140 112,140 ",keyPoints:"0;0.17;0.5;0.83;1;1",keySplines:"0.8 0 0.8 1;0.8 0 0.8 1;0.8 0 0.8 1;0.2 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animateTransform",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:0,to:0,type:"rotate",additive:"sum",keyTimes:"0;0.2580645;0.3870968;0.5483871;0.7096774;0.9677419;1",values:"0;3;-4;6;-6;0;0",keySplines:"0.6 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.6 0 0.667 1;0 0 0 0",calcMode:"spline"}),(0,m.jsx)("animate",{attributeType:"XML",attributeName:"opacity",dur:"1s",from:0,to:1,xlinkHref:"#time_group"})]}),(0,m.jsxs)("g",{id:"_R_G",children:[(0,m.jsx)("g",{id:"_R_G_L_1_G_N_2_T_0",children:(0,m.jsx)("g",{id:"_R_G_L_1_G",transform:" translate(0, -28) scale(4, 4) translate(0, 0)",children:(0,m.jsx)("path",{id:"_R_G_L_1_G_D_0_P_0",stroke:g.WKt,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:1,strokeOpacity:1,d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "})})}),(0,m.jsx)("g",{id:"_R_G_L_0_G_N_2_T_0",children:(0,m.jsxs)("g",{id:"_R_G_L_0_G",transform:" translate(0.214, -27.999) scale(4, 4) translate(0, 0)",children:[(0,m.jsx)("path",{id:"_R_G_L_0_G_D_0_P_0",fill:g.ayV,fillOpacity:1,fillRule:"nonzero",d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "}),(0,m.jsx)("path",{id:"_R_G_L_0_G_D_1_P_0",stroke:g.ayV,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:1,strokeOpacity:1,d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "})]})})]}),(0,m.jsx)("g",{id:"time_group"})]})}));var _=n(28892),b=n(93620),v=n(15040),x=n(1072),C=n(11920),E=n(46068),S=n(38420);const w=new(n(47752).uK);function I(e){const t=(0,s.useRef)([]);t.current=Array.isArray(e)?e:[e];return()=>{const e=t.current,n=function(e){return w.create(e,(()=>{const t=new Audio(e);return t.load(),t}))}(e[Math.floor(Math.random()*e.length)]);n.play()}}const A={helmet:"main-addButton-helmet",ZoomInAnimation:"main-addButton-zoomInAnimation"};function T(e,t){return(0,m.jsx)(x.WC,{src:t?(0,b.K)("images/mando_helmet_felix.png"):(0,b.K)("images/mando_helmet.png"),className:A.helmet,width:e,height:e,loading:"lazy"})}function k(e){const{surface:t,isViewingVariant:n,isPlayingVariant:s}=(0,E.Q)(),i=(0,c.IP)(v.gxy,{loadingValue:v.mS1.DISABLED}),r=i!==v.mS1.DISABLED,a=i===v.mS1.HELMET_AND_SOUND||i===v.mS1.FELIX,o=i===v.mS1.FELIX,l=I(function(e){return e?[(0,b.K)("sounds/mando_this_is_the_way_felix.mp3")]:[(0,b.K)("sounds/mando_this_is_the_way_103.mp3"),(0,b.K)("sounds/mando_this_is_the_way_107.mp3")]}(o));if(t===C.g.ALBUM||t===C.g.TRACK||t===C.g.PLAYLIST){const t=r&&n===S.Y.MANDALORIAN,s=a&&t;return{content:t?T(e,o):null,playSound:s?l:()=>{}}}if(t===C.g.NOW_PLAYING){const t=r&&s===S.Y.MANDALORIAN,n=a&&t;return{content:t?T(e,o):null,playSound:n?l:()=>{}}}return{content:null,playSound:()=>{}}}let N=function(e){return e.xs="small",e.sm="medium",e.md="large",e}({});var O=function(e){return e.none="none",e.positive="positive",e.undo="undo",e}(O||{});const P=s.memo((function({onClick:e,isAdded:t,size:n,disabled:g=!1,isEpisode:b=!1,isAudiobook:x=!1,className:C,condensedAll:E}){const S=t?d._s.get("remove_from_your_library"):d._s.get("save_to_your_library"),w=(0,_.C)(),[I,A]=(0,s.useState)(O.none),T=(0,s.useCallback)((()=>A(O.none)),[A]);let P;switch(n){case N.xs:P=16;break;case N.sm:P=24;break;default:P=32}const{content:j,playSound:L}=k(P),R=(0,s.useCallback)((n=>{if(g)return;const{currentTarget:s,detail:i}=n;A(t?O.undo:O.positive),e(n),t||L(),i>0&&s&&s.blur()}),[t,e,g,L]),D=(0,c.IP)(v.MdG,{loadingValue:!1});let M;j&&t?M=j:w||I===O.none||(M=b||x||D?I===O.positive?(0,m.jsx)(p,{size:P,onEnd:T}):(0,m.jsx)(h,{size:P,onEnd:T}):I===O.positive?(0,m.jsx)(f,{size:P,onEnd:T}):(0,m.jsx)(y,{size:P,onEnd:T}));return(0,m.jsx)(u.Yl,{label:S,children:(0,m.jsx)(l.u,{semanticColor:t?"textBrightAccent":"textSubdued",iconOnly:()=>{if(M)return M;let e;return e=b||x||D?t?i.W:r.u:t?a.Q:o.c,(0,m.jsx)(e,{size:n})},"aria-checked":t,"aria-label":S,onClick:R,"":"add-button",size:n,className:C,condensedAll:E,condensed:!0})})}))},74712:(e,t,n)=>{"use strict";n.d(t,{C:()=>O});var s=n(96651),i=n(10124),r=n.n(i),a=n(19872),o=n(57096),l=n.n(o),c=n(32976),d=n(29996),u=n(28288),m=n(2488);const p=({iconSize:e,placeholderText:t})=>t?(0,m.jsx)("svg",{width:(0,u.o)(e),height:(0,u.o)(e),fill:"currentColor",viewBox:"0 0 18 20",xmlns:"http://www.w3.org/2000/svg","":"user-icon",children:(0,m.jsx)("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"central",children:t})}):(0,m.jsx)(d.O,{"aria-hidden":"true",size:e,"":"user-icon"});var h=n(34344);const g="main-avatar-avatar",f="main-avatar-image",y="main-avatar-withBadge",_="main-avatar-piled",b="main-avatar-piledIcon",v="main-avatar-placeholderWrapper",x="Q4hOdDPRDHPhfou2xbDg",C="main-avatar-placeholderTransparent",E={},S=[c.Ub5,c.cZE,c.eM,c.IjV,c.uaU,c.aEj],w=e=>{if(!E[e]){const t=function(e){let t,n=0;if(0===e.length)return n;for(let s=0,i=e.length;s<i;s++)t=e.charCodeAt(s),n=(n<<5)-n+t,n|=0;return n}(e),n=Math.abs(t)%S.length;E[e]=S[n]}return E[e]},I=e=>l()(e)[0].toUpperCase(),A=e=>{const t=w(e);return(e=>{const{r:t,g:n,b:s}=e.rgb;return(299*t+587*n+114*s)/1e3>=128})((0,h.C)(t))?c.oZb:c.WKt},T=({username:e,displayName:t,userIconSize:n,transparent:s,className:i})=>{const a=e&&t,o=a?(e=>({background:w(e),color:A(e)}))(e):{},l=a?{placeholderText:I(t)}:{};return(0,m.jsx)("div",{className:r()(v,i,{[x]:!a,[C]:s}),"":"placeholder-wrapper",style:o,children:(0,m.jsx)(p,{iconSize:n,...l})})};var k=n(78390);const N=.93328125,O=(0,s.memo)((function(e){const{label:t,images:n,width:s,className:i,imageClassName:o,withBadge:l,userIconSize:c,testID:d,piled:u,username:p,displayName:h,placeholderClassName:v,customPlaceholder:x,transparent:C}=e,E=(0,a.u)(n,{desiredSize:s}),S=x||(0,m.jsx)(T,{username:p,displayName:h,userIconSize:c,transparent:C,className:v});return(0,m.jsxs)("figure",{className:r()(g,{[y]:l},i),title:t,style:{width:u?s*N:s,height:s,...u&&{marginInlineStart:.03125*s}},"":d,children:[(0,m.jsx)("div",{className:r()({[_]:u}),style:{width:s,height:s,insetInlineStart:u?-.06671875000000005*s:0},children:E?(0,m.jsx)(k.W,{loading:"eager",src:E,alt:t,className:r()(f,o),children:S}):S}),u&&(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"0",width:"0","aria-hidden":"true",children:(0,m.jsx)("defs",{children:(0,m.jsx)("clipPath",{id:"avatarClipPath",clipPathUnits:"objectBoundingBox",children:(0,m.jsx)("path",{className:b,d:"M 0.0666 0.7497 C 0.104 0.6744 0.125 0.5897 0.125 0.5 C 0.125 0.4103 0.104 0.3256 0.0666 0.2503 C 0.1531 0.1006 0.3148 0 0.5 0 C 0.7761 0 1 0.2239 1 0.5 C 1 0.7761 0.7761 1 0.5 1 C 0.3148 1 0.1531 0.8994 0.0666 0.7497 Z","transform-origin":"0.5 0.5"})})})})]})}))},17160:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var s=n(96651),i=n(96560),r=n(85988),a=n(2488);const o=s.forwardRef((function({onClick:e,ariaLabel:t,standalone:n=!1,tabIndex:s=0,className:o="",icon:l,size:c="md",semanticColor:d,condensed:u,condensedAll:m,disableTooltip:p=!1,testId:h,disabled:g=!1},f){const y=l,_="sm"===c||"md"===c||"lg"===c?c:void 0,b="small"===c||"medium"===c||"large"===c?c:void 0;return(0,a.jsx)(r.Yl,{label:t,disabled:p,children:(0,a.jsx)(i.u,{"":h,className:o,onClick:e,"aria-label":t,"aria-hidden":n,tabIndex:s,ref:f,iconOnly:y,buttonSize:_,size:b,semanticColor:d,condensed:u,condensedAll:m,disabled:g})})}))},97192:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var s=n(11732),i=n(2488);const r=({href:e,children:t,...n})=>(0,i.jsx)(s.default,{to:e,...n,children:t})},50176:(e,t,n)=>{"use strict";n.d(t,{o:()=>S,W:()=>I});var s=n(96651),i=n(10124),r=n.n(i),a=n(96560),o=n(43756),l=n(88600),c=n(12100),d=n(85988),u=n(2104),m=n(61392),p=n(8968),h=n(56200),g=n(66564),f=n(80660),y=n(52864);var _=n(18748);const b="x-downloadButton-DownloadButton",v="x-downloadButton-button",x="x-downloadButton-cancelDownload",C="x-downloadButton-progress";var E=n(2488);let S=function(e){return e.xs="small",e.sm="medium",e.md="large",e}({});const w=e=>{const{currentTarget:t,detail:n}=e;n>0&&t&&t.blur()},I=({uri:e,isFollowing:t,onFollow:n,size:i=S.sm,className:I,onClick:A=(()=>{}),showUpsell:T=!0,canDownload:k=!0,condensedAll:N})=>{const[O,P]=(0,s.useState)(!1),{capability:j,availability:L,addDownload:R}=(0,h.G)(e,k),D=(0,m.Y)(),M=(0,g.E)(e);((e,t)=>{const n=(0,y.k)(),i=(0,s.useRef)(!1);(0,s.useEffect)((()=>{e===p.If.DOWNLOADING&&!1===i.current&&(i.current=!0,n.say(c._s.get("download.downloading",t.totalItems)))}),[n,e,t]);const r=(0,f.i)(e);(0,s.useEffect)((()=>{r===p.If.DOWNLOADING&&e===p.If.YES&&(i.current=!1,n.say(c._s.get("download.complete")))}),[n,r,e])})(L,M);const U=(0,s.useCallback)((e=>{e.preventDefault(),j===p.Wm.NO_PERMISSION?A(e,p._w.NO_PERMISSION):(!1===t?(n(),P(!0)):R(),A(e,p._w.ADD)),w(e)}),[R,j,t,A,n]),F=(0,s.useCallback)((t=>{t.preventDefault(),D(e),w(t),A(t,p._w.REMOVE)}),[e,D,A]);if((0,s.useEffect)((()=>{!0===O&&!0===t&&(R(),P(!1))}),[t,O,R]),L===p.If.YES)return(0,E.jsx)(d.Yl,{label:c._s.get("download.remove"),children:(0,E.jsx)(a.u,{className:I,onClick:F,iconOnly:o.E,semanticColor:"textBrightAccent",size:i,"aria-label":c._s.get("download.remove"),"aria-checked":!0,condensedAll:N,condensed:!0})});if(j===p.Wm.NO_CAPABILITY||j===p.Wm.NO_PERMISSION_HIDE)return null;if(j===p.Wm.NO_PERMISSION)return T?(0,E.jsx)("div",{className:r()(b,I),children:(0,E.jsx)(u.GS,{offset:[-2,20],action:"toggle",trigger:"click",content:(0,E.jsx)(u.qQ,{children:(0,E.jsx)("span",{children:c._s.get("download.upsell")})}),renderInline:!1,children:(0,E.jsx)("div",{children:(0,E.jsx)(d.Yl,{label:c._s.get("download.download"),children:(0,E.jsx)(a.u,{onClick:U,iconOnly:l.s,size:i,"aria-label":c._s.get("download.download"),"aria-checked":!1,condensedAll:N,condensed:!0})})})})}):null;if(L===p.If.NO)return(0,E.jsx)(d.Yl,{label:c._s.get("download.download"),children:(0,E.jsx)(a.u,{className:I,onClick:U,iconOnly:l.s,size:i,"aria-label":c._s.get("download.download"),"aria-checked":!1,condensedAll:N,condensed:!0})});let B;switch(i){case S.xs:B=16;break;case S.sm:B=24;break;default:B=32}return(0,E.jsxs)("div",{className:r()(x,I),role:"switch","aria-checked":!0,children:[(0,E.jsx)(d.Yl,{label:c._s.get("download.cancel"),children:(0,E.jsx)("button",{style:{height:B,width:B},className:r()(v,I),onClick:F,"aria-label":c._s.get("download.cancel")})}),(0,E.jsx)("span",{className:r()(C),children:(0,E.jsx)(_.q,{"aria-valuetext":c._s.get("progress.downloading-tracks"),percentage:M.percentage,size:B})})]})}},6948:(e,t,n)=>{"use strict";n.d(t,{g:()=>c,o:()=>r.o});var s=n(96651),i=n(3844),r=n(50176),a=n(7296),o=n(2488);const l=s.memo((function({uri:e,size:t=r.o.md,className:n,onClick:l,showUpsell:c,canDownload:d}){const[u,m]=(0,i.X)(e),p=(0,a.w)(),h=(0,s.useCallback)((()=>{p({targetUri:e,intent:u?"remove-from-library":"add-to-library",type:"click"}),m(!u)}),[p,e,u,m]);return(0,o.jsx)(r.W,{className:n,isFollowing:u,onFollow:h,onClick:l,uri:e,size:t,showUpsell:c,canDownload:d})})),c=s.memo((function(e){return(0,o.jsx)(l,{...e})}))},70488:(e,t,n)=>{"use strict";n.d(t,{k:()=>u});var s=n(10124),i=n.n(s),r=n(99392),a=n(12100),o=n(85988);const l="fXu_epm4wnGo0vCaArXW";var c=n(2488),d=function(e){return e[e.xs=16]="xs",e[e.sm=24]="sm",e[e.md=32]="md",e}(d||{});const u=({isDisliked:e=!1,onClick:t=(()=>{}),size:n=d.md,className:s})=>(0,c.jsx)(o.Yl,{label:a._s.get("playback-control.ban"),children:e?(0,c.jsx)("button",{type:"button",role:"switch","aria-label":a._s.get("playback-control.ban"),"aria-checked":e,className:i()(l,s),onClick:t,children:(0,c.jsx)(r._,{iconSize:n})}):(0,c.jsx)("button",{type:"button","aria-label":a._s.get("playback-control.ban"),className:i()(l,s),onClick:t,children:(0,c.jsx)(r._,{iconSize:n})})})},48856:(e,t,n)=>{"use strict";n.d(t,{g:()=>d,o:()=>c});var s=n(96651),i=n(96560),r=n(48064),a=n(12100),o=n(85988),l=n(2488);let c=function(e){return e.xs="small",e.sm="medium",e.md="large",e}({});const d=s.forwardRef((function({onClick:e=(()=>{}),size:t=c.md,label:n=a._s.get("more"),className:s,condensedAll:d},u){return(0,l.jsx)(o.Yl,{label:n,children:(0,l.jsx)(i.u,{onClick:e,iconOnly:r.U,size:t,"aria-label":n,"aria-haspopup":"menu",ref:u,"":"more-button",className:s,condensedAll:d,condensed:!0})})}))},85660:(e,t,n)=>{"use strict";n.d(t,{u:()=>u});var s=n(10124),i=n.n(s),r=n(85988);const a="Psc33HXPyazZYAAr1tgz",o="VGJz_GOARJ6j02JICvW6",l="VpNHGG5ZhoxQ8AqW709S",c="P7395UzhjxLUlLZvj5fb";var d=n(2488);const u=function(e){const{children:t,active:n=!1,focus:s=!0,label:u,onClick:m,noBackground:p=!1}=e;return(0,d.jsx)(r.Yl,{label:u,children:(0,d.jsx)("button",{className:i()(a,{[c]:n,[o]:p,[l]:s}),onClick:m,"aria-label":u,children:t})})}},5260:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var s=n(96651),i=n(10660),r=n(3844),a=n(7296),o=n(2488);const l=s.memo((function({uri:e,className:t,onClick:n,size:l=i.o.xs}){const[c,d]=(0,r.X)(e),u=(0,a.w)(),m=(0,s.useCallback)((t=>{t.preventDefault(),u({targetUri:e,intent:c?"remove-from-library":"add-to-library",type:"click"}),n&&n(!c),d(!c)}),[u,e,c,n,d]);return(0,o.jsx)(i.O,{className:t,size:l,onClick:m,isAdded:!!c,isEpisode:!0})}))},97336:(e,t,n)=>{"use strict";n.d(t,{s:()=>c});var s=n(96651),i=n(10660),r=n(7296),a=n(3844),o=n(64480),l=n(2488);const c=s.memo((function({uri:e,className:t,onClick:n,size:c=i.o.xs}){const d=(0,o.mu)(e),[u,m]=(0,a.X)(d),p=(0,r.w)(),h=(0,s.useCallback)((e=>{e.preventDefault(),p({targetUri:d,intent:u?"remove-from-library":"add-to-library",type:"click"}),n&&n(!u),m(!u)}),[u,p,d,n,m]);return(0,l.jsx)(i.O,{className:t,size:c,onClick:h,isAdded:u})}))},3088:(e,t,n)=>{"use strict";n.d(t,{Q:()=>v});n(41260);var s=n(96651),i=n(8004),r=n(15368),a=n(12100),o=n(7300),l=n(33672),c=n(72312),d=n(92236),u=n(38484),m=n(46056),p=n(70184),h=n(38292),g=n(25676),f=n(33744),y=n(11732),_=n(2488);const b=({artist:e,index:t,logger:n,spec:r})=>{const a=(0,s.useCallback)((()=>{n.logInteraction(r.cardLinkFactory({position:t}).hitUiNavigate({destination:e.uri}))}),[n,r,t,e.uri]);return(0,l.c)(e)&&e.uri?(0,_.jsx)(o.U,{menu:(0,_.jsx)(f.g,{uri:e.uri}),children:(0,_.jsx)(y.default,{to:e.uri,dir:"auto",onClick:a,children:e.name})},e.uri):(0,_.jsx)(i.a,{variant:"bodySmall",children:e.name})},v=({name:e,uri:t,images:n,artists:s=[],sharingInfo:i,year:l,isHero:f=!1,onClick:y,testId:v,index:x,requestId:C,color:E})=>{let S;const w=(0,h.y)(t),I=()=>s.map((e=>e.name)).join(a._s.getSeparator());return S=f?(0,_.jsx)(m.c,{index:x,onClick:y,headerText:e,featureIdentifier:"album",uri:t,playUri:w,ariaPauseLabel:a._s.get("tracklist.a11y.pause",e,I()),ariaPlayLabel:a._s.get("tracklist.a11y.play",e,I()),renderCardImage:()=>(0,_.jsx)(d.y,{isHero:!0,images:n,color:E,FallbackComponent:e=>(0,_.jsx)(r.M,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,t)=>(0,_.jsxs)(u.C,{isHero:!0,children:[(0,_.jsx)(p.C,{children:a._s.get("card.tag.album")}),s.map(((n,s)=>[s>0&&a._s.getSeparator(),(0,_.jsx)(b,{artist:n,index:s,logger:e,spec:t},n.uri)]))]}),testId:v,requestId:C}):(0,_.jsx)(c.c,{onClick:y,headerText:e,featureIdentifier:"album",uri:t,playUri:w,ariaPauseLabel:a._s.get("tracklist.a11y.pause",e,I()),index:x,ariaPlayLabel:a._s.get("tracklist.a11y.play",e,I()),renderCardImage:()=>(0,_.jsx)(d.y,{isHero:f,images:n,color:E,FallbackComponent:e=>(0,_.jsx)(r.M,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,t)=>(0,_.jsxs)(u.C,{children:[!!l&&(0,_.jsxs)("time",{dateTime:l.toString(),children:[l," • "]}),s.map(((n,s)=>[s>0&&a._s.getSeparator(),(0,_.jsx)(b,{artist:n,index:s,logger:e,spec:t},n.uri)]))]}),testId:v,requestId:C}),(0,_.jsx)(o.U,{menu:(0,_.jsx)(g.k,{uri:t,artistUri:s?.[0]?.uri,sharingInfo:i}),children:S})}},35156:(e,t,n)=>{"use strict";n.d(t,{u:()=>p});var s=n(96651),i=n(12100),r=n(7300),a=n(72032),o=n(72312),l=n(92236),c=n(38484),d=n(98692),u=n(25676),m=n(2488);const p=s.memo((function(e){const{images:t,name:n,uri:s,type:p,year:h,sharingInfo:g,latest:f,showType:y,onClick:_,delegatePlayback:b=!1,isPlaying:v,onPlay:x,index:C,navigationUrl:E}=e,S=f?i._s.get("artist.latest-release"):h;return(0,m.jsx)(r.U,{menu:(0,m.jsx)(u.k,{uri:s,sharingInfo:g}),children:(0,m.jsx)(o.c,{onClick:_,featureIdentifier:"album",headerText:n,uri:s,index:C,delegatePlayback:b,isPlaying:v,onPlay:x,navigationUrl:E,renderCardImage:()=>(0,m.jsx)(l.y,{images:t}),renderSubHeaderContent:()=>(0,m.jsx)(c.C,{children:(0,m.jsxs)(d.C,{children:[!!S&&(0,m.jsx)(d.m,{children:(0,m.jsx)("time",{dateTime:(h||"").toString(),children:S})}),y&&(0,m.jsx)(d.m,{children:(0,a.E)(p)})]})})})})}))},43168:(e,t,n)=>{"use strict";n.d(t,{M:()=>p});var s=n(26020),i=n(12100),r=n(7300),a=n(72312),o=n(92236),l=n(38484),c=n(46056),d=n(70184),u=n(33744),m=n(2488);const p=e=>{const{name:t,uri:n,images:p,isHero:h,onClick:g,testId:f,index:y,requestId:_,color:b}=e;let v;return v=h?(0,m.jsx)(c.c,{index:y,onClick:g,headerText:t,featureIdentifier:"artist",uri:n,renderCardImage:()=>(0,m.jsx)(o.y,{isHero:h,isCircular:!0,images:p,color:b,FallbackComponent:e=>(0,m.jsx)(s.s,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,m.jsx)(l.C,{isHero:!0,children:(0,m.jsx)(d.C,{children:i._s.get("card.tag.artist")})}),testId:f,requestId:_}):(0,m.jsx)(a.c,{index:y,onClick:g,headerText:t,featureIdentifier:"artist",uri:n,renderCardImage:()=>(0,m.jsx)(o.y,{isHero:h,isCircular:!0,images:p,color:b,FallbackComponent:e=>(0,m.jsx)(s.s,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,m.jsx)(l.C,{children:(0,m.jsx)("span",{children:i._s.get("card.tag.artist")})}),testId:f,requestId:_}),(0,m.jsx)(r.U,{menu:(0,m.jsx)(u.g,{uri:n}),children:v})}},25800:(e,t,n)=>{"use strict";n.d(t,{M:()=>y});var s=n(57024),i=n(8004),r=n(18632),a=n(12100),o=n(7300),l=n(72312),c=n(92236),d=n(38484),u=n(46056),m=n(70184),p=n(65076),h=n(62528);const g="Xk3_ws6o9K6gsByypayv";var f=n(2488);const y=({name:e,uri:t,images:n,authorName:y,isHero:_,onClick:b,testId:v,index:x,requestId:C,isLocked:E=!1,color:S,signifierText:w})=>{let I;return I=_?(0,f.jsx)(u.c,{index:x,onClick:b,headerText:e,featureIdentifier:"audiobook",uri:t,isPlayable:!1,dragMimeType:h.__.AUDIOBOOKS,renderCardImage:()=>(0,f.jsx)(c.y,{isHero:!0,images:n,color:S,FallbackComponent:e=>(0,f.jsx)(s.K,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(m.C,{children:a._s.get("card.tag.audiobook")}),(0,f.jsx)(i.a,{variant:"bodySmall",children:y})]}),getSignifierContent:()=>(0,f.jsx)(i.a,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:w}),testId:v,requestId:C}):(0,f.jsx)(l.c,{index:x,onClick:b,headerText:e,featureIdentifier:"audiobook",uri:t,isPlayable:!1,dragMimeType:h.__.AUDIOBOOKS,renderCardImage:()=>(0,f.jsx)(c.y,{images:n,color:S,FallbackComponent:e=>(0,f.jsx)(s.K,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(d.C,{lineClamp:w?1:2,children:[E&&(0,f.jsx)(r.H,{size:"small",className:g}),(0,f.jsx)(i.a,{as:"span",variant:"bodySmall",children:y})]}),w&&(0,f.jsx)(i.a,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:w})]}),testId:v,requestId:C}),(0,f.jsx)(o.U,{menu:(0,f.jsx)(p.y,{uri:t}),children:I})}},72312:(e,t,n)=>{"use strict";n.d(t,{M:()=>T,c:()=>k});var s=n(96651),i=n(10124),r=n.n(i),a=n(33220),o=n(33644),l=n(14868),c=n(6128),d=n(71992),u=n(14788),m=n(12100),p=n(52520),h=n(34328),g=n(52588),f=n(40636),y=n(54584),_=n(99404),b=n(6812),v=n(47824),x=n(7296),C=n(15040),E=n(7004),S=n(23568),w=n(28080),I=n(80496),A=n(2488);const T=e=>{const{onClick:t=(()=>{}),delegatePlayback:n=!1,delegateLogging:i=!1,delegateNavigation:T=!1,playInsteadOfNavigating:k=!1,isPlaying:N,onPlay:O=(()=>{}),onContextMenu:P=(()=>{}),onTouchStart:j=(()=>{}),onTouchEnd:L=(()=>{}),featureIdentifier:R,uri:D,renderCardImage:M,renderSubHeaderContent:U=(()=>null),isPlayable:F=!0,isDownloadable:B=!1,headerText:G,hasNewEpisodeIndicator:V,className:H,playUri:W=D,albumURI:z,testId:Y,ariaPlayLabel:K,ariaPauseLabel:q,index:Q,navigationUrl:X,requestId:$,dragMimeType:J}=e,Z=(0,a.i6)(),ee=(0,x.w)(),te=z?`?highlight=${D}`:"",ne=(0,b.C)({itemUris:[D],itemMimeTypes:J?[J]:[],dragLabelText:G}),{spec:se,logger:ie,UBIFragment:re}=(0,f.gp)(d.q,{data:{uri:D,position:Q,reason:$??""}}),ae=z||D,oe=(0,u.nX)(ae,{parseUnknown:!0}),le=(0,v.W)({type:"link",uri:ae}),{isPlaying:ce,togglePlay:de,isActive:ue}=(0,g.I)({uri:W},{featureIdentifier:R});let me=ce;n&&"boolean"==typeof N&&(me=N);const pe=(0,s.useCallback)((()=>{let e=se.cardPlayButtonFactory().hitPause({itemToBePaused:D});me||(e=ue?se.cardPlayButtonFactory().hitResume({itemToBeResumed:D}):se.cardPlayButtonFactory().hitPlay({itemToBePlayed:D}));const t=ie.logInteraction(e);if(O(D,t),i||ee({targetUri:D,intent:me?"pause":"play",type:"click"}),n){if("function"!=typeof O)throw Error("No delegate playback handler provided")}else de({loggingParams:t})}),[i,n,ue,me,ie,ee,O,se,de,D]),he=(0,s.useCallback)((()=>{ee({targetUri:D,intent:"navigate",type:"click"});const e=se.hitUiNavigate({destination:X??D});ie.logInteraction(e)}),[ie,X,ee,se,D]),ge=(0,s.useCallback)((()=>{if(t(D),k)return void pe();if(T)return;let e;he(),oe&&(e=oe.toURLPath(!0)+te);let n=X??e;n=le?(0,y.oP)(n||""):n,n&&Z(n)}),[t,D,k,T,he,oe,X,le,pe,te,Z]);return(0,A.jsx)(re,{spec:se,children:(0,A.jsx)(w.P,{uri:e.uri,trigger:w.m.OnMouseDown,children:(0,A.jsx)(S.Q,{property:C.M1F,renderNewExperience:()=>(0,A.jsx)(o.M,{onContextMenu:P,onTouchStart:j,onTouchEnd:L,"":Y,onDragStart:ne,className:r()(I.c.cardContainer,I.c.draggable),id:`${D}-${Q}`,size:"md",variant:"naked",onClick:ge,title:(0,A.jsxs)(l.O,{variant:"ballad",lineClamp:1,title:G,className:I.c.cardTitle,onClick:ge,dir:"auto",children:[V&&(0,A.jsx)(p.CU,{className:I.c.newEpisodeIndicator}),G]}),subtitle:(0,A.jsx)(c.w,{variant:"mesto",lineClamp:2,as:"div",dir:"auto",children:U(ie,se)}),draggable:!0,media:(0,A.jsxs)("div",{className:I.c.imageContainer,children:[M(),F&&(0,A.jsx)("div",{className:r()(I.c.PlayButtonContainer,{[I.c.PlayButtonContainerVisible]:me}),children:(0,A.jsx)(h.O,{isPlaying:me,onClick:pe,ariaPlayLabel:K??m._s.get("playlist.a11y.play",G),ariaPauseLabel:q??m._s.get("playlist.a11y.pause",G)})})]})}),renderOldExperience:()=>(0,A.jsx)("div",{className:r()(I.c.card,H),onContextMenu:P,onTouchStart:j,onTouchEnd:L,"":Y,children:(0,A.jsxs)("div",{draggable:!0,onDragStart:ne,className:I.c.draggable,children:[(0,A.jsxs)("div",{className:r()(I.c.imageContainer,I.c.imageContainerOld),children:[M(),F&&(0,A.jsx)("div",{className:r()(I.c.PlayButtonContainer,I.c.oldExperience,{[I.c.PlayButtonContainerVisible]:me}),children:(0,A.jsx)(h.O,{isPlaying:me,onClick:pe,ariaPlayLabel:K??m._s.get("playlist.a11y.play",G),ariaPauseLabel:q??m._s.get("playlist.a11y.pause",G)})})]}),(0,A.jsxs)("div",{className:I.c.cardMetadata,children:[(0,A.jsx)(_.q,{to:z||D,search:te,onClick:he,hasNewEpisodeIndicator:V,title:G,navigationUrl:X,disableLink:T,children:G}),U(ie,se)]}),B&&(0,A.jsx)(E.g,{uri:D,className:I.c.DownloadStatusIndicator,size:"small"}),(0,A.jsx)("div",{onClick:ge,className:I.c.cardLink,"":"card-click-handler"})]})})})})})},k=T},99404:(e,t,n)=>{"use strict";n.d(t,{q:()=>m});var s=n(96651),i=n(8004),r=n(19424),a=n(52520),o=n(11732);const l="main-cardHeader-link",c="main-cardHeader-text",d="main-cardHeader-hasNewEpisodeIndicator";var u=n(2488);const m=s.memo((function({search:e,children:t,to:n,onClick:s,isHero:m,title:p,hasNewEpisodeIndicator:h=!1,navigationUrl:g,disableLink:f=!1}){const y=m?"titleMedium":"bodyMediumBold",_=(0,u.jsxs)(i.a,{as:"div",variant:y,className:c,paddingBottom:r.yC,semanticColor:"textBase",children:[h&&(0,u.jsx)(a.CU,{className:d}),t]});return f?_:(0,u.jsx)(o.Link,{to:n,onClick:s,title:p,className:l,dir:"auto",search:e,pathname:g,children:_})}))},92236:(e,t,n)=>{"use strict";n.d(t,{y:()=>u});var s=n(10124),i=n.n(s),r=n(46360),a=n(78390),o=n(40068),l=n(27864),c=n(2488);const d=e=>(0,c.jsx)(r.I,{size:"xxlarge",...e}),u=e=>{const{children:t,isHero:n=!1,isCircular:s=!1,withWaves:r=!1,FallbackComponent:u=d,images:m=[],color:p,loadingMode:h="lazy"}=e,g=(0,o.C)(m,{desiredSize:300,desiredLabel:"standard"}),f={backgroundImage:r&&g?.url?`url(${g?.url})`:void 0,"--card-color":p};return(0,c.jsx)("div",{className:i()(l.c.imageWrapper,{[l.c.hero]:n,[l.c.circular]:s,[l.c.withWavesWrapper]:r}),style:f,children:(0,c.jsxs)("div",{className:i()({[l.c.withWaves]:r}),children:[(0,c.jsx)(a.W,{className:i()(l.c.image,{[l.c.circular]:s}),src:g?.url,loading:h,testid:"card-image",fadeIn:!0,children:u&&(0,c.jsx)("div",{className:l.c.imagePlaceholder,children:(0,c.jsx)(u,{"aria-hidden":!0,"":"card-image-fallback"})})}),t]})})}},38484:(e,t,n)=>{"use strict";n.d(t,{C:()=>m});var s=n(96651),i=n(10124),r=n.n(i),a=n(8004);const o="main-cardSubHeader-root",l="UsDRRKzdvYpfKt5zCWY4",c="k2ndSrHzhAsXBcLqRKYx",d="main-cardSubHeader-isHero";var u=n(2488);const m=s.memo((function({isHero:e,children:t,lineClamp:n=2}){return(0,u.jsx)(a.a,{as:"div",variant:"bodySmall",className:r()(o,{[d]:e,[l]:1===n,[c]:2===n}),semanticColor:"textSubdued",children:t})}))},98692:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,m:()=>d});var s=n(10124),i=n.n(s);const r="lKCqFyjIoCnB0b5co1g6",a="dtU4tACv44vgO_d_H1uM",o="BBDh_12xUeDhRS25gmFg";var l=n(2488);const c=({children:e})=>(0,l.jsx)("span",{className:r,children:e}),d=e=>(0,l.jsx)("span",{className:i()(e.className,a,{[o]:e.noSeparator}),children:e.children})},38896:(e,t,n)=>{"use strict";n.d(t,{w:()=>N});var s=n(96651),i=n(72199),r=n(8004),a=n(12100),o=n(7300),l=n(81472),c=n(85988),d=n(52520),u=n(6812),m=n(17556),p=n(41436),h=n(89060),g=n(40068),f=n(72312),y=n(92236),_=n(38484),b=n(98692),v=n(40384),x=n(32656);const C="z4popIk32AsyDKlV1o1v",E="_xxuonqkZEQ7pCffxlUD";var S=n(2488);const w=(0,s.memo)((function(e){const{src:t,description:n,...i}=e,[a,o]=(0,s.useState)("inherit");return(0,s.useEffect)((()=>{t&&async function(e){const{colorRaw:t}=await(0,x.extractColors)(e),{h:n,s,l:i}=t.hsl,r=`hsl(${360*n}, ${100*s}%, ${Math.min(100*i,30)}%)`;o(r)}(t)}),[t]),t?(0,S.jsx)("div",{className:C,style:{backgroundColor:a},"":"episode-fallback-image-container",children:(0,S.jsx)("div",{className:E,children:(0,S.jsx)(r.a,{as:"p",variant:"titleSmall",children:n})})}):(0,S.jsx)(v.s,{...i,size:"xxlarge"})}));var I=n(46056),A=n(70184),T=n(71464);const k="HtDYXfUHB69rj8AqN_Wc",N=({description:e,isExplicit:t,images:n,name:v,uri:x,durationMilliseconds:C,releaseDate:E,resume_point:N,showImages:O,sharingInfo:P,is19PlusOnly:j,isHero:L,onClick:R,testId:D,index:M,requestId:U,color:F,episodeShow:B})=>{let G;const V=E?new Date(E):void 0,H=V&&!isNaN(V.getTime())&&!isNaN(C),W=(0,g.C)(O,{desiredSize:48}),z=(0,d.CC)(x,V?.toISOString(),N?.resume_position_ms,N?.fully_played),Y=B?.uri||"",K=(0,u.C)({itemUris:[Y],dragLabelText:B?.name}),q=(0,s.useCallback)((()=>{R?.(Y)}),[R,Y]);return G=L?(0,S.jsx)(I.c,{index:M,onClick:R,headerText:v,featureIdentifier:"episode",uri:x,isPlayable:!0,isDownloadable:!0,hasNewEpisodeIndicator:z,renderCardImage:()=>(0,S.jsx)(y.y,{isHero:!0,images:n,color:F,FallbackComponent:t=>(0,S.jsx)(w,{...t,description:e,src:W&&W.url})}),renderSubHeaderContent:()=>(0,S.jsx)(_.C,{isHero:!0,children:(0,S.jsxs)(b.C,{children:[t&&!j&&(0,S.jsx)(b.m,{className:k,noSeparator:!0,children:(0,S.jsx)(m.C,{})}),j&&(0,S.jsx)(b.m,{className:k,noSeparator:!0,children:(0,S.jsx)(p.o,{size:16})}),(0,S.jsx)(b.m,{children:(0,S.jsx)(A.C,{children:a._s.get("card.tag.episode")})}),H&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(b.m,{children:(0,h.qw)(V)}),(0,S.jsx)(b.m,{children:a._s.get("episode.length",Math.ceil(C/6e4))})]}),B&&(0,S.jsx)(b.m,{children:(0,S.jsx)(c.Yl,{label:B?.name,showDelay:c.AL,children:(0,S.jsx)(r.a,{as:"span",children:(0,S.jsx)(o.U,{menu:(0,S.jsx)(l.Q,{uri:Y}),children:(0,S.jsx)(i.cH,{draggable:!0,to:Y,onDrag:K,dir:"auto",onClick:q,children:B?.name})})})})})]})}),testId:D,requestId:U}):(0,S.jsx)(f.c,{index:M,onClick:R,headerText:v,featureIdentifier:"episode",uri:x,isPlayable:!0,isDownloadable:!0,hasNewEpisodeIndicator:z,renderCardImage:()=>(0,S.jsx)(y.y,{images:n,color:F,FallbackComponent:t=>(0,S.jsx)(w,{...t,description:e,src:W&&W.url})}),renderSubHeaderContent:()=>(0,S.jsxs)(_.C,{children:[t&&!j&&(0,S.jsx)(b.m,{className:k,noSeparator:!0,children:(0,S.jsx)(m.C,{})}),j&&(0,S.jsx)(b.m,{className:k,noSeparator:!0,children:(0,S.jsx)(p.o,{size:16})}),H&&(0,S.jsxs)(b.C,{children:[(0,S.jsx)(b.m,{children:(0,h.qw)(V)}),(0,S.jsx)(b.m,{children:a._s.get("episode.length",Math.ceil(C/6e4))})]})]}),testId:D,requestId:U}),(0,S.jsx)(o.U,{menu:(0,S.jsx)(T.y,{uri:x,sharingInfo:P}),children:G})}},46056:(e,t,n)=>{"use strict";n.d(t,{c:()=>A});var s=n(96651),i=n(10124),r=n.n(i),a=n(33220),o=n(71992),l=n(14788),c=n(34328),d=n(52588),u=n(40636),m=n(54584),p=n(99404),h=n(38484),g=n(6812),f=n(47824),y=n(7296),_=n(7004);const b="main-heroCard-card",v="main-heroCard-cardLink",x="main-heroCard-draggable",C="main-heroCard-cardMetadata",E="main-heroCard-isDownloadable",S="main-heroCard-PlayButtonContainer",w="main-heroCard-isPlaying";var I=n(2488);const A=e=>{const{onClick:t=(()=>{}),onContextMenu:n=(()=>{}),onTouchStart:i=(()=>{}),onTouchEnd:A=(()=>{}),delegatePlayback:T=!1,delegateLogging:k=!1,delegateNavigation:N=!1,playInsteadOfNavigating:O=!1,isPlaying:P,onPlay:j=(()=>{}),featureIdentifier:L,uri:R,renderCardImage:D,renderSubHeaderContent:M=(()=>null),isPlayable:U=!0,isDownloadable:F=!1,headerText:B,hasNewEpisodeIndicator:G=!1,className:V,playUri:H=R,albumURI:W,testId:z,ariaPlayLabel:Y,ariaPauseLabel:K,index:q,requestId:Q,dragMimeType:X,getSignifierContent:$=(()=>null)}=e,J=(0,a.i6)(),Z=(0,y.w)(),ee=W?`?highlight=${R}`:"",te=W||R,ne=(0,f.W)({type:"link",uri:te}),se=(0,g.C)({itemUris:[R],itemMimeTypes:X?[X]:[],dragLabelText:B}),ie=(0,s.useCallback)((e=>{e.target===e.currentTarget&&se(e)}),[se]),{spec:re,logger:ae,UBIFragment:oe}=(0,u.gp)(o.q,{data:{uri:R,position:q,reason:Q??""}}),{isPlaying:le,isActive:ce,togglePlay:de}=(0,d.I)({uri:H},{featureIdentifier:L});let ue=le;T&&"boolean"==typeof P&&(ue=P);const me=(0,s.useCallback)((()=>{let e=re.cardPlayButtonFactory().hitPause({itemToBePaused:R});ue||(e=ce?re.cardPlayButtonFactory().hitResume({itemToBeResumed:R}):re.cardPlayButtonFactory().hitPlay({itemToBePlayed:R}));const t=ae.logInteraction(e);if(j(R,t),k||Z({targetUri:R,intent:ue?"pause":"play",type:"click"}),T){if("function"!=typeof j)throw Error("No delegate playback handler provided")}else de({loggingParams:t})}),[k,T,ce,ue,ae,Z,j,re,de,R]),pe=(0,s.useCallback)((()=>{Z({targetUri:R,intent:"navigate",type:"click"});const e=re.hitUiNavigate({destination:R});ae.logInteraction(e)}),[ae,Z,re,R]),he=(0,s.useCallback)((()=>{if(t(R),O)return void me();if(N)return;pe();const e=(0,l.nX)(te).toURLPath(!0),n=ne?(0,m.oP)(`${e}${ee}`):`${e}${ee}`;J(n)}),[t,R,O,N,pe,te,ne,ee,J,me]);return(0,I.jsx)(oe,{spec:re,children:(0,I.jsx)("div",{className:r()(b,V),onContextMenu:n,onTouchStart:i,onTouchEnd:A,"":z,children:(0,I.jsxs)("div",{draggable:!0,onDragStart:ie,className:x,children:[D(),(0,I.jsxs)("div",{className:C,children:[(0,I.jsx)(p.q,{to:W||R,search:ee,onClick:pe,isHero:!0,title:B,hasNewEpisodeIndicator:G,children:B}),(0,I.jsx)(h.C,{isHero:!0,children:M(ae,re)}),$()]}),F&&(0,I.jsx)(_.g,{uri:R,className:E,size:"small"}),U&&(0,I.jsx)("div",{className:r()(S,{[w]:ue}),children:(0,I.jsx)(c.O,{isPlaying:ue,onClick:me,ariaPlayLabel:Y,ariaPauseLabel:K})}),(0,I.jsx)("div",{onClick:he,className:v,"":"herocard-click-handler"})]})})})}},70184:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var s=n(8004);const i="main-cardSubHeader-text";var r=n(2488);const a=({children:e})=>e?(0,r.jsx)(s.a,{variant:"bodySmall",className:i,children:e}):null},73108:(e,t,n)=>{"use strict";n.d(t,{I:()=>x});var s=n(96651),i=n(46360),r=n(8004),a=n(12100),o=n(7300),l=n(46003),c=n(11732),d=n(66220),u=n(72312),m=n(92236),p=n(38484),h=n(46056),g=n(70184),f=n(5508),y=n(99279),_=n(30540),b=n(2488);const v=(e,t)=>(n,s)=>{s&&e.logInteraction(t.cardLinkFactory({position:0}).hitUiNavigate({destination:s}))},x=({name:e,uri:t,images:n,description:x,authorName:C,authorUri:E,isHero:S=!1,onClick:w=(()=>{}),testId:I,index:A,requestId:T,color:k,isPlayable:N})=>{let O,P=(0,b.jsx)(_.E,{uri:t}),j=N,L=!1;const R=E||"",D=(0,s.useCallback)((()=>{w?.(R)}),[w,R]);return(0,y.gH)(t)&&(j=!0,P=(0,b.jsx)(f.QT,{}),L=!0),O=S?(0,b.jsx)(h.c,{index:A,onClick:w,headerText:e,featureIdentifier:"playlist",uri:t,isDownloadable:!0,playInsteadOfNavigating:L,renderCardImage:()=>(0,b.jsx)(m.y,{isHero:!0,images:n,color:k,FallbackComponent:e=>(0,b.jsx)(i.I,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,t)=>(0,b.jsxs)(p.C,{isHero:!0,children:[(0,b.jsx)(g.C,{children:a._s.get("card.tag.playlist")}),x?(0,b.jsx)(d.W,{source:x,LinkComponent:c.Link,onLinkClick:v(e,t)}):C&&E&&(0,b.jsx)(o.U,{menu:(0,b.jsx)(l.Y,{uri:R}),children:(0,b.jsx)(r.a,{variant:"bodySmall",children:(0,b.jsx)(c.Link,{to:R,onClick:D,children:C})})})]}),testId:I,requestId:T,isPlayable:j}):(0,b.jsx)(u.c,{index:A,onClick:w,headerText:e,featureIdentifier:"playlist",uri:t,isDownloadable:!0,playInsteadOfNavigating:L,renderCardImage:()=>(0,b.jsx)(m.y,{images:n,color:k,FallbackComponent:e=>(0,b.jsx)(i.I,{size:"xxlarge",...e})}),renderSubHeaderContent:(e,t)=>(0,b.jsx)(p.C,{children:x?(0,b.jsx)(d.W,{source:x,LinkComponent:c.Link,onLinkClick:v(e,t)}):C&&(0,b.jsx)("span",{children:a._s.get("search.playlist-by",C)})}),testId:I,requestId:T,isPlayable:j}),(0,b.jsx)(o.U,{menu:P,children:O})}},94032:(e,t,n)=>{"use strict";n.d(t,{o:()=>h});var s=n(96651),i=n(26020),r=n(12100),a=n(7300),o=n(72312),l=n(92236),c=n(38484),d=n(46056),u=n(70184),m=n(46003),p=n(2488);const h=s.memo((function(e){const{images:t,name:n,uri:h,onClick:g,isHero:f,testId:y,index:_,requestId:b,color:v}=e;let x;const C=(0,s.useCallback)((()=>(0,p.jsx)(l.y,{isCircular:!0,isHero:f,images:t,color:v,FallbackComponent:e=>(0,p.jsx)(i.s,{size:"xxlarge",...e})})),[v,t,f]),E=(0,s.useCallback)((()=>(0,p.jsx)(c.C,{isHero:f,children:f?(0,p.jsx)(u.C,{children:r._s.get("card.tag.profile")}):r._s.get("card.tag.profile")})),[f]);return x=f?(0,p.jsx)(d.c,{index:_,onClick:g,headerText:n,featureIdentifier:"profile",uri:h,isPlayable:!1,renderCardImage:C,renderSubHeaderContent:E,testId:y,requestId:b}):(0,p.jsx)(o.c,{index:_,onClick:g,headerText:n,featureIdentifier:"profile",uri:h,isPlayable:!1,renderCardImage:C,renderSubHeaderContent:E,testId:y,requestId:b}),(0,p.jsx)(a.U,{menu:(0,p.jsx)(m.Y,{uri:h}),children:x})}))},48028:(e,t,n)=>{"use strict";n.d(t,{E:()=>p});var s=n(12100),i=n(7300),r=n(88168),a=n(72312),o=n(92236),l=n(38484),c=n(46056),d=n(70184),u=n(81472),m=n(2488);const p=({images:e,name:t,uri:n,publisher:p,sharingInfo:h,mediaType:g,isHero:f=!1,onClick:y,testId:_,index:b,requestId:v,color:x})=>{let C;const E=g===r.v.MIXED?s._s.get("type.show"):s._s.get("card.tag.show");return C=f?(0,m.jsx)(c.c,{index:b,onClick:y,delegatePlayback:!0,headerText:t,featureIdentifier:"show",uri:n,isPlayable:!1,renderCardImage:()=>(0,m.jsx)(o.y,{isHero:!0,images:e,color:x}),renderSubHeaderContent:()=>(0,m.jsxs)(l.C,{isHero:!0,children:[(0,m.jsx)(d.C,{children:E}),p&&(0,m.jsx)("span",{children:p})]}),testId:_,requestId:v}):(0,m.jsx)(a.c,{onClick:y,isPlayable:!1,delegatePlayback:!0,headerText:t,featureIdentifier:"show",uri:n,index:b,renderCardImage:()=>(0,m.jsx)(o.y,{isHero:f,images:e,color:x}),renderSubHeaderContent:()=>(0,m.jsx)(l.C,{children:p&&(0,m.jsx)("span",{children:p})}),testId:_,requestId:v}),(0,m.jsx)(i.U,{menu:(0,m.jsx)(u.Q,{uri:n,sharingInfo:h}),children:C})}},18656:(e,t,n)=>{"use strict";n.d(t,{O:()=>b});var s=n(96651),i=n(10124),r=n.n(i),a=n(49232),o=n(5864),l=n(15040),c=n(23482),d=n(80496),u=n(27864);const m="V8p0Uoki3EIdMPOxzLow",p="c765ng6TZrOoQN0fRQod",h="YVcNB7bcFd5axagLHfAF",g="fabXdRhkEdHzu8OgR5Vn",f="fvOob2VViovPwenD9MRA";var y=n(2488);const _=(0,s.memo)((({isLoading:e})=>{const t=(0,o.S)("shimmer");return(0,y.jsx)("div",{ref:t,className:r()(u.c.imageWrapper,{[f]:e})})})),b=(0,s.memo)((({cardImage:e,isLoading:t})=>{const n=(0,a.IP)(l.M1F);return(0,y.jsxs)("div",{className:r()(d.c.card,m,{[p]:n}),"aria-hidden":!0,"":"skeleton-card",children:[(0,y.jsx)("div",{className:r()(d.c.imageContainer,d.c.imageContainerSkeleton),children:e||(0,y.jsx)(_,{isLoading:t})}),(0,y.jsxs)("div",{className:d.c.cardMetadata,children:[(0,y.jsx)(c.O,{as:"div",variant:"bodyMediumBold",className:h,charCount:15,isLoading:t}),(0,y.jsx)(c.O,{as:"div",variant:"bodySmall",className:g,charCount:10,isLoading:t})]})]})}))},28972:(e,t,n)=>{"use strict";n.d(t,{y:()=>v});var s=n(12100),i=n(7300),r=n(24300),a=n(24620),o=n(55148),l=n(17556),c=n(41436),d=n(57148),u=n(72312),m=n(92236),p=n(38484),h=n(46056),g=n(70184),f=n(56684);const y="Cv51KKt1hDVs4oYd4jZ1",_="EOodiXpqS_o1Q6E7R6V7";var b=n(2488);const v=({name:e,uri:t,images:n,album:v,artists:x,isExplicit:C,is19PlusOnly:E,isHero:S=!1,onClick:w,testId:I,index:A,requestId:T,isLyricsMatch:k,color:N,hasAssociatedVideo:O})=>{let P;const{badges:j,hasBadges:L}=(0,d.C)({isExplicit:C,isMOGEFRestricted:E,hasAssociatedVideo:O});return P=S?(0,b.jsx)(h.c,{index:A,onClick:w,headerText:e,featureIdentifier:"track",uri:t,albumURI:v?.uri,renderCardImage:()=>(0,b.jsx)(m.y,{isHero:!0,images:n,color:N}),renderSubHeaderContent:()=>(0,b.jsxs)(p.C,{isHero:!0,children:[L&&(0,b.jsxs)(r.MV,{children:[j.explicit&&(0,b.jsx)(l.C,{}),j.nineteen&&(0,b.jsx)(c.o,{className:y,size:16}),j.hasAssociatedVideo&&(0,b.jsx)(a.Q,{})]}),(0,b.jsx)(g.C,{children:s._s.get("card.tag.track")}),(0,b.jsx)(r.ui,{artists:x,className:_}),k&&(0,b.jsx)(o.W,{})]}),testId:I,requestId:T}):(0,b.jsx)(u.c,{index:A,onClick:w,headerText:e,featureIdentifier:"track",uri:t,albumURI:v?.uri,renderCardImage:()=>(0,b.jsx)(m.y,{images:n,color:N}),renderSubHeaderContent:()=>(0,b.jsxs)(p.C,{children:[C&&!E&&(0,b.jsx)(l.C,{className:y}),E&&(0,b.jsx)(c.o,{size:16,className:y}),(0,b.jsx)(r.ui,{artists:x,className:_}),k&&(0,b.jsx)(o.W,{})]}),testId:I,requestId:T}),(0,b.jsx)(i.U,{menu:(0,b.jsx)(f.k,{uri:t,artists:x,albumUri:v?.uri}),children:P})}},91128:(e,t,n)=>{"use strict";n.d(t,{E:()=>S});n(73952),n(41352);var s=n(96651),i=n(10124),r=n.n(i),a=n(5540),o=n(87056),l=n(44772),c=n(21396),d=n(62572);function u(){const e=(0,s.useRef)(0);return(0,s.useCallback)((t=>{const n=t.currentTarget,s=n.style.scrollBehavior;let i=!1;const r=n.scrollLeft,a=t.clientX;let o=0;function l(){cancelAnimationFrame(e.current),document.removeEventListener("wheel",c)}function c(){l(),n.style.scrollBehavior=s}function d(){n.scrollLeft+=o,o*=.95,Math.abs(o)>.5?e.current=requestAnimationFrame(d):c()}n.style.userSelect="none",n.style.scrollBehavior="auto",l();const u=e=>{const t=e.clientX-a;Math.abs(t)>10&&(i=!0);const s=n.scrollLeft;n.scrollLeft=r-t,o=n.scrollLeft-s};document.addEventListener("mousemove",u),document.addEventListener("mouseup",(()=>{const t=e=>{e.preventDefault(),e.stopImmediatePropagation()};!0===i&&(n.addEventListener("click",t,{once:!0,capture:!0}),setTimeout((()=>{n.removeEventListener("click",t,{capture:!0})}))),n.style.removeProperty("user-select"),document.removeEventListener("mousemove",u),l(),e.current=requestAnimationFrame(d),document.addEventListener("wheel",c,{once:!0})}),{once:!0})}),[])}const m="search-searchCategory-contentArea",p="search-searchCategory-catergoryGrid",h="MUloQuW1xQawwVs0mDp4",g="OlnSvEViCZ_vVdnc3mSQ",f="FjMPyh7lOujDVYQRvp0H",y="search-searchCategory-carousel",_="search-searchCategory-carouselButton",b="search-searchCategory-carouselButtonVisible";var v=n(2488),x=function(e){return e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT",e}(x||{});function C(e,t,n){(0,c.BA)(e,t),function(e,t){const n=e.offsetLeft,s=e.offsetWidth,i=n+s,r=t.scrollLeft,a=t.offsetWidth;(r>0||(r+a)/2<=i)&&t.scroll({left:s/2+n-a/2})}(t,n)}function E(e,t){const n=e.querySelector('[tabindex="0"]')||e.firstElementChild;if(n&&n instanceof HTMLElement)if(t===x.RIGHT){if(document.activeElement===e||!n.nextElementSibling)return void C(n,e.querySelector("a[href], button")??e,e);n.nextElementSibling instanceof HTMLElement&&C(n,n.nextElementSibling,e)}else if(t===x.LEFT){if(document.activeElement===e||!n.previousElementSibling){const t=e.querySelectorAll("a[href], button");if(!t||!t.length)return;return void C(n,t[t.length-1]??e,e)}if(n.previousElementSibling instanceof HTMLElement)return void C(n,n.previousElementSibling,e)}}const S=e=>{const{children:t,className:n,showButtons:i=!0,ariaLabel:c,applyLightThemeControls:C=!1}=e,S=(0,s.useRef)(null),w=(0,s.useRef)(null),[I,A]=(0,s.useState)(!1),[T,k]=(0,s.useState)(!1),N=(0,s.useCallback)((()=>{if(!S.current||!w.current)return;const e=S.current,t=w.current,n=e.scrollWidth-e.clientWidth,s=Math.abs(e.scrollLeft),i=s<1?Math.floor(s):Math.ceil(s),r=t.offsetWidth>e.clientWidth;k(r&&0!==i),A(r&&i<n)}),[]);(0,d.m)({refOrElement:w,observeOnly:"width",onResize:N}),(0,d.m)({refOrElement:S,observeOnly:"width",onResize:N});const O=s.Children.toArray(t).length;(0,s.useLayoutEffect)(N,[O,N]);const P=(0,s.useCallback)((e=>{const t=e*(S.current.clientWidth/2);S.current.scrollBy({left:t}),N()}),[N]),j=(0,l.k)(),L=(0,s.useCallback)((e=>{"ArrowLeft"===e.key?(e.preventDefault(),E(S.current,j?x.RIGHT:x.LEFT)):"ArrowRight"===e.key&&(e.preventDefault(),E(S.current,j?x.LEFT:x.RIGHT))}),[j]),R=j?I:T,D=j?T:I,M=i&&(R||D),U=u(),F=function(){const e=(0,s.useRef)(!0),t=(0,s.useRef)(null),n=(0,s.useRef)(null);return(0,s.useCallback)((s=>{if(!s.deltaY)return;const i=s.currentTarget;e.current&&(e.current=!1,t.current=i.style.scrollBehavior,i.style.scrollBehavior="auto"),i.scrollLeft+=s.deltaY+s.deltaX,n.current&&clearTimeout(n.current),n.current=setTimeout((()=>{e.current=!0,i.style.scrollBehavior=t.current??""}),100)}),[])}();return(0,v.jsxs)("div",{className:r()(m,n),children:[(0,v.jsx)("div",{ref:S,className:r()(p,{[g]:D&&!R,[h]:R&&!D,[f]:R&&D}),onScroll:N,onKeyDown:L,onMouseDown:U,onWheel:F,role:"list","aria-label":c,tabIndex:0,children:(0,v.jsx)("div",{ref:w,role:"presentation",children:t})}),M&&(0,v.jsxs)("div",{className:r()(y,{"encore-light-theme":C}),dir:"ltr",children:[(0,v.jsx)("button",{className:r()(_,{[b]:R}),tabIndex:-1,onClick:()=>P(x.LEFT),"aria-hidden":"true",children:(0,v.jsx)(a.C,{autoMirror:!1,semanticColor:"textBase",size:"small"})}),(0,v.jsx)("button",{className:r()(_,{[b]:D}),tabIndex:-1,onClick:()=>P(x.RIGHT),"aria-hidden":"true",children:(0,v.jsx)(o.U,{autoMirror:!1,semanticColor:"textBase",size:"small"})})]})]})}},15708:(e,t,n)=>{"use strict";n.d(t,{c:()=>u});var s=n(10124),i=n.n(s),r=n(8004),a=n(96560),o=n(8340),l=n(20356);const c={container:"main-confirmDialog-container",overlay:"main-confirmDialog-overlay",buttonContainer:"main-confirmDialog-buttonContainer",button:"main-confirmDialog-button"};var d=n(2488);function u({onClose:e=(()=>{}),onOutside:t,isOpen:n=!0,titleText:s,descriptionText:u,cancelText:m,confirmText:p,confirmLabel:h,onConfirm:g,allowHTML:f=!1,shouldCloseOnEsc:y=!0,shouldCloseOnOverlayClick:_=!0,shouldFocusAfterRender:b=!0,...v}){return(0,d.jsx)(l.c,{animated:!0,shouldCloseOnEsc:y,shouldCloseOnOverlayClick:_,overlayClassName:c.overlay,onRequestClose:t??e,contentLabel:v["aria-label"],isOpen:n,shouldFocusAfterRender:b,...v,children:(0,d.jsxs)("div",{className:i()("encore-light-theme",c.container),children:[(0,d.jsx)(r.a,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:s}),u&&(f?(0,d.jsx)(r.a,{as:"p",variant:"bodySmall",semanticColor:"textBase",dangerouslySetInnerHTML:{__html:u},"":"confirm-dialog-description"}):(0,d.jsx)(r.a,{as:"p",variant:"bodySmall",semanticColor:"textBase","":"confirm-dialog-description",children:u})),(0,d.jsxs)("div",{className:c.buttonContainer,children:[m&&(0,d.jsx)(a.u,{onClick:e,semanticColor:"textBase",className:c.button,children:m}),(0,d.jsx)(o.g,{"aria-label":h,autoFocus:!0,onClick:g,className:c.button,children:p})]})]})})}},50280:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});n(41260);var s=n(14788),i=n(12100),r=n(11732),a=n(16928),o=n(52276),l=n(35032),c=n(2488);const d=({item:e,onClick:t})=>(0,c.jsx)(c.Fragment,{children:e.artists.map(((n,a)=>{const o=(0,s.nX)(n.uri)?.toURLPath(!0);return(0,c.jsxs)("span",{children:[a>0?i._s.getSeparator():null,o?(0,c.jsx)(r.default,{to:o,"":`context-item-info-${e.type}`,dir:"auto",onClick:t,children:n.name}):(0,c.jsx)("span",{dir:"auto",children:n.name})]},a)}))}),u=({item:e,onClick:t})=>{const{show:n}=e,i=(0,s.nX)(n.uri)?.toURLPath(!0);return i?(0,c.jsx)(r.default,{to:i,"":"context-item-info-show",dir:"auto",onClick:t,children:n.name}):(0,c.jsx)("span",{dir:"auto",children:n.name})},m=({item:e,onClick:t})=>{const{book:n}=e,i=(0,s.nX)(n.uri)?.toURLPath(!0);return i?(0,c.jsx)(r.default,{to:i,"":"context-item-info-book",dir:"auto",onClick:t,children:n.name}):(0,c.jsx)("span",{dir:"auto",children:n.name})},p={"":"context-item-info-ad-subtitle"},h=({item:e,onClick:t})=>{const n=(0,l.U7)(e);return n.url?(0,c.jsx)("a",{...p,onClick:e=>{t?.(e,n.url||void 0)},href:n.url??void 0,rel:"noopener noreferrer",target:"_blank",dir:"auto",children:n.subtitle}):(0,c.jsx)("span",{dir:"auto",children:n.subtitle})},g=({item:e,onClick:t})=>(0,a.gB)(e)||(0,a.u_)(e)?(0,c.jsx)(d,{item:e,onClick:t}):(0,a.sN)(e)?(0,c.jsx)(u,{item:e,onClick:t}):(0,a.Q9)(e)?(0,c.jsx)(m,{item:e,onClick:t}):(0,a.UZ)(e)?(0,c.jsx)(h,{item:e,onClick:t}):(0,o.E)(e)},79928:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var s=n(14788),i=n(11732),r=n(16928),a=n(52276),o=n(2488);const l=({item:e,children:t,onClick:n,adUrl:l})=>{const c=l??function(e){return(0,r.gB)(e)?(0,s.nX)(e.album.uri)?.toURLPath(!0):(0,r.sN)(e)||(0,r.Q9)(e)||(0,r.u_)(e)?(0,s.nX)(e?.uri)?.toURLPath(!0):void((0,r.UZ)(e)||(0,a.I)(e))}(e);return(0,r.gB)(e)&&e.isLocal?(0,o.jsx)(o.Fragment,{children:t}):(0,r.gB)(e)||(0,r.sN)(e)||(0,r.Q9)(e)||(0,r.u_)(e)?void 0===c?(0,o.jsx)(o.Fragment,{children:t}):(0,o.jsx)(i.default,{"":"context-item-link",to:c,onClick:n,children:t}):(0,r.UZ)(e)?c?(0,o.jsx)("a",{"":"context-item-info-ad-title",onClick:e=>{n?.(e,c)},href:c,rel:"noopener noreferrer",target:"_blank",children:t}):(0,o.jsx)(o.Fragment,{children:t}):(0,a.E)(e)}},31720:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});var s=n(36648),i=n(2488);const r=({children:e,...t})=>(0,i.jsx)(s.S,{...t,action:"toggle",trigger:"click",children:e})},36648:(e,t,n)=>{"use strict";n.d(t,{S:()=>f});var s=n(96651),i=n(29528),r=n(78172),a=n(2488);const o=({toggleContextMenu:e,children:t})=>(0,a.jsx)(a.Fragment,{children:s.cloneElement(t,{onClick:n=>{t.props.onClick?.(n),e(n)}})}),l=({openContextMenu:e,children:t})=>{const n=(0,r.oJ)();return(0,a.jsx)(a.Fragment,{children:s.cloneElement(t,{onFocus:n=>{document.documentElement.classList.contains("no-focus-outline")||(t.props.onFocus?.(n),e(n))},onBlur:e=>{t.props.onBlur?.(e),n({type:"close"})},onMouseEnter:n=>{t.props.onMouseEnter?.(n),e(n)},onMouseLeave:e=>{t.props.onMouseLeave?.(e),n({type:"close"})}})})},c=({openContextMenu:e,children:t})=>{const n=(0,r.oJ)(),{isTouching:i}=(0,r._K)(),o=(0,s.useRef)();return(0,a.jsx)(a.Fragment,{children:s.cloneElement(t,{onContextMenu:n=>{t.props.onContextMenu?.(n),i||e(n),n.stopPropagation()},onTouchStart:e=>{o.current=Date.now(),t.props.onTouchStart?.(e),n({type:"touch",value:!0})},onTouchEnd:s=>{var i;t.props.onTouchEnd?.(s),(i=o.current)&&Date.now()-500>i&&(n({type:"touch",value:!1}),e(s)),document.body.hasAttribute("data-dragging-type")&&document.body.removeAttribute("data-dragging-type")}})})};var d=n(38952);const u=(0,s.forwardRef)((function({isOpen:e,handleContextMenu:t,trigger:n,children:i},r){return(0,d.o)(i)?(0,a.jsx)(a.Fragment,{children:i(e,t,r)}):"click"===n?(0,a.jsx)(o,{toggleContextMenu:t,children:i}):"right-click"===n?(0,a.jsx)(c,{openContextMenu:t,children:i}):"hover-or-focus"===n?(0,a.jsx)(l,{openContextMenu:t,children:i}):(0,a.jsx)(a.Fragment,{children:(0,s.cloneElement)(i,{ref:r})})}));function m(e){if(!e)return{x:0,y:0};if(function(e){return"touchend"===e.type||"touchstart"===e.type}(e))return{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};if(function(e){if("clientX"in e&&"clientY"in e)return 0!==e.clientX&&0!==e.clientY;return!1}(e))return{x:e.clientX,y:e.clientY};const t=e.target.getBoundingClientRect();return{x:t.x+t.width/2,y:t.y+t.height}}var p=n(70988),h=n(56616);const g=({children:e,menu:t,action:n="toggle",trigger:o="click",renderInline:l=!1,offset:c=[0,8],placement:d="bottom-start",preventScrollingWhileOpen:g=!0,onShow:f,onHide:y,onClickOutside:_,snapshotReferenceElementPositionWhileOpen:b=!1,autoUpdate:v=!0,interactive:x=!0})=>{const C=(0,r.oJ)(),E=(0,r._K)(),S=(0,p.m)({action:n,menu:t}),w=(0,h.y6)();(0,s.useEffect)((()=>{v&&C({type:"update",menu:t})}),[v,C,t]);const I=(0,s.useCallback)((()=>{C({type:"close"})}),[C]),A=(0,s.useMemo)((()=>E.triggerElement&&b?E.triggerElement.getBoundingClientRect():null),[E.isOpen]);return(0,a.jsx)(i.q,{onClickOutside:(e,t)=>{_?_(I,e,t):I()},placement:d,trigger:o,offset:c,preventScrollingWhileOpen:g,triggerRef:E.triggerElement??void 0,appendTo:!w||l?void 0:()=>w.body,isOpen:E.isOpen,position:m(E.event),menu:E.menu,onShow:f,onHide:(...e)=>{I(),y?.(...e)},getReferenceClientRect:A?()=>A:null,interactive:x,children:(0,a.jsx)(u,{isOpen:E.isOpen,handleContextMenu:S,trigger:o,children:e})})},f=e=>(0,a.jsx)(r.ZJ,{children:(0,a.jsx)(g,{...e})})},7300:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var s=n(36648),i=n(2488);const r=e=>(0,i.jsx)(s.S,{...e,action:"open",trigger:"right-click"})},44488:(e,t,n)=>{"use strict";n.d(t,{i:()=>p});var s=n(96651),i=n(10124),r=n.n(i),a=n(78172),o=n(73670),l=n(65236),c=n(87668),d=n(33732),u=n(18432),m=n(2488);const p=({children:e,onClose:t,getInitialFocusElement:n,onFocusVerticalItem:i,...p})=>{const h=(0,a.oJ)(),g=(0,s.useCallback)((()=>{t?.(),h({type:"close"})}),[h,t]),f=(0,s.useCallback)((e=>{h({type:"modifierKeyHeld",value:e.altKey||e.ctrlKey})}),[h]);return(0,m.jsx)(o.a,{onError:e=>(0,c.gh)(e,"Menu"),children:(0,m.jsx)(d.g,{children:(0,m.jsx)(l.ET,{className:r()("encore-dark-theme",u.c.menu),onClose:g,onKeyDown:f,onKeyUp:f,getInitialFocusElement:n,onFocusVerticalItem:i,...p,children:[Spicetify.ContextMenuV2.renderItems(),e].flat()})})})}},63824:(e,t,n)=>{"use strict";n.d(t,{Y:()=>c});var s=n(10124),i=n.n(s),r=n(90464),a=n(65236),o=n(18432),l=n(2488);const c=({children:e,divider:t})=>(0,l.jsx)(a.gd,{className:o.c.menuItem,children:(0,l.jsx)(r.F,{className:i()(o.c.menuHeading,"ellipsis-one-line",{[o.c.dividerBefore]:"before"===t,[o.c.dividerAfter]:"after"===t}),variant:"finaleBold",dir:"auto","aria-hidden":!0,children:e})})},90484:(e,t,n)=>{"use strict";n.d(t,{I:()=>h});var s=n(96651),i=n(10124),r=n.n(i),a=n(21824),o=n(90464),l=n(78172),c=n(65236),d=n(952),u=n(20648),m=n(18432),p=n(2488);const h=({children:e,disabled:t,divider:n,onClick:i=(()=>{}),leadingIcon:h,trailingIcon:g,elementRef:f,CheckedIcon:y=a.k,autoClose:_=!0,innerClassName:b,...v})=>{const x=(0,l.oJ)(),C=(0,s.useRef)(null),E=(0,s.useCallback)((e=>{C.current=e,f&&f(e)}),[f]),{handleMouseEnter:S,handleMouseMove:w,handleMouseLeave:I,handleFocus:A}=(0,u.s)(C),T=(0,s.useCallback)((e=>{e.stopPropagation(),i(e),!t&&_&&x({type:"close"})}),[i,t,_,x]),k=(0,s.useCallback)((e=>{e.stopPropagation()}),[]);return(0,p.jsx)(d.g,{className:m.c.menuItem,children:(0,p.jsxs)(c.Wo,{className:r()(m.c.menuItemButton,{[m.c.disabled]:t,[m.c.dividerBefore]:"before"===n||"both"===n,[m.c.dividerAfter]:"after"===n||"both"===n}),"aria-disabled":t,onClick:T,onFocus:A,onMouseEnter:S,onMouseMove:w,onMouseLeave:I,onContextMenu:k,ref:E,...v,children:[h,(0,p.jsx)(o.F,{variant:"mesto",dir:"auto",className:r()("ellipsis-one-line",m.c.menuItemLabel,b),children:e}),g,v["aria-checked"]&&y&&(0,p.jsx)(y,{iconSize:16})]})})}},93246:(e,t,n)=>{"use strict";n.d(t,{I:()=>g});var s=n(96651),i=n(52688),r=n(32040),a=n(90464),o=n(65236),l=n(10124),c=n.n(l),d=n(952),u=n(20648),m=n(18432),p=n(2488);const h=(0,s.forwardRef)((function({children:e,disabled:t=!1,onClick:n=(()=>{}),setIsOpen:i,onTouchStart:r,outerRef:a,divider:l},h){const{handleMouseEnter:g,handleMouseMove:f,handleMouseLeave:y,handleFocus:_}=(0,u.s)(a,i),b=(0,s.useCallback)((e=>{e.stopPropagation(),n(e)}),[n]),v=(0,s.useCallback)((e=>{e.stopPropagation()}),[]);return(0,p.jsx)(d.g,{className:m.c.menuItem,children:(0,p.jsx)(o.Wo,{className:c()(m.c.menuItemButton,{[m.c.disabled]:t,[m.c.dividerBefore]:"before"===l,[m.c.dividerAfter]:"after"===l}),onClick:b,onFocus:_,onMouseEnter:g,onMouseMove:f,onMouseLeave:y,onTouchStart:r,onContextMenu:v,ref:h,role:"menuitem",children:e})})})),g=({displayText:e,depth:t=1,children:n,divider:l,placement:c="right-start",onOpenChange:d,onClick:u,disabled:g,leadingIcon:f})=>{const[y,_]=(0,s.useState)(!1),b=(0,s.useRef)(null),v=(0,s.useCallback)((()=>{_((e=>!e))}),[]),x=(0,s.useRef)(d);return x.current=d,(0,s.useEffect)((()=>x.current?.(y)),[y]),(0,p.jsx)(i.cp,{render:()=>(0,p.jsx)(o.O4,{className:m.c.menu,depth:t,children:n}),offset:[0,0],interactive:!0,visible:y,arrow:!1,animation:!1,placement:c,popperOptions:{modifiers:[{name:"preventOverflow",options:{boundary:document.body,altAxis:!0,padding:10}},{name:"flip",options:{boundary:document.body}}]},children:(0,p.jsxs)(h,{divider:l,setIsOpen:_,onTouchStart:v,ref:b,outerRef:b,onClick:u,disabled:g,children:[(0,p.jsxs)("div",{className:m.c.subMenuLeading,children:[f,(0,p.jsx)(a.F,{variant:"mesto",dir:"auto",className:"ellipsis-one-line",children:e})]}),(0,p.jsx)("span",{children:(0,p.jsx)(r.s,{className:m.c.subMenuIcon,iconSize:16,"aria-hidden":"true"})})]})})}},29528:(e,t,n)=>{"use strict";n.d(t,{q:()=>l,u:()=>o});var s=n(96651),i=n(52688),r=n(81604);var a=n(2488);const o="context-menu",l=({menu:e,onClickOutside:t,children:n,trigger:l,offset:c,placement:d,isOpen:u,preventScrollingWhileOpen:m,triggerRef:p,position:h,getReferenceClientRect:g,onShow:f,onHide:y,appendTo:_,interactive:b=!0})=>{const v=(0,s.useRef)(null),x=(0,s.useRef)(null);((e,t)=>{(0,s.useEffect)((()=>{const n=e=>{t.current&&!t.current.contains(e.target)&&e.preventDefault()};if(e){const e={passive:!1};window.addEventListener("mousewheel",n,e),window.addEventListener("touchmove",n,e)}return()=>{window.removeEventListener("mousewheel",n),window.removeEventListener("touchmove",n)}}),[e,t])})(u&&m,v);const{updateAfterFirstLayout:C,cancel:E}=((e,t)=>{const n=(0,s.useRef)(0),i=(0,s.useCallback)((()=>{cancelAnimationFrame(n.current)}),[]),r=(0,s.useCallback)((()=>{e.current&&0!==e.current?.getBoundingClientRect().width?(t.current?.popperInstance?.update(),cancelAnimationFrame(n.current)):n.current=requestAnimationFrame(r)}),[e,t]);return(0,s.useEffect)((()=>()=>{cancelAnimationFrame(n.current)}),[r]),{updateAfterFirstLayout:r,cancel:i}})(v,x),S=(0,s.useCallback)((e=>{E(),e.reference.removeAttribute("data-context-menu-open"),y()}),[E,y]);(0,s.useEffect)((()=>{const e=x.current;if(!e||!e.reference||"click"===l)return()=>{};const t=e.reference,n=S.bind(void 0,e);return t.addEventListener("click",n),()=>{t.removeEventListener("click",n)}}),[v,x,S,l]);let w=null;return g?w=g:"right-click"!==l&&p||(w=()=>({width:0,height:0,top:h?.y??0,bottom:h?.y??0,left:h?.x??0,right:h?.x??0,x:0,y:0,toJSON:()=>{}})),(0,a.jsxs)(a.Fragment,{children:[n,u&&(0,a.jsx)(i.cp,{onCreate:e=>{x.current=e},onShow:e=>{C(),e.reference.setAttribute("data-context-menu-open","true"),f?.(e)},onHide:S,visible:u,render:t=>(0,a.jsx)((Spicetify.ContextMenuV2._context||(Spicetify.ContextMenuV2._context=s.createContext(null))).Provider,{value:{props:e?.props,trigger:l,target:p},children:(0,a.jsx)(r.oL,{value:"contextmenu",children:(0,a.jsx)("div",{ref:v,id:o,"data-placement":t["data-placement"],"":"context-menu",children:u?e:null})})}),arrow:!0,popperOptions:{modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,padding:10,tether:!1}},{name:"arrow",options:{padding:10}}]},placement:d,onClickOutside:(e,n)=>{t?.(e,n)},interactive:b,offset:c,..._?{appendTo:_}:{},reference:p,getReferenceClientRect:w,aria:{expanded:"hover-or-focus"!==l&&"auto"}})]})}},78172:(e,t,n)=>{"use strict";n.d(t,{ZJ:()=>u,_K:()=>o,oJ:()=>c});var s=n(96651),i=n(2488);const r={isOpen:!1,modifierKeyHeld:!1,isTouching:!1,menu:null,event:null,triggerElement:null},a=(0,s.createContext)(r);function o(){const e=s.useContext(a);if(void 0===e)throw new Error("useContextMenuState must be used within a ContextMenuProvider");return e}const l=(0,s.createContext)((()=>{}));function c(){const e=s.useContext(l);if(void 0===e)throw new Error("useContextMenuDispatch must be used within a ContextMenuProvider");return e}function d(e,t){switch(t.type){case"open":return{...e,menu:t.menu,isOpen:!0,event:t.event,triggerElement:t.triggerElement};case"toggle":return{...e,isOpen:!e.isOpen,menu:e.isOpen?null:t.menu,event:t.event,triggerElement:t.triggerElement};case"modifierKeyHeld":return{...e,modifierKeyHeld:t.value};case"touch":return{...e,isTouching:t.value};case"close":return{...r};case"update":return{...e,menu:t.menu};default:throw new Error("Unknown action recieved!")}}const u=({children:e})=>{const[t,n]=(0,s.useReducer)(d,r);return(0,i.jsx)(l.Provider,{value:n,children:(0,i.jsx)(a.Provider,{value:t,children:e})})}},33732:(e,t,n)=>{"use strict";n.d(t,{k:()=>a,g:()=>l});var s=n(96651),i=n(29528);var r=n(2488);const a=(0,s.createContext)({registerCloseCallback:()=>{},closeToDepth:()=>{},isOnPathToSubmenu:()=>!1}),o=()=>()=>{},l=({children:e})=>{const t=(0,s.useRef)([]),n=(0,s.useRef)(),l=(o(),(0,s.useCallback)(((e,s)=>{t.current.push(e),n.current=s}),[])),c=(0,s.useCallback)((e=>{for(n.current=void 0;t.current.length>e;){const e=t.current.pop();e&&e(!1)}}),[]);return(0,r.jsx)(a.Provider,{value:{registerCloseCallback:l,closeToDepth:c,isOnPathToSubmenu:(e,t)=>{const s=document.getElementById(i.u),r=!t&&n.current?.x===e.x&&n.current?.y===e.y;if(!n.current||!s||r)return!1;const a=Array.from(s.querySelectorAll('[role="menu"]')).sort(((e,t)=>parseInt(e.getAttribute("data-depth")||"0",10)-parseInt(t.getAttribute("data-depth")||"0",10))).pop();if(!a)return!1;const o=a.getBoundingClientRect();let l=o.left;n.current.x>o.right&&(l=o.right);const c=n.current,d={x:l,y:o.top},u={x:l,y:o.bottom},m={x:d.x-c.x,y:d.y-c.y},p={x:u.x-c.x,y:u.y-c.y},h=(e,t)=>e.x*t.y-e.y*t.x,g=(h(e,p)-h(c,p))/h(m,p),f=-1*(h(e,m)-h(c,m))/h(m,p),y=g>0&&f>0&&g+f<1||Math.abs(e.x-c.x)+Math.abs(e.y-c.y)<=1;return y}},children:e})}},70988:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var s=n(96651),i=n(78172);const r=({action:e,menu:t})=>{const n=(0,i.oJ)();return(0,s.useCallback)(((s,i)=>{s.persist(),s.preventDefault(),n({type:e,event:s,triggerElement:s.currentTarget,menu:i||t})}),[t,n,e])}},23308:(e,t,n)=>{"use strict";n.d(t,{An:()=>v,Oq:()=>x,St:()=>C});var s=n(96651),i=n(4564),r=n(16200),a=n(76008),o=n(92232),l=n(35044),c=n(25168),d=n(12100),u=n(90484),m=n(81604),p=n(3844),h=n(40636),g=n(4732),f=n(7296),y=n(13932),_=n(2488);const b=s.memo((function({uri:e,divider:t,saveSuccess:n,removeSuccess:r,removeLabel:a,saveLabel:o,useDialog:l=!1,initialState:d=!1,leadingIconAdd:m,leadingIconRemove:b}){const v=(0,i.OY)(),x=(0,f.w)(),C=!(0,y.O)(),[E,S]=(0,p.X)(e,d),w=(0,p.u)(),{spec:I,logger:A}=(0,h.gp)(c.C,{data:{uri:e}}),T=(0,s.useCallback)((()=>{const t=I.followButtonFactory();l&&E?v((0,g.ED)(e)):(x({targetUri:e,intent:E?"remove-from-library":"add-to-library",type:"click"}),S(!E),E?(A.logInteraction(t.hitUnfollow({itemToBeUnfollowed:e})),r&&v(r(e))):(A.logInteraction(t.hitFollow({itemToBeFollowed:e})),n&&v(n(e))))}),[I,l,E,v,e,x,S,A,r,n]);return(0,_.jsx)(u.I,{role:"menuitem",divider:t,disabled:C&&!w?.getCapabilities().canModifyOffline,onClick:T,leadingIcon:E?b:m,children:E?a:o})})),v=s.memo((function({uri:e,divider:t,useDialog:n,initialState:s=!1}){return(0,_.jsx)(m.oL,{value:"follow-artist",children:(0,_.jsx)(b,{uri:e,divider:t,removeLabel:d._s.get("unfollow"),saveLabel:d._s.get("follow"),useDialog:n,initialState:s,leadingIconAdd:(0,_.jsx)(r.Q,{semanticColor:"textSubdued",size:"small"}),leadingIconRemove:(0,_.jsx)(a.K,{semanticColor:"textBrightAccent",size:"small"})})})})),x=s.memo((function({uri:e,divider:t,useDialog:n=!1,initialState:s=!1}){return(0,_.jsx)(m.oL,{value:"follow-playlist",children:(0,_.jsx)(b,{uri:e,divider:t,removeLabel:d._s.get("contextmenu.remove-from-library"),saveLabel:d._s.get("contextmenu.add-to-library"),useDialog:n,initialState:s,leadingIconAdd:(0,_.jsx)(o.u,{semanticColor:"textSubdued",size:"small"}),leadingIconRemove:(0,_.jsx)(l.W,{semanticColor:"textBrightAccent",size:"small"})})})})),C=s.memo((function({uri:e,divider:t,useDialog:n=!1,initialState:s=!1}){return(0,_.jsx)(m.oL,{value:"follow-show",children:(0,_.jsx)(b,{uri:e,divider:t,removeLabel:d._s.get("unfollow"),saveLabel:d._s.get("follow"),useDialog:n,initialState:s,leadingIconAdd:(0,_.jsx)(r.Q,{semanticColor:"textSubdued",size:"small"}),leadingIconRemove:(0,_.jsx)(a.K,{semanticColor:"textBrightAccent",size:"small"})})})}))},94812:(e,t,n)=>{"use strict";n.d(t,{w:()=>g});var s=n(96651),i=n(16200),r=n(12100),a=n(90484),o=n(23568),l=n(98308),c=n(13932),d=n(15040),u=n(81604),m=n(40636),p=n(2488);const h=({uri:e,divider:t,spec:n})=>{const{onCopyLink:s}=(0,l.o)({uri:e,permissionLevel:"CONTRIBUTOR"}),o=!(0,c.O)(),d=(0,m.Mk)();return(0,p.jsx)(a.I,{role:"menuitem",divider:t,onClick:()=>{if(s(),d&&n){const e=n.inviteCollaboratorsButtonFactory().hitCopyToClipboard();e&&d.logInteraction(e)}},disabled:o,leadingIcon:(0,p.jsx)(i.Q,{semanticColor:"textSubdued",size:"small"}),children:r._s.get("contextmenu.invite-collaborators")})},g=s.memo((function(e){return(0,p.jsx)(o.Q,{property:d.UHG,renderNewExperience:()=>(0,p.jsx)(u.oL,{value:"leave-playlist",children:(0,p.jsx)(h,{...e})}),renderOldExperience:()=>null})}))},21844:(e,t,n)=>{"use strict";n.d(t,{g:()=>g});var s=n(96651),i=n(4564),r=n(14600),a=n(12100),o=n(90484),l=n(23568),c=n(15040),d=n(81604),u=n(40636),m=n(4732),p=n(2488);const h=({uri:e,divider:t,spec:n})=>{const l=(0,i.OY)(),c=(0,u.Mk)(),d=(0,s.useCallback)((()=>{l((0,m.G)(e)),c.logInteraction(n.leavePlaylistButtonFactory().hitLeavePlaylist({playlist:e}))}),[l,c,n,e]);return(0,p.jsx)(o.I,{role:"menuitem",divider:t,onClick:d,leadingIcon:(0,p.jsx)(r.e,{semanticColor:"textSubdued",size:"small"}),children:a._s.get("contextmenu.leave-playlist")})},g=s.memo((function(e){return(0,p.jsx)(l.Q,{property:c.UHG,renderNewExperience:()=>(0,p.jsx)(d.oL,{value:"leave-playlist",children:(0,p.jsx)(h,{...e})}),renderOldExperience:()=>null})}))},25272:(e,t,n)=>{"use strict";n.d(t,{e:()=>b});var s=n(96651),i=n(17528),r=n(49208),a=n(12100),o=n(90484),l=n(81604),c=n(47724),d=n(51528),u=n(93948),m=n(40636),p=n(43619),h=n(52276),g=n(99279),f=n(2488);const y=(e,t,n)=>{switch(t){case p.s.FOLDER:return e?a._s.get("contextmenu.unpin-folder"):a._s.get("contextmenu.pin-folder");case p.s.PLAYLIST:case p.s.LIKED_SONGS:case p.s.YOUR_EPISODES:case p.s.LOCAL_FILES:return(0,g.gH)(n)?e?a._s.get("contextmenu.unpin-dj"):a._s.get("contextmenu.pin-dj"):e?a._s.get("contextmenu.unpin-playlist"):a._s.get("contextmenu.pin-playlist");case p.s.ALBUM:return e?a._s.get("contextmenu.unpin-album"):a._s.get("contextmenu.pin-album");case p.s.ARTIST:return e?a._s.get("contextmenu.unpin-artist"):a._s.get("contextmenu.pin-artist");case p.s.SHOW:return e?a._s.get("contextmenu.unpin-show"):a._s.get("contextmenu.pin-show");case p.s.AUDIOBOOK:return e?a._s.get("contextmenu.unpin-audiobook"):a._s.get("contextmenu.pin-audiobook");case p.s.PRE_RELEASE:return e?a._s.get("contextmenu.unpin-prerelease-album"):a._s.get("contextmenu.pin-prerelease-album");default:return(0,h.I)(t),""}},_=({uri:e,canPin:t,isPinned:n,type:a,divider:l,spec:p})=>{const h=(0,m.Mk)(),g=(0,s.useContext)(u.g),_=(0,s.useCallback)((()=>{t===c.yu.NO_IN_FOLDER?g.getEvents().emit(d.Wg.UPDATE_PIN_ERROR,{reason:d.uJ.NO_PIN_IN_FOLDER,uri:e}):n?(g.unpin(e),p&&h.logInteraction(p.pinButtonFactory().hitUnpinItem({itemToUnpin:e}))):(g.pin(e),p&&h.logInteraction(p.pinButtonFactory().hitPinItem({itemToPin:e})))}),[t,g,e,n,h,p]);return(0,f.jsx)(o.I,{role:"menuitem",divider:l,onClick:_,leadingIcon:n?(0,f.jsx)(i.w,{semanticColor:"textBrightAccent",size:"small"}):(0,f.jsx)(r.K,{semanticColor:"textSubdued",size:"small"}),children:y(n,a,e)})},b=s.memo((function(e){return(0,f.jsx)(l.oL,{value:"pin-action",children:(0,f.jsx)(_,{...e})})}))},95e3:(e,t,n)=>{"use strict";n.d(t,{_H:()=>Ct,Cw:()=>un,o7:()=>f,O0:()=>Qe,iJ:()=>bn,wZ:()=>D,Sc:()=>pt,Cq:()=>ft,ol:()=>_t,oG:()=>ct,am:()=>Jt,YD:()=>Zt,QW:()=>at,ms:()=>ee,SQ:()=>Z,_o:()=>ne,Qn:()=>te,qq:()=>Ue,Nw:()=>gn,SC:()=>Tt,ih:()=>ae,o$:()=>T,sh:()=>z,_Q:()=>rn,TF:()=>nt,mA:()=>ut,yq:()=>Je,G3:()=>on,wD:()=>fe,wJ:()=>Ee,Ld:()=>Se,ir:()=>Ce,yu:()=>wt,cy:()=>xe,Co:()=>x});n(73952),n(97296),n(41260);var s=n(96651),i=n(4564),r=n(73396),a=n(14788),o=n(61540),l=n(90484),c=n(81604),d=n(40104);function u(e){return e.isLoaded&&!e.isOwnedBySelf&&e.canAdd}var m=n(40636),p=n(96768),h=n(2488);const g=({uris:e,playlist:t,disabled:n,divider:c,spec:g,children:f})=>{const y=s.useContext(d.Iv),_=(0,i.OY)(),b=(0,m.Mk)(),v=(0,s.useCallback)((async()=>{let n=e;if((0,a.mS)(e[0])){n=(await y.getContents(e[0])).items.filter(p.g).map((e=>e.uri))}if(1===e.length){const n=g?.addToOtherPlaylistFactory().hitAddToPlaylist({playlist:t.uri,itemToBeAdded:e[0]});n&&b.logInteraction(n)}_((0,o.gZ)(t.uri,n))}),[b,g,e,_,t.uri,y]);return(0,h.jsx)(l.I,{role:"menuitem",divider:c,onClick:v,disabled:n,trailingIcon:u({isLoaded:t.isLoaded,isOwnedBySelf:t.isOwnedBySelf,canAdd:t.canAdd})?(0,h.jsx)(r.W,{size:"small"}):null,children:f??t.name})},f=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"add-to-existing",children:(0,h.jsx)(g,{...e})})}));var y=n(81560),_=n(4732),b=n(7296);const v=({uri:e,displayText:t,divider:n,ubiLogger:r,contextMenuSpec:a})=>{const o=(0,i.OY)(),c=(0,b.w)(),d=(0,s.useMemo)((()=>a.showCreditsFactory()),[a]),u=(0,m.K2)(d),p=(0,s.useCallback)((async()=>{r.logInteraction(d.hitUiReveal()),c({targetUri:e,intent:"show-credits",type:"click"}),o((0,_.H5)(!0,e))}),[e,o,c,r,d]);return(0,h.jsx)(l.I,{role:"menuitem",divider:n,onClick:p,elementRef:u,leadingIcon:(0,h.jsx)(y.j,{semanticColor:"textSubdued",size:"small"}),children:t})},x=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"show-credits",children:(0,h.jsx)(v,{...e})})}));var C=n(70708),E=n(69484),S=n(6912),w=n(59448),I=n(4888);const A=({uri:e,divider:t,spec:n,type:i})=>{const r=(0,b.w)(),a=(0,s.useContext)(E.O6),o=(0,S.Q)().getState(),c=(0,I.OI)(i),d=(0,m.Mk)(),u=(0,s.useCallback)((()=>{r({intent:"share",type:"click"}),d.logInteraction(n.shareEmbedButtonFactory({uri:e}).hitUiReveal());const t=o?.item?.uri,s=(0,w.E)(o);a({type:"open",uri:e,currentTrackUri:t,currentPosition:s,entityType:i})}),[r,d,n,e,o,i,a]);return(0,h.jsx)(l.I,{role:"menuitem",divider:t,onClick:u,leadingIcon:(0,h.jsx)(C.g,{semanticColor:"textSubdued",size:"small"}),children:c})},T=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"ewg-open",children:(0,h.jsx)(A,{...e})})}));var k=n(85828),N=n(12100),O=n(78172),P=n(98308),j=n(96196),L=n(58303);const R=({uri:e,sharingInfo:t,displayText:n,divider:i,isPrivatePlaylist:r=!1,spec:a})=>{const{modifierKeyHeld:o}=(0,O._K)(),{onCopyLink:c}=(0,j.M)({sharingInfo:t,uri:e,interactionData:{intent:"share",type:"click"}}),d=(0,m.Mk)(),{onCopyLink:u}=(0,P.o)({uri:e,permissionLevel:"VIEWER"}),p=(0,s.useCallback)((()=>{o?(0,L.y)(e):r?u():c(),d.logInteraction(a.copyLinkButtonFactory().hitCopyToClipboard())}),[o,r,d,a,e,u,c]);return(0,h.jsx)(l.I,{role:"menuitem",divider:i,onClick:p,leadingIcon:(0,h.jsx)(k.I,{semanticColor:"textSubdued",size:"small"}),children:o?N._s.get("context-menu.copy-spotify-uri"):n})},D=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"copy-link",children:(0,h.jsx)(R,{...e})})}));var M=n(55780),U=n.n(M),F=n(1600),B=n(99504),G=n(57800),V=n(99640);function H(){let e=U().create().hex;return e=e.replace(/-/g,""),e.substr(0,16)}const W=s.memo((function({uri:e,context:t,divider:n,spec:r}){const a=(0,G.mg)(),o=(0,b.w)(),c=(0,m.Mk)(),{isPWA:d,isDesktop:u}=(0,i.w1)((e=>e.platform)),p=(0,i.w1)(V.yC),g=(0,s.useCallback)((()=>{const n=`${e}${t?`?context=${encodeURIComponent(t)}`:""}`;o({targetUri:n,intent:"open-in-app",type:"click"}),c.logInteraction(r.openInDesktopButtonFactory().hitOpenApp({destination:e,app:"desktop"})),a.send((0,B.c)({link:window.location.href,entity_uri:n,source:"open-in-app",deeplink_session_id:H()})),window.open(n)}),[e,t,o,c,r,a]);return d||u||p?null:(0,h.jsx)(l.I,{role:"menuitem",divider:n,onClick:g,leadingIcon:(0,h.jsx)(F.S,{semanticColor:"textSubdued",size:"small"}),children:N._s.get("contextmenu.open_desktop_app")})})),z=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"open-in-app",children:(0,h.jsx)(W,{...e})})}));var Y=n(26020),K=n(15368),q=n(40384),Q=n(57024),X=n(54584),$=n(47824);const J=({uri:e,queryParams:t="",displayText:n,divider:s,leadingIcon:i})=>{const r=(0,$.W)({type:"link",uri:e}),o=(0,a.nX)(e),c=`${(0,a.nX)(o)?.toURLPath(!0)||""}${t}`,d=r?(0,X.oP)(c):c;return(0,h.jsx)(l.I,{role:"menuitem",divider:s,to:d,leadingIcon:i,children:n})},Z=({uri:e,contextUri:t,divider:n,displayText:s=N._s.get("contextmenu.go-to-artist"),hideLeadingIcon:i=!1})=>e!==t?(0,h.jsx)(J,{divider:n,uri:e,displayText:s,leadingIcon:!i&&(0,h.jsx)(Y.s,{semanticColor:"textSubdued",size:"small"})}):null,ee=({uri:e,contextUri:t,highlightedUri:n,divider:s})=>e!==t?(0,h.jsx)(J,{divider:s,uri:e,displayText:N._s.get("contextmenu.go-to-album"),queryParams:`?highlight=${n}`,leadingIcon:(0,h.jsx)(K.M,{semanticColor:"textSubdued",size:"small"})}):null,te=({uri:e,contextUri:t,divider:n})=>e!==t?(0,h.jsx)(J,{divider:n,uri:e,displayText:N._s.get("context-menu.episode-page-link"),leadingIcon:(0,h.jsx)(q.s,{semanticColor:"textSubdued",size:"small"})}):null,ne=({uri:e,contextUri:t,divider:n})=>e!==t?(0,h.jsx)(J,{divider:n,uri:e,displayText:N._s.get("contextmenu.go-to-audiobook"),leadingIcon:(0,h.jsx)(Q.K,{semanticColor:"textSubdued",size:"small"})}):null;var se=n(83216),ie=n(85712);const re=({uris:e,reference:t,displayText:n,divider:i,spec:r})=>{const{createPlaylistFromAlbum:o,createPlaylistFromTracks:c,createPlaylistFromPlaylist:u}=(0,ie.c)(),p=s.useContext(d.Iv),g=(0,m.Mk)(),f=(0,s.useCallback)((async()=>{let n;const s=null!==t?{after:t}:{before:"start"};if(n=(0,a.MJ)(e[0])?await o(e[0],s):(0,a.mS)(e[0])?await u(e[0],s):await c(e,s),1===e.length){const t=r.addToPlaylistButtonFactory().hitAddToPlaylist({playlist:n??"",itemToBeAdded:e[0]});t&&g.logInteraction(t)}}),[g,r,e,o,t,u,c]);return(0,a.mS)(e[0])&&!p.getCapabilities().canFetchAllTracks?null:(0,h.jsx)(l.I,{role:"menuitem",divider:i,onClick:f,leadingIcon:(0,h.jsx)(se.S,{semanticColor:"textSubdued",size:"small"}),children:n})},ae=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"new-playlist",children:(0,h.jsx)(re,{...e})})}));var oe=n(9388),le=n(19868),ce=n(13932),de=n(1397),ue=n(59148),me=n(27892),pe=n(52588),he=n(5256);const ge=({uri:e,currentUserUri:t,canReportUser:n,divider:i,spec:r})=>{const[o,c]=(0,s.useState)(!1),d=(0,s.useContext)(de.a),u=(0,m.Mk)(),p=!(0,ce.O)();(0,s.useEffect)((()=>{(0,a.mS)(e)&&d.canReportPlaylist(e,t).then(c),(0,a.eg)(e)&&c(!0),(0,a.I9)(e)&&c(!!n),((0,a.Gi)(e)||(0,le.QB)(e))&&c(!0)}),[e,t,n,d]);const{openURLWithSessionTransfer:g}=(0,me.W)(),{isActive:f}=(0,pe.I)({uri:e},{featureIdentifier:"context_menu"}),[y]=(0,he.e)(1e3,(t=>t.item?.uri===e)),_=(0,s.useCallback)((async()=>{if(!o)return;const t=await d.getReportURL(e,f?y:null);g(t),r&&u.logInteraction(r.reportButtonFactory().hitUiNavigate({destination:e}))}),[o,d,e,f,y,g,r,u]);return d.isURIReportable(e)&&e!==t?(0,h.jsx)(l.I,{role:"link",divider:i,disabled:!o||p,onClick:_,leadingIcon:(0,h.jsx)(oe.I,{semanticColor:"textSubdued",size:"small"}),trailingIcon:(0,h.jsx)(ue.K,{size:"small"}),children:N._s.get("contextmenu.report")}):null},fe=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"report",children:(0,h.jsx)(ge,{...e})})}));var ye=n(35044),_e=n(92232),be=n(3844);const ve=s.memo((function({uri:e,divider:t,removeLabel:n,saveLabel:r,useDialog:a=!1,initialState:o=!1,spec:c}){const d=(0,i.OY)(),u=(0,b.w)(),p=!(0,ce.O)(),[g,f]=(0,be.X)(e,o),y=(0,be.u)(),v=(0,m.Mk)(),x=(0,s.useCallback)((()=>{a&&g?d((0,_.ED)(e)):(u({targetUri:e,intent:g?"remove-from-library":"add-to-library",type:"click"}),f(!g),g?v.logInteraction(c.saveButtonFactory().hitRemoveLike({itemNoLongerLiked:e})):v.logInteraction(c.saveButtonFactory().hitLike({itemToBeLiked:e})))}),[a,g,d,e,u,f,v,c]);return(0,h.jsx)(l.I,{role:"menuitem",divider:t,disabled:p&&!y?.getCapabilities().canModifyOffline,onClick:x,leadingIcon:g?(0,h.jsx)(ye.W,{semanticColor:"textBrightAccent",size:"small"}):(0,h.jsx)(_e.u,{semanticColor:"textSubdued",size:"small"}),children:g?n:r})})),xe=s.memo((function({uri:e,divider:t,useDialog:n=!1,initialState:s=!1,spec:i}){return(0,h.jsx)(c.oL,{value:"save-track",children:(0,h.jsx)(ve,{uri:e,divider:t,removeLabel:N._s.get("remove_from_your_liked_songs"),saveLabel:N._s.get("save_to_your_liked_songs"),useDialog:n,initialState:s,spec:i})})})),Ce=s.memo((function({uri:e,divider:t,useDialog:n=!1,initialState:s=!1,spec:i}){return(0,h.jsx)(c.oL,{value:"save-episode",children:(0,h.jsx)(ve,{uri:e,divider:t,removeLabel:N._s.get("contextmenu.remove-from-your-episodes"),saveLabel:N._s.get("contextmenu.save-to-your-episodes"),useDialog:n,initialState:s,spec:i})})})),Ee=s.memo((function({uri:e,divider:t,useDialog:n=!1,initialState:s=!1,spec:i}){return(0,h.jsx)(c.oL,{value:"save-album",children:(0,h.jsx)(ve,{uri:e,divider:t,removeLabel:N._s.get("contextmenu.remove-from-library"),saveLabel:N._s.get("contextmenu.add-to-library"),useDialog:n,initialState:s,spec:i})})})),Se=s.memo((function({uri:e,divider:t,useDialog:n=!1,initialState:s=!1,spec:i}){return(0,h.jsx)(c.oL,{value:"save-book",children:(0,h.jsx)(ve,{uri:e,divider:t,removeLabel:N._s.get("contextmenu.remove-from-library"),saveLabel:N._s.get("contextmenu.add-to-library"),useDialog:n,initialState:s,spec:i})})}));var we=n(33220),Ie=n(8004),Ae=n(74732),Te=n(10124),ke=n.n(Te),Ne=n(952),Oe=n(18432);const Pe=({children:e,disabled:t,className:n})=>(0,h.jsx)(Ne.g,{className:Oe.c.menuItem,children:(0,h.jsx)("div",{role:"menuitem","aria-disabled":t,className:ke()(Oe.c.menuItemStatic,n),children:e})});var je=n(76404);var Le=n(4964),Re=n(66852);const De="zYFbmsIwUhBpwYDSvqQQ",Me=({uri:e,displayText:t,divider:n,spec:i})=>{const r=(0,we.i6)(),o=!(0,ce.O)(),c=(0,b.w)(),d=(0,Le.W4)(),u=(0,Re.w)(),p=(0,m.Mk)(),g=(0,s.useCallback)((async()=>{c({targetUri:e,intent:"go-to-radio",type:"click"});const t=await((e,t)=>e.build().withHost(je.Up).withPath(`/seed_to_playlist/${t}`).withQueryParameters({"response-format":"json"}).withoutMarket().withEndpointIdentifier("/seed_to_playlist/{uri}").send())(d,e),[n]=t.body.mediaItems,s=(0,a.nX)(n.uri).toURLPath(!0);i&&p.logInteraction(i.navigateButtonFactory({identifier:"go-to-radio"}).hitUiNavigate({destination:s})),r(s)}),[c,e,i,d,r,p]);if(!u){const e=N._s.get("contextmenu.go-to-radio-dsa");return(0,h.jsxs)(Pe,{disabled:!0,className:De,children:[(0,h.jsx)(Ie.a,{variant:"bodySmall",semanticColor:"textSubdued",as:"p",children:t}),(0,h.jsx)(Ie.a,{variant:"marginal",semanticColor:"textSubdued",as:"p",children:e})]})}return(0,h.jsx)(l.I,{role:"menuitem",divider:n,disabled:o,onClick:g,leadingIcon:(0,h.jsx)(Ae.Q,{semanticColor:"textSubdued",size:"small"}),children:t})},Ue=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"go-to-radio",children:(0,h.jsx)(Me,{...e})})}));var Fe=n(61040),Be=n(88272);n(99972);const Ge=Spicetify.GraphQL.Definitions["queryAlbumTrackUris"]=new Be.a("queryAlbumTrackUris","query","d7e0931e046b9f18a194f008ae9ebf856bf3f1d2bb07681ab29a11f060760cfb",null);var Ve=n(66514),He=n(95928),We=n(59604);const ze=e=>({uri:e,uid:null}),Ye=({uris:e,divider:t,spec:n,logger:i})=>{const r=(0,b.w)(),a=(0,S.Q)(),o=(0,s.useCallback)((()=>{r({intent:"add-to-queue",type:"click"}),a.addToQueue(e.map(ze)),n&&i&&i.logInteraction(n.addToQueueButtonFactory().hitAddItemsToQueue({numberOfItemsToAddToQueue:e.length}))}),[r,a,e,n,i]);return(0,h.jsx)(l.I,{role:"menuitem",divider:t,onClick:o,leadingIcon:(0,h.jsx)(Fe.k,{semanticColor:"textSubdued",size:"small"}),children:N._s.get("contextmenu.add-to-queue")})},Ke=({uris:e,spec:t,logger:n})=>{const i=(0,b.w)(),r=(0,S.Q)(),{request:a}=(0,s.useContext)(Ve.Q9),o=(0,s.useCallback)((async()=>{i({intent:"add-to-queue",type:"click"}),t&&n&&n.logInteraction(t.addToQueueButtonFactory().hitAddItemsToQueue({numberOfItemsToAddToQueue:e.length}));const s=await a(Ge,{uri:e[0],offset:0,limit:100});if("Album"!==s?.data?.albumUnion.__typename)return;const o=(s?.data.albumUnion.tracks.items||[]).map((e=>e.track.uri));r.addToQueue(o.map(ze))}),[n,i,r,a,t,e]);return(0,h.jsx)(l.I,{role:"menuitem",onClick:o,leadingIcon:(0,h.jsx)(Fe.k,{semanticColor:"textSubdued",size:"small"}),children:N._s.get("contextmenu.add-to-queue")})},qe=({uris:e,spec:t,logger:n})=>{const i=(0,b.w)(),r=(0,S.Q)(),a=(0,s.useContext)(d.Iv),o=(0,s.useCallback)((async()=>{i({intent:"add-to-queue",type:"click"});const s=(await a.getContents(e[0],{limit:100})).items.filter((e=>!!e)).map((e=>e.uri));t&&n&&n.logInteraction(t.addToQueueButtonFactory().hitAddItemsToQueue({numberOfItemsToAddToQueue:s.length})),r.addToQueue(s.map(ze))}),[n,i,r,a,t,e]);return(0,h.jsx)(l.I,{role:"menuitem",onClick:o,leadingIcon:(0,h.jsx)(Fe.k,{semanticColor:"textSubdued",size:"small"}),children:N._s.get("contextmenu.add-to-queue")})},Qe=s.memo((function(e){const{uri:t}=(0,He.c)(),n=(0,We.k)(),s={...e,logger:(0,m.Mk)()};if(!t||n)return null;let i=(0,h.jsx)(Ye,{...s});return(0,a.MJ)(e.uris[0])?i=(0,h.jsx)(Ke,{...s}):(0,a.mS)(e.uris[0])&&(i=(0,h.jsx)(qe,{...s})),(0,h.jsx)(c.oL,{value:"add-to-queue",children:i})}));var Xe=n(2944);const $e=({uids:e,uris:t,contextUri:n,divider:i,spec:r})=>{const o=(0,b.w)(),c=(0,S.Q)(),d=(0,m.Mk)(),u=(0,s.useMemo)((()=>e.map(((e,n)=>({uid:e,uri:t[n]})))),[e,t]),p=(0,s.useCallback)((()=>{o({intent:"remove-from-queue",type:"click"}),d.logInteraction(r.removeFromQueueButtonFactory().hitRemoveItemsFromQueue({numberOfItemsToRemoveFromQueue:t.length})),c.removeFromQueue(u)}),[o,d,r,t.length,c,u]);return n&&"queue"===(0,a.nX)(n)?.id?(0,h.jsx)(l.I,{role:"menuitem",divider:i,onClick:p,leadingIcon:(0,h.jsx)(Xe.W,{semanticColor:"textSubdued",size:"small"}),children:N._s.get("contextmenu.remove-from-queue")}):null},Je=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"remove-from-queue",children:(0,h.jsx)($e,{...e})})}));var Ze=n(81336),et=n(92292);const tt=({uri:e,divider:t,isPublished:n,spec:i})=>{const r=(0,b.w)(),{setPublishedState:a}=(0,d.io)(),{enqueueSnackbar:o}=(0,et.u)(),c=(0,m.Mk)(),u=(0,s.useCallback)((()=>{if(r({intent:"playlisting",type:"click"}),a(e,!n),i){let t;t=n?i.togglePlaylistPermissionsButtonFactory().hitMakePlaylistPrivate({playlistToBeMadePrivate:e}):i.togglePlaylistPermissionsButtonFactory().hitMakePlaylistPublic({playlistToBeMadePublic:e}),c.logInteraction(t)}o(n?N._s.get("feedback.playlist-unpublish"):N._s.get("feedback.playlist-publish"))}),[o,n,c,r,a,i,e]);return(0,h.jsx)(l.I,{role:"menuitem",divider:t,onClick:u,disabled:void 0===n,leadingIcon:(0,h.jsx)(Ze._,{semanticColor:"textSubdued",size:"small"}),children:n?N._s.get("contextmenu.make-secret"):N._s.get("contextmenu.make-public")})},nt=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"toggle-published",children:(0,h.jsx)(tt,{...e})})}));var st=n(60056),it=n(80928);const rt=({uri:e,name:t,description:n,image:i,divider:r,spec:a})=>{const o=(0,b.w)(),c=(0,s.useContext)(it.AN),d=(0,m.Mk)(),u=(0,s.useCallback)((()=>{o({intent:"playlisting",type:"click"}),c({type:"open",playlistDetails:{name:t,description:n,image:i,uri:e}}),a&&d.logInteraction(a.editButtonFactory({uri:e}).hitUiReveal())}),[n,c,i,d,t,o,a,e]);return(0,h.jsx)(l.I,{role:"menuitem",divider:r,onClick:u,leadingIcon:(0,h.jsx)(st.G,{semanticColor:"textSubdued",size:"small"}),children:N._s.get("contextmenu.edit-details")})},at=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"edit-details",children:(0,h.jsx)(rt,{...e})})}));var ot=n(83416);const lt=({uri:e,divider:t,spec:n})=>{const r=(0,b.w)(),a=(0,i.OY)(),o=(0,m.Mk)(),c=(0,s.useCallback)((()=>{r({intent:"playlisting",type:"click"}),a((0,_.em)(e)),n&&o.logInteraction(n.deleteButtonFactory().hitDeletePlaylist({playlistToBeDeleted:e}))}),[a,o,r,n,e]);return(0,h.jsx)(l.I,{role:"menuitem",divider:t,onClick:c,leadingIcon:(0,h.jsx)(ot.C,{semanticColor:"textSubdued",size:"small"}),children:N._s.get("contextmenu.delete")})},ct=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"delete-playlist",children:(0,h.jsx)(lt,{...e})})}));n(78620);const dt=e=>{const t=(0,s.useContext)(d.Iv),{removeItems:n}=(0,d.Q3)(e.playlistUri),{uris:i,uids:r,divider:a,playlistUri:o,removePlaylistItems:c=n,canBeRemoved:u}=e,m=(0,b.w)(),p=(0,d.mY)(o),{hasUidsGeneratedFromIndicies:g}=t.getCapabilities(),f=(0,s.useCallback)((()=>{m({targetUri:o,intent:"playlisting",type:"click"});const e=i.map(((e,t)=>({uri:e,uid:r[t]||""})));c(e)}),[m,o,c,r,i]);return g&&!r.every((e=>Number.isInteger(Number(e))))?null:u||p?.canRemove?(0,h.jsx)(l.I,{role:"menuitem",divider:a,onClick:f,leadingIcon:(0,h.jsx)(Xe.W,{semanticColor:"textSubdued",size:"small"}),children:N._s.get("contextmenu.remove-from-playlist")}):null},ut=s.memo((function(e){return(0,a.mS)(e.playlistUri)?(0,h.jsx)(c.oL,{value:"remove-from-playlist",children:(0,h.jsx)(dt,{...e})}):null})),mt=({position:e,divider:t,onCreateCallback:n=(()=>{}),spec:i})=>{const r=(0,b.w)(),{createFolder:a}=(0,d.io)(),o=(0,m.Mk)(),c=(0,s.useCallback)((async()=>{r({intent:"playlisting",type:"click"});const t=await a(N._s.get("playlist.default_folder_name"),e),s=i.createButtonFactory().hitCreateFolder();s&&o.logInteraction(s),n(t)}),[r,a,e,i,o,n]);return(0,h.jsx)(l.I,{role:"menuitem",divider:t,onClick:c,leadingIcon:(0,h.jsx)(se.S,{semanticColor:"textSubdued",size:"small"}),children:N._s.get("contextmenu.create-folder")})},pt=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"create-folder",children:(0,h.jsx)(mt,{...e})})}));var ht=n(7076);const gt=({position:e,divider:t,onCreateCallback:n=(()=>{}),spec:i})=>{const r=(0,b.w)(),{createPlaylist:a}=(0,ie.c)(),o=(0,m.Mk)(),c=(0,s.useCallback)((()=>{r({intent:"create-playlist",type:"click"});const t=i.createButtonFactory().hitCreatePlaylist();t&&o.logInteraction(t),a(N._s.get("playlist.default_playlist_name"),e),n()}),[r,i,o,a,e,n]);return(0,h.jsx)(l.I,{role:"menuitem",divider:t,onClick:c,leadingIcon:(0,h.jsx)(ht.Y,{semanticColor:"textSubdued",size:"small"}),children:N._s.get("contextmenu.create-playlist")})},ft=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"create-playlist",children:(0,h.jsx)(gt,{...e})})})),yt=({uri:e,divider:t,onDeleteCallback:n})=>{const r=(0,b.w)(),a=(0,i.OY)(),o=(0,s.useCallback)((()=>{r({intent:"playlisting",type:"click"}),a((0,_.C2)(e,n))}),[a,n,r,e]);return(0,h.jsx)(l.I,{role:"menuitem",divider:t,onClick:o,leadingIcon:(0,h.jsx)(ot.C,{semanticColor:"textSubdued",size:"small"}),children:N._s.get("contextmenu.delete")})},_t=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"delete-folder",children:(0,h.jsx)(yt,{...e})})}));var bt=n(1592),vt=n(7220);const xt=({divider:e})=>{const t=(0,i.OY)(),n=(0,s.useCallback)((()=>{t((0,vt._E)())}),[t]);return(0,h.jsx)(l.I,{role:"menuitem",divider:e,onClick:n,leadingIcon:(0,h.jsx)(bt.m,{semanticColor:"textSubdued",size:"small"}),children:N._s.get("context-menu.about-recommendations")})},Ct=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"about-recommendations",children:(0,h.jsx)(xt,{...e})})}));var Et=n(93948);const St=({trackUris:e})=>{const t=(0,s.useContext)(Et.g),[n,i]=(0,s.useState)((()=>{let n=null;for(const s of e){const e=t.containsSync(s);if(!0===e)n=!0;else if(!1===e)return!1}return n})),r=(0,b.w)();(0,s.useEffect)((()=>{t.contains(...e).then((e=>i(e.every(Boolean))))}),[t,e]);const a=(0,s.useCallback)((async()=>{n?await t.remove({uris:e}):await t.add({uris:e}),r({intent:n?"remove-from-library":"add-to-library",type:"click"})}),[n,t,r,e]);return(0,h.jsx)(l.I,{role:"menuitem",onClick:a,disabled:null===n,leadingIcon:n?(0,h.jsx)(ye.W,{semanticColor:"textBrightAccent",size:"small"}):(0,h.jsx)(_e.u,{semanticColor:"textSubdued",size:"small"}),children:n?N._s.get("remove_from_your_liked_songs"):N._s.get("save_to_your_liked_songs")})},wt=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"save-multiple-track",children:(0,h.jsx)(St,{...e})})}));var It=n(21824);const At=({uri:e,isPlayed:t,onChange:n=(()=>{}),divider:i})=>{const r=(0,s.useContext)(Et.g),a=(0,s.useCallback)((()=>{t?r.markAsUnPlayed(e):r.markAsPlayed(e),n(!t)}),[r,n,t,e]);return r.getCapabilities()?.canMarkEpisodesAsDone?(0,h.jsx)(l.I,{role:"menuitem",divider:i,onClick:a,testid:"mark-as-played-or-unplayed","data-test-state":t?"played":"unplayed",leadingIcon:t?(0,h.jsx)(ye.W,{semanticColor:"textBrightAccent",size:"small"}):(0,h.jsx)(It.k,{semanticColor:"textSubdued",size:"small"}),children:t?N._s.get("contextmenu.mark-as-unplayed"):N._s.get("contextmenu.mark-as-played")}):null},Tt=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"mark-as-played",children:(0,h.jsx)(At,{...e})})}));var kt=n(43756),Nt=n(88600),Ot=n(61392),Pt=n(93246),jt=n(56200),Lt=n(29032),Rt=n(52376),Dt=n(8968),Mt=n(808),Ut=n(52276),Ft=n(12924),Bt=n(40468),Gt=n(49232),Vt=n(15040);const Ht=864e5,Wt=5e3;function zt(e,t=!1){const n=(0,ce.O)(),s=(0,Gt.IP)(Vt.iy_,{loadingValue:!1}),i=(0,Mt.o)(),r=n&&s&&i.getCapabilities().canRemoteDownload,a=(0,Ft.q$)(),{data:o}=(0,Bt.U)({queryKey:["useOfflineContextForDevices",e],queryFn:()=>i.getContextForDevices(e),gcTime:Ht,staleTime:0,refetchInterval:t&&Wt,enabled:r,placeholderData:()=>a.getQueriesData({queryKey:["useOfflineContextForDevices"]})?.find((([e,t])=>!!t))?.[1]?.map((e=>({...e,contextDownloadAvailability:Dt.If.NO,contextDownloadPercentage:0})))});return r?o??[]:[]}function Yt(e){switch(e){case Dt.If.NO:return(0,h.jsx)(Nt.s,{size:"small",semanticColor:"textBase"});case Dt.If.WAITING:case Dt.If.DOWNLOADING:return(0,h.jsx)(Ie.a,{semanticColor:"textSubdued",children:(0,h.jsx)(Lt.s,{size:16})});case Dt.If.YES:return(0,h.jsx)(kt.E,{size:"small",semanticColor:"textBrightAccent"});default:return(0,Ut.I)(e),null}}const Kt=({name:e,deviceId:t,cacheId:n,type:i,deviceType:r,clientPlatform:a,contextDownloadAvailability:o,isLocal:c,uri:d,spec:u,addDownloadPrerequisites:p,localDownloadAvailability:g})=>{const f=(0,m.Mk)(),y=(0,Mt.o)(),{enqueueSnackbar:_}=(0,et.u)(),b=function(){const e=(0,Ft.q$)();return(0,s.useCallback)((t=>e.invalidateQueries({queryKey:["useOfflineContextForDevices",t]})),[e])}(),v=(0,Ot.Y)(),x=(0,Rt.S)(i),C=c?g:o,E=C!==Dt.If.NO,S=C===Dt.If.YES,w={remoteClientPlatform:a.toString(),remoteDeviceId:t,remoteDeviceType:r.toString()};return(0,h.jsx)(l.I,{onClick:async()=>{let s;E?(v(d,c?void 0:{deviceId:t,cacheId:n,deviceName:e,clientPlatform:a,deviceType:r}),s=S?c?u.downloadButtonFactory().hitRemoveDownload({itemToRemoveFromDownloads:d}):u.remoteDeviceDownloadButtonFactory().hitRemoveDownloadFromRemoteDevice({itemToRemoveFromDownloads:d,...w}):c?u.downloadButtonFactory().hitStopDownload({itemToStopDownload:d}):u.remoteDeviceDownloadButtonFactory().hitStopDownloadToRemoteDevice({itemToStopDownload:d,...w})):(p(),y.addDownload(d,{deviceId:t,cacheId:n}),s=c?u.downloadButtonFactory().hitDownload({itemToDownload:d}):u.remoteDeviceDownloadButtonFactory().hitDownloadToRemoteDevice({itemToDownload:d,...w}),_(N._s.get("web-player.remote-downloads.feedback.downloading-to-remote-device",e))),b(d),f.logInteraction(s)},"aria-checked":E,role:"menuitemcheckbox",leadingIcon:(0,h.jsx)(x,{iconSize:16,semanticColor:"textSubdued"}),trailingIcon:Yt(C),CheckedIcon:null,children:c?N._s.get("web-player.remote-downloads.context-menu.this-computer"):e})};var qt=n(44772);const Qt=({uri:e,divider:t,addToLibrary:n=!0,showUri:i,canDownload:r,spec:a})=>{const o=(0,m.Mk)(),[l,d]=(0,s.useState)(!1),u=zt(e,l),p=(0,qt.k)(),g=function(e,t=!0,n){const[i,r]=(0,be.X)(e),[a,o]=(0,be.X)(n);return(0,s.useCallback)((()=>{!i&&t?r(!0):!t&&n&&(a||o(!0))}),[t,i,a,r,o,n])}(e,n,i),{availability:f}=(0,jt.G)(e,r),y=(0,s.useMemo)((()=>a.downloadToDeviceSubmenuFactory()),[a]);return(0,h.jsx)(Pt.I,{displayText:N._s.get("contextmenu.download"),depth:1,placement:p?"left-start":"right-start",divider:t,onOpenChange:e=>{d(e),e&&o.logImpression(y.impression())},leadingIcon:(0,h.jsx)(Nt.s,{semanticColor:"textSubdued",size:"small"}),children:(0,h.jsx)(c.oL,{value:"download",children:u.map((t=>(0,h.jsx)(Kt,{uri:e,spec:y,addDownloadPrerequisites:g,localDownloadAvailability:f,...t},t.cacheId)))})})};n(91372);const Xt=({uri:e,divider:t,addToLibrary:n=!0,showUri:i,canDownload:r,spec:a})=>{const o=(0,b.w)(),c=(0,m.Mk)(),[d,u]=(0,be.X)(e),[p,g]=(0,be.X)(i),{capability:f,availability:y,addDownload:_}=(0,jt.G)(e,r),v=(0,Ot.Y)(),x=(0,s.useCallback)((()=>{if(f===Dt.Wm.NO_PERMISSION)return;let t;o({targetUri:e,intent:y!==Dt.If.NO?"remove-from-download":"download",type:"click"}),y!==Dt.If.NO?(v(e),t=a.downloadButtonFactory().hitRemoveDownload({itemToRemoveFromDownloads:e})):(!d&&n?u(!0):!n&&i&&(p||g(!0)),_(),t=a.downloadButtonFactory().hitDownload({itemToDownload:e})),c.logInteraction(t)}),[f,y,_,v,d,c,o,u,a,e,n,i,p,g]);return f===Dt.Wm.NO_CAPABILITY||f===Dt.Wm.NO_PERMISSION_HIDE?null:(0,h.jsx)(l.I,{divider:t,onClick:x,role:"menuitemcheckbox",disabled:f===Dt.Wm.NO_PERMISSION,leadingIcon:y!==Dt.If.NO?(0,h.jsx)(kt.E,{semanticColor:"textBrightAccent",size:"small"}):(0,h.jsx)(Nt.s,{semanticColor:"textSubdued",size:"small"}),children:N._s.get("contextmenu.download")})},$t=e=>{const t=zt(e.uri).some((({isLocal:e})=>!e))?Qt:Xt;return(0,h.jsx)(t,{...e})},Jt=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"download-episode",children:(0,h.jsx)($t,{...e})})})),Zt=s.memo((function(e){return(0,h.jsx)(c.oL,{value:"download-playlist",children:(0,h.jsx)($t,{...e})})}));var en=n(53880),tn=n(18632),nn=n(23568);const sn=({uri:e,divider:t,isPrivate:n,spec:i})=>{const r=(0,b.w)(),{setPrivateState:a}=(0,d.Q3)(e),{setPublishedState:o}=(0,d.io)(),c=(0,m.Mk)(),u=(0,s.useCallback)((()=>{if(r({intent:"playlisting",type:"click"}),n||o(e,!1),a(!n),i){let t;t=n?i.togglePlaylistPermissionsButtonFactory().hitMakePlaylistPublic({playlistToBeMadePublic:e}):i.togglePlaylistPermissionsButtonFactory().hitMakePlaylistPrivate({playlistToBeMadePrivate:e}),c.logInteraction(t)}}),[n,c,r,a,o,i,e]);return(0,h.jsx)(l.I,{role:"menuitem",divider:t,onClick:u,leadingIcon:n?(0,h.jsx)(en.a,{semanticColor:"textSubdued",size:"small"}):(0,h.jsx)(tn.H,{semanticColor:"textSubdued",size:"small"}),children:n?N._s.get("contextmenu.make-playlist-public"):N._s.get("contextmenu.make-playlist-private")})},rn=s.memo((function(e){return(0,h.jsx)(nn.Q,{property:Vt.UHG,renderNewExperience:()=>(0,h.jsx)(c.oL,{value:"toggle-private",children:(0,h.jsx)(sn,{...e})}),renderOldExperience:()=>null})}));var an=n(92460);const on=({uri:e,uid:t,contextUri:n,spec:i,logger:r,divider:a})=>{const o=(0,s.useCallback)((()=>{r.logInteraction(i.removeRecommendationFactory().hitRemoveRecommendation({contextUri:n??"",recommendedItemUri:e}))}),[n,r,i,e]),{removeRecommendation:c}=(0,an.U)({uri:e,uid:t,contextUri:n,onRemoveRecommendation:o});return(0,h.jsx)(l.I,{role:"menuitem",divider:a,onClick:c,leadingIcon:(0,h.jsx)(Xe.W,{semanticColor:"textSubdued",size:"small"}),children:N._s.get("contextmenu.remove-recommendation")})};var ln=n(58781);const cn=({uri:e,uid:t,contextUri:n,spec:i,logger:r,divider:o})=>{const c=(0,s.useCallback)((()=>{let t;n&&(0,a.mS)(n)?t=i.addRecommendationFactory().hitAddToPlaylist({playlist:n??"",itemToBeAdded:e}):n&&(0,a.W8)(n)&&(t=i.addRecommendationFactory().hitLike({itemToBeLiked:e})),t&&r.logInteraction(t)}),[n,r,i,e]),{addRecommendation:d}=(0,an.U)({uri:e,uid:t,contextUri:n,onAddRecommendation:c});return(0,h.jsx)(l.I,{role:"menuitem",divider:o,onClick:d,leadingIcon:(0,h.jsx)(ln.W,{semanticColor:"textSubdued",size:"small"}),children:N._s.get("contextmenu.add-recommendation-to-this-playlist")})},dn=e=>{const t=(0,d.mY)(e.contextUri);return t?.canAdd?(0,h.jsx)(cn,{...e}):null},un=e=>e.contextUri&&(0,a.mS)(e.contextUri)?(0,h.jsx)(dn,{...e}):e.contextUri&&(0,a.W8)(e.contextUri)?(0,h.jsx)(cn,{...e}):null;var mn=n(88008),pn=n(16824);const hn=({uri:e,divider:t,spec:n})=>{const{add:i,remove:r,useContains:a}=(0,pn.U)("ignoreinrecs"),[o]=a(e),c=(0,m.Mk)(),d=(0,s.useCallback)((()=>{let t;o?(r(e),t=n.excludeRecommendationsButtonFactory().hitIncludeInRecommendations({contextToBeIncluded:e})):(i(e),t=n.excludeRecommendationsButtonFactory().hitExcludeFromRecommendations({contextToBeExcluded:e})),c.logInteraction(t)}),[o,c,r,e,n,i]);return(0,h.jsx)(l.I,{role:"menuitem",divider:t,onClick:d,leadingIcon:o?(0,h.jsx)(_e.u,{semanticColor:"textSubdued",size:"small"}):(0,h.jsx)(mn.Z,{semanticColor:"textSubdued",size:"small"}),children:o?N._s.get("contextmenu.include-in-recommendations"):N._s.get("contextmenu.exclude-from-recommendations")})},gn=s.memo((function(e){return(0,Gt.IP)(Vt.p6A)?(0,h.jsx)(c.oL,{value:"toggle-ignore-in-recommendations",children:(0,h.jsx)(hn,{...e})}):null}));var fn=n(26288),yn=n(14600);const _n=({uri:e,divider:t})=>{const n=(0,b.w)(),{add:i,remove:r,useContains:a}=(0,pn.U)("artistban"),[o]=a(e),{enqueueSnackbar:c}=(0,et.u)(),d=(0,s.useCallback)((async()=>{n({targetUri:e,intent:o?"ban":"unban",type:"click"}),o?await r(e):(await i(e),c(N._s.get("feedback.ban-artist")))}),[n,e,o,r,i,c]),u=o?N._s.get("context-menu.unban-artist"):N._s.get("context-menu.ban-artist");return(0,h.jsx)(l.I,{role:"menuitem",divider:t,disabled:void 0===o,onClick:d,leadingIcon:o?(0,h.jsx)(fn.U,{semanticColor:"essentialNegative",size:"small"}):(0,h.jsx)(yn.e,{semanticColor:"textSubdued",size:"small"}),children:u})},bn=s.memo((e=>(0,Gt.IP)(Vt.KMh,{loadingValue:!1})?(0,h.jsx)(c.oL,{value:"ban-artist",children:(0,h.jsx)(_n,{...e})}):null))},89592:(e,t,n)=>{"use strict";n.d(t,{a:()=>U});var s=n(96651),i=n(41712),r=n(12100),a=n(81604),o=n(40104),l=(n(73952),n(97296),n(41260),n(91372),n(10124)),c=n.n(l),d=n(93246),u=n(78172),m=n(78808),p=n(44772),h=n(75552),g=n(94768),f=n(90484),y=n(75292),_=n(3844),b=n(40636),v=n(2488);const x=(e,t)=>{const{addPlaylists:n,movePlaylists:i,containsPlaylists:r}=(0,o.io)(),a=(0,_.u)(),l=(0,y.k)(),c=(0,b.Mk)();return(0,s.useCallback)((async s=>{const[o]=await r([e]);let d;o?(i({uri:e},s),d=t.moveToFolderSubmenuFactory().addToFolderButtonFactory().hitSort(),l.contains("ylpin",[e]).then((([t])=>{t&&a.unpin(e)}))):(n([e],s),d=t.moveToFolderSubmenuFactory().addToFolderButtonFactory().hitFollow({itemToBeFollowed:e})),d&&c.logInteraction(d)}),[r,e,c,i,t,l,a,n])},C=({uri:e,folder:t,spec:n,children:s,divider:i})=>{const r=x(e,n);return(0,v.jsx)(f.I,{role:"menuitem",onClick:()=>r({after:t}),divider:i,children:s??t.name})},E=s.memo((function(e){return(0,v.jsx)(a.oL,{value:"add-to-existing",children:(0,v.jsx)(C,{...e})})}));var S=n(2960);function w(e){const{item:t,filter:n}=e,s=(0,v.jsx)(g.S,{searchWords:[n],textToHighlight:t.displayTitle});return(0,v.jsxs)(E,{...e,children:[(0,v.jsx)("div",{dir:"auto",className:S.c.addToPlaylistTitle,children:s}),t.displaySubtitle?(0,v.jsxs)("div",{dir:"auto",className:S.c.addToPlaylistSubtitle,children:[(0,v.jsx)(i.s,{size:"small"}),(0,v.jsx)(g.S,{searchWords:[n],textToHighlight:t.displaySubtitle})]}):null]})}var I=n(65236),A=n(37535),T=n(63880);const k=()=>(0,v.jsx)(I.gd,{className:T.c.filterPlaylistSearch,children:(0,v.jsx)(I.Wo,{role:"menuitem",as:"div",children:(0,v.jsx)(A.Q,{alwaysExpanded:!0,placeholder:r._s.get("contextmenu.find-folder")})})});var N=n(13260),O=n(95948),P=n(53044);const j=({uri:e,children:t,divider:n,spec:i})=>{const r=(0,P.Y)(),a=(0,b.Mk)(),o=(0,s.useCallback)((()=>{r.move({uri:e},{before:"start"});const t=i.moveToFolderSubmenuFactory().removeFromFoldersFactory().hitSort();a.logInteraction(t)}),[a,r,i,e]);return(0,v.jsx)(f.I,{role:"menuitem",onClick:o,divider:n,children:t})},L=s.memo((function(e){return(0,v.jsx)(a.oL,{value:"move-to-root",children:(0,v.jsx)(j,{...e})})}));var R=n(95e3),D=n(15240);const M=({uriToBeAdded:e,folder:t,items:n,displayText:i,depth:a,spec:o,leadingIcon:l})=>{const g=(0,p.k)(),f=(0,u.oJ)(),y=x(e,o),{filter:_}=(0,s.useContext)(m.on),b=1===a,C=(0,s.useMemo)((()=>0===_.length?n:(0,N.v)(_,n,!0)),[_,n]),S=(0,s.useMemo)((()=>t?.items.find((t=>t.uri===e))),[t?.items,e]),I=(0,s.useCallback)(((e=t)=>{e&&!b&&(y({after:e}),f({type:"close"}))}),[y,f,t,b]);return(0,v.jsx)(d.I,{displayText:i,depth:a,placement:g?"left-start":"right-start",onClick:()=>I(),leadingIcon:l,children:t&&(0,v.jsxs)("div",{className:c()({[D.c.filterPlaylistSearchContainer]:b}),style:{"--context-menu-submenu-length":n.filter((t=>(0,h.u4)(t)&&t.uri!==e)).length+(S?0:1)},children:[b&&(0,v.jsx)(k,{}),(0,v.jsx)(R.Sc,{position:b?{before:"start"}:{after:t},onCreateCallback:I,divider:!S&&b?void 0:"after",spec:o}),!S&&b&&(0,v.jsx)(L,{uri:e,spec:o,divider:"after",children:r._s.get("contextmenu.remove-from-folders")}),C.map((t=>(0,h.u4)(t)&&t.uri!==e?(0,O.a)(t)?(0,v.jsx)(w,{uri:e,folder:t,item:t,filter:_??"",spec:o},t.uri):(e=>e.items.some((e=>(0,h.u4)(e))))(t)?(0,v.jsx)(M,{folder:t,uriToBeAdded:e,items:t.items,displayText:t.name,depth:a+1,spec:o},t.uri):(0,v.jsx)(E,{folder:t,uri:e,spec:o},t.uri):null))]})})},U=s.memo((function({uriToBeAdded:e,isInLibrary:t,spec:n}){const l=(0,o.CY)();return(0,v.jsx)(a.oL,{value:"add-to-folder",children:(0,v.jsx)(s.Suspense,{fallback:null,children:(0,v.jsx)(m.WC,{uri:"spotify:internal:foldersubmenufolders",children:(0,v.jsx)(M,{uriToBeAdded:e,folder:l??null,items:l?.items||[],displayText:t?r._s.get("contextmenu.move-playlist-to-folder"):r._s.get("contextmenu.add-playlist-to-folder"),depth:1,spec:n,leadingIcon:(0,v.jsx)(i.s,{semanticColor:"textSubdued",size:"small"})})})})})}))},31732:(e,t,n)=>{"use strict";n.d(t,{y:()=>L});var s=n(96651),i=n(83216),r=n(14788),a=n(12100),o=n(90484),l=n(81604),c=n(40104),d=(n(73952),n(97296),n(41260),n(10124)),u=n.n(d),m=n(49232),p=n(93246),h=n(78808),g=n(44772),f=n(15040),y=n(75552),_=n(41712),b=n(94768),v=n(95e3),x=n(2960),C=n(2488);function E(e){const{item:t,filter:n}=e,s=(0,C.jsx)(b.S,{searchWords:[n],textToHighlight:t.displayTitle});return(0,C.jsx)(v.o7,{...e,children:(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{dir:"auto",className:x.c.addToPlaylistTitle,children:s}),t.displaySubtitle?(0,C.jsxs)("div",{dir:"auto",className:x.c.addToPlaylistSubtitle,children:[(0,C.jsx)(_.s,{size:"small"}),(0,C.jsx)(b.S,{searchWords:[n],textToHighlight:t.displaySubtitle})]}):null]})})}var S=n(65236),w=n(37535),I=n(63880);const A=()=>(0,C.jsx)(S.gd,{className:I.c.filterPlaylistSearch,children:(0,C.jsx)(S.Wo,{role:"menuitem",as:"div",children:(0,C.jsx)(w.Q,{alwaysExpanded:!0,placeholder:a._s.get("contextmenu.find-playlist")})})});var T=n(13260),k=n(95948),N=n(15240);const O=({uris:e,reference:t,items:n,displayText:i,depth:r,spec:o,leadingIcon:l})=>{const c=(0,g.k)(),{filter:d}=(0,s.useContext)(h.on),_=1===r,b=(0,m.IP)(f.MdG,{loadingValue:!1}),x=(0,s.useMemo)((()=>0===d.length?n:(0,T.v)(d,n)),[d,n]);return(0,C.jsx)(p.I,{displayText:i,depth:r,placement:c?"left-start":"right-start",leadingIcon:l,children:(0,C.jsxs)("div",{className:u()({[N.c.filterPlaylistSearchContainer]:_}),style:{"--context-menu-submenu-length":n.filter((e=>(0,y.u4)(e)||(0,y.Yb)(e)&&e.canAdd)).length},children:[_&&(0,C.jsx)(A,{}),(0,C.jsx)(v.ih,{divider:"after",uris:e,reference:t,displayText:b?a._s.get("web-player.aligned-curation.contextmenu.new-playlist"):a._s.get("contextmenu.create-playlist"),spec:o}),x.map((t=>(0,y.u4)(t)?(0,C.jsx)(O,{reference:t,uris:e,items:t.items,displayText:t.name,depth:r+1,spec:o},t.uri):(0,y.Yb)(t)&&t.canAdd?(0,k.a)(t)?(0,C.jsx)(E,{uris:e,playlist:t,item:t,filter:d??"",spec:o},t.uri):(0,C.jsx)(v.o7,{uris:e,playlist:t,spec:o},t.uri):null))]})})},P=e=>(0,C.jsx)(h.WC,{uri:`spotify:internal:foldersubmenu:${e.reference?.uri??"root"}`,children:(0,C.jsx)(O,{...e})}),j=s.memo((function({uris:e,isSmartRecommendation:t,isPlaylist:n,spec:d,isEmpty:u}){const m=s.useContext(c.Iv);let p=a._s.get("contextmenu.add-to-playlist");t?p=a._s.get("contextmenu.add-to-another-playlist"):n&&(p=a._s.get("contextmenu.add-playlist-to-other-playlist"));const h=(0,c.CY)();return(0,r.mS)(e[0])&&!m.getCapabilities().canFetchAllTracks?null:u?(0,C.jsx)(o.I,{role:"menuitem",leadingIcon:(0,C.jsx)(i.S,{semanticColor:"textSubdued",size:"small"}),disabled:!0,children:p}):(0,C.jsx)(l.oL,{value:"add-to-playlist",children:(0,C.jsx)(s.Suspense,{fallback:null,children:(0,C.jsx)(P,{uris:e,items:h?.items||[],reference:null,displayText:p,depth:1,spec:d,leadingIcon:(0,C.jsx)(i.S,{semanticColor:"textSubdued",size:"small"})})})})})),L=e=>(0,C.jsx)(j,{...e})},25676:(e,t,n)=>{"use strict";n.d(t,{k:()=>g});var s=n(96651),i=n(12100),r=n(44488),a=n(81604),o=n(47724),l=n(97120),c=n(43619),d=n(31732),u=n(47876),m=n(95e3),p=n(25272),h=n(2488);const g=s.memo((function({uri:e,sharingInfo:t,canPin:n=o.yu.NO,isPinned:s=!1,useDialogForUnfollow:g=!1,isInLibrary:f}){const{spec:y}=(0,l.A)(e);return(0,h.jsx)(a.oL,{value:"album",children:(0,h.jsxs)(r.i,{children:[(0,h.jsx)(m.wJ,{uri:e,useDialog:g,initialState:f,spec:y}),(0,h.jsx)(m.O0,{spec:y,uris:[e]}),(0,h.jsx)(m.qq,{spec:y,divider:"after",uri:e,displayText:i._s.get("contextmenu.go-to-artist-radio")}),n!==o.yu.NO&&(0,h.jsx)(p.e,{uri:e,canPin:n,isPinned:s,type:c.s.ALBUM,spec:y}),(0,h.jsx)(d.y,{spec:y,uris:[e]}),(0,h.jsxs)(u.O,{divider:"before",children:[(0,h.jsx)(m.wZ,{uri:e,spec:y,sharingInfo:t,displayText:i._s.get("context-menu.copy-album-link")}),(0,h.jsx)(m.o$,{spec:y,uri:e,type:c.s.ALBUM})]}),(0,h.jsx)(m.sh,{spec:y,divider:"before",uri:e})]})})}))},89520:(e,t,n)=>{"use strict";n.d(t,{u:()=>v});var s=n(96651),i=n(12100),r=n(44488),a=n(81604),o=n(47724),l=n(97120),c=n(43619),d=n(95e3),u=n(25272),m=n(4564),p=n(35044),h=n(90484),g=n(13932),f=n(3844),y=n(4732),_=n(2488);const b=s.memo((function({uri:e,divider:t,removeLabel:n}){const i=(0,m.OY)(),r=!(0,g.O)(),o=(0,f.u)(),l=(0,s.useCallback)((async()=>{i((0,y.ED)(e))}),[i,e]);return(0,_.jsx)(a.oL,{value:"save-track",children:(0,_.jsx)(h.I,{role:"menuitem",divider:t,disabled:r&&!o?.getCapabilities().canModifyOffline,onClick:l,leadingIcon:(0,_.jsx)(p.W,{semanticColor:"textBrightAccent",size:"small"}),children:n})})})),v=s.memo((function({uri:e,artistUri:t,canPin:n=o.yu.NO,isPinned:s=!1,canRemove:m=!1}){const{spec:p}=(0,l.A)(e);return(0,_.jsx)(a.oL,{value:"album",children:(0,_.jsxs)(r.i,{children:[m&&(0,_.jsx)(b,{uri:e,removeLabel:i._s.get("contextmenu.remove-from-library")}),t&&(0,_.jsx)(d.qq,{spec:p,divider:"after",uri:t,displayText:i._s.get("contextmenu.go-to-artist-radio")}),n!==o.yu.NO&&(0,_.jsx)(u.e,{uri:e,canPin:n,isPinned:s,type:c.s.PRE_RELEASE,spec:p}),(0,_.jsx)(d.wZ,{uri:e,spec:p,displayText:i._s.get("context-menu.copy-album-link")}),(0,_.jsx)(d.sh,{spec:p,divider:"before",uri:e})]})})}))},33744:(e,t,n)=>{"use strict";n.d(t,{g:()=>g});var s=n(96651),i=n(12100),r=n(44488),a=n(81604),o=n(47724),l=n(97120),c=n(43619),d=n(47876),u=n(95e3),m=n(23308),p=n(25272),h=n(2488);const g=s.memo((function({uri:e,sharingInfo:t,canPin:n=o.yu.NO,isPinned:s=!1,useDialogForUnfollow:g=!1,isInLibrary:f}){const{spec:y}=(0,l.A)(e);return(0,h.jsx)(a.oL,{value:"artist",children:(0,h.jsxs)(r.i,{children:[(0,h.jsx)(m.An,{uri:e,useDialog:g,initialState:f}),(0,h.jsx)(u.iJ,{uri:e}),n!==o.yu.NO&&(0,h.jsx)(p.e,{uri:e,canPin:n,isPinned:s,type:c.s.ARTIST,spec:y}),(0,h.jsx)(u.qq,{uri:e,displayText:i._s.get("contextmenu.go-to-artist-radio"),spec:y}),(0,h.jsx)(u.wD,{spec:y,uri:e}),(0,h.jsxs)(d.O,{children:[(0,h.jsx)(u.wZ,{spec:y,uri:e,sharingInfo:t,displayText:i._s.get("contextmenu.share.copy-artist-link")}),(0,h.jsx)(u.o$,{spec:y,uri:e,type:c.s.ARTIST})]}),(0,h.jsx)(u.sh,{spec:y,divider:"before",uri:e})]})})}))},65076:(e,t,n)=>{"use strict";n.d(t,{y:()=>y});var s=n(96651),i=n(49232),r=n(12100),a=n(44488),o=n(81604),l=n(47724),c=n(97120),d=n(43619),u=n(31732),m=n(47876),p=n(15040),h=n(95e3),g=n(25272),f=n(2488);const y=s.memo((function({uri:e,uid:t,contextUri:n,sharingInfo:s,canPin:y=l.yu.NO,isPinned:_=!1,useDialogForUnfollow:b=!1,isInLibrary:v,includeGoToAudiobook:x,canBeRemovedFromPlaylist:C}){const E=(0,i.IP)(p.yqp,{loadingValue:!1}),{spec:S}=(0,c.A)(e),w=(0,i.IP)(p.emd,{loadingValue:!1});return(0,f.jsx)(o.oL,{value:"show",children:(0,f.jsxs)(a.i,{children:[E&&(0,f.jsx)(u.y,{spec:S,uris:[e]}),E&&t&&(0,f.jsx)(h.mA,{uris:[e],uids:[t],playlistUri:n||"",canBeRemoved:C}),(0,f.jsx)(h.Ld,{uri:e,useDialog:b,initialState:v,spec:S,divider:"after"}),x&&(0,f.jsx)(h._o,{uri:e,contextUri:n,divider:"after"}),y!==l.yu.NO&&(0,f.jsx)(g.e,{uri:e,canPin:y,isPinned:_,type:d.s.AUDIOBOOK,spec:S}),(0,f.jsxs)(m.O,{children:[(0,f.jsx)(h.wZ,{spec:S,uri:e,sharingInfo:s,displayText:r._s.get("context-menu.copy-book-link")}),(0,f.jsx)(h.o$,{spec:S,uri:e,type:d.s.AUDIOBOOK})]}),w&&(0,f.jsx)(h.wD,{spec:S,uri:e}),(0,f.jsx)(h.sh,{spec:S,divider:"before",uri:e})]})})}))},1984:(e,t,n)=>{"use strict";n.d(t,{h:()=>u});var s=n(96651),i=n(49232),r=n(44488),a=n(15040),o=n(81604),l=n(97120),c=n(95e3),d=n(2488);const u=s.memo((function({uri:e,removeFromQueueData:t}){const{spec:n}=(0,l.A)(e),s=(0,i.IP)(a.ecP,{loadingValue:!1});return(0,d.jsx)(o.oL,{value:"chapter",children:(0,d.jsxs)(r.i,{children:[(0,d.jsx)(c.O0,{spec:n,uris:[e]}),t&&(0,d.jsx)(c.yq,{spec:n,uids:t.uid?[t.uid]:[],uris:[e],contextUri:t.contextUri}),s&&(0,d.jsx)(c.wD,{spec:n,uri:e})]})})}))},71464:(e,t,n)=>{"use strict";n.d(t,{y:()=>_});var s=n(96651),i=n(49232),r=n(12100),a=n(44488),o=n(15040),l=n(81604),c=n(38356),d=n(86852),u=n(97120),m=n(43619),p=n(31732),h=n(1984),g=n(47876),f=n(95e3),y=n(2488);const _=s.memo((function({uri:e,isPlayed:t=null,contextUri:n,uid:s,sharingInfo:_,onMarkAsPlayed:b=(()=>{}),canBeRemovedFromPlaylist:v,provider:x}){const C=(0,c.a)(e),{spec:E}=(0,u.A)(e),S=(0,i.IP)(o.LBj,{loadingValue:!1});if(void 0===C?.episodeOrChapter)return null;const w=C.episodeOrChapter;if((0,d.c)(w))return(0,y.jsx)(h.h,{uri:e});const I=!(w.podcastSubscription.isPaywalled&&!w.podcastSubscription.isUserSubscribed),A="autoplay"===x;return C?.episodeOrChapter?(0,y.jsx)(l.oL,{value:"episode",children:(0,y.jsxs)(a.i,{children:[(0,y.jsx)(p.y,{spec:E,uris:[e]}),s&&(0,y.jsx)(f.mA,{uris:[e],uids:[s],playlistUri:n||"",canBeRemoved:v}),(0,y.jsx)(f.ir,{uri:e,spec:E}),(0,y.jsx)(f.O0,{spec:E,uris:[e]}),s&&!A&&(0,y.jsx)(f.yq,{spec:E,uids:[s],uris:[e],contextUri:n}),(0,y.jsx)(f.am,{spec:E,uri:e,canDownload:I}),(0,y.jsx)(f.Qn,{uri:e,contextUri:n}),null!==t&&(0,y.jsx)(f.SC,{uri:e,isPlayed:t,onChange:b}),(0,y.jsxs)(g.O,{divider:"before",children:[(0,y.jsx)(f.wZ,{spec:E,uri:e,sharingInfo:_,displayText:r._s.get("context-menu.copy-episode-link")}),(0,y.jsx)(f.o$,{spec:E,uri:e,type:m.s.EPISODE})]}),S&&(0,y.jsx)(f.wD,{spec:E,uri:e}),(0,y.jsx)(f.sh,{divider:"before",uri:e,spec:E,context:n})]})}):null}))},57100:(e,t,n)=>{"use strict";n.d(t,{Y:()=>u});var s=n(96651),i=n(12100),r=n(44488),a=n(81604),o=n(97120),l=n(47876),c=n(95e3),d=n(2488);const u=s.memo((function({uri:e}){const{spec:t}=(0,o.A)(e);return(0,d.jsx)(a.oL,{value:"generic",children:(0,d.jsx)(r.i,{children:(0,d.jsx)(l.O,{divider:"before",children:(0,d.jsx)(c.wZ,{spec:t,uri:e,displayText:i._s.get("context-menu.copy-generic-link")})})})})}))},48424:(e,t,n)=>{"use strict";n.d(t,{E:()=>h});n(41260);var s=n(96651),i=n(26020),r=n(12100),a=n(93246),o=n(95e3),l=n(88272),c=n(99972);const d=Spicetify.GraphQL.Definitions["queryTrackArtists"]=new l.a("queryTrackArtists","query","47fe6e7ca333272699906da2964bfa38336c2aa28303489997404a82bd46e056",null);var u=n(44772),m=n(81604),p=n(2488);const h=s.memo((function({trackUri:e,contextUri:t}){let n=[];const s=(l={uri:e},(0,c.U)(d,l,h));var l,h;"Track"===s.data?.trackUnion.__typename&&(n=s.data.trackUnion.artists.items.map((e=>({uri:e.uri,name:e.profile.name}))));const g=(0,u.k)();return(0,p.jsx)(a.I,{displayText:r._s.get("contextmenu.go-to-artist"),depth:1,placement:g?"left-start":"right-start",leadingIcon:(0,p.jsx)(i.s,{semanticColor:"textSubdued",size:"small"}),children:(0,p.jsx)(m.oL,{value:"go-to-artist",children:n.map((({uri:e,name:n})=>(0,p.jsx)(o.SQ,{displayText:n,uri:e,contextUri:t,hideLeadingIcon:!0},e)))})})}))},40700:(e,t,n)=>{"use strict";n.d(t,{Y:()=>d});var s=n(96651),i=n(44488),r=n(81604),a=n(97120),o=n(31732),l=n(95e3),c=n(2488);const d=s.memo((function({uri:e,uid:t,contextUri:n,canBeRemovedFromPlaylist:s}){const{spec:d}=(0,a.A)(e);return(0,c.jsx)(r.oL,{value:"local-file",children:(0,c.jsxs)(i.i,{children:[(0,c.jsx)(o.y,{spec:d,uris:[e]}),t&&(0,c.jsx)(l.mA,{uris:[e],uids:[t],playlistUri:n||"",canBeRemoved:s}),(0,c.jsx)(l.cy,{uri:e,spec:d}),(0,c.jsx)(l.O0,{spec:d,uris:[e]}),t&&(0,c.jsx)(l.yq,{spec:d,uids:[t],uris:[e],contextUri:n})]})})}))},30540:(e,t,n)=>{"use strict";n.d(t,{E:()=>I});var s=n(96651),i=n(12100),r=n(44488),a=n(81604),o=n(47724),l=n(3844),c=n(40104),d=n(47132),u=n(97120),m=n(43619),p=n(89592),h=n(31732),g=n(47876),f=n(95596),y=n(5508),_=n(99279),b=n(95e3),v=n(23308),x=n(94812),C=n(21844),E=n(25272),S=n(2488);const w=s.memo((function({uri:e,isPublished:t,canPin:n=o.yu.NO,isPinned:s=!1}){const y=(0,c.mY)(e,{decorateFormatListData:!0}),[_]=(0,l.X)(e),{spec:w}=(0,u.A)(e),I=!!y?.permissions?.isPrivate,A=(0,d.Q)(e)??y?.isPublished??t,T=y?.hasSpotifyAudiobooks;return y?.permissions&&!y.permissions.canView&&_?y&&(0,S.jsx)(a.oL,{value:"playlist",children:(0,S.jsx)(r.i,{children:(0,S.jsx)(v.Oq,{uri:e})})}):y&&(0,S.jsx)(a.oL,{value:"playlist",children:(0,S.jsxs)(r.i,{children:[!y.isOwnedBySelf&&(0,S.jsx)(v.Oq,{uri:e}),!T&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(b.O0,{spec:w,uris:[e]}),(0,S.jsx)(f.c,{uri:e,spec:w})]}),_&&!I&&(0,S.jsx)(b.TF,{spec:w,divider:"both",uri:e,isPublished:A}),y.isOwnedBySelf&&(0,S.jsx)(b.QW,{spec:w,uri:e,name:y.name,description:y.description,image:y.images[0]}),!y.isOwnedBySelf&&(0,S.jsx)(b.wD,{spec:w,uri:e}),y.isOwnedBySelf&&(0,S.jsx)(b.oG,{spec:w,uri:e}),!T&&(0,S.jsx)(b.YD,{spec:w,uri:e}),y.permissions?.canAdministratePermissions&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(b._Q,{spec:w,divider:"before",uri:e,isPrivate:I}),!T&&(0,S.jsx)(x.w,{uri:e,spec:w})]}),y.permissions?.canCancelMembership&&(0,S.jsx)(C.g,{spec:w,divider:"before",uri:e}),(0,S.jsx)(b.Nw,{spec:w,uri:e}),(0,S.jsx)(p.a,{uriToBeAdded:e,isInLibrary:_,spec:w}),!T&&(0,S.jsx)(h.y,{spec:w,uris:[e],isPlaylist:!0,isEmpty:0===y.totalLength}),n!==o.yu.NO&&(0,S.jsx)(E.e,{uri:e,canPin:n,isPinned:s,type:m.s.PLAYLIST,spec:w}),(y.isOwnedBySelf||!I)&&(0,S.jsxs)(g.O,{divider:"before",children:[(0,S.jsx)(b.wZ,{spec:w,uri:e,displayText:i._s.get("contextmenu.share.copy-playlist-link"),isPrivatePlaylist:I}),!y.hasSpotifyAudiobooks&&(0,S.jsx)(b.o$,{spec:w,uri:e,type:m.s.PLAYLIST})]}),!!y?.formatListData&&(0,S.jsx)(b._H,{divider:"before"}),(0,S.jsx)(b.sh,{spec:w,divider:"before",uri:e})]})})})),I=e=>(0,_.gH)(e.uri)?(0,S.jsx)(y.QT,{}):(0,S.jsx)(w,{...e})},47876:(e,t,n)=>{"use strict";n.d(t,{O:()=>d});var s=n(96651),i=n(1712),r=n(12100),a=n(93246),o=n(44772),l=n(81604),c=n(2488);const d=s.memo((function({children:e,divider:t}){const n=(0,o.k)();return(0,c.jsx)(l.oL,{value:"share",children:(0,c.jsx)(a.I,{divider:t,displayText:r._s.get("contextmenu.share"),placement:n?"left-start":"right-start",leadingIcon:(0,c.jsx)(i.O,{semanticColor:"textSubdued",size:"small"}),children:e})})}))},81472:(e,t,n)=>{"use strict";n.d(t,{Q:()=>v});var s=n(96651),i=n(49232),r=n(12100),a=n(44488),o=n(15040),l=n(81604),c=n(47724),d=n(3176),u=n(86852),m=n(97120),p=n(43619),h=n(65076),g=n(47876),f=n(95e3),y=n(23308),_=n(25272),b=n(2488);const v=s.memo((function({uri:e,sharingInfo:t,canPin:n=c.yu.NO,isPinned:s=!1,useDialogForUnfollow:v,isInLibrary:x}){const{spec:C}=(0,m.A)(e),E=(0,i.IP)(o.cLf,{loadingValue:!1}),{data:S}=(0,d.i)(e);return S&&(0,u.q8)(S)?(0,b.jsx)(h.y,{uri:e,sharingInfo:t,useDialogForUnfollow:!0,isInLibrary:x}):(0,b.jsx)(l.oL,{value:"show",children:(0,b.jsxs)(a.i,{children:[(0,b.jsx)(y.St,{uri:e,useDialog:v,initialState:x}),n!==c.yu.NO&&(0,b.jsx)(_.e,{uri:e,canPin:n,isPinned:s,type:p.s.SHOW,spec:C}),(0,b.jsxs)(g.O,{children:[(0,b.jsx)(f.wZ,{spec:C,uri:e,sharingInfo:t,displayText:r._s.get("context-menu.copy-show-link")}),(0,b.jsx)(f.o$,{spec:C,uri:e,type:p.s.SHOW})]}),E&&(0,b.jsx)(f.wD,{spec:C,uri:e}),(0,b.jsx)(f.sh,{spec:C,divider:"before",uri:e})]})})}))},56684:(e,t,n)=>{"use strict";n.d(t,{k:()=>y});var s=n(96651),i=n(59312),r=n(12100),a=n(44488),o=n(81604),l=n(40636),c=n(97120),d=n(43619),u=n(31732),m=n(48424),p=n(47876),h=n(95596),g=n(95e3),f=n(2488);const y=s.memo((function({uri:e,uid:t,artists:n=[],albumUri:s,contextUri:y,sharingInfo:_,removePlaylistItems:b,isSmartRecommendation:v,recommendationContextUri:x=y,canBeRemovedFromPlaylist:C,provider:E}){const{spec:S,logger:w,UBIFragment:I}=(0,l.gp)(i.createDesktopTrackContextMenuEventFactory,{data:{uri:e}}),{spec:A}=(0,c.A)(e),T="autoplay"===E||v;return(0,f.jsx)(I,{spec:S,children:(0,f.jsx)(o.oL,{value:"track","":"track-menu",children:(0,f.jsxs)(a.i,{children:[v&&x?(0,f.jsx)(g.Cw,{uri:e,uid:t,contextUri:x,spec:S,logger:w}):null,v&&x?(0,f.jsx)(g.G3,{uri:e,uid:t,contextUri:x,spec:S,logger:w,divider:"after"}):null,(0,f.jsx)(u.y,{spec:A,uris:[e],isSmartRecommendation:v}),t&&!T?(0,f.jsx)(g.mA,{uris:[e],uids:[t],playlistUri:y||"",removePlaylistItems:b,canBeRemoved:C}):null,(0,f.jsx)(g.cy,{uri:e,spec:A}),(0,f.jsx)(g.O0,{spec:A,uris:[e]}),t&&(0,f.jsx)(g.yq,{spec:A,uids:[t],uris:[e],contextUri:y}),(0,f.jsx)(h.c,{uri:y??e,skipToUri:y?e:void 0,spec:A}),(0,f.jsx)(g.qq,{spec:A,uri:e,displayText:r._s.get("contextmenu.go-to-song-radio"),divider:"before"}),n.length>1?(0,f.jsx)(m.E,{trackUri:e,contextUri:y}):(0,f.jsx)(g.SQ,{uri:n?.[0]?.uri,contextUri:y}),(0,f.jsx)(g.ms,{uri:s,contextUri:y,highlightedUri:e}),(0,f.jsx)(g.Co,{uri:e,displayText:r._s.get("contextmenu.show-credits"),divider:"after",ubiLogger:w,contextMenuSpec:S}),(0,f.jsxs)(p.O,{divider:"before",children:[(0,f.jsx)(g.wZ,{spec:A,uri:e,sharingInfo:_,displayText:r._s.get("context-menu.copy-track-link")}),(0,f.jsx)(g.o$,{spec:A,uri:e,type:d.s.TRACK})]}),T&&(0,f.jsx)(g._H,{divider:"before"}),(0,f.jsx)(g.sh,{spec:A,divider:"before",uri:e,context:y})]})})})}))},46003:(e,t,n)=>{"use strict";n.d(t,{Y:()=>M});var s=n(96651),i=n(4564),r=n(12100),a=n(44488),o=n(23568),l=n(15040),c=n(68964),d=n(81604),u=n(40176),m=n(800),p=n(97120),h=n(95e3),g=n(99392),f=n(4732),y=n(90484),_=n(13932),b=n(10952),v=n(84264),x=n(4964),C=n(92292),E=n(7296),S=n(2488);const w=({currentUserUri:e,uri:t,name:n,divider:a})=>{const o=(0,E.w)(),l=!(0,_.O)(),{isBlocked:c,blockUser:d,unblockUser:m}=function(e,t,n){const[a,o]=(0,s.useState)(!1),l=(0,i.OY)(),c=(0,b.E)(),d=(0,x.W4)(),{enqueueSnackbar:m}=(0,C.u)();return(0,s.useEffect)((()=>{e&&(0,u.O2)(d,{currentUserUri:e,uri:t}).then((e=>{if(c()){if(200!==e.status)throw new Error("Invalid response from socialgraph");o(e.body?.[0]?.is_dismissed||!1)}}))}),[e,t,c,d]),{isBlocked:a,blockUser:()=>{e&&l((0,f.yS)(t,n))},unblockUser:async()=>{e&&(await(0,u.K2)(v.W.getInstance(),{currentUserUri:e,uri:t}),m(r._s.get("feedback.unblock-user")))}}}(e,t,n),p=(0,s.useCallback)((async()=>{o({targetUri:t,intent:c?"unblock":"block",type:"click"}),c?await m():await d()}),[o,t,d,m,c]);if(!e||e===t)return null;const h=c?r._s.get("contextmenu.unblock"):r._s.get("contextmenu.block");return(0,S.jsx)(y.I,{role:"menuitem",divider:a,disabled:l,onClick:p,leadingIcon:(0,S.jsx)(g._,{semanticColor:"textSubdued",size:"small"}),children:h})},I=s.memo((function(e){return(0,S.jsx)(d.oL,{value:"block-user",children:(0,S.jsx)(w,{...e})})}));var A=n(60056);const T=s.memo((function({onClick:e,divider:t,canEdit:n}){return e&&n?(0,S.jsx)(d.oL,{value:"edit-profile",children:(0,S.jsx)(y.I,{role:"menuitem",divider:t,onClick:e,leadingIcon:(0,S.jsx)(A.G,{semanticColor:"textSubdued",size:"small"}),children:r._s.get("contextmenu.edit-profile")})}):null}));var k=n(76008),N=n(16200),O=n(25168),P=n(45876),j=n(40636);const L=()=>{},R=({uri:e,divider:t,onRemoveCallback:n=L})=>{const{spec:a,logger:o}=(0,j.gp)(O.C,{data:{uri:e}}),l=(0,E.w)(),d=!(0,_.O)(),u=(0,i.w1)(c.cx).user,[m,p]=(0,P.u)(e),h=(0,s.useCallback)((()=>{const t=a.followButtonFactory();l({targetUri:e,intent:m?"unfollow":"follow",type:"click"}),m?(p(!1),o.logInteraction(t.hitUnfollow({itemToBeUnfollowed:e})),n(e)):(p(!0),o.logInteraction(t.hitFollow({itemToBeFollowed:e})))}),[m,o,l,n,p,a,e]);if(u&&u.uri===e)return null;const g=m?r._s.get("contextmenu.unfollow"):r._s.get("contextmenu.follow");return(0,S.jsx)(y.I,{role:"menuitem",testid:"follow-user-context-menu-item",divider:t,disabled:d,onClick:h,leadingIcon:m?(0,S.jsx)(k.K,{semanticColor:"textBrightAccent",size:"small"}):(0,S.jsx)(N.Q,{semanticColor:"textSubdued",size:"small"}),children:g})},D=s.memo((function(e){return(0,S.jsx)(d.oL,{value:"follow-user",children:(0,S.jsx)(R,{...e})})})),M=s.memo((function({uri:e,onEditProfileCallback:t}){const{user:n}=(0,i.w1)(c.cx),{spec:s}=(0,p.A)(e),{data:g,loading:f}=(0,m.Q)(u.u_,[{uri:e}]);return f?null:g?(0,S.jsx)(d.oL,{value:"user",children:(0,S.jsxs)(a.i,{children:[(0,S.jsx)(D,{uri:e}),(0,S.jsx)(o.Q,{property:l.KEr,renderNewExperience:()=>(0,S.jsx)(I,{uri:g.uri,name:g.name,currentUserUri:n?.uri})}),(0,S.jsx)(T,{onClick:t,canEdit:!(e!==n?.uri||g.edit_image_disabled&&g.edit_name_disabled)}),(0,S.jsx)(h.wD,{spec:s,uri:e,canReportUser:!g.report_abuse_disabled,currentUserUri:n?.uri}),(0,S.jsx)(h.wZ,{spec:s,uri:e,displayText:r._s.get("contextmenu.share.copy-profile-link")})]})}):null}))},38580:(e,t,n)=>{"use strict";n.d(t,{G:()=>b});var s=n(96651),i=n(59312),r=n(12100),a=n(44488),o=n(81604),l=n(72001),c=n(40636),d=n(97120),u=n(43619),m=n(31732),p=n(48424),h=n(47876),g=n(95596),f=n(64480),y=n(95e3),_=n(2488);const b=s.memo((function({uri:e,uid:t,artists:n=[],albumUri:s,contextUri:b,sharingInfo:v,removePlaylistItems:x,canBeRemovedFromPlaylist:C}){const E=(0,l.o)((e=>e),((e,t)=>e?.item?.uri===t?.item?.uri)),S=E?.item?.uri,w=(0,f.mu)(e),I=S===e,{spec:A,logger:T,UBIFragment:k}=(0,c.gp)(i.createDesktopTrackContextMenuEventFactory,{data:{uri:w}}),{spec:N}=(0,d.A)(e);return(0,_.jsx)(k,{spec:A,children:(0,_.jsx)(o.oL,{value:"track","":"track-menu",children:(0,_.jsxs)(a.i,{children:[I&&(0,_.jsx)(m.y,{spec:N,uris:[w]}),I&&t&&(0,_.jsx)(y.mA,{uris:[w],uids:[t],playlistUri:b||"",removePlaylistItems:x,canBeRemoved:C}),I&&(0,_.jsx)(y.cy,{uri:w,spec:N}),I&&(0,_.jsx)(y.O0,{spec:N,uris:[e]}),t&&(0,_.jsx)(y.yq,{spec:N,uids:[t],uris:[e],contextUri:b}),(0,_.jsx)(g.c,{uri:b??e,skipToUri:b?e:void 0,spec:N}),I&&(0,_.jsx)(y.qq,{spec:N,uri:w,displayText:r._s.get("contextmenu.go-to-song-radio"),divider:"before"}),n.length>1?(0,_.jsx)(p.E,{trackUri:e,contextUri:b}):(0,_.jsx)(y.SQ,{uri:n?.[0]?.uri,contextUri:b}),(0,_.jsx)(y.ms,{uri:s,contextUri:b,highlightedUri:w}),(0,_.jsx)(y.Co,{uri:w,displayText:r._s.get("contextmenu.show-credits"),divider:"after",ubiLogger:T,contextMenuSpec:A}),I&&(0,_.jsxs)(h.O,{divider:"before",children:[(0,_.jsx)(y.wZ,{spec:N,uri:w,sharingInfo:v,displayText:r._s.get("context-menu.copy-track-link")}),(0,_.jsx)(y.o$,{spec:N,uri:w,type:u.s.TRACK})]}),(0,_.jsx)(y.sh,{spec:N,divider:"before",uri:e,context:b})]})})})}))},7342:(e,t,n)=>{"use strict";n.d(t,{q:()=>p});var s=n(96651),i=n(10124),r=n.n(i),a=n(76892),o=n(78390);const l="cover-art",c="cover-art-auto-height",d="cover-art-icon",u="cover-art-image";var m=n(2488);const p=(0,s.memo)((function({imgSrc:e,className:t,onClick:n,type:s,width:i,height:p,loading:h="lazy"}){const g=r()(l,t,{[c]:!p});return(0,m.jsxs)("div",{className:g,style:{width:i||"auto",height:p||"auto"},onClick:n,"aria-hidden":"true",children:[(0,m.jsx)("div",{className:d,children:(0,m.jsx)(a.Y,{type:s})}),(0,m.jsx)(o.W,{testid:"cover-art-image",loading:h,src:e,className:u})]})}))},864:(e,t,n)=>{"use strict";n.d(t,{Q:()=>p});n(41260);var s=n(76741),i=n(12100),r=n(94192),a=n(72001),o=n(16928),l=n(96651),c=n(6060),d=n(74356);var u=n(2488);function m(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const p=({children:e,usePlayingItem:t})=>{let n=m(e);(e=>{const{mainLandmarkRef:t}=(0,d.k5)(),n=(0,c.K)(),s=n.location?.state?.preventMoveFocus,i=(0,l.useRef)(n.length<2);i.current=n.length<2,(0,l.useLayoutEffect)((()=>{const n=t.current;!s&&!i.current&&n&&e&&(n.setAttribute("aria-label",e),n.focus({preventScroll:!0}))}),[e,t,s])})(e);const{isPlaying:p}=(0,r.CQ)(),h=(0,a.o)((e=>e?.item));return h&&(p||t)&&((0,o.gB)(h)?n=[h.name,h.artists.map((e=>e.name)).join(i._s.getSeparator())].join(" • "):(0,o.sN)(h)?n=[h.name,h.show.name].join(" • "):(0,o.UZ)(h)&&(n=m(i._s.get("ad-formats.advertisement")))),(0,u.jsx)(s.So,{defaultTitle:"Spotify",defer:!1,children:(0,u.jsx)("title",{children:n})})}},12980:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s.Q});var s=n(864)},7004:(e,t,n)=>{"use strict";n.d(t,{g:()=>f});var s=n(96651),i=n(10124),r=n.n(i),a=n(43756),o=n(12100),l=n(8968),c=n(56200),d=n(66564),u=n(28288),m=n(29032),p=n(18748);const h="hcxPtZcvjM07S6ydT685";var g=n(2488);const f=s.memo((function({uri:e,className:t,size:n="small",as:s="div"}){const{availability:i}=(0,c.G)(e),f=(0,d.E)(e);return i===l.If.NO?null:(0,g.jsx)(s,{className:r()(h,t),children:i===l.If.DOWNLOADING?(0,g.jsx)(p.q,{percentage:f.percentage,size:(0,u.o)(n)}):i===l.If.WAITING?(0,g.jsx)(m.s,{size:(0,u.o)(n)}):i===l.If.YES?(0,g.jsx)(a.E,{size:n,title:o._s.get("shared.library.filter.downloaded")}):null})}))},29032:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var s=n(96651),i=n(2488);const r=(0,s.memo)((function({size:e}){const t=2e3,n=20*Math.PI,s=n-.8*n,r=Math.floor(Date.now()%t*360/t);return(0,i.jsx)("svg",{height:e,role:"img",width:e,viewBox:"0 0 24 24",children:(0,i.jsx)("circle",{strokeDasharray:`${n} ${n}`,strokeDashoffset:s,stroke:"currentColor",strokeWidth:"2",fill:"transparent",r:10,cx:"12",cy:"12",children:(0,i.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:`${r} 12 12`,to:`${360+r} 12 12`,dur:"2000ms",repeatCount:"indefinite"})})})}))},7440:(e,t,n)=>{"use strict";n.d(t,{W:()=>c});var s=n(10124),i=n.n(s),r=n(94216);const a="main-dropDown-dropDown",o="main-dropDown-isSafari";var l=n(2488);const c=({value:e,id:t,children:n,disabled:s,onSelect:c,className:d,dir:u})=>(0,l.jsx)("span",{className:d,children:(0,l.jsx)("select",{className:i()(a,{[o]:(0,r.q)()}),value:e?.toString(),id:t,disabled:s,onBlur:()=>{},onChange:e=>{c(e.target.value)},dir:u,children:n})})},38904:(e,t,n)=>{"use strict";n.d(t,{a:()=>g});var s=n(10124),i=n.n(s),r=n(60056),a=n(8004),o=n(12100);const l="main-editImage-buttonContainer",c="main-editImageButton-image",d="main-editImageButton-overlay",u="main-editImageButton-rounded",m="main-editImageButton-icon",p="main-editImageButton-copy";var h=n(2488);const g=function({overlay:e=!1,rounded:t=!1,onClick:n}){return(0,h.jsx)("div",{className:l,children:(0,h.jsx)("button",{"":"edit-image-button",className:i()(c,{[u]:t,[d]:e}),"aria-haspopup":"true",onClick:n,type:"button",children:(0,h.jsxs)("div",{className:i()(m,"icon"),children:[(0,h.jsx)(r.G,{size:"xlarge","aria-hidden":"true"}),(0,h.jsx)(a.a,{variant:"bodyMedium",className:p,children:o._s.get("choose_photo")})]})})})}},4888:(e,t,n)=>{"use strict";n.d(t,{SC:()=>ye,OI:()=>ge});n(41260);var s=n(96651),i=n(10124),r=n.n(i),a=n(25088),o=n(8004),l=n(76008),c=n(96560),d=n(76224),u=n(73488),m=n(45531),p=n(29036),h=n(8340),g=n(14788),f=n(12100);n(73952),n(99400);const y=[1,60,3600],_=[3600,60,1],b={seconds:NaN,humanString:"-:--"};function v(e){if(!isFinite(e))return b.humanString;let t=Math.round(e);return _.reduce(((e,n,s)=>{const i=0===e.length?1:2;if(t>=n||e.length>0||s===y.length-2){const s=Math.floor(t/n);t-=s*n,e.push(s.toString().padStart(i,"0"))}return e}),[]).join(":")}function x(e){let t=NaN;if("number"==typeof e)t=Math.round(e);else if("string"==typeof e){const n=e.split(":");n.length<=y.length&&(t=n.reverse().reduce(((e,t,n)=>e+=function(e){const t=parseInt(e,10);return t>=0?t:NaN}(t)*y[n]),0))}return isNaN(t)?b:{seconds:t,humanString:v(t)}}var C=n(81604),E=n(50892),S=n(52216),w=n(86852),I=n(43619),A=n(58303);var T=n(69484),k=n(7296),N=n(7440),O=n(20356);const P="main-embedWidgetGenerator-container",j="main-embedWidgetGenerator-contentCode",L="main-embedWidgetGenerator-visible",R="main-embedWidgetGenerator-code",D="main-embedWidgetGenerator-timestampInput",M="main-embedWidgetGenerator-content",U="main-embedWidgetGenerator-contentHeader",F="main-embedWidgetGenerator-contentFooter",B="main-embedWidgetGenerator-contentIframe",G="main-embedWidgetGenerator-copyWrapper",V="main-embedWidgetGenerator-copyBtn",H="main-embedWidgetGenerator-darkControl",W="main-embedWidgetGenerator-widthField",z="main-embedWidgetGenerator-tooltipInitiator",Y="main-embedWidgetGenerator-tooltip",K="main-embedWidgetGenerator-transControl",q="main-embedWidgetGenerator-header",Q="main-embedWidgetGenerator-closeBtn",X="main-embedWidgetGenerator-theme",$="main-embedWidgetGenerator-themeDescription",J="main-embedWidgetGenerator-themeRadio",Z="main-embedWidgetGenerator-active",ee="main-embedWidgetGenerator-terms",te="main-embedWidgetGenerator-dimensionsContainer",ne="main-embedWidgetGenerator-dimensionLabel",se="main-embedWidgetGenerator-dimensionField",ie="main-embedWidgetGenerator-crossSep",re="main-embedWidgetGenerator-startAt",ae="main-embedWidgetGenerator-loadingIndicator";var oe=n(2488);const le=352,ce="100%",de={frameBorder:0,allowFullScreen:!0,allow:["autoplay","clipboard-write","encrypted-media","fullscreen","picture-in-picture"].join("; "),loading:"lazy"};let ue=function(e){return e[e.PODCAST_AUDIO=0]="PODCAST_AUDIO",e[e.PODCAST_VIDEO=1]="PODCAST_VIDEO",e[e.TRACK=2]="TRACK",e[e.PLAYLIST=3]="PLAYLIST",e[e.ARTIST=4]="ARTIST",e[e.ALBUM=5]="ALBUM",e}({});const me={disallow:{timestamp:!0,theme:!1,width:!1},defaults:{theme:"1",height:le,width:ce},theme:[["1",null],["0","#282828"]],height:[[le,"normal"],[152,"compact"]],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}},pe={[ue.PODCAST_AUDIO]:{disallow:{timestamp:!1,theme:!1,width:!1},defaults:{theme:"1",height:le,width:ce},theme:[["1",null],["0","#282828"]],height:[[le,"normal"],[152,"compact"]],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}},[ue.PODCAST_VIDEO]:{disallow:{timestamp:!1,theme:!1,width:!0},defaults:{theme:"1",height:351,width:624},theme:[["1",null],["0","#282828"]],height:[[351,"normal"],[279,"compact"]],constraints:{width:{min:400,max:700,minPercentage:40,maxPercentage:100}}},[ue.TRACK]:me,[ue.PLAYLIST]:me,[ue.ARTIST]:me,[ue.ALBUM]:me},he={disallow:{timestamp:!0,theme:!0,width:!0},defaults:{theme:"1",height:le,width:ce},theme:[],height:[],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}};const ge=e=>{switch(e){case I.s.SHOW:return f._s.get("ewg.title.show");case I.s.AUDIOBOOK:return f._s.get("ewg.title.audiobook");case I.s.EPISODE:return f._s.get("ewg.title.episode");case I.s.TRACK:return f._s.get("ewg.title.track");case I.s.ALBUM:return f._s.get("ewg.title.album");case I.s.ARTIST:return f._s.get("ewg.title.artist");case I.s.PLAYLISTV2:case I.s.PLAYLIST:return f._s.get("ewg.title.playlist");default:return f._s.get("ewg.title")}},fe=({uri:e,currentTrackUri:t,currentPosition:n,isOpen:i,entityType:y})=>{const _=(0,s.useMemo)((()=>(0,g.nX)(e)),[e]),b=t===e,v=ge(y),[C,ce]=(0,s.useState)(null),[me,fe]=(0,s.useState)(null),[ye,_e]=(0,s.useState)(null),[be,ve]=(0,s.useState)(null),[xe,Ce]=(0,s.useState)(!1),[Ee,Se]=(0,s.useState)(!1),[we,Ie]=(0,s.useState)(b?n??0:0),[Ae,Te]=(0,s.useState)(!0),[ke,Ne]=(0,s.useState)(!1),[Oe,Pe]=(0,s.useState)(f._s.get("ewg.copy")),je=null!==C?pe[C]:he,Le=(0,S.ik)(),Re=(0,E.g)(e,"#FFF"),De=(0,k.w)(),Me=(0,s.useRef)(null),Ue=(0,s.useRef)(null),Fe=(0,s.useContext)(T.O6),Be=(0,s.useCallback)((()=>{Fe({type:"close"})}),[Fe]),Ge=()=>{if(!Ue?.current)return;const e=Ue.current.value;if(C){const[t,n]=function(e,t){const{width:n}=pe[e].constraints,s=parseInt(t.replace(/px|%$/,""),10);if(Number.isFinite(s)){if(-1!==t.indexOf("%")){const e=Math.max(n.minPercentage,Math.min(n.maxPercentage,Math.round(s)));return[`${e}%`,`${e}%`]}const e=Math.max(n.min,Math.min(n.max,Math.round(s)));return[`${e}px`,e.toString()]}return["100%","100%"]}(C,e);Ue.current.value=t,ve(n)}},Ve=()=>{if(Me?.current){const e=x(Me.current.value);Me.current.value=e.humanString,e.seconds!==we&&(Te(!0),Ie(e.seconds))}};(0,s.useEffect)((()=>{if(C===ue.PODCAST_VIDEO&&ye){const e=parseInt(ye,10);ve(351===e?624..toString():496..toString())}}),[ye,C]),(0,s.useEffect)((()=>{(async()=>{const t=_?.type;if(t===g.cH.EPISODE){const t=await Le.getEpisodeOrChapter(e);return t.type===I.s.EPISODE&&t.mediaTypes?.includes(w.iM.Video)?ce(ue.PODCAST_VIDEO):ce(ue.PODCAST_AUDIO)}if(t===g.cH.SHOW){const t=y===I.s.SHOW?await Le.getContents(e,{offset:0,limit:1}):await Le.getBookContents(e,{offset:0,limit:1,doRefreshSubscription:!1});if(t.items.length>0&&null!==t.items[0]){const e=await Le.getEpisodeOrChapter(t.items[0].uri);return e.type===I.s.EPISODE&&e.mediaTypes?.includes(w.iM.Video)?ce(ue.PODCAST_VIDEO):ce(ue.PODCAST_AUDIO)}}t===g.cH.TRACK?ce(ue.TRACK):t===g.cH.ARTIST?ce(ue.ARTIST):t===g.cH.ALBUM?ce(ue.ALBUM):ce(ue.PLAYLIST)})()}),[y,Le,e,_]),(0,s.useEffect)((()=>{_e(je.defaults.height.toString()),fe(je.defaults.theme),ve(je.defaults.width.toString())}),[je]);const He=C===ue.PODCAST_VIDEO,We=null!==C?function(e,t,n,s,i){const r=(0,g.nX)(e);if(!r)return null;const a=r.toURLPath(),o=new URL(`https://open.spotify.com/embed/${a}${i?"/video":""}`);return o.searchParams.set("utm_source","generator"),t&&"1"!==t&&o.searchParams.set("theme",t),n&&void 0!==s&&o.searchParams.set("t",s.toString()),o}(e,me,Ee,we,He):null,ze=We&&je!==he&&ye&&be?(0,oe.jsx)("iframe",{onLoad:()=>{Te(!1)},style:{borderRadius:"12px"},src:We?.toString(),width:be,height:ye,...de},We?.toString()):null,Ye=ze?(a.renderToStaticMarkup(ze)||"").replace(/src=".*?"/,`src="${We?.toString()}"`):"";return(0,oe.jsxs)(O.c,{isOpen:i,contentLabel:v,children:[(0,oe.jsxs)("div",{className:r()(P),children:[(0,oe.jsxs)("div",{className:q,children:[(0,oe.jsx)(o.a,{as:"h1",variant:"titleSmall",children:v}),(0,oe.jsx)("button",{className:Q,onClick:()=>{Be(),De({type:"click",intent:"close"})},children:(0,oe.jsx)(l.K,{size:"small","aria-label":f._s.get("close")})})]}),(0,oe.jsxs)("div",{className:M,children:[(0,oe.jsxs)("div",{className:U,children:[(0,oe.jsxs)("div",{className:X,style:{visibility:je.disallow.theme?"hidden":"visible"},children:[(0,oe.jsxs)("p",{className:$,children:[f._s.get("ewg.color"),":"]}),je.theme.map((([e,t])=>{return(0,oe.jsx)("button",{style:{backgroundColor:null===t?Re:t},className:r()(J,{[Z]:me===e}),onClick:(n=e,()=>{me!==n&&(Te(!0),fe(n))})},e);var n}))]}),(0,oe.jsxs)("div",{className:te,children:[(0,oe.jsxs)("div",{className:ne,children:[f._s.get("ewg.size"),":"]}),(0,oe.jsxs)("div",{className:se,children:[ye&&(0,oe.jsx)(N.W,{id:"ewg-height",value:ye,onSelect:_e,children:je.height.map((([e,t])=>(0,oe.jsxs)("option",{value:e,children:["normal"===t?f._s.get("ewg.size.normal"):f._s.get("ewg.size.compact")," ","(",e,"px)"]},e)))}),je.disallow.width?null:(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsx)("span",{className:ie,children:"×"}),(0,oe.jsxs)("div",{className:W,children:[(0,oe.jsx)("input",{className:H,type:"text",ref:Ue,defaultValue:je.defaults.width,onKeyUp:e=>{"Enter"===e.key&&Ge()},onBlur:Ge}),(0,oe.jsx)(c.u,{"aria-label":f._s.get("ewg.help"),"aria-describedby":"ewg-help-text",size:"small",iconOnly:d.K,className:z,onMouseOver:()=>Ce(!0),onMouseLeave:()=>Ce(!1)}),(0,oe.jsx)("div",{onFocus:()=>Ce(!0),onMouseOver:()=>Ce(!0),onMouseLeave:()=>Ce(!1),className:r()(Y,{[L]:xe}),children:(0,oe.jsx)(u.o,{id:"ewg-help-text",children:f._s.get("ewg.help-text")})})]})]})]})]})]}),(0,oe.jsxs)("div",{className:B,style:{height:le,maxHeight:"calc(100vh - 402px)"},children:[Ae&&(0,oe.jsx)("div",{className:ae,children:(0,oe.jsx)(m.y,{})}),ze]}),(0,oe.jsx)("small",{className:ee,dangerouslySetInnerHTML:{__html:f._s.get("ewg.terms",{devTerms:"https://developer.spotify.com/terms/",platfRules:"https://www.spotify.com/platform-rules/"})}}),(0,oe.jsxs)("div",{className:F,children:[(0,oe.jsxs)("div",{className:re,style:{visibility:je.disallow.timestamp?"hidden":"visible"},children:[(0,oe.jsx)(p.w,{className:H,checked:Ee,type:"checkbox",id:"ewg-timestamp",onChange:e=>{const t=e.currentTarget.checked;Ee!==t&&(Te(!0),Se(t),De({type:"click",intent:"toggle",itemIdSuffix:`timestamp/${t}`}))},"":"timestamp-checkbox"}),(0,oe.jsx)("label",{htmlFor:"ewg-timestamp",children:f._s.get("ewg.start-at")}),(0,oe.jsx)("input",{className:r()(K,D),disabled:!Ee,type:"text",defaultValue:x(Math.floor(we/1e3).toString()).humanString,ref:Me,onBlur:Ve,onKeyUp:e=>{"Enter"===e.key&&Ve()}})]}),(0,oe.jsxs)("div",{className:G,children:[(0,oe.jsx)(p.w,{className:H,checked:ke,type:"checkbox",id:"ewg-showcode",onChange:e=>{const t=e.currentTarget.checked;Ne(t),De({type:"click",intent:"show-more",itemIdSuffix:`showcode/${t}`})}}),(0,oe.jsx)("label",{htmlFor:"ewg-showcode",children:f._s.get("ewg.showcode")}),(0,oe.jsx)(h.g,{className:V,size:"small",onClick:()=>{(0,A.y)(Ye),De({type:"click",intent:"copy"}),Pe(f._s.get("ewg.copied")),setTimeout((()=>Pe(f._s.get("ewg.copy"))),5e3)},children:Oe})]})]})]})]}),(0,oe.jsx)("section",{className:r()(j,{[L]:ke}),children:(0,oe.jsx)("pre",{className:R,"":"iframe-code",children:Ye})})]})},ye=()=>{const e=(0,s.useContext)(T.k$);return e.uri?(0,oe.jsx)(C.oL,{value:"embed-widget-generator",children:(0,oe.jsx)(fe,{...e})}):null}},69484:(e,t,n)=>{"use strict";n.d(t,{KU:()=>c,O6:()=>a,k$:()=>o});var s=n(96651),i=n(2488);const r={isOpen:!1,uri:""},a=(0,s.createContext)(void 0),o=(0,s.createContext)(r);function l(e,t){switch(t.type){case"open":return{...e,uri:t.uri,currentTrackUri:t.currentTrackUri,currentPosition:t.currentPosition,entityType:t.entityType,isOpen:!0};case"close":return{...r,isOpen:!1};default:throw new Error("Unknown action received!")}}const c=({children:e})=>{const[t,n]=(0,s.useReducer)(l,r);return(0,i.jsx)(a.Provider,{value:n,children:(0,i.jsx)(o.Provider,{value:t,children:e})})}},38064:(e,t,n)=>{"use strict";n.d(t,{o:()=>w});var s=n(96651),i=n(10124),r=n.n(i),a=n(8004),o=n(8340),l=n(81044);const c="(min-width: 0px)",d="(min-width: 0px) and (max-width: 767px)",u="(min-width: 768px)",m="(min-width: 768px) and (max-width: 1023px)",p="(min-width: 1024px)",h="(min-width: 1024px) and (max-width: 1279px)",g="(min-width: 1280px)",f="(min-width: 1280px) and (max-width: 1919px)",y="(min-width: 1920px)";var _=n(97192);const b="FvfvGU3jvHRskUU9v9_8",v="Q9AlbZn2EGzy3MTWXa8X",x="mxmxS0y8LiwSs5nueKPT",C="GXxVAveNFStY3pBI_NO4",E="eHcXC2s97InYP7rMNT0H";var S=n(2488);const w=(0,s.memo)((function(e){const{children:t,message:n,title:s,linkTitle:i,linkTo:w,onClick:I,renderInline:A=!1}=e,{isXSOnly:T,isSMOnly:k}={isXS:(0,l.Y)(c),isXSOnly:(0,l.Y)(d),isSM:(0,l.Y)(u),isSMOnly:(0,l.Y)(m),isMD:(0,l.Y)(p),isMDOnly:(0,l.Y)(h),isLG:(0,l.Y)(g),isLGOnly:(0,l.Y)(f),isXL:(0,l.Y)(y)},N=T||k;return(0,S.jsxs)("section",{className:r()(b,{[v]:A}),children:[t,(0,S.jsx)(a.a,{as:"h1",variant:N?"titleSmall":"titleMedium",className:C,children:s}),(0,S.jsx)(a.a,{variant:N?"bodySmall":"bodyMedium",className:E,children:n}),i&&(w||I)&&(0,S.jsx)(o.g,{colorSet:"invertedLight",className:x,href:w,onClick:I,component:_.m,children:i})]})}))},76736:(e,t,n)=>{"use strict";n.d(t,{g:()=>a,m:()=>l});var s=n(12100),i=n(53e3),r=n(2488);const a="entityHeaderAdd",o={placement:i.y.bottomLeft,zIndex:1,getTitle:({triggerAction:e})=>((e||{}).type,s._s.get("action-trigger.save-library")),getDescription:({triggerAction:e})=>((e||{}).type,s._s.get("action-trigger.logged-out-continue"))},l=({children:e})=>(0,r.jsx)(i.e,{id:a,options:o,"":"login-trigger",children:e})},62688:(e,t,n)=>{"use strict";n.d(t,{E:()=>u});var s=n(96651),i=n(10124),r=n.n(i),a=n(82504),o=n(81040),l=n(43052),c=n(33062),d=n(2488);const u=(0,s.forwardRef)((({children:e},t)=>{const n=(0,o.Iz)(),{ref:i,inView:u}=(0,a.cD)({initialInView:!0,rootMargin:"0px 100%",root:n.current}),m=r()(c.c.topbarContent,{[c.c.topbarContentFadeIn]:!u}),p=(0,s.useCallback)((e=>{i(e),t&&("function"==typeof t?t(e):t.current=e)}),[i,t]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{ref:p}),(0,d.jsx)(l.J,{className:m,children:e})]})}))},73372:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var s=n(8004),i=n(6812),r=n(33062),a=n(2488);const o=({text:e,dragUri:t,dragLabel:n})=>{const o=(0,i.C)({itemUris:t?[t]:[],dragLabelText:n});return(0,a.jsx)(s.a,{as:"span",variant:"titleSmall",className:r.c.topbarTitle,draggable:!(!t||!n),onDragStart:o,children:e})}},73670:(e,t,n)=>{"use strict";n.d(t,{a:()=>c});var s=n(47992),i=n(96651),r=n(6060),a=n(2488);const o=({error:e,resetErrorBoundary:t})=>{const n=(0,r.K)();return(0,i.useEffect)((()=>{const e=n.listen((()=>{t()}));return()=>{e()}}),[n,t]),null},l=({fallback:e,children:t})=>(0,a.jsx)(i.Suspense,{fallback:e,children:t}),c=({FallbackComponent:e=o,suspenseFallback:t,children:n,onError:i})=>{const r=t??null;return(0,a.jsx)(l,{fallback:r,children:(0,a.jsx)(s.Ou,{FallbackComponent:e,onError:i,children:n})})}},90016:(e,t,n)=>{"use strict";n.d(t,{G:()=>p});var s=n(96651),i=n(10124),r=n.n(i),a=n(8004),o=n(8340),l=n(20356);const c="KIbfbFDao0SHpZsKoKZD",d="yZh70k8am9QCTKmucbwo";var u=n(2488);const m=()=>window.location.reload(),p=(0,s.memo)((function({headingMessage:e,message:t,onDismissDialog:n=m,isOpen:s=!1,buttonLabel:i,animated:p}){return(0,u.jsx)(l.c,{isOpen:s,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:e,animated:p,children:(0,u.jsxs)("div",{className:r()(c,"encore-light-theme"),children:[(0,u.jsx)(a.a,{variant:"titleSmall",as:"h1",children:e}),(0,u.jsx)(a.a,{as:"p",variant:"bodyMedium",children:t}),(0,u.jsx)("div",{className:d,children:(0,u.jsx)(o.g,{onClick:n,autoFocus:!0,children:i})})]})})}))},37535:(e,t,n)=>{"use strict";n.d(t,{Q:()=>w});n(73952),n(97296);var s=n(96651),i=n(10124),r=n.n(i),a=n(18648),o=n(58024),l=n(76008),c=n(12100),d=n(85988),u=n(76361),m=n(78808);const p="x-filterBox-filterInputContainer",h="x-filterBox-expandedOrHasFilter",g="x-filterBox-expandButton",f="x-filterBox-filterInput",y="x-filterBox-fullWidth",_="x-filterBox-overlay",b="x-filterBox-expandRight",v="x-filterBox-searchIconContainer",x="x-filterBox-searchIcon",C="x-filterBox-clearButton";var E=n(2488);const S=e=>(0,u.GU)(u.ak.FILTER,e),w=s.memo((function({alwaysExpanded:e=!1,placeholder:t,filterBoxApiRef:n,outerRef:i,onFilter:w,onClear:I,onActivate:A,clearOnEscapeInElementRef:T,debounceFilterChangeTimeout:k=200,expandDirection:N="left",fullWidth:O=!1,useExpandCallback:P=S}){const{filter:j,setFilter:L}=(0,s.useContext)(m.on),[R,D]=(0,s.useState)(e||!!j),[M,U]=(0,s.useState)(j),F=(0,s.useRef)(null),B=(0,s.useRef)(null),G=i??F;(0,u.sZ)(u.IP.FILTER);const V=(0,a.yK)(((e,t=!1)=>{w&&!t&&w(e),L(e)}),k,{leading:!1,trailing:!0,maxWait:1e3}),H=(0,s.useCallback)((()=>{I?.(),U(""),V("",!0)}),[I,V]);(0,s.useImperativeHandle)(n,(()=>({clearFilter:H})));const W=(0,s.useCallback)((()=>{!1!==A?.()&&(D(!0),G.current?.focus())}),[D,G,A]);P(W);const z=(0,s.useCallback)((e=>{const t=e.currentTarget.value;U(t),V(t)}),[V,U]),Y=(0,s.useCallback)((()=>{M||e||D(!1)}),[M,e,D]),K=(0,s.useCallback)((t=>{"Escape"===t.key&&(M?(t.stopPropagation(),H()):e||(D(!1),B.current?.focus()))}),[e,H,M]);return(0,s.useEffect)((()=>{const e=e=>{"Escape"===e.key&&T?.current?.contains(e.target)&&H()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[H,T]),(0,E.jsx)(d.Yl,{label:t,disabled:R||!t,children:(0,E.jsxs)("div",{className:r()(p,{[h]:R}),role:"search",children:[(0,E.jsx)("input",{ref:G,className:r()(f,{[y]:O}),role:"searchbox",maxLength:80,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,placeholder:t,onChange:z,onKeyDown:K,onBlur:Y,value:M,"aria-hidden":!R,tabIndex:R?void 0:-1}),(0,E.jsxs)("div",{className:_,children:[(0,E.jsx)("span",{className:v,children:(0,E.jsx)(o.O,{size:"small",className:x,"aria-hidden":!0})}),M&&(0,E.jsx)("button",{className:C,onClick:e=>{e.stopPropagation(),H(),G.current?.focus()},"aria-label":c._s.get("search.a11y.clear-input"),children:(0,E.jsx)(l.K,{size:"small"})})]}),(0,E.jsx)("button",{className:r()(g,{[b]:"right"===N}),onClick:W,"":"expand-button","aria-hidden":R,tabIndex:R?-1:void 0,"aria-label":t,ref:B,children:(0,E.jsx)(o.O,{size:"small",className:x})})]})})}))},95944:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});n(41260);var s=n(96651),i=n(10124),r=n.n(i),a=n(92628),o=n(30948),l=n(21396),c=n(91128);const d="IVnoxrO3iL_tz5ULI8g_";var u=n(2488);const m={marginBlockEnd:0,willChange:"transform, opacity"},p=({filterId:e=null,isPrimaryFilter:t,isPlaceholder:n,resetFilterIds:i,toggleFilterId:o,className:l,ChipComponent:c=a.a,innerRef:p,onFilterClick:h,index:g=0,...f})=>{const y=f.selected,_=(0,s.useCallback)((()=>{if(!e)return i(),void h(null,!1,g);h(e,!!y,g),o(e)}),[e,i,o,h,y,g]),b=(0,s.useCallback)((e=>{e.detail>1||n||_()}),[n,_]);return(0,u.jsx)(c,{...f,"aria-label":f["aria-label"],className:r()(l,{[d]:n}),onClick:b,selectedColorSet:"invertedLight",secondary:y&&!t,style:m,ref:p,tabIndex:-1})},h=(0,s.memo)((function({placeholderFilters:e=[],availableFilters:t,selectedFilters:n,toggleFilterId:i,resetFilterIds:r,onFilterClick:a,ariaLabel:d,clearBtnAriaLabel:m,className:h,applyLightThemeControls:g=!1}){const f=!(n||t),y=f?e:[...n??[],...t??[]],_=(0,s.useRef)(null),b=(0,s.useCallback)((()=>{(0,l.BA)(_.current,_.current?.nextElementSibling instanceof HTMLElement?_.current?.nextElementSibling:null),r()}),[r]);return 0===y.length?null:(0,u.jsxs)(c.E,{className:h,ariaLabel:d,applyLightThemeControls:g,children:[!!n?.length&&(0,u.jsx)(p,{resetFilterIds:b,toggleFilterId:i,onFilterClick:a,ChipComponent:o.E,"aria-label":m??d,innerRef:_}),y.map(((e,t)=>{const s=n?.includes(e),o=0===t;return(0,u.jsx)(p,{filterId:e.id,isPrimaryFilter:o,isPlaceholder:f,onFilterClick:a,resetFilterIds:r,toggleFilterId:i,selected:s,index:t,children:e.getName()},e.id)}))]})}))},82988:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var s=n(96651),i=n(49612),r=n(12100),a=n(2488);const o=(0,s.memo)((function({isFollowing:e,onClick:t,disabled:n=!1,buttonText:s,size:o="small",className:l}){const c=e?r._s.get("following"):r._s.get("follow");return(0,a.jsx)(i.w,{onClick:t,disabled:n,size:o,className:l,children:s||c})}))},94231:(e,t,n)=>{"use strict";n.d(t,{Y:()=>p,F:()=>m});var s=n(96651),i=n(10124),r=n.n(i),a=n(49232),o=n(41524),l=n(71640);n(73952),n(97296),n(39568);var c=n(15040),d=n(46236),u=n(2488);const m=function(e){let t=e,n=[];return{addListener:e=>{n.push(e)},removeListener:e=>{n=n.filter((t=>t!==e))},get:()=>t,set:e=>{t=e(t),n.forEach((e=>{e(t)}))}}}({triggerId:null,triggerAction:null}),p=({id:e,children:t,childRef:n,options:{placement:i,isCTA:p,intentPrimaryButton:h="login",getDescription:g,getTitle:f,hideArrow:y,shouldHideOnOutsideClick:_=(()=>!0),shouldHideOnScroll:b=!1,fadeOut:v=!1,popperOptions:x,zIndex:C,maxWidth:E,tippyClassName:S,primaryButtonText:w,secondaryButtonText:I,checkboxText:A,useSecondaryStyling:T,onLogInteraction:k,tippyWrapperClassName:N,renderInline:O},onPrimaryButtonClick:P=(()=>{}),onSecondaryButtonClick:j,onCheckboxClick:L,className:R,onHide:D,onShow:M})=>{const U=p?"tooltip-with-cta":"tooltip-without-cta",[{triggerId:F,triggerAction:B},G]=function(e){const t=(0,s.useState)()[1];return(0,s.useEffect)((()=>(e.addListener(t),()=>{e.removeListener(t)})),[e,t]),[e.get(),e.set]}(m),V=Boolean(F&&F===e),H=(0,a.IP)(c.Sw),W=(0,s.useCallback)((e=>{e.stopPropagation();const t=(0,l.kr)((0,l.Mp)(void 0,!0),"spotify_web_player").toString();k?.({itemIdSuffix:U,intent:h,type:"click",targetUri:t}),G((e=>({...e,triggerAction:null,triggerId:null}))),P()}),[P,k,G,U,h]),z=(0,s.useCallback)((e=>t=>{t.stopPropagation&&t.stopPropagation(),k?.({intent:"close-upsell",type:"click",itemIdSuffix:`${U}/${e}`}),G((e=>({...e,triggerAction:null,triggerId:null})))}),[k,G,U]);(0,s.useEffect)((()=>{D&&M&&(V?M():D())}),[D,M,V]);const Y=(0,s.useRef)(!1);(0,s.useEffect)((()=>{!Y.current&&V&&(k?.({intent:"open-upsell",type:"view",itemIdSuffix:U}),Y.current=!0),Y.current&&!V&&(Y.current=!1)}),[k,U,V]);const K=(0,s.useCallback)((()=>{b&&V&&G((e=>({...e,triggerAction:null,triggerId:null})))}),[G,b,V]);(0,o.G)(K);const q=f({triggerAction:B}),Q=g({triggerAction:B}),X=_({triggerAction:B});return(0,u.jsx)(d.g,{placement:i,className:r()(R,"encore-layout-themes",{"encore-dark-theme":!O,"vertical-metrics":H}),tippyClassName:S,tippyWrapperClassName:N,popperOptions:x,zIndex:C,maxWidth:E,title:q,description:Q,hideArrow:y,id:e,visible:V,showButtons:p,hideOnClickOutside:X,onHide:z("backdrop"),onSecondaryButtonClick:j??z("close-button"),onPrimaryButtonClick:W,primaryButtonText:w,secondaryButtonText:I,onCheckboxClick:L,checkboxText:A,useSecondaryStyling:T,childRef:n,fadeOut:v,renderInline:O,children:t})}},20356:(e,t,n)=>{"use strict";n.d(t,{c:()=>d});var s=n(10124),i=n.n(s),r=n(2668),a=n.n(r),o=n(49232),l=n(15040),c=n(2488);const d=e=>{const{isOpen:t,contentLabel:n,children:s,className:r,overlayClassName:d,animated:u,animation:m,shouldFocusAfterRender:p=!0,...h}=e,g=(0,o.IP)(l.Sw);let f=0;return u?f=300:m?.closeTimeoutMs&&(f=m.closeTimeoutMs),(0,c.jsx)(a(),{className:{base:i()("GenericModal","encore-dark-theme","encore-layout-themes",{"vertical-metrics":g,"GenericModal--animated":u},[m?.modal?.base,r]),afterOpen:i()("",{"GenericModal--afterOpen":u},[m?.modal?.afterOpen]),beforeClose:i()("",{"GenericModal--beforeClose":u},[m?.modal?.beforeClose])},overlayClassName:{base:i()("GenericModal__overlay",{"GenericModal__overlay--animated":u},[m?.overlay?.base,d]),afterOpen:i()("",{"GenericModal__overlay--afterOpen":u},[m?.overlay?.afterOpen]),beforeClose:i()("",{"GenericModal__overlay--beforeClose":u},[m?.overlay?.beforeClose])},bodyOpenClassName:"GenericModal__Body--open",isOpen:t,...f?{closeTimeoutMS:f}:{},shouldFocusAfterRender:p,preventScroll:!0,ariaHideApp:!1,contentLabel:n,...h,children:s})}},60552:(e,t,n)=>{"use strict";n.d(t,{_:()=>c});var s=n(76224),i=n(85988);const r="x-settings-tooltip",a="x-settings-tooltipIconWrapper",o="x-settings-tooltipIcon";var l=n(2488);const c=({message:e,placement:t="top",messageClassName:n})=>(0,l.jsx)("div",{className:r,children:(0,l.jsx)(i.Yl,{showDelay:0,label:e,placement:t,labelClassName:n,children:(0,l.jsx)("div",{className:a,children:(0,l.jsx)(s.K,{size:"small",tabIndex:0,"aria-describedby":i.yi,className:o})})})})},94768:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});n(73952),n(78620);var s=n(7628),i=n.n(s);const r={highlightedText:"main-contextMenu-highlightedText"};var a=n(2488);function o({searchWords:e,textToHighlight:t,...n}){return 0===e.length||e.every((e=>!e))?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsx)(i(),{highlightClassName:r.highlightedText,searchWords:e,textToHighlight:t,autoEscape:!0,...n})}},62856:(e,t,n)=>{"use strict";n.d(t,{i:()=>f});n(41260);var s=n(96651),i=n(10124),r=n.n(i),a=n(49232),o=n(5864),l=n(23482),c=n(56424);const d="zUf7jtv9GPOKC1jYO5TO",u="T8QLel3PoQTgJUpGYj7Q";var m=n(2488);const p=(0,s.memo)((({isLoading:e})=>{const t=(0,o.S)("shimmer");return(0,m.jsx)("div",{className:c.c.imageContainer,children:(0,m.jsx)("div",{ref:t,className:r()(c.c.imageWrapper,{[u]:e})})})})),h=(0,s.memo)((({isLoading:e})=>(0,m.jsx)("div",{className:r()(c.c.shortcut,d),"":"skeleton-shortcut",children:(0,m.jsxs)("div",{className:c.c.draggable,children:[(0,m.jsx)(p,{isLoading:e}),(0,m.jsx)("div",{className:r()(c.c.main,c.c.skeletonShortcut),children:(0,m.jsx)(l.O,{as:"p",variant:"bodyMediumBold",className:c.c.name,isLoading:e})})]})})));var g=n(15040);const f=(0,s.memo)((({withTitle:e})=>{const t=(0,a.IP)(g.eU6)?8:6,n=t%4==0;return(0,m.jsxs)("section",{className:c.c.shortcuts,children:[e&&(0,m.jsx)("div",{className:c.c.title,children:(0,m.jsx)(l.O,{as:"h2",variant:"titleMedium",charCount:25,isLoading:!0})}),(0,m.jsx)("div",{className:r()(c.c.grid,{[c.c.gridOf4Columns]:n}),children:[...new Array(t).keys()].slice(0,8).map(((e,t)=>(0,m.jsx)(h,{isLoading:!0},t)))})]})}))},61580:(e,t,n)=>{"use strict";n.d(t,{SO:()=>m,e2:()=>g,qq:()=>h});n(73952),n(39568),n(41260);var s=n(96651),i=n(32976),r=n(10928),a=n(94904),o=n(70992),l=n(87468),c=n(42144),d=n(40068),u=n(2488);const m=e=>{const t=(0,d.C)(e.images);return{uri:e.uri,imageUrl:t?.url}},p=(0,s.createContext)({fetchMultipleColors:()=>{},resetColor:()=>{},setColorFromUri:()=>{},clearColor:()=>{}}),h=({children:e})=>{const[,t]=(0,r.IB)(),{request:n}=(0,s.useContext)(c.Q),[d,m]=(0,s.useState)({}),[h,g]=(0,s.useState)(i.EFd),f=(0,s.useCallback)((()=>{t((0,a.K3)(h))}),[h,t]),y=(0,s.useCallback)((()=>{t((0,a.ai)())}),[t]),_=(0,s.useCallback)((e=>{const n=d[e];t((0,a.K3)(n||i.EFd))}),[t,d]),b=(0,s.useCallback)((async e=>{const t={};(await(0,l.OK)(n,e.map((e=>e.imageUrl||"")))).forEach((({colorRaw:n},s)=>{const i=n.toCSS(o.w.HEX);t[e[s].uri]=i,0===s&&g(i)})),m(t)}),[n]);return(0,u.jsx)(p.Provider,{value:{setColorFromUri:_,resetColor:f,fetchMultipleColors:b,clearColor:y},children:e})};function g(){const e=(0,s.useContext)(p);if(null===e)throw new Error("Trying to use 'ShortcutsColorContext' without 'ShortcutsColorProvider'!");return e}},85988:(e,t,n)=>{"use strict";n.d(t,{AL:()=>a,Yl:()=>o,yi:()=>r});var s=n(2104),i=n(2488);const r="hover-or-focus-tooltip",a=1e3,o=({label:e,children:t,renderInline:n,showDelay:a,disabled:o,placement:l="top",labelClassName:c})=>(0,i.jsx)(s.GS,{action:"open",trigger:"hover-or-focus",placement:l,interactive:!1,content:o?null:(0,i.jsx)(s.W0,{showDelay:a,className:c,children:(0,i.jsx)("span",{id:r,role:"tooltip",children:e})}),renderInline:n,children:t})},17988:(e,t,n)=>{"use strict";n.d(t,{c:()=>u});var s=n(10124),i=n.n(s),r=n(48912),a=n(8004);const o="artist-artistVerifiedBadge-wrapper",l="artist-artistVerifiedBadge-badge",c="artist-artistVerifiedBadge-fillColor";var d=n(2488);const u=({text:e,iconSize:t="medium",className:n})=>(0,d.jsxs)("span",{className:i()(o,n),children:[(0,d.jsx)("div",{className:`${l} ${c}`}),(0,d.jsx)(r.A,{semanticColor:"textAnnouncement",className:l,size:t}),e?(0,d.jsx)(a.a,{variant:"bodySmall",children:e}):null]})},12529:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var s=n(2488);const i=({className:e,name:t})=>(0,s.jsx)("svg",{height:16,role:"img",width:16,viewBox:"0 0 24 24",className:e,name:t,"aria-hidden":"true",children:(0,s.jsx)("circle",{cx:"50%",cy:"50%",r:"6",fill:"currentColor"})})},86764:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var s=n(12100);const i="main-loadingIndicator-circle",r="main-loadingIndicator-loadingIcon";var a=n(2488);const o=()=>(0,a.jsxs)("div",{className:r,children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"12px",width:"56px",x:"0px",y:"0px",viewBox:"0 0 1 100",xmlSpace:"preserve","":"loadingIcon",children:[(0,a.jsx)("circle",{className:i,cx:"-140",cy:"50",r:"32"}),(0,a.jsx)("circle",{className:i,cx:"0",cy:"50",r:"32"}),(0,a.jsx)("circle",{className:i,cx:"140",cy:"50",r:"32"})]}),(0,a.jsx)("span",{className:"hidden-visually",children:s._s.get("page.loading")})]})},23652:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var s=n(12100),i=n(35300),r=n(2488);const a=e=>(0,r.jsx)(i.E,{...e,text:s._s.get("paid")})},73448:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});var s=n(96552),i=n(2488);const r=({iconSize:e,className:t})=>(0,i.jsx)("div",{className:t,children:(0,i.jsx)(s.B,{size:e,"aria-hidden":!0})})},17480:(e,t,n)=>{"use strict";n.d(t,{O:()=>m});var s=n(10124),i=n.n(s),r=n(8004),a=n(99070);const o="pIZVZOfjnJGth1BcoA1E",l="ZBBTIITnUdwh05dCI0tm",c="sz8Nwj2lvhOZxDwYWRQr",d="jjPsW7vuG9xH9qhEGL3I";var u=n(2488);const m=({message:e,isErrorMessage:t=!1})=>e?(0,u.jsx)("div",{role:"alert",children:(0,u.jsx)("div",{className:i()(o,{[l]:t}),children:(0,u.jsxs)(r.a,{as:"p",variant:"marginal",className:c,children:[(0,u.jsx)(a.x,{size:"small",className:d,"aria-hidden":"true"}),e]})})}):null},12312:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var s=n(11732),i=n(2488);const r=({uri:e,enabled:t,className:n,children:r,onClick:a})=>t?(0,i.jsx)(s.default,{to:e,className:n,onClick:a,children:r}):(0,i.jsx)(i.Fragment,{children:r})},74852:(e,t,n)=>{"use strict";n.d(t,{u:()=>g});n(73952),n(97768),n(91372);var s=n(96651),i=n(10124),r=n.n(i),a=n(49404),o=n.n(a),l=n(18648),c=n(44772),d=n(52276),u=n(77240),m=n(2488),p=function(e){return e[e.DOWN=-1]="DOWN",e[e.NONE=0]="NONE",e[e.UP=1]="UP",e}(p||{});const h=10,g=({cssCustomProperty:e,min:t,max:n,ranges:i=("number"==typeof t&&"number"==typeof n?[[t,n]]:[]),value:a,initialValue:g,onCSSPropertyChange:f,label:y,placement:_,elementRef:b,decreaseSizeKeyboardCombination:v,increaseSizeKeyboardCombination:x,afterResizing:C})=>{const[E,S]=(0,s.useState)(!1),w=(0,s.useRef)(f);w.current=f;const[I,A]=(0,s.useState)((()=>g??parseInt(getComputedStyle(document.documentElement).getPropertyValue(e),10))),T=(0,s.useRef)(0);T.current=I;const k=(0,c.k)(),N=(0,s.useCallback)(((e,t=p.NONE)=>{if(i.some((([t,n])=>t<=e&&e<=n)))return e;switch(t){case p.NONE:{const[t,n]=i.slice().sort((([t,n],[s,i])=>Math.min(Math.abs(t-e),Math.abs(n-e))-Math.min(Math.abs(s-e),Math.abs(i-e))))[0];return e<t?t:n}case p.UP:{const t=i.find((([t],n)=>(i[n-1]?.[1]??0)<e&&e<t)),n=t?.[0];return n?Math.ceil(n/h)*h:e}case p.DOWN:{const t=i.find((([t,n],s)=>{const r=i[s+1]?.[0]??1/0;return n<e&&e<r})),n=t?.[1];return n?Math.floor(n/h)*h:e}default:return(0,d.I)(t),e}}),[i]),O=(0,s.useCallback)((e=>{if(!b.current)return null;const t=b.current.getBoundingClientRect();return"inline-start"===_?k?e-t.left:t.right-e:"inline-end"===_?k?t.right-e:e-t.left:null}),[_,b,k]),P=(0,s.useRef)(null),j=(0,s.useCallback)((t=>{t!==P.current&&(document.documentElement.style.setProperty(e,`${t}px`),P.current=t)}),[e]),L=(0,s.useCallback)(((e,t=!1)=>{if(null==e)return;const n=N(e);j(n),A(n),t||w.current?.(n)}),[N,j]),R=(0,l.yK)(L,50,{leading:!0,maxWait:100});if((0,s.useEffect)((()=>{void 0!==a&&R(a)}),[a,R]),(0,s.useLayoutEffect)((()=>{void 0!==g&&L(g,!0)}),[g,L]),Number.isNaN(I)){const e=(i[0][1]-i[0][0])/2;console.error(`[LayoutResizer] css property value is not a number. Defaulting to ${e}`),L(e)}const D=(0,s.useCallback)((e=>{_.startsWith("inline")?R(O(e.clientX)):R(O(e.clientY))}),[_,R,O]),M=(0,s.useCallback)((()=>{const e=document.getElementById("Desktop_PanelContainer_Id");e?.classList.add("disableTransitions");const t=T.current;S(!0),document.addEventListener("mouseup",(()=>{S(!1),document.removeEventListener("mousemove",D),e?.classList.remove("disableTransitions"),C?.(t,T.current)}),{once:!0}),document.addEventListener("mousemove",D)}),[C,D]);(0,s.useEffect)((()=>(v&&o().bind(v,(()=>{L(N(I-h,-1))})),x&&o().bind(x,(()=>{L(N(I+h,1))})),()=>{v&&o().unbind(v),x&&o().unbind(x)})),[v,N,x,I,L]);const U=i[0][0],F=i[i.length-1][1];return(0,m.jsxs)(m.Fragment,{children:[E&&(0,m.jsx)("div",{className:"LayoutResizer__resize-overlay"}),(0,m.jsx)("div",{"":"LayoutResizer__resize-bar",onMouseDown:M,className:r()("LayoutResizer__resize-bar",{"LayoutResizer__resize-bar--resizing":E,"LayoutResizer__inline-start":"inline-start"===_,"LayoutResizer__inline-end":"inline-end"===_,"LayoutResizer__block-start":"block-start"===_,"LayoutResizer__block-end":"block-end"===_,"LayoutResizer__resize-bar-east":"inline-start"===_?I===F:I===U,"LayoutResizer__resize-bar-west":"inline-start"===_?I===U:I===F}),onDoubleClick:()=>{const e=i.findIndex((([e])=>e===I)),t=i.findIndex((([e,t])=>t===I));if(-1!==t){const e=i.at(t+1);e&&L(e[0])}else if(-1!==e){const t=i.at(e-1);t&&L(t[1])}},children:(0,m.jsx)(u.q,{className:"LayoutResizer__input",type:"range",min:U,max:F,onChange:function(e){if(E)return;const t=T.current;let n=parseInt(e.target.value,10);n=N(n,Math.sign(n-I)),R(n),C?.(t,n)},value:a??I,step:h,children:y})})]})}},11732:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Link:()=>m,default:()=>h});var s=n(96651),i=n(72199),r=n(14788),a=n(81040),o=n(6912),l=n(54584),c=n(47824),d=n(7296),u=n(2488);const m=(0,s.memo)((0,s.forwardRef)((function(e,t){const{to:n,pageId:m,onClick:h,children:g,draggable:f=!1,state:y,search:_,pathname:b,tabIndex:v,stopPropagation:x=!1,...C}=e,E=(0,d.w)(),S=(0,o.Q)(),w=(0,s.useContext)(a.Ck),I=b||(0,r.nX)(n,{parseUnknown:!0}),A=p(I)?I.toURLPath(!0):I,T=(0,r.nX)(A,{parseUnknown:!0}),k=(0,c.W)({uri:T?.toURI(),type:"link"}),N={onClick:(0,s.useCallback)((e=>{E({intent:"navigate",type:"click",targetUri:n}),x&&e.stopPropagation(),h&&h(e,(0,r.nX)(n,{parseUnknown:!0})?.toURI())}),[E,n,x,h]),draggable:f,...C},O={pageId:m,...y,referrer:e.referrer||w||S.getReferrer()};if(I){let e,n;e=p(I)?k?(0,l.oP)(I.toURLPath(!0)):I.toURLPath(!0):k?(0,l.oP)(I):I;const s=e.split("?");return s.length>1&&(e=s[0],n=s[1]),(0,u.jsx)(i.cH,{...N,ref:t,to:{pathname:e,search:_??n},state:O,tabIndex:v,children:g})}const P=_?`${n}${_}`:n;return(0,u.jsx)("a",{...N,ref:t,href:P,target:"_blank",rel:"noopener nofollow",tabIndex:v,children:g})})));function p(e){return!!e&&"string"!=typeof e}const h=m},76872:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var s=n(96651),i=n(4564),r=n(72199),a=n(12100),o=n(6912),l=n(54584),c=n(88004),d=n(7296),u=n(32848),m=n(2488);const p=(0,s.memo)((0,s.forwardRef)((function(e,t){const{onClick:n,to:p,referrer:h,navigationalRoot:g,...f}=e,y=(0,o.Q)(),_=a._s.getLocaleForURLPath(),b=(0,i.w1)(u.Y3),v=(0,i.w1)(u.Oq),x=(0,l.eG)(p),C=(0,c.QZ)({urlLocale:_,entity:x,localeFeatureFlag:b,entityFeatureFlag:v,type:"link"})?(0,l.oP)(p):p,E=(0,d.w)(),S=(0,s.useCallback)((e=>{E({intent:"navigate",type:"click",targetUri:C}),n&&n(e)}),[E,n,C]);return(0,m.jsx)(r.Af,{ref:t,draggable:!1,end:e.end,to:C,state:{referrer:h||y.getReferrer(),navigationalRoot:g},"aria-label":e["aria-label"],tabIndex:e.tabIndex,onClick:S,...f,children:e.children})})))},92376:(e,t,n)=>{"use strict";n.d(t,{K:()=>f});var s=n(96651),i=n(10124),r=n.n(i),a=n(8916),o=n(8004),l=n(99070),c=n(12100),d=n(86764);function u(e,t){switch(t.type){case"LOADING":return{...e,loading:!0};case"ERROR":return{...e,loading:!1,error:!0};default:return e}}var m=n(13932);const p="main-loadingPage-container";var h=n(2488);const g=({loading:e=!0})=>(0,h.jsx)("div",{className:r()(p,"contentSpacing"),children:e?(0,h.jsx)(d.o,{}):null}),f=e=>{const{hasError:t,errorMessage:n,loadOffline:i=!1,timeoutInMs:d}=e,f=(0,m.O)(),[y,_,b]=function(e,t,n=3e4){const[i,r]=(0,s.useReducer)(u,{loading:!1,error:e});return(0,s.useEffect)((()=>{if(e)return r({type:"ERROR"}),()=>{};const t=setTimeout((()=>{r({type:"LOADING"})}),200);return()=>{clearTimeout(t)}}),[e]),(0,s.useEffect)((()=>{let e;return t&&(e=window.setTimeout((()=>{r({type:"ERROR"})}),n)),()=>{clearTimeout(e)}}),[i.loading,t,n]),[i.loading,t,i.error]}(t,f,d),[v,x]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{const e=setTimeout((()=>{x(!0)}),1e3);return()=>{clearTimeout(e)}}),[]),_||i?b?(0,h.jsxs)("div",{className:r()(p,"contentSpacing"),children:[(0,h.jsx)(l.x,{size:"xxlarge","aria-hidden":"true"}),(0,h.jsx)(o.a,{as:"p",variant:"titleMedium",children:n}),(0,h.jsx)(o.a,{as:"p",variant:"bodyMedium",children:c._s.get("error.not_found.body")})]}):v?(0,h.jsx)(g,{loading:y}):(0,h.jsx)("div",{"":"loading-page"}):(0,h.jsxs)("div",{className:r()(p,"contentSpacing"),children:[(0,h.jsx)(a.i,{size:"xxlarge","aria-hidden":"true"}),(0,h.jsx)(o.a,{as:"p",variant:"titleMedium",children:c._s.get("offline.feedback-text")})]})}},20469:(e,t,n)=>{"use strict";n.d(t,{m:()=>f});n(73952),n(39568);var s=n(96651),i=n(10124),r=n.n(i),a=n(81044);var o=n(44772),l=n(28892),c=n(62572);const d="main-trackInfo-overlay",u="main-trackInfo-rightToLeft",m="main-trackInfo-equalGradientWidth",p="main-trackInfo-contentContainer",h="main-trackInfo-contentWrapper";var g=n(2488);const f=({children:e,title:t,speed:n=.2,pauseAtEndEdgeDurationMs:i=1200,initialMouseIntDelayMs:f=200,startAnimationOnMount:y=!0,startAnimationOnMountDelayMs:_=1e3,iterationCount:b="single",iterationCountOnTouchDevices:v="infinite",scrollMethod:x="transform",equalGradientWidth:C})=>{const E=(0,s.useRef)(null),S=(0,s.useRef)(null),w=(0,s.useRef)(null),I=(0,s.useRef)(0),A=(0,s.useRef)("scrolling"),T=(0,o.k)()?"rtl":"ltr",k=(0,s.useRef)("ltr"),N=(0,s.useRef)(b),O=(0,l.C)(),P=(0,a.Y)("(any-pointer: coarse)"),j=(0,s.useRef)({initialMouseInteraction:null,animationOnMount:null}),L=(0,s.useCallback)((()=>w.current&&E.current?w.current.clientWidth-E.current.clientWidth:0),[]),R=(0,s.useCallback)((()=>"rtl"===k.current?1:-1),[k]),D=(0,s.useCallback)((()=>{const e=L();return e>0&&T!==k.current?0+-1*R()*e:0}),[L,T,R]),M=(0,s.useCallback)((()=>{w.current?.style.setProperty("--trans-x",`${D()}px`)}),[D]),U=(0,s.useCallback)((()=>{if(O)return;if(I.current)return;let e=!1,t=0,s=1,r=!1;const a=o=>{const l=L();if(l<=0)return;let c=!0,d=t;if(e){if(r)o>r+i&&(r=!1);else if("paused"===A.current);else{d+=s*(60*(o-e)/1e3)*n,d>l?(s*=-1,r=o,d=l):d<0&&(s*=-1,r=o,d=0,c="infinite"===N.current)}if(t=d,"transform"===x){const e=R()*t+D();w.current?.style.setProperty("--trans-x",`${e}px`),S.current.scrollLeft=0}else"scroll"===x&&(S.current.scrollLeft=t)}e=o,I.current=0,c&&(I.current=requestAnimationFrame(a))};A.current="scrolling",a(0)}),[n,i,x,R,D,L,O]),F=(0,s.useCallback)((()=>I.current),[]),B=(0,s.useCallback)((()=>{A.current="paused"}),[]),G=(0,s.useCallback)((()=>{A.current="scrolling"}),[]),V=(0,s.useCallback)((()=>{cancelAnimationFrame(I.current),A.current="paused",I.current=0}),[]),H=(0,s.useCallback)((()=>{Object.values(j.current).forEach((e=>e&&clearTimeout(e)))}),[]),W=(0,s.useCallback)((e=>{F()?B():"focus"!==e&&(j.current.initialMouseInteraction=setTimeout(U,f))}),[U,B,f,F]),z=(0,s.useCallback)((()=>{j.current.initialMouseInteraction&&clearTimeout(j.current.initialMouseInteraction),F()&&G()}),[G,F]);return(0,s.useEffect)((()=>{y&&(j.current.animationOnMount&&clearTimeout(j.current.animationOnMount),j.current.animationOnMount=setTimeout(U,_))}),[U,_,y]),(0,s.useEffect)((()=>()=>{V(),H(),M()}),[V,H,M]),(0,s.useEffect)((()=>{const e=w.current?.children[0];e&&(k.current=getComputedStyle(e).direction,"rtl"===k.current&&E.current?.classList.add(u)),M()}),[T,D,M]),(0,c.m)({onResize:()=>{V(),M()},refOrElement:E,observeOnly:"width"}),(0,s.useEffect)((()=>{P&&(N.current=v)}),[P,v]),(0,g.jsx)("div",{ref:E,className:r()(d,C&&m),onMouseOver:()=>W("mouse"),onFocus:()=>W("focus"),onMouseOut:z,onBlur:z,title:O&&t?t:void 0,children:(0,g.jsx)("div",{ref:S,className:p,children:(0,g.jsx)("div",{ref:w,className:r()(h,C&&m),children:e})})})}},17912:(e,t,n)=>{"use strict";n.d(t,{E:()=>u});var s=n(96651),i=n(10124),r=n.n(i),a=n(49232);var o=n(15040);const l="JCoroLSoJO7iJzBU1n2W",c="aOxbsZDBlepfQptv_EfI";var d=n(2488);const u=({children:e,isOpen:t,onRequestClose:n,className:i,animated:u=!1,shouldCloseOnEsc:m=!0,shouldCloseOnBackdropClick:p=!0,...h})=>{const g=(0,s.useRef)(null);var f;!function(e,t,n){(0,s.useEffect)((()=>{const s=t.current,i=t=>{t.preventDefault(),e&&n&&n()};return s?.addEventListener("cancel",i),()=>{s?.removeEventListener("cancel",i)}}),[t,n,e])}(m,g,n),f=g,(0,s.useEffect)((()=>{const e=f.current;return()=>{e?.close()}}),[f]);const y=(0,a.IP)(o.Sw);return(0,s.useEffect)((()=>{t?g.current?.showModal():g.current?.close()}),[t]),(0,d.jsx)("dialog",{ref:g,className:r()(l,"encore-dark-theme","encore-layout-themes",{"vertical-metrics":y},i,{[c]:u}),onClick:e=>{const t=e.target;t instanceof HTMLElement&&"DIALOG"===t.nodeName&&p&&n?.()},...h,children:e})}},52520:(e,t,n)=>{"use strict";n.d(t,{oE:()=>f,CU:()=>g,CC:()=>h});var s=n(96651),i=n(10124),r=n.n(i),a=n(14788),o=n(12100),l=n(85988);const c="atZHmMpyVJ8qoM6YbYdA",d="lokp6OWWTWj_WazpVjAR";var u=n(2488);const m=6048e5,p=3e5;function h(e,t,n,s=!1){const i=(0,a.QB)(e),r=function(e){const t=new Date;return!!e&&Math.floor(t.getTime()-Date.parse(e))<m}(t),o=function(e,t){return!!e||!!t&&t>p}(s,n);return i&&r&&!o}const g=s.memo((function({className:e,label:t}){const n=t||o._s.get("type.newEpisode");return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.Yl,{label:n,children:(0,u.jsx)("span",{className:r()(c,e),"aria-label":n})}),t]})})),f=s.memo((function({isMusicAndTalk:e,className:t}){const n=e?o._s.get("type.newEpisode"):o._s.get("type.newPodcastEpisode");return(0,u.jsx)(g,{label:n,className:r()(d,t)})}))},2052:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var s=n(96651),i=n(31692),r=n(71796),a=n(2488);const o=s.memo(s.forwardRef((function({className:e,children:t,options:n,style:s},o){const l=(0,r.ek)((()=>({className:"os-theme-spotify",sizeAutoCapable:!0,scrollbars:{clickScrolling:!0,autoHide:"leave",...n?.scrollbars},updateOnLoad:null,...n})),[n]);return(0,a.jsx)(i.i,{className:e,options:l,ref:o,style:s,children:t})})))},51729:(e,t,n)=>{"use strict";n.d(t,{_:()=>f});var s=n(96651),i=n(33220),r=n(52e3),a=n(58024),o=n(38848),l=n(99070),c=n(8340),d=n(95432),u=n(12100),m=n(40636);const p="main-pageErrorTemplate-errorBody";var h=n(2488);const g={"/":r.C,"/search":a.O,"/collection":o.Y},f=s.memo((function(){const e=(0,i.IT)(),t=(n=e.pathname,g[n]||l.x);var n;const{spec:r,logger:a}=(0,m.gp)(d.createDesktopErrorPageEventFactory,{data:{uri:e.pathname}}),o=(0,m.K2)(r),f=(0,s.useCallback)((()=>{const e=r.reloadPageButtonFactory().hitRefreshContent();a.logInteraction(e),window.location.reload()}),[r,a]);return(0,h.jsxs)("div",{className:p,ref:o,children:[(0,h.jsx)(t,{width:46,height:46}),(0,h.jsx)("h1",{children:u._s.get("error-dialog.generic.header")}),(0,h.jsx)("p",{children:u._s.get("error-dialog.generic.body")}),(0,h.jsx)(c.g,{onClick:f,children:u._s.get("fatal-error.button-label")})]})}))},7948:(e,t,n)=>{"use strict";n.d(t,{i:()=>y});var s=n(96651),i=n(32320),r=n(58060),a=n(96560),o=n(90376),l=n(8340),c=n(12100),d=n(5948),u=n(60016),m=n(27892),p=n(59604);const h="wTtSN5qCRogLw_ONPzid",g="Zp4roOZZCr2D0jkQgTwW";var f=n(2488);const y=function({title:e,placement:t,arrow:n,children:y}){const _=(0,p.k)(),{openURLWithSessionTransfer:b}=(0,m.W)(),[v,x]=(0,s.useState)(!1),C=(0,s.useCallback)((()=>{x(!1),b(u.u6,"_blank")}),[b]);return _?(0,f.jsx)(i.O,{onShow:()=>x(!0),onHide:()=>x(!1),placement:t,overlay:v&&(0,f.jsx)(d.W,{children:(0,f.jsx)("div",{children:(0,f.jsxs)(r._,{role:"alertdialog",popoverTitle:e,arrow:n,colorSet:"announcement",className:h,children:[c._s.get("pick-and-shuffle.upsell.message"),(0,f.jsxs)("div",{className:g,children:[(0,f.jsx)(a.u,{buttonSize:o.q.sm,onClick:()=>x(!1),children:c._s.get("pick-and-shuffle.upsell.dismiss")}),(0,f.jsx)(l.g,{buttonSize:o.q.sm,onClick:C,colorSet:"invertedLight",children:c._s.get("pick-and-shuffle.upsell.explore-premium")})]})]})})}),children:y}):y}},35332:(e,t,n)=>{"use strict";n.d(t,{eb:()=>s});n(96651),n(10124),n(12100),n(21492),n(85988);n(2488);let s=function(e){return e.primary="primary",e.secondary="secondary",e.transparent="transparent",e}({})},34328:(e,t,n)=>{"use strict";n.d(t,{e:()=>h,O:()=>g});var s=n(96651),i=n(73628),r=n(13080),a=n(79368),o=n(8340),l=n(96560),c=n(12100),d=n(85988),u=n(21492);const m="ix_8kg3iUb9VS5SmTnBY";var p=n(2488);let h=function(e){return e.primary="primary",e.secondary="secondary",e.transparent="transparent",e}({});const g=s.memo((0,s.forwardRef)((function(e,t){const{onClick:n,isPlaying:s,locked:g,version:f=h.primary,size:y="medium",disabled:_=!1,children:b,ariaPauseLabel:v,ariaPlayLabel:x,isLoading:C,condensedAll:E=!1,...S}=e,w=e=>{const{currentTarget:t,detail:i}=e;n(e),s||(0,u.W)(e,"play/resume"),i>0&&t&&t.blur()};let I=c._s.get("play"),A=i.Y;g?(I=c._s.get("mwp.header.content.unavailable"),A=r.i):s?(I=v??c._s.get("pause"),A=a.A):I=x??I;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.Yl,{label:I,showDelay:d.AL,children:(0,p.jsx)("div",{className:m,children:(()=>{const e={iconOnly:A,size:y,onClick:w,disabled:_||C,"aria-label":I,ref:t,"":"play-button",...S};switch(f){case h.secondary:return(0,p.jsx)(o.g,{...e,colorSet:"invertedLight"});case h.transparent:return(0,p.jsx)(l.u,{...e,semanticColor:"textBase",condensedAll:E});default:return(0,p.jsx)(o.g,{...e})}})()})}),b]})})))},62768:(e,t,n)=>{"use strict";n.d(t,{e:()=>f});var s=n(96651),i=n(10124),r=n.n(i),a=n(34328),o=n(49232),l=n(15040),c=n(11920),d=n(46068),u=n(38420);const m="a7Y8huZIZOVb02vySpQo";function p(){const{surface:e,isViewingVariant:t}=(0,d.Q)(),n=(0,o.IP)(l.CEK,{loadingValue:!1});if(e===c.g.PLAYLIST){return{buttonClassName:n&&t===u.Y.FC_24?m:null}}return{buttonClassName:null}}var h=n(7296),g=n(2488);const f=s.memo((function({uri:e,ariaPlayLabel:t,ariaPauseLabel:n,onClick:s,isPlaying:i,size:o,locked:l,...c}){const d=(0,h.w)(),{buttonClassName:u}=p();return(0,g.jsx)(a.O,{ariaPlayLabel:t,ariaPauseLabel:n,isPlaying:i,onClick:t=>{l||d({targetUri:e,intent:i?"pause":"play",type:"click",itemIdSuffix:"button"}),s(t)},size:o,locked:l,className:r()(u),...c})}))},88840:(e,t,n)=>{"use strict";n.d(t,{a:()=>u});var s=n(96651),i=n(73628),r=n(13080),a=n(79368),o=n(12100),l=n(85988),c=n(21492),d=n(2488);const u=s.forwardRef((function({className:e,iconClassName:t,isPlaying:n,isLocked:s,onClick:u=(()=>{}),playAriaLabel:m=o._s.get("play")},p){let h=(0,d.jsx)(i.Y,{className:t});s?h=(0,d.jsx)(r.i,{size:"large"}):n&&(h=(0,d.jsx)(a.A,{className:t}));let g=o._s.get("play");return g=s?o._s.get("mwp.header.content.unavailable"):n?o._s.get("pause"):m,(0,d.jsx)(l.Yl,{label:g,children:(0,d.jsx)("button",{onClick:e=>{u(e,n?"pause":"play"),n||(0,c.W)(e,"play/resume")},className:e,"aria-label":g,ref:p,children:h})})}))},80928:(e,t,n)=>{"use strict";n.d(t,{AN:()=>o,SA:()=>r,mw:()=>l,oY:()=>d});var s=n(96651),i=n(2488);let r=function(e){return e.TITLE="title",e.DESCRIPTION="description",e.NONE="NONE",e}({});const a={isOpen:!1,isImagePickerOpen:!1,playlistDetails:{uri:"",name:"",description:"",image:void 0},focusedElement:r.NONE},o=(0,s.createContext)(void 0),l=(0,s.createContext)(a);function c(e,t){switch(t.type){case"open":return{...e,isOpen:!0,playlistDetails:t.playlistDetails,focusedElement:t.focusedElement||r.NONE};case"close":return{...a};case"openWithImagePicker":return{...e,isOpen:!0,isImagePickerOpen:!0,playlistDetails:t.playlistDetails,focusedElement:r.NONE};default:throw new Error("Unknown action received!")}}const d=({children:e})=>{const[t,n]=(0,s.useReducer)(c,a);return(0,i.jsx)(o.Provider,{value:n,children:(0,i.jsx)(l.Provider,{value:t,children:e})})}},87820:(e,t,n)=>{"use strict";n.d(t,{O:()=>u,_:()=>d});var s=n(96651),i=n(12636),r=n(10124),a=n.n(r),o=n(56616);const l="main-contextMenu-tippyWrapper";var c=n(2488);const d={top:"top",topRight:"top-end",topLeft:"top-start",left:"left",leftTop:"left-start",leftBottom:"left-end",bottom:"bottom",bottomLeft:"bottom-start",bottomRight:"bottom-end",right:"right",rightTop:"right-start",rightBottom:"right-end",auto:"auto"},u=({visible:e,overlay:t,placement:n,children:r,childRef:d,maxWidth:u=336,hideArrow:m=!1,className:p="",tippyWrapperClassName:h,popperOptions:g={},onHide:f,zIndex:y,fadeOut:_=!1,useLazyMounting:b=!1,renderInline:v=!0,theme:x="activation",triggerTarget:C,offset:E=[0,14],aria:S,animation:w=!0})=>{const[I,A]=(0,s.useState)(!1),T=(0,s.useMemo)((()=>({onMount:()=>A(!0),onHidden:()=>A(!1)})),[]),k=(0,s.useCallback)(((e,t)=>f?.(t)),[f]),N=(0,o.y6)();return e||_?(0,c.jsx)(s.Suspense,{fallback:r??null,children:(0,c.jsx)(i.cp,{animation:!!w&&"shift-toward-subtle",maxWidth:u,aria:S,visible:e,theme:x,placement:n||"auto",interactive:!0,arrow:!m,content:I||!b?t:"",className:p,onClickOutside:k,popperOptions:g,zIndex:y,offset:E,reference:d,triggerTarget:C,...b&&T,appendTo:!N||v?void 0:()=>N.body,children:(0,c.jsx)("div",{className:a()(l,h),children:r})})}):(0,c.jsx)(c.Fragment,{children:r})}},89364:(e,t,n)=>{"use strict";n.d(t,{E:()=>m});var s=n(96651),i=n(8004),r=n(49232),a=n(12100),o=n(33912),l=n(15040),c=n(81604);const d="artist-popularTrackList-seeMore";var u=n(2488);const m=({nrTracks:e,initialTracks:t,usePlayContextItem:n})=>{const m=(0,r.IP)(l.Wwy),[p,h]=(0,s.useState)(!1),g=(0,s.useCallback)((()=>{h(!p)}),[p]),f=(0,s.useCallback)((({uri:e,contextUri:t,totalMilliseconds:s,name:i,artists:r,contentRating:a,isPlayable:l,playcount:c,imageUrl:d,albumUri:p,hasAssociatedVideo:h},g)=>(0,u.jsx)(o.E9,{index:g,uri:e,contextUri:t,totalMilliseconds:s,name:i,artists:r,isPlayable:l,contentRating:a,playcount:c||0,imageUrl:d,albumUri:p,usePlayContextItem:n,hasAssociatedVideo:h&&m},e)),[n,m]),y=(0,s.useCallback)((e=>({uri:e.uri})),[]),_=(0,s.useMemo)((()=>[o.yw.INDEX,o.yw.TITLE_AND_ARTIST,o.yw.PLAYS,o.yw.DURATION]),[]);return(0,u.jsxs)(c.oL,{value:"artist-popular-tracks-list",children:[(0,u.jsx)(o.aE,{ariaLabel:a._s.get("tracklist.popular-tracks"),renderRow:f,nrTracks:Math.min(e,p?10:5),tracks:t,resolveItem:y,columns:_}),e>5?(0,u.jsx)("button",{"aria-expanded":p,className:d,onClick:g,children:(0,u.jsx)(i.a,{as:"div",variant:"bodySmallBold",children:p?a._s.get("artist-page.tracks.showless"):a._s.get("artist-page.tracks.seemore")})}):null]})}},28080:(e,t,n)=>{"use strict";n.d(t,{P:()=>x,m:()=>b});var s=n(96651),i=n(49232),r=n(52276),a=n(14788),o=n(73635),l=n(13864),c=n(68488),d=n(53612),u=n(78808),m=n(49372);const p=e=>{const t=(0,u.A7)(e,m.cN),{metadataOptions:n,contentsOptions:s}=(0,d.G)(t,"");return(0,c._)(e,n,s)},h=({children:e,callback:t,hoverDelayMs:n=200})=>{const i=(0,s.useRef)();return s.cloneElement(e,{onMouseEnter:s=>{i.current=setTimeout(t,n),e.props.onMouseEnter?.(s)},onMouseLeave:t=>{clearTimeout(i.current),e.props.onMouseLeave?.(t)}})},g=({children:e,callback:t,...n})=>s.cloneElement(e,{onMouseDown:n=>{t(),e.props.onMouseDown?.(n)},...n}),f=({children:e,callback:t})=>{const n=(0,s.useRef)(t);return(0,s.useEffect)((()=>{n.current()}),[]),e};var y=n(15040),_=n(2488);let b=function(e){return e[e.OnMouseDown=0]="OnMouseDown",e[e.OnHover=1]="OnHover",e[e.OnRender=2]="OnRender",e}({});const v=e=>{const t=(e=>{const t=(0,a.nX)(e);switch(t?.type){case a.cH.ALBUM:return o.Y;case a.cH.PLAYLIST:case a.cH.PLAYLIST_V2:return p;case a.cH.ARTIST:return l.I;default:return()=>()=>{}}})(e.uri)(e.uri);switch(e.trigger){case b.OnMouseDown:return(0,_.jsx)(g,{callback:t,children:e.children});case b.OnHover:return(0,_.jsx)(h,{callback:t,hoverDelayMs:e.hoverDelayMs,children:e.children});case b.OnRender:return(0,_.jsx)(f,{callback:t,children:e.children});default:return(0,r.E)(e)}},x=({uri:e,trigger:t,children:n,...r})=>{const a=(0,i.IP)(y.K_l,{loadingValue:!1}),o=s.cloneElement(n,r);return a?(0,_.jsx)(s.Fragment,{children:(0,_.jsx)(v,{uri:e,trigger:t,children:o})},e):o}},90196:(e,t,n)=>{"use strict";n.d(t,{cH:()=>$});var s=n(96651),i=n(10124),r=n.n(i),a=n(85988),o=n(91664),l=n(25296),c=n(94216),d=n(18648),u=n(56616);function m(e,t,n){const s=e.current;if(null===s)return 0;const i=s.getBoundingClientRect();return"vertical"===n?1-Math.max(0,Math.min((t.clientY-i.top)/i.height,1)):Math.max(0,Math.min((t.clientX-i.left)/i.width,1))}var p=n(49232),h=(n(73952),n(97296),n(93620));const g=20,f=[{name:"dark",frames:g},{name:"normal",frames:g},{name:"dark",frames:g},{name:"normal",frames:g},{name:"dark",frames:320},{name:"dark",frames:80,isStartOfFlashlightEnter:!0},{name:"flashlight-on",frames:g},{name:"dark",frames:g},{name:"flashlight-on",frames:g},{name:"dark",frames:40},{name:"flashlight-on",isInfinite:!0},{name:"dark",frames:g,isStartOfExit:!0},{name:"flashlight-on",frames:g},{name:"dark",frames:g},{name:"flashlight-on",frames:g},{name:"dark",frames:g},{name:"normal",isInfinite:!0,isEndOfExit:!0}],y=200;function _(e,t){const n=document.createElement("canvas"),s=n.getContext("2d");if(null===s)return null;const i=Math.sqrt(e**2+t**2),r=y;return n.width=i/1.5+2*r,n.height=i+2*r,s.translate(r,r),{canvas:n,context:s,width:n.width-2*r,height:n.height-2*r,padding:r}}function b(e,t,n,s,i=0){const r=s/2*Math.PI/180,a=n/Math.cos(r),o=Math.sin(r)*a*2;e.beginPath(),e.moveTo((t-o)/2,i),e.lineTo(t/2,i+n),e.lineTo((t-o)/2+o,i),e.closePath()}function v(e,t){const n=function(e,t){const n=(0,s.useMemo)((()=>{const e=new Image;return e.src=(0,h.K)("images/stranger-things-nether-bottom-left.png"),e}),[]),i=(0,s.useMemo)((()=>{const e=new Image;return e.src=(0,h.K)("images/stranger-things-nether-bottom-right.png"),e}),[]);return function(s){if(i){const n=e-i.naturalWidth,r=t-i.naturalHeight;s.drawImage(i,0,0,i.naturalWidth,i.naturalHeight,n,r,i.naturalWidth,i.naturalHeight)}if(n){const e=0,i=t-n.naturalHeight;s.drawImage(n,0,0,n.naturalWidth,n.naturalHeight,e,i,n.naturalWidth,n.naturalHeight)}}}(e,t),[i,r]=(0,s.useState)(x(e,t)),[a,o]=(0,s.useState)(C(e,t));return(0,s.useEffect)((()=>{r(x(e,t)),o(C(e,t))}),[e,t]),(s,r,o,l)=>{if(!i||!a)return;const c=o/100,d=r.left+r.width*c,u=r.top+r.height/2;let m=0;m=c>.5?(c-.5)/.5*-60:60-c/.5*60;const p=i.width,h=i.height,g=-i.width/2,y=-i.height,_=p,b=h;s.save(),s.fillStyle="rgba(0, 0, 0, 0.85)",s.fillRect(0,0,e,t);const v=s.createLinearGradient(e/2,0,e/2,t);v.addColorStop(0,"rgba(57, 139, 216, 0.3)"),v.addColorStop(1,"rgba(0, 29, 62, 0.15)"),s.fillStyle=v,s.fillRect(0,0,e,t),"flashlight-on"===f[l].name?(s.save(),s.translate(d,u),s.rotate(m*Math.PI/180),s.globalCompositeOperation="destination-out",s.drawImage(i,0,0,p,h,g,y+100,_,b),s.restore(),n(s),s.save(),s.translate(d,u),s.rotate(m*Math.PI/180),s.globalCompositeOperation="source-over",s.drawImage(a,0,0,p,h,g,y+100,_,b),s.restore()):n(s),s.restore()}}function x(e,t){const n=_(e,t);if(!n)return null;const{canvas:s,context:i,width:r,height:a,padding:o}=n,l=i.createLinearGradient(r/2,0,r/2,a);l.addColorStop(0,"rgba(0, 0, 0, 1)"),l.addColorStop(1,"rgba(0, 0, 0, 0)");const c=i.createLinearGradient(r/2,0,r/2,a);return c.addColorStop(.7,"rgba(0, 0, 0, 1)"),c.addColorStop(1,"rgba(0, 0, 0, 0)"),i.save(),i.fillStyle="rgba(0, 0, 0, 1)",b(i,r,a,30,120),i.filter="blur(10px)",i.fill(),i.restore(),i.globalCompositeOperation="destination-out",i.fillStyle=c,i.fillRect(-o,-o,r+2*o,a+2*o),i.globalCompositeOperation="source-over",i.fillStyle="rgba(0, 0, 0, 1)",b(i,r,a,5,40),i.filter="blur(30px)",i.fill(),i.fillStyle="rgba(0, 0, 0, 1)",b(i,r,a,30,80),i.filter="blur(40px)",i.fill(),i.restore(),i.globalCompositeOperation="destination-out",i.fillStyle=l,i.fillRect(-o,-o,r+2*o,a+2*o),s}function C(e,t){const n=_(e,t);if(!n)return null;const{canvas:s,context:i,width:r,height:a,padding:o}=n;i.save(),i.fillStyle="rgba(80, 170, 255, 0.6)",b(i,r,a,30,120),i.filter="blur(10px)",i.fill(),i.restore();const l=i.createLinearGradient(r/2,0,r/2,a);l.addColorStop(.7,"rgba(0, 0, 0, 1)"),l.addColorStop(1,"rgba(0, 0, 0, 0)"),i.globalCompositeOperation="destination-out",i.fillStyle=l,i.fillRect(-o,-o,r+2*o,a+2*o),i.globalCompositeOperation="source-over",i.fillStyle="rgba(80, 170, 255, 0.8)",b(i,r,a,5,40),i.filter="blur(30px)",i.fill(),i.fillStyle="rgba(80, 170, 255, 0.4)",b(i,r,a,30,150),i.filter="blur(40px)",i.fill(),i.restore(),i.save(),i.translate(r/2,a-140),i.scale(1,10),i.fillStyle="rgba(198, 238, 251, 0.2)",i.filter="blur(24px)",i.beginPath(),i.arc(0,0,22,0,2*Math.PI),i.fill(),i.fillStyle="rgba(234, 255, 255, 0.2)",i.filter="blur(18px)",i.beginPath(),i.arc(0,0,20,0,2*Math.PI),i.fill(),i.restore(),i.save(),i.translate(r/2,a-70),i.scale(1,5),i.fillStyle="rgba(198, 238, 251, 0.1)",i.filter="blur(14px)",i.beginPath(),i.arc(0,0,18,0,2*Math.PI),i.fill(),i.fillStyle="rgba(234, 255, 255, 0.1)",i.filter="blur(8px)",i.beginPath(),i.arc(0,0,20,0,2*Math.PI),i.fill(),i.restore(),i.fillStyle="rgba(100, 190, 255, 1)",i.filter="blur(22px)",i.beginPath(),i.arc(r/2,a+100,20,0,2*Math.PI),i.fill(),i.fillStyle="rgba(198, 238, 251, 1)",i.filter="blur(4px)",i.beginPath(),i.arc(r/2,a+100,14,0,2*Math.PI),i.fill(),i.fillStyle="rgba(234, 255, 255, 1)",i.filter="blur(1px)",i.beginPath(),i.arc(r/2,a+100,12,0,2*Math.PI),i.fill();const c=i.createLinearGradient(r/2,0,r/2,a);return c.addColorStop(0,"rgba(0, 0, 0, 1)"),c.addColorStop(1,"rgba(0, 0, 0, 0)"),i.globalCompositeOperation="destination-out",i.fillStyle=c,i.fillRect(-o,-o,r+2*o,a+2*o),i.globalCompositeOperation="source-over",s}n(39568);const E=100,S=[{size:6,alpha:.5},{size:6,alpha:.4},{size:12,alpha:.3},{size:12,alpha:.3},{size:12,alpha:.3},{size:14,alpha:.2},{size:20,alpha:.2},{size:30,alpha:.2},{size:40,alpha:.1}],w=64,I=8,A=2;function T(e,t){const n=(0,s.useMemo)((()=>{const e=new Image;return e.src=(0,h.K)("images/stranger-things-spores.png"),e}),[]),[i,r]=(0,s.useState)(k(e,t));return(0,s.useEffect)((()=>{i?function(e,t,n){e.forEach((e=>{e.x=Math.random()*t,e.y=Math.random()*n}))}(i,e,t):r(k(e,t))}),[e,t,i]),function(s){null!==n&&i.forEach((i=>{i.x-=i.directionX*i.velocityX,i.y-=i.directionY*i.velocityY,i.y>t+10?(i.x=Math.random()*e,i.y=-10):i.x<-10&&(i.x=e+10,i.y=Math.random()*t);const r=i.spriteSheetX,a=i.spriteSheetY,o=w,l=w,c=i.x-i.size/2,d=i.y-i.size/2,u=i.size,m=i.size;s.save(),s.globalAlpha*=i.alpha,s.drawImage(n,r,a,o,l,c,d,u,m),s.restore()}))}}function k(e,t){const n=[];for(let s=0;s<E;s++){const s=Math.floor(Math.random()*S.length),i=Math.floor(Math.random()*I),r=Math.floor(Math.random()*A),a=S[s].size,o=S[s].alpha;n.push({alpha:o,size:a,spriteSheetX:i*w,spriteSheetY:r*w,x:Math.random()*e,y:Math.random()*t,directionX:Math.random()>.5?1:-1,directionY:Math.random()>.5?1:-1,velocityX:a/300,velocityY:a/400})}return n}class N{_subscribers=[];_active=!1;unsubscribeToActivity(e){const t=this._subscribers.findIndex((t=>t.fn===e));-1!==t&&(clearTimeout(this._subscribers[t].inactiveTimeout),this._subscribers.splice(t,1))}subscribeToActivity(e,t){this._subscribers.push({fn:t,msInactive:e,isActive:!1})}enableActivityMonitor(){window.addEventListener("mousemove",this._onActivity),window.addEventListener("mouseup",this._onActivity),window.addEventListener("keydown",this._onActivity),window.addEventListener("scroll",this._onActivity,!0)}disableActivityMonitor(){window.removeEventListener("mousemove",this._onActivity),window.removeEventListener("mouseup",this._onActivity),window.removeEventListener("keydown",this._onActivity),window.removeEventListener("scroll",this._onActivity,!0),this._subscribers.forEach((e=>clearTimeout(e.inactiveTimeout))),this._subscribers=[]}_onActivity=()=>{this._subscribers.forEach((e=>{this._active||(this._active=!0,e.fn(this._active)),clearTimeout(e.inactiveTimeout),e.inactiveTimeout=setTimeout((()=>{this._active=!1,e.fn(this._active)}),e.msInactive)}))}}class O{frame=0;lastPhaseFrame=0;phase=0;animationFrameRequestId=null;flickerTimerId=null;isPlaying=!0;start(){this.lastPhaseFrame=this.frame,this.phase=0;const e=()=>setTimeout((()=>{this.flickerTimerId=e(),this.isPlaying&&f[this.phase].isInfinite&&this.setPhase(f.findIndex((e=>e.isStartOfFlashlightEnter)))}),15e3*Math.random()+5e3);this.flickerTimerId=e()}stop(){const e=f.findIndex((e=>e.isStartOfExit));this.phase<e&&this.setPhase(e),null!==this.flickerTimerId&&clearTimeout(this.flickerTimerId)}setPhase(e){this.lastPhaseFrame=this.frame,this.phase=e}}const P="L3fGAKcaGZCw9diio8aV";var j=n(2488);const L=e=>{const{getPercentage:t,isDragging:n=!1,isPlayingStrangerThings:i=!1,progressBar:r}=e,a=(0,s.useMemo)((()=>new N),[]),o=(0,s.useMemo)((()=>new O),[]),l=(0,s.useRef)(null),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(window.innerHeight),[p,h]=(0,s.useState)(window.innerWidth),[g,y]=(0,s.useState)(!1),[_,b]=(0,s.useState)(!1),x=T(p,u),C=v(p,u),E=(0,s.useCallback)((e=>{!n&&i&&(e?o.stop():(o.start(),b(!0)))}),[n,i,o]),S=(0,s.useCallback)((()=>{i&&(o.setPhase(f.findIndex((e=>e.isStartOfFlashlightEnter))),b(!0))}),[i,o]),w=(0,s.useCallback)((()=>{o.stop()}),[o]),I=(0,s.useCallback)((()=>{if(!_)return void y(!0);y(!1);const e=window.innerHeight,t=window.innerWidth;h(t),m(e)}),[_]),A=(0,s.useCallback)((()=>{if(!l.current)return;const{frame:e,lastPhaseFrame:n,phase:s}=o;if(o.frame=e+1,f[s].isEndOfExit)b(!1);else{if(f[s].isInfinite||e-n===f[s].frames&&o.setPhase(s+1),l.current.width=p,l.current.height=u,"normal"!==f[s].name){const e=l.current.getContext("2d");if(!e||!c)return;const n=t();C(e,c,n,s),x(e)}o.animationFrameRequestId=requestAnimationFrame(A)}}),[u,p,C,x,t,c,o]);return(0,s.useEffect)((()=>{window.addEventListener("resize",I);const e=a;return e.enableActivityMonitor(),e.subscribeToActivity(5e3,E),()=>{window.removeEventListener("resize",I),e.disableActivityMonitor(),e.unsubscribeToActivity(E)}}),[a,E,I]),(0,s.useEffect)((()=>{i||o.stop()}),[i,o]),(0,s.useEffect)((()=>{n?S():n||w()}),[n,S,w]),(0,s.useEffect)((()=>{_?(g&&I(),o.animationFrameRequestId=requestAnimationFrame(A)):o.animationFrameRequestId&&cancelAnimationFrame(o.animationFrameRequestId)}),[_,A,I,g,o]),(0,s.useEffect)((()=>{r.current&&d(r.current.getBoundingClientRect())}),[p,u,r]),_?(0,j.jsx)("canvas",{className:P,ref:l,width:p,height:u}):null};var R=n(15040);const D=e=>(0,p.IP)(R.QPN,{loadingValue:!1})&&e.isPlayingStrangerThings?(0,j.jsx)(L,{...e}):null;var M=n(77240);const U="playback-progressbar",F="playback-progressbar-isInteractive",B="progress-bar",G="x-progressBar-progressBarBg",V="x-progressBar-sliderArea",H="x-progressBar-fillColor",W="VI_bMRxDl9fS6qksct7W",z="sW0M_K97doEB3B4Ts58i",Y="progress-bar--isDragging",K="progress-bar__slider",q="DlESgEm0QGtHnESM1mnR",Q="iA1oALYKD8NxtvpRUsT_",X="hMaF66LFzK4KCraLsIXS",$=({value:e,max:t,step:n,labelText:i,isInteractive:p=!0,forceActiveStyles:h=!1,onDragStart:g,onDragMove:f,onDragEnd:y,onStepForward:_,onStepBackward:b,saberConfig:v=null,isPlayingStrangerThings:x=!1,isAttackOnTitanEasterEggActive:C,customPlaybackHandle:E,customPlaybackHandleType:S,direction:w="horizontal",...I})=>{const A=(0,s.useRef)(null),{isDragging:T,onMouseDown:k}=(({progressBarRef:e,onDragStart:t,onDragMove:n,onDragEnd:i,direction:r="horizontal"})=>{const[a,o]=(0,s.useState)(!1),l=(0,s.useRef)(!1),c=(0,u.y6)(),p=(0,s.useRef)(t),h=(0,s.useRef)(n),g=(0,s.useRef)(i);p.current=t,h.current=n,g.current=i;const f=(0,d.yK)((t=>{h.current(m(e,t,r)),l.current=!0}),20,{leading:!0,maxWait:20});return{isDragging:a,onMouseDown:(0,s.useCallback)((t=>{const n=t=>{o(!1),f.cancel(),g.current(m(e,t,r),{wasDraggedBeforeReleased:l.current}),c?.removeEventListener("mousemove",f),l.current=!1};0===t.button&&(p.current(m(e,t,r)),o(!0),c?.addEventListener("mousemove",f),c?.addEventListener("mouseup",n,{once:!0}),l.current=!1)}),[f,e,r,c])}})({progressBarRef:A,onDragStart:g,onDragMove:f,onDragEnd:y,direction:w}),N=p?100*Math.max(0,Math.min(1,e/t)):0,O=h||T,P=p&&null!==v,L=p&&!(0,c.q)(),R=(({onStepForward:e,onStepBackward:t,value:n})=>(0,d.yK)((s=>{parseFloat(s.target.value)>n?e?.():t?.()}),100,{trailing:!1,leading:!0,maxWait:200}))({onStepForward:_,onStepBackward:b,value:e}),$=(0,s.useCallback)((()=>N),[N]);return(0,j.jsxs)("div",{className:r()(U,{[F]:p}),"":I["data-testid"],children:[(0,j.jsx)(M.q,{disabled:!p,type:"range",min:0,max:t,value:e,step:n,onChange:R,"aria-valuetext":I["aria-valuetext"],children:i}),(0,j.jsxs)("div",{className:r()(B,{[W]:null!==v,[Y]:O}),style:{...P?v:null,"--progress-bar-transform":`${N}%`,...C?{"--fg-color":o.a,"--is-active-fg-color":o.a}:null},onMouseDown:k,"":"progress-bar",children:[P?(0,j.jsx)("div",{className:z,"":"progress-bar-saber-overlay"}):null,(0,j.jsxs)("div",{ref:A,className:G,"":"progress-bar-background",children:[(0,j.jsx)("div",{className:V,children:(0,j.jsx)("div",{className:H})}),E?(0,j.jsx)(a.Yl,{label:E.name,showDelay:2250,children:(0,j.jsx)("div",{className:q,children:(0,j.jsx)("img",{className:r()(Q,{[X]:S===l.C.TURTLE}),src:E.url,alt:E.name})})}):(0,j.jsx)("div",{className:K})]}),L&&(0,j.jsx)("div",{style:{width:"100%"},children:(0,j.jsx)(D,{getPercentage:$,progressBar:A,isPlayingStrangerThings:x,isDragging:T})})]})]})}},18748:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var s=n(96651);const i="main-progressRing-circleShadow",r="main-progressRing-circleColor";var a=n(2488);const o=20*Math.PI,l=s.memo((function({percentage:e,size:t,ariaValueText:n},s){const l=o-e/100*o;return(0,a.jsxs)("svg",{height:t,width:t,viewBox:"0 0 24 24",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(e),...n?{"aria-valuetext":n}:{},...s,children:[(0,a.jsx)("circle",{className:i,r:"10",cx:"12",cy:"12"}),(0,a.jsx)("circle",{"":"circleColor",className:r,strokeDasharray:`${o} ${o}`,strokeDashoffset:`${l}`,r:"10",cx:"12",cy:"12"}),(0,a.jsx)("rect",{width:"6",height:"6",fill:"white",x:"9",y:"9"})]})}))},19804:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var s=n(96651),i=n(12100),r=n(15708),a=n(2488);const o=s.memo((function({onClose:e,onRemove:t,isOpen:n,tracks:s,title:o}){return(0,a.jsx)(r.c,{"aria-label":o,titleText:o,onConfirm:n=>{t(s),e(n)},onClose:e,confirmText:i._s.get("remove"),descriptionText:i._s.get("playlist.remove_multiple_description"),cancelText:i._s.get("playlist.delete-cancel"),isOpen:n})}))},43460:(e,t,n)=>{"use strict";n.d(t,{ER:()=>a,K:()=>o,gT:()=>r});var s=n(96651),i=n(2488);const r=(0,s.createContext)({ids:[],setIds:()=>{},dropOriginUri:void 0,setDropOriginUri:()=>{},sectionId:0,setSectionId:()=>{},draggingIsInProgress:!1,setDraggingIsInProgress:()=>{}}),a=({children:e})=>{const[t,n]=(0,s.useState)([]),[a,o]=(0,s.useState)(void 0),[l,c]=(0,s.useState)(0),[d,u]=(0,s.useState)(!1);return(0,i.jsx)(r.Provider,{value:{ids:t,setIds:n,dropOriginUri:a,setDropOriginUri:o,sectionId:l,setSectionId:c,draggingIsInProgress:d,setDraggingIsInProgress:u},children:e})};function o(){return(0,s.useContext)(r).ids}},74356:(e,t,n)=>{"use strict";n.d(t,{k5:()=>o,yy:()=>a});var s=n(96651),i=n(2488);const r=(0,s.createContext)(null),a=({children:e,mainLandmarkRef:t,lyricsCinemaRef:n,leftSidebarRef:s,nowPlayingBarRef:a})=>(0,i.jsx)(r.Provider,{value:{mainLandmarkRef:t,lyricsCinemaRef:n,leftSidebarRef:s,nowPlayingBarRef:a},children:e}),o=()=>{const e=(0,s.useContext)(r);if(null===e)throw new Error("GlobalElementRefsContext used without being initialized.");return e}},12444:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c,o:()=>d});var s=n(96651),i=n(18648),r=n(81040),a=n(77808),o=n(90615);const l=30;function c(){const e=parseInt(o.c.TRACKLIST_HEADER_HEIGHT,10),t=a.QJ+e;d((0,r.Iz)(),t,30)}function d(e,t=l,n=l,r=l,a=200){const o=(0,i.yK)((t=>{if(!e.current)return;const n=t<0?-1:1,s=100*t*t;e.current.scrollTop=e.current.scrollTop+n*s}),50,{leading:!0,trailing:!1,maxWait:50}),c=(0,s.useCallback)((()=>{if(!e.current)return;let s=0,i=0,l=null,c=Date.now(),d=0;const u=e.current.getBoundingClientRect(),m=()=>{l&&window.cancelAnimationFrame(l),l=null,o.cancel()},p=()=>{o(d),l=window.requestAnimationFrame(p)},h=e=>{s=e.clientY,i=e.clientX,d=(()=>{const{top:e,right:o,bottom:l,left:d}=u;if(!(i>=d&&i<=o))return 0;const m=e,p=e+t+r,h=l-n-r,g=l;let f=0;const y=s>=m&&s<=p,_=s>=h&&s<=g,b=Date.now()-c;if(y&&b>a)if(s<p-r)f=-1;else{const e=m+t;f=(s-e)/(p-e)-1}else _&&b>a&&(f=s>g-r?1:(s-h)/(g-n-h));return y||_||(c=Date.now()),f})(),0!==d?l??=window.requestAnimationFrame(p):m()},g=()=>{m(),document.removeEventListener("dragover",h)};document.addEventListener("dragend",g,{once:!0}),document.addEventListener("drop",g,{once:!0}),document.addEventListener("pointerup",g,{once:!0}),document.addEventListener("dragover",h)}),[r,n,t,a,e,o]);(0,s.useEffect)((()=>(document.addEventListener("dragstart",c),()=>{document.removeEventListener("dragstart",c)})),[c])}},29724:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,M:()=>o});var s=n(96651),i=n(37116),r=n(2488);const a=e=>Boolean(e);function o({uri:e,children:t,defaultState:n,sortContext:o,localStorageKey:l="sortedState",validator:c=a}){const[d={},u]=(0,i.k)(l,{}),m=(0,s.useRef)(d);(0,s.useEffect)((()=>{m.current=d}));const p=(0,s.useCallback)((t=>{if(JSON.stringify(t)===JSON.stringify(n)){const t={...m.current};delete t[e],u(t)}else u({...m.current,[e]:t})}),[n,u,e]),h=(0,s.useMemo)((()=>{const t=d[e];return{sortState:c(t)?t:n,setSortState:p}}),[d,e,c,n,p]);return(0,r.jsx)(o.Provider,{value:h,children:t})}const l=(e,t,n="sortedState",s=a)=>{const[r={}]=(0,i.k)(n,{}),o=r[e];return s(o)?o:t}},18040:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SeeAll:()=>u,default:()=>m});var s=n(96651),i=n(10124),r=n.n(i),a=n(8004),o=n(12100),l=n(11732);const c="search-recentSearches-seeAll";var d=n(2488);const u=(0,s.memo)((function(e){const{link:t,pageId:n,className:s,label:i,state:u,pathname:m,onClick:p}=e;return(0,d.jsx)(l.default,{to:t,className:r()(c,s),pageId:n,state:u,pathname:m,"":e["data-testid"],onClick:p,children:(0,d.jsx)(a.a,{variant:"bodySmallBold",children:i||o._s.get("search.see-all")})})})),m=u},90496:(e,t,n)=>{"use strict";n.d(t,{c:()=>l});var s=n(40636),i=n(29384),r=n(96651),a=n(35528);var o=n(2488);const l=({index:e,id:t,...n})=>{const{seeAllUri:l}=n,{onClickShelfTitle:c,onClickShelfSeeAll:d,spec:u}=(({seeAllUri:e,index:t,id:n})=>{const{spec:i,logger:o}=(0,s.gp)(a.o,{data:{identifier:n,position:t,uri:e??""}}),l=(0,r.useCallback)((()=>{const e=i.swipeUiReveal();o.logInteraction(e)}),[o,i]),c=(0,r.useCallback)((e=>{const t=i.shelfHeaderFactory().shelfCarouselControlsFactory(),n="next"===e?t.shelfCarouselControlsNextFactory():t.shelfCarouselControlsPreviousFactory();o.logInteraction(n.hitUiReveal())}),[o,i]);return{onClickShelfTitle:(0,r.useCallback)((()=>{const t=i.shelfHeaderFactory().shelfHeaderTitleFactory().hitUiNavigate({destination:e??""});o.logInteraction(t)}),[o,e,i]),onClickShelfSeeAll:(0,r.useCallback)((()=>{const t=i.shelfHeaderFactory().shelfHeaderSeeAllFactory().hitUiNavigate({destination:e??""});o.logInteraction(t)}),[o,e,i]),onSwipe:l,onClickCarouselControls:c,spec:i}})({seeAllUri:l,index:e,id:t});return(0,o.jsx)(s.Ud,{spec:u,children:(0,o.jsx)(i.y,{...n,onClickShelfTitle:c,onClickShelfSeeAll:d})})}},29384:(e,t,n)=>{"use strict";n.d(t,{y:()=>T});n(73952),n(97296);var s=n(96651),i=n(10124),r=n.n(i),a=n(49232),o=n(73670),l=n(2284),c=n(25620),d=n(26208),u=n(87668),m=n(45008),p=n(90464),h=n(82960),g=n(89872),f=n(12100),y=n(11732);const _="wPxPHYvMnLIjAdubiOBB",b="VFhWb3KBXEqkAi9XtTEQ",v="_HnlZlDZv0UbjotlEX6P";var x=n(2488);const C=(0,s.lazy)((()=>Promise.resolve().then(n.bind(n,18040)))),E=s.memo((function({pretitle:e,title:t,media:n,titleVariant:i="canon",seeAllUri:a,pageId:o,hasMoreElements:l,seeAllLabel:c=f._s.get("shelf.see-all"),className:d,seeAllProps:u,onClickTitle:E,onClickSeeAll:S}){return(0,x.jsx)(h.U,{"":"list-row-shelf-header",id:"header-only",pretitle:(0,x.jsx)(m.Y,{variant:"mesto",semanticColor:"textSubdued",children:e}),className:r()(_,d),title:(0,x.jsx)(m.Y,{variant:i,semanticColor:"textBase",children:l?(0,x.jsx)(y.Link,{"":"see-all-link",to:a||"",pageId:o,onClick:E,..."boolean"==typeof l?void 0:l,children:t}):(0,x.jsx)(p.F,{variant:i,semanticColor:"textBase",tabIndex:-1,children:t})}),media:(0,x.jsx)(g.e,{className:v,src:n,circle:!0}),trailing:l&&(0,x.jsx)(s.Suspense,{fallback:!0,children:(0,x.jsx)(C,{link:a||"",className:b,pageId:o,onClick:S,label:c,..."boolean"==typeof l?void 0:l,...u})})})}));var S=n(33584),w=n(15040),I=n(4484);const A=s.memo((function({title:e,tagline:t,children:n,seeAllUri:i,showAll:o,className:u="",total:m,testId:p="component",pageId:h,seeAllLabel:g,alwaysShowSeeAll:f=!1,showSeeAll:y=!0,onClickShelfTitle:_,onClickShelfSeeAll:b,elementRef:v,renderSubHeader:C,listRowHeaderProps:A,forceTitleClickNavigation:T,rowGap:k,colGap:N,gridConfigOverride:O,removeOffsetMargin:P=!1}){const[j,L]=(0,s.useState)(0),R=(0,a.IP)(w.M1F),D=R?d.AZ.ENCORE_CARDS:d.AZ.DEFAULT,M=(0,d._B)(O??D),U=(0,s.useCallback)((({columnCount:e})=>{L(e)}),[]),F=(0,s.useCallback)((({columnCount:e})=>(0,x.jsx)(x.Fragment,{children:o?n:Array.isArray(n)&&n.flat().filter(((t,n)=>n<e))})),[o,n]);if(Array.isArray(n)&&0===n.length)return null;const B=!!y&&((m&&m>j||f)&&!!i&&!o);return(0,x.jsxs)("section",{ref:v,className:r()(u,I.c.shelf,"Shelf"),"":`${p}-shelf`,"aria-label":e,children:[e&&(0,x.jsx)("div",{className:I.c.header,children:A?(0,x.jsx)(E,{seeAllUri:i,seeAllLabel:g,pageId:h,hasMoreElements:B,onClickTitle:_,onClickSeeAll:b,...A}):(0,x.jsx)(S.q,{title:e,tagline:t,seeAllUri:i,seeAllLabel:g,pageId:h,hasMoreElements:B,onClickTitle:_,onClickSeeAll:b,forceTitleClickNavigation:T})}),C&&(0,x.jsx)("div",{className:I.c.subHeader,children:C()}),(0,x.jsx)(c.E,{config:M,children:(0,x.jsx)(l.C,{className:r()(I.c.shelfGrid,{[I.c.showAll]:o}),render:F,onLayoutChange:U,rowGap:k,colGap:N,removeOffsetMargin:!R||P})})]})}));A.displayName="BaseShelf";const T=e=>(0,x.jsx)(o.a,{onError:e=>{(0,u.gh)(e,"Shelf")},children:(0,x.jsx)(A,{...e})})},33584:(e,t,n)=>{"use strict";n.d(t,{q:()=>g});var s=n(96651),i=n(10124),r=n.n(i),a=n(90464),o=n(8004),l=n(49232),c=n(12100),d=n(18040),u=n(15040),m=n(11732),p=n(4484),h=n(2488);const g=s.memo((function({title:e,titleVariant:t="canon",tagline:n,seeAllUri:s,pageId:i,hasMoreElements:g,seeAllLabel:f=c._s.get("shelf.see-all"),className:y,seeAllProps:_,onClickTitle:b,onClickSeeAll:v,forceTitleClickNavigation:x}){const C=(0,l.IP)(u.M1F);return(0,h.jsxs)("div",{className:r()(p.c.topRow,{[p.c.topRowSpacer]:!C||n},y),children:[(0,h.jsxs)("div",{className:p.c.titleWrapper,children:[g||x?(0,h.jsx)(a.F,{as:"h2",variant:t,semanticColor:"textBase",children:(0,h.jsx)(m.Link,{"":"see-all-link",to:s||"",pageId:i,className:p.c.title,onClick:b,..."boolean"==typeof g?void 0:g,children:e})}):(0,h.jsx)(a.F,{as:"h2",variant:t,semanticColor:"textBase",className:p.c.title,tabIndex:-1,children:e}),n&&(0,h.jsx)(o.a,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",children:n})]}),g&&(0,h.jsx)(d.default,{link:s||"",className:p.c.seeAll,pageId:i,onClick:v,label:f,..."boolean"==typeof g?void 0:g,..._})]})}))},25892:(e,t,n)=>{"use strict";n.d(t,{i:()=>h});n(73952),n(97296);var s=n(96651),i=n(10124),r=n.n(i),a=n(49232),o=n(2284),l=n(25620),c=n(26208),d=n(15040),u=n(23482),m=n(4484),p=n(2488);const h=(0,s.memo)((({children:e,isLoading:t,showAll:n,withTitle:i})=>{const h=(0,s.useCallback)((({columnCount:t})=>(0,p.jsx)(p.Fragment,{children:n?e:Array.isArray(e)&&e.filter(((e,n)=>n<t))})),[e,n]),g=(0,a.IP)(d.M1F),f=g?(0,c._B)(c.AZ.ENCORE_CARDS):(0,c._B)(c.AZ.DEFAULT);return Array.isArray(e)&&0===e.length?null:(0,p.jsxs)("section",{className:m.c.skeletonShelf,"":"skeleton-shelf",children:[i&&(0,p.jsx)("div",{className:m.c.header,children:(0,p.jsx)("div",{className:m.c.topRow,children:(0,p.jsx)("div",{className:m.c.titleWrapper,children:(0,p.jsx)(u.O,{as:"span",charCount:25,className:m.c.title,isLoading:t})})})}),(0,p.jsx)(l.E,{config:f,children:(0,p.jsx)(o.C,{className:r()(m.c.shelfGrid,{[m.c.showAll]:n,[m.c.encoreSkeletonShelfGrid]:g}),render:h})})]})}))},23482:(e,t,n)=>{"use strict";n.d(t,{O:()=>d});var s=n(10124),i=n.n(s),r=n(8004),a=n(5864);const o="dxnMpEuxRQ5Ml60ftDcz",l="jFPYamKaGvZv7JA45KCu";var c=n(2488);const d=({as:e,variant:t,className:n,charCount:s,isLoading:d})=>{const u=(0,a.S)("shimmer");return(0,c.jsx)(r.a,{ref:u,as:e,variant:t,className:i()(o,n,{[l]:d}),style:{width:s?`${s}ch`:void 0},tabIndex:-1,"aria-hidden":!0})}},51080:(e,t,n)=>{"use strict";n.d(t,{c:()=>d});const s="liKqY2CEkAKTwX2SfNCu",i="fwTMCeAaUoWDj9WcQbgy",r="bEEDwYBSsninmQ7a4QK9";var a=n(10124),o=n.n(a),l=n(76872),c=n(2488);const d=({className:e,noLink:t=!1,customLink:n="/",hasText:a=!1})=>{const d=(0,c.jsxs)("svg",{viewBox:"0 0 167.5 167.5",className:o()(r),children:[(0,c.jsx)("title",{children:"Spotify"}),(0,c.jsx)("path",{fill:"currentColor",d:"M83.7 0C37.5 0 0 37.5 0 83.7c0 46.3 37.5 83.7 83.7 83.7 46.3 0 83.7-37.5 83.7-83.7S130 0 83.7 0zM122 120.8c-1.4 2.5-4.6 3.2-7 1.7-19.8-12-44.5-14.7-73.7-8-2.8.5-5.6-1.2-6.2-4-.2-2.8 1.5-5.6 4-6.2 32-7.3 59.6-4.2 81.6 9.3 2.6 1.5 3.4 4.7 1.8 7.2zM132.5 98c-2 3-6 4-9 2.2-22.5-14-56.8-18-83.4-9.8-3.2 1-7-1-8-4.3s1-7 4.6-8c30.4-9 68.2-4.5 94 11 3 2 4 6 2 9zm1-23.8c-27-16-71.6-17.5-97.4-9.7-4 1.3-8.2-1-9.5-5.2-1.3-4 1-8.5 5.2-9.8 29.6-9 78.8-7.2 109.8 11.2 3.7 2.2 5 7 2.7 10.7-2 3.8-7 5-10.6 2.8z"})]}),u=(0,c.jsxs)("svg",{viewBox:"0 0 1134 340",className:o()(i),children:[(0,c.jsx)("title",{children:"Spotify"}),(0,c.jsx)("path",{fill:"currentColor",d:"M8 171c0 92 76 168 168 168s168-76 168-168S268 4 176 4 8 79 8 171zm230 78c-39-24-89-30-147-17-14 2-16-18-4-20 64-15 118-8 162 19 11 7 0 24-11 18zm17-45c-45-28-114-36-167-20-17 5-23-21-7-25 61-18 136-9 188 23 14 9 0 31-14 22zM80 133c-17 6-28-23-9-30 59-18 159-15 221 22 17 9 1 37-17 27-54-32-144-35-195-19zm379 91c-17 0-33-6-47-20-1 0-1 1-1 1l-16 19c-1 1-1 2 0 3 18 16 40 24 64 24 34 0 55-19 55-47 0-24-15-37-50-46-29-7-34-12-34-22s10-16 23-16 25 5 39 15c0 0 1 1 2 1s1-1 1-1l14-20c1-1 1-1 0-2-16-13-35-20-56-20-31 0-53 19-53 46 0 29 20 38 52 46 28 6 32 12 32 22 0 11-10 17-25 17zm95-77v-13c0-1-1-2-2-2h-26c-1 0-2 1-2 2v147c0 1 1 2 2 2h26c1 0 2-1 2-2v-46c10 11 21 16 36 16 27 0 54-21 54-61s-27-60-54-60c-15 0-26 5-36 17zm30 78c-18 0-31-15-31-35s13-34 31-34 30 14 30 34-12 35-30 35zm68-34c0 34 27 60 62 60s62-27 62-61-26-60-61-60-63 27-63 61zm30-1c0-20 13-34 32-34s33 15 33 35-13 34-32 34-33-15-33-35zm140-58v-29c0-1 0-2-1-2h-26c-1 0-2 1-2 2v29h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v58c0 23 11 35 34 35 9 0 18-2 25-6 1 0 1-1 1-2v-21c0-1 0-2-1-2h-2c-5 3-11 4-16 4-8 0-12-4-12-12v-54h30c1 0 2-1 2-2v-22c0-1-1-2-2-2h-30zm129-3c0-11 4-15 13-15 5 0 10 0 15 2h1s1-1 1-2V93c0-1 0-2-1-2-5-2-12-3-22-3-24 0-36 14-36 39v5h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v89c0 1 1 2 2 2h26c1 0 1-1 1-2v-89h25l37 89c-4 9-8 11-14 11-5 0-10-1-15-4h-1l-1 1-9 19c0 1 0 3 1 3 9 5 17 7 27 7 19 0 30-9 39-33l45-116v-2c0-1-1-1-2-1h-27c-1 0-1 1-1 2l-28 78-30-78c0-1-1-2-2-2h-44v-3zm-83 3c-1 0-2 1-2 2v113c0 1 1 2 2 2h26c1 0 1-1 1-2V134c0-1 0-2-1-2h-26zm-6-33c0 10 9 19 19 19s18-9 18-19-8-18-18-18-19 8-19 18zm245 69c10 0 19-8 19-18s-9-18-19-18-18 8-18 18 8 18 18 18zm0-34c9 0 17 7 17 16s-8 16-17 16-16-7-16-16 7-16 16-16zm4 18c3-1 5-3 5-6 0-4-4-6-8-6h-8v19h4v-6h4l4 6h5zm-3-9c2 0 4 1 4 3s-2 3-4 3h-4v-6h4z"})]}),m=a?u:d;return t?(0,c.jsx)("div",{className:o()(s,e),children:m}):n.startsWith("https://")?(0,c.jsx)("a",{href:n,className:o()(s,e),children:m}):(0,c.jsx)(l.A,{to:n,className:o()(s,e),children:m})}},2732:(e,t,n)=>{"use strict";n.d(t,{q:()=>u});var s=n(10124),i=n.n(s);const r="x-toggle-wrapper",a="x-toggle-indicator",o="JCFCfOY_6UEZZSOO2xrl",l="x-toggle-indicatorWrapper",c="x-toggle-input";var d=n(2488);const u=({value:e,disabled:t,onSelected:n,id:s,className:u,condensed:m=!1,inputRef:p})=>(0,d.jsxs)("label",{className:i()(r,u),children:[(0,d.jsx)("input",{id:s,className:c,type:"checkbox",disabled:t,checked:e,onChange:e=>{const t=e.target.checked;n(t)},ref:p}),(0,d.jsx)("span",{className:i()(l,{[o]:m}),children:(0,d.jsx)("span",{className:i()(a,{[o]:m})})})]})},43052:(e,t,n)=>{"use strict";n.d(t,{J:()=>d});var s=n(96651),i=n(10124),r=n.n(i),a=n(66112),o=n(24540),l=n(66487),c=n(2488);const d=({children:e,className:t=""})=>{const{elementRef:n}=s.useContext(o.U),i=r()(l.c.topbarContent,t);return n?(0,a.createPortal)((0,c.jsx)("div",{"":"topbar-content",className:i,children:e}),n):null}},24540:(e,t,n)=>{"use strict";n.d(t,{U:()=>r,u:()=>a});var s=n(96651),i=n(2488);const r=s.createContext({}),a=({children:e})=>{const[t,n]=s.useState();return(0,i.jsx)(r.Provider,{value:{elementRef:t,setElementRef:n},children:e})}},83336:(e,t,n)=>{"use strict";n.d(t,{G:()=>u,o:()=>c});var s=n(12100),i=n(21884),r=n(7392),a=n(83496),o=n(53e3),l=n(2488);const c="loginButton",d={isCTA:!1,placement:o.y.bottomLeft,shouldHideOnOutsideClick:({triggerAction:e})=>!e||e.type!==i.sL,getTitle:({triggerAction:e})=>e?.type===a.S_.SAVE_PRERELEASE?s._s.get("action-trigger.log-in-or-sign-up"):s._s.get("action-trigger.logged-out"),getDescription:({triggerAction:e})=>{switch(e?.type){case r.i2.ADD_TO_QUEUE:return s._s.get("action-trigger.logged-out-queue");case a.MN.START_RADIO:return s._s.get("action-trigger.logged-out-radio");case a.S_.SAVE_TRACK:return s._s.get("action-trigger.log-in-like-action");case a.S_.SAVE_ALBUM:return s._s.get("action-trigger.save-album");case a.S_.SAVE_PRERELEASE:return s._s.get("web-player.album-prerelease.anonymous_presave");case a.YT.FOLLOW_USER:return s._s.get("action-trigger.log-in-follow-profile");case i.sL:return"track"===e?.entityType?s._s.get("action-trigger.logged-out-full-track"):s._s.get("action-trigger.logged-out-synced");default:return s._s.get("action-trigger.logged-out-continue")}}},u=({children:e})=>(0,l.jsx)(o.e,{id:c,options:d,children:e})},48256:(e,t,n)=>{"use strict";n.d(t,{A:()=>h,U:()=>p});n(73952),n(97296),n(41260);var s=n(10124),i=n.n(s),r=n(96651),a=n(92628),o=n(11732);const l="nLNTsyonBwoRIzAv1AME",c="E4I5I7G2CfW32hLWZaqE",d="w4ZoklZWkrsyrVA34vI8";var u=n(2488);const m=({title:e,uri:t,className:n,onClick:s,position:l})=>{const m=(0,r.useCallback)((e=>{s?.(e,{uri:t,position:l})}),[s,l,t]);return(0,u.jsx)(o.Link,{"aria-label":e,className:i()(c,d,n),to:t,onClick:m,children:(0,u.jsx)(a.a,{as:"span",children:e})})};function p(e){return!!e.uri&&!!e.title}const h=({topics:e,className:t,onClick:n})=>(0,u.jsx)("div",{className:i()(l,t),children:e.filter(p).map(((e,t)=>(0,u.jsx)(m,{title:e.title,uri:e.uri,position:t,onClick:n},e.uri)))})},24372:(e,t,n)=>{"use strict";n.d(t,{hN:()=>o,yA:()=>l});var s=n(96651),i=n(2488);const r=[0,()=>{}],a=(0,s.createContext)(r),o=({children:e})=>{const t=(0,s.useState)(0);return(0,i.jsx)(a.Provider,{value:t,children:e})},l=()=>{const e=(0,s.useContext)(a);if(!e)throw Error("useNrValidItemsContext must be used within a NrValidItemsProvider");return e}},49620:(e,t,n)=>{"use strict";n.d(t,{M:()=>o,q:()=>a});n(73952),n(39568);var s=n(96651),i=n(40104),r=n(2488);const a=(0,s.createContext)({toggleSelected:()=>!1,isSelected:()=>!1,getSelected:()=>[],clearSelected:()=>{},selectAll:()=>{},pushPopSelected:()=>{}});function o({resolveItem:e,getItems:t,nrTracks:n,children:o}){const l=(0,s.useRef)([{index:0,range:[]}]),c=(0,s.useContext)(i.Iv),{canMoveMultipleItems:d}=c.getCapabilities(),u=(0,s.useRef)({}),[m,p]=(0,s.useState)(0),h=e=>{u.current=e(u.current),p((e=>e+1))},g=e=>t(e,e,{cachedOnly:!0})[0],f=()=>{Object.keys(u.current).length>0&&h((()=>({}))),l.current=[{index:0,range:[]}]},y=t=>{const n=g(t);if(!n)return!1;const{uid:s=t.toString()}=e(n,t);return Boolean(n&&u.current[s])},_=t=>{y(t)?(t=>{const n=g(t),{uid:s=t.toString()}=e(n,t);h((e=>(delete e[s],{...e}))),l.current.length>1&&l.current.pop()})(t):(t=>{const n=g(t);if(!n)return;const{uri:s,uid:i=t.toString(),type:r}=e(n,t);s&&i&&(h((e=>({...e,[i]:{uid:i,uri:s,index:t,type:r}}))),l.current.push({index:t,range:[]}))})(t)};return(0,r.jsx)(a.Provider,{value:{toggleSelected:(t,n,s)=>{d&&(n||s)||f(),d&&n?(t=>{const n={...u.current},s=l.current[l.current.length-1];s.range.forEach((e=>{delete n[e]})),s.range=[];const i=Math.min(s.index,t),r=Math.max(s.index,t);for(let t=i;t<=r;t++){const i=g(t);if(!i)continue;const{uri:r,uid:a=t.toString(),type:o}=e(i,t);r&&a&&(n[a]={uid:a,uri:r,index:t,type:o},s.range.push(t))}h((()=>n))})(t):_(t)},isSelected:y,getSelected:()=>Object.values(u.current).sort(((e,t)=>e.index-t.index)),clearSelected:f,selectAll:()=>{const s=t(0,n,{cachedOnly:!0}),i={},r=Array.from(Array(n).keys());for(let t=0;t<=n;t++){const n=s[t];if(!n)continue;const{uri:r,uid:a=t.toString(),type:o}=e(n,t);r&&a&&(i[a]={uid:a,uri:r,index:t,type:o})}h((()=>i)),l.current=[{index:0,range:r}]},pushPopSelected:(e,t)=>{d||f();const n=e+t,s=y(e),i=y(n);i?_(e):s&&!i?_(n):s||i||(_(n),_(e))}},children:o})}},45060:(e,t,n)=>{"use strict";n.d(t,{U:()=>S,i:()=>w});n(73952),n(97768),n(39568),n(41260);var s=n(96651),i=n(10124),r=n.n(i),a=n(4564),o=n(18648),l=n(71796),c=n(14788),d=n(12100),u=n(16228),m=n(52751),p=n(60016),h=n(40636),g=n(65252),f=n(71848),y=n(49620),_=n(33508),b=n(92292),v=n(7296),x=n(68964),C=n(94496),E=n(2488);let S=function(e){return e[e.None=0]="None",e[e.Before=1]="Before",e[e.After=2]="After",e}({});const w=({children:e,uri:t,index:n,ariaRowIndex:i,dragMetadata:w,draggable:I=!0,contextUri:A,isPlayable:T,ageRestricted:k,showUnplayableAsEnabled:N=!1,onTriggerPlay:O,onTriggerPaywall:P,isActive:j,onMove:L,onContextMenu:R,onInsert:D,allowedDropTypes:M=[],initialSelectedState:U=!1,spec:F,canRemovePlaylistItems:B,removePlaylistItems:G,isLocked:V,onDoubleClick:H,className:W,isCompactMode:z=!1})=>{const{toggleSelected:Y,isSelected:K,getSelected:q,clearSelected:Q}=(0,s.useContext)(y.q),X=(0,f.o)({index:n,contextUri:A,onContextMenu:R,canRemovePlaylistItems:B,removePlaylistItems:G}),$=(0,a.OY)(),J=(0,a.w1)(x.Go),Z=(0,s.useRef)(null);let ee;const{name:te,createdBy:ne,sectionId:se=0}=w,[ie,re]=(0,s.useState)(S.None),{enqueueSnackbar:ae}=(0,b.u)();(0,s.useEffect)((()=>{U&&Z.current&&(Y(n,!1,!1),(0,m.Gk)(Z.current))}),[]);const oe=(0,l.Y1)((e=>e.find((e=>M?.includes(e)))),[M]),le=(0,g.s)({index:n,contextUri:A,sectionId:se,label:`${te} • ${ne}`}),ce=(0,s.useCallback)((e=>{if(oe(Array.from(e.dataTransfer.types))&&Z.current){e.preventDefault();const{top:t,height:n}=Z.current.getBoundingClientRect(),s=e.clientY<t+n/2;e.dataTransfer.dropEffect="copy",s&&ie!==S.Before&&re(S.Before),s||ie===S.After||re(S.After)}}),[ie,oe]),de=(0,s.useCallback)((()=>{re(S.None)}),[]),ue=(0,s.useCallback)((e=>{if(M.length>0){e.preventDefault();const t=e.dataTransfer.getData("text/x-spotify-context"),s=parseInt(e.dataTransfer.getData("text/x-spotify-section"),10)||0,i=q();if(L&&t===A&&se===s&&i.length>0)L(i,n,ie,{section:s,origin:s});else if(D){let i=[];M.forEach((t=>{const n=e.dataTransfer.getData(t);n&&(i=i.concat(n.split("\n").map((e=>{const t=(0,c.nX)(e);return t?t.toURI():e}))))})),i.length>0&&D(i,n,ie,t,{section:se,origin:s})}}re(S.None),Q()}),[M,L,D,A,n,ie,q,Q,se]),me=(0,v.w)(),pe=(0,h.Mk)(),he=(0,o.yK)((e=>{me({intent:"play",type:"double-click"});const n=F?pe.logInteraction(F.doubleHitPlay({itemToBePlayed:t})):void 0;O(e,n)}),p.cT,{leading:!0,trailing:!1}),ge=(0,s.useCallback)((e=>{F&&P&&pe.logInteraction(F.doubleHitShowPaywall({paywalledItem:t})),P?.(e)}),[pe,P,F,t]),fe=(0,s.useCallback)((()=>{ae(d._s.get("feedback.unable-to-play"))}),[ae]),ye=(0,s.useCallback)((()=>$((0,_.AP)(t))),[t,$]);V?ee=ge:T?ee=he:(k&&!J&&(ee=ye),ee=H||fe);const _e=K(n),be=_e&&K(n-1),ve=_e&&K(n+1);return(0,E.jsx)(u.QJ,{rowIndex:i,"aria-selected":_e,children:(0,E.jsx)("div",{"":"tracklist-row",className:r()(C.c.trackListRow,C.c.trackListRowGrid,W,{[C.c.active]:j,[C.c.disabled]:!T,[C.c.showDisabledAsEnabled]:N,[C.c.selected]:_e,[C.c.isPreviousRowSelected]:be,[C.c.isNextRowSelected]:ve,[C.c.dropTargetBefore]:ie===S.Before,[C.c.dropTargetAfter]:ie===S.After,[C.c.rowCompactMode]:z}),onDoubleClick:ee,draggable:I,onDragStart:le,onDragOver:ce,onDragLeave:de,onDrop:ue,ref:Z,...X,children:e})})}},37200:(e,t,n)=>{"use strict";n.d(t,{e:()=>o,i:()=>l});n(73952),n(97296),n(41260);var s=n(96651),i=n(29764),r=n(2488);const a={[i.y.ACTIONS]:!1,[i.y.ADD]:!1,[i.y.ADDED_BY]:!1,[i.y.ALBUM_OR_PODCAST]:!1,[i.y.ALBUM_OR_SHOW]:!1,[i.y.ARTIST]:!1,[i.y.CONCERT_DATE]:!1,[i.y.CONCERT_VENUE]:!1,[i.y.EVENT_DATE]:!1,[i.y.EVENT_INFO]:!1,[i.y.PLAYS]:!1,[i.y.RELEASE_DATE]:!1,[i.y.INDEX]:!1,[i.y.TITLE]:!1,[i.y.TITLE_AND_ARTIST]:!1,[i.y.ALBUM]:!0,[i.y.ADDED_AT]:!0,[i.y.DURATION]:!1,[i.y.TITLE_AND_AUTHOR]:!1,[i.y.AUTHOR]:!1},o=(0,s.createContext)(null),l=({columns:e,children:t})=>{const n=e=>({columnType:e,visible:!0,toggleable:a[e]}),[i,l]=(0,s.useState)((()=>e.map(n)));(0,s.useEffect)((()=>{l(e.map(n))}),[e]);const c=(0,s.useCallback)((e=>{l(i.map((t=>t.columnType===e?{...t,visible:!t.visible}:t)))}),[i]),d=(0,s.useMemo)((()=>i.filter((e=>e.visible)).map((e=>e.columnType))),[i]);return(0,r.jsx)(o.Provider,{value:{columns:i,visibleColumnTypes:d,toggleVisible:c},children:t})}},96868:(e,t,n)=>{"use strict";n.d(t,{U:()=>d});var s=n(96651),i=n(7300),r=n(6812),a=n(33672),o=n(33744),l=n(11732),c=n(2488);const d=({children:e,uri:t,name:n,onClick:d,index:u})=>{const m=(0,r.C)({itemUris:[t],dragLabelText:n}),p=(0,s.useCallback)((()=>{d?.(t,u)}),[d,t,u]);return(0,a.c)({uri:t})?(0,c.jsx)(i.U,{menu:(0,c.jsx)(o.g,{uri:t}),children:(0,c.jsx)(l.Link,{draggable:!0,to:t,onDragStart:m,dir:"auto",onClick:p,children:e})}):(0,c.jsx)(c.Fragment,{children:e})}},93704:(e,t,n)=>{"use strict";n.d(t,{U:()=>d});var s=n(96651),i=n(10124),r=n.n(i),a=n(8004),o=n(19872),l=n(94496),c=n(2488);const d=(0,s.memo)((function({duration:e,className:t,dataTestId:n}){return(0,c.jsx)(a.a,{"":n,as:"div",variant:"bodySmall",className:r()(t,l.c.rowDuration),semanticColor:"textSubdued",children:(0,o.A)(e)})}))},43356:(e,t,n)=>{"use strict";n.d(t,{a:()=>h});var s=n(96651),i=n(10124),r=n.n(i),a=n(18648),o=n(76172),l=n(60016),c=n(40636),d=n(7296),u=n(88840),m=n(94496),p=n(2488);const h=s.forwardRef((function({className:e="",children:t,onClick:n,isPlaying:s,isActive:i,isLocked:h=!1,playAriaLabel:g,uri:f,spec:y},_){const b=(0,d.w)(),v=(0,c.Mk)(),x=(0,a.yK)((e=>{const{currentTarget:t,detail:r}=e;let a;if(e.stopPropagation(),r>0&&t&&t.blur(),b({intent:s?"pause":"play",type:"click"}),y&&!h){const e=y.playbackButtonFactory();let t;t=i&&s?e.hitPause({itemToBePaused:f}):i&&!s?e.hitResume({itemToBeResumed:f}):e.hitPlay({itemToBePlayed:f}),a=v.logInteraction(t)}else y&&v.logInteraction(y.playbackButtonFactory().hitShowPaywall({paywalledItem:f}));n(e,a)}),l.cT,{leading:!0,trailing:!1});return(0,p.jsxs)("div",{className:r()(m.c.rowMarker,e),children:[s?(0,p.jsx)(o.W,{className:m.c.playingIcon,animated:!0}):t,(0,p.jsx)(u.a,{className:m.c.rowPlayPauseButton,iconClassName:m.c.rowPlayPauseIcon,onClick:x,isPlaying:s,isLocked:h,playAriaLabel:g,ref:_})]})}))},95932:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var s=n(8004),i=n(94496),r=n(2488);const a=({children:e})=>e?"number"==typeof e?(0,r.jsx)(s.a,{variant:"bodyMedium",className:i.c.number,children:e}):(0,r.jsx)("span",{className:i.c.icon,children:e}):null},46216:(e,t,n)=>{"use strict";n.d(t,{gl:()=>h,iq:()=>p,uK:()=>g});var s=n(96651),i=n(10124),r=n.n(i),a=n(94496),o=n(2488);const l=s.memo((function(){return(0,o.jsx)("div",{className:r()(a.c.placeholder,a.c.rowSectionVariable,a.c.placeholderVariable)})})),c=s.memo((function(){return(0,o.jsx)("div",{className:r()(a.c.placeholder,a.c.rowSectionEnd,a.c.placeholderEnd)})})),d=s.memo((function(){return(0,o.jsx)("div",{className:r()(a.c.placeholder,a.c.rowSectionIndex,a.c.placeholderIndex)})})),u=s.memo((function(){return(0,o.jsx)("div",{className:r()(a.c.placeholder,a.c.rowSectionStart,a.c.placeholderStartWithCoverImage)})})),m=s.memo((function(){return(0,o.jsx)("div",{className:r()(a.c.placeholder,a.c.rowSectionStart,a.c.placeholderStart)})})),p=s.memo((function({height:e}){return(0,o.jsxs)("div",{className:a.c.trackListRowGrid,style:{height:e},"":"tracklist-row-placeholder",children:[(0,o.jsx)(d,{}),(0,o.jsx)(u,{}),(0,o.jsx)(l,{}),(0,o.jsx)(l,{}),(0,o.jsx)(l,{}),(0,o.jsx)(l,{}),(0,o.jsx)(c,{})]})})),h=s.memo((function({height:e}){return(0,o.jsxs)("div",{className:a.c.trackListRowGrid,style:{height:e},"":"tracklist-row-placeholder",children:[(0,o.jsx)(u,{}),(0,o.jsx)(l,{}),(0,o.jsx)(l,{}),(0,o.jsx)(l,{}),(0,o.jsx)(l,{}),(0,o.jsx)(c,{})]})})),g=s.memo((function({height:e}){return(0,o.jsxs)("div",{className:a.c.trackListRowGrid,style:{height:e},"":"tracklist-row-placeholder",children:[(0,o.jsx)(d,{}),(0,o.jsx)(m,{}),(0,o.jsx)(l,{}),(0,o.jsx)(l,{}),(0,o.jsx)(l,{}),(0,o.jsx)(l,{}),(0,o.jsx)(c,{})]})}))},79596:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var s=n(96651),i=n(8004),r=n(12100),a=n(94496),o=n(2488);const l=(0,s.memo)((function({playcount:e}){return e<1?null:(0,o.jsx)(i.a,{as:"div",variant:"bodySmall",className:a.c.rowPlayCount,children:r._s.formatNumber(e)})}))},46e3:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var s=n(16228),i=n(94496),r=n(2488);const a=({children:e,ariaColIndex:t,ariaSort:n,role:a="gridcell"})=>"columnheader"===a?(0,r.jsx)(s.__,{columnIndex:t,ariaSort:n,className:i.c.rowSectionEnd,children:e}):(0,r.jsx)(s.m_,{columnIndex:t,className:i.c.rowSectionEnd,children:e})},6364:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var s=n(16228),i=n(94496),r=n(2488);const a=({children:e,ariaColIndex:t,ariaSort:n,role:a="gridcell"})=>"columnheader"===a?(0,r.jsx)(s.__,{columnIndex:t,ariaSort:n,className:i.c.rowSectionVariable,children:e}):(0,r.jsx)(s.m_,{columnIndex:t,className:i.c.rowSectionVariable,children:e})},30648:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var s=n(10124),i=n.n(s),r=n(8004),a=n(94496),o=n(2488);const l=({children:e})=>(0,o.jsx)(r.a,{className:i()(a.c.rowSubTitle,"standalone-ellipsis-one-line"),variant:"bodySmall",semanticColor:"textSubdued",children:e})},39132:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});var s=n(8004),i=n(2488);const r=({children:e})=>(0,i.jsx)(s.a,{className:"standalone-ellipsis-one-line",variant:"bodySmall",semanticColor:"textSubdued",children:e})},26468:(e,t,n)=>{"use strict";n.d(t,{M:()=>c});var s=n(10124),i=n.n(s),r=n(8004),a=n(85988),o=n(94496),l=n(2488);const c=({titleText:e,children:t})=>{const n=(0,l.jsx)(r.a,{variant:"bodyMedium",semanticColor:"textBase",dir:"auto",className:i()(o.c.rowTitle,"standalone-ellipsis-one-line"),as:"div",children:t});return(0,l.jsx)(a.Yl,{label:e,showDelay:a.AL,children:n})}},49372:(e,t,n)=>{"use strict";n.d(t,{UF:()=>o,Ur:()=>l,_q:()=>c,cN:()=>d,iC:()=>u,sB:()=>m});var s=n(96651),i=n(29724),r=n(29764),a=n(2488);const o=[r.y.ADDED_AT,r.y.TITLE_AND_ARTIST,r.y.TITLE,r.y.ARTIST,r.y.ALBUM],l=[r.y.INDEX,r.y.TITLE_AND_ARTIST,r.y.TITLE,r.y.ARTIST,r.y.ALBUM,r.y.DURATION],c=[r.y.INDEX,r.y.TITLE_AND_AUTHOR,r.y.TITLE,r.y.ADDED_AT],d={column:null,order:r.g.NONE},u=(0,s.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a TracksSortProvider")},sortState:d}),m=s.memo((function({uri:e,children:t}){return(0,a.jsx)(i.M,{uri:e,defaultState:d,sortContext:u,children:t})}))},71848:(e,t,n)=>{"use strict";n.d(t,{o:()=>g});n(41260);var s=n(96651),i=n(70988),r=n(21396),a=(n(73952),n(97296),n(14788)),o=n(44488),l=n(81604),c=n(97120),d=n(31732),u=n(95e3),m=n(2488);const p=s.memo((function({uris:e,uids:t,contextUri:n,removePlaylistItems:s,canRemovePlaylistItems:i}){const{spec:r}=(0,c.A)(e[0]);return(0,m.jsx)(l.oL,{value:"multi-select",children:(0,m.jsxs)(o.i,{children:[(0,m.jsx)(u.O0,{spec:r,uris:e}),(0,m.jsx)(u.yq,{spec:r,uids:t,uris:e,contextUri:n}),(0,m.jsx)(u.yu,{trackUris:e.filter((e=>(0,a._Z)(e)||(0,a.UF)(e)))}),n&&(0,a.mS)(n)?(0,m.jsx)(u.mA,{uris:e,uids:t,playlistUri:n||"",removePlaylistItems:s,canBeRemoved:i}):null,(0,m.jsx)(d.y,{spec:r,uris:e})]})})}));var h=n(49620);function g({index:e,contextUri:t,onContextMenu:n,canRemovePlaylistItems:a,removePlaylistItems:o,isTreeGrid:l=!1}){const c=(0,s.useRef)(n);c.current=n;const d=(0,s.useContext)(h.q),{pushPopSelected:u,toggleSelected:g,isSelected:f,getSelected:y}=d,_=(0,i.m)({action:"open"});return{onClick:(0,s.useCallback)((t=>{g(e,t.shiftKey,t.ctrlKey||t.metaKey)}),[g,e]),onContextMenu:(0,s.useCallback)((n=>{const s=f(e);if(s||g(e,n.shiftKey,n.ctrlKey||n.metaKey),!c.current)return;const i=y().map((({uri:e})=>e)),r=y().map((({uid:e})=>e));i.length>1&&s?_(n,(0,m.jsx)(p,{uris:i,uids:r,contextUri:t,removePlaylistItems:o,canRemovePlaylistItems:a})):c.current?.(n)}),[f,e,y,g,_,t,a,o]),onKeyDown:(0,s.useCallback)((t=>{if(!(t.target instanceof Node))return;const n=!t.currentTarget.contains(t.target),s=!t.currentTarget.querySelector(r.A5)?.contains(t.target);if(!l&&n||l&&s)return;const i="ArrowUp"===t.key?-1:1;["ArrowUp","ArrowDown"].includes(t.key)&&(t.shiftKey?u(e,i):g(e+i,!1,!1))}),[l,u,e,g])}}},60592:(e,t,n)=>{"use strict";n.d(t,{_:()=>T});var s=n(96651),i=n(37369),r=n(80296),a=n(12100),o=n(43476),l=n(81604),c=n(40636),d=n(10124),u=n.n(d),m=n(18648),p=n(16228),h=n(60016),g=n(7296),f=n(49620),y=n(94496),_=n(2488);const b=({children:e,index:t,ariaRowIndex:n,onTriggerPlay:i,isActive:r,uri:a,spec:o})=>{const l=(0,c.Mk)(),{pushPopSelected:d,toggleSelected:b,isSelected:v}=(0,s.useContext)(f.q),x=(0,s.useRef)(null),C=(0,g.w)(),E=(0,m.yK)((e=>{C({intent:"play",type:"double-click"});const t=l.logInteraction(o.doubleHitPlay({itemToBePlayed:a}));i(e,t)}),h.cT,{leading:!0,trailing:!1}),S=(0,s.useCallback)((e=>{b(t,e.shiftKey,e.ctrlKey||e.metaKey)}),[b,t]),w=(0,s.useCallback)((e=>{if(!x.current?.contains(e.target))return;const n="ArrowUp"===e.key?-1:1;["ArrowUp","ArrowDown"].includes(e.key)&&(e.shiftKey?d(t,n):b(t+n,!1,!1))}),[d,b,t]),I=v(t),A=I&&v(t-1),T=I&&v(t+1);return(0,_.jsx)(p.QJ,{rowIndex:n,"aria-selected":I,children:(0,_.jsx)("div",{"":"tracklist-row",className:u()(y.c.trackListRow,y.c.trackListRowGrid,{[y.c.active]:r,[y.c.selected]:I,[y.c.isPreviousRowSelected]:A,[y.c.isNextRowSelected]:T}),onDoubleClick:E,onClick:S,onKeyDown:w,ref:x,children:e})})};var v=n(24300),x=n(93704),C=n(43356),E=n(95932),S=n(46e3),w=n(6364),I=n(30648),A=n(26468);const T=({uri:e,title:t="",index:n,subtitle:d="",showName:u="",showUri:m="",duration:p=0,start:h,stop:g})=>{const{isActive:f,isPlaying:T,onClick:k}=(0,o.y)({episodeUri:e,start:h,stop:g}),N=(0,s.useCallback)(((e,t)=>{k(t)}),[k]),{spec:O}=(0,c.gp)(r.C,{data:{position:n,reason:"",uri:e}});return(0,_.jsx)(l.oL,{value:"row",index:n,children:(0,_.jsxs)(b,{index:n,ariaRowIndex:n+1,onTriggerPlay:N,isActive:f,spec:O,uri:e,children:[(0,_.jsxs)(v.I9,{ariaColIndex:0,children:[(0,_.jsx)(C.a,{uri:e,playAriaLabel:a._s.get("tracklist.a11y.play",d,u),onClick:N,isPlaying:T,isActive:f,spec:O,children:(0,_.jsx)(E.i,{children:(0,_.jsx)(i.W,{className:y.c.talkIcon,"aria-hidden":!0})})}),(0,_.jsxs)(v.yY,{children:[(0,_.jsx)(A.M,{titleText:t,children:t}),(0,_.jsx)(I.a,{children:d})]})]}),(0,_.jsx)(w.s,{ariaColIndex:1,children:(0,_.jsx)(v.MZ,{uri:m,name:u,spec:O,children:(0,_.jsx)("span",{dir:"auto",children:u})})}),(0,_.jsx)(S.s,{ariaColIndex:2,children:(0,_.jsx)(x.U,{duration:p,className:y.c.talkSegmentDuration})})]})})}},24620:(e,t,n)=>{"use strict";n.d(t,{o:()=>g,Q:()=>h});var s=n(96651),i=n(10124),r=n.n(i),a=n(8004),o=n(62459),l=n(49232),c=n(12100),d=n(15040);const u="nOw3c5b4tD945Qcv8oV4";var m=n(2488);const p=(0,s.memo)((({separator:e="•",iconSize:t="small",className:n,variant:s="bodySmall"})=>(0,m.jsxs)(a.a,{as:"span",className:r()(u,n),children:[(0,m.jsx)(o.O,{size:t}),(0,m.jsx)(a.a,{as:"span",variant:s,children:c._s.get("card.tag.video")}),(0,m.jsx)(a.a,{as:"span",variant:s,children:e})]}))),h=(0,s.memo)((({separator:e})=>(0,l.IP)(d.Wwy)?(0,m.jsx)(p,{separator:e}):null)),g=(0,s.memo)((({separator:e})=>(0,m.jsx)(p,{separator:e})))},84400:(e,t,n)=>{"use strict";n.d(t,{e:()=>d,c:()=>m});var s=n(96651),i=n(4552),r=n(21396);function a(e,t,n=!0,s=!1){if(!e)return void console.error("No list element found. Canceling moving focus");if(!(0,r.KU)(e))return;const a=e.querySelector('[tabindex="0"]');t===i.w.UP&&(0,r.BA)(a,o(e,a,i.w.UP,n,s)),t===i.w.DOWN&&(0,r.BA)(a,o(e,a,i.w.DOWN,n,s))}function o(e,t,n,s,a){const o=t.closest('li[role="listitem"]');if(!o)return t;let l=o,c=t;const d=Array.from(e.querySelectorAll('li[role="listitem"]')),u=d.indexOf(o);if(u<0)return t;if(n===i.w.UP){if(document.activeElement===e){if(l=d[d.length-1],a){const e=l?.querySelectorAll(r.A5);c=e[e.length-1]}else c=l?.querySelector(r.A5);return c??t}if(a){const e=Array.from(o.querySelectorAll(r.A5)),n=e.indexOf(t)-1;if(n>=0)return e[n]}let n=u-1;const i=()=>!c&&(!s&&n>=0||s&&u!==n);do{l=d[n];if(s&&!l&&(n=d.length-1,l=d[n]),a){const e=l?.querySelectorAll(r.A5);c=e?e[e.length-1]:null}else c=l?.querySelector(r.A5);n-=1}while(i())}else if(n===i.w.DOWN){if(document.activeElement===e)return l=d[0],c=l?.querySelector(r.A5),c??t;if(a){const e=Array.from(o.querySelectorAll(r.A5)),n=e.indexOf(t)+1;if(n<e.length)return e[n]}let n=u+1;const i=()=>{const e=!s&&n<=d.length;return!c&&(e||s&&u!==n)};do{l=d[n];s&&!l&&(n=0,l=d[n]),c=l?.querySelector(r.A5),n+=1}while(i())}return c||t}var l=n(81956),c=n(2488);const d=({onKeyDown:e,children:t,circular:n=!0,allowsMultipleInteractiveChildrenInItem:o=!1,...d})=>{const u=(0,s.useRef)(null);(0,l.m)(u);const m=(0,s.useCallback)((t=>{u.current?.contains(t.target)&&("ArrowUp"!==t.key&&"ArrowDown"!==t.key||(t.preventDefault(),document.documentElement.classList.remove("no-focus-outline")),"ArrowUp"===t.key&&a(u.current,i.w.UP,n,o),"ArrowDown"===t.key&&a(u.current,i.w.DOWN,n,o),e?.(t))}),[n,o,e]),p=(0,s.useCallback)((e=>{if(!u.current)return;const t=e.target,n=u.current.querySelector('[tabindex="0"]');t.closest('li[role="listitem"]')&&t!==n&&(0,r.BA)(n,t,{preventScroll:!0})}),[]);return(0,c.jsx)("ul",{role:"list",ref:u,onKeyDown:m,onFocus:p,tabIndex:0,...d,children:t})};var u=n(74764);const m=({children:e,innerRef:t,...n})=>{const i=(0,s.useRef)(null),r=t??i;return(0,u.U)(r),(0,c.jsx)("li",{ref:r,role:"listitem",...n,children:e})}},93320:(e,t,n)=>{"use strict";n.d(t,{w:()=>m,I:()=>h});var s=n(96651),i=n(4552),r=n(21396);function a(e,t,n=!1){if(!e)return void console.error("No list element found. Canceling moving focus");if(!(0,r.KU)(e))return;const s=e.querySelector('[tabindex="0"]');t===i.w.UP&&(0,r.BA)(s,o(e,s,i.w.UP,n)),t===i.w.DOWN&&(0,r.BA)(s,o(e,s,i.w.DOWN,n)),t===i.w.RIGHT&&(0,r.BA)(s,l(s,i.w.RIGHT,n)),t===i.w.LEFT&&(0,r.BA)(s,l(s,i.w.LEFT,n)),t===i.w.HOME&&(0,r.BA)(s,c(i.w.HOME,n)??s),t===i.w.END&&(0,r.BA)(s,c(i.w.END,n)??s)}function o(e,t,n,s=!1){const a=t.closest('li[role="row"]');if(!a)return t;let o=a;const c=Array.from(e.querySelectorAll('li[role="row"]')),d=Array.from(a.querySelectorAll(r.A5)),u=c.indexOf(a);if(u<0)return t;const m=(s&&t!==d[0]||!s&&t!==a)&&!(t instanceof HTMLLIElement);if(n===i.w.UP){if(document.activeElement===e){o=c[c.length-1];return(s?o.querySelector(r.A5):o)??t}if(m)return l(t,i.w.LEFT,s);let n=u-1;if(-1===n)return t;o=c[n],n-=1}else if(n===i.w.DOWN){if(document.activeElement===e){o=c[0];return(s?o.querySelector(r.A5):o)??t}if(m)return l(t,i.w.RIGHT,s);let n=u+1;if(n===c.length)return t;o=c[n],n+=1}return(s?o.querySelector(r.A5):o)??t}function l(e,t,n=!1){const s=e.closest('li[role="row"]');if(!s)return e;let a=e;const o=Array.from(s.querySelectorAll(r.A5)),l=o.indexOf(e);let c=0;if(t===i.w.RIGHT&&l-1!==o.length)c=l+1;else{if(t===i.w.LEFT&&-1===l)return s;if(t===i.w.LEFT&&0!==l)c=l-1;else if(t===i.w.LEFT&&0===l){return(n?s.querySelector(r.A5):s)??s}}return a=o.at(c),a??e}function c(e,t=!1){const{currentFocus:n,listEl:s}=function(){const e=document.activeElement,t=e?.closest("ul");return((0,i.y)(e)||e instanceof HTMLLIElement)&&t?{currentFocus:e,listEl:t}:{currentFocus:null,listEl:null}}();if(null===n||null===s)return null;const a=n.closest('li[role="row"]');if(!a)return n;const o=Array.from(s.querySelectorAll('li[role="row"]')),l=Array.from(a.querySelectorAll(r.A5));if(o.indexOf(a)<0)return n;const c=t&&n===l[0]||!t&&n===a;if(e===i.w.HOME){if(c){return(t?o[0].querySelector(r.A5):o[0])??n}return(t?l[1]:l[0])??n}if(e===i.w.END){if(c){return(t?o[o.length-1].querySelector(r.A5):o[o.length-1])??n}return l[l.length-1]??n}return n}var d=n(81956),u=n(2488);const m=(0,s.forwardRef)((({onKeyDown:e,children:t,firstInteractiveIsWrapper:n=!1,...o},l)=>{const c=function(e){const t=(0,s.useRef)(null);return(0,s.useEffect)((()=>{e&&("function"==typeof e?e(t.current):e.current=t.current)})),t}(l);(0,d.m)(c);const m=(0,s.useCallback)((t=>{c.current?.contains(t.target)&&("ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"Home"!==t.key&&"End"!==t.key||t.preventDefault(),"ArrowUp"!==t.key&&"ArrowDown"!==t.key||document.documentElement.classList.remove("no-focus-outline"),"ArrowUp"===t.key&&a(c.current,i.w.UP,n),"ArrowDown"===t.key&&a(c.current,i.w.DOWN,n),"ArrowRight"===t.key&&a(c.current,i.w.RIGHT,n),"ArrowLeft"===t.key&&a(c.current,i.w.LEFT,n),"Home"===t.key&&a(c.current,i.w.HOME,n),"End"===t.key&&a(c.current,i.w.END,n),e?.(t))}),[n,c,e]),p=(0,s.useCallback)((e=>{if(!c.current)return;const t=e.target,n=c.current.querySelector('[tabindex="0"]');t.closest('li[role="row"]')&&t!==n&&(0,r.BA)(n,t,{preventScroll:!0})}),[c]);return(0,u.jsx)("ul",{role:"treegrid",ref:c,onKeyDown:m,onFocus:p,tabIndex:0,...o,children:t})}));var p=n(74764);const h=({children:e,innerRef:t,reRunOnDOMUpdate:n=!1,...i})=>{const r=(0,s.useRef)(null),a=t??r;return(0,p.U)(a,n),(0,u.jsx)("li",{ref:a,"aria-expanded":"true","aria-level":1,role:"row",...i,children:e})}},77240:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});var s=n(2488);function i({children:e,...t}){return(0,s.jsxs)("label",{className:"hidden-visually",children:[e,(0,s.jsx)("input",{...t})]})}},97334:(e,t,n)=>{"use strict";n.d(t,{i:()=>y});var s=n(8004),i=n(8340),r=n(96560),a=n(12100),o=n(78172),l=n(38952),c=n(2104),d=n(52216);const u="a_fhw77sDAmUWT0DjcLz",m="IVCTj3T2ms7JvLUiF4hZ",p="_vX7nRSblUeXv4DTYkKu",h="ST9Bhw7AdmFCTZDIKw3n";var g=n(2488);const f=({showUri:e})=>{const t=(0,o.oJ)(),n=(0,d.oX)(e);return null===n?null:n?.basic?(e=>{const n=e.title,r=e.body;return(0,g.jsxs)("div",{className:u,children:[(0,g.jsx)(s.a,{as:"div",variant:"bodyMediumBold",className:m,children:n}),(0,g.jsx)(s.a,{as:"div",variant:"bodySmall",className:p,children:r}),(0,g.jsx)("div",{className:h,children:(0,g.jsx)(i.g,{size:"small",colorSet:"invertedLight",onClick:()=>{t({type:"close"})},children:e.cta})})]})})(n.basic):n?.upsellLink?(e=>{const n=e.title,o=e.body;return(0,g.jsxs)("div",{className:u,children:[(0,g.jsx)(s.a,{as:"div",variant:"bodyMediumBold",className:m,children:n}),(0,g.jsx)(s.a,{as:"div",variant:"bodySmall",className:p,children:o}),(0,g.jsxs)("div",{className:h,children:[(0,g.jsx)(r.u,{size:"small",semanticColor:"textBase",onClick:()=>{t({type:"close"})},children:a._s.get("close")}),(0,g.jsx)(i.g,{size:"small",colorSet:"invertedLight",href:e.url,children:e.cta})]})]})})(n.upsellLink):(()=>{const e=a._s.get("paywalls.modal-heading"),n=(0,g.jsxs)(g.Fragment,{children:[a._s.get("paywalls.modal-body-p1"),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),a._s.get("paywalls.modal-body-p2"),(0,g.jsx)("br",{}),(0,g.jsx)("br",{}),a._s.get("paywalls.modal-body-p3")]});return(0,g.jsxs)("div",{className:u,children:[(0,g.jsx)(s.a,{as:"div",variant:"bodyMediumBold",className:m,children:e}),(0,g.jsx)(s.a,{as:"div",variant:"bodySmall",className:p,children:n}),(0,g.jsx)("div",{className:h,children:(0,g.jsx)(r.u,{size:"small",semanticColor:"textBase",onClick:()=>{t({type:"close"})},children:a._s.get("close")})})]})})()},y=({children:e,enabled:t,showUri:n,renderInline:s=!0})=>t&&n?(0,g.jsx)(c.GS,{trigger:"click",action:"toggle",offset:[-2,20],renderInline:s,content:(0,g.jsx)(c.qQ,{children:(0,g.jsx)(f,{showUri:n})}),children:e}):(0,l.o)(e)?e(!1,(()=>{}),{current:null}):e},92144:(e,t,n)=>{"use strict";n.d(t,{m:()=>b});var s=n(96651),i=n(49232),r=n(33912),a=n(37200),o=n(55904),l=n(89240),c=n(15040),d=n(81604),u=n(43619),m=(n(73952),n(99400),n(71796)),p=n(66514),h=n(7644),g=n(64852),f=n(88376);const y=(e,t)=>{const{request:n}=(0,s.useContext)(p.Q9),i=(0,m.ek)((()=>t),[t]),r=(0,s.useMemo)((()=>function(e){return(0,f.a)(e)?e.items.reduce(((e,t)=>(e.push(t.discNumber-1),e.concat(Array(t.nrTracks??0).fill(t.discNumber)))),[]):null}(i)),[i]);return(0,s.useCallback)((async(t,s)=>{const a=await n(h.yw,{uri:e,offset:null!==r?t-r[t]:t,limit:s});return(0,g.mI)(a?.data,i)}),[i,r,n,e])};var _=n(2488);const b=s.memo((function({ariaLabel:e,nrTracks:t,discs:n,albumUri:m,highlightUri:p,scrollToIndex:h,usePlayContextItem:g,hasHeaderRow:f=!0,initalTracks:b,isCompactMode:v=!1}){const x=(0,i.IP)(c.Wwy),C=(0,o.SM)()===l.q.Web,E=y(m,n),S=(0,s.useRef)(null),w=(0,s.useRef)(!1),[I,A]=(0,s.useState)(null);(0,s.useEffect)((()=>{S.current&&(I?S.current.scrollToIndex(I):h&&S.current.scrollToIndex(h))}),[I,h]);const T=(0,s.useCallback)((async(e,t)=>{const n=await E(e,t);if(p&&!I){const e=n.items?.findIndex((e=>e.type===u.s.TRACK&&e?.uri===p));A(e||-1)}return n}),[E,p,I]),k=(0,s.useMemo)((()=>(({isWebPlayer:e,isCompactMode:t})=>{const n=[r.yw.INDEX,r.yw.TITLE_AND_ARTIST,r.yw.PLAYS,r.yw.DURATION];return e&&n.splice(n.indexOf(r.yw.PLAYS),1),t&&n.splice(n.indexOf(r.yw.TITLE_AND_ARTIST),1,r.yw.TITLE,r.yw.ARTIST),n})({isWebPlayer:C,isCompactMode:v})),[C,v]),N=(0,s.useCallback)((e=>({uri:e.type===u.s.TRACK?e.linkedUri??e.uri:""})),[]),O=(0,s.useCallback)(((e,t)=>{if("AlbumDisc"===e.type)return(0,_.jsx)(r.Sc,{discNumber:e.discNumber},`${t}-${e.discNumber}`);const n=e.linkedUri??e.uri,s=e.playcount?parseInt(e.playcount,10):0,i=!(w.current||!p||p!==e.uri&&p!==n);i&&(w.current=!0);const a=e.hasAssociatedVideo;return(0,_.jsx)(r.I2,{index:t,trackNumber:e.trackNumber,contextUri:m,uri:n,uid:e.uid,duration_ms:e.duration.milliseconds,name:e.name,isPlayable:e.isPlayable,artists:e.artists,isExplicit:e.isExplicit,isMOGEFRestricted:e.is19PlusOnly,playcount:s,shouldHighLight:i,usePlayContextItem:g,isCompactMode:v,hasAssociatedVideo:a&&x},t+e.uri)}),[p,m,g,v,x]);return(0,_.jsx)(d.oL,{value:"album-tracklist",children:(0,_.jsx)(a.i,{columns:k,children:(0,_.jsx)(r.aE,{ariaLabel:e,hasHeaderRow:f,rowPlaceholder:r.uK,columns:k,renderRow:O,resolveItem:N,nrTracks:t,fetchTracks:T,limit:300,outerRef:S,tracks:b,isCompactMode:v,columnPersistenceKey:"album-tracklist"},m)})})}))},58112:(e,t,n)=>{"use strict";n.d(t,{u:()=>pt});var s=n(96651),i=n(35044),r=n(92232),a=n(96560),o=n(43424),l=n(93620),c=n(12100),d=n(85988),u=n(31396),m=n(28892),p=n(71796),h=n(1320),g=n(2488);const f=(0,s.lazy)((async()=>{const{LottieAnimation:e}=await Promise.all([n.e(6904),n.e(8384)]).then(n.bind(n,40688));return{default:e}})),y=(0,s.memo)((function(e){const{data:t}=(0,h.Q)({queryKey:["async-lottie-animation",e.path],queryFn:()=>e.path?fetch(e.path).then((e=>e.json())):null,staleTime:6e4,gcTime:6e4,retry:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return(0,g.jsx)(f,{...e,animationData:e.animationData??t,path:void 0})}));var _=n(28288);const b=({size:e="small",animationFilePath:t,className:n,style:s,onLottieAnimationEnd:i})=>{const r=(0,_.o)(e);return(0,g.jsx)("div",{style:{position:"relative",pointerEvents:"none",width:`${r}px`,height:`${r}px`},children:(0,g.jsx)(y,{path:t,loop:!1,autoplay:!0,className:n,style:{display:"flex",position:"absolute",...s},onAnimationEnd:i})})};var v=n(47992);var x=n(40060),C=n(55563);var E=n(47724),S=n(40636),w=n(40068),I=n(87832),A=(n(73952),n(97296),n(39568),n(10124)),T=n.n(A),k=n(8340),N=n(49232),O=n(21912),P=n(78172),j=n(33732),L=n(73670),R=n(14788);let D=function(e){return e.ADD="add",e.REMOVE="remove",e}({});var M=n(40104),U=n(92292);function F(){const{enqueueSnackbar:e}=(0,U.u)();return(0,s.useCallback)((()=>{e("Something went wrong")}),[e])}var B=n(64444);var G=n(5948),V=n(87668),H=n(37535);const W=({spec:e})=>{const t=(0,S.Mk)();return(0,g.jsx)(H.Q,{placeholder:c._s.get("web-player.aligned-curation.search-placeholder"),fullWidth:!0,alwaysExpanded:!0,onFilter:()=>{t.logInteraction(e.textFilterInputFieldFactory().keyStrokeFilter())},onClear:()=>{t.logInteraction(e.textFilterClearButtonFactory().hitClearFilter())},onActivate:()=>(t.logInteraction(e.textFilterInputFieldFactory().hitFocusInputField()),!0)})};n(41260);var z=n(12924),Y=n(18648);var K=n(65236),q=n(99992),Q=n(43619),X=n(82960),$=n(45008),J=n(6836),Z=n(24392),ee=n(44616),te=n(45176),ne=n(20648),se=n(952);const ie="G_kx47mETSrcAUXgg4bz",re="EHpzb06GiqRMKeUnkYmC",ae="Pqg33CkM5L0E1lCgEY0S",oe="PQKRwXrWP6188b0Irutr",le="j0PGhNzCz0RGRGJz4hxb",ce="FRHAuM5deRRdBp3DzESd",de="JKllfaf5YolXqNtlpjmC",ue="dCFErPEB2gW6WKeaDP9D",me="aAQNKZqN589KMPJg0t5A",pe="mjoSl85379BV26rVF36y",he="l7zN6OGfgAD88I6ksfvZ",ge="SE2sh91sE6oHqGvq2ybI",fe="bBxnM9oqOdXklb6AgBSK",ye="yMMlUDB57t0sliEpLmbN",_e="di0qjI5MTbGlDPzsrzA9",be="BVfO5X1dXoEnP50BjTrV",ve="VCZOlNs7iZopRZGfJzKX",xe="akLsRBkqmKdwKTMR9PA6",Ce="orcRxu4wEKzCsh5dQ63Y",Ee="Vm4SOrSyMjUh2_y4f1pJ",Se="U7FQU4ix6WPfZINQZGOZ",we=({onClick:e=(()=>{}),...t})=>{const n=(0,s.useRef)(null),{handleMouseEnter:i,handleMouseMove:r,handleMouseLeave:a,handleFocus:o}=(0,ne.s)(n),l=(0,s.useCallback)((t=>{t.stopPropagation(),e(t)}),[e]),c=(0,s.useCallback)((e=>{e.stopPropagation()}),[]);return(0,g.jsx)(se.g,{children:(0,g.jsx)(K.Wo,{className:Ee,onClick:l,onFocus:o,onMouseEnter:i,onMouseMove:r,onMouseLeave:a,onContextMenu:c,ref:n,as:"button",role:"menuitem",...t})})};var Ie=n(94768);const Ae=({selected:e})=>e?(0,g.jsx)(i.W,{semanticColor:"textBrightAccent",size:"small"}):(0,g.jsx)("span",{className:de}),Te=s.memo((function({index:e,playlist:t,filter:n,isSelected:i,onSelect:r,...a}){const o=(0,s.useContext)(M.Iv),l=t.type===Q.s.PLAYLIST&&t.isLoading;(0,s.useEffect)((()=>{l&&o.resync(t.uri)}),[o,t.uri,l]);const c=(0,te.S0)();return(0,g.jsx)(we,{role:"menuitemcheckbox","aria-checked":i(t),onClick:n=>{n.preventDefault(),n.stopPropagation(),r(t,e)},onKeyDown:n=>{" "===n.key&&(n.preventDefault(),n.stopPropagation(),r(t,e))},...a,children:(0,g.jsx)(X.U,{id:t.uri,className:ge,title:(0,g.jsx)($.Y,{lineClamp:1,className:ye,dir:"auto",children:(0,g.jsx)(Ie.S,{searchWords:[n],textToHighlight:t.name})}),media:(0,g.jsx)(Z.i,{fadeIn:!0,images:c("images"in t?t.images:[],24),shape:Z.O.ROUNDED_CORNERS,size:ee.fm.SIZE_24,iconSize:"xsmall",type:t.type,title:t.name,className:fe,color:t.color,loadingMode:"eager"}),trailing:(0,g.jsxs)("div",{className:_e,children:[(0,g.jsx)(J.i,{pinned:t.pinned,size:"small"}),(0,g.jsx)(Ae,{selected:i(t)})]}),variant:"naked",size:"md",hoverAnimationDuration:"0ms"},t.uri)})}));var ke=n(87056),Ne=n(52688);const Oe=(0,s.forwardRef)((function({children:e,setIsOpen:t,onTouchStart:n,onClick:i=(()=>{}),outerRef:r,...a},o){const{handleMouseEnter:l,handleMouseMove:c,handleMouseLeave:d,handleFocus:u}=(0,ne.s)(r,t),m=(0,s.useCallback)((e=>{e.stopPropagation(),i(e)}),[i]),p=(0,s.useCallback)((e=>{e.stopPropagation()}),[]);return(0,g.jsx)(se.g,{children:(0,g.jsx)(K.Wo,{className:Ee,onClick:m,onFocus:u,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,onTouchStart:n,onContextMenu:p,ref:o,role:"menuitem",as:"button",...a,children:e})})})),Pe=({component:e,placement:t="right-start",children:n,onClick:i,...r})=>{const[a,o]=(0,s.useState)(!1),l=(0,s.useRef)(null),c=(0,s.useCallback)((()=>{o((e=>!e))}),[]),d=document.getElementById("curation-sheet-list");return(0,g.jsx)(Ne.cp,{render:()=>a?n:null,interactive:!0,visible:a,arrow:!1,animation:!1,appendTo:d||void 0,placement:t,offset:[0,0],popperOptions:{modifiers:[{name:"preventOverflow",options:{boundary:document.body,altAxis:!0,padding:10}},{name:"flip",options:{boundary:document.body}}]},children:(0,g.jsx)(Oe,{setIsOpen:o,onTouchStart:c,ref:l,outerRef:l,onClick:i,...r,children:e})})};var je=n(44772);const Le=function({folder:e,filter:t}){return(0,g.jsx)(X.U,{id:e.uri,className:ge,title:(0,g.jsx)($.Y,{lineClamp:1,className:ye,dir:"auto",children:(0,g.jsx)(Ie.S,{searchWords:[t],textToHighlight:e.name})}),media:(0,g.jsx)(Z.i,{shape:Z.O.ROUNDED_CORNERS,size:ee.fm.SIZE_24,iconSize:"xsmall",type:e.type,title:e.name,loadingMode:"eager",className:fe}),trailing:(0,g.jsxs)("div",{className:_e,children:[(0,g.jsx)(J.i,{pinned:e.pinned,size:"small"}),(0,g.jsx)(ke.U,{size:"small",className:Se,semanticColor:"textSubdued"})]}),variant:"naked",size:"md",hoverAnimationDuration:"0ms"},e.uri)},Re=s.memo((function({folder:e,filter:t,uri:n,toggleChange:s,changes:i,saveChanges:r,hideCurationSheet:a,depth:o,spec:l,...c}){const d=(0,je.k)(),u=`curation-folder-submenu-${(0,R.nX)(e.uri)?.id}`;return(0,g.jsx)(Pe,{component:(0,g.jsx)(Le,{folder:e,filter:t}),placement:d?"left-start":"right-start","aria-controls":u,...c,children:(0,g.jsx)(qe,{title:e.name,folderUri:e.uri,uri:n,toggleChange:s,changes:i,saveChanges:r,hideCurationSheet:a,depth:o+1,id:u,spec:l})})}));var De=n(8004);const Me=({title:e,className:t})=>e?(0,g.jsx)("div",{className:T()(oe,t),children:(0,g.jsx)(De.a,{variant:"marginalBold",className:ce,children:e})}):null;var Ue=n(33220),Fe=n(83216),Be=n(85712);const Ge=s.memo((function({hideCurationSheet:e,uri:t,folderUri:n,saveChanges:i,onCreate:r,...a}){const{createPlaylistFromTracks:o}=(0,Be.c)(),l=(0,Ue.i6)(),d=(0,s.useCallback)((async()=>{const s=n?{after:{uri:n}}:{before:"start"};i();let a=null;try{a=await o([t],s);const n=(0,R.nX)(a);n&&l(n.toURLPath(!0)),e()}finally{r(a)}}),[o,n,e,l,r,i,t]);return(0,g.jsx)(we,{role:"menuitem",onClick:d,...a,children:(0,g.jsx)(X.U,{id:"new-playlist",title:c._s.get("web-player.aligned-curation.button.new-playlist"),media:(0,g.jsx)(Fe.S,{size:"small"}),variant:"naked",size:"md",hoverAnimationDuration:"0ms"})})}));var Ve=n(84400);const He=({height:e,...t})=>(0,g.jsx)(Ve.c,{className:he,style:{height:e},...t});var We=n(2052),ze=n(96480),Ye=n(15040),Ke=n(11816);const qe=s.memo((function({title:e,folderUri:t,uri:n,changes:i,saveChanges:r,toggleChange:a,hideCurationSheet:o,depth:l=0,filter:d="",id:u,spec:m}){const h=(0,x.m)(),f=(0,S.Mk)(),y=(0,N.IP)(Ye.Sw),_=(0,s.useRef)(null),b=(0,s.useRef)(null),v=(0,ze.K)(_),C=(0,z.q$)(),E=0===l,w=(0,s.useMemo)((()=>m.curationContextListFactory({uri:t??""})),[t,m]),I=E?18e5:3e5,{hasItems:A,getItems:k,nrValidItems:O,getPageQueriesData:P,invalidateCache:j}=function({id:e,params:t,fetch:n,limit:i,getPageQueryOptions:r}){const a=(0,p.ek)((()=>t),[t]),o=(0,p.ek)((()=>["react-query-items-cache",e,a]),[e,i,a]),l=(0,s.useCallback)(((e,t)=>[...o,{offset:e,limit:t}]),[o]),c=(0,z.q$)(),d=(0,s.useCallback)((async(e,t)=>{const s=r?.(a,e,t),i=s?.gcTime,o=s?.staleTime;return void 0!==s||void 0!==o||void 0!==i?c.fetchQuery({...s,queryKey:l(e,t),queryFn:()=>n(a,e,t),staleTime:o,gcTime:i}):n(a,e,t)}),[n,r,l,a,c]),{invalidateCache:u,...m}=(0,Ke.W)({nrItems:i,fetch:d,limit:i});return{...m,invalidateCache:(0,s.useCallback)((()=>{c.invalidateQueries({queryKey:o}),u()}),[u,c,o]),getPageQueriesData:(0,s.useCallback)((e=>c.getQueriesData({...e,queryKey:o,predicate:t=>{const n=t.queryKey,s=n?.[2],i=n?.[3];return e?.predicate?.(s,i)??!0}})),[o,c])}}({id:"curation-list",params:{curatedItemUri:n,folderUri:t,textFilter:d},fetch:(0,s.useCallback)(((e,t,n)=>h.getCurationContexts({...e,offset:t,limit:n})),[h]),limit:50,getPageQueryOptions:(0,s.useCallback)(((e,t,n)=>0===t?{staleTime:0,cacheTime:I}:void 0),[I])});(0,M.wv)((0,Y.yK)(j,200,{leading:!0,trailing:!0,maxWait:1e3}));const L=A&&!d?O:P({predicate:e=>e.folderUri===t&&!e.textFilter}).sort((([e],[t])=>(C.getQueryState(t)?.dataUpdatedAt??0)-(C.getQueryState(e)?.dataUpdatedAt??0))).at(0)?.[1]?.totalLength;let R;A?R=O+1:void 0!==L&&(R=L+1);const U=(0,s.useCallback)((e=>i.has(e.uri)?!e.hasCuratedItems:!!e.hasCuratedItems),[i]),F=(0,s.useCallback)(((e,t)=>{const n=w.curationContextItemFactory({uri:e.uri,position:t});a(e.uri,{type:e.hasCuratedItems?D.REMOVE:D.ADD,name:e.name,image:"images"in e&&e.images.at(0)?.url||""}),f.logInteraction(U(e)?n.hitDeselectEntityInList({entityToBeDeselected:e.uri}):n.hitSelectEntityInList({entityToBeSelected:e.uri}))}),[U,w,f,a]),B=(0,s.useCallback)((e=>{f.logInteraction(w.createPlaylistButtonFactory({uri:e??""}).hitCreatePlaylist())}),[w,f]),G=(0,s.useCallback)(((e,t,n,s)=>(0,g.jsx)(He,{height:e,"aria-posinset":s,"aria-setsize":n},t)),[]),V=(0,s.useCallback)(((e,t)=>k(e,t).map(((t,s)=>{const c=e+s,u=c+2;return t?t.type===Q.s.FOLDER?(0,g.jsx)(Re,{folder:t,uri:n,toggleChange:a,changes:i,saveChanges:r,hideCurationSheet:o,depth:l,filter:d,spec:m,"aria-setsize":R,"aria-posinset":u},`${t.uri}`):(0,g.jsx)(Te,{index:c,playlist:t,filter:d,isSelected:U,onSelect:F,"aria-setsize":R,"aria-posinset":u},`${t.uri}`):G("48px",c,R,u)}))),[k,G,R,n,a,i,r,o,l,d,m,U,F]);(0,s.useLayoutEffect)((()=>{E||void 0===L||function(e){const t=e?.closest("[data-tippy-root]");if(t&&"_tippy"in t){const e=t._tippy;e?.popperInstance?.forceUpdate()}}(b.current)}),[E,L]);const H=E?K.ET:K.O4;return(0,g.jsxs)(H,{"aria-label":c._s.get("web-player.aligned-curation.add-to-playlist-menu"),depth:l,className:T()(be,"encore-dark-theme","encore-layout-themes",{"vertical-metrics":y,[ie]:!E,[re]:!E}),id:u,ref:E?null:b,children:[(0,g.jsx)(Me,{title:e,className:le}),(0,g.jsx)(Ge,{hideCurationSheet:o,uri:n,folderUri:t,saveChanges:r,onCreate:B,className:T()(Ee,ve,{[Ce]:v,[xe]:0!==L}),"aria-setsize":R,"aria-posinset":1}),(0,g.jsx)(We.G,{ref:e=>{e&&!_.current&&(_.current=e.osInstance().getElements().viewport)},className:me,style:{height:48*(L??(E?7:1))+"px"},children:(0,g.jsx)("div",{className:pe,children:(0,g.jsx)(q.C,{renderRows:V,nrRows:O,rowHeight:48,scrollNodeRef:_,renderPlaceholder:G})})})]})}));var Qe=n(78808);const Xe=({uri:e,onChangesSaved:t,onHasChanges:n,onHide:i})=>{const{changes:r,toggleChange:o,saveChanges:l}=((e,t)=>{const n=(0,x.m)(),i=(0,s.useContext)(M.Iv),r=(0,B.c)(),a=F(),[o,l]=(0,s.useState)(new Map),d=(0,s.useCallback)(((e,t)=>{l((n=>{const s=new Map(n);return s.has(e)?s.delete(e):s.set(e,t),s}))}),[l]),u=(0,s.useCallback)((async(e,t)=>{let n=c._s.get("web-player.aligned-curation.feedback.changes-saved"),s=!1;if(1===e.length&&0===t.length){const t=o.get(e[0]);if(n=c._s.get("web-player.aligned-curation.feedback.added",t?.name),s=t?.image,!s&&(0,R.gX)(e[0])){const t=await Promise.race([i.getMetadata(e[0]).then((({images:e})=>e)),new Promise((e=>setTimeout((()=>e([])),1e3)))]);s=(0,w.C)(t,{desiredSize:24})?.url}}else if(0===e.length&&1===t.length){const e=o.get(t[0]);n=c._s.get("web-player.aligned-curation.feedback.removed",e?.name),s=e?.image}r({message:n,imageSrc:s})}),[o,r,i]),m=(0,s.useCallback)((async()=>{if(0===o.size)return;const s=[],i=[];for(const[e,t]of o)t.type===D.ADD?s.push(e):t.type===D.REMOVE&&i.push(e);try{const r=await(n?.curateItems(e,s,i));u(s,i),t?.(r,e,o)}catch{a()}}),[o,n,e,u,t,a]);return{changes:o,toggleChange:d,saveChanges:m}})(e,t),d=(0,N.IP)(Ye.Sw),{setFilter:u,filter:m}=(0,s.useContext)(Qe.on);(0,s.useEffect)((()=>()=>u("")),[u]),(0,s.useEffect)((()=>{n?.(r.size>0)}),[r,n]);const{spec:p,logger:h}=(0,S.gp)(O.a,{data:{uri:e}}),f=(0,S.K2)(p),y=(0,s.useMemo)((()=>p.filterContainerFactory()),[p]),_=(0,s.useMemo)((()=>p.doneButtonFactory()),[p]),b=(0,s.useCallback)((t=>{t.preventDefault(),t.stopPropagation(),r.size&&(l(),i(),h.logInteraction(_.hitUiHide()),Array.from(r).forEach((([t,n])=>{const s=t===E.cx||t===E.ql,i=n.type===D.ADD;let r;r=s?i?_.hitLike({itemToBeLiked:e}):_.hitRemoveLike({itemNoLongerLiked:e}):i?_.hitAddToPlaylist({playlist:t,itemToBeAdded:e}):_.hitRemoveItemFromPlaylist({itemToBeRemovedFromPlaylist:e}),h.logInteraction(r)})))}),[r,_,h,i,l,e]);return(0,g.jsx)(G.W,{focusTrapOptions:{allowOutsideClick:!0},children:(0,g.jsxs)("form",{className:T()("encore-dark-theme","encore-layout-themes",{"vertical-metrics":d},ie),onClick:e=>{e.stopPropagation()},onSubmit:b,onKeyDownCapture:e=>{"Enter"===e.key&&e.metaKey&&b(e)},ref:f,children:[(0,g.jsx)(Me,{title:c._s.get("web-player.aligned-curation.title")}),(0,g.jsx)("div",{className:ae,children:(0,g.jsx)(W,{spec:y})}),(0,g.jsx)(j.g,{children:(0,g.jsx)(qe,{uri:e,toggleChange:o,changes:r,saveChanges:l,hideCurationSheet:i,depth:0,filter:m,id:"curation-sheet-list",spec:p})}),(0,g.jsxs)("div",{className:ue,children:[(0,g.jsx)(a.u,{type:"button",semanticColor:"textSubdued",size:"small",onClick:()=>{i(),h.logInteraction(p.cancelButtonFactory().hitUiHide())},condensed:!0,children:c._s.get("web-player.aligned-curation.button.cancel")}),0===r.size?null:(0,g.jsx)(k.g,{type:"submit",colorSet:"invertedLight",size:"small",children:c._s.get("web-player.aligned-curation.button.done")})]})]})})},$e=s.memo((function({...e}){return(0,g.jsx)(L.a,{onError:e=>{(0,V.gh)(e,"CurationSheet")},children:(0,g.jsx)(Qe.WC,{uri:"spotify:internal:aligned-curation",children:(0,g.jsx)(Xe,{...e})})})})),Je=e=>{const t=(0,P.oJ)();return(0,I.u_)(),(0,g.jsx)($e,{...e,onHide:()=>t({type:"close"})})},Ze=({uri:e,onChangesSaved:t,onShow:n,children:i})=>{const r=(0,s.useRef)(!1),a=(0,s.useCallback)((e=>{r.current=e}),[]),o=(0,s.useCallback)((e=>{r.current||e()}),[]);return(0,g.jsx)(I.SM,{menu:(0,g.jsx)(Je,{uri:e,onChangesSaved:t,onHasChanges:a}),onClickOutside:o,onShow:n,snapshotReferenceElementPositionWhileOpen:!0,autoUpdate:!1,children:i})};var et=n(67716),tt=n(59368);function nt(){const e=(0,tt.M)();return{closeSnackbar:(0,s.useCallback)((t=>{t instanceof RegExp?e.current.forEach((e=>{t.test(`${e}`)&&(0,et.EF)(e)})):(0,et.EF)(t)}),[e]),closeSnackbarWithKeyPrefix:(0,s.useCallback)((t=>{e.current.forEach((e=>{`${e}`.startsWith(t)&&(0,et.EF)(e)}))}),[e])}}var st=n(64480),it=n(84496),rt=n(65164),at=n(12612),ot=n(52316),lt=n(56112),ct=n(66556),dt=n(18508);var ut=function(e){return e[e.UNCURATED=0]="UNCURATED",e[e.CURATED=1]="CURATED",e}(ut||{});const mt={[ut.CURATED]:{Icon:i.W,iconProps:{semanticColor:"textBrightAccent"},transitions:{[ut.UNCURATED]:{animationFilePath:(0,l.K)("animations/plus-deselected-confetti-white.json"),style:{transform:"scale(2.448)"}}}},[ut.UNCURATED]:{Icon:r.u,transitions:{[ut.CURATED]:{animationFilePath:(0,l.K)("animations/plus-selected-confetti-white.json"),style:{transform:"scale(2.448)"}}}}},pt=(0,s.memo)((function({uri:e,size:t="small",className:n,condensed:i=!0}){const r=(0,st.mu)(e),l=(0,s.useRef)(r);l.current=r;const h=(0,s.useRef)(null),f=(0,s.useCallback)((()=>{h.current=r}),[r]),{isCurated:y,curateDefault:_,defaultCurationContextUri:I}=function(e,t=!1){const n=(0,x.m)(),i=(0,s.useCallback)((()=>n.isCuratedSync(e)||t),[t,n,e]),[r,a]=(0,s.useState)(i),o=(0,s.useCallback)((()=>n.curateDefault(e)),[n,e]);return(0,s.useEffect)((()=>{a(i)}),[i]),(0,s.useEffect)((()=>{const t=n.getEvents(),s=t=>{t.data.uri===e&&a(t.data.isCurated)};return t.addListener(C.qc.UPDATE_CURATED_ITEM,s,{uri:e}),()=>{t.removeListener(C.qc.UPDATE_CURATED_ITEM,s,{uri:e})}}),[n,e]),{isCurated:r,curateDefault:o,defaultCurationContextUri:n.getDefaultCurationContextUri(e)}}(r),A=function(){const{enqueueCustomSnackbar:e}=(0,dt.I)(),{closeSnackbarWithKeyPrefix:t}=nt();return(0,s.useCallback)(Spicetify.Snackbar.enqueueImageSnackbar=(({onChangeCurationClick:n,message:s,imageSrc:i})=>(t("default-curation"),e((0,g.jsx)(it.Y,{children:(0,g.jsx)(lt.g,{leading:(0,g.jsx)(at.u,{src:i,type:Q.s.PLAYLIST,title:s}),center:(0,g.jsx)(ot.q,{children:s}),trailing:(0,g.jsx)(rt.W,{ctaText:c._s.get("web-player.aligned-curation.feedback.change-button"),onCtaClick:n})})}),{autoHideDuration:ct.Y,keyPrefix:"default-curation"}))),[t,e])}(),{closeSnackbarWithKeyPrefix:T}=nt(),k=F(),{setState:N,Icon:O}=function(e,t){const[n,i]=(0,s.useState)(e),[r,a]=(0,s.useState)(null),o=(0,m.C)(),{[n]:{Icon:l,iconProps:c}}=t;(0,s.useLayoutEffect)((()=>{i(e)}),[e]);const d=(0,s.useCallback)((e=>{if(!r)return null;const{FallbackIcon:t,...n}=r,i=(0,s.useCallback)((()=>{a(null)}),[]);return(0,g.jsx)(v.Ou,{fallback:(0,g.jsx)(t,{...e}),onError:()=>a(null),children:(0,g.jsx)(s.Suspense,{fallback:(0,g.jsx)(t,{...e}),children:(0,g.jsx)(b,{...n,...e,onLottieAnimationEnd:i})})})}),[r]),u=(0,s.useCallback)((e=>(0,g.jsx)(l,{...c,...e})),[l,c]);return{Icon:r?d:u,setState:(0,p.Y1)((e=>{i((n=>{const s=t[n].transitions[e];if(s&&!o){const e=t[n].Icon,i=t[n].iconProps;a({...s,FallbackIcon:t=>(0,g.jsx)(e,{...t,...i})})}else a(null);return e}))}),[o,t])}}(y?ut.CURATED:ut.UNCURATED,mt),{spec:P,logger:j}=(0,S.gp)(o.M,{}),L=(0,s.useCallback)((async(t,n)=>{t.preventDefault();const s=function(e){if(e===E.cx)return(0,u.IN)();if(E.ql)return(0,u.ms)();return null}(I);N(ut.CURATED);const i=I===E.cx||I===E.ql;j.logInteraction(i?P.hitLike({itemToBeLiked:e}):P.hitAddToPlaylist({playlist:I,itemToBeAdded:e}));try{await _();const t=s?.name?c._s.get("web-player.aligned-curation.feedback.added",s?.name):c._s.get("web-player.aligned-curation.feedback.added-to-library");A({onChangeCurationClick:t=>{n?.(t),j.logInteraction(P.defaultCurationSnackbarFactory().changeCurationContextButtonFactory({uri:e}).hitUiReveal())},message:t,imageSrc:(0,w.C)(s?.images,{desiredSize:24})?.url})}catch{k()}}),[I,N,j,P,e,_,A,k]),R=(0,s.useCallback)(((e,t)=>{t===l.current&&!1===e&&N(ut.UNCURATED)}),[N]),D=function(e,t){if(e)return c._s.get("web-player.aligned-curation.tooltips.add-to-playlist");if(t===E.cx)return c._s.get("web-player.aligned-curation.tooltips.add-to-liked-songs");if(t===E.ql)return c._s.get("web-player.aligned-curation.tooltips.add-to-your-episodes");return c._s.get("web-player.aligned-curation.tooltips.add-to-your-library")}(y,I);return(0,g.jsx)(Ze,{uri:r,onChangesSaved:R,onShow:f,children:(e,s,o)=>(0,g.jsx)(d.Yl,{label:D,children:(0,g.jsx)(a.u,{size:t,className:n,"aria-checked":y,"aria-label":D,condensed:i,iconOnly:O,semanticColor:y?"textBrightAccent":void 0,ref:o,onClick:t=>{e&&h.current&&h.current!==r&&(h.current=r,s(t)),y?(s(t),j.logInteraction(P.hitUiReveal()),T("default-curation")):L(t,s)}})})})}))},42300:(e,t,n)=>{"use strict";n.d(t,{K:()=>d});var s=n(10124),i=n.n(s),r=n(58112),a=n(24300),o=n(52112),l=n(94496),c=n(2488);const d=({uri:e,spec:t,type:n,isOwnedBySelf:s})=>(0,o.E)(e)?(0,c.jsx)(r.u,{uri:e,className:i()(l.c.curationButton,{[l.c.ownedBySelf]:s})}):(0,c.jsx)(a.Cg,{uri:e,type:n,spec:t})},64444:(e,t,n)=>{"use strict";n.d(t,{c:()=>u});var s=n(96651),i=n(43619),r=n(84496),a=n(12612),o=n(52316),l=n(56112),c=n(18508),d=n(2488);function u(){const{enqueueCustomSnackbar:e}=(0,c.I)();Spicetify.Snackbar.enqueueCustomSnackbar=e;return(0,s.useCallback)(Spicetify.Snackbar.enqueueImageSnackbar=(({message:t,imageSrc:n})=>{e((0,d.jsx)(r.Y,{children:(0,d.jsx)(l.g,{leading:!1===n?void 0:(0,d.jsx)(a.u,{src:n,type:i.s.PLAYLIST,title:t}),center:(0,d.jsx)(o.q,{children:t})})}),{identifier:t})}),[e])}},59732:(e,t,n)=>{"use strict";n.d(t,{q:()=>H});n(41260);var s=n(96651),i=n(76008),r=n(8004),a=n(51383),o=n(12100),l=n(74712),c=n(10124),d=n.n(c),u=n(5540),m=n(87056),p=n(78390),h=n(58840);const g="od_kF1rLZbir8kM_F607",f="qyKJPLjz8o4jnbk92JOn",y="zsVdTdACMZA_MWB3HlEW",_="nsakAYOtgZOAcEO4ObrM",b="uJjmxe0T11dUVeW6Biz8",v="F1K3uW1jqwG0wxFHO5gl",x="Ii9XdJaXIuKbmR1zC4Rt";var C=n(2488);const E=s.memo((function(e){const{images:t,initialSelected:n=0}=e,[i,r]=(0,s.useState)(n),[a,l]=(0,s.useState)(0),c=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const e=c.current;e&&l(e.clientWidth)}),[]),(0,h.u)((()=>{const e=c.current;e&&l(e.clientWidth)})),0===t.length?null:(0,C.jsxs)("div",{className:g,children:[t.length>1&&(0,C.jsxs)(C.Fragment,{children:[0!==i&&(0,C.jsx)("button",{type:"button","aria-label":o._s.get("gallery.prev"),onClick:()=>r(i-1),className:d()(f,y),children:(0,C.jsx)(u.C,{})}),i!==t.length-1&&(0,C.jsx)("button",{type:"button","aria-label":o._s.get("gallery.next"),onClick:()=>r(i+1),className:d()(f,_),children:(0,C.jsx)(m.U,{})})]}),(0,C.jsx)("ul",{className:b,ref:c,dir:"auto",children:t.map(((e,t)=>(0,C.jsx)("li",{"aria-hidden":i!==t,className:v,style:{transform:`translateX(-${i*a}px)`},children:(0,C.jsx)(p.W,{loading:"lazy",src:e.url,width:e.width,height:e.height,className:x})},t)))})]})}));var S=n(20356),w=n(11732),I=n(2052),A=n(66220),T=n(40636),k=n(84340),N=n(93952),O=n(84708),P=n(57984),j=n(13168),L=n(59148);const R="i4D2KoD4VsgqCciKSU23",D="zuzEUQ73xaDpNkHRu4Q4",M="oe0FHRJU7PvjoTnXJmfr";function U(e){switch(e){case k.kh.Facebook:return(0,C.jsx)(N.U,{className:D});case k.kh.Twitter:return(0,C.jsx)(O.i,{className:D});case k.kh.Instagram:return(0,C.jsx)(P.u,{className:D});case k.kh.Wikipedia:return(0,C.jsx)(L.K,{className:D});case k.kh.Soundbetter:return(0,C.jsx)(j.o,{className:D});case k.kh.Other:default:return null}}function F(e){if(e.name===k.kh.Soundbetter){const t=new URL(e.url);return t.searchParams.append("utm_source","open.spotify.com"),t.searchParams.append("utm_medium","referral"),t.searchParams.append("utm_campaign","hireme_link_spotify"),t.href}return e.url}function B(e){switch(e){case k.kh.Facebook:return"Facebook";case k.kh.Twitter:return"Twitter";case k.kh.Instagram:return"Instagram";case k.kh.Wikipedia:return"Wikipedia";case k.kh.Soundbetter:return"Hire Me on SoundBetter";case k.kh.Other:default:return"Other"}}const G=({links:e})=>0===e.length?null:(0,C.jsx)("div",{className:R,children:e.map((e=>(0,C.jsxs)("a",{rel:"noopener noreferrer",target:"_blank",href:F(e),className:M,children:[U(e.name),(0,C.jsx)(r.a,{variant:"bodySmall",children:B(e.name)})]},e.url)))});var V=n(22756);const H=s.memo((function(e){const{artistUri:t,name:n,bio:c="",bioSource:d=null,images:u=[],avatarImages:m=[],worldRank:p,monthlyListeners:h,topCities:g,followers:f,externalLinks:y=[],isOpen:_,closeModal:b}=e,{spec:v}=(0,T.gp)(a.m,{data:{identifier:"",uri:t}}),x=(0,s.useCallback)((()=>{v.closeButtonFactory().hitUiHide(),b()}),[b,v]),N=(0,T.K2)(v);return(0,C.jsxs)(S.c,{contentLabel:n,className:V.c.modal,isOpen:_,onRequestClose:x,animation:{modal:{base:V.c.modalBase,afterOpen:V.c.modalAfterOpen,beforeClose:V.c.modalBeforeClose}},animated:!0,children:[(0,C.jsx)("button",{type:"button","aria-label":o._s.get("close"),onClick:x,className:V.c.close,children:(0,C.jsx)(i.K,{size:"small"})}),(0,C.jsxs)(I.G,{className:V.c.scrollbars,children:[(0,C.jsx)(E,{images:u}),(0,C.jsx)("div",{className:V.c.content,ref:N,children:(0,C.jsxs)("div",{className:V.c.columnContainer,children:[(0,C.jsxs)("div",{className:V.c.statsContainer,children:[p>0?(0,C.jsxs)("div",{className:V.c.rank,children:[(0,C.jsxs)(r.a,{as:"div",variant:"titleSmall",children:["#",p]}),(0,C.jsx)(r.a,{as:"div",variant:"marginal",children:o._s.get("artist-page.world_rank")})]}):null,"number"==typeof f?(0,C.jsxs)("div",{className:V.c.stats,children:[(0,C.jsx)(r.a,{as:"div",variant:"titleMedium",semanticColor:"textBase",children:o._s.formatNumber(f)}),(0,C.jsx)(r.a,{as:"div",variant:"bodySmall",children:o._s.get("followers")})]}):null,"number"==typeof h?(0,C.jsxs)("div",{className:V.c.stats,children:[(0,C.jsx)(r.a,{as:"div",variant:"titleMedium",semanticColor:"textBase",children:o._s.formatNumber(h)}),(0,C.jsx)(r.a,{as:"div",variant:"bodySmall",children:o._s.get("monthly_listeners")})]}):null,g&&g.length?g.map((({city:e,numberOfListeners:t,country:n},s)=>(0,C.jsxs)("div",{className:V.c.cityBlock,children:[(0,C.jsx)(r.a,{as:"div",variant:"bodySmallBold",semanticColor:"textBase",children:o._s.get("artist-page.where-people-listen-from",e||"",n||"")}),(0,C.jsx)(r.a,{as:"div",variant:"bodySmall",children:o._s.get("artist-page.how-many-listeners",t||0)})]},s))):null,(0,C.jsx)(s.Suspense,{fallback:null,children:(0,C.jsx)(G,{links:y})})]}),(0,C.jsx)("div",{className:V.c.bioContainer,children:c?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(r.a,{as:"div",variant:"bodyMedium",className:V.c.bio,dir:"auto",children:(0,C.jsx)(A.M,{source:c,LinkComponent:w.Link,onLinkClick:x})}),d===k.Hk.Autobiography&&(0,C.jsxs)("div",{className:V.c.postedBy,children:[(0,C.jsx)(l.C,{images:m,label:n,width:32,userIconSize:"small",className:V.c.postedByAvatar}),(0,C.jsx)(r.a,{as:"div",variant:"bodySmall",children:o._s.get("acq.artist.about.attribution",{artist:n})})]})]}):null})]})})]})]})}))},50508:(e,t,n)=>{"use strict";n.d(t,{CS:()=>a,GS:()=>c,O4:()=>r,od:()=>d});n(41260);var s=n(96651),i=n(2488);const r=(e,t)=>({type:"OPEN",name:e,handle:t}),a=e=>({type:"CLOSE",name:e});function o(e,t){switch(t.type){case"OPEN":{const{name:n,handle:s}=t;return e.map.has(n)?e:(e.map.set(n,s),{...e,map:e.map})}case"CLOSE":{const{name:n}=t;return e.map.delete(n)?{...e,map:e.map}:e}}return e}const l=(0,s.createContext)(null),c=({children:e})=>{const t=new Map,n={map:t,get:e=>t.get(e)??null},[r,a]=(0,s.useReducer)(o,n);return(0,i.jsx)(l.Provider,{value:[r,a],children:e})};function d(){const e=(0,s.useContext)(l);if(null===e)throw new Error("Trying to use 'AuxiliaryWindowContext' without 'AuxiliaryWindowProvider'!");return e}},82812:(e,t,n)=>{"use strict";n.d(t,{I:()=>f});var s=n(96651),i=n(32976),r=n(8004),a=n(54268),o=n(14788),l=n(78390),c=n(40636),d=n(11732);const u="x-categoryCard-CategoryCard",m="x-categoryCard-title",p="x-categoryCard-image";var h=n(2488);const g=i.EFd,f=({title:e,imageUrl:t,viewId:n,pageId:i,color:f=g,href:y,index:_,ubiId:b})=>{const v=n&&`/genre/${n}`||y||"#",{spec:x,logger:C}=(0,c.gp)(a.createDesktopCategoryCardEventFactory,{data:{position:_,identifier:b}}),E=(0,s.useCallback)((()=>{const e=(0,o.nX)(v)?.toURI();e&&C.logInteraction(x.hitUiNavigate({destination:e}))}),[C,x,v]);return(0,h.jsx)(d.Link,{to:v,pageId:i,className:u,style:{backgroundColor:f},onClick:E,children:(0,h.jsxs)("div",{children:[t?(0,h.jsx)(l.W,{loading:"lazy",src:t,className:p}):null,(0,h.jsx)(r.a,{variant:"titleSmall",className:m,children:e})]})})}},86604:(e,t,n)=>{"use strict";n.d(t,{Ev:()=>c,MZ:()=>d,gH:()=>m,o7:()=>l});var s=n(96651),i=n(14788),r=n(2488);const a=(0,s.lazy)((()=>Promise.all([n.e(8596),n.e(5922)]).then(n.bind(n,61744)).then((e=>({default:e.BrowsePage}))))),o=(0,s.lazy)((()=>Promise.all([n.e(8596),n.e(5922)]).then(n.bind(n,23916)).then((e=>({default:e.BrowseSection}))))),l=({id:e})=>{if(e.startsWith("section"))return(0,r.jsx)(o,{uri:u(e)});const t=function(e){return/^(section)?[0-9A-Za-z_-]{22}$/.test(e)}(e)?function(e){return`spotify:page:${e}`}(e):m(e);return(0,r.jsx)(a,{uri:t,id:e})};function c(e){const t=(0,i.nX)(e,{parseUnknown:!0}),[n,s]=t?.args??[];if(s&&"page"===n)return`/genre/${s}`}function d(e){const t=(0,i.nX)(e,{parseUnknown:!0}),[n,s]=t?.args??[];if(s&&"section"===n)return`/genre/section${s}`}function u(e){return`spotify:section:${e.replace(/^section/,"")}`}function m(e){return`spotify:genre:${e}`}},62196:(e,t,n)=>{"use strict";n.d(t,{C:()=>r,q:()=>i});var s=n(96651);const i=(0,s.createContext)(null);function r(){const e=(0,s.useContext)(i);if(null===e)throw new Error("useBuddyFeedContext() must be used within a BuddyFeedContext.Provider");return e}},61984:(e,t,n)=>{"use strict";n.d(t,{c:()=>T});var s=n(96651),i=n(18648),r=n(58024),a=n(76008),o=n(8004),l=n(49612),c=n(66648),d=n(12100),u=n(84264),m=n(56872),p=n(40636);const h="LUZuAtOgmXbneOoxnP8P",g="r4ZTDlEunjDS3sz3L2zK",f="Tro85cCjPA7ZHyzR1zAE",y="ha09EFavr4tw3Rcf14Wt",_="e7m85731K8PcdAPpY0_T",b="IFRpxU2fT2MFYfqhTXIg",v="ihYHUpb9FuqRKkywvHIQ",x="q9rlL6VTsRm59YxuIceC";var C=n(2488);const E="ArrowUp",S="ArrowDown",w="Escape",I=[w,S,E,"Tab"],A=e=>{const{placeholder:t,onSelectLocation:n,onCancel:l,spec:c}=e,h=(0,s.useRef)(null),A=(0,s.useRef)(null),T=(0,s.useRef)(null),k=(0,s.useRef)(-1),[N,O]=(0,s.useState)(""),[P]=(0,i.je)(N,300),j=P.trim(),[L,R]=(0,s.useState)(),[D,M]=(0,s.useState)(!1),U=(0,p.Mk)(),F=(0,s.useMemo)((()=>c?.changeLocationFormFactory()),[c]),B=(0,s.useMemo)((()=>c?.locationsResponseFactory()),[c]),G=(0,s.useMemo)((()=>F?.changeLocationInputFactory()),[F]),V=(0,s.useMemo)((()=>F?.changeLocationClearFactory()),[F]);(0,s.useEffect)((()=>{if(M(!1),j.length<=1)return void R(void 0);let e=!0;return(0,m.aK)(u.W.getInstance(),j).then((t=>{e&&R(t.body.results)}),(()=>{e&&(R(void 0),M(!0))})),()=>{e=!1}}),[G,U,j]),(0,s.useEffect)((()=>{const e=e=>{h.current?.contains(e.target)||l()};return document?.addEventListener("click",e,!0),()=>{document?.removeEventListener("click",e,!0)}}),[l]);return(0,C.jsxs)("div",{ref:h,className:g,"data-interaction-context":"location-selector",onKeyDown:e=>{const t=e.key;if(!I.includes(t))return;e.preventDefault();const n=L?.length??0;let s=k.current;switch(t){case w:return void l();case E:s=Math.max(k.current-1,-1);break;case S:case"Tab":s=Math.min(k.current+1,n-1);break;default:return}if(s<0)A.current?.focus();else{const e=T.current?.childNodes[s]?.firstChild;e instanceof HTMLButtonElement&&e.focus()}k.current=s},children:[(0,C.jsxs)("div",{className:f,children:[(0,C.jsx)(r.O,{size:"small"}),(0,C.jsx)("input",{className:y,type:"search",id:"change-location-input",placeholder:t,value:N,onChange:e=>{const t=e.target.value;O(t),k.current=-1,G&&(t.trim().length<1&&U.logInteraction(G.keyStrokeUiHide()),U.logInteraction(G.keyStrokeTextEdit({fieldToBeChanged:"loction"})))},ref:A,"aria-label":t,autoFocus:!0}),N.length>0&&(0,C.jsx)("button",{className:_,"aria-label":d._s.get("search.a11y.clear-input"),onClick:()=>{O(""),V&&U.logInteraction(V.hitTextClear())},children:(0,C.jsx)(a.K,{size:"small"})})]}),D&&(0,C.jsx)(o.a,{as:"p",variant:"bodyMedium",className:b,children:d._s.get("concert.error.general_error_title")}),0===L?.length&&(0,C.jsx)(o.a,{as:"p",variant:"bodyMedium",className:b,children:d._s.get("concert.error.no_locations_found_subtitle")}),(0,C.jsx)("ol",{className:v,ref:T,children:L?.map(((e,t)=>(0,C.jsx)("li",{children:(0,C.jsx)("button",{className:x,tabIndex:t+1,onClick:()=>((e,t)=>{if(n(e),!B)return;const s=B.locationResultFactory({identifier:e.location||e.geonameId?.toString(10)||"",position:t}).hitUiHide();U.logInteraction(s)})(e,t),children:(0,C.jsx)(o.a,{variant:"bodyMedium",children:e.location})})},e.geonameId)))})]})},T=e=>{const{handleLocationChange:t,locationStr:n,headerSpec:i}=e,[r,a]=(0,s.useState)(!1),o=(0,s.useMemo)((()=>i?.changeLocationButtonFactory()),[i]),u=(0,s.useMemo)((()=>i?.changeLocationUiFactory({identifier:n})),[i,n]),m=(0,p.Mk)();return(0,C.jsxs)("div",{className:h,children:[(0,C.jsx)(l.w,{iconLeading:c.c,onClick:()=>{o&&!r&&m.logInteraction(o.hitUiReveal()),a(!r)},size:"small",children:n}),r&&(0,C.jsx)(A,{placeholder:d._s.get("concerts.input.search_placeholder"),onSelectLocation:e=>{t(e),a(!1)},onCancel:()=>a(!1),spec:u})]})}},65876:(e,t,n)=>{"use strict";n.d(t,{G:()=>f});var s=n(96651),i=n(10124),r=n.n(i),a=n(8004),o=n(14788),l=n(11732),c=n(40636),d=n(86524),u=n(37496),m=n(51300),p=n(2488);function h(e){return e.name?e.name:""}const g=({children:e,uri:t,condensed:n,spec:i,index:a})=>{const d=(0,c.Mk)(),u=(0,o.nX)(t),h=null!==u&&(0,o.Ij)(u)?u.id:"",g=(0,s.useMemo)((()=>i.tourElementFactory({identifier:h,uri:t,position:a||0,reason:""})),[i,t,h,a]),f=(0,c.K2)(g);return(0,p.jsx)(l.default,{to:t,className:r()(m.c.item,{[m.c.condensed]:n}),onClick:()=>{d.logInteraction(g.hitUiNavigate({destination:t}))},ref:f,children:e})},f=s.memo((function({concert:e,spec:t,index:n,condensed:s,elevatedDate:i,titleVariant:o="bodyMediumBold"}){const{venue:l,uri:c}=e,f=(0,d.mY)(e.date.isoString);return(0,p.jsxs)(g,{uri:c,condensed:s,spec:t,index:n,children:[(0,p.jsxs)("time",{className:r()(m.c.date,{[m.c.condensed]:s,[m.c.elevated]:i}),dateTime:(0,d.HI)(f),children:[(0,p.jsx)(a.a,{as:"h5",variant:"bodySmallBold",className:m.c.dateMonth,children:(0,d.WQ)(f)}),(0,p.jsx)(a.a,{as:"h1",variant:"titleSmall",className:m.c.dateDay,children:(0,d.is)(f)})]}),(0,p.jsxs)("div",{className:m.c.info,children:[(0,p.jsx)(a.a,{as:"h3",variant:o,semanticColor:"textBase",className:r()(m.c.title,{[m.c.condensed]:s}),children:l.location?.name}),(0,p.jsx)(a.a,{as:"p",variant:"bodySmall",className:m.c.eventName,children:(0,u.iQ)(e)}),(0,p.jsxs)(a.a,{as:"span",semanticColor:"textSubdued",className:r()(m.c.timeAndVenue,{[m.c.condensed]:s}),children:[(0,p.jsx)("time",{className:m.c.time,children:(0,d.eI)(f)}),h(l)]})]})]})}))},54088:(e,t,n)=>{"use strict";n.d(t,{M:()=>_,u:()=>y});var s=n(3088),i=n(43168),r=n(25800),a=n(38896),o=n(73108),l=n(94032),c=n(48028),d=n(28972),u=n(252),m=n(84340),p=n(59476),h=n(52276),g=n(89291),f=n(2488);function y(e,t){return _(e.content)?function(e,t){if("GenericError"===e.__typename||"NotFound"===e.__typename||"RestrictedContent"===e.__typename)return null;const n=`${t}-${e.uri}`,y=(0,g.gT)(e),_=(0,g.s7)(e);switch(e.__typename){case"Album":return(0,f.jsx)(s.Q,{uri:e.uri,name:e.name,images:y,color:_,sharingInfo:null,artists:(0,p.m4)(e.artists),index:t},n);case"Artist":return(0,f.jsx)(i.M,{uri:e.uri,name:e.profile.name,images:y,color:_,index:t},n);case"Audiobook":return(0,f.jsx)(r.M,{uri:e.uri,name:e.name,images:y,color:_,authorName:e.authors?.[0]?.name??"",index:t,signifierText:e.accessInfo?.signifier?.text??void 0},n);case"Chapter":{if("Audiobook"!==e.audiobookV2.data.__typename)return null;const s=e.audiobookV2.data;return(0,f.jsx)(r.M,{uri:s.uri,name:s.name,images:y,color:_,authorName:s.authors?.[0]?.name??"",index:t,signifierText:s.accessInfo?.signifier?.text??void 0},n)}case"Episode":return(0,f.jsx)(a.w,{uri:e.uri,name:e.name,images:y,color:_,showImages:(0,g.oV)(e),description:e.description??"",durationMilliseconds:e.duration.totalMilliseconds,releaseDate:(0,p.iK)(e.releaseDate),resume_point:{resume_position_ms:e.playedState.playPositionMilliseconds,fully_played:e.playedState.state===m.QF.Completed},isExplicit:(0,p.K)(e.contentRating),is19PlusOnly:(0,p.CO)(e.contentRating),sharingInfo:null,index:t},n);case"Playlist":{let s="";return"User"===e.ownerV2.data.__typename&&(s=e.ownerV2.data.name),(0,f.jsx)(o.I,{uri:e.uri,name:e.name,images:y,color:_,description:e.description,authorName:s,index:t,isPlayable:!(0,u.Y)(e?.attributes)},n)}case"Podcast":return(0,f.jsx)(c.E,{uri:e.uri,name:e.name,images:y,color:_,publisher:e.publisher?.name??"",sharingInfo:null,mediaType:(0,p.cT)(e.mediaType),index:t},n);case"Track":return(0,f.jsx)(d.y,{uri:e.uri,name:e.name,images:y,color:_,artists:(0,p.ob)(e.artists),album:e.albumOfTrack?{uri:e.albumOfTrack.uri,name:e.albumOfTrack.name}:null,isExplicit:(0,p.K)(e.contentRating),is19PlusOnly:(0,p.CO)(e.contentRating),sharingInfo:null,index:t},n);case"User":return(0,f.jsx)(l.o,{uri:e.uri,name:e.name,images:y,color:_,index:t},n);default:return(0,h.I)(e),null}}(e.content.data,t):null}function _(e){switch(e.__typename){case"AlbumResponseWrapper":case"ArtistResponseWrapper":case"EpisodeOrChapterResponseWrapper":case"PlaylistResponseWrapper":case"PodcastOrAudiobookResponseWrapper":case"TrackResponseWrapper":case"UserResponseWrapper":return!0;case"UnknownType":return!1;default:return(0,h.I)(e),!1}}},91232:(e,t,n)=>{"use strict";n.d(t,{O:()=>_e,g:()=>ye});n(41260),n(73952),n(97296);var s=n(96651),i=n(10124),r=n.n(i),a=n(49232),o=n(73670),l=n(62572),c=n(252),d=n(87668),u=n(43619),m=n(61580),p=n(46360),h=n(15368),g=n(26020),f=n(40384),y=n(14788),_=n(12100),b=n(7300),v=n(43756),x=n(1968),C=n(8968),E=n(50060),S=n(5256),w=n(94192),I=n(56424),A=n(2488);const T=(0,s.memo)((function({item:e}){const t=(0,E._)(e.uri),n=e.duration_ms??0,{isPlaying:s,isActive:i}=(0,w.Cu)(e.uri),[r]=(0,S.e)(1e4,(t=>t.item?.uri===e.uri)),a=e.resume_point?.resume_position_ms??0,o=s||i?r:a,l=Math.round(100/(n/o)),c=t===C.If.YES,d=n&&o>0;return c||d?(0,A.jsxs)("div",{className:I.c.episodeExtraContent,children:[c?(0,A.jsx)(v.E,{size:"small",semanticColor:"textBrightAccent",className:I.c.iconDownloaded}):null,d?(0,A.jsx)(x.c,{className:I.c.episodeProgressBar,value:l,semanticColor:"essentialBase"}):null]}):null}));var k=n(33220),N=n(8004),O=n(8376),P=n(52520),j=n(34328),L=n(76172),R=n(52588),D=n(40636),M=n(54584),U=n(6812),F=n(47824),B=n(7296),G=n(11732);const V=s.memo((function({index:e,item:t,image:n,showPlayButton:i,extraContent:a,size:o,playInsteadOfNavigating:l=!1,onContextMenu:c=(()=>{}),onTouchStart:d=(()=>{}),onTouchEnd:u=(()=>{})}){const p=(0,k.i6)(),h=(0,B.w)(),{setColorFromUri:g,resetColor:f,clearColor:_}=(0,m.e2)(),b=(0,P.CC)(t.uri,t.release_date,t.resume_point?.resume_position_ms,t.resume_point?.fully_played),{spec:v,logger:x}=(0,D.gp)(O.a,{data:{position:e,uri:t.uri}}),{isPlaying:C,isActive:E,togglePlay:S}=(0,R.I)({uri:t.uri},{featureIdentifier:"home",referrerIdentifier:"home"}),w=(0,y.nX)(t.uri),T=(0,F.W)({type:"link",uri:t.uri}),V=(0,s.useCallback)((()=>{h({targetUri:t.uri,intent:C?"pause":"play",type:"click"});const e=v.playButtonFactory();let n;n=C?e.hitPause({itemToBePaused:t.uri}):E?e.hitResume({itemToBeResumed:t.uri}):e.hitPlay({itemToBePlayed:t.uri});const s=x.logInteraction(n);S({loggingParams:s})}),[E,C,t.uri,x,h,v,S]),H=(0,s.useCallback)((()=>{h({targetUri:t.uri,intent:"navigate",type:"click"});const e=v.hitUiNavigate({destination:t.uri});x.logInteraction(e)}),[t.uri,x,h,v]),W=(0,s.useCallback)((()=>{if(l)return void V();let e;H(),w&&(e=w.toURLPath(!0));const t=T?(0,M.oP)(e||""):e;t&&p(t)}),[l,H,w,T,V,p]),z=(0,s.useCallback)((()=>{g(t.uri)}),[t.uri,g]);(0,s.useEffect)((()=>()=>{_()}),[_]);const Y=(0,U.C)({itemUris:[t.uri],dragLabelText:t.name});return(0,A.jsx)("div",{className:I.c.shortcut,onContextMenu:c,onTouchStart:d,onTouchEnd:u,onMouseEnter:z,onMouseLeave:f,children:(0,A.jsxs)("div",{className:I.c.draggable,draggable:!0,onDragStart:Y,children:[n,(0,A.jsxs)("div",{className:I.c.main,children:[(0,A.jsxs)("div",{className:I.c.content,children:[(0,A.jsx)("div",{className:I.c.nameContainer,children:(0,A.jsx)(G.Link,{to:t.uri,onClick:H,title:t.name,children:(0,A.jsx)(N.a,{as:"p",variant:"small"===o?"bodySmallBold":"bodyMediumBold",className:r()(I.c.name),children:t.name})})}),a||null]}),(0,A.jsxs)("div",{className:I.c.trailingIndicator,children:[(i||C)&&(0,A.jsxs)("div",{className:I.c.PlayButtonContainer,children:[C&&(0,A.jsx)(L.W,{className:I.c.equaliser,animated:!0}),i&&(0,A.jsx)(j.O,{className:I.c.playButton,isPlaying:C,onClick:V,size:"small"===o?"small":"medium"})]}),b&&!C&&(0,A.jsx)(P.CU,{className:I.c.shortcutNewEpisodeIndicator})]})]}),(0,A.jsx)("div",{onClick:W,className:I.c.shortcutLink})]})})}));var H=n(78390),W=n(40068);const z=(0,s.memo)((function({images:e=[],fallbackIcon:t=p.I}){const n=(0,W.C)(e);return(0,A.jsx)("div",{className:I.c.imageContainer,children:(0,A.jsx)("div",{className:I.c.imageWrapper,children:(0,A.jsx)(H.W,{className:I.c.image,src:n?.url,loading:"lazy",testid:"shortcut-image",children:(0,A.jsx)(t,{"aria-hidden":!0})})})})}));var Y=n(5508),K=n(99279),q=n(25676),Q=n(33744),X=n(71464),$=n(30540),J=n(81472);const Z=s.memo((function(e){return(0,y.W8)(e.item.uri)?(0,A.jsx)(V,{...e,image:(0,A.jsx)(z,{images:e.item.images,fallbackIcon:p.I}),showPlayButton:e.showPlayButton}):(0,K.gH)(e.item.uri)?(0,A.jsx)(b.U,{menu:(0,A.jsx)(Y.QT,{}),children:(0,A.jsx)(V,{...e,image:(0,A.jsx)(z,{images:e.item.images,fallbackIcon:p.I}),playInsteadOfNavigating:!0})}):(0,A.jsx)(b.U,{menu:(0,A.jsx)($.E,{uri:e.item.uri}),children:(0,A.jsx)(V,{...e,image:(0,A.jsx)(z,{images:e.item.images,fallbackIcon:p.I})})})})),ee=s.memo((function(e){return(0,A.jsx)(b.U,{menu:(0,A.jsx)(q.k,{uri:e.item.uri}),children:(0,A.jsx)(V,{...e,image:(0,A.jsx)(z,{images:e.item.images,fallbackIcon:h.M})})})})),te=s.memo((function(e){return(0,A.jsx)(b.U,{menu:(0,A.jsx)(Q.g,{uri:e.item.uri}),children:(0,A.jsx)(V,{...e,image:(0,A.jsx)(z,{images:e.item.images,fallbackIcon:g.s})})})})),ne=s.memo((function(e){return(0,A.jsx)(b.U,{menu:(0,A.jsx)(J.Q,{uri:e.item.uri}),children:(0,A.jsx)(V,{...e,image:(0,A.jsx)(z,{images:e.item.images,fallbackIcon:f.s}),showPlayButton:!1})})})),se=s.memo((function(e){const t=e.item.podcast?.images??e.item.images;return(0,A.jsx)(b.U,{menu:(0,A.jsx)(X.y,{uri:e.item.uri}),children:(0,A.jsx)(V,{...e,showPlayButton:!0,image:(0,A.jsx)(z,{images:t,fallbackIcon:f.s}),extraContent:(0,A.jsx)(T,{...e})})})}));var ie=n(73448),re=n(92136);const ae="J6UEDIqMSJhYlwGoeUZB",oe="ZjFf4lVC48DSryAjP9qB",le=s.memo((function(e){const t=(0,re.I)(),n={...e.item,...t};return(0,A.jsx)(V,{...e,item:n,image:(0,A.jsx)(z,{images:e.item.images,fallbackIcon:()=>(0,A.jsx)("div",{className:ae,children:(0,A.jsx)(ie.g,{iconSize:"large",className:oe})})})})}));var ce=n(13932),de=n(15040),ue=n(33584);const me=e=>{if(null!==e&&"object"==typeof e){const{type:t}=e;return t===u.s.YOUR_EPISODES}return!1},pe=s.memo((function({title:e,tagline:t,items:n}){const{fetchMultipleColors:i}=(0,m.e2)(),o=!(0,ce.O)(),d=e??(()=>{const e=(new Date).getHours();let t=_._s.get("home.evening");return e>=5&&e<12?t=_._s.get("home.morning"):e>=12&&e<18&&(t=_._s.get("home.afternoon")),t})(),u=(0,a.IP)(de.WAO),p=(0,a.IP)(de.eU6);(0,s.useEffect)((()=>{const e=n?.map(m.SO)||[];i(e)}),[n,i]);const[h,g]=(0,s.useState)("small"),f=(0,s.useRef)(null);if((0,l.m)({onResize:({width:e})=>{e<1141&&"small"!==h?g("small"):e>=1141&&"large"!==h&&g("large")},refOrElement:f}),o||!n?.length)return null;const b=n.filter(((e,t)=>me(e)||!e.error)).filter(((e,t)=>t<(p?8:6))),v=b.length%4==0;return(0,A.jsxs)("section",{className:I.c.shortcuts,"aria-label":d,ref:f,children:[!u&&(0,A.jsx)(ue.q,{title:d,titleVariant:"alto",tagline:t}),(0,A.jsx)("div",{className:r()(I.c.grid,{[I.c.gridOf4Columns]:v}),children:b.map(((e,t)=>{if(me(e))return(0,A.jsx)(le,{index:t,item:e,showPlayButton:!0,shouldSetBackgroundColor:0===t,size:h},`${t}-${e.uri}`);const n=function(e){const t=((0,y.nX)(e)||{}).type;switch(t){case y.cH.ARTIST:return te;case y.cH.ALBUM:case y.cH.COLLECTION_ALBUM:return ee;case y.cH.PLAYLIST:case y.cH.PLAYLIST_V2:return Z;case y.cH.SHOW:return ne;case y.cH.EPISODE:return se;case y.cH.COLLECTION:return Z;default:return console.warn(`Unable to resolve entity shortcut from ${e} of type "${t||"unknown"}"`),ne}}(e.uri);return(0,A.jsx)(n,{index:t,item:e,showPlayButton:!(0,c.Y)(e.formatListAttributes),shouldSetBackgroundColor:0===t,size:h},`${t}-${e.uri}`)}))})]})})),he=e=>(0,A.jsx)(o.a,{onError:e=>{(0,d.gh)(e,"HomeShortcutsGrid")},children:(0,A.jsx)(pe,{...e})});var ge=n(37116),fe=n(89291);const ye="home-shortcuts-override";const _e=({spec:e,greeting:t,section:n})=>{const s=n.sectionItems.items.map(fe.ms);let i=function(){const[e]=(0,ge.k)(ye,[]);return e}().concat(s);return i.length<8&&i.length%2!=0&&(i=i.slice(0,i.length-1)),(0,A.jsx)(D.Ud,{spec:e.shortcutsFactory(),children:(0,A.jsx)(he,{items:i,title:t??void 0})})}},1220:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});n(41260);var s=n(96651),i=n(18656),r=n(25892),a=n(2488);const o=(0,s.memo)((({cardCount:e,showAll:t,withTitle:n})=>(0,a.jsx)(r.i,{isLoading:!0,withTitle:n,showAll:t??!1,children:[...new Array(e).keys()].map(((e,t)=>(0,a.jsx)(i.O,{isLoading:!0},t)))})))},8508:(e,t,n)=>{"use strict";n.d(t,{ek:()=>c,gz:()=>d,h3:()=>u});var s=n(96651),i=n(52276),r=n(2488);function a(e,t){switch(t.type){case"OPEN":return{...e,isOpen:!0};case"CLOSE":return{...e,isOpen:!1};default:(0,i.E)(t)}}const o=(0,s.createContext)(void 0),l=(0,s.createContext)((()=>{})),c=({children:e})=>{const[t,n]=(0,s.useReducer)(a,{isOpen:!1});return(0,r.jsx)(l.Provider,{value:n,children:(0,r.jsx)(o.Provider,{value:t,children:e})})};function d(){const e=(0,s.useContext)(o);if(void 0===e)throw new Error("useLanguageSelectionModalState must be used within a LanguageSelectionModalContextProvider");return e}function u(){const e=(0,s.useContext)(l);if(void 0===e)throw new Error("useLanguageSelectionModalDispatch must be used within a LanguageSelectionModalDispatchContextProvider");return e}},14432:(e,t,n)=>{"use strict";n.d(t,{m:()=>x});n(73952),n(97296),n(41260),n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256);var s=n(96651),i=n(12100),r=n(60328),a=n(19804),o=n(78808),l=n(33912),c=n(49372),d=n(45748),u=n(81604),m=n(93948),p=n(40636),h=n(96768),g=n(40068),f=n(47212),y=n(24372),_=n(2488);const b=new Set(c.UF),v=new Set([]),x=s.memo((function({nrTracks:e,collectionUri:t,initialItems:n,uri:x,sortable:C=!0,scrollToUri:E,usePlayContextItem:S,outerDomRef:w,spec:I,isCompactMode:A=!1,tagFilter:T}){const k=(0,s.useContext)(m.g),N=(0,s.useRef)(null),{filter:O}=(0,s.useContext)(o.on),P=(0,s.useRef)((()=>{})),[j,L]=(0,s.useState)([]),{sortState:R,setSortState:D}=(0,s.useContext)(c.iC),M=(0,p.Mk)(),U=(0,d.w)(),F=(0,s.useCallback)(((e,t)=>{e===l.yw.ADDED_AT?D({column:l.yw.ADDED_AT,order:R.order===l.gF.ASC?l.gF.DESC:l.gF.ASC}):D((0,r.Md)(e,R)),I&&M.logInteraction(I.columnHeaderFactory({identifier:e,position:t||0}).hitSort())}),[M,D,R,I]);(0,s.useEffect)((()=>{N.current&&E&&N.current.scrollToItem({uri:E})}),[E]);const B=(0,s.useCallback)((e=>{const t=e.map((e=>e.uri));P.current(),k?.remove({uris:t})}),[k]),G=(0,s.useCallback)(((e,t)=>{P.current=t,e.length>1?L(e):B(e)}),[B]),[,V]=(0,y.yA)(),H=(0,s.useCallback)((async(e,t)=>{const n=await(k?.getTracks({offset:e,limit:t,uri:x,sort:(0,f.s)(R),filters:[O??null,T??null].filter(h.g)})),s=n?.totalLength??0;return{items:n?.items??[],totalLength:s}}),[O,T,k,R,x]),W=(0,s.useCallback)(((e,n)=>{const s=(0,g.C)(e.album?.images,{desiredSize:40,desiredLabel:"small"});return(0,_.jsx)(l.Yn,{index:n,contextUri:t,uri:e.uri,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,albumOrShow:e.album,isExplicit:e.isExplicit,isMixedMedia:!1,isPaywalled:!1,isUserSubscribed:!1,isLocal:e.isLocal,addedBy:[],dateAdded:e.addedAt,hasDecoratedAddedBy:!1,release_date:"",isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:s?.url||"",onMove:()=>{},onInsert:()=>{},usePlayContextItem:S,allowedDropTypes:[],isDisliked:!1,playlistName:i._s.get("sidebar.liked_songs"),isOwnedBySelf:!0,isCompactMode:A,hasAssociatedVideo:e.hasAssociatedVideo},n+e.uri)}),[t,S,A]),z=(0,s.useCallback)((e=>({uri:e.uri,uid:e.uri})),[]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(u.oL,{value:"liked-songs-tracklist",children:(0,_.jsx)(l.aE,{ariaLabel:i._s.get("sidebar.liked_songs"),hasHeaderRow:!0,columns:U,sortableColumns:k?.getCapabilities().canSortTracksAndEpisodes&&C?b:v,sortState:R,onSort:F,renderRow:W,resolveItem:z,onRemove:G,nrTracks:e,fetchTracks:H,limit:50,canFetchAllTracks:k?.getCapabilities().canFetchAllItems,outerRef:N,outerDomRef:w,tracks:n,onNrValidItemsChange:V,isCompactMode:A,columnPersistenceKey:"liked-songs-tracklist"},t)}),(0,_.jsx)(a.u,{title:i._s.get("remove_from_your_liked_songs"),isOpen:j.length>0,tracks:j,onClose:e=>{e.stopPropagation(),L([])},onRemove:B})]})}))},36332:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});var s=n(34716);const i="fRZRXRIV2YBCFLYgwDAr";var r=n(2488);const a=({iconSize:e=64,...t})=>(0,r.jsx)("div",{className:i,children:(0,r.jsx)(s.d,{iconSize:e,...t,semanticColor:"textBrightAccent","aria-hidden":!0})})},95408:(e,t,n)=>{"use strict";n.d(t,{q:()=>I});n(41260);var s=n(96651),i=n(4564),r=n(8004),a=n(12100),o=n(65996),l=n(10124),c=n.n(l),d=n(82504);const u="lyrics-lyricsContent-lyric",m="lyrics-lyricsContent-active",p="lyrics-lyricsContent-highlight",h="lyrics-lyricsContent-unsynced",g="lyrics-lyricsContent-isInteractive",f="lyrics-lyricsContent-text",y="z3Jb61reOVgCeStAHt3U",_="lyrics-lyricsContent-provider";var b=n(2488);const v=s.memo((function({onObserve:e,text:t,lineNumber:n,activeLineIndex:i,isTimeSynced:r,translationText:a,onClick:o,onActiveLineChange:l,windowIsVisible:_}){const{ref:v,inView:x}=(0,d.cD)({threshold:0}),C=(0,s.useRef)(!1);(0,s.useEffect)((()=>{C.current||x&&_&&(e(t),C.current=!0)}),[x,e,t,_]);const E=(0,s.useRef)(),S=(0,s.useRef)(!0);(0,s.useEffect)((()=>{l(E,S.current),S.current=!1}),[i,l]);const w=(0,s.useCallback)((e=>{v(e),E.current=e||void 0}),[v]);return(0,b.jsxs)("div",{dir:"auto",className:c()(u,{[g]:!!o,[m]:i===n,[p]:i>n,[h]:!r}),"":"fullscreen-lyric",ref:w,onClick:o,children:[(0,b.jsx)("div",{className:f,children:t}),a&&(0,b.jsx)("div",{className:y,children:a})]})}));var x=n(5256);const C={start:0,end:1,text:""};var E=n(35404),S=n(72001),w=n(57800);const I=s.memo((function({trackUri:e,data:t,format:n,onLineClick:l,onActiveLineChange:c}){const{provider:d,providerLyricsId:u,providerDisplayName:m,syncType:p,isTimeSynced:h,showUpsell:g}=t,f=(0,i.w1)(o.G),{lyricWithEmptyLines:y,activeLineIndex:I,hasSkipped:A,shouldAnimateScroll:T}=((e,t,n)=>{const i=(0,s.useRef)(0),{lyrics:r=[],isTimeSynced:a,alternatives:o}=t,l=(0,s.useRef)(0),[c]=(0,x.Q)(500,(t=>t?.item?.uri===e)),d=n?o?.find((({language:e})=>e.substring(0,2)===n.substring(0,2)))?.lines:null,u=(0,s.useMemo)((()=>[...new Array(2).fill(C),...r].map(((e,t)=>({...e,lineNumber:t,translationText:d?.[t-2]})))),[r,d]),m=a?u.findIndex((({start:e,end:t})=>c>=e&&c<t)):-1,p=l.current;l.current=m;const h=Math.abs(m-p)<=4,g=Math.abs(c-i.current)>2e3;return i.current=c,{lyricWithEmptyLines:u,activeLineIndex:m,prevActiveLineIndex:p,lineIndexDiff:m-p,shouldAnimateScroll:h,hasSkipped:g}})(e,t,f),k=function(e){const{trackUri:t,format:n,provider:i,providerLyricsId:r,syncType:a}=e,[o,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(0),[u,m]=(0,s.useState)(!1),p=(0,S.o)((e=>e?.playbackId??void 0)),h=(0,s.useMemo)((()=>(0,E._)({lyrics_format:n,track_uri:t,provider:i,provider_lyrics_id:r,sync_type:a,playback_id:p})),[n,i,r,a,t,p]);(0,s.useEffect)((()=>{l(!1),d(0),m(!1);const e=setTimeout((()=>{m(!0)}),1500);return()=>{clearTimeout(e)}}),[h]);const g=(0,w.mg)();return(0,s.useEffect)((()=>{o||c>=140&&u&&(g.send(h),l(!0))}),[c,o,h,g,u]),(0,s.useCallback)((e=>{e.length>1&&d((t=>t+e.length))}),[d])}({trackUri:e,format:n,provider:d,providerLyricsId:u,syncType:p}),N=function(){const[e,t]=(0,s.useState)(document.visibilityState);return(0,s.useEffect)((()=>{const e=()=>t(document.visibilityState);return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)}),[]),e}();return(0,b.jsxs)(b.Fragment,{children:[y.map((({text:e,lineNumber:t,translationText:n})=>(0,b.jsx)(v,{text:e,translationText:n,lineNumber:t,activeLineIndex:I,isTimeSynced:h,onObserve:k,onClick:l&&(e=>l(e,y[t].start)),onActiveLineChange:(e,n)=>c({lineRef:e,firstUpdate:n,isFirstLine:h&&0===t,isActiveLine:h&&I===t,activeLineIndex:I,hasSkipped:A,shouldAnimateScroll:T}),windowIsVisible:"visible"===N},t))),!g&&m&&(0,b.jsx)("div",{className:_,children:(0,b.jsx)(r.a,{as:"p",variant:"bodySmall",dir:"auto",children:a._s.get("web-player.lyrics.providedBy",m)})})]})}))},75516:(e,t,n)=>{"use strict";n.d(t,{c:()=>ve});var s=n(10124),i=n.n(s),r=n(4564),a=n(32976),o=n(49232),l=n(62780),c=n(14788),d=n(86764),u=n(86376),m=n(96651),p=n(8004),h=n(8340),g=n(12100),f=n(60016),y=n(27892),_=n(40636);const b="EE6YMVfbSSvA0jXdwPZg",v="yVC4jgwoesrGSeHSCxV5",x="evVJpDVELzccE5k7Bu_9",C="dKq30H05VacUoNY66V_N",E="rByNSP5q0Unl1ReVJiuq";var S=n(2488);const w=({spec:e,logger:t})=>{const{openURLWithSessionTransfer:n}=(0,y.W)(),s=(0,m.useCallback)((()=>{const s=`${f.u6}&ref=lyrics`;n(s,"_blank"),t.logInteraction(e.lyricsUpsellFactory().lyricsUpsellButtonFactory().hitNavigateToExternalUri({destination:s}))}),[n,e,t]),i=(0,_.K2)(e.lyricsUpsellFactory());return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:b}),(0,S.jsx)("div",{className:v,children:(0,S.jsxs)("div",{className:E,ref:i,children:[(0,S.jsx)(p.a,{semanticColor:"textBase",variant:"titleLarge",className:C,children:g._s.get("web-player.lyrics.upsell.title")}),(0,S.jsx)(h.g,{className:x,size:"small",onClick:s,colorSet:"invertedLight",children:g._s.get("web-player.lyrics.upsell.button")})]})})]})};var I=n(96956),A=n(15040),T=n(33896),k=n(4957),N=n(72001),O=n(81040),P=n(6912),j=n(95408);const L="lyrics-lyrics-contentContainer",R="lyrics-lyrics-contentWrapper",D="lyrics-lyricsContent-description",M=({trackUri:e,data:t,format:n,spec:s,logger:i})=>{const r=(0,P.Q)(),a=(0,O.Iz)(),{isTimeSynced:o,showUpsell:l}=t,c=(0,m.useCallback)(((e,t)=>{if(s&&i){const e=s.lyricsLineFactory().hitSeekToTime({msToSeekTo:t});i.logInteraction(e)}e.currentTarget.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),r.seekTo(t);const n=r.getState();n&&!n.isPaused||r.resume()}),[i,r,s]),d=(0,m.useCallback)((({lineRef:e,firstUpdate:t,isFirstLine:n,isActiveLine:s,activeLineIndex:i,hasSkipped:r,shouldAnimateScroll:o})=>{if(e.current&&a.current&&(s||n&&i<0)){const n=e.current.getBoundingClientRect().top,s=a.current.getBoundingClientRect().height,i=s/4,l=n>=i&&n<=s-i;if(!l&&!(t||r))return;const c="visible"===document.visibilityState&&o&&l?"smooth":"auto";e.current?.scrollIntoView({behavior:c,block:"center",inline:"center"})}}),[a]);return(0,S.jsx)("div",{className:L,children:(0,S.jsxs)("div",{className:R,children:[!l&&!o&&(0,S.jsx)(p.a,{as:"p",variant:"bodySmall",className:D,dir:"auto",children:g._s.get("web-player.lyrics.unsynced")}),(0,S.jsx)(j.q,{trackUri:e,data:t,format:n,onLineClick:o?c:void 0,onActiveLineChange:d},e)]})})};var U=n(52276);const F="oNqyFdyc0Z01aWTF8qtF",B="C3pBU1DsOUJJOAv89ZFT",G=(0,m.memo)((function({version:e}){const{getMessage:t}=(()=>{const e=[g._s.get("web-player.lyrics.noLyrics0"),g._s.get("web-player.lyrics.noLyrics1"),g._s.get("web-player.lyrics.noLyrics2"),g._s.get("web-player.lyrics.noLyrics3")];return{getMessage:t=>{let n;switch(t){case"ad":n=g._s.get("web-player.lyrics.ad");break;case"error":n=g._s.get("web-player.lyrics.error");break;case"unavailable":n=e[Math.floor(Math.random()*e.length)];break;default:(0,U.I)(t),n=""}return n}}})();return(0,S.jsx)("div",{className:F,children:(0,S.jsx)("span",{className:B,children:t(e)})})}));n(73952),n(97768),n(41260);var V=n(85941),H=n(11088),W=n(66632),z=n(99040),Y=n(32040),K=n(71912),q=n(87832),Q=n(44488),X=n(63824),$=n(90484),J=n(22464),Z=n(81284);const ee="qnJd7AVNVGM33NxaibzG",te="tPJJwfJAQV0WDsE9Kfmd",ne=[{volume:J.u.SING_ALONG_OFF,icon:(0,S.jsx)(V.E,{size:"small"}),get label(){return g._s.get("singalong.off")}},{volume:J.u.HIGH,icon:(0,S.jsx)(H.C,{size:"small"}),get label(){return g._s.get("singalong.more-vocal")}},{volume:J.u.LOW,icon:(0,S.jsx)(W.a,{size:"small"}),get label(){return g._s.get("singalong.less-vocal")}}],se=m.memo((function({currentTrackUri:e}){const{isSupported:t,volume:n,setVocalVolume:s}=(e=>{const t=(0,Z.o)(),[n,s]=(0,m.useState)(J.u.SING_ALONG_OFF),{isSupported:i}=t.getCapabilities();return(0,m.useEffect)((()=>{t.setStatus(J.s.DISABLED).then((()=>{s(J.u.SING_ALONG_OFF)}))}),[e,t]),(0,m.useEffect)((()=>()=>{t.setStatus(J.s.DISABLED)}),[t]),{isSupported:i,volume:n,setVocalVolume:(0,m.useCallback)((async e=>{e===J.u.SING_ALONG_OFF?await t.setStatus(J.s.DISABLED):await t.setStatus(J.s.ENABLED),await t.setVocalVolume(e),s(e)}),[t])}})(e),r=(0,m.useCallback)((e=>{t&&s(e.volume)}),[t,s]);if(!t)return null;const a=ne.find((e=>e.volume===n)),o=a?.volume===J.u.SING_ALONG_OFF;return(0,S.jsx)(q.pD,{menu:(0,S.jsxs)(Q.i,{children:[(0,S.jsx)(X.Y,{children:g._s.get("singalong.title")}),ne.map((e=>(0,S.jsx)($.I,{role:"menuitemradio","aria-checked":n===e.volume,"aria-label":e.label,onClick:()=>r(e),leadingIcon:e.icon,children:e.label},e.volume)))]}),children:(e,t,n)=>(0,S.jsxs)("button",{onClick:t,ref:n,type:"button",className:i()(ee,{[te]:o}),children:[o?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(z.Q,{size:"small"}),(0,S.jsx)(p.a,{variant:"bodySmall",children:g._s.get("singalong.button")})]}):(0,S.jsxs)(S.Fragment,{children:[a.icon,(0,S.jsx)(p.a,{variant:"bodySmall",children:a.label})]}),e?(0,S.jsx)(Y.s,{size:"small"}):(0,S.jsx)(K.a,{size:"small"})]})})}));var ie=n(12980),re=n(53660),ae=n(56556);const oe="lyrics-lyrics-container",le="lyrics-lyrics-adLeaderboardIsEnabled",ce="Un8QbEOIO0dOsjnCsxK3",de="FumumMwjBzU2qLTRdyAV",ue="zPg9rXvKIuiRnLDb3mQa",me="DADZePCqi2OVZpayspK_",pe="lyrics-lyrics-background",he=(0,S.jsx)("div",{className:me,children:(0,S.jsx)(d.o,{})}),ge=(0,S.jsx)(G,{version:"error"}),fe=(0,S.jsx)(G,{version:"ad"}),ye=(0,S.jsx)(G,{version:"unavailable"}),_e={active:a.WKt,inactive:a.oZb,passed:a.oZb,background:a.wto,messaging:a.WKt},be=(e,t)=>{switch(t){case A.yQu.CONTROL:default:return e;case A.yQu.EMPTY_LYRICS:return{...e,lyrics:[]};case A.yQu.TRUNCATED_LYRICS:return{...e,lyrics:e.lyrics.slice(0,5)}}},ve=({format:e})=>{const t=(0,ae.G)(),n=(0,k.c)(),s=(0,N.o)((e=>e?.item),((e,t)=>e?.uri===t?.uri)),a=s?.uri||"",{spec:d,logger:m}=(0,_.gp)(l.A,{data:{uri:a}}),{data:p,loading:h,error:g}=(0,re.w)(a,s?.images),f=(0,o.IP)(A.CK4,{loadingValue:A.yQu.CONTROL});let y=!1;p?.hasLyrics&&f!==A.yQu.CONTROL&&(y=!0,p.showUpsell=y);let b=_e;p?.hasLyrics&&(b={active:p.colors.activeText,inactive:p.colors.text,passed:T.gC.fromCSS(p.colors.activeText,.7).toCSS(T.wt.RGBA),background:p.colors.background,messaging:p.colors.text}),(0,I.a)(b.background,_e.background);const v=(0,N.o)((e=>e?.nextItems?.[0]),((e,t)=>e?.uri===t?.uri));(0,re.w)(v?.uri,v?.images);let x=he,C=!1;if(a)if((0,c.ee)(a))x=fe;else if(g)x=ge;else if(h)x=he;else if(p)if(p.hasLyrics){const s=n.activeDevice?.isLocal??!1;C=t&&p.hasVocalRemoval&&s,x=(0,S.jsx)(M,{trackUri:a,data:be(p,f),format:e,spec:d,logger:m})}else x=ye;const E=(0,r.w1)((e=>e.ads.leaderboard.isEnabled)),O={"--lyrics-color-active":b.active,"--lyrics-color-inactive":b.inactive,"--lyrics-color-passed":b.passed,"--lyrics-color-background":b.background,"--lyrics-color-messaging":b.messaging,"--show-gradient-over-lyrics":y?"block":void 0};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(ie.Q,{usePlayingItem:!0,children:"Spotify"}),(0,S.jsxs)("div",{className:i()(oe,{[le]:E}),style:O,children:[(0,S.jsx)("div",{className:pe}),x,(0,S.jsxs)("div",{className:ce,children:[(0,S.jsx)("div",{className:de,children:"cinema"!==e&&(0,S.jsx)(u.i,{})}),(0,S.jsx)("div",{className:ue,children:C?(0,S.jsx)(se,{currentTrackUri:a}):null})]}),y&&(0,S.jsx)(w,{spec:d,logger:m})]})]})}},86376:(e,t,n)=>{"use strict";n.d(t,{i:()=>P});n(73952),n(97768),n(41260);var s=n(96651),i=n(10124),r=n.n(i),a=n(4564),o=n(74048),l=n(21824),c=n(8004),d=n(71912),u=n(49232),m=n(12100),p=n(31720),h=n(44488),g=n(90484),f=n(53660),y=n(61732),_=n(65996),b=n(72001),v=n(24544);const x="Kc5UmU8HGvrhCuuuSo8Q",C="xQ28t2HAYCjVkFTdzQbc",E="NJ2bt9oohco56xW6s80c",S="wFSxNbHJoK41uH2DMyfe",w="fVjceJtoWcRcjQgHoOag",I="Qbc6CRZqeSrYkbLMerNN",A="XZQJRr6f9ZlyKubcEASA";var T=n(2488);const k=e=>{try{if(e){const t=new Intl.DisplayNames([e],{type:"language"}).of(e);return t?t.charAt(0).toUpperCase()+t.slice(1):e}return""}catch(t){return e||""}},N=()=>{const e=(0,a.OY)(),t=(0,b.o)((e=>e?.item),((e,t)=>e?.uri===t?.uri)),{data:n}=(0,f.w)(t?.uri||"",t?.images),i=(0,a.w1)(_.G),l=(0,s.useCallback)((()=>{e(i?(0,y.Yx)(""):(0,y.Yx)(navigator.language))}),[e,i]);return n?.hasLyrics&&(n.alternatives||[]).length>0?(0,T.jsx)("button",{className:x,onClick:l,children:(0,T.jsx)("div",{className:r()(S,{[E]:i}),children:(0,T.jsx)(o.J,{fill:"white",size:"small"})})}):null},O=()=>{const e=(0,a.OY)(),t=(0,b.o)((e=>e?.item),((e,t)=>e?.uri===t?.uri)),{data:n}=(0,f.w)(t?.uri||"",t?.images),i=(0,a.w1)(_.G),[u,v]=(0,s.useState)(!1),N=n?.hasLyrics&&(n.alternatives||[]).length>0,O=i&&n?.hasLyrics&&(n.alternatives||[]).find((e=>e.language.substring(0,2)===i.substring(0,2)));if(!N)return null;const P=(0,T.jsx)(h.i,{children:[{language:""},...n.alternatives||[]].map((({language:t})=>{let n=m._s.get("web-player.lyrics.translation.none");return t&&(n=k(t)),(0,T.jsx)(g.I,{trailingIcon:t===i?(0,T.jsx)(l.k,{size:"small",semanticColor:"textBrightAccent"}):null,role:"menuitem",onClick:()=>{e((0,y.Yx)(t))},children:n},t)}))});return(0,T.jsx)("div",{className:x,children:(0,T.jsx)(p.p,{renderInline:!0,menu:P,onShow:()=>v(!0),onHide:()=>v(!1),children:(0,T.jsxs)("div",{className:r()(C,{[E]:O}),children:[(0,T.jsx)("div",{className:S,children:O?(0,T.jsx)(o.J,{fill:"black",size:"small"}):(0,T.jsx)(o.J,{size:"small"})}),(0,T.jsxs)("div",{className:A,children:[(0,T.jsx)(c.a,{variant:"bodySmallBold",children:i?O?m._s.get("web-player.lyrics.translating.to",k(i)):m._s.get("web-player.lyrics.translation.not_available",k(i)):m._s.get("web-player.lyrics.translate")}),(0,T.jsx)(d.a,{className:r()(w,{[I]:u}),size:"small"})]})]})})})},P=()=>{switch((0,u.IP)(v.Ed,{loadingValue:v.au.CONTROL})){case v.au.CONTROL:default:return null;case v.au.SYSTEM_LANGUAGE:return(0,T.jsx)(N,{});case v.au.ALL_LANGUAGES:return(0,T.jsx)(O,{})}}},20404:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});n(41260);var s=n(98223),i=n(12100),r=n(29384),a=n(81604),o=n(40636),l=n(96651),c=n(66220),d=n(72312),u=n(92236),m=n(38484),p=n(2488);const h=({merchId:e,spec:t,uri:n,url:s,images:i,description:r,merchName:a="",testId:h,index:g,merchVariant:f})=>{const y=(0,o.Mk)(),_=(0,l.useMemo)((()=>t.merchCardFactory({identifier:e,uri:n,position:g})),[e,n,t,g]),b=()=>{window.open(s,"_blank");const e=_.hitNavigateToExternalUri({destination:s});y.logInteraction(e)},v=(0,o.K2)(_);return(0,p.jsx)("div",{ref:v,children:(0,p.jsx)(d.c,{delegateNavigation:!0,index:g,onClick:b,headerText:a,featureIdentifier:"playlist",requestId:f,uri:n,isPlayable:!1,renderCardImage:()=>(0,p.jsx)(u.y,{images:i}),renderSubHeaderContent:()=>(0,p.jsx)(m.C,{children:r?(0,p.jsx)(c.W,{source:r,onLinkClick:b}):a&&(0,p.jsxs)("span",{children:["Description: ",a]})}),testId:h})})};var g=n(64744);const f=({id:e,merchItems:t,merchVariant:n,uri:l})=>{const{spec:c}=(0,o.gp)(s.createDesktopMerchShelfEventFactory,{data:{identifier:e,uri:l,position:0,reason:n}});return(0,p.jsx)(a.oL,{value:"shelf/offers","":"merch-shelf",children:(0,p.jsx)(r.y,{total:t.length,title:i._s.get("web-player.merch.title"),className:g.c.artistShelfSpacer,seeAllLabel:i._s.get("web-player.merch.seeAllUri"),children:t.map(((e,t)=>e.url&&e.name?(0,p.jsx)(a.oL,{value:"card",index:t,children:(0,p.jsx)(h,{index:t,url:e.url,uri:e.uri,merchName:e.name,description:e.description||"",images:e.image?.sources||[],merchVariant:n,merchId:e.uri,spec:c},e.url)},e.url):null))})})}},89352:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var s=n(7342),i=n(19872),r=n(2488);const a=({item:e,size:t,maxSize:n=t,desiredLabel:a="",className:o})=>{const l=(0,i.u)(e?.images??void 0,{desiredSize:n,desiredLabel:a});return(0,r.jsx)("div",{className:o,children:(0,r.jsx)(s.q,{loading:"eager",imgSrc:l,width:t,height:t,type:e?.type})})}},63760:(e,t,n)=>{"use strict";n.d(t,{a:()=>u});var s=n(10124),i=n.n(s),r=n(1079),a=n(12100),o=n(96800),l=n(64480),c=n(87568),d=n(2488);const u=({item:e,className:t,enableVideoButton:n=!1,size:s="small"})=>(0,d.jsxs)("div",{className:i()(t,{[c.c.xsmallBadges]:"xsmall"===s}),children:[(0,o.c)(e)&&(0,d.jsx)(r.O,{semanticColor:"textPositive",title:a._s.get("web-player.smart-shuffle.icon-hover-label"),size:s,"":"enhance-badge"}),n&&(0,d.jsx)(l.Ar,{size:s})]})},83096:(e,t,n)=>{"use strict";n.d(t,{E:()=>ee});var s=n(10124),i=n.n(s),r=n(63760),a=n(96651),o=n(21212),l=n(8004),c=n(49232),d=n(85988),u=n(78092),m=n(15040),p=n(88272),h=n(99972);const g=Spicetify.GraphQL.Definitions["episodeSponsoredContent"]=new p.a("episodeSponsoredContent","query","a5c1fe722b60c29ad247ea3df57ace52043382a7f080d525f58745db78a42618",null);var f=n(87568),y=n(2488);const _=({item:e})=>{const t=(0,c.IP)(m._SJ),n=(0,a.useRef)(null),s=(0,u.Y)({ref:n}),i=(r=e.metadata?.["podcast.contains_sponsored_content"],"false"!==r&&("true"===r||void 0));var r;const p=t&&void 0===i&&"episode"===e.type,{data:_}=(b=e,v={enabled:p,gcTime:36e5,staleTime:18e5},(0,h.U)(g,b,v));var b,v;const x="Episode"===_?.episodeUnionV2.__typename&&_?.episodeUnionV2.containsSponsoredContent;return(i??x)&&t?(0,y.jsx)(d.Yl,{label:"Includes promotional content",disabled:!s,children:(0,y.jsxs)("div",{className:f.c.pretitle,children:[(0,y.jsx)("div",{children:(0,y.jsx)(o.i,{size:"xsmall"})}),(0,y.jsx)(l.a,{variant:"marginal",semanticColor:"textSubdued",ref:n,className:f.c.ellipsis,children:"Includes promotional content"})]})}):null};var b=n(2420),v=n(16e3),x=n(20469),C=n(16928),E=n(52276),S=n(14788),w=n(50280),I=n(87832),A=n(65076),T=n(62528),k=n(6812);const N=({item:e,onClick:t})=>{const{book:n}=e,s=(0,S.nX)(n.uri)?.toURLPath(!0),i=(0,k.C)({itemUris:[n.uri],itemMimeTypes:[T.__.AUDIOBOOKS],dragLabelText:e.book.name});return s?(0,y.jsx)(I.UF,{menu:(0,y.jsx)(A.y,{uri:n.uri}),children:(0,y.jsx)("span",{draggable:!0,onDragStart:i,children:(0,y.jsx)(w.A,{item:e,onClick:t})})}):(0,y.jsx)("span",{dir:"auto",children:n.name})};var O=n(81472);const P=({item:e,onClick:t})=>{const{show:n}=e,s=(0,S.nX)(n.uri)?.toURLPath(!0),i=(0,k.C)({itemUris:[n.uri],dragLabelText:n.name});return s?(0,y.jsx)(I.UF,{menu:(0,y.jsx)(O.Q,{uri:n.uri}),children:(0,y.jsx)("span",{draggable:!0,onDragStart:i,children:(0,y.jsx)(w.A,{item:e,onClick:t})})}):(0,y.jsx)("span",{dir:"auto",children:n.name})};n(41260);var j=n(12100),L=n(33744),R=n(11732);const D=({item:e,onClick:t})=>{const n=(0,k.C)();return(0,y.jsx)(y.Fragment,{children:e.artists.map(((e,s)=>{const i=(0,S.nX)(e.uri)?.toURLPath(!0);return(0,y.jsxs)("span",{children:[s>0?j._s.getSeparator():null,i?(0,y.jsx)(I.UF,{menu:(0,y.jsx)(L.g,{uri:e.uri}),children:(0,y.jsx)(R.default,{to:i,"":"context-item-info-artist",dir:"auto",draggable:!0,onDragStart:t=>{n(t,{itemUris:[e.uri],dragLabelText:e.name})},onClick:t,children:e.name})}):(0,y.jsx)("span",{dir:"auto",children:e.name})]},s)}))})},M=({item:e,onClick:t})=>{const n=(0,k.C)();return(0,y.jsx)(y.Fragment,{children:e.artists.map(((e,s)=>{const i=(0,S.nX)(e.uri)?.toURLPath(!0);return(0,y.jsxs)("span",{children:[s>0?j._s.getSeparator():null,i?(0,y.jsx)(I.UF,{menu:(0,y.jsx)(L.g,{uri:e.uri}),children:(0,y.jsx)(R.default,{to:i,"":"context-item-info-artist",dir:"auto",draggable:!0,onClick:t,onDragStart:t=>{n(t,{itemUris:[e.uri],dragLabelText:e.name})},children:e.name})}):(0,y.jsx)("span",{dir:"auto",children:e.name})]},s)}))})},U=(0,a.lazy)((()=>n.e(9484).then(n.bind(n,99484)))),F=(0,a.lazy)((()=>n.e(2512).then(n.bind(n,72512)))),B=({item:e,isNowPlayingView:t=!1,onClick:n,typeVariant:s="marginal"})=>{const i=(0,v.q)(e);let r=null;const o=(0,b.KS)(e),c=(0,C.UZ)(e)?o?.title:e.name;if((0,C.gB)(e))r=(0,y.jsx)(D,{item:e,onClick:n});else if((0,C.sN)(e))r=(0,y.jsx)(P,{item:e,onClick:n});else if((0,C.Q9)(e))r=(0,y.jsx)(N,{item:e,onClick:n});else if((0,C.UZ)(e)){if(t)return null;r=(0,y.jsx)(a.Suspense,{fallback:!0,children:i?(0,y.jsx)(F,{item:e,surface:"NPB",variant:"marginal"}):(0,y.jsx)(U,{item:e,onClick:n})})}else(0,C.u_)(e)?r=(0,y.jsx)(M,{item:e,onClick:n}):(0,E.E)(e);return(0,y.jsx)("div",{className:f.c.subtitle,children:(0,y.jsx)(x.m,{title:c,children:(0,y.jsx)(l.a,{"":"context-item-info-subtitles",as:"div",variant:s,className:f.c.subtitle,semanticColor:"textSubdued",children:r})},e.uri)})};var G=n(4564),V=n(1552),H=n(10820),W=n(79928);const z=({item:e,onClick:t,isNowPlayingView:n=!1})=>{const s=(0,G.OY)(),{title:i,url:r}=(0,b.KS)(e),a=n?V.K.AD_NPV:V.K.NPB;return(0,y.jsx)(W.A,{item:e,adUrl:r,onClick:e=>(t?.(e,r??void 0),s((0,H.vt)(V.W.ADVERTISER_TITLE,a))),children:i})};var Y=n(73216);const K=({item:e,context:t,onClick:n})=>(0,y.jsx)(I.UF,{menu:(0,y.jsx)(Y.g,{context:t,item:e}),children:(0,y.jsx)(W.A,{item:e,onClick:n,children:e.name})});var q=n(77724);const Q=({item:e,context:t,onClick:n})=>{const s=(0,k.C)({itemUris:[e.uri],dragLabelText:(0,q.k)(e)});return(0,y.jsx)(I.UF,{menu:(0,y.jsx)(Y.g,{context:t,item:e}),children:(0,y.jsx)("span",{draggable:!0,onDragStart:s,children:(0,y.jsx)(W.A,{item:e,onClick:n,children:e.name})})})},X=({item:e,context:t,onClick:n})=>{const s=(0,k.C)();return(0,y.jsx)(I.UF,{menu:(0,y.jsx)(Y.g,{context:t,item:e}),children:(0,y.jsx)("span",{draggable:!0,onDragStart:t=>{s(t,{itemUris:[e.uri],dragLabelText:(0,q.k)(e)})},children:(0,y.jsx)(W.A,{item:e,onClick:n,children:e.name})})})},$=({item:e,context:t,onClick:n})=>{const s=(0,k.C)();return(0,y.jsx)(I.UF,{menu:(0,y.jsx)(Y.g,{context:t,item:e}),children:(0,y.jsx)("span",{draggable:!0,onDragStart:t=>{s(t,{itemUris:[e.uri],dragLabelText:(0,q.k)(e)})},children:(0,y.jsx)(W.A,{item:e,onClick:n,children:e.name})})})},J=(0,a.lazy)((()=>n.e(4212).then(n.bind(n,14212)))),Z=({context:e,item:t,onClick:n,typeVariant:s="bodySmall",isNowPlayingView:i=!1})=>{const r=(0,v.q)(t);let o=null;const c=(0,b.KS)(t),d=(0,C.UZ)(t)?c?.title:t.name;return(0,C.sN)(t)?o=(0,y.jsx)(Q,{onClick:n,item:t,context:e}):(0,C.gB)(t)?o=(0,y.jsx)(X,{onClick:n,item:t,context:e}):(0,C.Q9)(t)?o=(0,y.jsx)(K,{onClick:n,item:t,context:e}):(0,C.UZ)(t)?o=(0,y.jsx)(a.Suspense,{fallback:!0,children:r?(0,y.jsx)(J,{item:t,surface:"NPB",variant:"bodySmall"}):(0,y.jsx)(z,{onClick:n,item:t,isNowPlayingView:i})}):(0,C.u_)(t)?o=(0,y.jsx)($,{onClick:n,item:t,context:e}):(0,E.E)(t),(0,y.jsx)("div",{className:f.c.title,children:(0,y.jsx)(x.m,{title:d,children:(0,y.jsx)(l.a,{"":"context-item-info-title",as:"div",variant:s,className:f.c.title,dir:"auto",children:o})},t.uri)})},ee=({context:e,item:t,isNowPlayingView:n=!1,className:s,titleTypeVariant:a,subtitleTypeVariant:o,onTitleClick:l,onSubtitleClick:c,enableVideoButton:d=!1,size:u="small"})=>(0,y.jsxs)("div",{className:i()(s,f.c.container),children:[!n&&(0,y.jsx)(_,{item:t}),(0,y.jsx)(Z,{context:e,item:t,onClick:(e,t)=>l?.(t),typeVariant:a,isNowPlayingView:n}),(0,y.jsx)(r.a,{className:f.c.badges,item:t,enableVideoButton:d,size:u}),(0,y.jsx)(B,{item:t,onClick:(e,t)=>c?.(t),typeVariant:o,isNowPlayingView:n})]})},73216:(e,t,n)=>{"use strict";n.d(t,{g:()=>p});var s=n(1984),i=n(71464),r=n(40700),a=n(56684),o=n(38580),l=n(16928),c=n(96800),d=n(64480),u=n(99279),m=n(2488);const p=({context:e,item:t})=>{const{isSongVideo:n}=(0,d.cD)(),p=n?o.G:a.k;return(0,l.gB)(t)?t.isLocal?(0,m.jsx)(r.Y,{uid:t.uid??"",uri:t.uri,contextUri:e.uri}):(0,m.jsx)(p,{uid:t.uid??"",uri:t.uri,albumUri:t.album.uri,artists:t.artists,contextUri:e.uri??"",isSmartRecommendation:(0,c.c)(t),provider:t.provider}):(0,l.sN)(t)?(0,m.jsx)(i.y,{uri:t.uri,uid:t.uid??"",contextUri:e.uri??""}):(0,l.Q9)(t)?(0,m.jsx)(s.h,{uri:t.uri}):(0,u.wE)(e,t)?null:(0,l.u_)(t)?(0,m.jsx)(a.k,{uri:t.uri,uid:t.uid??"",contextUri:e.uri??"",provider:t.provider}):null}},56864:(e,t,n)=>{"use strict";n.d(t,{K:()=>f});n(73952),n(97296),n(41260);var s=n(96651),i=n(14788),r=n(17148),a=n(11732),o=n(47724),l=n(33876),c=n(16928),d=n(52276),u=n(99279),m=n(97608),p=n(2488);const h=(0,s.lazy)((()=>n.e(9104).then(n.bind(n,9104))));function g(e,t,n){let s=(0,r.W)(e.uri);if((0,u.gH)(s))return null;const a=(0,i._Z)(s),d=s===l.d,m="queue"===t.provider;(a||m||d)&&((0,c.gB)(t)?s=t.album.uri:((0,c.sN)(t)||(0,c.Q9)(t))&&(s=t.uri),d&&(s=o.cz));const p=(0,i.nX)(s);if(null===p)return null;if((0,c.gB)(t)||(0,c.sN)(t)||(0,c.Q9)(t)){return{to:p.toURLPath(!0),search:(h={uid:t.uid,uri:t.uri,page:n?.pageIndex??null,pageUri:n?.pageURI??null,index:n?.itemIndex??null,highlight:a?t.uri:null},Object.keys(h).filter((e=>null!==h[e])).map((e=>`${e}=${encodeURIComponent(h[e])}`)).join("&"))}}var h;return{to:p.toURLPath(!0)}}const f=({context:e,index:t,item:n,isVisible:i,children:r,className:o,referrer:l,onClick:u,adEventReason:f})=>{const y=(0,m.K)(n),_=n.type,b=i?void 0:-1;if((0,c.gB)(n)||(0,c.sN)(n)||(0,c.Q9)(n)){const s=g(e,n,t);return s?(0,p.jsx)(a.default,{className:o,referrer:l,"":"context-link","data-context-item-type":_,style:{border:"none"},to:s.to,search:s.search,"aria-label":y,tabIndex:b,onClick:u,children:r}):(0,p.jsx)(p.Fragment,{children:r})}return(0,c.UZ)(n)?(0,p.jsx)(s.Suspense,{fallback:(0,p.jsx)(p.Fragment,{children:r}),children:(0,p.jsx)(h,{item:n,"aria-label":y,tabIndex:b,adEventReason:f,children:r})}):(0,c.u_)(n)?(0,p.jsx)(p.Fragment,{children:r}):(0,d.E)(n)}},41148:(e,t,n)=>{"use strict";n.d(t,{G:()=>u});var s=n(96651),i=n(4564),r=n(14788),a=n(61540),o=n(10560),l=n(6812),c=n(7296),d=n(2488);const u=({uri:e,owner:t,children:n})=>{const u=(0,i.OY)(),m=(0,c.w)(),p=(0,i.w1)((e=>e.session.user?.id)),h=(0,r.mS)(e),g=(0,s.useCallback)(((t,n)=>{const s=[...n[l.y[r.cH.ALBUM]]||[],...n[l.y[r.cH.TRACK]]||[],...n[l.y[r.cH.LOCAL_TRACK]]||[],...n[l.y[r.cH.EPISODE]]||[]];s.length>0&&(u((0,a.gZ)(e,s)),m({targetUri:e,intent:"add",type:"drop"}))}),[u,m,e]);return h&&t===p?(0,d.jsx)(o.c,{types:[l.y[r.cH.ALBUM],l.y[r.cH.TRACK],l.y[r.cH.EPISODE],l.y[r.cH.LOCAL]],onDrop:g,testId:"cover-drop-target",children:n}):(0,d.jsx)(d.Fragment,{children:n})}},47352:(e,t,n)=>{"use strict";n.d(t,{c:()=>g});var s=n(96651),i=n(10124),r=n.n(i),a=n(12100),o=n(70488),l=n(84264),c=n(74884),d=n(6912),u=n(16928),m=n(40104),p=n(92292),h=n(2488);const g=({context:e,item:t,className:n,onClick:i=(()=>{})})=>{const g=(0,s.useContext)(m.Iv),f=(0,d.Q)(),y=e.metadata?.["dislike-endpoint"]??null,{enqueueSnackbar:_}=(0,p.u)(),b=e.metadata?.[u.WE.CONTEXT_DESCRIPTION]??"",v=(0,s.useCallback)((async()=>{y&&(await c.I(l.W.getInstance(),y,t.uri),e.uri&&await g.resync(e.uri),f.skipToNext(),_(a._s.get("feedback.hide-song",b)),i?.())}),[y,t.uri,e.uri,f,_,b,i,g]);if(!(0,u.gB)(t))return null;return"1"===e.metadata?.["dislike-feedback-available"]&&null!==y?(0,h.jsx)(o.k,{size:16,className:r()(n,{"control-button":!n,"control-button-feedback":!n}),isDisliked:!1,onClick:v}):null}},58096:(e,t,n)=>{"use strict";n.d(t,{a:()=>x});var s=n(10124),i=n.n(s),r=n(18648),a=n(73628),o=n(79368),l=n(8340),c=n(12100),d=n(85988),u=n(23568),m=n(21492),p=n(7296),h=n(15040),g=n(6912),f=n(72001),y=n(3990),_=n(28288);const b="main-playPauseButton-button";var v=n(2488);const x=({iconSize:e="small",onClick:t,className:n})=>{const s=(0,g.Q)(),x=(0,p.w)(),{hasContext:C,isPaused:E,canPause:S,canResume:w}=(0,f.o)((e=>({hasContext:e?.hasContext,isPaused:e?.isPaused,canPause:e?.restrictions.canPause,canResume:e?.restrictions.canResume})),y.c),I=(0,r.yK)((e=>{x({type:"click",intent:E?"play":"pause"}),E&&w?(t?.("resume"),s.resume(),(0,m.W)(e,"play/resume")):!E&&S&&(t?.("pause"),s.pause())}),100,{leading:!0,trailing:!1}),A=E?c._s.get("playback-control.play"):c._s.get("playback-control.pause"),T={"--button-size":2*(0,_.o)(e)+"px"},k={small:"small",medium:"medium",large:"large"},N=!C||(E?!w:!S);return(0,v.jsx)(d.Yl,{label:A,children:(0,v.jsx)(u.Q,{property:h.MVg,renderOldExperience:()=>(0,v.jsx)("button",{style:T,className:i()(b,n),onClick:I,disabled:N,"aria-label":A,"":"control-button-playpause",children:E?(0,v.jsx)(a.Y,{size:e}):(0,v.jsx)(o.A,{size:e})}),renderNewExperience:()=>(0,v.jsx)(l.g,{iconOnly:E?a.Y:o.A,className:n,size:k[e]||"small",disabled:N,"aria-label":A,"":"control-button-playpause",onClick:I,colorSet:"invertedLight"})})})}},12028:(e,t,n)=>{"use strict";n.d(t,{a:()=>E});var s=n(10124),i=n.n(s),r=n(91056),a=n(16588),o=n(96560),l=n(12100),c=n(85988),d=n(23568),u=n(7296),m=n(15040),p=n(64672),h=n(72001),g=n(16928),f=n(28288);const y="main-repeatButton-button",_="main-repeatButton-active",b="vW9NFcNIj8useE43Vx9G";var v=n(2488);function x(e,t,n){return t&&n?(e+1)%3:t?(e+1)%2:n?1===e?2:(e+2)%4:g.Su.REPEAT_NONE}const C={[g.Su.REPEAT_NONE]:{get label(){return l._s.get("playback-control.disable-repeat")},intent:"repeat-off",ariaChecked:"false"},[g.Su.REPEAT_CONTEXT]:{get label(){return l._s.get("playback-control.enable-repeat")},intent:"repeat-all",ariaChecked:"true"},[g.Su.REPEAT_TRACK]:{get label(){return l._s.get("playback-control.enable-repeat-one")},intent:"repeat-single",ariaChecked:"mixed"}},E=({iconSize:e="small",onClick:t})=>{const n=(0,u.w)(),{setRepeat:s,repeat:l}=(0,p.g)(),[E,S]=(0,h.o)((e=>[e?.restrictions.canToggleRepeatContext??!1,e?.restrictions.canToggleRepeatTrack??!1])),w=!E&&!S,I=()=>{const e=x(l,E,S);n({type:"click",intent:C[e].intent}),t?.(e),s(e)},A={"--button-size":2*(0,f.o)(e)+"px"},T=C[x(l,E,S)].label,k=l!==g.Su.REPEAT_NONE;return(0,v.jsx)(c.Yl,{label:T,children:(0,v.jsx)(d.Q,{property:m.MVg,renderOldExperience:()=>(0,v.jsx)("button",{style:A,className:i()(y,{[_]:k}),onClick:I,disabled:w,role:"checkbox","aria-checked":C[l].ariaChecked,"aria-label":T,"":"control-button-repeat",children:l===g.Su.REPEAT_TRACK?(0,v.jsx)(r._,{size:e}):(0,v.jsx)(a.M,{size:e})}),renderNewExperience:()=>(0,v.jsx)(o.u,{className:i()({[b]:k}),iconOnly:l===g.Su.REPEAT_TRACK?r._:a.M,size:"small",disabled:w,"aria-label":T,"":"control-button-repeat",onClick:I,role:"checkbox","aria-checked":C[l].ariaChecked,semanticColor:k?"textBrightAccent":void 0})})})}},89032:(e,t,n)=>{"use strict";n.d(t,{y:()=>g});var s=n(32336),i=n(96560),r=n(12100),a=n(85988),o=n(23568),l=n(7296),c=n(15040),d=n(6912),u=n(72001),m=n(28288);const p="main-seekBackButton-button";var h=n(2488);const g=({iconSize:e="small",onClick:t})=>{const n=(0,l.w)(),g=(0,d.Q)(),f=(0,u.o)((e=>e?.restrictions.canSeek??!1)),y=()=>{n({type:"click",intent:"skip-back-15"}),t?.(-15e3),g.seekBackward(15e3)},_={"--button-size":2*(0,m.o)(e)+"px"};return(0,h.jsx)(a.Yl,{label:r._s.get("playback-control.skip-backward-15"),children:(0,h.jsx)(o.Q,{property:c.MVg,renderOldExperience:()=>(0,h.jsx)("button",{style:_,className:p,onClick:y,disabled:!f,"aria-label":r._s.get("playback-control.skip-backward-15"),"":"control-button-seek-back-15",children:(0,h.jsx)(s.k,{size:e})}),renderNewExperience:()=>(0,h.jsx)(i.u,{iconOnly:s.k,size:"small",onClick:y,disabled:!f,"aria-label":r._s.get("playback-control.skip-backward-15"),"":"control-button-seek-back-15"})})})}},86224:(e,t,n)=>{"use strict";n.d(t,{C:()=>g});var s=n(62720),i=n(96560),r=n(12100),a=n(85988),o=n(23568),l=n(7296),c=n(15040),d=n(6912),u=n(72001),m=n(28288);const p="main-seekForwardButton-button";var h=n(2488);const g=({iconSize:e="small",onClick:t})=>{const n=(0,l.w)(),g=(0,d.Q)(),f=(0,u.o)((e=>e?.restrictions.canSeek??!1)),y=()=>{n({type:"click",intent:"skip-forward-15"}),t?.(15e3),g.seekForward(15e3)},_={"--button-size":2*(0,m.o)(e)+"px"};return(0,h.jsx)(a.Yl,{label:r._s.get("playback-control.skip-forward-15"),children:(0,h.jsx)(o.Q,{property:c.MVg,renderOldExperience:()=>(0,h.jsx)("button",{style:_,className:p,onClick:y,disabled:!f,"aria-label":r._s.get("playback-control.skip-forward-15"),"":"control-button-seek-forward-15",children:(0,h.jsx)(s.q,{size:e})}),renderNewExperience:()=>(0,h.jsx)(i.u,{iconOnly:s.q,size:"small",onClick:y,disabled:!f,"aria-label":r._s.get("playback-control.skip-forward-15"),"":"control-button-seek-forward-15"})})})}},4272:(e,t,n)=>{"use strict";n.d(t,{m:()=>b});var s=n(10124),i=n.n(s),r=n(30916),a=n(96560),o=n(12100),l=n(85988),c=n(23568),d=n(7948),u=n(7296),m=n(15040),p=n(64672),h=n(28288);const g="main-shuffleButton-button",f="main-shuffleButton-active",y="fZjbVIqD8Xc3auRZOxu5";var _=n(2488);const b=({iconSize:e="small",onClick:t})=>{const n=(0,u.w)(),{shuffle:s,setShuffle:b,canToggleShuffle:v}=(0,p.g)(),x=()=>{const e=!s;n({type:"click",intent:"shuffle"}),t?.(e),b(e)},C=s?o._s.get("playback-control.disable-shuffle"):o._s.get("playback-control.enable-shuffle"),E={"--button-size":2*(0,h.o)(e)+"px"};return(0,_.jsx)(d.i,{placement:"top",arrow:"bottom",title:o._s.get("pick-and-shuffle.upsell.title.shuffle-button"),children:(0,_.jsx)(l.Yl,{label:C,children:(0,_.jsx)(c.Q,{property:m.MVg,renderOldExperience:()=>(0,_.jsx)("button",{style:E,className:i()(g,{[f]:s}),onClick:x,disabled:!v,role:"switch","aria-checked":s?"true":"false","aria-label":C,"":"control-button-shuffle",children:(0,_.jsx)(r.o,{size:e})}),renderNewExperience:()=>(0,_.jsx)(a.u,{className:i()({[y]:s}),iconOnly:r.o,size:"small",onClick:x,disabled:!v,role:"switch","aria-checked":s?"true":"false","aria-label":C,"":"control-button-shuffle",semanticColor:s?"textBrightAccent":void 0})})})})}},64137:(e,t,n)=>{"use strict";n.d(t,{q:()=>y});var s=n(18648),i=n(23440),r=n(96560),a=n(12100),o=n(85988),l=n(23568),c=n(21492),d=n(7296),u=n(15040),m=n(6912),p=n(72001),h=n(28288);const g="main-skipBackButton-button";var f=n(2488);const y=({iconSize:e="small",onClick:t})=>{const n=(0,m.Q)(),y=(0,d.w)(),_=(0,p.o)((e=>(e?.restrictions.canSkipPrevious||e?.restrictions.canSeek)??!1)),b=(0,s.yK)((e=>{y({type:"click",intent:"previous"}),t?.(),n.skipToPrevious(),(0,c.W)(e,"skip-back")}),100,{leading:!0,trailing:!1}),v={"--button-size":2*(0,h.o)(e)+"px"};return(0,f.jsx)(o.Yl,{label:a._s.get("playback-control.skip-back"),children:(0,f.jsx)(l.Q,{property:u.MVg,renderOldExperience:()=>(0,f.jsx)("button",{style:v,className:g,onClick:b,disabled:!_,"aria-label":a._s.get("playback-control.skip-back"),"":"control-button-skip-back",children:(0,f.jsx)(i.A,{size:e})}),renderNewExperience:()=>(0,f.jsx)(r.u,{iconOnly:i.A,size:"small",disabled:!_,"aria-label":a._s.get("playback-control.skip-back"),"":"control-button-skip-back",onClick:b})})})}},15504:(e,t,n)=>{"use strict";n.d(t,{s:()=>y});var s=n(18648),i=n(21348),r=n(96560),a=n(12100),o=n(85988),l=n(23568),c=n(21492),d=n(7296),u=n(15040),m=n(6912),p=n(72001),h=n(28288);const g="main-skipForwardButton-button";var f=n(2488);const y=({iconSize:e="small",onClick:t})=>{const n=(0,m.Q)(),y=(0,d.w)(),_=(0,p.o)((e=>e?.restrictions.canSkipNext??null)),b=(0,s.yK)((e=>{y({type:"click",intent:"next"}),t?.(),n.skipToNext(),(0,c.W)(e,"skip-forward")}),100,{leading:!0,trailing:!1}),v={"--button-size":2*(0,h.o)(e)+"px"};return(0,f.jsx)(o.Yl,{label:a._s.get("playback-control.skip-forward"),children:(0,f.jsx)(l.Q,{property:u.MVg,renderOldExperience:()=>(0,f.jsx)("button",{style:v,className:g,onClick:b,disabled:!_,"aria-label":a._s.get("playback-control.skip-forward"),"":"control-button-skip-forward",children:(0,f.jsx)(i.G,{size:e})}),renderNewExperience:()=>(0,f.jsx)(r.u,{iconOnly:i.G,size:"small",disabled:!_,"aria-label":a._s.get("playback-control.skip-forward"),"":"control-button-skip-forward",onClick:b})})})}},69108:(e,t,n)=>{"use strict";n.d(t,{w:()=>te});var s=n(12100),i=n(87832),r=n(85988),a=n(7296),o=n(4957),l=n(15563),c=n(1636),d=n(99568),u=n(56e3),m=n(25840),p=n(62880),h=n(67432),g=n(37120),f=n(59008),y=n(50440),_=n(88916),b=n(58192),v=n(66584),x=n(4032),C=n(81565),E=n(61304),S=n(55704),w=n(84840),I=n(24440),A=n(54512),T=n(14096),k=n(12376),N=n(74771),O=n(86440),P=n(25624),j=n(40376),L=n(28960),R=n(19708),D=n(75920),M=n(42244),U=n(57424),F=n(35540);const B="INvB6IvAqjjvyfm0ezDi";var G=n(2488);const V={.5:c.e6,.6:d.k,.7:u.M,.8:m.cp,.9:p.y,1:h.y,1.1:g.G,1.2:f.Um,1.3:y.W,1.4:_.m,1.5:b.ox,1.6:v.S,1.7:x.U,1.8:C.G,1.9:E.k,2:S.q,2.1:w.G,2.2:I.c,2.3:A.m,2.4:T.O,2.5:k.G,2.6:N.c,2.7:O.m,2.8:P.s,2.9:j.C,3:L.c,3.1:R.W,3.2:D.c,3.3:M.o,3.4:U.O,3.5:F._},H=({speed:e,iconSize:t=20})=>{const n=V[e];return n?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(n,{className:B,iconSize:t,style:{width:`${t}px`,height:`${t}px`}}),(0,G.jsx)("span",{className:"hidden-visually",children:`${e}x`})]}):(0,G.jsx)("span",{children:`${e}x`})};n(41260);var W=n(96651),z=n(44488),Y=n(63824),K=n(90484);const q=[.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3,3.1,3.2,3.3,3.4,3.5],Q=(e=1)=>{const t=q,[n]=t.slice().sort(((t,n)=>Math.abs(t-e)-Math.abs(n-e)));return n},X="Is0ZfXiIyRoHd9y1OWtv",$=function({selectedSpeed:e,setSelectedSpeed:t}){const n=(0,a.w)(),i=q,r=(0,W.useRef)(null),o=(0,W.useCallback)((e=>{null!==e&&(r.current=e)}),[]);return(0,W.useEffect)((()=>{r?.current&&r.current.scrollIntoView({block:"center"})}),[r]),(0,G.jsxs)(z.i,{getInitialFocusElement:e=>e?.querySelector('[aria-checked="true"]'),children:[(0,G.jsx)(Y.Y,{children:s._s.get("playback-control.playback-speed")}),(0,G.jsx)("div",{className:X,children:i.map((i=>(0,G.jsx)(K.I,{elementRef:i===e?o:void 0,onClick:()=>{t(i),n({type:"click",intent:"choose-speed",itemIdSuffix:`option-${i}x`})},"":`playback-speed-option-${i}`,role:"menuitemradio","aria-label":s._s.get("playback-control.playback-speed-button-a11y",i),"aria-checked":i===e,children:`${i}x`},i)))})]})};var J=n(37116),Z=n(64672);const ee="Ww5ppB6W74laf1c0H_pR",te=({iconSize:e=20,onClick:t})=>{const{speed:n,setSpeed:c,canChangeSpeed:d}=function(){const{speed:e,setSpeed:t,canChangeSpeed:n}=(0,Z.g)(),[s,i]=(0,J.k)("playbackSpeed",1),r=(0,W.useMemo)((()=>Q(s??q)),[s]);return{speed:(0,W.useMemo)((()=>Boolean(e)?Q(e):r),[e,r]),setSpeed:(0,W.useCallback)((e=>{i(e),t(e)}),[i,t]),canChangeSpeed:n}}(),u=(0,a.w)(),{connectionStatus:m}=(0,o.c)(),p=m===l.UD.NOT_CONNECTED,h={"--button-size":2*e+"px"};return d?(0,G.jsx)(i.SM,{renderInline:!0,placement:"top-start",menu:(0,G.jsx)($,{selectedSpeed:n,setSelectedSpeed:e=>{t?.(e),c(e)}}),children:(t,i,a)=>(0,G.jsx)(r.Yl,{label:s._s.get("playback-control.change-playback-speed"),children:(0,G.jsx)("button",{style:h,ref:a,className:ee,onClick:e=>{i(e),u({type:"click",intent:"choose-speed"})},"aria-label":s._s.get("playback-control.change-playback-speed"),disabled:!p,"":"control-button-playback-speed",children:(0,G.jsx)(H,{speed:n,iconSize:e})})})}):null}},87816:(e,t,n)=>{"use strict";n.d(t,{A:()=>T,o:()=>A});var s=n(96651),i=n(10124),r=n.n(i),a=n(18648),o=n(12100),l=n(85988),c=n(90196),d=n(9852),u=n(29476),m=n(61696);var p=n(28288);const h="volume-bar",g="YJwPRRG42S5rdDJ3z6rd",f="volume-bar__slider-container",y="OfDOey5xNiktpjs79ZtW",_="lbsWNK6UmBg5KIkQk67X",b="zSH_cXdysHz4ax0Zpdca",v="volume-bar__icon-button";var x=n(85941),C=n(66632),E=n(78704),S=n(11088),w=n(2488);const I=({volume:e=1,iconSize:t="small",...n})=>{const s={size:t,role:"presentation",...n};return 0===e?(0,w.jsx)(x.E,{"aria-label":o._s.get("playback-control.a11y.volume-off"),...s}):e<1/3?(0,w.jsx)(C.a,{"aria-label":o._s.get("playback-control.a11y.volume-low"),...s}):e<2/3?(0,w.jsx)(E.z,{"aria-label":o._s.get("playback-control.a11y.volume-medium"),...s}):(0,w.jsx)(S.C,{"aria-label":o._s.get("playback-control.a11y.volume-high"),...s})};let A=function(e){return e[e.SHOW_SLIDER_ALWAYS=0]="SHOW_SLIDER_ALWAYS",e[e.SHOW_SLIDER_ON_HOVER=1]="SHOW_SLIDER_ON_HOVER",e}({});const T=({iconSize:e="small",onVolumeBarClick:t,onVolumeBarDrag:n,onToggleMuteClick:i,className:x,mode:C=A.SHOW_SLIDER_ALWAYS,sliderSize:E,sliderDirection:S="horizontal"})=>{const{volume:T,setVolume:k,raiseVolume:N,lowerVolume:O}=function(){const e=(0,u.Q)(),[t,n]=(0,s.useState)(-1);return(0,s.useEffect)((()=>{let t=!0;return(async()=>{const s=await e.getVolume();t&&n(s)})(),()=>{t=!1}}),[e]),(0,m.I)(d.k.VOLUME,(e=>n(e.data.volume))),{volume:t,setVolume:(0,s.useCallback)((t=>{n(t),e.setVolume(t)}),[e]),raiseVolume:(0,s.useCallback)((()=>e.raiseVolume()),[e]),lowerVolume:(0,s.useCallback)((()=>e.lowerVolume()),[e])}}(),P=-1!==T,j=Math.min(1,Math.max(0,T)),[L,R]=(0,s.useState)({isDragging:!1,isHoveringButton:!1,toggleVolumeLevel:null,dragPosition:0,shouldDragValueBeUsed:!1}),{shouldDragValueBeUsed:D,dragPosition:M,isHoveringButton:U,toggleVolumeLevel:F,isDragging:B}=L;let G=D?M:j;P||(G=1);const V=(0,a.yK)((e=>{const t=Math.min(1,Math.max(0,e));k(t)}),25,{maxWait:50,leading:!0}),H=()=>{R((e=>({...e,isHoveringButton:!0})))},W=()=>{R((e=>({...e,isHoveringButton:!1})))},z=0===T?o._s.get("playback-control.unmute"):o._s.get("playback-control.mute"),Y={"--button-size":2*(0,p.o)(e)+"px","--slider-width":E?`${E}px`:"100%"};return(0,w.jsxs)("div",{style:Y,className:r()(h,x,{[b]:!P,[g]:"vertical"===S,[y]:C===A.SHOW_SLIDER_ON_HOVER}),"":"volume-bar",dir:"ltr",onWheel:e=>{if(!P)return;const t=Math.abs(e.deltaY)>Math.abs(e.deltaX)?e.deltaY:e.deltaX,n=Math.max(-120,Math.min(120,e?.nativeEvent?.wheelDelta||t))/1200,s=Math.max(0,Math.min(1,G+n));k(s)},children:[(0,w.jsx)(l.Yl,{label:z,children:(0,w.jsx)("button",{className:r()(v,"control-button"),onClick:()=>{0===G?(i?.("not_muted"),V(F??.7)):(R((e=>({...e,toggleVolumeLevel:G}))),i?.("muted"),V(0))},disabled:!P,"aria-label":0===T?o._s.get("playback-control.unmute"):o._s.get("playback-control.mute"),onMouseEnter:H,onMouseLeave:W,"aria-describedby":"volume-icon","":"volume-bar-toggle-mute-button",children:(0,w.jsx)(I,{id:"volume-icon",iconSize:e,volume:G})})}),(0,w.jsx)("div",{className:r()(f,{[_]:"vertical"===S}),onMouseEnter:H,onMouseLeave:W,children:(0,w.jsx)(c.cH,{labelText:o._s.get("playback-control.a11y.volume-slider-button"),value:G,max:1,step:.1,onDragStart:e=>{R((t=>({...t,isDragging:!0,dragPosition:e,shouldDragValueBeUsed:!0})))},onDragMove:e=>{R((t=>({...t,dragPosition:e,shouldDragValueBeUsed:!0}))),B&&(n?.(e),V(e))},onDragEnd:e=>{R((e=>({...e,shouldDragValueBeUsed:!1,dragPosition:0,isDragging:!1}))),t?.(e),V(e)},onStepBackward:O,onStepForward:N,forceActiveStyles:U,direction:S})})]})}},14656:(e,t,n)=>{"use strict";n.d(t,{i:()=>p,E:()=>m});var s=n(96651),i=n(10124),r=n.n(i),a=n(8004),o=n(85988);const l="main-nowPlayingView-section",c="main-nowPlayingView-sectionHeader",d="main-nowPlayingView-sectionHeaderText";var u=n(2488);const m=({action:e,children:t,className:n,icon:s,tooltipLabel:i})=>(0,u.jsxs)(a.a,{as:"div",variant:"bodyMediumBold",semanticColor:"textBase",className:r()(c,n),children:[s,(0,u.jsx)(o.Yl,{label:i,children:(0,u.jsx)("div",{className:d,children:t})}),e]}),p=(0,s.forwardRef)((({children:e,className:t,style:n,testId:s},i)=>{const a={};return s&&(a["data-testid"]=s),(0,u.jsx)("div",{ref:i,className:r()(l,t),style:n,...a,children:e})}))},77640:(e,t,n)=>{"use strict";n.d(t,{g:()=>E});var s=n(96651),i=n(10124),r=n.n(i),a=n(36712),o=n(48304),l=n(12100),c=n(8708),d=n(74852),u=n(51776),m=n(44772),p=n(39748),h=n(2488);const g=({elementRef:e,cssCustomProperty:t,itemUri:n})=>{const{spec:i,logger:r}=(0,p.g)(o.c,{data:{uri:n||""}}),{min:a,max:g,size:f,setSize:y}=(0,u.wT)(),_=(0,m.k)(),b=(0,s.useCallback)(((e,t)=>{e!==t&&r.logInteraction(i.npvUiResizeFactory().dragUiResize({startSizePx:e,endSizePx:t}))}),[r,i]);return(0,h.jsx)(d.u,{elementRef:e,placement:"inline-start",label:l._s.get("resize.sidebar"),cssCustomProperty:t,onCSSPropertyChange:e=>{y(e)},initialValue:f,min:a,max:g,decreaseSizeKeyboardCombination:_?c.Yj.YLX_SIDEBAR_DECREASE_WIDTH:c.Yj.NPV_SIDEBAR_DECREASE_WIDTH,increaseSizeKeyboardCombination:_?c.Yj.YLX_SIDEBAR_INCREASE_WIDTH:c.Yj.NPV_SIDEBAR_INCREASE_WIDTH,afterResizing:b})};var f=n(75380),y=n(49232),_=n(68607),b=n(88236),v=n(15040),x=n(26072),C=n(96859);const E=({label:e,itemUri:t,style:n,focusTransferId:i,children:o})=>{const l=(0,s.useRef)(null),{animatedStyles:c,animatedClassNames:d}=function(){const e=(0,y.IP)(v.KLu),t=(0,b.sH)(),{size:n}=(0,_.w)(),s=t===x.s.Disabled?{width:0,opacity:0}:{width:n,opacity:1};return e?{animatedStyles:s,animatedClassNames:C.c.panelTransition}:{animatedStyles:s,animatedClassNames:""}}();return(0,f.u)(i??null,l),(0,h.jsxs)("aside",{"aria-label":e,className:r()(C.c.container,d),style:Object.assign({},n,c),id:"Desktop_PanelContainer_Id",ref:l,tabIndex:-1,children:[(0,h.jsx)(g,{itemUri:t,elementRef:l,cssCustomProperty:a.sJ}),o]})}},93900:(e,t,n)=>{"use strict";n.d(t,{u:()=>u});var s=n(96651),i=n(10124),r=n.n(i),a=n(2052),o=n(81040),l=n(96480),c=n(96859),d=n(2488);const u=s.forwardRef((({children:e,className:t,fixedHeader:n},i)=>{const u=(0,s.useRef)(null),m=(0,l.K)(u),p=(0,d.jsx)(o.Ib.Provider,{value:{scrollNodeRef:u},children:(0,d.jsx)(a.G,{className:c.c.scrollBarContainer,ref:e=>{e&&!u.current&&(u.current=e.osInstance().getElements().viewport)},children:(0,d.jsx)("div",{ref:i,className:r()(c.c.content,c.c.contentPadding,t),children:e})})});return n?(0,d.jsxs)("div",{className:r()(c.c.content),children:[(0,d.jsx)("div",{className:r()(c.c.fixedHeader,{[c.c.shadow]:m}),children:n}),p]}):p}))},55504:(e,t,n)=>{"use strict";n.d(t,{_:()=>P});var s=n(96651),i=n(10124),r=n.n(i),a=n(8004),o=n(5540),l=n(76008),c=n(87644),d=n(14788),u=n(12100),m=n(17160),p=n(87832),h=n(85988),g=n(20469),f=n(51776),y=n(16928),_=n(40636),b=n(25676),v=n(33744),x=n(71464),C=n(30540),E=n(56684),S=n(11732),w=n(6812),I=n(89876),A=n(96859),T=n(2488);const k={[d.cH.PLAYLIST]:C.E,[d.cH.PLAYLIST_V2]:C.E,[d.cH.ALBUM]:b.k,[d.cH.TRACK]:E.k,[d.cH.ARTIST]:v.g,[d.cH.EPISODE]:x.y},N=({link:e,title:t,panelLinkRef:n,variant:s,semanticColor:i})=>{const{spec:r,logger:o}=(0,_.gp)(c.M,{}),l=(0,T.jsx)(g.m,{children:(0,T.jsx)(a.a,{variant:s,semanticColor:i,children:t||""})},t||""),u=(0,d.nX)(e);let m,h=!1,y=[];const b=u&&k[u.type];if(b){const e=u.toURI();m=(0,T.jsx)(b,{uri:e}),h=!(!e||!t),y=h?[e]:[]}const v=(0,f.sH)().split("_").join(" "),x=(0,w.C)({itemUris:y,dragLabelText:t??""});return(0,T.jsx)(p.UF,{menu:m,children:(0,T.jsx)("div",{className:A.c.titleContainer,children:e&&t?(0,T.jsx)(S.default,{ref:n,"aria-label":`${v} link`,draggable:h,onDragStart:h?x:void 0,to:e,className:A.c.link,onClick:()=>{o.logInteraction(r.contextLinkFactory().hitUiNavigate({destination:e||""}))},children:l}):l})})},O=I.s.PANEL_CLOSE_CLICK,P=({link:e,title:t,titleSlot:n,actions:i,onClose:a,className:c,panelLinkRef:d,preventDefaultClose:p=!1,onBack:g,item:_,titleVariant:b="bodyMediumBold",titleSemanticColor:v="textBase"})=>{const x=(0,f.sN)(),C=(0,f.YV)(O),E=(0,s.useCallback)((()=>{a?.(),p||x(O)}),[a,p,x]),S=null!==_&&(0,y.UZ)(_);return(0,T.jsx)(s.Suspense,{fallback:null,children:(0,T.jsxs)("div",{className:r()(A.c.header,c),children:[g&&(0,T.jsx)("span",{className:A.c.actions,children:(0,T.jsx)(h.Yl,{label:u._s.get("desktop.login.Back"),children:(0,T.jsx)(m.a,{ariaLabel:u._s.get("desktop.login.Back"),className:A.c.closeButton,size:"sm",onClick:g,icon:o.C})})}),n||(0,T.jsx)(N,{title:t,panelLinkRef:d,link:e,variant:b,semanticColor:v}),(0,T.jsxs)("span",{className:r()(A.c.actions,A.c.closeContainer),children:[i,!S&&(0,T.jsx)("div",{"":"PanelHeader_CloseButton",children:(0,T.jsx)(h.Yl,{label:u._s.get("close"),children:(0,T.jsx)(m.a,{ariaLabel:u._s.get("close"),className:A.c.closeButton,size:"sm",onClick:E,icon:l.K,disabled:!C})})})]})]})})}},88236:(e,t,n)=>{"use strict";n.d(t,{O0:()=>C,Sg:()=>f,YJ:()=>h,YV:()=>x,au:()=>_,sH:()=>v,sN:()=>b});var s=n(96651),i=n(82708),r=n(4564),a=n(49232),o=n(26072),l=n(89876),c=n(31360),d=n(13932),u=n(15040),m=n(75160),p=n(2488);const h="ui.right_sidebar_content",g=(0,s.createContext)(null),f=({playerAPI:e,children:t})=>{const n=(0,a.IP)(u.CwE),o=(0,a.IP)(u.imM),h=(0,a.IP)(u.iIu),f=(0,c.Ow)(),y=(0,m.M)(),_=(0,r.o3)(),b=!(0,d.O)(),v=(0,s.useMemo)((()=>{const t={isPuffinEnabled:n,isAutoToggleNPVEnabled:y,isQueueOnRightPanelEnabled:o,isDevicePickerSidePanelEnabled:h};return(0,l.C)(e,f,_,t,b)}),[e,f,_,b,y,o,n,h]),[x,C]=(0,s.useState)(v.initialState),E=(0,s.useMemo)((()=>(0,i.GM)(v).start()),[v]),S=(0,s.useCallback)((e=>{(e.changed??!0)&&C(e)}),[]);return(0,s.useEffect)((()=>{const e=E.subscribe(S);return()=>e.unsubscribe()}),[E]),(0,p.jsx)(g.Provider,{value:[x,E,v],children:t})};function y(){const e=(0,s.useContext)(g);if(!e)throw new Error("usePanelStateMachine() must be used within a PanelStateMachineContextProvider");return e}function _(e){const[t,n]=y();return{isActive:t.value===e,panelSend:n.send,context:t.context}}function b(){const[,e]=y();return e.send}function v(){const[e]=y();return e.value}function x(e){const[t,n,i]=y(),[r,a]=(0,s.useState)(!0),o=(0,s.useCallback)((t=>{const n=i.transition(t,e);a(n.changed??!0)}),[i,e]);return(0,s.useEffect)((()=>{const e=n.subscribe(o);return()=>e.unsubscribe()}),[n]),r}function C(e){switch(e){case o.s.BuddyFeed:return l.s.BUDDY_FEED_BUTTON_CLICK;case o.s.NowPlayingView:return l.s.NPV_BUTTON_CLICK;case o.s.PuffinActivation:case o.s.Puffin:return l.s.PUFFIN_BUTTON_CLICK;case o.s.Queue:return l.s.QUEUE_BUTTON_CLICK;case o.s.DevicePicker:return l.s.DEVICE_PICKER_BUTTON_CLICK;case o.s.Disabled:default:return l.s.PANEL_CLOSE_CLICK}}},70292:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var s=n(96651),i=n(32976),r=n(1600),a=n(2488);const o=s.memo((({fadeIn:e=!0})=>{const t={background:`linear-gradient(180deg, #202124 0%, ${i.on5} 21.35%)`,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},n={width:"117px",height:"117px",maxWidth:"50vw",maxHeight:"50vh",color:i.ayV,aspectRatio:"1 / 1",animation:e?"300ms ease-out forwards fadein":"none",opacity:e?0:1};return(0,a.jsxs)("div",{style:t,children:[e&&(0,a.jsx)("style",{children:"@keyframes fadein {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}"}),(0,a.jsx)(r.S,{style:n})]})}))},13152:(e,t,n)=>{"use strict";n.d(t,{W:()=>c,_:()=>d});var s=n(96651),i=n(56616);const r={BREAKPOINT_VERTICAL_MEDIUM:"170px",BREAKPOINT_VERTICAL_SMALL:"132px",BREAKPOINT_HORIZONTAL_SMALL:"299px"};function a(e,t=r){const n=function(e,t){if(!e)return"DEFAULT";if(e<=parseInt(t.BREAKPOINT_VERTICAL_SMALL,10))return"SMALL";if(e<=parseInt(t.BREAKPOINT_VERTICAL_MEDIUM,10))return"MEDIUM";return"DEFAULT"}(e?.innerHeight,t),s=function(e,t){if(!e)return"DEFAULT";if(e<=parseInt(t.BREAKPOINT_HORIZONTAL_SMALL,10))return"SMALL";return"DEFAULT"}(e?.innerWidth,t);return{horizontal:s,vertical:n}}var o=n(2488);const l=(0,s.createContext)({horizontal:"DEFAULT",vertical:"DEFAULT"}),c=({children:e})=>{const t=(0,i.Oi)(),[n,r]=(0,s.useState)((()=>a(t)));return(0,s.useEffect)((()=>{const e=()=>{const{vertical:e,horizontal:s}=a(t);e===n.vertical&&s===n.horizontal||r({vertical:e,horizontal:s})};return t?.addEventListener("resize",e),()=>{t?.removeEventListener("resize",e)}}),[n.horizontal,n.vertical,t]),(0,o.jsx)(l.Provider,{value:n,children:e})},d=()=>{const e=(0,s.useContext)(l);if(void 0===e)throw new Error("usePiPMiniPlayerSize must be used within a PiPSizeProvider");return e}},57800:(e,t,n)=>{"use strict";n.d(t,{IF:()=>i,eq:()=>r,mg:()=>a});var s=n(96651);const i=(0,s.createContext)(null);function r(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use 'PlatformContext' without 'PlatformProvider'!");return e}function a(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use 'PlatformContext' without 'PlatformProvider'!");return e.getEventSender()}},82420:(e,t,n)=>{"use strict";n.d(t,{C:()=>d,y:()=>u});var s=n(96651),i=n(49232);const r=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e));var a=n(37116),o=n(72001),l=n(52276),c=n(15040);let d=function(e){return e.STANDARD="standard",e.TURTLE="turtle",e.MEOW="meow",e.BLOB="blob",e.FROG="froge",e}({});const u=()=>{const e=(0,i.IP)(c.qq7,{loadingValue:!1}),[t,u]=(0,a.k)("playback-handle-type",d.STANDARD),[m,p]=(0,s.useState)([]),[h,g]=(0,s.useState)(m[r(0,m.length)]),f=(0,s.useCallback)((()=>{g(m[r(0,m.length)])}),[m]),y=(0,o.o)((e=>e?.item??void 0),((e,t)=>e?.uri===t?.uri||e?.uid===t?.uid));return(0,s.useEffect)((()=>{if(e&&t!==d.STANDARD){(async()=>{let e=[];switch(t){case d.TURTLE:e=await n.e(392).then(n.t.bind(n,94634,19));break;case d.MEOW:e=await n.e(392).then(n.t.bind(n,64976,19));break;case d.BLOB:e=await n.e(392).then(n.t.bind(n,27712,19));break;case d.FROG:e=await n.e(392).then(n.t.bind(n,11536,19));break;default:(0,l.I)(t)}p(e)})()}else p([])}),[e,t]),(0,s.useEffect)((()=>{f()}),[f,y]),{icon:h,playbackHandleType:t,setPlaybackHandleType:u}}},25296:(e,t,n)=>{"use strict";n.d(t,{C:()=>s.C,y:()=>s.y});var s=n(82420)},42324:(e,t,n)=>{"use strict";n.d(t,{IB:()=>a,Yj:()=>c,yo:()=>o});var s=n(96651),i=n(2488);const r={isOpen:!1,uri:null},a=(0,s.createContext)(void 0),o=(0,s.createContext)(r);function l(e,t){switch(t.type){case"open":return{...e,isOpen:!0,uri:t.uri};case"close":return{...r};default:throw new Error("Unknown action received!")}}const c=({children:e})=>{const[t,n]=(0,s.useReducer)(l,r);return(0,i.jsx)(a.Provider,{value:n,children:(0,i.jsx)(o.Provider,{value:t,children:e})})}},66472:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var s=n(96651),i=n(58916);const r=()=>{const[e,t]=(0,s.useState)(!1),n=(0,i.O)(i.E.CollaborativePlaylists);return(0,s.useEffect)((()=>{n&&t(!0)}),[n,t]),{toggleActivationVisible:e,setToggleActivationVisible:t}}},80400:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var s=n(96651),i=n(10124),r=n.n(i),a=n(8004),o=n(19424),l=n(96560),c=n(8340),d=(n(28096),n(12100)),u=n(20356);const m="i9rTNwKyT_NMDghd8q65",p="DXBMXJD8Zoj4V8MxIVTB",h="UEtqSfWDubkNdPIaEkfA",g="I_Rc74Je7W4sk6KAVR05";var f=n(2488);const y=s.memo((function({onClose:e,onConfirm:t,isOpen:n,itemCount:i}){const y=(0,s.useCallback)((n=>{t(),e(n)}),[t,e]),_=d._s.get("queue.confirm-title",i);return(0,f.jsx)(u.c,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:e,contentLabel:_,isOpen:n,children:(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)(a.a,{as:"h2",variant:"bodyMediumBold",className:p,children:_}),(0,f.jsx)(a.a,{as:"p",variant:"bodySmall",className:h,paddingBottom:o.Gw,children:d._s.get("queue.confirm-message")}),(0,f.jsxs)("div",{className:r()("encore-light-theme",g),children:[(0,f.jsx)(l.u,{onClick:e,children:d._s.get("queue.cancel-button")}),(0,f.jsx)(c.g,{onClick:y,children:d._s.get("queue.confirm-button")})]})]})})}))},96788:(e,t,n)=>{"use strict";n.d(t,{M:()=>l});var s=n(69172),i=n(8004),r=n(12100),a=n(32424),o=n(2488);const l=()=>(0,o.jsxs)("div",{className:a.c.emptyContainer,children:[(0,o.jsx)(s.q,{size:"xxlarge","aria-hidden":"true"}),(0,o.jsxs)("div",{className:a.c.titleContainer,children:[(0,o.jsx)(i.a,{as:"h1",variant:"titleMedium",semanticColor:"textBase",children:r._s.get("history.empty-title")}),(0,o.jsx)("p",{children:r._s.get("history.empty-description")})]})]})},73308:(e,t,n)=>{"use strict";n.d(t,{c:()=>d});var s=n(83820),i=n(8004),r=n(8340),a=n(12100),o=n(11732),l=n(32424),c=n(2488);const d=()=>(0,c.jsxs)("div",{className:l.c.emptyContainer,children:[(0,c.jsx)(s.y,{size:"xxlarge","aria-hidden":"true"}),(0,c.jsxs)("div",{className:l.c.titleContainer,children:[(0,c.jsx)(i.a,{as:"h1",variant:"titleMedium",semanticColor:"textBase",children:a._s.get("queue.empty-title")}),(0,c.jsx)("p",{children:a._s.get("queue.empty-description")})]}),(0,c.jsx)(o.default,{to:"/search",children:(0,c.jsx)(r.g,{colorSet:"invertedLight",children:a._s.get("queue.fine-something")})})]})},28544:(e,t,n)=>{"use strict";n.d(t,{iS:()=>l,_8:()=>d,Fv:()=>c});var s=n(96651),i=n(52276);function r(e,t){switch(t.type){case"OPEN":return{...e,isOpen:!0};case"CLOSE":return{...e,isOpen:!1};default:(0,i.E)(t)}}var a=n(2488);const o=(0,s.createContext)(void 0),l=({children:e})=>{const t=(0,s.useReducer)(r,{isOpen:!1});return(0,a.jsx)(o.Provider,{value:t,children:e})},c=()=>{const e=(0,s.useContext)(o);if(!e)throw new Error("useSearchModalState must be used within SearchModalProvider");const[t]=e;return t},d=()=>{const e=(0,s.useContext)(o);if(!e)throw new Error("useSearchModalDispatch must be used within SearchModalProvider");const[,t]=e;return t}},86904:(e,t,n)=>{"use strict";n.d(t,{o:()=>N});var s=n(96651),i=n(4564),r=n(33220),a=n(18648),o=n(29692),l=n(14788),c=n(76361),d=n(81040),u=n(40636),m=n(10124),p=n.n(m),h=n(32976),g=n(8004),f=n(58024),y=n(76008),_=n(12100);const b="main-topBar-searchBar",v="x-searchInput-searchInputSearchIcon",x="x-searchInput-searchInputInput",C="x-searchInput-searchInputOnSearch",E="x-searchInput-searchInputClearButton",S="x-searchInput-searchInputIconContainer",w="x-searchInput-searchInputClearIcon";var I=n(2488);const A=({onSearch:e,handleSubmit:t,handleChange:n,handleKeyDown:s,handleFocus:i,handleClear:r,onClick:a,inputRef:o,value:l})=>(0,I.jsxs)("div",{className:p()(b,{[C]:!e}),children:[(0,I.jsx)("form",{onSubmit:t,role:"search",children:(0,I.jsx)(g.a,{variant:"bodySmall",as:"input",style:{color:h.oZb},ref:o,className:p()(x),value:l,maxLength:800,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:n,onKeyDown:s,placeholder:e?_._s.get("search.search-for-label"):_._s.get("navbar.search"),onFocus:i,"":"search-input",onClick:a})}),(0,I.jsxs)("div",{className:S,children:[(0,I.jsx)("span",{className:v,children:(0,I.jsx)(f.O,{className:w,"aria-hidden":!0,size:"small"})}),l&&(0,I.jsx)("button",{className:E,onClick:r,"aria-label":_._s.get("search.a11y.clear-input"),children:(0,I.jsx)(y.K,{className:w,size:"small"})})]})]});var T=n(10820),k=n(2568);const N=s.memo((function({isSearchChipsEnabled:e=!1,onSearch:t=!0,onClick:n}){const m=(0,r.IT)(),p=(0,r.i6)(),h=(0,s.useRef)(null),g=(0,s.useRef)(null),f=(0,i.OY)(),[{category:y,query:_},b]=(0,k.k)(),[v,x]=(0,s.useState)(_),C=!!y,E=(0,d.Iz)(),S=m.pathname.startsWith("/recent-searches"),w=C||S,{spec:N,logger:O}=(0,u.gp)(o.createDesktopSearchInputEventFactory,{}),P=(0,a.yK)(((t,n,s)=>{let i;if(s){const{interactionId:e}=O.logInteraction(s);i=e}e?b(t,y,!1,i):b(t,null,n,i),E.current&&(E.current.scrollTop=0)}),200),j=(0,s.useCallback)(((e=!1)=>{h.current!==document.activeElement&&(g.current=document.activeElement,h.current&&h.current.focus()),e&&h.current?.select()}),[h]);(0,c.GU)(c.ak.SHOW_SEARCH,(()=>j(!0)));const L=m.pathname.startsWith("/search"),R=m?.state?.fromBrowse||!1;(0,s.useEffect)((()=>{!w&&t&&L&&!R&&(e&&_||j())}),[_,j,m.key,t,L,w,e,R]),(0,s.useEffect)((()=>{L||x("")}),[L,_]);return(0,I.jsx)(A,{inputRef:h,onClick:n,onSearch:t,value:v,handleSubmit:e=>{e.preventDefault(),v&&O.logInteraction(N.keyStrokeSearch());const t=(0,l.nX)(v,{parseUnknown:!0});if(t?.type===l.cH.AD){const e=(0,l.Wq)(t.id);if(t.id===e)return;f((0,T.eg)(t.id))}else t?p(t.toURLPath(!0),{state:{preventMoveFocus:!0,redirectToHome:(0,l.GK)(t)}}):v||p("/search",{state:{preventMoveFocus:!0}});v&&E.current?.querySelector("h1, h2, h3, h4")?.focus()},handleChange:e=>{const t=e.currentTarget.value,n=N.keyStrokeChangeSearchQuery({searchQueryString:t});x(t),P(t,w,n)},handleKeyDown:e=>{if("Escape"===e.key)if(v){const e=N.hitTextClear();x(""),P("",w,e)}else h.current&&h.current.blur(),g.current instanceof HTMLElement&&g.current.focus()},handleFocus:()=>{e||!w&&t||P(v,w,null)},handleClear:()=>{h.current&&h.current.focus();const e=N.hitTextClear();x(""),P("",w,e)}})}))},64728:(e,t,n)=>{"use strict";n.d(t,{UL:()=>o,gB:()=>a});var s=n(96651),i=n(2488);const r=(0,s.createContext)(null),a=({instance:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t}),o=()=>{const e=(0,s.useContext)(r);if(null===e)throw new Error("useSettingsAPI must be used within a SettingsProvider");return e}},25396:(e,t,n)=>{"use strict";n.d(t,{C:()=>l,U:()=>c});var s=n(96651),i=n(77140),r=n(40636),a=n(2488);const o=(0,s.createContext)(null),l=({children:e})=>{const t=(0,r.gp)(i.W,{}),{spec:n,UBIFragment:s}=t;return(0,a.jsx)(s,{spec:n,children:(0,a.jsx)(o.Provider,{value:t,children:e})})},c=()=>{const e=(0,s.useContext)(o);if(null===e)throw new Error("useSettingsUBI must be used within a SettingsUBIProvider");return e}},70764:(e,t,n)=>{"use strict";n.d(t,{_:()=>a,o:()=>o});n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256);var s=n(96651),i=n(2488);const r=(0,s.createContext)(void 0),a=({children:e})=>{const[t,n]=(0,s.useState)(!1),[a,o]=(0,s.useState)(new Set),l=(0,s.useCallback)(((e,t)=>{o((n=>{if(n.has(e)===t)return n;const s=new Set(n);return t?s.add(e):s.delete(e),s}))}),[]),c=a.size>0;return(0,i.jsx)(r.Provider,{value:{sectionMatch:t,setSectionMatch:n,sectionContainsMatch:c,setSectionFilterMatchQueryValue:l},children:e})},o=()=>{const e=(0,s.useContext)(r);if(void 0===e)throw new Error("useSectionMatchState() must be used within a SectionFilterMatchContextProvider");return e}},3248:(e,t,n)=>{"use strict";n.d(t,{w:()=>l});n(73952),n(97296);var s=n(96651),i=n(8004),r=n(94768),a=n(78808),o=n(2488);function l({htmlString:e,children:t,htmlFor:n,semanticColor:l="textSubdued",variant:c="bodySmall",className:d,...u}){const{filter:m}=(0,s.useContext)(a.on);if(!t&&!e)return null;let p=t;return e&&(p=(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:e}})),(0,o.jsx)(i.a,{as:"label",variant:c,semanticColor:l,htmlFor:n,className:d,"":u["data-testid"],children:m.length>0?(0,o.jsx)(r.S,{searchWords:[m],textToHighlight:t||e||""}):p})}},34018:(e,t,n)=>{"use strict";n.d(t,{u:()=>c});n(73952),n(97296);var s=n(96651),i=n(70764),r=n(78808),a=n(88672);const o="x-settings-row";var l=n(2488);const c=({children:e,filterMatchQuery:t})=>{const{filter:n}=(0,s.useContext)(r.on),{setSectionFilterMatchQueryValue:c,sectionMatch:d}=(0,i.o)(),u=(0,a._)(n,t);return(0,s.useEffect)((()=>{c(t,u)}),[u,t,c]),d||u?(0,l.jsx)("div",{className:o,children:e}):null}},23776:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});const s="x-settings-secondColumn";var i=n(2488);const r=({children:e})=>(0,i.jsx)("div",{className:s,children:e})},53680:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var s=n(10124),i=n.n(s);const r="x-settings-firstColumn";var a=n(2488);const o=({className:e,children:t})=>(0,a.jsx)("div",{className:i()(r,e),children:t})},7532:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DesktopSettings:()=>pn,default:()=>hn,getIsEmployeeDesktopSettings:()=>mn});var s=n(96651),i=n(49232),r=n(25336),a=n(39224),o=n(12100),l=n(2732),c=n(3248),d=n(34018),u=n(23776),m=n(53680),p=(n(73952),n(97296),n(10124)),h=n.n(p),g=n(70764),f=n(78808),y=n(88672);const _={section:"x-settings-section",hidden:"x-settings-hidden"};var b=n(2488);function v({children:e,filterMatchQuery:t}){const{filter:n}=(0,s.useContext)(f.on),{setSectionMatch:i,sectionContainsMatch:r}=(0,g.o)(),a=(0,y._)(n,t);(0,s.useEffect)((()=>{i(a)}),[a,i]);const o=!a&&!r;return(0,b.jsx)("div",{className:h()(_.section,{[_.hidden]:o}),children:e})}function x(e){return(0,b.jsx)(g._,{children:(0,b.jsx)(v,{...e})})}var C=n(8004),E=n(94768);function S({children:e,className:t,semanticColor:n="textBase"}){const{filter:i}=(0,s.useContext)(f.on);return(0,b.jsx)(C.a,{as:"h2",variant:"bodyMediumBold",semanticColor:n,className:t,children:(0,b.jsx)(E.S,{searchWords:[i],textToHighlight:e})})}const w=({settings:{values:e},setValue:t})=>navigator&&/^win/i.test(navigator.platform)?(0,b.jsxs)(x,{filterMatchQuery:o._s.get("desktop.settings.compatibility"),children:[(0,b.jsx)(S,{children:o._s.get("desktop.settings.compatibility")}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.enableHardwareAcceleration"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.enableHardwareAcceleration",children:o._s.get("desktop.settings.enableHardwareAcceleration")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.enableHardwareAcceleration",value:!!e["ui.hardware_acceleration"],onSelected:e=>{t("ui.hardware_acceleration",e)}})})]})]}):null;var I=n(90196),A=n(15040),T=n(78128),k=n(24544),N=(n(41260),n(39352));function O(){const e=(0,T.l)(),[t,n]=(0,s.useState)(!1),i=(0,s.useCallback)((t=>{e.setEnabledState(t)}),[e]);return(0,s.useEffect)((()=>e.subscribeToEnabledState(n)),[e]),[t,i]}function P(){const e=(0,T.l)(),[t,n]=(0,s.useState)(e.getPreset()),i=(0,s.useCallback)((t=>{e.setPreset(t)}),[e]);return(0,s.useEffect)((()=>e.subscribeToPresetChange((e=>{n(e)})))),[t,i]}n(97768);var j=n(18648);function L(e){return`${e>0?`+${e}`:e}dB`}const R={wrapper:"x-settings-equalizerPanelWrapper",preset:"x-settings-equalizerPanelPreset",filters:"x-settings-equalizerPanelFilters",filter:"x-settings-equalizerPanelFilter",input:"x-settings-equalizerPanelInput",label:"x-settings-equalizerPanelLabel",gainLabel:"x-settings-equalizerPanelGainLabel",gainLabelUp:"x-settings-equalizerPanelGainLabelUp",gainLabelDown:"x-settings-equalizerPanelGainLabelDown",canvas:"x-settings-equalizerPanelCanvas"};function D({filter:e,onChange:t}){const n=(0,T.l)(),i=(0,s.useRef)(null),[r]=P();(0,s.useEffect)((()=>{const t=r.filters.find((t=>t.key===e.key));i.current&&t&&(i.current.value=`${t.gain}`)}),[r,e.key]),(0,s.useEffect)((()=>{i.current&&i.current.setAttribute("aria-valuetext",o._s.get("equalizer.filterA11yValueText",e.gain))}),[]);const a=(0,j.yK)(((e,t)=>{n.setFilterGain(e,t)}),100,{maxWait:200});return(0,b.jsxs)("div",{className:R.filter,children:[(0,b.jsx)("input",{"aria-label":o._s.get("equalizer.filterLabel",e.frequency),ref:i,type:"range",min:-N.gr,max:N.gr,step:.1,defaultValue:e.gain,className:R.input,onChange:n=>{const s=parseFloat(n.target.value);n.target.setAttribute("aria-valuetext",o._s.get("equalizer.filterA11yValueText",s)),a(e.key,s),t(s)}}),(0,b.jsx)("label",{className:R.label,children:(l=e.frequency,l>=1e3?l/1e3+"KHz":`${l}Hz`)})]});var l}const M=()=>{const[e,t]=(0,s.useState)(window.devicePixelRatio||1);return(0,s.useEffect)((()=>{const e=()=>{matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`).addEventListener("change",(()=>{t(window.devicePixelRatio),e()}),{once:!0})};e()}),[]),e};var U=n(62572);function F(e,t){e.moveTo(t[0],t[1]);for(let n=2;n<t.length-1;n+=2)e.lineTo(t[n],t[n+1])}n(99400);function B(e){const t=.6,n=[],s=e.reduce(((e,t)=>(e.push(t.x),e.push(t.y),e)),[]);s.unshift(e[0].y),s.unshift(e[0].x),s.push(e[e.length-1].x),s.push(e[e.length-1].y);for(let e=2;e<s.length-4;e+=2)for(let i=0;i<=16;i++){const r=(s[e+2]-s[e-2])*t,a=(s[e+4]-s[e])*t,o=(s[e+3]-s[e-1])*t,l=(s[e+5]-s[e+1])*t,c=i/16,d=2*Math.pow(c,3)-3*Math.pow(c,2)+1,u=-2*Math.pow(c,3)+3*Math.pow(c,2),m=Math.pow(c,3)-2*Math.pow(c,2)+c,p=Math.pow(c,3)-Math.pow(c,2),h=d*s[e]+u*s[e+2]+m*r+p*a,g=d*s[e+1]+u*s[e+3]+m*o+p*l;n.push(h),n.push(g)}return n}n(39568);var G=n(32976);function V(e,t){const n=e.getContext("2d");n&&(n.clearRect(0,0,e.clientWidth,e.clientHeight),function(e,t,n){const s=t.clientWidth,i=t.clientHeight,r=s/n.length/2;e.beginPath();const a=e.createLinearGradient(s/2,0,s/2,i);a.addColorStop(0,"rgba(11%, 73%, 33%, 100%)"),a.addColorStop(1,"rgba(11%, 73%, 33%, 0%)"),e.fillStyle=a,F(e,B(n)),e.lineTo(s-r,i),e.lineTo(r,i),e.fill()}(n,e,t),function(e,t){e.beginPath(),e.strokeStyle="rgb(11%, 73%, 33%)",e.lineWidth=4,F(e,B(t)),e.stroke()}(n,t),function(e,t){e.fillStyle=G.WKt,t.forEach((t=>{e.beginPath(),e.arc(t.x,t.y,4,0,2*Math.PI),e.fill()}))}(n,t))}const H=60,W=300;function z(e,t){const n=t.clientWidth/e.length;return e.map(((e,s)=>({x:s*n+n/2,y:t.clientHeight-(e+N.gr+3)/(2*N.gr+6)*t.clientHeight})))}function Y(e){const t=(0,s.useRef)(null),n=M(),i=(0,s.useCallback)((()=>{if(!t.current)return;const e=n,s=t.current.getBoundingClientRect();t.current.width=s.width*e,t.current.height=s.height*e,t.current.getContext("2d")?.scale(e,e)}),[n]),r=(0,s.useCallback)((()=>{if(!t.current||!e.current)return;const n=z(e.current,t.current);V(t.current,n)}),[e]),a=(0,s.useCallback)((n=>{if(!t.current||!e.current)return;const s=z(e.current,t.current),i=z(n,t.current);!function(e,t,n){const s=H*(W/1e3);let i=0;const r=JSON.parse(JSON.stringify(t)),a=n.map(((e,n)=>e.y-t[n].y)),o=()=>{if(!(i>=s)){for(let e=0;e<r.length;e++){const o=t[e].y,d=a[e];r[e].y=(n=o,l=d,c=i,(c/=s/2)<1?l/2*Math.pow(c,3)+n:(c-=2,l/2*(Math.pow(c,3)+2)+n))}var n,l,c;V(e,r),i++,window.requestAnimationFrame(o)}};window.requestAnimationFrame(o)}(t.current,s,i)}),[e]);return(0,s.useEffect)((()=>{i(),r()}),[i,r]),(0,U.m)({refOrElement:t,onResize:()=>{i(),r()}}),{canvasRef:t,drawCanvas:r,animateCanvas:a}}function K(){const[e,t]=O(),[n,i]=P(),r=(0,s.useRef)(n.filters.map((e=>e.gain))),{canvasRef:a,drawCanvas:l,animateCanvas:c}=Y(r);return(0,s.useEffect)((()=>{const e=n.filters.map((e=>e.gain));"custom"!==n.key&&c(e),r.current=e}),[n,c]),(0,b.jsxs)("div",{className:R.wrapper,children:[(0,b.jsx)("canvas",{"aria-label":o._s.get("equalizer.equalizer"),role:"img",className:R.canvas,ref:a}),(0,b.jsx)("label",{className:h()(R.gainLabel,R.gainLabelUp),children:L(N.gr)}),(0,b.jsx)("label",{className:h()(R.gainLabel,R.gainLabelDown),children:L(-N.gr)}),(0,b.jsx)("div",{className:R.filters,dir:"ltr",children:n.filters.map(((n,s)=>(0,b.jsx)(D,{filter:n,onChange:n=>{r.current[s]=n,l(),e||t(!0),i((0,N.iA)(r.current))}},n.key)))})]})}var q=n(7440);const Q={container:"x-settings-equalizerPresetsContainer",label:"x-settings-equalizerPresetsLabel"};function X(){const[e,t]=O(),[n,s]=P();return(0,b.jsxs)("div",{className:Q.container,children:[(0,b.jsx)(C.a,{as:"label",variant:"bodySmall",semanticColor:"textSubdued",htmlFor:"desktop.equalizer.preset",className:Q.label,children:o._s.get("equalizer.presets")}),(0,b.jsxs)(q.W,{id:"desktop.equalizer.preset",value:n.key,onSelect:n=>{s(n),e||t(!0)},children:["custom"===n.key&&(0,b.jsx)("option",{value:n.key,children:n.displayName}),Object.entries(N.Ex).map((([e,t])=>(0,b.jsx)("option",{value:e,children:t.displayName},e)))]})]})}var $=n(49612);function J(){const[e,t]=O(),[,n]=P();return(0,b.jsx)($.w,{onClick:()=>{n(N.Ex.flat.key),e||t(!0)},size:"small",children:o._s.get("equalizer.reset")})}function Z(){const[e,t]=O();return(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("equalizer.equalizer"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"settings.equalizer",children:o._s.get("equalizer.equalizer")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"settings.equalizer",value:e,onSelected:t})})]})}const ee="x-settings-equalizerSection",te="x-settings-equalizerWrapper",ne="x-settings-equalizerResetButtonWrapper";function se(){const e=(0,T.l)();return(0,i.IP)(k.kL,{loadingValue:!1})&&e.isSupported()?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Z,{}),(0,b.jsx)(d.u,{filterMatchQuery:o._s.get("equalizer.equalizer"),children:(0,b.jsxs)("div",{className:ee,children:[(0,b.jsx)(X,{}),(0,b.jsx)("div",{className:te,children:(0,b.jsx)(K,{})}),(0,b.jsx)("div",{className:ne,children:(0,b.jsx)(J,{})})]})})]}):null}const ie="x-settings-crossFadeContainer",re=12e3,ae=({settings:{values:e},setValue:t})=>{const n=(0,i.IP)(A.SOB),r=(0,i.IP)(A.UxK),a=(0,i.IP)(A.M45),[p,h]=(0,s.useState)(-1),g=-1===p?Number(e["audio.crossfade.time_v2"]):p,f=`${Math.round(g/1e3)} ${o._s.get("desktop.settings.sec")}`;return(0,b.jsxs)(x,{filterMatchQuery:o._s.get("desktop.settings.playback"),children:[(0,b.jsx)(S,{children:o._s.get("desktop.settings.playback")}),void 0!==e["audio.crossfade_v2"]&&(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.crossfadeTracks"),children:[(0,b.jsxs)(m.g,{children:[(0,b.jsx)(c.w,{htmlFor:"desktop.settings.crossfadeTracks",children:o._s.get("desktop.settings.crossfadeTracks")}),e["audio.crossfade_v2"]&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:ie,children:(0,b.jsx)(I.cH,{value:g,max:re,step:1e3,labelText:o._s.get("desktop.settings.crossfadeTracks"),onStepBackward:()=>{h(Math.max(0,g-1e3))},onStepForward:()=>{h(Math.min(re,g+1e3))},onDragStart:e=>{h(e*re)},onDragMove:e=>{h(e*re)},onDragEnd:e=>{const n=Math.floor(e*re);h(n),t("audio.crossfade.time_v2",n)}})}),(0,b.jsx)(C.a,{variant:"bodySmall",semanticColor:"textSubdued",children:f})]})]}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.crossfadeTracks",value:!!e["audio.crossfade_v2"],onSelected:e=>{t("audio.crossfade_v2",e)}})})]}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.automixInfo"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.automixInfo",children:o._s.get("desktop.settings.automixInfo")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.automixInfo",value:!!e["audio.automix"],onSelected:e=>{t("audio.automix",e)}})})]}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.monoDownmixer"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.monoDownmixer",children:o._s.get("desktop.settings.monoDownmixer")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.monoDownmixer",value:!!e["audio.downmixer_v2"],onSelected:e=>{t("audio.downmixer_v2",e)}})})]}),n&&(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.silenceTrimmer"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.silenceTrimmer",children:o._s.get("desktop.settings.silenceTrimmer")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.silenceTrimmer",value:!!e["audio.silence_trimmer_v2"],onSelected:e=>{t("audio.silence_trimmer_v2",e)}})})]}),r&&(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.dynamicNormalizer"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.dynamicNormalizer",children:o._s.get("desktop.settings.dynamicNormalizer")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.dynamicNormalizer",value:!!e["audio.dynamic_normalizer_v2"],onSelected:e=>{t("audio.dynamic_normalizer_v2",e)}})})]}),a&&(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.otfn"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.otfn",children:o._s.get("desktop.settings.otfn")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.otfn",value:!!e["audio.otfn_v2"],onSelected:e=>{t("audio.otfn_v2",e)}})})]}),(0,b.jsx)(se,{})]})};var oe=n(3912);const le={get[oe.OG.MINIMIZED](){return o._s.get("desktop.settings.autostartMinimized")},get[oe.OG.NORMAL](){return o._s.get("desktop.settings.autostartNormal")},get[oe.OG.OFF](){return o._s.get("desktop.settings.autostartOff")}},ce=({settings:{values:e},setValue:t})=>(0,b.jsxs)(x,{filterMatchQuery:o._s.get("desktop.settings.startupAndWindowBehavior"),children:[(0,b.jsx)(S,{children:o._s.get("desktop.settings.startupAndWindowBehavior")}),void 0!==e["app.autostart-mode"]&&(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.autostart"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.autostart",children:o._s.get("desktop.settings.autostart")})}),(0,b.jsx)(u.i,{children:(0,b.jsxs)(q.W,{id:"desktop.settings.autostart",value:e["app.autostart-mode"],onSelect:e=>{t("app.autostart-mode",e)},children:[(0,b.jsx)("option",{value:oe.OG.MINIMIZED,children:le[oe.OG.MINIMIZED]}),(0,b.jsx)("option",{value:oe.OG.NORMAL,children:le[oe.OG.NORMAL]}),(0,b.jsx)("option",{value:oe.OG.OFF,children:le[oe.OG.OFF]})]})})]}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.closeShouldMinimize"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.closeShouldMinimize",children:o._s.get("desktop.settings.closeShouldMinimize")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.closeShouldMinimize",value:!!e["ui.minimize_to_tray"],onSelected:e=>{t("ui.minimize_to_tray",e)}})})]})]}),de={"auto-detect":{label:()=>o._s.get("desktop.settings.proxy.autodetect")},"no-proxy":{label:()=>o._s.get("desktop.settings.proxy.noproxy")},http:{label:()=>o._s.get("desktop.settings.proxy.http")},socks4:{label:()=>o._s.get("desktop.settings.proxy.socks4")},socks5:{label:()=>o._s.get("desktop.settings.proxy.socks5")}},ue=[{enumKey:"auto-detect",enumValue:0},{enumKey:"no-proxy",enumValue:1},{enumKey:"http",enumValue:2},{enumKey:"socks4",enumValue:3},{enumKey:"socks5",enumValue:4}];var me=n(5304);const pe="mpdBa62OP4Fr5wvCsa89",he="x-proxySettings-ProxySettings",ge="x-proxySettings-fullWidth",fe="x-settings-input",ye="x-proxySettings-horizontalPair",_e=({id:e,type:t,placeHolder:n,inputRef:s,handleOnChange:i})=>(0,b.jsx)("input",{type:t||"text",id:e,"":e,className:fe,placeholder:n,ref:s,onChange:i}),be=({children:e,label:t})=>(0,b.jsx)(me.W,{label:t,className:ye,children:e}),ve="x-settings-restartAppButton";function xe({onClick:e}){return(0,b.jsx)($.w,{className:ve,onClick:e,children:o._s.get("settings.restartApp")})}const Ce=(e,t,n)=>{let s=`${e}:${t}`;switch(n){case 2:s+="@http";break;case 3:s+="@socks4";break;case 4:s+="@socks5"}return s},Ee=({addr:e,mode:t="0",pass:n,user:i,setValue:r,restartContainer:a,fullWidth:l})=>{const c=(0,s.useRef)(null),d=(0,s.useRef)(null),u=(0,s.useRef)(null),m=(0,s.useRef)(null),p=Number(t),[g,f]=(0,s.useState)(""),[y,_]=(0,s.useState)(""),[v,C]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const[t,n]=e?.split(/[:@]+/)||["",""];f(t),_(n),c.current&&(c.current.value=t),d.current&&(d.current.value=n)}),[e]),(0,s.useEffect)((()=>{m.current&&n&&(m.current.value=n.toString())}),[n]),(0,s.useEffect)((()=>{u.current&&i&&(u.current.value=i.toString())}),[i]);const E=(0,s.useCallback)((({target:e})=>{const t=Ce(e.value,y,p);f(e.value),r("network.proxy.addr",t),C(!0)}),[p,y,r]),w=(0,s.useCallback)((({target:e})=>{const t=Ce(g,e.value,p);_(e.value),r("network.proxy.addr",t),C(!0)}),[p,g,r]),I=(0,s.useCallback)((({target:e})=>{r("network.proxy.user",e.value),C(!0)}),[r]),A=(0,s.useCallback)((({target:e})=>{r("network.proxy.pass",e.value),C(!0)}),[r]),T=0!==p&&1!==p,k=3!==p;return(0,b.jsxs)(x,{filterMatchQuery:o._s.get("desktop.settings.proxy.title"),children:[(0,b.jsx)(S,{children:o._s.get("desktop.settings.proxy.title")}),(0,b.jsxs)("div",{className:h()(he,l?ge:null),children:[(0,b.jsx)(be,{label:o._s.get("desktop.settings.proxy.type"),children:(0,b.jsx)(q.W,{id:"network.proxy.mode",value:t,onSelect:e=>{const t=parseInt(e,10);r("network.proxy.mode",t),C(!0)},children:ue.map((({enumKey:e,enumValue:t})=>(0,b.jsx)("option",{value:t,"":e,children:de[e]?de[e].label():""},e)))})}),T?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:pe,children:[(0,b.jsx)(be,{label:o._s.get("desktop.settings.proxy.host"),children:(0,b.jsx)(_e,{id:"network.proxy.host",handleOnChange:E,placeHolder:o._s.get("desktop.settings.proxy.host"),inputRef:c})}),(0,b.jsx)(be,{label:o._s.get("desktop.settings.proxy.port"),children:(0,b.jsx)(_e,{id:"network.proxy.port",type:"number",handleOnChange:w,placeHolder:o._s.get("desktop.settings.proxy.port"),inputRef:d})})]}),(0,b.jsxs)("div",{className:k?pe:void 0,children:[(0,b.jsx)(be,{label:o._s.get("desktop.settings.proxy.user"),children:(0,b.jsx)(_e,{id:"network.proxy.user",handleOnChange:I,placeHolder:o._s.get("desktop.settings.proxy.user"),inputRef:u})}),k?(0,b.jsx)(be,{label:o._s.get("desktop.settings.proxy.pass"),children:(0,b.jsx)(_e,{id:"network.proxy.pass",handleOnChange:A,placeHolder:o._s.get("desktop.settings.proxy.pass"),type:"password",inputRef:m})}):null]})]}):null,v&&(0,b.jsx)("div",{children:(0,b.jsx)(xe,{onClick:a})})]})]})};var Se=n(4564),we=n(4732),Ie=n(13932),Ae=n(48348),Te=n(808);function ke(){const e=(0,Te.o)(),[t,n]=(0,s.useState)(null),[i,r]=(0,s.useState)(!0),[a,o]=(0,s.useState)(null);return(0,s.useEffect)((()=>{const t=window.setInterval((()=>{!async function(){if(null===a){try{const t=await e.getStatistics();n(t)}catch(e){o(e instanceof Error?e:new Error("Error when fetching storage statistics."))}r(!1)}}()}),1500);return()=>clearInterval(t)}),[e,a]),[t,i,a]}const Ne="x-settings-button",Oe="x-settings-wordBreakAll",Pe=({settings:e,setValue:t})=>{const n=(0,s.useContext)(Ae.E),i=(0,s.useContext)(a.s),r=!(0,Ie.O)(),[l,p]=(0,s.useState)(!1),h=(0,s.useCallback)((()=>{i.applyUpdate()}),[i]),[g,f,y]=ke(),_=(0,Se.OY)();let v="",C="",E=0;f?(v=o._s.get("page.loading"),C=o._s.get("page.loading")):y||null===g?(v=o._s.get("error.generic"),C=o._s.get("error.generic")):(E=g.currentSizeMB-g.currentLockedSizeMB,v=` ${E} MB`,C=` ${g.currentLockedSizeMB} MB`);const w=e.values["storage.location"];return(0,b.jsxs)(x,{filterMatchQuery:o._s.get("desktop.settings.storage"),children:[(0,b.jsx)(S,{children:o._s.get("desktop.settings.storage")}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.storage.downloads.heading"),children:[(0,b.jsx)(m.g,{children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(c.w,{htmlFor:"desktop.settings.downloads",semanticColor:"textBase",children:o._s.get("desktop.settings.storage.downloads.heading")}),(0,b.jsx)(c.w,{htmlFor:"desktop.settings.downloads",children:C})]}),(0,b.jsx)(c.w,{htmlFor:"desktop.settings.downloads",children:o._s.get("desktop.settings.storage.downloads.text")})]})}),(0,b.jsx)(u.i,{children:(0,b.jsx)($.w,{id:"desktop.settings.downloads",size:"small",onClick:()=>{_((0,we.on)())},disabled:r||!g||0===g.currentLockedSizeMB,className:Ne,children:o._s.get("desktop.settings.storage.downloads.button")})})]}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.storage.cache.heading"),children:[(0,b.jsx)(m.g,{children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(c.w,{htmlFor:"desktop.settings.cache",semanticColor:"textBase",children:o._s.get("desktop.settings.storage.cache.heading")}),(0,b.jsx)(c.w,{htmlFor:"desktop.settings.cache",children:v})]}),(0,b.jsx)(c.w,{htmlFor:"desktop.settings.cache",children:o._s.get("desktop.settings.storage.cache.text")})]})}),(0,b.jsx)(u.i,{children:(0,b.jsx)($.w,{id:"desktop.settings.cache",size:"small",onClick:()=>{_((0,we.wX)())},disabled:0===E,className:Ne,children:o._s.get("desktop.settings.storage.cache.button")})})]}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.offlineStorageLocation"),children:[(0,b.jsx)(m.g,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.offline-storage",semanticColor:"textBase",children:o._s.get("desktop.settings.offlineStorageLocation")})}),(0,b.jsx)(c.w,{htmlFor:"desktop.settings.offline-storage",className:Oe,children:w})]})}),(0,b.jsxs)(u.i,{children:[(0,b.jsx)($.w,{id:"desktop.settings.offline-storage",size:"small",onClick:async()=>{const s=await n.browseForFolder();s.path&&(t("storage.location",s.path),s.path!==e.values["storage.location"]&&p(!0))},className:Ne,children:o._s.get("desktop.settings.offlineStorageChangeLocation")}),l&&(0,b.jsx)(xe,{onClick:h})]})]})]})},je=({settings:e,setValue:t})=>{const n=(0,s.useContext)(a.s),i=(0,s.useCallback)((()=>{n.applyUpdate()}),[n]),{values:r}=e;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ae,{settings:e,setValue:t}),(0,b.jsx)(ce,{settings:e,setValue:t}),(0,b.jsx)(Pe,{settings:e,setValue:t}),(0,b.jsx)(Ee,{setValue:t,restartContainer:i,mode:r["network.proxy.mode"],addr:r["network.proxy.addr"],user:r["network.proxy.user"],pass:r["network.proxy.pass"]}),(0,b.jsx)(w,{settings:e,setValue:t})]})};var Le=n(7296);const Re="obMvjPGAJ0wlp7pMtG62",De=({settings:{values:e},setValue:t})=>{const n=(0,Le.w)(),s="1"===e["dsa-mode-enabled"];if(void 0===e["app.player.autoplay"])return null;const i="0"!==e.autoplay;return(0,b.jsxs)(x,{filterMatchQuery:o._s.get("desktop.settings.autoplay"),children:[(0,b.jsx)(S,{className:s?Re:void 0,semanticColor:s?"textSubdued":void 0,children:o._s.get("desktop.settings.autoplay")}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.autoplayInfo"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"global.settings.autoplayInfo",className:s?Re:void 0,children:s?o._s.get("web-player.settings.autoplay-dsa-enabled"):o._s.get("desktop.settings.autoplayInfo")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"global.settings.autoplayInfo",value:i,onSelected:e=>{n({intent:e?"enable_autoplay":"disable_autoplay",type:"click"}),t("autoplay",e?"1":"0")},disabled:s})})]})]})};var Me=n(26072),Ue=n(38432),Fe=n(6640),Be=n(75160);let Ge=function(e){return e.LIBRARY_COMPACT_MODE="library-compact-mode",e.NOW_PLAYING_VIEW="now-playing-view",e}({});var Ve=n(25396);const He=e=>{const{spec:t,logger:n}=(0,Ve.U)();return(0,s.useCallback)((s=>{s?n.logInteraction(t.settingsRowFactory({identifier:e}).hitSettingEnable()):n.logInteraction(t.settingsRowFactory({identifier:e}).hitSettingDisable())}),[e,n,t])},We=()=>{const[e,t]=(0,Be.G)(),n=He(Ge.NOW_PLAYING_VIEW),i=(0,s.useCallback)((e=>{n(e),t(e)}),[t,n]);return(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("settings.npv"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"settings.npv",children:o._s.get("settings.npv")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"settings.npv",value:e,onSelected:i})})]})},ze=({settings:{values:e},setValue:t})=>{const n=void 0===e.catalogue||"string"==typeof e.catalogue&&"free"===e.catalogue.toLowerCase(),s=(0,Ue.S)(),i=s?.client_capabilities?.can_show_system_media_controls,r=s?.client_capabilities?.can_show_track_notifications,{isActive:a,panelSend:p}=(0,Fe.au)(Me.s.BuddyFeed);return(0,b.jsxs)(x,{filterMatchQuery:o._s.get("settings.display"),children:[(0,b.jsx)(S,{children:o._s.get("settings.display")}),(0,b.jsx)(We,{}),!n&&(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("settings.showMusicAnnouncements"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"settings.showMusicAnnouncements",children:o._s.get("settings.showMusicAnnouncements")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"settings.showMusicAnnouncements",value:!e["ui.hide_hpto"],onSelected:e=>{t("ui.hide_hpto",!e)}})})]}),r&&(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("settings.showTrackNotifications"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"settings.trackNotifications",children:o._s.get("settings.showTrackNotifications")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"settings.trackNotifications",value:!!e["ui.track_notifications_enabled"],onSelected:e=>{t("ui.track_notifications_enabled",e)}})})]}),i&&(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.showSystemMediaControls"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"settings.systemMediaControlsEnabled",children:o._s.get("desktop.settings.showSystemMediaControls")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"settings.systemMediaControlsEnabled",value:!!e["ui.system_media_controls_enabled"],onSelected:e=>{t("ui.system_media_controls_enabled",e)}})})]}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("buddy-feed.see-what-your-friends-are-playing"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"settings.showFriendActivity",children:o._s.get("buddy-feed.see-what-your-friends-are-playing")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"settings.showFriendActivity",value:a,onSelected:()=>{p(Fe.s7.BUDDY_FEED_BUTTON_CLICK)}})})]})]})};var Ye=n(82420);const Ke=()=>{const e=(0,i.IP)(A.qq7,{loadingValue:!1}),{playbackHandleType:t,setPlaybackHandleType:n}=(0,Ye.y)();return e?(0,b.jsxs)(d.u,{filterMatchQuery:"Playback handle",children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"",children:"Custom playback handle"})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(q.W,{id:"desktop.settings.playbackHandle",value:t,onSelect:e=>{n(e)},children:Object.values(Ye.C).map((e=>(0,b.jsx)("option",{value:e,children:e},e)))})})]}):null};var qe=n(29036),Qe=n(68964),Xe=n(54420);const $e="m7e5wHq6US9u3BbLQXEX",Je="ul4DB6lq_3qO_aCiEbcc",Ze=()=>{const e=(0,Se.OY)(),{locale:t,user:n,overrides:i}=(0,Se.w1)(Qe.cx),r=(0,s.useRef)(null),a=(0,s.useRef)(null),o=(0,s.useCallback)((t=>{r.current&&r.current.value&&e((0,Xe._i)(t?r.current.value:""))}),[e]),l=(0,s.useCallback)((t=>{a.current&&a.current.value&&e((0,Xe.K6)(t?a.current.value:""))}),[e]),c=i?.country||n?.country,p=i?.locale||t;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(d.u,{filterMatchQuery:c??"",children:[(0,b.jsx)(m.g,{children:(0,b.jsx)("div",{className:$e,children:(0,b.jsx)(qe.w,{id:"overrides.country",onChange:e=>{const t=e.target.checked;o(t)},defaultChecked:!!i?.country,children:(0,b.jsx)(C.a,{variant:"bodySmall",semanticColor:"textSubdued",children:"Country"})})})}),(0,b.jsx)(u.i,{children:(0,b.jsx)("input",{type:"text",id:"overrides.country.input",className:Je,disabled:!i?.country,ref:r,defaultValue:c,onChange:()=>o(!0)})})]}),(0,b.jsxs)(d.u,{filterMatchQuery:i?.locale??"",children:[(0,b.jsx)(m.g,{children:(0,b.jsx)("div",{className:$e,children:(0,b.jsx)(qe.w,{id:"overrides.locale",onChange:e=>{const t=e.target.checked;l(t)},defaultChecked:!!i?.locale,children:(0,b.jsx)(C.a,{variant:"bodySmall",semanticColor:"textSubdued",children:"Language"})})})}),(0,b.jsx)(u.i,{children:(0,b.jsx)("input",{type:"text",id:"overrides.locale.input",className:Je,disabled:!i?.locale,ref:a,defaultValue:p,onChange:()=>l(!0)})})]})]})},et=({settings:{values:e},setValue:t})=>{const n=mn(e),i=(0,s.useContext)(a.s),[r,p]=(0,s.useState)(!1),h=(0,s.useCallback)((()=>{i.applyUpdate()}),[i]);return n?(0,b.jsxs)(x,{filterMatchQuery:o._s.get("settings.employee"),children:[(0,b.jsx)(S,{children:o._s.get("settings.employee")}),(0,b.jsx)(d.u,{filterMatchQuery:o._s.get("desktop.settings.language-override"),children:(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"",children:o._s.get("desktop.settings.language-override")})})}),(0,b.jsx)(Ze,{}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.enableDeveloperMode"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"settings.developerMode",children:o._s.get("desktop.settings.enableDeveloperMode")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"settings.developerMode",value:!!e["app.enable-developer-mode"],onSelected:e=>{t("app.enable-developer-mode",e),p(!0)}})})]}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.showChromeToolbar"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"settings.chromiumToolbar",children:o._s.get("desktop.settings.showChromeToolbar")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"settings.chromiumToolbar",value:!!e["app.show-chrome-toolbar"],onSelected:e=>{t("app.show-chrome-toolbar",e),p(!0)}})})]}),r&&(0,b.jsx)("div",{children:(0,b.jsx)(xe,{onClick:h})}),(0,b.jsx)(Ke,{})]}):null},tt=({settings:{values:e},setValue:t})=>{const n="1"===e["lock-filter-explicit-content"],s="0"===e["filter-explicit-content"]||void 0===e["filter-explicit-content"],i=n?o._s.get("desktop.settings.explicitContentFilterSettingLocked"):o._s.get("desktop.settings.explicitContentFilterSetting");return(0,b.jsxs)(d.u,{filterMatchQuery:i,children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.explicitContentFilter",children:i})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.explicitContentFilter",disabled:n,value:s,onSelected:e=>{t("filter-explicit-content",e?"0":"1")}})})]})},nt=({settings:e,setValue:t})=>(0,b.jsxs)(x,{filterMatchQuery:o._s.get("desktop.settings.explicitContentFilter"),children:[(0,b.jsx)(S,{children:o._s.get("desktop.settings.explicitContentFilter")}),(0,b.jsx)(tt,{settings:e,setValue:t})]});var st=n(39772),it=n(90780),rt=n(86476);const at=()=>{const e=(0,s.useContext)(a.s),t=(0,it._)(),[{data:n},{mutate:i}]=(0,rt.y)(t.language),r=(0,s.useCallback)((()=>{e.applyUpdate()}),[e]);return void 0===n?null:(0,b.jsxs)(x,{filterMatchQuery:o._s.get("desktop.settings.language"),children:[(0,b.jsx)(S,{children:o._s.get("desktop.settings.language")}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.selectLanguage"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.selectLanguage",children:o._s.get("desktop.settings.selectLanguage")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(q.W,{dir:"auto",value:n,id:"desktop.settings.selectLanguage",onSelect:i,children:st.me.map((e=>(0,b.jsx)("option",{value:e,children:`${st.ob[e].displayName} (${st.ob[e].displayNameEn})`},e)))})})]}),o._s.getLocaleForTranslation()!==n?(0,b.jsx)(xe,{onClick:r}):null]})},ot=()=>{const[e,t]=(0,r.k)();return(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("settings.showLocalFiles"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"settings.showLocalFiles",children:o._s.get("settings.showLocalFiles")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"settings.showLocalFiles",value:e,onSelected:e=>{t(e)}})})]})};var lt=n(52864),ct=n(33876);const dt=e=>void 0!==e.id;function ut(e){let t;if(!dt(e))return e.path;switch(e.id){case ct.Y.DOWNLOADS:t=o._s.get("local-files.source.downloads");break;case ct.Y.ITUNES:t=o._s.get("local-files.source.itunes");break;case ct.Y.MY_MUSIC:t=o._s.get("local-files.source.my_music");break;case ct.Y.WINDOWS_MUSIC_LIBRARY:t=o._s.get("local-files.source.windows_music_library");break;default:t=String(e.id)}return t}const mt=({source:e,onAddOrRemoveSource:t})=>{const[n,i]=(0,s.useState)(!dt(e)||e.enabled),r=dt(e)?String(e.id):e.path;return(0,b.jsxs)(d.u,{filterMatchQuery:ut(e),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:`settings.local-files.${r}`,children:ut(e)})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:`settings.local-files.${r}`,value:n,onSelected:n=>{i(n),t(e,n)}})})]})},pt=()=>{const[e,t]=(0,s.useState)(),n=(0,s.useContext)(Ae.E),i=(0,lt.k)(),r=(0,s.useCallback)((async()=>t(await n.getSources())),[n]);(0,s.useEffect)((()=>{r()}),[r]);const a=(0,s.useCallback)((async()=>{const{path:e}=await n.browseForFolder();e&&(await n.addFolder({path:e}),r(),i.say(o._s.get("settings.localFilesFolderAdded",e)))}),[i,n,r]),l=(0,s.useCallback)(((e,t)=>{e.enabled=t,n.mutateDefaultSource(e)}),[n]),c=(0,s.useCallback)(((e,t)=>{t?n.addFolder(e):n.removeFolder(e)}),[n]);return(0,b.jsxs)(x,{filterMatchQuery:o._s.get("settings.showSongsFrom"),children:[(0,b.jsx)(S,{children:o._s.get("settings.showSongsFrom")}),e?.defaultSources.map((e=>(0,b.jsx)(mt,{source:e,onAddOrRemoveSource:l},String(e.id)))),e?.folders.map((e=>(0,b.jsx)(mt,{source:e,onAddOrRemoveSource:c},e.path))),(0,b.jsx)("div",{children:(0,b.jsx)($.w,{size:"small","aria-label":o._s.get("settings.addASource"),onClick:()=>{a()},children:o._s.get("settings.addASource")})})]})};var ht=n(60552);function gt(){const e=(0,it._)(),[{data:t},{mutate:n}]=(0,rt.y)(e.quality.autoAdjustQuality);return void 0===t?null:(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.automatic-downgrade.title"),children:[(0,b.jsxs)(m.g,{children:[(0,b.jsx)(c.w,{htmlFor:"desktop.settings.automatic-downgrade",children:o._s.get("desktop.settings.automatic-downgrade.title")}),(0,b.jsx)(ht._,{message:o._s.get("desktop.settings.automatic-downgrade.info")})]}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.automatic-downgrade",value:t,onSelected:n})})]})}const ft={get[oe.kr.AUTOMATIC](){return o._s.get("desktop.settings.streamingQualityAutomatic")},get[oe.kr.LOW](){return o._s.get("desktop.settings.streamingQualityLow")},get[oe.kr.MEDIUM](){return o._s.get("desktop.settings.streamingQualityNormal")},get[oe.kr.HIGH](){return o._s.get("desktop.settings.streamingQualityHigh")},get[oe.kr.VERY_HIGH](){return o._s.get("desktop.settings.streamingQualityVeryHigh")},get[oe.kr.HIFI](){return o._s.get("desktop.settings.streamingQualityHiFi")}};function yt({maxQuality:e,formats:t}){const n=e===oe.qo.LOSSLESS,s=e>=oe.qo.VERY_HIGH;return(0,b.jsx)(b.Fragment,{children:t.filter((({quality:e})=>{switch(e){case oe.kr.AUTOMATIC:return!n;case oe.kr.LOW:case oe.kr.MEDIUM:case oe.kr.HIGH:return!0;case oe.kr.VERY_HIGH:return s;case oe.kr.HIFI:return n;default:return!1}})).map((({quality:e})=>(0,b.jsx)("option",{value:e.toString(),children:ft[e]},e)))})}var _t=n(40468);function bt(){const e=(0,it._)();return(0,_t.U)({queryKey:["settings-formats"],queryFn:()=>e.quality.getFormats(),gcTime:36e5,staleTime:6e5}).data}var vt=n(26768);function xt(){const e=(0,it._)(),[{data:t},{mutate:n}]=(0,rt.y)(e.quality.downloadAudioQuality),[{data:s}]=(0,rt.y)(e.quality.maxSupportedQuality),i=bt();return void 0===t||void 0===s||void 0===i?null:(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.downloadQuality.title"),children:[(0,b.jsxs)(m.g,{children:[(0,b.jsx)(c.w,{htmlFor:"desktop.settings.downloadQuality",children:o._s.get("desktop.settings.downloadQuality.title")}),(0,b.jsx)(ht._,{message:o._s.get("desktop.settings.downloadQuality.info").replace(/(<([^>]+)>)/gi,"")})]}),(0,b.jsx)(u.i,{children:(0,b.jsx)(q.W,{id:"desktop.settings.downloadQuality",value:t.toString(),onSelect:e=>{const t=(0,vt.eU)(e);t&&n(t)},children:(0,b.jsx)(yt,{formats:i,maxQuality:s})})})]})}function Ct(){const e=(0,it._)(),[{data:t},{mutate:n}]=(0,rt.y)(e.quality.normalizeVolume);return void 0===t?null:(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.normalize"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.normalize",children:o._s.get("desktop.settings.normalize")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.normalize",value:!!t,onSelected:n})})]})}var Et=n(12529),St=n(58916),wt=n(92292);const It="teokJIHsNR2G8sc4ne4S";function At(){const e=(0,it._)(),{enqueueSnackbar:t}=(0,wt.u)(),n=(0,St.O)(St.E.VeryHighQualityAudio),[{data:i},{mutate:r}]=(0,rt.y)(e.quality.streamingQuality),[{data:a}]=(0,rt.y)(e.quality.maxSupportedQuality),l=bt();return(0,s.useEffect)((()=>{n&&t(o._s.get("web-player.feature-activation-shelf.audio_quality_toast_message"))}),[n,t]),void 0===i||void 0===a||void 0===l?null:(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.streamingQuality"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.streamingQuality",children:o._s.get("desktop.settings.streamingQuality")})}),(0,b.jsxs)(u.i,{children:[(0,b.jsx)(q.W,{id:"desktop.settings.streamingQuality",value:i.toString(),onSelect:e=>{const t=(0,vt.eU)(e);t&&r(t)},children:(0,b.jsx)(yt,{formats:l,maxQuality:a})}),n?(0,b.jsx)(Et.E,{className:It}):null]})]})}const Tt={get[oe.Y1.QUIET](){return o._s.get("desktop.settings.loudnessQuiet")},get[oe.Y1.NORMAL](){return o._s.get("desktop.settings.loudnessNormal")},get[oe.Y1.LOUD](){return o._s.get("desktop.settings.loudnessLoud")}};function kt(){const e=(0,it._)(),[{data:t},{mutate:n}]=(0,rt.y)(e.quality.volumeLevel),[{data:s}]=(0,rt.y)(e.quality.normalizeVolume);return void 0===t||void 0===s?null:(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.loudnessEnvironment_with_limiter_details"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.loudnessEnvironment",children:o._s.get("desktop.settings.loudnessEnvironment_with_limiter_details")})}),(0,b.jsx)(u.i,{children:(0,b.jsxs)(q.W,{id:"desktop.settings.loudnessEnvironment",disabled:!s,value:t,onSelect:e=>{const t=(0,vt.GK)(e);null!==t&&n(t)},children:[(0,b.jsx)("option",{value:oe.Y1.QUIET,children:Tt[oe.Y1.QUIET]}),(0,b.jsx)("option",{value:oe.Y1.NORMAL,children:Tt[oe.Y1.NORMAL]}),(0,b.jsx)("option",{value:oe.Y1.LOUD,children:Tt[oe.Y1.LOUD]})]})})]})}const Nt=()=>(0,b.jsxs)(x,{filterMatchQuery:o._s.get("desktop.settings.musicQuality"),children:[(0,b.jsx)(S,{children:o._s.get("desktop.settings.musicQuality")}),(0,b.jsx)(At,{}),(0,b.jsx)(xt,{}),(0,b.jsx)(gt,{}),(0,b.jsx)(Ct,{}),(0,b.jsx)(kt,{})]});var Ot=n(93952),Pt=n(49672),jt=n(97852);const Lt=Pt.I.CONNECTION_STATE_CHANGE;var Rt=n(12924),Dt=n(24759),Mt=n(84264),Ut=n(40176),Ft=n(800);const Bt=()=>{const[e,t]=(()=>{const e=(0,Rt.q$)(),{user:t}=(0,Se.w1)(Qe.cx),n=t?.uri??"",{enqueueSnackbar:i}=(0,wt.u)(),{data:r,queryKey:a}=(0,Ft.Q)(Ut.S_,[{uri:n}]),l=(0,s.useCallback)((async({showFollows:e})=>{await(0,Ut.At)(Mt.W.getInstance(),{uri:n,showFollows:e})}),[n]),c=(0,Dt.c)({mutationFn:l,onMutate:async t=>{await e.cancelQueries({queryKey:a});const n=e.getQueryData(a);return e.setQueryData(a,t),{prevState:n,newState:t}},onError:(t,n,s)=>{e.setQueryData(a,s?.prevState),i(o._s.get("error.generic"))},onSettled:()=>{e.invalidateQueries({queryKey:a})}});return[r?.showFollows??!0,c.mutate]})();return(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.showFollows"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.showFollows",children:o._s.get("desktop.settings.showFollows")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.showFollows",value:e,onSelected:e=>t({showFollows:e})})})]})},Gt="xm2mOJwSu9_GfODYzx8M";const Vt=({settings:{values:e},setValue:t})=>{const[n,r,a]=function(){const e=(0,jt.W)(),[t,n]=(0,s.useState)(null),i=(0,s.useCallback)((t=>{e.connect(t)}),[e]),r=(0,s.useCallback)((()=>{e.disconnect()}),[e]);return(0,s.useEffect)((()=>{const t=e=>{n(e.data)};return e.addListener(Lt,t),()=>{e.removeListener(Lt,t)}}),[e,n]),[t,i,r]}(),p=(0,i.IP)(A.Yfs,{loadingValue:!1}),h=(0,s.useCallback)((()=>{n?.connection?a():r({window:{width:Math.max(800,window.outerWidth-100),height:Math.max(600,window.outerHeight-100)}})}),[n,r,a]);if(!(void 0!==e["publish-playlist"]&&void 0!==e["incognito-enabled"]))return null;const g=!!e["incognito-enabled"];return(0,b.jsxs)(x,{filterMatchQuery:o._s.get("desktop.settings.social"),children:[(0,b.jsx)(S,{children:o._s.get("desktop.settings.social")}),n?.show_connect_option&&(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.facebook"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.facebook",children:o._s.get("desktop.settings.facebook")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)($.w,{id:"desktop.settings.facebook",size:"small",className:Gt,onClick:h,iconLeading:Ot.U,children:!0===n.connection?o._s.get("desktop.settings.facebook.disconnect"):o._s.get("desktop.settings.facebook.connect")})})]}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.newPlaylistsPublic"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.newPlaylistsPublic",children:o._s.get("desktop.settings.newPlaylistsPublic")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.newPlaylistsPublic",value:"1"===e["publish-playlist"],onSelected:e=>{t("publish-playlist",e?"1":"0")}})})]}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.privateSession"),children:[(0,b.jsxs)(m.g,{children:[(0,b.jsx)(c.w,{htmlFor:"desktop.settings.privateSession",children:o._s.get("desktop.settings.privateSession")}),(0,b.jsx)(ht._,{message:o._s.get("desktop.settings.privateSession.tooltip")})]}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.privateSession",value:!!e["incognito-enabled"],onSelected:e=>{t("incognito-enabled",e)}})})]}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.publishActivity"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.publishActivity",children:o._s.get("desktop.settings.publishActivity")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.publishActivity",disabled:g,value:"0"!==e["publish-activity"],onSelected:e=>{t("publish-activity",e?"1":"0")}})})]}),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("desktop.settings.publishTopArtists"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"desktop.settings.publishTopArtists",children:o._s.get("desktop.settings.publishTopArtists")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"desktop.settings.publishTopArtists",disabled:g,value:"1"===e["public-toplist"],onSelected:e=>{t("public-toplist",e?"1":"0")}})})]}),p&&(0,b.jsx)(Bt,{})]})};var Ht=n(2788),Wt=n(53044),zt=(n(51696),n(72888)),Yt=n(46156),Kt=n(57800);const qt=new(n(88272).a)("changeAttributes","mutation","ac50e9d82b3b8303c73512f297140e774a69eb0d6250769b5669e69b4be28886",null);n(35948);const Qt=["personalizedRecommendations"],Xt=()=>{const{getGraphQLLoader:e}=(0,Kt.eq)(),t=e(),n=(0,Rt.q$)(),i=((0,Wt.Y)(),(0,Se.OY)()),r=!(0,Ie.O)(),a="1"===(0,zt.o)("dsa-mode-enabled"),o="1"===(0,zt.o)("dsa-mode-available"),l=(0,s.useCallback)((async e=>{if(r)throw new Error("User has to be online");await async function(e,t){const n=await e(qt,{input:{dsaModeEnabled:t,birthdate:null,filterAgeRestrictedContent:null,filterExplicitContent:null,lockFilterExplicitContent:null,optInTrialPremiumOnlyMarket:null}}),{errors:s,data:i}=n||{};if(!i?.changeUserAccountAttributes)throw s&&s.length>0?new Error(`GraphQL error: ${s[0].message}`):new Error("Unknown GraphQL error!");if("ChangeUserAccountAttributesResult"!==i.changeUserAccountAttributes.__typename||"ChangeUserAccountAttributesResult"===i.changeUserAccountAttributes.__typename&&!i.changeUserAccountAttributes.success)throw new Error("Couldn't successfully set new value")}(t,e)}),[r,t]),c=(0,s.useRef)(a);c.current=a;const{data:d}=(0,_t.U)({queryKey:Qt,queryFn:()=>c.current});return[o??!1,d??!1,(0,Dt.c)({mutationFn:l,onMutate:async e=>{await n.cancelQueries({queryKey:Qt});const t=n.getQueryData(Qt);return n.setQueryData(Qt,e),{prevState:t,newState:e}},onError:(e,t,s)=>{n.setQueryData(Qt,s?.prevState),i(Yt.wv.actions.open())},onSuccess:()=>{0}}).mutate]};var $t=n(33220);const Jt="xpVsqMQfmc20cBLG04zw",Zt=({dsaModeEnabled:e,setDsaModeEnabled:t})=>{const n=(0,Se.OY)(),i=(0,$t.IT)(),r=new URLSearchParams(i.search).get("highlight"),a=(0,s.useRef)(null);return(0,s.useEffect)((()=>{r?.includes("dsa")&&a.current&&(a.current.focus(),document.documentElement.classList.remove("no-focus-outline"))}),[r]),(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("web-player.settings.personalized-recommendations"),children:[(0,b.jsxs)(m.g,{className:Jt,children:[(0,b.jsx)(c.w,{htmlFor:"settings.dsaMode",children:o._s.get("web-player.settings.personalized-recommendations")}),(0,b.jsx)(c.w,{htmlFor:"settings.dsaMode",variant:"marginal",children:o._s.get("web-player.settings.personalized-recommendations-body-text")})]}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"settings.dsaMode",value:!e,onSelected:e=>{e?t(!e):n(Yt.Eh.actions.open({onConfirm:()=>t(!e)}))},inputRef:a})})]})},en=({sectionAbove:e})=>{const[t,n,s]=Xt();return t||e?(0,b.jsxs)(x,{filterMatchQuery:o._s.get("web-player.settings.content-preferences"),children:[(0,b.jsx)(S,{children:o._s.get("web-player.settings.content-preferences")}),e,t&&(0,b.jsx)(Zt,{dsaModeEnabled:n,setDsaModeEnabled:s})]}):null};var tn=n(63972);const nn=()=>{const{libraryRowMode:e,setLibraryRowMode:t}=(0,tn.a)(),n=He(Ge.LIBRARY_COMPACT_MODE),i=(0,s.useCallback)((e=>{n(e),t(e?tn.c.COMPACT:tn.c.DEFAULT)}),[n,t]);return(0,b.jsxs)(d.u,{filterMatchQuery:o._s.get("settings.library.compactMode"),children:[(0,b.jsx)(m.g,{children:(0,b.jsx)(c.w,{htmlFor:"settings.library.compact-mode",children:o._s.get("settings.library.compactMode")})}),(0,b.jsx)(u.i,{children:(0,b.jsx)(l.q,{id:"settings.library.compact-mode",value:e===tn.c.COMPACT,onSelected:i})})]})},sn=({children:e})=>(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(x,{filterMatchQuery:o._s.get("settings.library"),children:[(0,b.jsx)(S,{children:o._s.get("settings.library")}),e]})}),rn="x-settings-container",an=({children:e,outerRef:t})=>(0,b.jsx)(f.WC,{uri:"spotify:internal:settings",children:(0,b.jsx)("div",{ref:t,className:rn,"":"settings-page",children:e})});var on=n(19424),ln=n(37535);const cn="x-settings-headerContainer",dn="x-settings-header";function un({containerRef:e}){return(0,b.jsxs)("div",{className:cn,children:[(0,b.jsx)(C.a,{as:"h1",variant:"titleSmall",className:dn,semanticColor:"textBase",paddingBottom:on.gm,children:o._s.get("desktop.settings.settings")}),(0,b.jsx)("div",{children:(0,b.jsx)(ln.Q,{placeholder:"",alwaysExpanded:!1,clearOnEscapeInElementRef:e,debounceFilterChangeTimeout:0})})]})}function mn(e){return"1"===e.employee}const pn=()=>{const{settings:e,setValue:t}=(0,Ht._)(),n=(0,s.useRef)(null),[a]=(0,r.k)(),o=(0,i.IP)(A.FBk),l=(0,i.IP)(A.WIf);return(0,b.jsxs)(an,{outerRef:n,children:[(0,b.jsx)(un,{containerRef:n}),(0,b.jsx)(at,{}),o?(0,b.jsx)(en,{sectionAbove:(0,b.jsx)(tt,{settings:e,setValue:t})}):(0,b.jsx)(nt,{settings:e,setValue:t}),(0,b.jsx)(De,{settings:e,setValue:t}),(0,b.jsx)(Nt,{}),(0,b.jsxs)(sn,{children:[!l&&(0,b.jsx)(nn,{}),(0,b.jsx)(ot,{})]}),a?(0,b.jsx)(pt,{}):null,(0,b.jsx)(ze,{settings:e,setValue:t}),(0,b.jsx)(Vt,{settings:e,setValue:t}),(0,b.jsx)(je,{settings:e,setValue:t}),(0,b.jsx)(et,{settings:e,setValue:t})]})},hn=pn},46892:(e,t,n)=>{"use strict";n.d(t,{m:()=>Z,I:()=>ee});var s=n(96651),i=n(10124),r=n.n(i),a=n(4564),o=n(96560),l=n(21416),c=n(12100),d=n(87832),u=n(85988),m=n(8004),p=n(30916),h=n(84812),g=n(44488),f=n(90484),y=n(65236),_=n(25283),b=n(46156);const v="F1nvfvO6WAtWUAOU5UeI",x="qDxcaHmmy2othNFCc_Pv";var C=n(2488);const E=({icon:e,name:t,isActive:n,onClick:s,isDsaRestricted:i})=>{const r=n?"textBrightAccent":void 0;return(0,C.jsx)(f.I,{role:"menuitemradio",leadingIcon:(0,C.jsx)(e,{iconSize:16,semanticColor:r}),onClick:s,"aria-checked":n,disabled:i,children:(0,C.jsx)(m.a,{variant:"bodySmall",semanticColor:r,children:t})})},S=({shuffleMode:e,onClick:t,spec:n,logger:i,isDsaRestricted:r})=>{const l=(0,a.OY)(),d=(0,s.useCallback)((()=>{l(b.UR.actions.open())}),[l]),u=(0,s.useCallback)((()=>{t(_.u.ON,(e=>{n&&(e?i.logInteraction(n?.toggleShuffleButtonFactory().hitShuffleDisable()):i.logInteraction(n?.toggleShuffleButtonFactory().hitShuffleEnable()))}))}),[i,t,n]),f=(0,s.useCallback)((()=>{const e=e=>{n&&(e?i.logInteraction(n?.toggleSmartShuffleButtonFactory().hitSelectShuffleMode({previousMode:"smart_shuffle",selectedMode:"linear"})):i.logInteraction(n?.toggleSmartShuffleButtonFactory().hitSelectShuffleMode({previousMode:"linear",selectedMode:"smart_shuffle"})))};r||t(_.u.SMART_SHUFFLE,e)}),[r,i,t,n]),S=r?c._s.get("web-player.smart-shuffle.dsa-message"):c._s.get("web-player.smart-shuffle.menu-text");return(0,C.jsxs)(g.i,{getInitialFocusElement:e=>e?.querySelector('[aria-checked="true"]'),children:[(0,C.jsx)(E,{icon:p.o,name:c._s.get("web-player.smart-shuffle.shuffle"),isActive:e===_.u.ON,onClick:u}),(0,C.jsx)(E,{icon:h.w,name:c._s.get("web-player.smart-shuffle.smart-shuffle"),isActive:e===_.u.SMART_SHUFFLE,onClick:f,isDsaRestricted:r}),(0,C.jsx)(m.a,{className:v,variant:"bodySmall",semanticColor:"textSubdued",as:"p",children:S}),!r&&(0,C.jsx)(y.gd,{children:(0,C.jsx)(o.u,{role:"menuitem",className:x,semanticColor:"textSubdued",onClick:d,size:"small",children:c._s.get("web-player.smart-shuffle.menu-button")})})]})},w={[_.u.OFF]:{icon:p.o,label:e=>e?c._s.get("web-player.smart-shuffle.button-enable-shuffle-specific",e):c._s.get("web-player.smart-shuffle.button-enable-shuffle-generic")},[_.u.ON]:{icon:p.o,semanticColor:"textBrightAccent",label:(e,t)=>e?t?c._s.get("web-player.smart-shuffle.button-enable-smart-shuffle-specific",e):c._s.get("web-player.smart-shuffle.button-disable-shuffle-specific",e):t?c._s.get("web-player.smart-shuffle.button-enable-smart-shuffle-generic"):c._s.get("web-player.smart-shuffle.button-disable-shuffle-generic")},[_.u.SMART_SHUFFLE]:{icon:h.w,semanticColor:"textBrightAccent",label:e=>e?c._s.get("web-player.smart-shuffle.button-disable-smart-shuffle-specific",e):c._s.get("web-player.smart-shuffle.button-disable-smart-shuffle-generic")}};var I=n(58060),A=n(32320),T=n(20416),k=n(49232),N=n(41524),O=n(15040);const P={bottomEnd:T._6.topStart,top:T._6.bottom},j=({placement:e,onHide:t,label:n})=>{(0,N.G)(t);const s=(0,k.IP)(O.Sw);return(0,C.jsx)("div",{className:r()("encore-dark-theme","encore-layout-themes",{"vertical-metrics":s}),children:(0,C.jsx)(I._,{arrow:P[e],colorSet:"announcement",onClose:t,children:n})})},L=e=>{const{placement:t,visible:n,children:s}=e;return(0,C.jsx)(A.O,{placement:t,withPortal:!0,overlay:n&&(0,C.jsx)(j,{...e}),children:s})};var R=n(37116),D=n(40636),M=n(66852),U=n(92292),F=n(12924),B=n(40468),G=n(91468),V=n(98384),H=n(72001),W=n(90032),z=n(94192),Y=n(18648);const K=e=>["use-shuffle",e,"shuffle-mode"];var q=n(13932);const Q=e=>{const t=(e=>{const t=(0,G._)(),n=!(0,q.O)();let s=(0,B.U)({queryKey:["use-shuffle",e,"can-smart-shuffle"],queryFn:()=>t.getAvailableShuffleModes(e),staleTime:36e5,gcTime:72e5}).data;return n&&(s=[_.u.OFF,_.u.ON]),s})(e),[n,i]=function(e){const t=(0,G._)(),n=(0,F.q$)(),i=(0,s.useRef)(null),{isActive:r}=(0,z.kP)(e),a=(0,H.o)(W.Y),[o]=(0,Y.je)(a,1e3),l=(0,B.U)({queryKey:K(e),queryFn:async()=>await t.getShuffle(e),staleTime:0,gcTime:72e5}).data;(0,s.useEffect)((()=>{n.invalidateQueries({queryKey:K(e)})}),[e,o,n]);const c=(0,s.useCallback)((s=>{const r=K(e);if(i.current&&clearTimeout(i.current),s!==_.u.SMART_SHUFFLE)return t.setShuffle(e,s);n.setQueryData(r,_.u.SMART_SHUFFLE),i.current=setTimeout((()=>t.setShuffle(e,s)),1e3)}),[e,n,t]);return(0,s.useEffect)((()=>{const s=t.getEvents(),i=K(e),a=({data:t})=>{t.contextURI===e&&n.setQueryData(i,t.shuffleMode)};s.addListener(V.w.UPDATE,a);const o=({data:t})=>{t.contextURI!==e||r||n.invalidateQueries({queryKey:i})};s.addListener(V.w.UPDATE_COMPLETE,o);const l=()=>{n.invalidateQueries({queryKey:i})};return s.addListener(V.w.UPDATE_ERROR,l),()=>{s.removeListener(V.w.UPDATE,a),s.removeListener(V.w.UPDATE_COMPLETE,o),s.removeListener(V.w.UPDATE_ERROR,l)}}),[e,r,o,n,t]),[l??_.u.OFF,c]}(e),r=(0,M.w)(),a=(0,s.useCallback)((()=>{if(!t)return;const e=void 0!==n?t.indexOf(n):-1;let s=t[(e+1)%t.length];return r||s!==_.u.SMART_SHUFFLE||(s=t[(e+2)%t.length]),i(s),s}),[t,n,r,i]);return{shuffleMode:n,availableShuffleModes:t,setShuffleMode:i,cycleShuffleMode:a,isDsaRestricted:!r}};var X=n(30808);const $="main-smartShuffleButton-active",J="dMIqbdzkrLhKTMkTrFvJ",Z=({label:e,shuffleModeConfig:t,size:n="large",onClick:i,disabled:a=!1,activationVisible:l=!1,shuffleIsOn:c,focusOnRender:d=!1,offsetDotDistance:m=!0,withPadding:p=!1})=>{const h=(0,s.useRef)(null);return(0,s.useEffect)((()=>{d&&h.current?.focus()}),[d]),(0,C.jsx)(u.Yl,{label:e,children:(0,C.jsx)(o.u,{onClick:a?void 0:i,iconOnly:t.icon,semanticColor:t.semanticColor,size:n,"aria-describedby":l?"smartShuffleActivationDescription":void 0,"aria-label":e,"aria-disabled":a,condensedAll:!p,className:r()({[$]:c,[J]:m}),ref:h})})},ee=({entityName:e,contextUri:t,activationPlacement:n,size:i,isActive:r=!1,offsetDotDistance:o=!0,withPadding:u=!1,disabled:m=!1,shuffleContext:p,withActivation:h=!0})=>{const{shuffleMode:g,availableShuffleModes:f,setShuffleMode:y,cycleShuffleMode:b,isDsaRestricted:v}=Q(t),{spec:x}=(0,D.gp)(l.Q,{data:{uri:t}}),E=(0,s.useMemo)((()=>x.menuShuffleButtonFactory()),[x]),I=(0,D.Mk)(),{enqueueSnackbar:A}=(0,U.u)(),[T,k]=(0,s.useState)(!1),{isOpen:N}=(0,a.w1)((e=>e.ui.introducingSmartShuffleModal)),O=g??_.u.OFF,P=w[O],j=f?.includes(_.u.SMART_SHUFFLE),[F,B,G,V]=(0,X.a)(f,p,h,O),H=(0,s.useCallback)((e=>{e===_.u.SMART_SHUFFLE?A(r?c._s.get("web-player.smart-shuffle.enabled-smart-shuffle"):c._s.get("web-player.smart-shuffle.enabled-smart-shuffle-not-active-playlist")):g===_.u.SMART_SHUFFLE&&A(c._s.get("web-player.smart-shuffle.disabled-smart-shuffle"))}),[g,A,r]),W=()=>{V(!1),B(!1)},z=(0,s.useCallback)((e=>e===_.u.SMART_SHUFFLE?"smart_shuffle":e===_.u.ON?"shuffle":"linear"),[]),[Y,K]=(0,R.k)("smart-shuffle-menu",0),q=(0,M.w)(),$=Y>=3||!j,J=P.label?.(e,!!j&&q),ee={label:J,shuffleModeConfig:P,size:i,activationVisible:F,shuffleIsOn:O!==_.u.OFF,offsetDotDistance:o,withPadding:u,disabled:m};return $?(0,C.jsx)(L,{visible:G,onHide:W,placement:n,label:c._s.get("web-player.smart-shuffle.activation-text"),children:(0,C.jsx)(Z,{...ee,onClick:()=>{const e=g,t=b();W(),H(t),j?I.logInteraction(x.regularShuffleButtonFactory().hitSelectShuffleMode({previousMode:z(e),selectedMode:z(t)})):I.logInteraction(t===_.u.ON?x.regularShuffleButtonFactory().hitShuffleEnable():x.regularShuffleButtonFactory().hitShuffleDisable())},focusOnRender:T})}):(0,C.jsx)(L,{visible:F,onHide:W,placement:n,label:c._s.get("web-player.smart-shuffle.activation-message"),children:(0,C.jsx)(d.pD,{menu:(0,C.jsx)(S,{shuffleMode:O,onClick:(e,t)=>{const n=e===O?_.u.OFF:e;y(n),H(n),t(n===_.u.OFF)},spec:E,logger:I,isDsaRestricted:v}),onHide:()=>{Y+1===3&&(k(!0),I.logImpression(x.tristateOnboardingTooltipFactory().impression())),K(Y+1)},onShow:()=>{W(),I.logInteraction(x.menuShuffleButtonFactory().hitUiReveal())},onClickOutside:e=>{N||e()},children:(e,t)=>(0,C.jsx)(Z,{...ee,onClick:e=>{t(e)}})})})}},41576:(e,t,n)=>{"use strict";n.d(t,{s:()=>v,O:()=>b});n(73952),n(97296);var s=n(96651),i=n(67716);n(78620),n(39568);n(41260);function r(e){const{timeout:t,style:n={},mode:s}=e;return{duration:"object"==typeof t?t[s]||0:t,easing:n.transitionTimingFunction,delay:n.transitionDelay}}const a={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o=e=>`${Math.round(e)}ms`;function l(e=["all"],t){const{duration:n=300,easing:s=a.easeInOut,delay:i=0}=t||{};return(Array.isArray(e)?e:[e]).map((e=>{const t="string"==typeof n?n:o(n),r="string"==typeof i?i:o(i);return`${e} ${t} ${s} ${r}`})).join(",")}var c=n(2488);const d={entering:{opacity:1},entered:{opacity:1}},u=(0,s.forwardRef)(((e,t)=>{const{children:n,in:a,timeout:o=0,style:u,onEnter:m,onEntered:p,onExit:h,onExited:g,...f}=e,y=(0,s.useRef)(null),_=(b=[y,n.ref,t],(0,s.useMemo)((()=>b.every((e=>null==e))?null:e=>{b.forEach((t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)}))}),b));var b;return(0,c.jsx)(i.Ox,{appear:!0,in:a,nodeRef:y,onEnter:(e,t)=>{const n=r({style:u,timeout:o,mode:"enter"});e.style.transition=l("opacity",n),m&&m(e,t)},onEntered:p,onExit:e=>{const t=r({style:u,timeout:o,mode:"exit"});e.style.transition=l("opacity",t),h&&h(e)},onExited:g,timeout:o,...f,children:(e,t)=>(0,s.cloneElement)(n,{style:{opacity:0,visibility:"exited"!==e||a?void 0:"hidden",...d[e],...u,...n.props.style},ref:_,...t})})})),m=(0,s.forwardRef)((({id:e,style:t,children:n},s)=>{const{closeSnackbar:r}=(0,i.uU)();return(0,c.jsx)("div",{ref:s,role:"status",id:e?String(e):void 0,style:t,onClick:()=>{r(e)},children:n})}));var p=n(84496),h=n(52316),g=n(56112);function f({message:e}){return(0,c.jsx)(p.Y,{children:(0,c.jsx)(g.g,{center:(0,c.jsx)(h.q,{children:e})})})}const y=(0,s.forwardRef)((({message:e,id:t,style:n},s)=>(0,c.jsx)(m,{id:t,style:n,ref:s,children:(0,c.jsx)(f,{message:e})}))),_={snackbarContainer:"SmJ9PevS7h5IWNQ3K9z3",snackbar:"yrSYBVErq__9yOFyugns"},b=(0,s.createContext)({current:[]});function v({children:e,domRootRef:t}){const n=(0,s.useRef)([]);return(0,c.jsx)(i.sT,{maxSnack:3,domRoot:t?.current??void 0,anchorOrigin:{vertical:"bottom",horizontal:"center"},classes:{containerRoot:_.snackbarContainer,root:_.snackbar},TransitionComponent:u,Components:{default:y,headless:m},preventDuplicate:!0,disableWindowBlurListener:!0,onEnter:(e,t,s)=>{n.current.push(s)},onExit:(e,t)=>{n.current=n.current.filter((e=>e!==t))},children:(0,c.jsx)(b.Provider,{value:n,children:e})})}},65164:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var s=n(96560),i=n(2488);function r({ctaText:e,onCtaClick:t}){return(0,i.jsx)(s.u,{semanticColor:"textBrightAccent",onClick:t,condensedAll:!0,size:"small","aria-hidden":"true",children:e})}},12612:(e,t,n)=>{"use strict";n.d(t,{u:()=>l});var s=n(24392),i=n(44616),r=n(45176);const a={snackbarImage:"XTygmcBFgNjoo0ckBBll"};var o=n(2488);function l({src:e,title:t,type:n}){const l=(0,r.Qx)();return(0,o.jsx)(s.i,{fadeIn:!0,images:e?[{url:l(e,24)}]:[],title:t,type:n,size:i.fm.SIZE_24,shape:s.O.ROUNDED_CORNERS,iconSize:"xsmall",className:a.snackbarImage})}},52316:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var s=n(8004),i=n(2488);function r({children:e}){return(0,i.jsx)(s.a,{variant:"bodyMedium",semanticColor:"textBase",children:e})}},56112:(e,t,n)=>{"use strict";n.d(t,{g:()=>l});const s="TcJ5lUfQ25AJNoCrWO5Z",i="xaCo5LWfBMxqfWjUA3o2",r="r4Hbxvv02KfOVeZ_v335",a="Hkw5_oNxFTDAuh5Bdw6Q";var o=n(2488);const l=({leading:e,center:t,trailing:n})=>(0,o.jsxs)("div",{className:s,children:[e?(0,o.jsx)("div",{className:i,children:e}):null,(0,o.jsx)("div",{className:r,children:t}),n?(0,o.jsx)("div",{className:a,children:n}):null]})},84496:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var s=n(10124),i=n.n(s),r=n(97420);const a="RQREWe_yBdtc_g6eC3wQ";var o=n(2488);const l=({children:e})=>(0,o.jsx)(r.k,{variant:"elevated",className:i()("encore-light-theme","encore-layout-themes",a),children:e})},11508:(e,t,n)=>{"use strict";n.d(t,{E:()=>d});var s=n(96651),i=n(10200),r=n(12100),a=n(51760),o=n(58303),l=n(57800),c=n(92292);const d=()=>{const{enqueueSnackbar:e}=(0,c.u)(),{getShortInviteLink:t}=(0,a.O)(),n=(0,l.mg)();return(0,s.useCallback)((async()=>{try{const s=await t();if(!s?.shareableUrl)return;await(0,o.y)(s.shareableUrl);const a=(0,i.P)({share_id:s?.shareId,entity_uri:s?.spotifyUri,share_url:s?.shareableUrl});n.send(a),e(r._s.get("web-player.social-connect.invitation-modal.success-toast-message"))}catch(e){TypeError}}),[e,n,t])}},93544:(e,t,n)=>{"use strict";n.d(t,{U:()=>se});var s=n(87668),i=n(73670),r=(n(73952),n(97768),n(96651)),a=n(4564),o=n(8004),l=n(49232),c=n(12100),d=n(2732),u=n(15040),m=n(51760),p=n(49612),h=n(4732),g=n(40188),f=n(2488);const y=({onClick:e})=>{const t=(0,a.OY)(),n=(0,r.useCallback)((()=>{e(),t((0,h.Ar)(g.SI.END_SESSION))}),[t,e]);return(0,f.jsx)(p.w,{size:"small",onClick:n,children:c._s.get("web-player.social-connect.end-session.end-session-button")})},_=({onClick:e})=>(0,f.jsx)(p.w,{size:"small",onClick:async t=>{e(t)},children:c._s.get("web-player.social-connect.invite-button")}),b=({onClick:e})=>{const t=(0,a.OY)(),n=(0,r.useCallback)((()=>{e(),t((0,h.Ar)(g.SI.LEAVE_SESSION))}),[t,e]);return(0,f.jsx)(p.w,{size:"small",onClick:n,children:c._s.get("web-player.social-connect.leave-session.leave-session-button")})};var v=n(33220),x=n(22676),C=n(232),E=n(84388),S=n(38412);const w="E6U6SyOECK4IENpzZw2R",I="rirXgOjB8QWiJWDk5hSD",A=({currentSession:e,username:t,onClick:n})=>{const{sessionMembers:s}=e,i=(0,v.i6)(),a=(0,l.IP)(u.imM),{setQueueView:d}=(0,x.k)(),m=s.length+2>3?s.length-3:0,h=(0,S.m)(e,t,{userFirst:!0}),g=(0,r.useCallback)((()=>{n&&n(),a?d(x.S.PARTICIPANT_LIST):i(C.U.PARTICIPANTS_PAGE)}),[a,i,n,d]);return(0,f.jsxs)(p.w,{size:"small",className:w,onClick:g,"aria-label":c._s.get("web-player.social-connect.participant-list.title"),children:[(0,f.jsx)(E.W,{users:h,maxSlots:3,withoutOverflowBadge:!0}),m>0&&(0,f.jsx)(o.a,{variant:"bodySmallBold",semanticColor:"textBase",className:I,children:`+${m}`})]})};var T=n(8340),k=n(45276),N=n(92),O=n(29040),P=n(95928),j=n(40636);const L=()=>{const{spec:e,logger:t,UBIFragment:n}=(0,j.gp)(O.A,{}),{uri:s}=(0,P.c)(),i=(0,r.useCallback)(((n,s)=>{const i=e.inviteButtonFactory().hitShare({entityToBeShared:n,shareId:s});t.logInteraction(i)}),[t,e]),a=(0,r.useCallback)((()=>{const n=e.endButtonFactory().hitUiReveal();t.logInteraction(n)}),[t,e]),o=(0,r.useCallback)((()=>{const n=e.leaveButtonFactory().hitUiReveal();t.logInteraction(n)}),[t,e]),l=(0,r.useCallback)((()=>{const n=e.facepileButtonFactory().hitUiNavigate({destination:C.U.PARTICIPANTS_PAGE});t.logInteraction(n)}),[t,e]),c=(0,r.useCallback)((t=>(0,f.jsx)(n,{spec:e,...t})),[n,e]);return{logInviteClick:i,logEndClick:a,logLeaveClick:o,logFacePileClick:l,logStartJam:(0,r.useCallback)((()=>{const n=e.createJamButtonFactory().hitUiNavigate({destination:s??""});t.logInteraction(n)}),[t,e,s]),UBIFragmentWithSpec:c}},R=()=>{const e=(0,a.OY)(),t=(0,N.q)(),{logStartJam:n}=L(),s=(0,r.useCallback)((async()=>{try{n(),await t()}catch(t){e((0,h.Ar)(g.SI.ERROR))}}),[t,e,n]);return(0,f.jsx)(T.g,{iconLeading:k.Q,size:"small",onClick:s,children:c._s.get("web-player.social-connect.menu-action.title")})};var D=n(64736),M=n(11508),U=n(10124),F=n.n(U),B=n(49656),G=n(97420),V=n(96560),H=n(76008);const W="_GA0LJ6qjoKBsWLq34XF",z="s_iKX8Su0w1W5b9yObSm",Y="aQ5ntWUtU9bcqS9fS9aC",K="SxLR9RMcR2XyJCZuxYqv",q="vtk1i3JMLWObMppMQ0gH",Q="MPtthrsnd9PdsCTssJqk",X=({onClose:e,onCopyLink:t,inviteUrl:n})=>(0,f.jsxs)(G.k,{className:W,padding:"0",children:[(0,f.jsxs)("div",{className:z,children:[(0,f.jsxs)("div",{className:K,children:[(0,f.jsx)(o.a,{variant:"bodySmallBold",children:c._s.get("web-player.social-connect.invitation.qr-code.title")}),(0,f.jsx)(o.a,{variant:"bodySmall",semanticColor:"textSubdued",children:c._s.get("web-player.social-connect.invitation.qr-code.description")})]}),(0,f.jsx)(V.u,{semanticColor:"textSubdued",iconOnly:H.K,size:"small",onClick:e,condensedAll:!0,"aria-label":c._s.get("web-player.social-connect.invitation-modal.button-tertiary")})]}),(0,f.jsx)("div",{className:q}),(0,f.jsxs)("div",{className:F()(z,Y),children:[(0,f.jsx)(T.g,{colorSet:"invertedLight",size:"small",onClick:t,children:c._s.get("web-player.social-connect.invitation-modal.button-primary")}),(0,f.jsx)("div",{className:Q,children:(0,f.jsx)(B.cp,{value:n,size:100})})]})]}),$="CyBimvsotsoxqwtiZeAn",J="_GKa4bilkTYbQLgcLogI",Z="uXHR7rkHhuz9kVPNWwYW",ee="KFGFA5pPG0hgIB97pZfI",te=({id:e,label:t,value:n,onChange:s})=>(0,f.jsxs)("label",{htmlFor:e,className:ee,children:[(0,f.jsx)(o.a,{variant:"bodySmall",semanticColor:"textSubdued",children:t}),(0,f.jsx)(d.q,{id:e,value:n,onSelected:s,condensed:!0})]}),ne=({className:e,emptyStateComponent:t})=>{const{currentSession:n,getShortInviteLink:s,setQueueOnlyMode:i,setParticipantVolumeControl:d}=(0,m.O)(),p=(0,a.w1)((({session:e})=>e.user?.id)),h=(0,D.y)(),g=(0,l.IP)(u.QFh),{logFacePileClick:v,logInviteClick:x,logEndClick:C,logLeaveClick:E,UBIFragmentWithSpec:S}=L(),w=(0,M.E)(),I=(0,l.IP)(u.imM),[T,k]=(0,r.useState)(!1),[N,O]=(0,r.useState)(null),P=(0,r.useCallback)((async()=>{const e=await s();O(e)}),[s]),j=(0,r.useCallback)((()=>{v()}),[v]),U=(0,r.useCallback)((async()=>{await w(),x(N?.spotifyUri??"",N?.shareId??"")}),[w,N?.shareId,N?.spotifyUri,x]),F=(0,r.useCallback)((async()=>{N||await P(),I?k(!T):U()}),[U,P,N,T,I]),B=(0,r.useCallback)((()=>{C()}),[C]),G=(0,r.useCallback)((()=>{E()}),[E]);if(!n?.active)return t?(0,f.jsx)(f.Fragment,{children:t}):h&&g?(0,f.jsx)("div",{className:e,children:(0,f.jsx)(R,{})}):null;const V=n.sessionMembers.find((e=>e.id===n.sessionOwnerId));return(0,f.jsx)(S,{children:(0,f.jsxs)("div",{className:e,children:[(0,f.jsx)("div",{className:$,children:(0,f.jsx)(o.a,{as:"h1",variant:"titleSmall",semanticColor:"textBase",children:c._s.get("web-player.social-connect.session-info.title",{host:V?.displayName??""})})}),(0,f.jsxs)("div",{className:J,children:[(0,f.jsxs)("div",{className:Z,children:[(0,f.jsx)(A,{currentSession:n,username:p,onClick:j}),(0,f.jsx)(_,{onClick:F}),n.isSessionOwner?(0,f.jsx)(y,{onClick:B}):(0,f.jsx)(b,{onClick:G})]}),T&&(0,f.jsx)(X,{onClose:()=>k(!1),onCopyLink:U,inviteUrl:N?.shareableUrl??""}),n.isSessionOwner&&(0,f.jsxs)("div",{children:[(0,f.jsx)(te,{id:"queueOnlyMode",label:c._s.get("web-player.social-connect.controls.queue-only-mode"),value:!n.queueOnlyMode,onChange:e=>i(!e)}),"UNAVAILABLE"!==n.participantVolumeControl&&(0,f.jsx)(te,{id:"participantVolumeControl",label:c._s.get("web-player.social-connect.controls.participant-volume-control"),value:"ENABLED"===n.participantVolumeControl,onChange:e=>d(e)})]})]})]})})},se=e=>(0,f.jsx)(i.a,{onError:e=>{(0,s.gh)(e,"JamQueueHeader")},suspenseFallback:e.emptyStateComponent,children:(0,f.jsx)(ne,{...e})})},8496:(e,t,n)=>{"use strict";n.d(t,{C:()=>r,o:()=>a});var s=n(96651),i=n(2488);const r=(0,s.createContext)(void 0),a=({value:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t})},51643:(e,t,n)=>{"use strict";n.d(t,{E:()=>m,S:()=>p});var s=n(96651),i=n(31024),r=n(16904),a=n(52276);const o=(e,t)=>{if(e.state?.navigationalRoot)return e.state?.navigationalRoot;if(e.state?.referrer&&e.state?.referrer!==t?.state?.referrer)switch(e.state.referrer){case"buddy_feed":return r.Y.BUDDY_FEED;case"now_playing_bar":return r.Y.NOW_PLAYING_BAR;case"user_profile":return r.Y.PROFILE;case"playlists_sidebar":return r.Y.PLAYLISTS_SIDEBAR;case"deeplink":return r.Y.DEEP_LINK;case"home":return r.Y.HOME;case"search":return r.Y.SEARCH;case"your_library":return r.Y.COLLECTION;case"now_playing_panel":return r.Y.NOW_PLAYING_PANEL;case"whats_new_panel":return r.Y.WHATS_NEW_PANEL;case"voice":case"other":case"PlayerHarmony_UnknownReferrer":case"PlayerOverture_UnknownReferrer":case"PlayerStub_UnknownReferrer":case"PlayerCore_UnknownReferrer":case"infinite-playback":break;default:(0,a.I)(e.state.referrer)}return t?.state?.navigationalRoot};class l{locationKeys=[];constructor(e,t){this.history=e,this.ubiLogger=t,this.unsubscribe=this.listen()}listen(){return this.onLocationChange(this.history.location),this.history.listen(this.onLocationChange)}onLocationChange=e=>{const t=this.location;if(e!==t){if(e.state={...e.state,navigationalRoot:o(e,t)},e.key){this.locationKeys.includes(e.key)||(this.locationKeys=[...this.locationKeys,e.key]);const n=this.locationKeys.indexOf(e.key),s=t?.key?this.locationKeys.indexOf(t.key):-1;this.direction=n>s?i.EJ.FORWARD:i.EJ.BACK}this.location=e}};getNavigationReason(e){const{location:t,action:n}=this.history;return this.pageView?"POP"===n?this.direction:t.state?.navigationReason:e===r.Y.DEEP_LINK?i.EJ.DEEP_LINK:i.EJ.CLIENT_STARTED}reportPageView=e=>{const{location:t,action:n}=this.history;this.onLocationChange(t);if(e.pageId&&e.pageId===this.pageView?.pageId&&e.entityUri===this.pageView?.entityUri||t.pathname===this.pageView?.pathname)return;const s=e?.navigationalRoot??t.state?.navigationalRoot??r.Y.DEEP_LINK,a="POP"!==n?t.state?.interactionId??this.ubiLogger.getInteractionId(e.entityUri):void 0;this.pageView={pageId:e.pageId,entityUri:e.entityUri,navigationalRoot:s,navigationReason:this.getNavigationReason(s),pathname:t.pathname,interactionId:a},t.state={...t.state,navigationalRoot:s};const o={navigationalRoot:this.pageView.navigationalRoot??r.Y.UNKNOWN,pageId:this.pageView.pageId??"UNKNOWN",entityUri:this.pageView.entityUri??"UNKNOWN"};this.pageView.interactionId?this.ubiLogger.logNavigation({...o,interactionId:this.pageView.interactionId}):this.ubiLogger.logNavigation({...o,navigationReason:this.pageView.navigationReason??i.EJ.UNKNOWN})}}var c=n(40636),d=n(6060),u=n(2488);const m=(0,s.createContext)(void 0),p=({children:e})=>{const t=(0,d.K)(),n=(0,c.Mk)(),i=(0,s.useMemo)((()=>new l(t,n)),[t,n]);return(0,s.useEffect)((()=>()=>i.unsubscribe()),[i]),(0,u.jsx)(m.Provider,{value:i,children:e})}},43264:(e,t,n)=>{"use strict";n.d(t,{E:()=>h,c:()=>g});var s=n(96651),i=n(10124),r=n.n(i),a=n(49232),o=n(12100),l=n(46236),c=n(37116),d=n(15040),u=n(81796);const m="j1NLAJlee5UppsghgrQT";var p=n(2488);const h="yourdj.ylx.tooltipshown",g=({children:e,onTooltipShown:t,api:n,parentRef:i})=>{const[g,f]=(0,s.useState)(!1),[y,_]=(0,s.useState)(!1),b=(0,a.IP)(d.Sw);(0,s.useImperativeHandle)(n,(()=>({visible:g,hide:()=>{f(!1)}})));const{isPlaying:v}=(0,u.W)(),x=(0,s.useRef)(null),C=(0,s.useMemo)((()=>new IntersectionObserver((([e])=>_(e.isIntersecting)))),[]);(0,s.useEffect)((()=>(i?.current&&C.observe(i.current),()=>C.disconnect())),[C,i]);const[E,S]=(0,c.k)(h,!1),w=(0,s.useCallback)((e=>{E||(t?.(e),S(!0),f(!0))}),[E,t,S]),I=(0,s.useCallback)((()=>{x.current&&clearTimeout(x?.current)}),[]);return(0,s.useEffect)((()=>v||!y?(f(!1),I):(E||(x.current=setTimeout((()=>{w("dj_in_ylx")}),2e3)),I)),[E,w,v,y,I]),(0,p.jsx)(l.g,{title:o._s.get("ylx.clicktoplay"),description:o._s.get("web-player.your-dj.ylx.tooltip.description"),visible:g,id:h,showButtons:!1,hideOnClickOutside:!1,onSecondaryButtonClick:()=>f(!1),placement:"right",renderInline:!1,tippyWrapperClassName:m,className:r()("encore-dark-theme","encore-layout-themes",{"vertical-metrics":b}),children:e})}},47668:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});var s=n(73448),i=n(41768),r=n(2488);const a=()=>(0,r.jsx)("div",{className:i.c.coverContainer,children:(0,r.jsx)(s.g,{iconSize:"xxlarge",className:i.c.coverIcon})})},6836:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var s=n(17528),i=n(12100),r=n(91844),a=n(2488);const o=({pinned:e,size:t="xsmall"})=>e?(0,a.jsx)(s.w,{semanticColor:"textBrightAccent",size:t,title:i._s.get("web-player.your-library-x.pinned"),className:r.c.icon}):null},6812:(e,t,n)=>{"use strict";n.d(t,{y:()=>u.ym,C:()=>h});n(73952),n(97296),n(39568),n(41260);var s=n(96651),i=n(25088),r=n(8004),a=n(14788),o=n(43460),l=n(96768);const c="main-dragAndDrop-dndImageShelter",d="main-dragAndDrop-dndImage";var u=n(62528),m=n(2488);const p=({text:e})=>(0,m.jsx)(r.a,{variant:"bodyMedium",dir:"auto",children:e}),h=e=>{const{setIds:t,setDropOriginUri:n,setSectionId:r}=(0,s.useContext)(o.gT);return(s,o)=>{const{itemUris:h=[],itemMimeTypes:g=[],dragLabelText:f="",contextUri:y="",sectionId:_=0,dropOriginUri:b="",itemIds:v}={...e,...o};s.defaultPrevented||t(v??h),n(b),r(_),window.addEventListener("click",(()=>{document.body.removeAttribute("data-dragging-type")}),{once:!0});const x=h.map((e=>(0,a.nX)(e))).filter(l.g),C=x.map((e=>e?.toURL()));if(0===x.length||s.metaKey)return void s.preventDefault();s.dataTransfer.setData("text/x-spotify-context",y),s.dataTransfer.setData("text/uri-list",C.join("\n")),s.dataTransfer.setData("text/plain",C.join("\n")),s.dataTransfer.setData("text/x-spotify-section",`${_||0}`);const E={};x.forEach(((e,t)=>{const n=g[t]??u.ym[e.type];n&&(E[n]??=[],E[n].push(e.toURI()))})),document.body.setAttribute("data-dragging-type",Object.keys(E).join(" ")),Object.entries(E).forEach((([e,t])=>{s.dataTransfer.setData(e,t.join("\n"))})),v?.length===h.length&&s.dataTransfer.setData(u.__.UIDS,v.join("\n"));const S=(0,i.renderToString)((0,m.jsx)(p,{text:f}));if("function"==typeof s.dataTransfer.setDragImage){const e=function(e){const t=document.createElement("p");t.className=d,t.innerHTML=e;const n=document.createElement("div");return n.className=c,document.body.appendChild(t),document.body.appendChild(n),{element:t,remove(){requestAnimationFrame((()=>{t.parentNode&&t.parentNode.removeChild(t),n.parentNode&&n.parentNode.removeChild(n)}))}}}(S);s.dataTransfer.setDragImage(e.element,0,0),e.remove()}}}},78092:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});var s=n(96651),i=n(62572);const r=({ref:e})=>{const[t,n]=(0,s.useState)(!1);return(0,i.m)({refOrElement:e,observeOnMount:!0,onResize:()=>{e.current&&n(e.current?.offsetWidth<e.current?.scrollWidth||e.current?.offsetHeight<e.current?.scrollHeight)}}),t}},47824:(e,t,n)=>{"use strict";n.d(t,{W:()=>l});var s=n(4564),i=n(14788),r=n(12100),a=n(88004),o=n(32848);const l=({type:e,uri:t})=>{const n=(0,s.w1)(o.Y3),l=(0,s.w1)(o.Oq);if(void 0===t)return!1;const c=r._s.getLocaleForURLPath(),d=""===t?t:(0,i.nX)(t)?.type;return(0,a.QZ)({localeFeatureFlag:n,entityFeatureFlag:l,urlLocale:c,entity:d,type:e})}},43172:(e,t,n)=>{"use strict";n(73952),n(39568),n(41260);var s=n(86816),i=n(47428),r=n(57228),a=n(66544),o=n(75908),l=n(49743),c=n(12100),d=n(76361),u=n(55904),m=n(89240);const p={version:"1.1.64.510",date:new Date(2021,6,20)};function h(){if((0,u.SM)()!==m.q.Desktop)return!0;const e=function(){const e=window.navigator.userAgent.match(u.gG);return e?.groups?.version??null}();if(!e)return!0;const t=function(e){const t=p.version.split(".")[2],[,n,s]=e.split(".");if("1"!==n)return new Date;const i=parseInt(t,10),r=parseInt(s,10);if(isNaN(r))return new Date;const a=r-i,o=new Date(p.date.getTime());return o.setDate(o.getDate()+14*a),o}(e);return n=t,((new Date).getTime()-n.getTime())/864e5<30;var n}var g=n(42942);n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256),n(59300),n(46064),n(8186),n(3016),n(80060);n(58303);n(99400),n(91372),n(79592);var f=n(76404);f.Su;var y=n(42972);new RegExp(String.raw`hm://collection/([^/]*)/[^/]*/json`);n(90912);n(92116);var _=n(44203);n(75220),n(39352);_.A;n(74992);var b=n(49672);b.w;n(94668),n(29168);var v=n(51160),x=n(24368),C=n.n(x);n(85288),n(34737);var E=n(56584),S=n(54074);var w=n(9852);const I="playback";n(34780);n(11560);let A=null;n(97768);var T=n(87668),k=n(16928),N=n(50799),O=n(14788),P=n(43619),j=n(52276);new RegExp(String.raw`^q[0-9]+$`);var L=n(23452);N.GO;n(97296),n(36788),n(47752),n(58088);n(14532),n(3696),n(19364);n(98399);var R=n(10156);n(71680);var D=n(55644),M=n(24544);var U=n(84264);n(97380);n(32308);n(36680),n(44260);var F=n(46924),B=(n(80752),n(15563));F.d;F.d;n(26132),n(55563),n(44736);n(9600);var G=n(88272),V=n(99972);new G.a("isCurated","query","e4ed1f91a2cc5415befedb85acf8671dc1a4bf3ca1a5b945a6386101a22e28a6",null);var H=n(3136),W=n(51528),z=n(13748);n(5752);H.S;H.S;n(7696);var Y=n(84340);new G.a("applyCurations","mutation","05b739a3a73091c213385233b9d3ed8a857c2ca29d2eebadb3d04ed12e288697",null);var K=n(66514);n(54008),n(35272);new G.a("fetchLibraryAlbums","query","beaad62a3d5556d70764cebb98b588e44a0c06ade6136f6972aaca4e91f93807",null),new G.a("areAlbumsInLibrary","query","beaad62a3d5556d70764cebb98b588e44a0c06ade6136f6972aaca4e91f93807",null),new G.a("fetchLibraryArtists","query","beaad62a3d5556d70764cebb98b588e44a0c06ade6136f6972aaca4e91f93807",null),new G.a("areArtistsInLibrary","query","beaad62a3d5556d70764cebb98b588e44a0c06ade6136f6972aaca4e91f93807",null),new G.a("fetchLibraryTracks","query","beaad62a3d5556d70764cebb98b588e44a0c06ade6136f6972aaca4e91f93807",null),new G.a("areTracksInLibrary","query","beaad62a3d5556d70764cebb98b588e44a0c06ade6136f6972aaca4e91f93807",null),new G.a("fetchLibraryShows","query","beaad62a3d5556d70764cebb98b588e44a0c06ade6136f6972aaca4e91f93807",null),new G.a("areShowsInLibrary","query","beaad62a3d5556d70764cebb98b588e44a0c06ade6136f6972aaca4e91f93807",null),new G.a("fetchLibraryAudiobooks","query","beaad62a3d5556d70764cebb98b588e44a0c06ade6136f6972aaca4e91f93807",null),new G.a("fetchLibraryEpisodes","query","beaad62a3d5556d70764cebb98b588e44a0c06ade6136f6972aaca4e91f93807",null),new G.a("areEpisodesInLibrary","query","beaad62a3d5556d70764cebb98b588e44a0c06ade6136f6972aaca4e91f93807",null);n(42343);var q=n(24036);new RegExp(String.raw`hm://collection/(collection|listenlater|show|artist)/.+/json`);q.k;q.k;n(95092);new G.a("addToLibrary","mutation","a3c1ff58e6a36fec5fe1e3a193dc95d9071d96b9ba53c5ba9c1494fb1ee73915",null),new G.a("removeFromLibrary","mutation","a3c1ff58e6a36fec5fe1e3a193dc95d9071d96b9ba53c5ba9c1494fb1ee73915",null),new G.a("pinLibraryItem","mutation","a3c1ff58e6a36fec5fe1e3a193dc95d9071d96b9ba53c5ba9c1494fb1ee73915",null),new G.a("unpinLibraryItem","mutation","a3c1ff58e6a36fec5fe1e3a193dc95d9071d96b9ba53c5ba9c1494fb1ee73915",null);var Q=n(59476);n(88168);var X=n(96768);new G.a("libraryV3","query","808f0e4288442f2cc56e25e2b80029d873316a40c2d63952d20ac40c9f049d9e",null);n(10572);n(47724);var $=n(33896);n(252);new Set(["Writable"]);const J={items:[],totalLength:0,unfilteredTotalLength:0,offset:0,limit:0};new Set([P.s.TRACK,P.s.ALBUM,P.s.ARTIST,P.s.SHOW,P.s.EPISODE,P.s.AUDIOBOOK]);n(15712);var Z=n(50900),ee=n(8968),te=n(85784);n(81628);var ne=n(70396),se=function(e){return e.UNSPECIFIED="UNSPECIFIED",e.REQUESTED="REQUESTED",e.PENDING="PENDING",e.DOWNLOADING="DOWNLOADING",e.DOWNLOADED="DOWNLOADED",e.FAILURE="FAILURE",e}(se||{});(0,ne.Q)(se);n(99292),n(19712),n(93060),n(77543);new G.a("addToPlaylist","mutation","47c69e71df79e3c80e4af7e7a9a727d82565bb20ae20dc820d6bc6f94def482d",null),new G.a("removeFromPlaylist","mutation","47c69e71df79e3c80e4af7e7a9a727d82565bb20ae20dc820d6bc6f94def482d",null),new G.a("moveItemsInPlaylist","mutation","47c69e71df79e3c80e4af7e7a9a727d82565bb20ae20dc820d6bc6f94def482d",null);var ie=n(19836);new RegExp(String.raw`hm://playlist/v2/playlist/(?<base62Id>.+)`);ie.a;n(97243);n(51228);new G.a("fetchPlaylist","query","91d4c2bc3e0cd1bc672281c4f1f59f43ff55ba726ca04a45810d99bd091f3f0e",null),new G.a("fetchPlaylistMetadata","query","91d4c2bc3e0cd1bc672281c4f1f59f43ff55ba726ca04a45810d99bd091f3f0e",null),new G.a("fetchPlaylistContents","query","91d4c2bc3e0cd1bc672281c4f1f59f43ff55ba726ca04a45810d99bd091f3f0e",null);n(98800),n(61476);n(97376);var re=n(60968);n(90332);n(75552),n(98512),n(88704);var ae=n(51696),oe=n(26076);n(4920);new RegExp(String.raw`hm://playlist/v2/user/.+/rootlist`),new RegExp(String.raw`hm://playlist/v2/playlist/.+`);oe.q;var le=n(30340);n(99100);new Uint8Array;n(64568);n(35260);var ce=n(28020);new G.a("fetchEntitiesForRecentlyPlayed","query","8e4eb5eafa2837eca337dc11321ac285a01f9a056a7ac83f77a66f9998b06a73",null);ce._q;var de=n(84596),ue=n(63548),me=n(13728);(0,ue.qG)(me.G$).addMiddleware(me.mm).addMiddleware(de.h).addMiddleware(me.uE).addMiddleware(me.am),new G.a("queryShowAccessInfo","query","74d14af2761a0be5676474e9bc44ff369022b63312ebe769fa85e63a840dc799",null),new G.a("queryShowMetadataV2","query","7ed6acca9265301ababf572ed4f14a3764cb3e06b17178df46a0112af0ad1a60",null);var pe=n(86852);new G.a("queryBookChapters","query","9879e364e7cee8e656be5f003ac7956b45c5cc7dea1fd3c8039e6b5b2e1f40b4",null),new G.a("getEpisodeOrChapter","query","9697538fe993af785c10725a40bb9265a20b998ccd2383bd6f586e01303824e9",null),new G.a("queryPodcastEpisodes","query","108deda91e2701403d95dc39bdade6741c2331be85737b804a00de22cc0acabf",null);n(89183),n(56652),n(99548);var he=n(80340);n(25283),n(98384),n(76908),n(59252),n(90032),n(30716);n(22464);new G.a("smartShuffle","query","3384085be84fbf2f855b024f99bc06cded1c0fd71af3a8fb8abb84e9656faba2",null);n(39768);var ge=n(2084),fe=n(59636);n(63720),n(95517),n(84012),n(56828),n(99748),n(87220),n(54872);n(11884),n(63624),n(67656),n(71973),n(34468);n(19252);var ye=n(40176);n(18380),n(35948);var _e=n(15040);n(27852);n(29152),n(7092),n(39908);const be=432;function ve(e){return e.container===m.q.Desktop}class xe{constructor(e){this.spotifyTransport=e}async getDialog(e){const t=await((e,t)=>e.build().withMethod("GET").withHost(f.K_).withPath(`/dialog/${t}`).withEndpointIdentifier("/dialog/${uri}").withoutMarket().send())(this.spotifyTransport,e),{r:n,g:s,b:i}=this.getColorRGB(t.body.color);return{backgroundColor:`rgb(${n}, ${s}, ${i})`,providerUrl:t.body.provider_url}}getColorRGB(e){return{r:e>>>16&255,g:e>>>8&255,b:e>>>0&255}}}const Ce=(e,t)=>{let n=[];return{storeAction:s=>{n=s(n),e.setItem(t,JSON.stringify(n))},pullAction:()=>{const s=e.getItem(t);if(e.removeItem(t),n=[],s)try{return JSON.parse(s)}catch(e){return null}return null}}};var Ee=n(91412),Se=n(34016);function we(e){return(new TextEncoder).encode(e)}const Ie=async function(e){const t=we(e),n=await globalThis.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")};class Ae{static encode=we;static hash=Ie}var Te=n(99504),ke=n(32416);const Ne=e=>{const t=e.pathname.split("/"),n=t.pop(),s=t.pop();if(s&&n)return(0,O.nX)(`spotify:${s}:${n}`)?.toURI()};var Oe=n(55780),Pe=n.n(Oe);function je(){return Pe().create().hex.replace(/-/g,"").substr(0,16)}var Le=n(4344),Re=n(76995);const De=[{regExp:/^\/$/,pageIdentifier:"/home"},{regExp:/^\/genre/,pageIdentifier:"/genre"},{regExp:/^\/view/,pageIdentifier:"/view"},{regExp:/^\/browse/,pageIdentifier:"/browse"},{regExp:/^\/search/,pageIdentifier:"/search"},{regExp:/^\/upsell/,pageIdentifier:"/upsell"},{regExp:/^\/collection/,pageIdentifier:"/collection"},{regExp:/^\/artist/,pageIdentifier:"/artist"},{regExp:/^\/playlist/,pageIdentifier:"/playlist"},{regExp:/^\/album/,pageIdentifier:"/album"},{regExp:/^\/episode/,pageIdentifier:"/episode"},{regExp:/^\/show/,pageIdentifier:"/show"},{regExp:/^\/user/,pageIdentifier:"/user"},{regExp:/^\/track/,pageIdentifier:"/track"},{regExp:/^\/concerts/,pageIdentifier:"/concerts"},{regExp:/^\/concert\//,pageIdentifier:"/concert"},{regExp:/^\/made-for-you/,pageIdentifier:"/made-for-you"}],Me=(e="")=>{const t=De.find((({regExp:t})=>t.test(e)));return t?.pageIdentifier??"unknown"};const Ue={setup(e=document){e.documentElement.classList.add("no-focus-outline"),e.addEventListener("keydown",(t=>{"Tab"===t.key&&e.documentElement.classList.remove("no-focus-outline")}),!0),e.addEventListener("mousedown",(()=>{e.documentElement.classList.add("no-focus-outline")}),!0)}},Fe=e=>e.searchParams.has("si")||"1"===e.searchParams.get("go")||"1"===e.searchParams.get("wta_deep_link"),Be=e=>Fe(e),Ge="PWA_DISPLAY_MODE_CHANGED";var Ve=n(29868),He=n(4732),We=n(76741),ze=n(4564),Ye=n(78172),Ke=n(73670),qe=n(42324),Qe=n(51643),Xe=n(94904),$e=n(96651),Je=n(55224),Ze=n(12924),et=n(84092),tt=n(49232),nt=n(54336);const st="react-query";function it(){return(0,nt.E5)(st)}var rt=n(71128);const at=()=>(0,R.Ij)("sp_key"),ot=e=>{const t=(0,rt.G)(),n=(()=>{const e=at();return setInterval((()=>{e!==at()&&window.location.reload()}),5e3)})();t.on(l.TransportEvent.LOGGED_OUT,(()=>{clearInterval(n),e()}))};var lt=n(2488);const ct=864e5,dt=Spicetify.ReactComponent.PlatformProvider=({platform:e,children:t})=>{const n=(0,tt.IP)(_e.iQs),s=(0,u.G$)()?"always":void 0,i=new Je.S({defaultOptions:{queries:{gcTime:0,networkMode:s},mutations:{networkMode:s}}});if((0,$e.useEffect)((()=>{ot((()=>{it()}))}),[]),(0,$e.useEffect)((()=>{n||it()}),[n]),n){const n={persistClient:async e=>{await(0,nt.WO)(st,e)},restoreClient:async()=>await(0,nt._M)(st),removeClient:async()=>{await(0,nt.E5)(st)}},s=e.getSession(),r=["xpui_2024-02-23_1708709925614_4c6498b",e.username,s.locale,s.market];return(0,lt.jsx)(et.G,{client:i,persistOptions:{persister:n,buster:r.join(":"),maxAge:ct,hydrateOptions:{defaultOptions:{queries:{gcTime:ct}}}},children:t})}return(0,lt.jsx)(Ze.K6,{client:i,children:t})};var ut=n(56616),mt=n(45176),pt=n(49560),ht=n(69484);const gt="main-appShell-container",ft="main-appShell-sideBar",yt="main-appShell-navItems",_t="main-appShell-mainContent",bt="main-appShell-topBar",vt="main-appShell-cards",xt="main-appShell-cardsHeader",Ct="main-appShell-cardsWrapper",Et="main-appShell-card",St="main-appShell-playbackBar",wt=(0,$e.memo)((function(){return(0,lt.jsxs)("div",{className:gt,children:[(0,lt.jsx)("div",{className:ft,children:(0,lt.jsxs)("svg",{className:yt,width:"232",height:"704",viewBox:"0 0 232 704",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("path",{fill:"#000",d:"M0 0h227v704H0z"}),(0,lt.jsx)("path",{d:"M29.887 130.123A8.47 8.47 0 0032.5 124a8.5 8.5 0 10-8.5 8.5 8.454 8.454 0 005.125-1.73l4.401 5.153.76-.649-4.399-5.151zM24 131.5c-4.136 0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5-3.364 7.5-7.5 7.5zM29.16 158.597l-.913.406 7.797 17.513.914-.406-7.798-17.513zM18.5 176.5h1v-18h-1v18zm6 0h1v-18h-1v18z",fill:"#757575"}),(0,lt.jsx)("path",{fill:"#404040",d:"M53 162h122v11H53zM64 258h95v11H64z"}),(0,lt.jsx)("path",{fill:"#fff",d:"M16 248h32v32H16z"}),(0,lt.jsx)("path",{d:"M38 263h-5v-5h-2v5h-5v2h5v5h2v-5h5v-2z",fill:"#000"}),(0,lt.jsx)("path",{fill:"url(#paint0_linear)",d:"M16 292h32v32H16z"}),(0,lt.jsx)("path",{d:"M37.797 302.727a4.057 4.057 0 00-5.488-.253.558.558 0 01-.31.112.531.531 0 01-.31-.112 4.054 4.054 0 00-5.488.253 4.05 4.05 0 00-1.194 2.883c0 1.089.424 2.113 1.168 2.855l4.462 5.223a1.791 1.791 0 002.726 0l4.435-5.195a4.052 4.052 0 001.195-2.883 4.057 4.057 0 00-1.196-2.883z",fill:"#fff"}),(0,lt.jsx)("path",{fill:"#404040",d:"M64 303h79v11H64z"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 353h142v11H16zM16 395h53v11H16zM16 437h98v11H16zM16 479h143v11H16zM16 521h97v11H16z",opacity:"0.6"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 218h71v11H16z"}),(0,lt.jsx)("path",{d:"M25.501 73.078L34 77.984V91h-6v-7h-5v7h-6V78.024l8.501-4.946zm-.002-1.156L16 77.449V92h8v-7h3v7h8V77.407l-9.501-5.485z",fill:"#616161"}),(0,lt.jsx)("path",{fill:"#404040",d:"M53 78h122v11H53zM53 120h122v11H53z"}),(0,lt.jsx)("defs",{children:(0,lt.jsxs)("linearGradient",{id:"paint0_linear",x1:"0",y1:"308",x2:"32",y2:"340",gradientUnits:"userSpaceOnUse",children:[(0,lt.jsx)("stop",{stopColor:"#450AF5"}),(0,lt.jsx)("stop",{offset:"1",stopColor:"#C4EFD9"})]})})]})}),(0,lt.jsxs)("div",{className:_t,children:[(0,lt.jsx)("div",{className:bt,children:(0,lt.jsxs)("svg",{width:"125",height:"95",viewBox:"0 0 125 95",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{x:"0",y:"31",width:"125",height:"32",rx:"16",fill:"#282828"}),(0,lt.jsx)("path",{d:"M992 59c6.627 0 12-5.373 12-12s-5.373-12-12-12-12 5.373-12 12 5.373 12 12 12z",fill:"#404040"}),(0,lt.jsx)("path",{fill:"#404040",d:"M1014 42h66v11h-66z"})]})}),(0,lt.jsxs)("div",{children:[(0,lt.jsxs)("div",{className:vt,children:[(0,lt.jsxs)("div",{className:xt,children:[(0,lt.jsx)("svg",{width:"257",height:"23",viewBox:"0 0 257 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,lt.jsx)("path",{fill:"#404040",d:"M0 0h257v23H0z"})}),(0,lt.jsx)("svg",{width:"72",height:"11",viewBox:"0 0 72 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,lt.jsx)("path",{fill:"#404040",d:"M0 0h72v11H0z"})})]}),(0,lt.jsxs)("div",{className:Ct,children:[(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]})]})]}),(0,lt.jsxs)("div",{className:vt,children:[(0,lt.jsxs)("div",{className:xt,children:[(0,lt.jsx)("svg",{width:"257",height:"23",viewBox:"0 0 257 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,lt.jsx)("path",{fill:"#404040",d:"M0 0h257v23H0z"})}),(0,lt.jsx)("svg",{width:"72",height:"11",viewBox:"0 0 72 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,lt.jsx)("path",{fill:"#404040",d:"M0 0h72v11H0z"})})]}),(0,lt.jsxs)("div",{className:Ct,children:[(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]})]})]}),(0,lt.jsxs)("div",{className:vt,children:[(0,lt.jsxs)("div",{className:xt,children:[(0,lt.jsx)("svg",{width:"257",height:"23",viewBox:"0 0 257 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,lt.jsx)("path",{fill:"#404040",d:"M0 0h257v23H0z"})}),(0,lt.jsx)("svg",{width:"72",height:"11",viewBox:"0 0 72 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,lt.jsx)("path",{fill:"#404040",d:"M0 0h72v11H0z"})})]}),(0,lt.jsxs)("div",{className:Ct,children:[(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,lt.jsxs)("svg",{className:Et,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,lt.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]})]})]})]})]}),(0,lt.jsxs)("div",{className:St,children:[(0,lt.jsx)("div",{children:(0,lt.jsx)("svg",{width:"175",height:"40",viewBox:"0 0 175 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,lt.jsx)("path",{fill:"#404040",d:"M53 5h122v11H53zM53 23h101v11H53zM0 0h40v40H0z"})})}),(0,lt.jsx)("div",{children:(0,lt.jsxs)("svg",{width:"216",height:"48",viewBox:"0 0 216 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("path",{d:"M12.5 22.8l.7-.8c-1.1-1.3-2.7-2-4.3-2v1c1.3 0 2.6.6 3.5 1.6l.1.2zm7.5 4.7c-1.2 0-2.3-.5-3.2-1.3l-.6.8c1 1 2.4 1.5 3.8 1.5V30l3.5-2-3.5-2v1.5zm0-6V23l3.5-2-3.5-2v1.5c-1.6 0-3.2.7-4.2 2l-3.4 3.9c-.9 1-2.2 1.6-3.5 1.6v1c1.6 0 3.2-.7 4.2-2l3.4-3.9c.9-1 2.2-1.6 3.5-1.6zM61 18.5l-8 4.619V19h-2v10h2v-4.119l8 4.619v-11zM163 20v4.119l-8-4.619v11l8-4.619V30h2V20h-2zM197.5 21h4.5v1.5l3.5-2-3.5-2V20h-4.5c-2.5 0-4.5 2-4.5 4.5 0 .6.1 1.2.4 1.8l.9-.5c-.2-.4-.3-.8-.3-1.3 0-1.9 1.6-3.5 3.5-3.5zm9.1 1.7l-.9.5c.2.4.3.8.3 1.3 0 1.9-1.6 3.5-3.5 3.5H198v-1.5l-3.5 2 3.5 2V29h4.5c2.5 0 4.5-2 4.5-4.5 0-.6-.1-1.2-.4-1.8z",fill:"#fff"}),(0,lt.jsx)("circle",{cx:"108",cy:"24",r:"20",fill:"#fff"}),(0,lt.jsx)("path",{d:"M100 16h16v16h-16V16z",fill:"#fff"}),(0,lt.jsx)("path",{d:"M104.018 30l10.392-6-10.392-6v12z",fill:"#000"})]})}),(0,lt.jsx)("div",{children:(0,lt.jsx)("svg",{width:"99",height:"16",viewBox:"0 0 99 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,lt.jsx)("path",{d:"M1 2v5l4.33-2.5L1 2zm0 12h14v-1H1v1zm0-4h14V9H1v1zm7-5v1h7V5H8zM92.945 1.379l-.652.763A7.968 7.968 0 0194.863 8a7.972 7.972 0 01-2.57 5.858l.651.763a8.966 8.966 0 00.001-13.242zm-2.272 2.66l-.651.763a4.484 4.484 0 01-.001 6.397l.651.763a5.48 5.48 0 001.691-3.961c0-1.557-.65-2.962-1.69-3.962zM80 5v6h2.804L88 14V2l-5.196 3H80zm7-1.268v8.536L83.072 10H81V6h2.072L87 3.732zM40 2.5v8c0 .55.45 1 1 1h5v-1h-5v-8h5v-1h-5c-.55 0-1 .45-1 1zM43 14c0 .275.225.5.5.5H46v-1h-2.5c-.275 0-.5.225-.5.5zM55 1.5h-6c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-11c0-.55-.45-1-1-1zm0 12h-6v-11h6v11zm-3-8A.75.75 0 1052 4a.75.75 0 000 1.5zm0 6a2 2 0 100-4 2 2 0 000 4zm0-3c.551 0 1 .449 1 1 0 .551-.449 1-1 1-.551 0-1-.449-1-1 0-.551.449-1 1-1z",fill:"#fff"})})})]})]})}));var It=n(90016);const At=$e.memo((function(){return(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(It.G,{isOpen:!0,headingMessage:c._s.get("error-dialog.generic.header"),message:c._s.get("error-dialog.generic.body"),buttonLabel:c._s.get("fatal-error.button-label")}),(0,lt.jsx)(wt,{})]})}));var Tt=n(61580),kt=n(70592),Nt=n(79488),Ot=n(81740);function Pt(e){return e?.map((({url:e,width:t,height:n})=>({src:e,sizes:`${t}x${n}`})))??[]}function jt(e){window.navigator.mediaSession&&(window.navigator.mediaSession.metadata=function(e){return(0,k.gB)(e)?new window.MediaMetadata({title:e.name,artist:e.artists.map((e=>e.name)).join(c._s.getSeparator()),album:e.album.name,artwork:Pt(e.images)}):(0,k.sN)(e)?new window.MediaMetadata({title:e.name,artist:"",album:e.show.name,artwork:Pt(e.images)}):(0,k.Q9)(e)?new window.MediaMetadata({title:e.name,artist:"",album:e.book.name,artwork:Pt(e.images)}):(0,k.UZ)(e)?new window.MediaMetadata({title:c._s.get("ad-formats.advertisement"),artist:"",album:"",artwork:Pt(e.images)}):(0,k.u_)(e)||void 0===e?new window.MediaMetadata({title:"",artist:"",album:"",artwork:[]}):(0,j.E)(e)}(e))}const Lt=()=>((0,Ot.S)(N.AU.UPDATE,(({data:e})=>jt(e?.item??void 0))),null),Rt=()=>{const e=(0,ze.w1)(kt.U)===Nt.q.pip;return!(0,u.G$)()||e?(0,lt.jsx)(Lt,{}):null};var Dt=n(19240),Mt=n(96244),Ut=n(14736),Ft=n(14712);function Bt(e=""){const t=`https://open.spotify.com${e}`;let n="";const s=/^\/\w+\/([a-zA-Z0-9]+)[/\w+]*/.exec(e);s&&(n=s[1]);let i=e,r=e;const a=e.match(/^\/search\/(.*)\/(.*)/);return/^\/genre\//.test(e)||/^\/view\//.test(e)?r="/browse/genres":"/"===e?(r="/browse",i="/browse/featured"):"/browse/charts"===e?r="/charts":"/collection/tracks"===e?r="/collection/songs":"/search"===e?r="/search":a?(r="podcasts"===a[2]?"/search/shows":`/search/${a[2]}`,i=`/search/${a[2]}`):e.match(/\/search\/(?<query>.*)/)?(r="/search",i="/search/results"):"/download"===e?r="/upsell":"/queue"===e?r="/nowplaying/queue":/^\/artist\/[a-zA-Z0-9]+\/related/.test(e)?(i=(0,O.Ke)(n).toString(),r="/artist/related"):/^\/artist\/[a-zA-Z0-9]+\/about/.test(e)?(i=(0,O.Ke)(n).toString(),r="/artist/about"):/^\/artist\/[a-zA-Z0-9]+\/concerts/.test(e)?(i=(0,O.Ke)(n).toString(),r="/artist/concerts"):(0,O.eg)(t)?(i=(0,O.Ke)(n).toString(),r="/artist"):(0,O.mS)(t)?(i=(0,O.Eb)(n).toString(),r="/playlist"):(0,O.MJ)(t)?(i=(0,O.Bi)(n).toString(),r="/album"):(0,O.QB)(t)?(i=(0,O.qW)(n).toString(),r="/episode"):(0,O.Gi)(t)?(i=(0,O.S)(n).toString(),r="/shows"):(0,O.I9)(t)?(i=(0,O.oh)(n).toString(),r="/profile"):(0,O._Z)(t)&&(i=(0,O.U1)(n).toString(),r="/track"),{viewUri:i,mappedPageId:r}}var Gt=n(33220);const Vt=()=>"undefined"==typeof window||void 0===window.gtag||void 0===window.google_tag_manager,Ht=(e,t,n)=>{Vt()||window.gtag("event",t,{event_category:e,event_label:n})},Wt="#login";class zt extends $e.Component{constructor(e){super(e);const{eventSender:t,location:n,isAnonymous:s}=this.props;t.send(qt(n.pathname,s))}shouldComponentUpdate(e){const{eventSender:t,navigationType:n,location:s,isAnonymous:i}=e,{location:r}=this.props,a=s.hash===Wt||r.hash===Wt;var o;return(0,Dt.Q)(s,r)||n===Mt.So.Replace||a||(o=s.pathname,Vt()||window.gtag("pageview",{pathname:o}),t.send(function(e,t=!1){const{viewUri:n,mappedPageId:s}=Bt(e),i={page:s,type:"exit",view_uri:n};return t?(0,Ft._)(i):(0,Ut.g)(i)}(r.pathname,i)),t.send(qt(s.pathname,i))),!1}render(){return null}}const Yt=(0,ze.Ul)((function(e,t){return{...t,isAnonymous:e.session.isAnonymous}}))((Kt=zt,e=>{const t=(0,Gt.IT)(),n=(0,Gt.i6)(),s=(0,Gt.KM)(),i=(0,Gt.W4)();return(0,lt.jsx)(Kt,{...e,navigate:n,navigationType:s,location:t,params:i})}));var Kt;function qt(e,t=!1){const{viewUri:n,mappedPageId:s}=Bt(e),i={page:s,type:"enter",view_uri:n};return t?(0,Ft._)(i):(0,Ut.g)(i)}var Qt=n(80928),Xt=n(50508),$t=n(94916),Jt=n(77856),Zt=n(6640),en=n(97124),tn=n(15060),nn=n(75292),sn=n(78128),rn=n(97852);const an=({instance:e,children:t})=>(0,lt.jsx)(rn._.Provider,{value:e,children:t});var on=n(70392),ln=n(32228),cn=n(39224);const dn=({instance:e,children:t})=>(0,lt.jsx)(cn.s.Provider,{value:e,children:t});var un=n(67544),mn=n(25040);const pn=({instance:e,children:t})=>(0,lt.jsx)(mn.u.Provider,{value:e,children:t});var hn=n(62100),gn=n(1397);const fn=({instance:e,children:t})=>(0,lt.jsx)(gn.a.Provider,{value:e,children:t});var yn=n(45268);const _n=(0,$e.createContext)(null),bn=({instance:e,children:t})=>(0,lt.jsx)(_n.Provider,{value:e,children:t}),vn=()=>{const e=(0,$e.useContext)(_n);if(null===e)throw new Error("useVideoAPI must be used within a VideoAPIProvider");return e};var xn=n(4964);const Cn=(0,$e.createContext)(null);const En=({instance:e,children:t})=>(0,lt.jsx)(Cn.Provider,{value:e,children:t});var Sn=n(68340);const wn=({instance:e,children:t})=>(0,lt.jsx)(Sn.Q.Provider,{value:e,children:t});var In=n(62176);const An=({instance:e,children:t})=>(0,lt.jsx)(In.E.Provider,{value:e,children:t});var Tn=n(40060);const kn=({instance:e,children:t})=>(0,lt.jsx)(Tn.M.Provider,{value:e,children:t}),Nn=(0,$e.createContext)(null),On=({instance:e,children:t})=>(0,lt.jsx)(Nn.Provider,{value:e,children:t});var Pn=n(93948);const jn=({instance:e,children:t})=>(0,lt.jsx)(Pn.g.Provider,{value:e,children:t});var Ln=n(99096),Rn=n(31360),Dn=n(808);const Mn=({instance:e,children:t})=>(0,lt.jsx)(Dn.M.Provider,{value:e,children:t});var Un=n(29476);const Fn=({instance:e,children:t})=>(0,lt.jsx)(Un.S.Provider,{value:e,children:t});var Bn=n(6912);const Gn=({instance:e,children:t})=>(0,lt.jsx)(Bn.u.Provider,{value:e,children:t});var Vn=n(40104),Hn=n(89960),Wn=n(3420);const zn=({instance:e,children:t})=>(0,lt.jsx)(Wn.a.Provider,{value:e,children:t});var Yn=n(52216),Kn=n(91468);const qn=({instance:e,children:t})=>(0,lt.jsx)(Kn.q.Provider,{value:e,children:t});var Qn=n(81284),Xn=n(89940);const $n=({instance:e,children:t=!1})=>(0,lt.jsx)(Xn.C.Provider,{value:e,children:t});var Jn=n(40636),Zn=n(85312);const es=({instance:e,children:t})=>(0,lt.jsx)(Zn.g.Provider,{value:e,children:t});var ts=n(57800);const ns=({children:e,providers:t})=>{if(void 0===e)throw new Error("MultiProvider requires children!");return t.reduceRight(((e,t)=>(0,$e.cloneElement)(t,void 0,e)),(0,lt.jsx)($e.Fragment,{children:e}))};var ss=n(62196),is=n(35096),rs=n(64728);const as=({instance:e,children:t})=>(0,lt.jsx)(ts.IF.Provider,{value:e,children:t}),os=Spicetify.ReactComponent.PlatformProvider=({platform:e,children:t})=>{const n=[(0,lt.jsx)(as,{instance:e}),(0,lt.jsx)(is._,{}),(0,lt.jsx)(Rn.rE,{instance:e.getLocalStorageAPI()}),(0,lt.jsx)(On,{instance:e.getIndexedDbAPI()}),(0,lt.jsx)(en.m,{instance:e.getActionStoreAPI()}),(0,lt.jsx)(wn,{instance:e.getAuthorizationAPI()}),(0,lt.jsx)(tn.kH,{instance:e.getClipboardAPI()}),(0,lt.jsx)(An,{instance:e.getConnectAPI()}),(0,lt.jsx)($n,{instance:e.getSocialConnectAPI()}),(0,lt.jsx)(d.Ai,{instance:e.getControlMessageAPI()}),(0,lt.jsx)(an,{instance:e.getFacebookAPI()}),(0,lt.jsx)(on.o,{instance:e.getFollowAPI()}),(0,lt.jsx)(K.yc,{request:e.getGraphQLLoader()}),(0,lt.jsx)(jn,{instance:e.getLibraryAPI()}),(0,lt.jsx)(kn,{instance:e.getCurationAPI()}),(0,lt.jsx)(Ln.i,{instance:e.getLocalFilesAPI()}),(0,lt.jsx)(Mn,{instance:e.getOfflineAPI()}),(0,lt.jsx)(ln.O,{platformData:e.getPlatformData()}),(0,lt.jsx)(Gn,{instance:e.getPlayerAPI()}),(0,lt.jsx)(qn,{instance:e.getShuffleAPI()}),(0,lt.jsx)(Fn,{instance:e.getPlaybackAPI()}),(0,lt.jsx)(un.wp,{instance:e.getPlayHistoryAPI()}),(0,lt.jsx)(Vn.M5,{instance:e.getPlaylistAPI()}),(0,lt.jsx)(pn,{instance:e.getPrivateSessionAPI()}),(0,lt.jsx)(Hn.O8,{instance:e.getPubSubAPI()}),(0,lt.jsx)(zn,{instance:e.getRecentlyPlayedAPI()}),(0,lt.jsx)(hn.O,{configuration:e.getRemoteConfiguration()}),(0,lt.jsx)(fn,{instance:e.getReportAPI()}),(0,lt.jsx)(Vn.Qf,{instance:e.getRootlistAPI()}),(0,lt.jsx)(yn.s,{instance:e.getSegmentsAPI()}),(0,lt.jsx)(Yn.ai,{instance:e.getShowAPI()}),(0,lt.jsx)(En,{instance:e.getAudiobooksPremiumConsumptionCapObserverAPI()}),(0,lt.jsx)(dn,{instance:e.getUpdateAPI()}),(0,lt.jsx)(es,{instance:e.getUserAPI()}),(0,lt.jsx)(bn,{instance:e.getVideoAPI()}),(0,lt.jsx)(Jt.qy,{instance:e.getAdManagers()}),(0,lt.jsx)(Vn.wE,{instance:e.getPlaylistPermissionsAPI()}),(0,lt.jsx)(Qn.Y,{instance:e.getSingAlongAPI()}),(0,lt.jsx)(Jn.qi,{value:null}),(0,lt.jsx)(Jn.ol,{instance:e.getUBILogger()}),(0,lt.jsx)(nn.C,{instance:e.getCollectionPlatformAPI()}),(0,lt.jsx)(sn._,{instance:e.getEqualizerAPI()}),(0,lt.jsx)(ss.q.Provider,{value:e.getBuddyFeedAPI()}),(0,lt.jsx)(Zt.Sg,{playerAPI:e.getPlayerAPI()}),(0,lt.jsx)(rs.gB,{instance:e.getSettingsAPI()}),(0,lt.jsx)(xn.G0,{instance:e.getRequestBuilder()}),(0,lt.jsx)($t.C,{})];return(0,lt.jsx)(ns,{providers:n,children:t})},ls=({history:e,children:t})=>{const[n,s]=(0,$e.useState)((()=>({location:e.location,action:e.action})));return(0,$e.useLayoutEffect)((()=>{e.listen(((e,t)=>s({location:e,action:t})))}),[e]),(0,lt.jsx)(Gt.E5,{location:n.location,navigationType:n.action,navigator:e,children:t})};var cs=n(92376),ds=n(82740);let us=function(e){return e.LOGGING_CATEGORY="l2l",e.LOGGING_CATEGORY_MWP="l2l-mwp",e}({});function ms({isPremiumUser:e,locationSearch:t,navigate:n,logNavigation:s,showDialog:i}){const r=!!(a=t)&&"1"===new URLSearchParams(a).get(us.LOGGING_CATEGORY);var a;r&&(s(r),function(e,t){if(!e)return;const n=new URLSearchParams(e);n.delete(us.LOGGING_CATEGORY),t({search:n.toString()},{replace:!0})}(t,n),r&&!e&&i())}var ps=n(77624),hs=n(71940);const gs="sp_s2l";var fs=function(e){return e.LOGGING_CATEGORY="s2l",e.LOGGING_CATEGORY_MWP="s2l-mwp",e}(fs||{});const ys=(e,{os:t="",country:n=""})=>{const s={category:"in_app_message",action:"display",label:"download",destination_url:"open.spotify.com",os:t,country:n,context:window.location.search};return e?(0,hs.O)(s):(0,ps.E)(s)};function _s({locationSearch:e,navigate:t,logDialog:n,showDialog:s}){(function(e){if(!e)return!1;const t=new URLSearchParams(e);return Boolean(t.get(fs.LOGGING_CATEGORY))})(e)&&(n(),function(e,t){if(!e)return;const n=new URLSearchParams(e);n.delete(fs.LOGGING_CATEGORY),t({search:n.toString()},{replace:!0})}(e,t),s())}function bs(){const e=(0,R.Ij)(gs);return e?JSON.parse(decodeURIComponent(e)):null}var vs=n(10124),xs=n.n(vs),Cs=n(8004),Es=n(8340),Ss=n(60016),ws=n(51080);const Is="QSYXf8dYOffYgwkMd5eC",As="wSIDh56L1NbjcQQJ5Vkj",Ts="AMqcnfR0iNvTMp3AZpze",ks="SoFH2YPXp1wuOt2fe2tg",Ns=({errorName:e})=>{const t={cdmerror:{logoLink:Ss.WC,header:c._s.get("error-page.header.cdmerror"),subtext:c._s.get("error-page.subtext.cdmerror"),cta:{title:c._s.get("error-page.cta.cdmerror"),url:"https://support.spotify.com/article/web-player-help/?utm_source=open&utm_campaign=drm_error&utm_medium=web"}},max_subscriptions_reached:{header:c._s.get("error-page.header.max_subscriptions_reached"),subtext:c._s.get("error-page.subtext.max_subscriptions_reached")}}[e]||{},n=(0,tt.IP)(_e.Sw);return(0,lt.jsxs)("div",{className:xs()(Is,"encore-dark-theme","encore-layout-themes",{"vertical-metrics":n}),"":"error-page",children:[t.logoLink?(0,lt.jsx)(ws.c,{className:xs()(As),customLink:t.logoLink}):(0,lt.jsx)(ws.c,{className:xs()(As),noLink:!0}),(0,lt.jsxs)("div",{className:xs()(Ts),children:[t.header&&(0,lt.jsx)(Cs.a,{as:"h1",variant:"titleLarge",semanticColor:"textBase",dir:"auto",children:t.header}),t.subtext&&(0,lt.jsx)(Cs.a,{as:"h2",variant:"bodyMedium",semanticColor:"textBase",dir:"auto",children:t.subtext})]}),t.cta&&(0,lt.jsx)(Es.g,{onClick:()=>{t?.cta?.url&&(window.location.href=t.cta.url)},className:xs()(ks),colorSet:"brightAccent",children:t.cta.title})]})};var Os=n(87712);function Ps(){const e=(0,tt.IP)(_e.Q6m),t=(0,ze.OY)();return(0,$e.useEffect)((()=>{e&&t((0,Os.aW)("dev"))}),[e,t]),null}function js(){const e=(0,tt.IP)(_e.cdb),t=(0,ze.OY)();return(0,$e.useEffect)((()=>{t((0,Os.GC)(e))}),[e,t]),null}function Ls(){return(0,lt.jsxs)($e.Suspense,{fallback:null,children:[(0,lt.jsx)(Ps,{}),(0,lt.jsx)(js,{})]})}var Rs=n(98160),Ds=(n(68788),n(35404)),Ms=n(77520),Us=n(9728),Fs=n(76504),Bs=n(36608),Gs=n(32476);const Vs=e=>{e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},Hs=()=>{document.fullscreenElement&&document.exitFullscreen?document.exitFullscreen():document.mozFullScreen&&document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitIsFullScreen&&document.webkitExitFullscreen&&document.webkitExitFullscreen()},Ws=()=>!!(document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen);var zs=n(72001),Ys=n(3990);const Ks=$e.createContext(null),qs=({children:e})=>{const t=(0,$e.useRef)(null);return(0,lt.jsx)(Ks.Provider,{value:t,children:e})};var Qs=n(27136),Xs=n(53788),$s=n(90196),Js=n(91664),Zs=n(25296),ei=n(7296),ti=n(5256),ni=n(41152),si=n(19872),ii=n(77808),ri=n(37116);const ai="main-playbackBarRemainingTime-container",oi=({position:e,duration:t,isPreview:n,semanticColor:s="textSubdued",isFullscreenMode:i=!1})=>{const[r,a]=(0,ri.k)(ii.eY,!1),o=(0,$e.useCallback)((()=>{n||a(!r)}),[r,a,n]);return(0,lt.jsx)(Cs.a,{as:"div","":"playback-duration","data-test-position":e,variant:i?"bodyMedium":"marginal",className:ai,onClick:o,semanticColor:s,children:r?`-${(0,si.A)(t-e)}`:(0,si.A)(t)})};var li=n(93620);const ci=[{name:"Anakin",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"7px","--core-color":"white","--edge-glow-color":"rgb(55, 132, 214)","--blur-glow-color":"#2e77d0","--blur-radius":"16px","--spread-radius":"8px","--saber-hilt-url":`url(${(0,li.K)("images/sw_saber_anakin.png")})`,"--saber-hilt-overlap":"5px"}},{name:"Luke",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"9px","--core-color":"white","--edge-glow-color":"rgb(135, 220, 90)","--blur-glow-color":"#1ed760","--blur-radius":"16px","--spread-radius":"4px","--saber-hilt-url":`url(${(0,li.K)("images/sw_saber_luke.png")})`,"--saber-hilt-overlap":"5px"}},{name:"Vader",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"10px","--core-color":"white","--edge-glow-color":"rgb(229, 17, 21)","--blur-glow-color":"#cd1a2b","--blur-radius":"20px","--spread-radius":"14px","--saber-hilt-url":`url(${(0,li.K)("images/sw_saber_vader.png")})`,"--saber-hilt-overlap":"6px"}},{name:"Rey",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"8px","--core-color":"white","--edge-glow-color":"rgb(249, 164, 11)","--blur-glow-color":"rgb(253, 175, 33)","--blur-radius":"20px","--spread-radius":"5px","--saber-hilt-url":`url(${(0,li.K)("images/sw_saber_rey.png")})`,"--saber-hilt-overlap":"3px"}},{name:"Leia",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"9px","--core-color":"white","--edge-glow-color":"rgb(55, 132, 214)","--blur-glow-color":"#2e77d0","--blur-radius":"16px","--spread-radius":"8px","--saber-hilt-url":`url(${(0,li.K)("images/sw_saber_leia.png")})`,"--saber-hilt-overlap":"2px"}},{name:"Mace",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"9px","--core-color":"white","--edge-glow-color":"rgb(90, 22, 167)","--blur-glow-color":"rgb(172, 57, 193)","--blur-radius":"20px","--spread-radius":"8px","--saber-hilt-url":`url(${(0,li.K)("images/sw_saber_mace.png")})`,"--saber-hilt-overlap":"1px"}},{name:"Ahsoka",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"6px","--core-color":"white","--edge-glow-color":"rgb(255,255,255)","--blur-glow-color":"rgb(255,255,255)","--blur-radius":"20px","--spread-radius":"5px","--saber-hilt-url":`url(${(0,li.K)("images/sw_saber_ahsoka1.png")})`,"--saber-hilt-overlap":"-9px","--saber-hilt-width":"100px","--saber-hilt-height":"36px"}}],di=["spotify:playlist:37i9dQZF1DXaUaRhCgtpCo","spotify:playlist:69BOXIItwwyxTgdz6flzvU","spotify:playlist:37i9dQZF1DWUgUvAPAFxdh"],ui=["official_star_wars","kirbysayshi","hansencc"],mi=/Star Wars/i,pi="THX1138",hi=pi.length;function gi({onChange:e}){const t=function(){const[e,t]=(0,$e.useState)([]),[n,s]=(0,$e.useState)(!1);return(0,$e.useEffect)((()=>{const i=i=>{for(e.push(i.key);e.length>hi;)e.shift();e.join("")===pi&&s(!n),t([...e])};return window.addEventListener("keypress",i),()=>{window.removeEventListener("keypress",i)}}),[e,n]),(0,zs.o)((e=>{const t=e?.context.uri??"",n=e?.context?.metadata?.context_owner??"",s=e?.item??void 0;return!!di.includes(t)||!!ui.includes(n)||!!(0,k.gB)(s)&&(mi.test(s.name)||mi.test(s.album.name))}))||n}(),{next:n,config:s}=function(e){const[t,n]=(0,$e.useState)(0);return{next:()=>{n((t+1)%ci.length)},config:e?ci[t]:null}}(t),i=(0,$e.useRef)(e);return i.current=e,(0,$e.useEffect)((()=>{i.current(s?.vars??null)}),[s]),s?(0,lt.jsx)("div",{className:"saber-hilt",children:(0,lt.jsx)("button",{"":"saber-hilt-button","aria-label":c._s.get("playback-control.a11y.lightsaber-hilt-button",s?.name),className:"saber-hilt__btn",style:s.vars,onClick:n})}):null}const fi=["spotify:playlist:37i9dQZF1DXc3KPAjGyPdm"];const yi=({isPreview:e,isFullscreenMode:t=!1})=>{const[n,s]=(0,$e.useState)(null),i=(0,ei.w)(),r=(0,Bn.Q)(),a=(0,zs.o)((e=>e),((e,t)=>e?.duration===t?.duration&&e?.hasContext===t?.hasContext&&e?.restrictions?.canSeek===t?.restrictions?.canSeek)),{seekBackward:o,seekForward:l,seekOffsetMs:d}=(0,ni.q)(),{videoPlayerMode:u}=(0,Bs.a)(),{spec:m,logger:p}=(0,Jn.gp)(Us.RY,{data:{identifier:u===Nt.q.cinema?Us.ye.CINEMA:Us.ye.DESKTOP}}),h=a?.duration??0,g=a?.hasContext??!1,f=a?.restrictions?.canSeek??!1,[y,_]=(0,ti.e)(500),[b,v]=(0,$e.useState)(null),x=null!==b?b:y,C=e=>{v(e*h)},E=x>0||h>0,S=(0,si.A)(E?x:NaN),w=(0,si.A)(E?h:NaN),I=(0,ze.w1)((e=>!!e?.ui?.fullscreenMode?.isOpen)),A=(0,zs.o)((e=>{const t=e?.context.uri??"";return fi.includes(t)})),T=(0,Js.E)(),k=(0,tt.IP)(_e.qq7,{loadingValue:!1}),{icon:N,playbackHandleType:O}=(0,Zs.y)();return t!==I?null:(0,lt.jsxs)("div",{className:"playback-bar",children:[(0,lt.jsx)(Cs.a,{"":"playback-position",as:"div",variant:t?"bodyMedium":"marginal",className:"playback-bar__progress-time-elapsed",semanticColor:t?"textBase":"textSubdued",children:S}),g?(0,lt.jsx)(gi,{onChange:e=>{s(e)}}):null,(0,lt.jsx)($s.cH,{labelText:c._s.get("playback-control.a11y.seek-slider-button"),value:Math.floor(x/1e3),max:Math.floor(h/1e3),step:Math.floor(d/1e3),"aria-valuetext":c._s.get("download.progress-global",S,w),isInteractive:g&&E,onDragStart:C,onDragMove:C,onDragEnd:(e,{wasDraggedBeforeReleased:t})=>{if(v(null),i({intent:"seek",type:"click"}),!f)return;const n=e*h;_(n),r.seekTo(n),t?p.logInteraction(m.progressBarFactory().dragSeekToTime({msToSeekTo:n})):p.logInteraction(m.progressBarFactory().hitSeekToTime({msToSeekTo:n}))},onStepBackward:()=>{if(!f)return;const e=o();_(Math.max(0,Math.min(h,y-e)))},onStepForward:()=>{if(!f)return;const e=l();_(Math.max(0,Math.min(h,y+e)))},saberConfig:n,isPlayingStrangerThings:A,isAttackOnTitanEasterEggActive:T,"":"playback-progressbar",customPlaybackHandle:k?N:void 0,customPlaybackHandleType:O}),(0,lt.jsx)(oi,{position:x,duration:h>0?h:NaN,isPreview:e,semanticColor:t?"textBase":"textSubdued",isFullscreenMode:t})]})};var _i=n(40820);function bi(){const e=(0,zs.o)((e=>e?.item??void 0),((e,t)=>e?.uri===t?.uri));return(0,k.sN)(e)||(0,k.Q9)(e)?"audio"===e.mediaType||"mixed"===e.mediaType:!!(0,k.UZ)(e)&&e.isPodcastAd}var vi=n(3108),xi=n(78740),Ci=n(85660),Ei=n(31720),Si=n(75512),wi=n(95928);const Ii=D.E.SUBTITLE_LANGUAGES_CHANGED;var Ai=n(44488),Ti=n(63824),ki=n(90484),Ni=n(81604);const Oi=({languages:e=[],activeLanguage:t,onSelectLanguage:n,onClose:s})=>{const i=(0,tt.IP)(_e.M5A);return(0,lt.jsx)(Ni.oL,{value:"subtitles",children:(0,lt.jsxs)(Ai.i,{onClose:s,getInitialFocusElement:e=>e?.querySelector('[aria-checked="true"]'),children:[(0,lt.jsx)(Ti.Y,{divider:"after",children:c._s.get("subtitles-picker.heading")}),(0,lt.jsx)(ki.I,{onClick:()=>{n(null)},"aria-checked":!t,role:"menuitemradio",children:c._s.get("subtitles-picker.option_off")}),e.map((e=>(0,lt.jsxs)(ki.I,{onClick:()=>{n(e)},role:"menuitemradio","aria-checked":"string"==typeof t&&e.toLowerCase()===t.toLowerCase(),children:[Pi(e)," ",i?`(${c._s.get("subtitles-picker.autogenerated")})`:null]},e)))]})})};function Pi(e){const[t]=e.toLowerCase().split("-");let n="";switch(t){case"zh":n=c._s.get("subtitles-picker.option_zh");break;case"cs":n=c._s.get("subtitles-picker.option_cs");break;case"nl":n=c._s.get("subtitles-picker.option_nl");break;case"en":n=c._s.get("subtitles-picker.option_en");break;case"fi":n=c._s.get("subtitles-picker.option_fi");break;case"fr":n=c._s.get("subtitles-picker.option_fr");break;case"de":n=c._s.get("subtitles-picker.option_de");break;case"el":n=c._s.get("subtitles-picker.option_el");break;case"hu":n=c._s.get("subtitles-picker.option_hu");break;case"id":n=c._s.get("subtitles-picker.option_id");break;case"it":n=c._s.get("subtitles-picker.option_it");break;case"ja":n=c._s.get("subtitles-picker.option_ja");break;case"ms":n=c._s.get("subtitles-picker.option_ms");break;case"pl":n=c._s.get("subtitles-picker.option_pl");break;case"pt":n=c._s.get("subtitles-picker.option_pt");break;case"es":n=c._s.get("subtitles-picker.option_es");break;case"sv":n=c._s.get("subtitles-picker.option_sv");break;case"tr":n=c._s.get("subtitles-picker.option_tr");break;case"vi":n=c._s.get("subtitles-picker.option_vi");break;default:n=e}return e.endsWith("-x-cc")&&(n+=" [CC]"),n}const ji=e=>(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(Oi,{...e})}),Li=$e.memo((function({renderInline:e=!1,noBackground:t,iconSize:n="small"}){const{isSupported:s,availableLanguages:i,preferredLanguage:r,setPreferredLanguage:a}=function(){const e=vn(),t=e.getCapabilities(),{videoPlayerMode:n}=(0,Bs.a)(),{uri:s}=(0,wi.c)(),{spec:i,logger:r}=(0,Jn.gp)(Si.O,{data:{uri:s??"",identifier:n}}),[a,o]=(0,$e.useState)([]),[l,c]=(0,$e.useState)(null);return(0,$e.useEffect)((()=>{(async()=>{o(await e.getSubtitleLanguages())})();const t=e.getEvents(),n=({data:e})=>o(e);return t.addListener(Ii,n),()=>{t.removeListener(Ii,n)}}),[e,o]),(0,$e.useEffect)((()=>{(async()=>{c(await e.getPreferredSubtitleLanguage())})()}),[e,c]),{isSupported:t.hasSubtitleSupport,availableLanguages:a,preferredLanguage:l,setPreferredLanguage:async t=>{e.setPreferredSubtitleLanguage(t),c(t),t?r.logInteraction(i.subtitlesButtonFactory().hitUiReveal()):r.logInteraction(i.subtitlesButtonFactory().hitUiHide())}}}();return s&&0!==i.length?(0,lt.jsx)(Ei.p,{renderInline:e,menu:(0,lt.jsx)(ji,{onSelectLanguage:a,languages:i,activeLanguage:r}),children:(0,lt.jsx)(Ci.u,{noBackground:t,active:null!==r,label:c._s.get("subtitles-picker.heading"),children:(0,lt.jsx)(xi.k,{size:n})})}):null}));var Ri=n(5948),Di=n(54748),Mi=n(99912);const Ui="ylcmjHXKpwmez5_bBVgt",Fi="kChcaF3yz3SoL5dZPwEr",Bi="npv-nowPlayingBar-container",Gi="npv-nowPlayingBar-controls",Vi="npv-nowPlayingBar-section",Hi="npv-nowPlayingBar-left",Wi="npv-nowPlayingBar-center",zi="npv-nowPlayingBar-right",Yi="npv-exitFullScreenButton-button",Ki="Lgyj1e9c3lrdgVGlMIyV",qi=(0,$e.memo)((function({iconSize:e="small",onClick:t}){return(0,lt.jsx)("button",{className:Yi,onClick:()=>{t?.(),Hs()},"aria-label":c._s.get("npv.exit-full-screen"),title:c._s.get("npv.exit-full-screen"),children:(0,lt.jsx)(Mi._,{size:e})})}));var Qi=n(99040),Xi=n(96560),$i=n(85988);const Ji="main-genericButton-button",Zi="main-genericButton-buttonActive",er="main-genericButton-buttonActiveDot",tr=(0,$e.forwardRef)(((e,t)=>{const n=e.isActive??!1,s=xs()(Ji,{[Zi]:n||e.isActiveNoIndicator,[er]:n},e.className);return(0,lt.jsx)($i.Yl,{label:e.label,children:(0,lt.jsx)(Xi.u,{ref:t,style:e.style,"aria-label":e.label,size:"small",className:s,disabled:e.disabled,iconOnly:e.icon,onClick:e.onToggle,"":e.testId,"data-active":n.toString(),"aria-pressed":n})})})),nr=()=>(0,lt.jsx)(Qi.Q,{iconSize:24}),sr=({onClick:e,enabled:t})=>{const n=(0,$e.useCallback)((()=>{e?.(!t)}),[e,t]);return(0,lt.jsx)(tr,{className:Ki,isActive:t,onToggle:n,label:c._s.get("web-player.lyrics.title"),testId:"fullscreen-mode-overlay-lyrics-button",icon:nr})},ir=(0,$e.memo)(sr);var rr=n(10660),ar=n(5260),or=n(97336);const lr=({item:e,onClick:t})=>(0,k.gB)(e)?(0,lt.jsx)(or.s,{uri:e.uri,size:rr.o.sm,onClick:t}):(0,k.sN)(e)?(0,lt.jsx)(ar.Q,{uri:e.uri,size:rr.o.sm,onClick:t}):null;var cr=n(30916),dr=n(68604),ur=n(64672),mr=n(77620),pr=n(46892);const hr=({size:e})=>{const t=(0,zs.o)((e=>e?.context),((e,t)=>e?.uri===t?.uri)),{title:n}=(0,dr.O)(!0),{canToggleShuffle:s}=(0,ur.g)();return(0,mr.A)(t)?(0,lt.jsx)(pr.I,{size:e,contextUri:t.uri,entityName:n??"",isActive:!0,activationPlacement:"top",offsetDotDistance:!1,withPadding:!0,disabled:!s,withActivation:!1}):(0,lt.jsx)(pr.m,{size:e,shuffleModeConfig:{icon:cr.o},shuffleIsOn:!1,disabled:!0,withPadding:!0})};var gr=n(36480);const fr=({renderDisabled:e=(()=>null),renderEnabled:t})=>(0,gr.Yn)(!0)?t():e(),yr=e=>(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(fr,{...e})}),_r=({isVisible:e,onClick:t,item:n,isLyricsAvailable:s,isLyricsEnabled:i,onLyricsButtonClick:r})=>{const a=bi(),o=(0,Di.o)(),l=(0,Xs.OC)({parentAbsoluteLocation:o||void 0,data:{identifier:Us.ye.FULLSCREEN}}),c=(0,Us.RY)({parentAbsoluteLocation:o||void 0,data:{identifier:Us.ye.FULLSCREEN}}),d=(0,Qs.E9)({parentAbsoluteLocation:o||void 0,data:{identifier:Us.ye.FULLSCREEN}}),u=(0,Jn.Mk)(),[m]=(0,ti.e)(1e3,(e=>e.item?.uri===n?.uri)),p=(0,$e.useCallback)((e=>{if(n)if(e){const e=l.likeButtonFactory({uri:n.uri}).hitLike({itemToBeLiked:n.uri});u.logInteraction(e)}else{const e=l.likeButtonFactory({uri:n.uri}).hitRemoveLike({itemNoLongerLiked:n.uri});u.logInteraction(e)}}),[n,l,u]),h=(0,$e.useCallback)((e=>{if(!n)return;const t=c.speedControlButtonFactory().hitSetPlaybackSpeed({currentlyPlayedItem:n.uri,playbackSpeed:e});u.logInteraction(t)}),[n,u,c]),g=(0,$e.useCallback)((e=>{if(e){const e=c.shuffleButtonFactory().hitShuffleEnable();u.logInteraction(e)}else{const e=c.shuffleButtonFactory().hitShuffleDisable();u.logInteraction(e)}}),[u,c]),f=(0,$e.useCallback)((e=>{const t=c.seekBackButtonFactory().hitSeekByTime({msSeekedOffset:e});u.logInteraction(t)}),[u,c]),y=(0,$e.useCallback)((e=>{const t=c.seekForwardButtonFactory().hitSeekByTime({msSeekedOffset:e});u.logInteraction(t)}),[u,c]),_=(0,$e.useCallback)((e=>{if(n)if("pause"===e){const e=c.playPauseButtonFactory().hitPause({itemToBePaused:n.uri});u.logInteraction(e)}else if("resume"===e){const e=c.playPauseButtonFactory().hitResume({itemToBeResumed:n.uri});u.logInteraction(e)}}),[n,u,c]),b=(0,$e.useCallback)((e=>{const t=c.repeatButtonFactory().hitRepeatEnable(),n=c.repeatButtonFactory().hitRepeatOneEnable(),s=c.repeatButtonFactory().hitRepeatDisable();switch(e){case k.Su.REPEAT_CONTEXT:u.logInteraction(t);break;case k.Su.REPEAT_NONE:u.logInteraction(s);break;case k.Su.REPEAT_TRACK:u.logInteraction(n);break;default:throw(0,j.I)(e)}}),[u,c]),v=(0,$e.useCallback)((()=>{if(!n)return;const e=c.previousButtonFactory().hitSkipToPrevious({itemToBeSkipped:n.uri,positionMs:m,totalContentMs:n.duration.milliseconds||0});u.logInteraction(e)}),[n,u,c,m]),x=(0,$e.useCallback)((()=>{if(!n)return;const e=c.previousButtonFactory().hitSkipToPrevious({itemToBeSkipped:n.uri,positionMs:m,totalContentMs:n.duration.milliseconds||0});u.logInteraction(e)}),[n,u,c,m]),C=(0,$e.useCallback)((e=>{const t=d.volumeBarFactory().hitSetVolume({newVolumePercentage:e});u.logInteraction(t)}),[u,d]),E=(0,$e.useCallback)((e=>{const t=d.volumeBarFactory().dragSetVolume({newVolumePercentage:e});u.logInteraction(t)}),[u,d]),S=(0,$e.useCallback)((e=>{if("muted"===e){const e=d.volumeMuteButtonFactory().hitMutePlayback();u.logInteraction(e)}else if("not_muted"===e){const e=d.volumeMuteButtonFactory().hitUnmutePlayback();u.logInteraction(e)}}),[u,d]),w=(0,$e.useCallback)((()=>{const e=d.fullscreenButtonFactory().hitUiHide();u.logInteraction(e)}),[u,d]);return(0,lt.jsx)(Ri.W,{active:e,focusTrapOptions:{initialFocus:!1},children:(0,lt.jsx)("div",{className:xs()(Ui,{[Fi]:e}),onClick:t,children:(0,lt.jsxs)("div",{className:Bi,"":"fullscreen-mode-controls",children:[(0,lt.jsx)(yi,{isPreview:!1,isFullscreenMode:!0}),(0,lt.jsxs)("div",{className:Gi,children:[(0,lt.jsx)("div",{className:xs()(Vi,Hi),children:n&&(0,lt.jsx)(lr,{item:n,onClick:p})}),(0,lt.jsxs)("div",{className:xs()(Vi,Wi),children:[a&&(0,lt.jsx)(_i.ww,{iconSize:24,onClick:h}),!a&&(0,lt.jsx)(yr,{renderEnabled:()=>(0,lt.jsx)(hr,{size:"medium"}),renderDisabled:()=>(0,lt.jsx)(_i.me,{iconSize:"medium",onClick:g})}),a&&(0,lt.jsx)(_i.yG,{iconSize:"medium",onClick:f}),(0,lt.jsx)(_i.q4,{iconSize:"medium",onClick:v}),(0,lt.jsx)(_i.au,{iconSize:"large",onClick:_}),(0,lt.jsx)(_i.sM,{iconSize:"medium",onClick:x}),a&&(0,lt.jsx)(_i.CR,{iconSize:"medium",onClick:y}),!a&&(0,lt.jsx)(_i.am,{iconSize:"medium",onClick:b})]}),(0,lt.jsxs)("div",{className:xs()(Vi,zi),children:[(0,lt.jsx)(Li,{iconSize:"medium",renderInline:!0,noBackground:!0}),!a&&s&&(0,lt.jsx)(ir,{enabled:i,onClick:r}),(0,lt.jsx)(vi.A,{onVolumeBarClick:C,onVolumeBarDrag:E,onToggleMuteClick:S}),(0,lt.jsx)(qi,{iconSize:"medium",onClick:w})]})]})]})})})},br=Spicetify.GraphQL.Definitions["queryFullscreenMode"]=new G.a("queryFullscreenMode","query","5aa77fcd9a5b65f829d8dee4000703ff1a7ff68e813c60999c0b2dce754240e2",null),vr=()=>{const e=(0,tt.IP)(_e.IPY,{loadingValue:!1});return(0,zs.o)(he.WA)||e};function xr(e){return(0,k.gB)(e)?{uri:e.uri,name:e.name,creatorName:e.artists[0]?.name,coverArtImageUrl:e.images?.[0]?.url,duration:e.duration.milliseconds}:(0,k.sN)(e)?{uri:e.uri,name:e.name,creatorName:e.show.name,coverArtImageUrl:e.images?.[0]?.url,duration:e.duration.milliseconds}:(0,k.Q9)(e)?{uri:e.uri,name:e.name,creatorName:e.book.name,coverArtImageUrl:e.images?.[0]?.url,duration:e.duration.milliseconds}:(0,k.UZ)(e)?{uri:e.uri,name:e.title??"",creatorName:e.advertiser??"",coverArtImageUrl:e.images?.[0]?.url,duration:e.duration.milliseconds}:(0,k.u_)(e)||void 0===e?void 0:(0,j.E)(e)}function Cr(e){const t=e?.context.metadata?.context_description,n=e?.context.uri||void 0,s=e?.positionAsOfTimestamp??void 0,i=e?.timestamp,r=e?.isPaused,a=e?.restrictions.canPause,o=e?.restrictions.canResume;return{contextName:t,contextUri:n,position:s,timestamp:i,isPaused:r,canPause:a,canResume:o}}const Er=e=>{const{request:t}=(0,$e.useContext)(K.Q9),[n,s]=(0,$e.useState)(void 0);return(0,$e.useEffect)((()=>{let n=!0;return e&&async function(e,t){return e(br,{artistUri:t}).then((e=>{if("Artist"===e?.data?.artistUnion.__typename)return e.data.artistUnion.visuals.headerImage?.sources[0]?.url})).catch((()=>{}))}(t,e).then((e=>{n&&s(e)})),()=>{n=!1}}),[e,t]),n};var Sr=n(18648);const wr=$e.lazy((async()=>{const{ArtistNpv:e}=await n.e(8596).then(n.bind(n,7304));return{default:e}})),Ir=$e.memo((function({videoRef:e}){const t="/lyrics"===(0,Gt.IT)().pathname,[n,s]=(0,$e.useState)(t),i=(0,Bn.Q)(),r=(0,ei.w)(),a=(0,zs.o)((e=>e),((e,t)=>(0,Ys.c)(e?.restrictions,t?.restrictions)&&e?.item?.uri===t?.item?.uri&&e?.isPaused===t?.isPaused)),o=a?.item??void 0,l=a?.nextItems??[],c=a?.playbackId??void 0,d=(0,k.gB)(o)?o.artists[0]?.uri:void 0,u=o?.images,m=Er(d);let p=(0,Gs.s)(u?.[0]?.url);(()=>{const e=(0,ze.OY)();(0,$e.useEffect)((()=>{const t=()=>{Ws()||e((0,He.SQ)())};return window.addEventListener("fullscreenchange",t),document.addEventListener("fullscreenchange",t),window.addEventListener("fullscreenChange",t),document.addEventListener("fullscreenChange",t),window.addEventListener("webkitfullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),window.addEventListener("mozfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),()=>{window.removeEventListener("fullscreenchange",t),document.removeEventListener("fullscreenchange",t),window.removeEventListener("fullscreenChange",t),document.removeEventListener("fullscreenChange",t),window.removeEventListener("mozfullscreenchange",t),document.removeEventListener("mozfullscreenchange",t),window.removeEventListener("webkitfullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t)}}),[e]),(0,$e.useEffect)((()=>{const e=e=>{"Escape"===e.key&&Hs()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[e])})();const h=(0,Jn.Mk)(),g=(0,Ms.W)({data:{identifier:"full-screen",uri:o?.uri||""}}),f=(0,Us.RY)({parentAbsoluteLocation:g.getAbsoluteLocation(),data:{identifier:Us.ye.FULLSCREEN}}),{position:y,contextName:_,contextUri:b,isPaused:v,canResume:x,canPause:C,timestamp:E}=Cr(a),{isOverlayVisible:S,showOverlay:w}=(()=>{const[e,t]=(0,$e.useState)(!1),n=(0,$e.useRef)(null),s=(0,Sr.yK)((()=>{null!==n.current&&clearTimeout(n.current),n.current=setTimeout((()=>{t(!1)}),2500),t(!0)}),100,{leading:!0});return(0,$e.useEffect)((()=>()=>{null!==n.current&&clearTimeout(n.current)}),[]),{isOverlayVisible:e,showOverlay:s}})(),I=function(e){const t=xr(e);return(0,k.gB)(e)||(0,k.sN)(e)||(0,k.Q9)(e)||(0,k.UZ)(e)?{...t,duration:e.duration.milliseconds,mediaType:(n=e.mediaType,"video"===n||"mixed"===n?"video":"audio")}:(0,k.u_)(e)||void 0===e?void 0:(0,j.E)(e);var n}(o),A=xr(l.length>0?l[0]:void 0),T=(0,he.WA)(a),N=(0,$e.useCallback)((e=>{if(e.target===e.currentTarget)if(r({type:"click",intent:v?"play":"pause"}),v&&x){const e=f.playPauseButtonFactory().hitResume({itemToBeResumed:o?.uri||""});h.logInteraction(e),i.resume()}else if(!v&&C){const e=f.playPauseButtonFactory().hitPause({itemToBePaused:o?.uri||""});h.logInteraction(e),i.pause()}}),[C,x,v,o?.uri,h,f,r,i]),O=(0,$e.useCallback)((e=>{s(e)}),[s]),{data:P,loading:L}=(0,Fs.w)(I?.uri,u),R=!!P?.hasLyrics,D=P?.hasLyrics?P.providerLyricsId:void 0;p=R?P.colors.background:p;const M=(0,$e.useMemo)((()=>function(e,t,n){if(e&&n&&n.hasLyrics)return{status:t?"loading":"success",content:{provider:n.provider,syncType:n.syncType,lines:n.lyrics.map((e=>({timestamp:Number(e.start),text:e.text})))}}}(n,L,P)),[n,L,P]),U=(0,ts.mg)(),F=(0,$e.useCallback)(((e,t,n)=>U.send((0,Ds._)({lyrics_format:"fullscreen",track_uri:e,provider:t,provider_lyrics_id:D,sync_type:n,playback_id:c}))),[c,D,U]);return(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsxs)("div",{onMouseMove:w,onFocus:w,children:[(0,lt.jsx)("div",{ref:e}),(0,lt.jsx)(Jn.Ud,{spec:g,children:(0,lt.jsx)(wr,{currentTrack:I,position:y??0,timestamp:E??0,nextTrack:A,backgroundColor:p,backgroundImageUrl:m,contextName:_,contextUri:b,playbackIsPaused:v,contextMetadataVisible:!T||S,trackMetadataVisible:!T||S,lyrics:M,onLyricsReport:F,controlsVisible:!1,progressBarVisible:!T||S,CustomProgressBar:void 0,CustomPlaybackControls:(0,lt.jsx)(_r,{isVisible:S,onClick:N,item:o,isLyricsAvailable:R,isLyricsEnabled:n,onLyricsButtonClick:O})})})]})})})),Ar=$e.memo((function({videoRef:e}){const t=(0,$e.useContext)(Ks),n=vr(),{setVideoPlayerUIFlag:s}=(0,Bs.a)(),i=(0,ze.OY)(),r=(0,ze.w1)((e=>e.ui.fullscreenMode.isOpen));return(0,$e.useEffect)((()=>{if(!n)return s(Nt.Z.fullscreen,!1),i((0,He.uE)()),void Hs();const e=Ws();!r&&e&&(s(Nt.Z.fullscreen,!1),i((0,He.uE)()),Hs())}),[s,n,r,i]),(0,lt.jsx)("div",{ref:t,children:n&&r?(0,lt.jsx)(Ir,{videoRef:e}):null})})),Tr="SHOW_BILLBOARD_AD_VIEW",kr="HIDE_BILLBOARD_AD_VIEW",Nr="MINIMIZE_BILLBOARD_AD_VIEW",Or="CLICK_BILLBOARD_AD_VIEW",Pr="IMAGE_LOADED_BILLBOARD_AD_VIEW",jr="ERROR_BILLBOARD_AD_VIEW",Lr="MANAGER_MINIMIZE_BILLBOARD_AD_VIEW",Rr="FINISH_BILLBOARD_AD_VIEW",Dr=()=>({type:Rr}),Mr=()=>({type:kr});var Ur=n(20356);const Fr=({fill:e="#fff",width:t=32,height:n=32})=>(0,lt.jsxs)("svg",{width:t,height:n,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[(0,lt.jsx)("title",{children:c._s.get("close")}),(0,lt.jsx)("path",{d:"M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143",fill:e,fillRule:"evenodd"})]}),Br="I0UigpTrBFkGuoWMpQcq",Gr="jxzPm9gLS9LiyU5veW3H",Vr="bYPDBcU3uU79vGF1pQBg",Hr="pWvyF1E7_RN2INjZfCUd",Wr="E4UTzaVPMhPYyLm1z_eb",zr="ReyA3uE3K7oEz7PTTnAn",Yr="vSC7et_G7LUWnvTARtHq",Kr="xFb8C_XRObIFocIOPuTj";const qr=(0,ze.Ul)((e=>({isOpen:e.ads.billboard?.isOpen??!1,imageLoaded:e.ads.billboard?.imageLoaded??!1,isMinimized:e.ads.billboard?.isMinimized??!1,companionSrc:e.ads.billboard?.data.companionSrc,disclaimer:e.ads.billboard?.data.disclaimer,mediaSrc:e.ads.billboard?.data.mediaSrc,clickUrl:e.ads.billboard?.data.clickUrl,isPreview:e.ads.billboard?.data.isPreview})),(e=>({hide:()=>e({type:Nr}),adClick:()=>e({type:Or}),onImageLoaded:()=>e({type:Pr}),onError:()=>e({type:jr})})))((({companionSrc:e,clickUrl:t,mediaSrc:n,adClick:s,hide:i,isOpen:r,imageLoaded:a,onImageLoaded:o,onError:l,isMinimized:d,isPreview:u})=>{const m=()=>{s(),i()},p=(0,Gt.i6)(),h=(0,zs.o)((e=>e?.context.uri));return(0,$e.useEffect)((()=>{r&&function(e,t,n){const s=new Image;s.addEventListener("load",t),s.addEventListener("error",n),s.src=e}(n,o,l)}),[r,n,o,l,u,h,p]),r&&a?d?(0,lt.jsx)("div",{"":"billboard-minimized",className:zr,children:e&&(0,lt.jsx)("a",{draggable:!1,className:Yr,href:t,onClick:s,children:(0,lt.jsx)("img",{draggable:!1,className:Kr,alt:c._s.get("ad-formats.advertisement"),src:e})})}):(0,lt.jsx)(Ur.c,{isOpen:r,shouldCloseOnEsc:!1,onRequestClose:i,contentLabel:c._s.get("ad-formats.advertisement"),children:(0,lt.jsxs)("div",{id:"view-billboard-ad",className:xs()(Br,{ready:r}),children:[(0,lt.jsx)("a",{draggable:!1,tabIndex:-1,className:Gr,href:t,onClick:m,children:c._s.get("ad-formats.advertisement")}),(0,lt.jsx)("button",{"aria-label":c._s.get("ad-formats.dismissAd"),className:Vr,onClick:i,children:(0,lt.jsx)(Fr,{width:18,height:18,fill:"currentColor"})}),(0,lt.jsx)("a",{draggable:!1,"":"billboard-image-link",className:Hr,href:t,onClick:m,children:(0,lt.jsx)("img",{draggable:!1,className:Wr,alt:c._s.get("ad-formats.advertisement"),src:n})})]})}):null})),Qr="SET_LEADERBOARD_ELEMENT",Xr="NAVIGATION_CHANGE_LEADERBOARD_AD",$r="SET_LEADERBOARD_ENABLED",Jr="SET_LEADERBOARD_DISABLED",Zr=()=>({type:Jr});var ea=n(57492);const ta="main-leaderboardComponent-container",na=()=>{const e=(0,ze.OY)(),t=(0,ze.w1)((e=>e.ads.leaderboard.isEnabled)),n=(0,ze.w1)(ea.iP),s=(0,tt.IP)(_e.qWU),i=(0,Gt.IT)();(0,$e.useEffect)((()=>{e({type:Xr})}),[e,i.pathname]);const r=(0,$e.useCallback)((t=>{null!==t&&e({type:Qr,element:t})}),[e]);return!t||n&&s?null:(0,lt.jsx)("div",{children:(0,lt.jsx)("div",{"":"test-ref-div",className:ta,ref:r})})};var sa=n(76008),ia=n(16e3),ra=n(17148);const aa="L30NtFiBvBcyDh05qn_u",oa=({onMinimizeButtonClick:e})=>(0,lt.jsx)("div",{className:xs()(aa),children:(0,lt.jsx)(Es.g,{"aria-label":c._s.get("ad-formats.dismissAd"),colorSet:"overMedia",iconOnly:Mi._,onClick:e,size:"small"})}),la="kXSXn_Z7IEMg4aBcxMxv",ca="jiQC5HCfeb1xWySe1ohl",da="aR68x7OIyGWzTgdtxZ6f",ua="CjNrWN36pkl9Lp6zxCxZ",ma="s_lztNXw0tC6osoQothn",pa="jjbJ5Q9ZsVfTztsPORcH",ha="qzozxI4yeNGBWgbzmCa2",ga="UyHglighrJl18cZ6Rywg",fa=({advertiser:e,isMinimized:t,onMinimizeButtonClick:n,onVideoTakeoverClick:s,refCallback:i,href:r,isVerticalVideo:a=!1})=>{const o=xs()(la,{[ca]:a}),l=xs()(ua,{[ma]:a}),d=(0,tt.IP)(_e.obX,{loadingValue:!1})?".VTO__modal-slot":".Root__modal-slot";return(0,lt.jsx)(Ur.c,{className:l,animation:{overlay:{base:pa,beforeClose:ga,afterOpen:ha},closeTimeoutMs:300},isOpen:!t,parentSelector:()=>document.querySelector(d),shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:c._s.get("ad-formats.advertisement"),children:(0,lt.jsxs)("div",{className:o,children:[(0,lt.jsx)("a",{"aria-label":c._s.get("ad-formats.video-ad-overlay.cta-button",{advertiser:e}),className:da,"":"new-ads-npv-video-takeover-link",href:r,onClick:s,ref:i,target:"_blank"}),(0,lt.jsx)(oa,{onMinimizeButtonClick:n})]})})};var ya=n(38680),_a=n(93504);const ba="fFoN1cMJLIJo0k_vgNyw",va="Lk23rM5uSl5mgEXroOPH",xa="yJ2Sz652eyijqIrRrwpJ",Ca="ZPVxrOnQOQc_5KDCNgcI",Ea="f14LfcDx_wvogzdXzoq9",Sa="QMMTQfEw3AIHFf4dTRp3",wa="Hj1B5D7WgG4aZkU8meAp",Ia="nPKDEvIoCzySBR24pZiN",Aa="dqP_KBPyAygbxKtY3k3w",Ta=({setOuterContainer:e,npbVideoAdRef:t})=>{const n=(0,ze.OY)(),s=(0,zs.o)((e=>e?.item??void 0),((e,t)=>e?.uri===t?.uri)),i=(0,k.UZ)(s)?s.url??void 0:void 0,r=((0,k.UZ)(s)?s.advertiser:void 0)||"Advertiser",a=(0,ze.w1)((e=>e?.ads?.vto?.isMinimized)),o=(0,k.UZ)(s)&&"portrait"===s.videoOrientation,l=(0,$e.useRef)(),d=(0,Gt.IT)(),u=(0,ia.q)(s),m=(0,tt.IP)(_e.oZO);(0,$e.useEffect)((()=>{l.current?n((0,ya.Oe)()):l.current=!0}),[n,d.pathname]);const[p,h]=(0,$e.useState)(null);return(0,$e.useEffect)((()=>(n((0,ya.Kk)()),()=>{n((0,ya.yO)())})),[n]),(0,$e.useEffect)((()=>{a?setTimeout((()=>{null!==p&&e(t.current)}),200):null!==p&&e(p)}),[e,t,a,p]),u&&m?(0,lt.jsx)(fa,{advertiser:r,href:i?(0,ra.W)(i):void 0,isMinimized:a,isVerticalVideo:o,onVideoTakeoverClick:()=>{n((0,ya.YB)(_a.Og.CLICKED,_a.Gq.VIDEO_TAKEOVER,_a.Ez.VIDEO_PLAYER))},onMinimizeButtonClick:()=>{n((0,ya.yO)()),n((0,ya.YB)(_a.Og.COLLAPSED,_a.Gq.MINIMIZE_BUTTON,_a.Ez.VIDEO_PLAYER))},refCallback:e=>h(e)}):(0,lt.jsx)(Ur.c,{className:wa,animation:{overlay:{base:Sa,beforeClose:Aa,afterOpen:Ia},closeTimeoutMs:300},isOpen:!a,parentSelector:()=>document.querySelector(".Root__modal-slot"),shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:c._s.get("ad-formats.advertisement"),children:(0,lt.jsxs)("div",{className:ba,children:[(0,lt.jsxs)("div",{className:xa,children:[(0,lt.jsx)(Cs.a,{semanticColor:"textBase",variant:"bodySmallBold",className:Ca,children:c._s.get("ad-formats.advertisement")}),(0,lt.jsx)("button",{"aria-label":c._s.get("ad-formats.dismissAd"),className:Ea,onClick:()=>{n((0,ya.yO)()),n((0,ya.YB)(_a.Og.COLLAPSED,_a.Gq.MINIMIZE_BUTTON,_a.Ez.VIDEO_PLAYER))},children:(0,lt.jsx)(sa.K,{semanticColor:"textBase",size:"small"})})]}),(0,lt.jsx)("a",{"":"video-takeover-link",href:i?(0,ra.W)(i):void 0,onClick:()=>{n((0,ya.YB)(_a.Og.CLICKED,_a.Gq.VIDEO_TAKEOVER,_a.Ez.VIDEO_PLAYER))},ref:e=>h(e),className:va})]})})},ka=({setOuterContainer:e,npbVideoAdRef:t})=>(0,ze.w1)((e=>e?.ads?.vto?.isHidden))?null:(0,lt.jsx)(Ta,{setOuterContainer:e,npbVideoAdRef:t});var Na=n(4957);var Oa=n(33708);var Pa=n(58840);const ja=e=>{const t=(()=>{const[e]=(0,$e.useState)((()=>{const e=document.createElement("div");return e.classList.add("VideoPlayer__container"),e}));return e})();if((0,$e.useLayoutEffect)((()=>{null!==e&&null!==t&&e.insertBefore(t,e.firstChild)}),[e,t]),t&&t.firstChild instanceof HTMLVideoElement){const e=t.firstChild;return`${e.videoWidth}/${e.videoHeight}`}return"16/9"};var La=n(26072),Ra=n(2832);function Da(){const e=(0,ze.OY)(),t=(0,Zt.sH)();return{enterPipVideoMode:(0,$e.useCallback)((()=>{e((0,Ra.cz)(Nt.q.pip))}),[e]),leavePipVideoMode:(0,$e.useCallback)((()=>{t===La.s.NowPlayingView&&e((0,Ra.cz)(Nt.q.npv))}),[e,t])}}const Ma=D.E.PICTURE_IN_PICTURE_CHANGED;function Ua(e,t){(0,$e.useLayoutEffect)((()=>{t.current&&e(t.current)}),[t,e])}var Fa=n(66112),Ba=n(74356);function Ga(){const[e,t]=(0,$e.useState)(!1),n=(0,$e.useRef)(null),s=(0,Sr.yK)((()=>{n.current&&clearTimeout(n.current),n.current=setTimeout((()=>{t(!1)}),1500),t(!0)}),100,{maxWait:100,leading:!0}),i=(0,$e.useCallback)((e=>{t(e),s.cancel()}),[s]);return(0,$e.useEffect)((()=>()=>{n.current&&clearTimeout(n.current)}),[]),{isControlsVisible:e,setIsControlsVisible:i,handleKeepViewVisible:s}}var Va=n(7704),Ha=n(15008),Wa=n(36072),za=n(61424),Ya=n(17500),Ka=n(28892),qa=n(48040),Qa=n(16880);const Xa="/lyrics";function $a({referrer:e,onChange:t}){const n=(0,Gt.IT)(),s=(0,Gt.i6)(),i=n.pathname.startsWith(Xa),{setVideoPlayerUIFlag:r}=(0,Bs.a)(),a=()=>{i||(r(Nt.Z.cinema,!1),s(Xa,{state:{referrer:e}}),t?.(Xa))},o=()=>{i&&(s(-1),t?.(null))};return{isActive:i,showLyrics:a,hideLyrics:o,toggleLyrics:()=>{i?o():a()}}}const Ja="MBzbwWcyfbqSftBtnn3g",Za=({noBackground:e,iconSize:t="small"})=>{const{setVideoPlayerUIFlag:n,videoPlayerUIFlags:s,videoPlayerMode:i}=(0,Bs.a)(),r=i===Nt.q.cinema,{uri:a}=(0,wi.c)(),{hideLyrics:o}=$a({referrer:"cinema-mode-toggle"}),l=(0,tt.IP)(_e.WSC),{spec:d,logger:u}=(0,Jn.gp)(Si.O,{data:{uri:a??"",identifier:Nt.q.cinema}});if(!l||i===Nt.q.fullscreen)return null;return(0,lt.jsx)("div",{className:xs()({[Ja]:r}),children:(0,lt.jsx)(Ci.u,{noBackground:e,active:r,label:r?c._s.get("video-player.default-view"):c._s.get("video-player.cinema-mode"),onClick:()=>{r?u.logInteraction(d.cinemaModeButtonFactory().hitUiHide()):u.logInteraction(d.cinemaModeButtonFactory().hitUiReveal()),o(),n(Nt.Z.cinema,!s.cinema)},children:r?(0,lt.jsx)(qa.W,{size:t}):(0,lt.jsx)(Qa.s,{size:t})})})};var eo=n(53236),to=n(23616),no=n(24616);const so="fuONPgUcYO2bf15HunlX",io=({noBackground:e,iconSize:t="small",uri:n})=>{const s=(0,ze.w1)(no.U),i=s===Nt.q.pip,{enterPipVideoMode:r,leavePipVideoMode:a}=Da(),{item:o}=(0,to.z)()??{},{isActive:l}=(0,Ya.e)({item:o}),d=(0,zs.o)(he.WA),{spec:u,logger:m}=(0,Jn.gp)(Si.O,{data:{uri:n,identifier:s}}),p=(0,eo.F)({parentAbsoluteLocation:u.pipButtonContainerFactory().getAbsoluteLocation()});if(!d)return null;let h=c._s.get("video-player.default-view");return i||(h=l?c._s.get("miniplayer.close"):c._s.get("miniplayer.open-in")),(0,lt.jsx)("div",{className:xs()({[so]:i}),children:(0,lt.jsx)(Ci.u,{noBackground:e,active:i,label:h,onClick:()=>{Ws()&&Hs(),i?(a(),m.logInteraction(p.pipButtonFactory({uri:n}).hitUiHide())):(r(),p.pipButtonFactory({uri:n}).hitUiReveal())},children:(0,lt.jsx)(Va.e,{size:t})})})},ro="aHe1QDDI5hmYWAKf4MoR",ao="DtWKCk0YYDlZT11U1niL",oo="RTSxo7zS2ozOeg4gnC2c",lo="ZcIaDrsIojjWZ_Xf_6iN",co="pLL2Ok4QckLG8GAWriCB",uo=[{transform:"scale(1)",opacity:0},{transform:"scale(1.3)",opacity:1},{transform:"scale(1.6)",opacity:0}],mo=[{transform:"scale(1)",opacity:1},{transform:"scale(1)",opacity:1}],po={duration:500,easing:"ease-out"},ho=function({visible:e,className:t,darkOverlayOnHover:n=!1,animatePlayPauseButtonOnClick:s=!0}){const{videoPlayerMode:i}=(0,Bs.a)(),r=(0,ze.OY)(),a=vr(),o=vn(),l=(0,$e.useContext)(Ks),d=i===Nt.q.cinema,u=(0,Ka.C)(),m=(0,ze.w1)((e=>e.platform.isDesktop)),{item:p}=(0,to.z)()??{},h=p?.uri??"",{isActive:g,onClick:f,showButton:y}=(0,Ya.e)({item:p}),_=o.getCapabilities().hasPipSupport,b=(0,Bn.Q)(),v=(0,zs.o)((e=>e),((e,t)=>(0,Ys.c)(e?.restrictions,t?.restrictions)&&e?.item?.uri===t?.item?.uri&&e?.isPaused===t?.isPaused)),{isPaused:x,canResume:C,canPause:E}=Cr(v),{spec:S,logger:w,UBIFragment:I}=(0,Jn.gp)(Si.O,{data:{uri:h,identifier:Nt.q.npv}}),A=(0,$e.useRef)(null),T=(0,$e.useRef)(null),k=(0,$e.useCallback)((()=>{let e=null;x&&C?(b.resume(),w.logInteraction(S.playButtonFactory().hitPlay({itemToBePlayed:h})),e=A):!x&&E&&(b.pause(),w.logInteraction(S.playButtonFactory().hitPause({itemToBePaused:h})),e=T),s&&e?.current?.animate&&e.current.animate(u?mo:uo,po)}),[E,C,x,w,b,S,h,s,u]),N=(0,$e.useMemo)((()=>d?null:y?(0,lt.jsx)(Ci.u,{label:g?c._s.get("miniplayer.close"):c._s.get("miniplayer.open-in"),onClick:f,active:g,children:(0,lt.jsx)(Va.e,{size:"small"})}):m&&_?(0,lt.jsx)(io,{uri:h}):null),[g,d,m,_,f,y,h]);return(0,lt.jsxs)(I,{spec:S,children:[(0,lt.jsxs)("div",{className:xs()(ro,t,{[co]:e}),children:[(0,lt.jsx)(Li,{renderInline:!0}),(0,lt.jsx)(Za,{}),N,a&&(0,lt.jsx)(Ci.u,{label:c._s.get("npv.full-screen"),onClick:()=>{l?.current&&(Vs(l.current),r((0,He.yc)()))},children:(0,lt.jsx)(Ha.G,{size:"small"})})]}),n&&(0,lt.jsx)("div",{tabIndex:-1,className:xs()(ao,{[co]:e})}),(0,lt.jsxs)("div",{className:oo,tabIndex:-1,onClick:k,onKeyDown:()=>{},"aria-label":x?c._s.get("play"):c._s.get("pause"),role:"button",children:[(0,lt.jsx)("div",{className:lo,ref:A,children:(0,lt.jsx)(Wa.W,{size:"xlarge",width:48})}),(0,lt.jsx)("div",{className:lo,ref:T,children:(0,lt.jsx)(za.E,{size:"xlarge",width:48})})]})]})},go="kJKEEG391Pf_PLzwG2Vm",fo="gVnOoWHXwLnTNK2RRIKg",yo=({cinemaModeRef:e,setVideoContainer:t})=>{const n=(0,$e.useRef)(null),{nowPlayingBarRef:s}=(0,Ba.k5)(),{videoPlayerUIFlags:i,setVideoPlayerUIFlag:r}=(0,Oa.a)();Ua(t,n);const{isControlsVisible:a,handleKeepViewVisible:o}=Ga();return(0,$e.useEffect)((()=>{const e=e=>{"Escape"===e.key&&r(Nt.Z.cinema,!1)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[r,i.cinema]),e.current?s.current?(0,Fa.createPortal)((0,lt.jsxs)("div",{ref:n,className:go,onMouseMove:o,onFocus:o,"":"video-player-cinema",children:[(0,lt.jsx)(Ri.W,{containerElements:[e.current,s.current],active:!0,focusTrapOptions:{allowOutsideClick:!0}}),(0,lt.jsx)(ho,{visible:a,className:fo})]}),e.current):(console.error("No ref found for nowPlayingBar!"),null):(console.error("No container found for cinema video!"),null)};var _o=n(83728);const bo=({setVideoContainer:e})=>{const t=(0,$e.useRef)(null);Ua(e,t);const n=window.documentPictureInPicture?.window,s=n?.document.getElementById("document-pip-main-container"),i=vn();return(0,$e.useEffect)((()=>(n&&i.setWindow(n),()=>{i.setWindow(window)})),[n,i]),s?(0,Fa.createPortal)((0,lt.jsx)("div",{ref:t,"":"video-player-document-pip",className:_o.c.videoPlayerContainer}),s):(0,lt.jsx)(lt.Fragment,{})},vo=$e.memo((function({setVideoContainer:e,fullscreenModeRef:t}){const n=(0,$e.useRef)(null);return Ua(e,n),t.current?(0,Fa.createPortal)((0,lt.jsx)("div",{"":"video-player-fullscreen",className:xs()("VideoFullscreenMode"),children:(0,lt.jsx)("div",{className:"VideoFullscreenMode__video-container",ref:n})}),t.current):(console.error("No container found for fullscreen video!"),null)}));var xo=n(81040);const Co="_2r290M0vbnbQGfhLbvq",Eo=({setVideoContainer:e})=>{const t=(0,$e.useRef)(null),n=(0,xo.Iz)();Ua(e,t);const s=(0,$e.useRef)(!0);(0,$e.useEffect)((()=>(s.current=!0,()=>{s.current=!1})));const i=document.getElementById("VideoPlayerNpb_ReactPortal");return null===i?null:(0,Fa.createPortal)((0,lt.jsx)("div",{ref:t,hidden:!1,className:Co,style:{position:"relative"},onMouseDown:e=>{t.current&&n.current&&(e.stopPropagation(),e.preventDefault())},"":"video-player-npb"}),i)};var So=n(1552),wo=n(10820);const Io="H2mo30Z5kNiGZbZ9U2Nu",Ao="ZOXaRqMrEfQv7u8LG7IQ",To="TbZ7pNOfpFK2FmnFuQcW",ko="BRt_JFU0qTnWIGCaWWJY",No=({isVerticalVideo:e,visible:t})=>{const n=(0,ze.OY)(),s=xs()(To,{[ko]:t}),i=xs()(Io,{[Ao]:e});return(0,lt.jsx)("div",{className:i,children:(0,lt.jsx)("div",{className:s,children:(0,lt.jsx)(Es.g,{"aria-label":c._s.get("npv.full-screen"),colorSet:"overMedia",iconOnly:Ha.G,onClick:e=>{e.stopPropagation(),e.preventDefault(),n((0,ya.Kk)()),n((0,ya.YB)(_a.Og.EXPANDED))},size:"small"})})})},Oo="ouiL5cH1WduxtprQ0Iig",Po=({isControlsVisible:e,item:t})=>{const n=(0,ze.OY)(),s="portrait"===t.videoOrientation,i=(0,k.UZ)(t)?t.url??void 0:void 0;return i?(0,lt.jsx)("a",{style:{zIndex:2},href:i,onClick:()=>{n((0,wo.vt)(So.W.VIDEO_PLAYER,So.K.AD_NPV))},"":"video-player-ad-wrapper",children:(0,lt.jsx)(No,{visible:e,isVerticalVideo:s})}):(0,lt.jsx)(No,{visible:e,isVerticalVideo:s})},jo=({setVideoContainer:e,isPlayingAd:t=!1})=>{const n=(0,$e.useRef)(null),s=(0,xo.Iz)(),i=(0,zs.o)((e=>e?.item??void 0),((e,t)=>e?.uri===t?.uri));Ua(e,n);const r=(0,$e.useRef)(!0);(0,$e.useEffect)((()=>(r.current=!0,()=>{r.current=!1})));const{isControlsVisible:a,setIsControlsVisible:o,handleKeepViewVisible:l}=Ga(),c=document.getElementById("VideoPlayerNpv_ReactPortal");return null===c?null:(0,Fa.createPortal)((0,lt.jsx)("div",{ref:n,hidden:!1,className:Oo,style:{position:"relative"},onMouseLeave:()=>{o(!1)},onMouseDown:e=>{n.current&&s.current&&(e.stopPropagation(),e.preventDefault())},onMouseMove:l,onFocus:l,"":"video-player-npv",children:t?(0,lt.jsx)(Po,{isControlsVisible:a,item:i}):(0,lt.jsx)(ho,{visible:a,darkOverlayOnHover:!0})}),c)},Lo=({setVideoContainer:e,videoContainerRef:t})=>(Ua(e,t),(0,lt.jsx)("div",{ref:t,style:{display:"none"}})),Ro=({npbVideoAdRef:e,cinemaModeRef:t,fullscreenModeRef:n})=>{const s=(0,ze.OY)(),{videoPlayerMode:i}=(0,Oa.a)(),r=(0,$e.useRef)(null),a=(0,$e.useRef)(),o=(0,$e.useRef)(window.innerWidth),[l,c]=(0,$e.useState)(window.innerWidth),[d,u]=(0,$e.useState)(null),m=(0,ze.w1)((e=>e.platform.isDesktop)),{isPlayingVideo:p,isPlayingAd:h,contextUri:g,playbackId:f}=(0,zs.o)((e=>{const t=e?.item??void 0;return{isPlayingVideo:(0,he.WA)(e),isPlayingAd:(0,k.UZ)(t),contextUri:e?.context.uri,playbackId:e?.playbackId}})),{spec:y,logger:_}=(0,Jn.gp)(Si.O,{data:{uri:g??"",identifier:i}}),b=(0,Sr.yK)((()=>{const e=n.current?.clientWidth||t.current?.clientWidth||r.current?.clientWidth;e&&e!==o.current&&(_.logInteraction(y.dragUiResize({startSizePx:o.current,endSizePx:e})),c(e),o.current=e)}),700);(0,Pa.u)(b);const v=(0,ze.w1)((e=>e?.ads?.vto?.isMinimized));if(ja(d),(()=>{const{isPlayingVideo:e,contextUri:t}=(0,zs.o)((e=>({isPlayingVideo:(0,he.WA)(e),contextUri:e?.context.uri}))),{setVideoPlayerUIFlag:n}=(0,Bs.a)(),{connectionStatus:s}=(0,Na.c)(),i=s===B.UD.CONNECTED||s===B.UD.CONNECTING;(0,$e.useEffect)((()=>{const t=e&&!i;n(Nt.Z.videoAvailable,t)}),[e,i,n,t])})(),(()=>{const e=(0,zs.o)(he.WA),{setVideoPlayerUIFlag:t}=(0,Bs.a)();(0,$e.useEffect)((()=>{const e=()=>{t(Nt.Z.fullscreen,Ws())};return window.addEventListener("fullscreenchange",e),document.addEventListener("fullscreenchange",e),window.addEventListener("fullscreenChange",e),document.addEventListener("fullscreenChange",e),window.addEventListener("webkitfullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),window.addEventListener("mozfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),()=>{window.removeEventListener("fullscreenchange",e),document.removeEventListener("fullscreenchange",e),window.removeEventListener("fullscreenChange",e),document.removeEventListener("fullscreenChange",e),window.removeEventListener("mozfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),window.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e)}}),[e,t])})(),(()=>{const e=vn(),{videoPlayerMode:t}=(0,Oa.a)(),{leavePipVideoMode:n}=Da(),s=t===Nt.q.pip;(0,$e.useEffect)((()=>{const t=e.getEvents(),i=({data:e})=>{!e&&s&&n()};return t.addListener(Ma,i),()=>{t.removeListener(Ma,i)}}),[e,s,n]),(0,$e.useEffect)((()=>{const t=document.pictureInPictureElement;s&&!t&&e.setPip?.(!0),!s&&t&&e.setPip?.(!1)}),[e,s])})(),function(){const e=vn(),{videoPlayerMode:t}=(0,Bs.a)(),[n,s]=(0,$e.useState)(!document.hidden),[i,r]=(0,$e.useState)(!1);(0,$e.useEffect)((()=>{const e="visibilitychange",t=()=>{s(!document.hidden)};return document.addEventListener(e,t),()=>{document.removeEventListener(e,t)}}),[e,s]),(0,$e.useEffect)((()=>{const s=!(t===Nt.q.pip||t===Nt.q.documentPip||t!==Nt.q.none&&n),a=e.getCapabilities().hasMinimizeBitrateSupport&&s;i!==a&&(e.setMinimizeBitrate(a),r(a))}),[e,t,n,i,r])}(),p&&h&&a.current!==f&&(s((0,ya.Kk)()),a.current=f),m&&p&&h&&i!==Nt.q.pip&&!v)return(0,lt.jsx)(ka,{npbVideoAdRef:e,setOuterContainer:u});switch(i){case Nt.q.fullscreen:return(0,lt.jsx)(Ke.a,{children:(0,lt.jsx)("div",{ref:r,children:(0,lt.jsx)(vo,{fullscreenModeRef:n,setVideoContainer:u})})});case Nt.q.cinema:return(0,lt.jsx)(Ke.a,{children:(0,lt.jsx)("div",{ref:r,children:(0,lt.jsx)(yo,{cinemaModeRef:t,setVideoContainer:u})})});case Nt.q.npv:return(0,lt.jsx)(Ke.a,{children:(0,lt.jsx)("div",{ref:r,children:(0,lt.jsx)(jo,{isPlayingAd:h,setVideoContainer:u})})});case Nt.q.documentPip:return(0,lt.jsx)(Ke.a,{children:(0,lt.jsx)("div",{ref:r,children:(0,lt.jsx)(bo,{setVideoContainer:u})})});case Nt.q.nowPlayingBar:return(0,lt.jsx)(Ke.a,{children:(0,lt.jsx)("div",{ref:r,children:(0,lt.jsx)(Eo,{setVideoContainer:u})})});case Nt.q.none:default:return(0,lt.jsx)("div",{ref:r,children:(0,lt.jsx)(Lo,{videoContainerRef:r,setVideoContainer:u})})}};var Do=n(50608);const Mo=({children:e})=>(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(Do.W,{children:e})});n(39168);var Uo=n(86096),Fo=n(48536);const Bo="WuHfzknUICVJtLZJU_30",Go="FL2TkYu6_lxeXmfUTwx4",Vo="Q63kq6vgG3LPQAi93zXP",Ho="BLcZj2U0cGry7c3uk5qQ",Wo="wCeOtCjqvDK0rflTnpuK",zo="dz7vC5O_M9gcvqxCqOnc",Yo="zqGag8YfKcWwtZEqvghN";class Ko extends $e.PureComponent{static defaultProps={render:null};componentDidMount(){document.addEventListener("keydown",this.handleEscape)}componentWillUnmount(){document.removeEventListener("keydown",this.handleEscape)}handleEscape=({key:e})=>{const{onClose:t}=this.props;"Escape"===e&&t()};handleClick=e=>{e.preventDefault(),window.location.reload(!0)};createMarkupForMessage=e=>({__html:e});render(){const{allowHTML:e,isError:t,message:n,onClose:s,render:i}=this.props,r=i?i():n;return(0,lt.jsx)(Uo.c,{children:(null!==n||null!==i)&&(0,lt.jsx)(Fo.c,{classNames:"feedbackBar-animation",timeout:{enter:250,exit:200},children:(0,lt.jsxs)("div",{className:xs()(Bo,{[Go]:this.props.isError,[Ho]:this.props.isNotice,[Vo]:this.props.isNotSupported,[Wo]:this.props.isCookie}),"aria-live":"polite",children:[(0,lt.jsxs)("div",{className:zo,children:[e?(0,lt.jsx)("span",{dangerouslySetInnerHTML:this.createMarkupForMessage(n)}):r," ",t&&(0,lt.jsx)("a",{draggable:!1,className:Yo,"aria-label":c._s.get("error.reload"),onClick:this.handleClick,children:c._s.get("error.reload")})]}),(0,lt.jsx)(Xi.u,{size:"small",iconOnly:sa.K,onClick:s,"aria-label":"Close",semanticColor:"textBase"})]})})})}}const qo=Ko;var Qo=n(62576),Xo=n(99640);const $o="dz_h98rH9nZCwfPdnKgr",Jo="rAfV2jB_HMM9Xtr0Rqvn",Zo="XkXPpDRWozMF6G8_GlLQ",el=$e.memo((function(e){const{handleClick:t}=e,n=(0,ze.w1)(Xo.yC),s=c._s.get("pta.bottom-bar.title"),i=c._s.get("fta.bottom-bar.subtitle"),r=c._s.get("fta.sign-up-free");return(0,lt.jsxs)("div",{className:$o,onClick:t,"":"signup-bar",children:[(0,lt.jsxs)("div",{className:Jo,children:[(0,lt.jsx)(Cs.a,{as:"p",variant:"bodySmallBold",children:s}),(0,lt.jsx)(Cs.a,{as:"p",variant:"bodyMedium",dangerouslySetInnerHTML:{__html:n?c._s.get("fta.bottom-bar.subtitle-two"):i}})]}),(0,lt.jsx)(Es.g,{colorSet:"invertedLight",onClick:t,className:Zo,children:n?c._s.get("mwp.d2p.modal.cta"):r})]})}));var tl=n(37324),nl=n(51760),sl=n(31800),il=n(23296);var rl=n(84388),al=n(38412);const ol="UWuPbrFbZar0lIcBFH31",ll="wFkvSGFYuw6rhfwWWYWC",cl=()=>{const{currentSession:e}=(0,nl.O)(),t=(0,ze.w1)((({session:e})=>e.user?.id)),{logJamNameClick:n}=(()=>{const{spec:e,logger:t}=(0,Jn.gp)(il.K,{});return{logJamNameClick:(0,$e.useCallback)((()=>{const n=e.jamNameFactory().hitUiNavigate({destination:(0,O.C8)().toURI()});t.logInteraction(n)}),[t,e])}})(),{openQueue:s}=(0,sl.G)(),i=(0,$e.useCallback)((()=>{n(),s()}),[n,s]);if(!e?.active)return null;const r=e.sessionMembers.find((({id:t})=>t===e.sessionOwnerId)),a=(0,al.m)(e,t,{userFirst:!0});return(0,lt.jsxs)("div",{className:ol,children:[(0,lt.jsx)(rl.W,{users:a,dropShadow:!0}),(0,lt.jsx)(tl.c,{as:"span",className:ll,onClick:i,semanticColor:"textBase",standalone:!0,children:(0,lt.jsx)(Cs.a,{variant:"bodySmallBold",children:c._s.get("web-player.social-connect.session-info.title",{host:r?.displayName??""})})})]})};var dl=n(2748),ul=n(16324),ml=n(23568);const pl=(0,$e.createContext)(null);var hl=n(51776);const gl=()=>{const e=(0,hl.YV)(Zt.s7.DEVICE_PICKER_BUTTON_CLICK),{panelSend:t,isActive:n}=(0,Zt.au)(La.s.DevicePicker),s=(0,$e.useCallback)((e=>t({type:Zt.s7.DEVICE_PICKER_BUTTON_CLICK,...!n&&{interactionId:e}})),[t,n]);return(0,$e.useMemo)((()=>({togglePanel:s,isActive:n,canTogglePanel:e})),[s,n,e])},fl=()=>{const e=(0,$e.useContext)(pl),{togglePanel:t,isActive:n}=gl();if((0,tt.IP)(_e.iIu))return{isPickerOpen:n,triggerRef:{current:null},toggleDevicePicker(e){t(e)}};if(null===e)throw new Error("Trying to use 'DevicePickerTriggerContext' without 'DevicePickerTriggerContextProvider'!");return e};var yl=n(29464);function _l(e){return window.cast&&e!==window.cast.framework.CastState.NO_DEVICES_AVAILABLE}var bl=n(55748);function vl(e,t=((e,t)=>e===t)){const n=(0,In.m)(),[s,i]=(0,$e.useState)((()=>{const t=n.getState()??Na.G;return e(t)}));return(0,bl.I)(F.U.UPDATE,(n=>{const r=n.data??Na.G,a=e(r);t(s,a)||i(a)})),s}const xl=({legacyCastPlaceholder:e}={legacyCastPlaceholder:!1})=>{const t=(0,ts.mg)(),n=(0,ze.w1)((e=>e.playback?.castState??window.cast?.framework.CastState.NO_DEVICES_AVAILABLE)),s=vl((e=>e.devices));return(0,$e.useCallback)((i=>{s.forEach((e=>{t.send((0,yl.O)({discovered_device_id:e.connectStateId,discovered_device_name:e.name,discovered_device_type:e.type,discovered_device_brand_display_name:e.brandDisplayName??null,discovered_device_model:e.modelDisplayName??null,discovered_device_license:e.license??null,discovered_device_state:e.currentState??null,discovered_device_is_active:e.isActive,discovered_device_disabled:e.isDisabled,discovered_device_is_zeroconf:e.isZeroconf??null,discovered_device_is_local:e.isLocalNetwork??null,discovered_device_is_webapp:e.isWebApp??null,discovered_device_supports_hifi:e.hifiSupport.deviceSupported,interaction_id:i,is_logging_device:e.isLocal}))})),(e?function(e){return e===window.cast?.framework.CastState.NOT_CONNECTED}(n):_l(n))&&t.send((0,yl.O)({discovered_device_name:"Google Cast Devices Available",discovered_device_brand_display_name:"Google",interaction_id:i}))}),[s,n,t,e])},Cl=({children:e})=>{const[t,n]=(0,$e.useState)(!1),[s,i]=(0,$e.useState)(""),r=(0,$e.useRef)(null),a=(0,In.m)(),o=xl(),l=(0,ze.OY)(),c=(0,$e.useCallback)((e=>{t?(o(s),i(""),n(!1),l((0,He.SS)())):(e&&i(e),a.getCapabilities().supportsLocalDiscovery&&a.discoverDevices(),n(!0),l((0,He.Ub)()))}),[t,o,l,s,a]),d=(0,$e.useMemo)((()=>({triggerRef:r,toggleDevicePicker:c,isPickerOpen:t})),[c,t]);return(0,lt.jsx)(pl.Provider,{value:d,children:e})};var El=n(57472);const Sl="gqYYMz8DkhaT3e44LcHQ",wl="VX33mI2V_jRA7hRBI9_0",Il=({remoteDevice:e,connectionStatus:t,omitConnectionStateText:n=!1})=>{const{spec:s,logger:i}=(0,Jn.gp)(ul.v,{}),{triggerRef:r,toggleDevicePicker:a,isPickerOpen:o}=fl(),l=()=>{const e=s.activeDeviceButtonFactory(),{interactionId:t}=i.logInteraction(o?e.hitUiHide():e.hitUiReveal());a(t)},{type:d,name:u}=e,m=(0,El.C8)(d,t),p=t===B.UD.CONNECTED?c._s.get("web-player.connect.bar.connected-state",{device_name:u}):c._s.get("web-player.connect.bar.connecting-state",{device_name:u});return(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(m,{size:"small",className:wl,role:"presentation",semanticColor:"essentialBase"}),(0,lt.jsx)(ml.Q,{property:_e.AXs,renderOldExperience:()=>(0,lt.jsx)(Cs.a,{as:"div",variant:"bodySmall","aria-live":"polite",semanticColor:"textBase",children:p}),renderNewExperience:()=>(0,lt.jsx)(tl.c,{component:"button",onClick:l,ref:r,className:Sl,children:(0,lt.jsx)(Cs.a,{variant:"bodySmallBold","aria-live":"polite",semanticColor:"textBase",children:n&&t===B.UD.CONNECTED?u:p})})})]})},Al="nQSM_BrSHJ4Cp3XSuLOF",Tl=()=>(0,lt.jsxs)("svg",{width:"1",height:"16",viewBox:"0 0 1 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"separator",className:Al,children:[(0,lt.jsx)("g",{id:"separator",clipPath:"url(#clip0_491_88335)",children:(0,lt.jsx)("rect",{id:"Rectangle 111112858",width:"1",height:"16",rx:"0.5",fill:"var(--essential-base)"})}),(0,lt.jsx)("defs",{children:(0,lt.jsx)("clipPath",{id:"clip0_491_88335",children:(0,lt.jsx)("rect",{width:"1",height:"16",fill:"white"})})})]}),kl="main-connectBar-connectBar",Nl="n2JI6OkSXCc_qBtEKdIi",Ol="main-connectBar-connected",Pl="main-connectBar-connecting",jl=function(){const{isPlayingRemotely:e,connectionStatus:t,remoteDevice:n}=(0,dl.w)(),s=(0,tt.IP)(_e.AXs),{currentSession:i}=(0,nl.O)(),r=Boolean(i?.active),a=e&&n,o=s&&r;if(!a&&!o)return null;const l=t===B.UD.CONNECTED||o,c=t===B.UD.CONNECTING&&!o;return(0,lt.jsxs)("div",{className:xs()(kl,{"encore-bright-accent-set":l,[Ol]:l,[Nl]:!s,[Pl]:c}),children:[o&&(0,lt.jsx)(cl,{}),o&&a&&(0,lt.jsx)(Tl,{}),a&&(0,lt.jsx)(Il,{connectionStatus:t,remoteDevice:n,omitConnectionStateText:r})]})},Ll=()=>(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(jl,{})});var Rl=n(68964),Dl=n(11920),Ml=n(22480);const Ul=({className:e="",disabledClassName:t="",onClick:n})=>{const s=vr(),i=(0,$e.useContext)(Ks),r=(0,zs.o)((e=>e?.hasContext??!1)),a=(0,ze.OY)(),o=!r,l=(0,$e.useCallback)((async()=>{i?.current&&(n?.(!0),a((0,He.yc)()),Vs(i.current))}),[a,i,n]),d=xs()(e,{[t]:o});return s?(0,lt.jsx)(tr,{onToggle:l,className:d,icon:Ha.G,label:c._s.get("npv.full-screen"),disabled:o,testId:"fullscreen-mode-button"}):null},Fl=(0,$e.memo)(Ul);var Bl=n(74416),Gl=n(40188),Vl=n(75128),Hl=n(73219);const Wl=Zt.s7.NPV_BUTTON_CLICK,zl=({onClick:e})=>{const{isActive:t,panelSend:n}=(0,Zt.au)(La.s.NowPlayingView),{mode:s,setMode:i}=(0,Vl.O)(),{item:r}=(0,zs.o)((e=>({item:e?.item})),((e,t)=>e.item?.uri===t.item?.uri)),a=(0,hl.YV)(Wl),o=!r||!a;return(0,lt.jsx)(Hl.mY,{children:(0,lt.jsx)(tr,{isActive:t,disabled:o,onToggle:()=>{e?.(!t),n(Wl),s===Gl.ch.cinema&&i(Gl.ch.npv)},icon:Bl.g,label:c._s.get("web-player.now-playing-view.label"),testId:"control-button-npv"})})};var Yl=n(72888);var Kl=n(53412);const ql="ZMXGDTbwxKJhbmEDZlYy",Ql=$e.memo((function(e){const{onClick:t}=e,n=(0,Gt.IT)(),s=(0,zs.o)((e=>e?.item?.uri)),i="/lyrics"===n.pathname;return(0,Kl.o)(s).hasLyrics||i?(0,lt.jsx)(tr,{className:xs()(ql,e.className),isActive:i,onToggle:t,label:c._s.get("web-player.lyrics.title"),testId:"lyrics-button",icon:Qi.Q}):null})),Xl=({onClick:e,className:t})=>{const{isAnonymous:n}=(0,ze.w1)(Rl.cx),{toggleLyrics:s}=$a({onChange:e,referrer:"now_playing_bar"}),i=(0,zs.o)((e=>!!e?.item?.metadata?.["segment.index"]));return n||i?null:(0,lt.jsx)(Ql,{onClick:s,className:t})};var $l=n(83820),Jl=n(3844),Zl=n(53044),ec=n(10560),tc=n(62528),nc=n(61540);const sc=({uri:e,to:t,children:n,onDrop:s,onNavigate:i,className:r})=>{const[a,o]=(0,$e.useState)(!1),l=(0,$e.useRef)(null),c=(0,Gt.i6)(),d=(0,ze.OY)(),u=(0,Jl.u)(),m=(0,Zl.Y)(),p=(0,Bn.Q)(),h=function(e){const t=(0,O.nX)(e),n=(0,ze.w1)(Rl.Yf);switch(t?.type){case O.cH.PLAYLIST:case O.cH.PLAYLIST_V2:{let e;if((0,O.AF)(t)&&(e=t.username),n&&e===n)return[tc.cp[O.cH.TRACK],tc.cp[O.cH.LOCAL],tc.cp[O.cH.ALBUM]];break}case O.cH.COLLECTION:return[tc.cp[O.cH.TRACK],tc.cp[O.cH.ALBUM],tc.cp[O.cH.ARTIST],tc.cp[O.cH.PLAYLIST],tc.cp[O.cH.PLAYLIST_V2],tc.cp[O.cH.SHOW]];case O.cH.QUEUE:return[tc.cp[O.cH.TRACK],tc.cp[O.cH.LOCAL],tc.cp[O.cH.EPISODE]];default:return[]}return[]}(e),g=!!h.length;return(0,$e.useEffect)((()=>(a?l.current=window.setTimeout((()=>{(0,O._Z)(e)||(i?.(),c(t||(0,O.nX)(e).toURLPath(!0)))}),1e3):!a&&l.current&&clearTimeout(l.current),()=>{l.current&&clearTimeout(l.current)})),[a,e,t,i,c]),g?(0,lt.jsx)(ec.c,{types:h,onDrop:t=>{const n=(0,O.nX)(e),i=Array.from(t.dataTransfer.types).find((e=>h.includes(e))),r=i&&t.dataTransfer.getData(i),a=r&&r.split("\n")[0],o=(0,O.nX)(a);if(o&&n)switch(s?.(o.toURI()),n.type){case O.cH.PLAYLIST:case O.cH.PLAYLIST_V2:d((0,nc.gZ)(e,[o.toURI()]));break;case O.cH.COLLECTION:(0,O.MJ)(o)||(0,O.eg)(o)||(0,O._Z)(o)?u.add({uris:[o.toURI()]}):(0,O.mS)(o)?m.add([o.toURI()],{before:"start"}):(0,O.Gi)(o)&&u.add({uris:[o.toURI()]});break;case O.cH.QUEUE:p.addToQueue([{uri:o.toURI(),uid:null}])}},onDragEnter:()=>{o(!0)},onDragLeave:()=>{o(!1)},targetUri:e,className:r,children:n}):(0,lt.jsx)("div",{children:n})};function ic({style:e,active:t,disabled:n,intent:s,label:i,labelActive:r,icon:a,iconActive:o,className:l,onClick:c}){const[d,u]=(0,$e.useState)(!1),m=(0,ei.w)(),p=t&&r?r:i,h=t&&o?o:a;return(0,lt.jsx)(tr,{style:e,className:l,isActive:t,disabled:n,onToggle:e=>{c?.(),d||e.target.blur(),u(!1),s&&m({type:"click",intent:s,targetUri:""})},onKeyDown:({key:e})=>{"enter"===e.toLowerCase()&&u(!0)},label:p,icon:h,testId:`control-button-${s}`})}var rc=n(6060),ac=n(1032);const oc=()=>{const{isAnonymous:e}=(0,ze.w1)(Rl.cx),{isYourDJContext:t}=(0,ac.Wm)(),{videoPlayerMode:n}=(0,Bs.a)();return e||t||"cinema"===n?{isVisible:!1}:{isVisible:!0,isEnabled:!0}},lc=({onClick:e})=>{const{isEnabled:t,isVisible:n}=oc(),s=(0,Gt.IT)(),i=(0,rc.K)(),r=(0,Gt.i6)(),a=(0,$e.useMemo)((()=>"/queue"===s.pathname||"/history"===s.pathname),[s.pathname]),o=(0,$e.useCallback)((()=>{const t=i.entries?.slice(0,i.index+1)?.reverse()?.findIndex((({pathname:e})=>"/queue"!==e&&"/history"!==e));e({mode:"main",route:null}),r(-1===t?"/":t>=0?-t:-1)}),[r,i,e]),l=(0,$e.useCallback)((()=>{e({mode:"main",route:"/queue"}),r("/queue",{state:{referrer:"now_playing_bar"}})}),[e,r]),d=(0,$e.useCallback)((()=>{t&&(a?o():l())}),[t,a,o,l]);return n?(0,lt.jsx)(sc,{uri:"spotify:queue",children:(0,lt.jsx)(ic,{intent:"queue",icon:$l.y,label:c._s.get("playback-control.queue"),onClick:d,active:a,disabled:!t})}):null},cc=Zt.s7.QUEUE_BUTTON_CLICK,dc=({onClick:e})=>{const{isEnabled:t,isVisible:n}=oc(),s=(0,hl.YV)(cc),{isActive:i}=(0,Zt.au)(La.s.Queue),{toggleQueue:r}=(0,sl.G)(),a=(0,$e.useCallback)((()=>{t&&(e({mode:"panel",aboutToShow:!i}),r())}),[t,e,i,r]);return n?(0,lt.jsx)(sc,{uri:"spotify:queue",children:(0,lt.jsx)(ic,{intent:"queue",icon:$l.y,label:c._s.get("playback-control.queue"),onClick:a,active:i,disabled:!t||!s})}):null},uc=({onClick:e})=>(0,tt.IP)(_e.imM)?(0,lt.jsx)(dc,{onClick:e}):(0,lt.jsx)(lc,{onClick:e});var mc=n(2104),pc=n(58536);function hc(e,t,n){let s;return s=t===B.UD.CONNECTING?e.connectingButtonFactory():t===B.UD.CONNECTED?e.connectedButtonFactory():e.notConnectedButtonFactory(),n?s.hitUiHide():s.hitUiReveal()}var gc=n(87820),fc=n(42584);let yc=function(e){return e[e.CONNECT_TO_DEVICE=0]="CONNECT_TO_DEVICE",e[e.UNSUPPORTED_DJ_NARRATION=1]="UNSUPPORTED_DJ_NARRATION",e}({});const _c=e=>e?.connectionStatus===B.UD.NOT_CONNECTED,bc=e=>!!e?.devices.length&&e.devices.some((e=>e.isLocalNetwork&&!e.isDisabled&&(e=>{switch(e.type){case B.KQ.AUDIO_DONGLE:case B.KQ.AVR:case B.KQ.CAST_AUDIO:case B.KQ.CAST_VIDEO:case B.KQ.GAME_CONSOLE:case B.KQ.SPEAKER:case B.KQ.STB:case B.KQ.TV:return!0;default:return!1}})(e))),vc="oS5b2oKYN9E28TQ0vzh7",xc="hnNnS6kEPDJtQfUOzSN7",Cc=({onClose:e,onMouseEnter:t,onMouseLeave:n,nudgeType:s,message:i})=>{const{spec:r,logger:a}=(0,Jn.gp)(fc._,{});let o;s===yc.CONNECT_TO_DEVICE?o=r.connectFromDevicePickerNudgeFactory():s===yc.UNSUPPORTED_DJ_NARRATION&&(o=r.djVoiceUnsupportedNudgeFactory());const l=(0,Jn.K2)(o);return(0,lt.jsxs)("div",{className:vc,onMouseEnter:t,onMouseLeave:n,ref:l,onClick:()=>{o&&(e=>e instanceof fc.g.ConnectFromDevicePickerNudgeEventFactory)(o)&&a.logInteraction(o.hitNoAction())},children:[(0,lt.jsx)(Cs.a,{id:"nudgeBody",as:"p",variant:"bodyMedium",semanticColor:"textBase",children:i}),(0,lt.jsx)(Xi.u,{iconOnly:sa.K,size:"small",semanticColor:"textBase",onClick:t=>{t.stopPropagation(),o&&a.logInteraction(o.closeButtonFactory().hitUiHide()),e()},"aria-label":c._s.get("close"),className:xc})]})},Ec=()=>{const e=(0,$e.useRef)(),t=(0,$e.useRef)(!1),n=(0,$e.useRef)(!1),s=(0,ze.OY)(),i=(0,$e.useCallback)((()=>{n.current&&clearTimeout(e.current),s((0,He.i0)())}),[s]),r=(0,$e.useCallback)((()=>{n.current=!1,t.current||i()}),[i]),a=(0,$e.useCallback)((t=>{e.current=window.setTimeout(r,(e=>Math.min(Math.max(200*e,4e3),1e4))(t)),s((0,He.kP)()),n.current=!0}),[s,r]),o=(0,$e.useCallback)((e=>{t.current=e,e||n.current||i()}),[i]);return(0,$e.useMemo)((()=>({hideNudge:i,showNudge:a,setShouldKeepShowingNudge:o})),[i,a,o])};var Sc=n(60078),wc=n(59368);const Ic=new Date(0).toISOString(),Ac=["shift+alt+f10"],Tc=e=>{const t=(0,$e.useRef)(),n=(0,$e.useRef)(),s=(0,$e.useRef)(!1),i=(0,$e.useRef)(!1),r=(0,ze.o3)(),a=(0,Bn.Q)(),o=(0,In.m)(),l=(0,wc.M)(),[c,d]=(0,ri.k)("connect-nudge-triggered-at",Ic);(0,Sc.M)(Ac,(async()=>{const{platform:{isDeveloperMode:e}}=r.getState();if(e){const e=new Date;e.setHours(e.getHours()-8),d(e.toISOString())}}));const u=(0,$e.useCallback)((e=>{const t=a.getState(),n=o.getState(),s=new Date(c);s.setHours(s.getHours()+8);const i=s<=new Date;switch(e){case yc.CONNECT_TO_DEVICE:return i&&_c(n)&&!(0,he.WA)(t)&&bc(n);case yc.UNSUPPORTED_DJ_NARRATION:return!_c(n)&&(0,he._o)(t,"spotify:playlist:37i9dQZF1EYkqdzj48dyYq")!==k.gp.NOT_ACTIVE&&(r=n?.activeDevice??void 0,!Boolean(r?.supportsDJNarration));default:return!1}var r}),[a,o,c]),m=(0,$e.useCallback)((()=>{const e=r.getState();return document.hasFocus()&&!(({ui:e,ads:t},n)=>e.blockUserDialog.isOpen||e.connectDevicePicker.isOpen||e.deleteFolderDialog.isOpen||e.deletePlaylistDialog.isOpen||e.fullscreenMode.isOpen||e.improvedSignupPromptDialog.isOpen||e.keyboardShortcutsHelpModal.isOpen||e.leavePlaylistDialog.isOpen||e.loginToListenDialog.isOpen||e.offlineDeviceLimitReachedDialog.isOpen||e.playbackNotSupportedErrorDialog.isOpen||e.premiumDialog.isOpen||e.signupToListenDialog.isOpen||e.connectNudge.isOpen||!0===t.billboard?.isOpen&&!t.billboard.isMinimized||!1===t.vto?.isHidden&&!1===t.vto?.isMinimized||n)(e,l.current.length>0)}),[l,r]),p=(0,$e.useCallback)((t=>{if(m()){let n,s=0,i=!1;for(;!i&&s<t.length;){const e=t[s];i=u(e),n=i?e:void 0,s++}if(void 0!==n&&(e(n),n===yc.CONNECT_TO_DEVICE)){const e=(new Date).toISOString();d(e)}}}),[m,e,u,d]),h=(0,$e.useCallback)((e=>{e.data.action===N.ye.PLAY?s.current=!0:e.data.action===N.ye.RESUME&&(i.current=!0)}),[]);(0,Ot.S)(N.AU.ACTION,h);const g=(0,$e.useCallback)((e=>{s.current&&(0,he.IX)(e.data)===k.gp.PLAYING?(t.current=e.data?.context.uri,p([yc.UNSUPPORTED_DJ_NARRATION,yc.CONNECT_TO_DEVICE]),t.current=void 0,s.current=!1):i.current&&!1===e.data?.isPaused&&(t.current=e.data?.context.uri,p([yc.CONNECT_TO_DEVICE]),t.current=void 0,i.current=!1)}),[p]);(0,Ot.S)(N.AU.UPDATE,g);const f=(0,$e.useCallback)((e=>{const t=e.data?.activeDevice;t&&!t.isLocal&&n.current!==t.connectStateId&&(n.current=t.connectStateId,p([yc.UNSUPPORTED_DJ_NARRATION]))}),[p]);(0,bl.I)(F.U.UPDATE,f)},kc=({children:e,triggerRef:t})=>{const[n,s]=(0,$e.useState)(""),[i,r]=(0,$e.useState)(void 0),{showNudge:a,hideNudge:o,setShouldKeepShowingNudge:l}=Ec(),d=(0,$e.useCallback)((e=>{const t=(e=>{switch(e){case yc.CONNECT_TO_DEVICE:return c._s.get("web-player.connect.nudge.listen-to-speaker");case yc.UNSUPPORTED_DJ_NARRATION:return c._s.get("web-player.connect.nudge.dj-voice-unavailable");default:return""}})(e);s(t),r(e),a(t.length)}),[a]);Tc(d);const u=(0,ze.w1)((e=>e.ui.connectNudge.isOpen)),m=(0,ze.w1)((e=>e.ui.connectDevicePicker.isOpen));return(0,$e.useEffect)((()=>{m&&o()}),[m,o]),(0,lt.jsx)(gc.O,{placement:"top",visible:u,overlay:(0,lt.jsx)(Cc,{onClose:o,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),message:n,nudgeType:i}),childRef:t,popperOptions:{modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,padding:24,tether:!1}}]},onHide:()=>{},fadeOut:!0,useLazyMounting:!0,children:e})},Nc="HCmq2aoRQupfetQjoMke",Oc="main-devicePicker-button",Pc="main-devicePicker-indicator",jc="main-devicePicker-connecting",Lc="main-devicePicker-connected",Rc="main-devicePicker-connectingIcon",Dc="device-picker-icon-button",Mc=(0,$e.forwardRef)((({isPickerOpen:e,onLogInteraction:t,onClick:n,showIndicatorTriangle:s=!1},i)=>{const r=(0,$e.useRef)(null),{spec:a,logger:o}=(0,Jn.gp)(pc.createDesktopConnectDevicePickerBtnEventFactory,{}),l=(0,ze.w1)((e=>e.ui.connectNudge.isOpen)),{remoteDevice:d,connectionStatus:u}=(0,dl.w)(),m=(0,El.Sk)(d?.type,d?.isGroup),p={"encore-bright-accent-set":u===B.UD.CONNECTED,[Lc]:u===B.UD.CONNECTED,[jc]:u===B.UD.CONNECTING};return(0,lt.jsx)(kc,{triggerRef:r,children:(0,lt.jsx)($i.Yl,{label:c._s.get("playback-control.connect-picker"),disabled:e||l,children:(0,lt.jsxs)("div",{className:Oc,ref:r,children:[s&&(0,lt.jsx)("div",{className:xs()(Pc,p),"":"indicator"}),(0,lt.jsx)("button",{className:xs()("control-button",{"control-button--active":u===B.UD.CONNECTED},Nc),onClick:s=>{const{interactionId:i}=o.logInteraction(hc(a,u,e));t?.(i),n?.(s)},ref:i,"aria-label":c._s.get("playback-control.connect-picker"),"aria-expanded":e,id:Dc,children:(0,lt.jsx)(m,{className:xs()({[Rc]:u===B.UD.CONNECTING}),size:"small",role:"presentation"})})]})})})}));var Uc=n(94908),Fc=n(94192),Bc=n(2052),Gc=n(60552),Vc=n(20469),Hc=n(44772);const Wc=e=>e instanceof Uc.Uz.ContainerViewEventFactory.DeviceListEventFactory.RemoteDeviceEventFactory||e instanceof Uc.Uz.ContainerViewEventFactory.DeviceListEventFactory.DisabledDeviceEventFactory||e instanceof Uc.Uz.ContainerViewEventFactory.OffNetworkDeviceListEventFactory.RemoteDeviceEventFactory||e instanceof Uc.Uz.ContainerViewEventFactory.OffNetworkDeviceListEventFactory.DisabledDeviceEventFactory||e instanceof Uc.Uz.ContainerViewEventFactory.OnNetworkDeviceListEventFactory.RemoteDeviceEventFactory,zc=(0,$e.createContext)({rowWithMenuOpenIdentifier:null,setRowWithMenuOpenIdentifier:()=>{}}),Yc=({children:e})=>{const[t,n]=(0,$e.useState)(null);return(0,lt.jsx)(zc.Provider,{value:{rowWithMenuOpenIdentifier:t,setRowWithMenuOpenIdentifier:n},children:e})};var Kc=n(48856),qc=n(87832),Qc=n(37176),Xc=n(9840),$c=n(99392),Jc=n(21824),Zc=n(96760);const ed="main-devicePicker-moreButton",td="zhMeyG5OMnE0jnMyORbf",nd=({deviceId:e,connectStateDeviceId:t,allowForgetDevice:n,incarnation:s})=>{const i=(0,In.m)(),r=(0,Jn.Mk)(),{spec:a}=(0,Jn.gp)(Zc.createDesktopConnectContextMenuEventFactory,{}),o=(0,Jn.K2)(a),l=a.forgetDeviceButtonFactory(),d=(0,Jn.K2)(l),u=a.deviceIncarnationContainerFactory(),m=(0,Jn.K2)(u);return n||s?(0,lt.jsx)("span",{ref:o,className:td,children:(0,lt.jsxs)(Ai.i,{children:[n&&(0,lt.jsx)(ki.I,{role:"menuitem",leadingIcon:(0,lt.jsx)($c._,{size:"small"}),onClick:()=>{r.logInteraction(l.hitLogoutFromRemoteDevice({remoteDeviceId:t})),i.logout(e)},elementRef:d,children:c._s.get("web-player.connect.context-menu.forget-device")}),s&&(0,lt.jsxs)("div",{ref:m,children:[(0,lt.jsx)(Ti.Y,{children:c._s.get("web-player.connect.context-menu.incarnation-title")}),s.available.map((n=>{const{icon:a,text:o}=(e=>{switch(e){case"connect":return{icon:(0,lt.jsx)(Qc.M,{size:"small"}),text:c._s.get("web-player.connect.context-menu.incarnation-connect")};case"cast":return{icon:(0,lt.jsx)(Xc.q,{size:"small"}),text:c._s.get("web-player.connect.context-menu.incarnation-cast")};default:return{}}})(n);return(0,lt.jsx)(ki.I,{role:"menuitemradio",leadingIcon:a,onClick:()=>{let a;switch(n){case"cast":a=u.googleCastButtonFactory();break;case"connect":a=u.spotifyConnectButtonFactory()}s.preferred!==n?(a&&r.logInteraction(a.hitChangeRemoteDeviceIncarnation({remoteDeviceId:t})),i.setPreferredIncarnation(e,n)):a&&r.logInteraction(a.hitNoAction())},"aria-checked":s.preferred===n,CheckedIcon:Jc.k,children:o},n)}))]})]})}):null},sd=({title:e,deviceId:t,connectStateDeviceId:n,allowForgetDevice:s,incarnation:i,className:r,onHide:a,onShow:o,spec:l})=>{const[d,u]=(0,$e.useState)(!1),m=l.contextMenuButtonFactory({identifier:n}),p=(0,Jn.Mk)(),h=(0,Jn.K2)(m);return(0,lt.jsx)(qc.pD,{renderInline:!0,menu:(0,lt.jsx)(Jn.Ud,{spec:m,children:(0,lt.jsx)(nd,{deviceId:t,connectStateDeviceId:n,allowForgetDevice:s,incarnation:i})}),onShow:()=>{u(!0),o?.()},onHide:()=>{u(!1),a?.()},offset:[0,-8],children:(0,lt.jsx)(Kc.g,{ref:h,size:Kc.o.xs,label:c._s.get("more.label.context",e),className:xs()(ed,r),onClick:()=>{p.logInteraction(d?m.hitUiHide():m.hitUiReveal())}})})},id="main-devicePicker-tooltip",rd="main-devicePicker-tooltipContent",ad="NY718ElwUbdZDytyiOBX",od="main-devicePicker-tooltipArrow",ld="main-devicePicker-sectionWrapper",cd="bzmsYhq8qXerwAFF0AUJ",dd="ErSD7TARZzk270zuVjoi",ud="bSVIjPzgLuQbllliZ_AH",md="lO__l5r92n_Ypx9wHL2i",pd="vUpHM3x8hhQ5eMEIImFW",hd="main-devicePicker-devices",gd="main-devicePicker-connectBarVisible",fd="main-devicePicker-menuOpen",yd="VqUjiYOlfxlk_lFOusZ7",_d="main-devicePicker-devicesList",bd="NQHL4JpXW0XVVrksRu6k",vd="main-devicePicker-section",xd="main-devicePicker-heading",Cd="main-devicePicker-sectionHeading",Ed="main-devicePicker-devicesHeading",Sd="main-devicePicker-devicesOtherNetworksHeading",wd="main-devicePicker-header",Id="main-devicePicker-headingAction",Ad="hcuLp8V4uEEfWZ4k6aLV",Td="_k3JjF2rHwdYfSPZH09S",kd="main-devicePicker-nowPlayingActiveIcon",Nd="e3sDDtEuJBaNBssRsyvE",Od="MNgY3fBEKs4U6SbZD2lo",Pd="main-devicePicker-headingContent",jd="main-devicePicker-headingConnected",Ld="main-devicePicker-headingTitle",Rd="main-devicePicker-headingSubtitle",Dd="main-devicePicker-headingTechIcon",Md="mRU5_ANCjbwEWMpQZAKI",Ud="_TOFVR3NTBR51N6BHDth",Fd="main-devicePicker-troubleshootingList",Bd="main-devicePicker-troubleshooting",Gd="main-devicePicker-troubleshootingItemIcon",Vd="main-devicePicker-troubleshootingItemSubtitle",Hd="rsaJ_PD5Wsx9a9H2IyV_",Wd="uBthvyMcAxMlCFFpafAJ",zd="gjcW3C9lFUaizYicV2Ky",Yd="d03rm63o9oNz4ePSJqcJ",Kd="iLv0NHO4Fxyuc1rTBI1Z",qd=({customClassName:e})=>(0,lt.jsxs)("svg",{width:"29",height:"16",viewBox:"0 0 29 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[(0,lt.jsx)("title",{children:"HiFi"}),(0,lt.jsx)("rect",{width:"29",height:"16",rx:"2",className:md}),(0,lt.jsx)("path",{d:"M11.882 11.5V4.7645H10.3715V7.4055H7.683V4.7645H6.182V11.5H7.683V8.821H10.3715V11.5H11.882ZM14.6918 11.5V6.7785H13.2478V11.5H14.6918ZM13.1243 5.3345C13.1243 5.8 13.5043 6.18 13.9603 6.18C14.4353 6.18 14.8153 5.8 14.8153 5.3345C14.8153 4.869 14.4353 4.489 13.9603 4.489C13.5043 4.489 13.1243 4.869 13.1243 5.3345ZM17.5729 11.5V8.9825H20.0619V7.6145H17.5634V6.1895H20.4039V4.7645H16.0624V11.5H17.5729ZM22.8002 11.5V6.7785H21.3562V11.5H22.8002ZM21.2327 5.3345C21.2327 5.8 21.6127 6.18 22.0687 6.18C22.5437 6.18 22.9237 5.8 22.9237 5.3345C22.9237 4.869 22.5437 4.489 22.0687 4.489C21.6127 4.489 21.2327 4.869 21.2327 5.3345Z",fill:"white"})]}),Qd=(0,$e.forwardRef)((function({deviceId:e,connectStateDeviceId:t,Icon:n,TechIcon:s,title:i,subtitle:r,helpTooltip:a,supportsHiFi:o,canLogout:l,isDisabled:c,incarnation:d,onClick:m,spec:p},h){const g=(0,tt.IP)(_e.AXs),{rowWithMenuOpenIdentifier:f,setRowWithMenuOpenIdentifier:y}=(0,$e.useContext)(zc),_=(0,u.G$)(),b=!c&&_&&o,v=(0,El.Q5)(d),x=l||v,C=(0,Ye.oJ)(),{toggleDevicePicker:E}=fl(),S=(0,Hc.k)();return(0,lt.jsxs)("li",{className:cd,ref:h,children:[(0,lt.jsx)("button",{className:xs()(Ad,dd,{[ud]:f===e}),onClick:()=>{c||(m&&m(),g?E():C({type:"close"}))},"aria-disabled":c,"aria-label":r?`${i} ${r}`:i,"":"device-picker-row-flyout",children:(0,lt.jsxs)("div",{className:xs()(xd,Od),children:[(0,lt.jsx)(n,{iconSize:32,semanticColor:c?void 0:"textBase",className:kd,"":"main-icon",role:"presentation"}),(0,lt.jsxs)("div",{className:xs()(Md,x&&jd),children:[(0,lt.jsxs)("div",{className:Rd,children:[(0,lt.jsx)("div",{className:Ld,children:(0,lt.jsx)(Vc.m,{equalGradientWidth:!0,title:i,children:(0,lt.jsx)(Cs.a,{variant:"bodyMedium",semanticColor:c?void 0:"textBase",className:Td,children:i})},`picker-row-title-${e}`)}),b&&(0,lt.jsx)(qd,{customClassName:Ud})]}),(0,lt.jsxs)("div",{className:Rd,children:[s&&(0,lt.jsx)(s,{iconSize:16,semanticColor:"textSubdued",className:Dd,"":"sub-icon",role:"presentation"}),r&&(0,lt.jsx)("div",{className:Ld,children:(0,lt.jsx)(Vc.m,{equalGradientWidth:!0,title:r,children:(0,lt.jsx)(Cs.a,{variant:"marginal",semanticColor:c?void 0:"textSubdued",className:Td,children:r})},`picker-row-subtitle-${e}`)}),a&&(0,lt.jsx)("div",{className:Yd,children:(0,lt.jsx)(Gc._,{message:a,placement:S?"right":"left",messageClassName:Kd})})]})]})]})}),x&&Wc(p)&&(0,lt.jsx)("span",{className:pd,children:(0,lt.jsx)(sd,{title:i,deviceId:e,connectStateDeviceId:t,allowForgetDevice:l,incarnation:v?d:void 0,onShow:()=>{y(e)},onHide:()=>{y(null)},spec:p})})]})}));var Xd=n(82960),$d=n(45008);const Jd="Ttwc2T2VP5OCTWjg_bEL",Zd="Ymdty_xqSuPWFa9htbnI",eu="H3a4Yc_4lNuSUwQddPy3",tu="PaegkMMfaa_RwOis1I56",nu=(0,$e.forwardRef)((function({deviceId:e,connectStateDeviceId:t,Icon:n,TechIcon:s,title:i,subtitle:r,canLogout:a,isDisabled:o,incarnation:l,onClick:c,spec:d},u){const m=(0,El.Q5)(l),p=a||m,{rowWithMenuOpenIdentifier:h,setRowWithMenuOpenIdentifier:g}=(0,$e.useContext)(zc),f=()=>{o||c?.()};return(0,lt.jsx)("li",{className:xs()(Zd,{[tu]:h===e}),ref:u,children:(0,lt.jsx)(Xd.U,{id:e,"":"device-picker-row-sidepanel",media:(0,lt.jsx)(n,{semanticColor:o?"textSubdued":"textBase","":"main-icon",role:"presentation"}),onClick:f,title:(0,lt.jsx)("span",{children:(0,lt.jsx)($i.Yl,{label:i,renderInline:!0,children:(0,lt.jsx)($d.Y,{role:"button",onClick:f,"":"list-row-title",lineClamp:1,semanticColor:o?"textSubdued":"textBase",children:i})})}),subtitle:(0,lt.jsxs)("div",{className:Jd,children:[s&&(0,lt.jsx)(s,{semanticColor:"textSubdued","":"sub-icon",role:"presentation",size:"small"}),r&&(0,lt.jsx)(Cs.a,{variant:"bodySmall",semanticColor:"textSubdued",children:r})]}),trailing:p&&Wc(d)&&(0,lt.jsx)("span",{children:(0,lt.jsx)(sd,{title:i,deviceId:e,connectStateDeviceId:t,allowForgetDevice:a,incarnation:m?l:void 0,spec:d,className:xs()(eu),onShow:()=>{g(e)},onHide:()=>{g(null)}})})})})})),su=({position:e,deviceId:t,connectStateDeviceId:n,deviceName:s,deviceType:i,deviceModelName:r,isGroup:a,disabledReason:o,canLogout:l,spec:c})=>{const d=(0,El.Sk)(i,a),{helpText:u,tooltip:m}=(0,El.eu)(o,(0,El.kJ)(i,r)),p=c.disabledDeviceFactory({identifier:n,position:e,reason:o??"null"}),h=(0,Jn.K2)(p),g=(0,tt.IP)(_e.iIu)?nu:Qd;return(0,lt.jsx)(g,{deviceId:t,connectStateDeviceId:n,ref:h,isDisabled:!0,Icon:d,title:s,subtitle:u,canLogout:l,spec:p,helpTooltip:m})},iu="CAST_STATE_CHANGED",ru="TOGGLE_CAST",au="SET_CONNECTING_CAST_DEVICE_ID",ou="RESET_CONNECTING_CAST_DEVICE_ID",lu=e=>({type:iu,castState:e}),cu=({isDisabled:e=!1,spec:t})=>{const n=(0,ze.OY)(),s=t.containerViewFactory().deviceListFactory().castPlaceholderFactory(),i=(0,Jn.K2)(s),r=(0,El.C8)(B.KQ.CAST_AUDIO,"disconnected"),a=(0,Jn.Mk)(),o=(0,tt.IP)(_e.iIu)?nu:Qd;return(0,lt.jsx)(o,{deviceId:"cast-placeholder",connectStateDeviceId:"cast-placeholder",ref:i,Icon:r,title:c._s.get("web-player.connect.device-picker.google-cast-devices"),supportsHiFi:!1,onClick:()=>{a.logInteraction(s.hitUiReveal()),n({type:ru})},isDisabled:e,spec:s})},du=({deviceId:e,connectStateDeviceId:t,deviceName:n,supportsHiFi:s,spec:i})=>{const r=(0,Jn.Mk)(),a=i.localDeviceFactory(),o=(0,El.Sk)(B.KQ.COMPUTER,!1),l=(0,In.m)(),c=(0,tt.IP)(_e.iIu)?nu:Qd;return(0,lt.jsx)(c,{deviceId:e,connectStateDeviceId:t,Icon:o,title:n,supportsHiFi:s,onClick:()=>{const{interactionId:t,pageInstanceId:n}=r.logInteraction(a.hitPullPlaybackToLocalDevice());l.transferPlayback(e,{interactionId:t,pageInstanceId:n})},spec:a})},uu=()=>{const[e,t]=(0,ri.k)("connect-picker-recent-transfers",{});return{registerTransferAttempt:(0,$e.useCallback)((n=>{t({...e,[n]:(new Date).getTime()})}),[e,t]),recentTransfersMap:e}},mu=({position:e,deviceId:t,connectStateDeviceId:n,deviceName:s,deviceType:i,isGroup:r,supportsHiFi:a,canLogout:o,incarnation:l,spec:d})=>{const u=(0,Jn.Mk)(),m=d.remoteDeviceFactory({identifier:n,position:e}),p=(0,El.Sk)(i,r);let h,g;(0,El.Aj)(i)&&(h=(0,El.C8)(i,"disconnected"),g=c._s.get("web-player.connect.device-picker.google-cast"));const{registerTransferAttempt:f}=uu(),y=(0,In.m)(),_=(0,Jn.K2)(m),b=(0,tt.IP)(_e.iIu)?nu:Qd;return(0,lt.jsx)(b,{deviceId:t,connectStateDeviceId:n,ref:_,Icon:p,TechIcon:h,title:s,subtitle:g,supportsHiFi:a,canLogout:o,incarnation:l,onClick:()=>{const{interactionId:e,pageInstanceId:s}=u.logInteraction(m.hitConnectToRemoteDevice({remoteDeviceId:n}));y.transferPlayback(t,{interactionId:e,pageInstanceId:s}),f(n)},spec:m})},pu=()=>(0,zs.o)((e=>(e?.restrictions?.disallowTransferringPlaybackReasons?.length??0)>0)),hu="device-picker-section-heading",gu=({foundDevices:e})=>{const t=e?c._s.get("web-player.connect.device-picker.select-another-device"):c._s.get("web-player.connect.device-picker.no-devices-found");return(0,lt.jsx)("span",{className:Cd,id:hu,"":hu,children:(0,lt.jsx)(Cs.a,{as:"h4",variant:"bodyMediumBold",semanticColor:"textBase",className:Cd,children:t})})};var fu=n(94968),yu=n(28288);const _u=({size:e="medium",className:t})=>{const n=(0,Ka.C)(),s=(0,yu.o)(e);return(0,lt.jsx)(lt.Fragment,{children:n?(0,lt.jsx)(fu.A,{size:e,semanticColor:"textBrightAccent",className:t,"":"now-playing-active"}):(0,lt.jsx)("img",{className:t,width:s,height:s,alt:"","aria-hidden":"true",src:(0,li.K)("images/device-picker-equaliser-animation.webp"),"":"animated-now-playing"})})},bu="device-picker-header",vu=({isLocalDevice:e,deviceName:t,deviceType:n,isGroup:s,supportsHiFi:i,canLogout:r,incarnation:a,isPlaying:o,deviceId:l,connectStateDeviceId:d,spec:m})=>{const p=(0,u.G$)(),h=p&&i,g=(0,El.Q5)(a),f=r||g;let y;if(o)y=(0,lt.jsx)(_u,{size:"large",className:kd});else{const e=(0,El.Sk)(n,s);y=(0,lt.jsx)(e,{size:"large",semanticColor:"textBrightAccent",className:kd,"":"device-icon",role:"presentation"})}const _=(0,lt.jsx)("div",{className:Ld,children:(0,lt.jsx)(Vc.m,{equalGradientWidth:!0,title:c._s.get("web-player.connect.device-picker.current-device"),children:(0,lt.jsx)(Cs.a,{as:"h3",variant:"bodyMediumBold",semanticColor:"textBase",children:c._s.get("web-player.connect.device-picker.current-device")})},`picker-header-title-${t}`)});let b,v;e?b=p?c._s.get("web-player.connect.device-picker.this-computer"):c._s.get("web-player.connect.device-picker.this-web-browser"):(b=t,v=(0,El.C8)(n,"connected"));const x=(0,lt.jsxs)("div",{className:Rd,children:[v&&(0,lt.jsx)(v,{iconSize:16,semanticColor:"textBrightAccent",className:Dd,"":"tech-icon"}),(0,lt.jsx)("div",{className:Ld,children:(0,lt.jsx)(Vc.m,{equalGradientWidth:!0,title:b,children:(0,lt.jsx)(Cs.a,{as:"p",variant:"bodyMedium",semanticColor:"textBrightAccent",children:b})},`picker-header-subtitle-${t}`)}),h&&(0,lt.jsx)(qd,{customClassName:Ud})]});return(0,lt.jsxs)("div",{className:xs()(xd,wd),id:bu,children:[y,(0,lt.jsxs)("div",{className:xs()(Pd,f&&jd),children:[_,x]}),f&&(0,lt.jsx)(sd,{title:b,deviceId:l,connectStateDeviceId:d,allowForgetDevice:r,incarnation:g?a:void 0,className:Id,spec:m.containerViewFactory().headerFactory().activeDeviceFactory()})]})},xu=({devices:e,areWebPlayerCastDevicesAvailable:t=!1,networkHeadingID:n="",spec:s})=>{const i=(0,u.G$)(),r=pu(),a=s.containerViewFactory().deviceListFactory(),o=(0,Jn.K2)(a),l=(e,t)=>{const n=i?c._s.get("web-player.connect.device-picker.this-computer"):c._s.get("web-player.connect.device-picker.this-web-browser");return e.isDisabled?(0,lt.jsx)(su,{position:e.isLocal?0:t+1,deviceId:e.id,connectStateDeviceId:e.connectStateId,deviceName:e.isLocal?n:e.name,deviceType:e.isLocal?B.KQ.COMPUTER:e.type,deviceModelName:e.modelDisplayName,isGroup:e.isGroup,disabledReason:e.disabledReason,canLogout:!e.isLocalNetwork&&e.supportsLogout,spec:a},e.id):e.isLocal&&(e=>e instanceof Uc.Uz.ContainerViewEventFactory.DeviceListEventFactory||e instanceof Uc.Uz.ContainerViewEventFactory.OnNetworkDeviceListEventFactory)(a)?(0,lt.jsx)(du,{deviceId:e.id,connectStateDeviceId:e.connectStateId,deviceName:n,supportsHiFi:e.hifiSupport.fullySupported,spec:a},e.id):(0,lt.jsx)(mu,{position:t+1,deviceId:e.id,connectStateDeviceId:e.connectStateId,deviceName:e.name,deviceType:e.type,isGroup:e.isGroup,supportsHiFi:e.hifiSupport.fullySupported,canLogout:!e.isLocalNetwork&&e.supportsLogout,incarnation:e.incarnation,spec:a},e.id)};return(0,lt.jsxs)("ul",{"aria-labelledby":`${bu} ${hu} ${n}`,"":`devices-list-${n}`,ref:o,children:[e.map(((e,t)=>l(e,t))),t&&(0,lt.jsx)(cu,{isDisabled:r,spec:s})]})},Cu="local-network-heading",Eu="other-networks-heading",Su=({localNetworkDevices:e,otherNetworksDevices:t,spec:n})=>(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Cs.a,{as:"h5",variant:"bodySmall",semanticColor:"textSubdued",className:Ed,id:Cu,children:e.length>0?c._s.get("web-player.connect.device-picker.on-this-network"):c._s.get("web-player.connect.device-picker.no-devices-local-network")}),e.length>0&&(0,lt.jsx)(xu,{devices:e,networkHeadingID:Cu,spec:n}),t.length>0&&(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Cs.a,{as:"h5",variant:"bodySmall",semanticColor:"textSubdued",className:xs()(Ed,Sd),id:Eu,children:c._s.get("web-player.connect.device-picker.on-other-networks")}),(0,lt.jsx)(xu,{devices:t,networkHeadingID:Eu,spec:n})]})]}),wu=[c.u2.en,c.u2.enGB],Iu=()=>{const e=c._s.getLocaleForTranslation();return wu.includes(e)};var Au=n(7896);const Tu=({url:e,linkText:t,handleClick:n,elementRef:s})=>(0,lt.jsxs)("a",{className:xs()(xd,Ad,Hd),href:e,style:{textDecoration:"none"},target:"_blank",onClick:n,ref:s,children:[(0,lt.jsx)(Cs.a,{as:"p",variant:"bodyMedium",semanticColor:"textBase",className:zd,children:t}),(0,lt.jsx)(Au.E,{size:"small","":"icon-external-link",semanticColor:"textSubdued",className:Wd,role:"presentation",autoMirror:!0,"aria-hidden":"true"})]}),ku=({url:e,linkText:t,handleClick:n,elementRef:s})=>(0,lt.jsx)("a",{className:xs()(Zd),href:e,target:"_blank",ref:s,onClick:n,children:(0,lt.jsx)(Xd.U,{title:t,id:t,onClick:()=>{},"":"list-row-external-link",trailing:(0,lt.jsx)(Au.E,{size:"small","":"icon-external-link",semanticColor:"textSubdued",role:"presentation",autoMirror:!0,"aria-hidden":"true"})})}),Nu=({spec:e})=>{const t=`https://www.spotify.com/connect${`?utm_campaign=connect&utm_medium=${(0,u.G$)()?"app":"web"}&utm_source=desktop`}`,n=e.containerViewFactory().externalConnectHubLinkFactory(),s=(0,Jn.K2)(n),i=(0,Jn.Mk)(),r=(0,tt.IP)(_e.iIu)?ku:Tu;return(0,lt.jsx)(r,{url:t,linkText:c._s.get("web-player.connect.device-picker.connect-hub-external-link"),elementRef:s,handleClick:()=>{i.logInteraction(n.hitNavigateToExternalUri({destination:t}))}})},Ou="https://support.spotify.com/article/spotify-connect/",Pu=({spec:e})=>{const t=e.containerViewFactory().externalHelpLinkFactory(),n=(0,Jn.K2)(t),s=(0,Jn.Mk)(),i=(0,tt.IP)(_e.iIu)?ku:Tu;return(0,lt.jsx)(i,{url:Ou,linkText:c._s.get("web-player.connect.device-picker.help-external-link"),elementRef:n,handleClick:()=>{s.logInteraction(t.hitNavigateToExternalUri({destination:Ou}))}})},ju=({devices:e,areWebPlayerCastDevicesAvailable:t,spec:n})=>{const s=(0,u.G$)(),i=pu(),r=Iu(),a=!s&&i?e.map((e=>({...e,isDisabled:!0}))):e,{recentTransfersMap:o}=uu(),l=function(e,t){const n=[],s=e.find((e=>e.isLocal));s&&n.push(s);const i=e.filter((e=>!e.isLocal)),{usedDevices:r,unusedDevices:a}=function(e,t){const n=[],s=[];for(const i of e)t[i.connectStateId]?n.push({device:i,timestamp:t[i.connectStateId]}):s.push(i);return{usedDevices:n,unusedDevices:s}}(i,t);r.sort(((e,t)=>t.timestamp-e.timestamp));for(const e of r)n.push(e.device);const o=n.concat(function(e){return e.sort(((e,t)=>e.isLocal?-1:t.isLocal?1:e.name.toLowerCase().localeCompare(t.name.toLowerCase())))}(a));return o}(a,o),c=l.filter((e=>e.isLocalNetwork)),d=l.filter((e=>!e.isLocalNetwork)),{rowWithMenuOpenIdentifier:m}=(0,$e.useContext)(zc),p=(0,tt.IP)(_e.iIu),h=(0,lt.jsxs)("div",{className:xs()(_d,p&&bd),children:[(0,lt.jsx)("div",{children:s&&d.length>0?(0,lt.jsx)(Su,{localNetworkDevices:c,otherNetworksDevices:d,spec:n}):(0,lt.jsx)(xu,{devices:l,areWebPlayerCastDevicesAvailable:t,spec:n})}),(0,lt.jsxs)("div",{className:xs()(Nd),children:[(0,lt.jsx)(Pu,{spec:n}),r&&(0,lt.jsx)(Nu,{spec:n})]})]});return p?h:(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Bc.G,{className:xs()(hd,ld,{[fd]:!!m}),children:h}),(0,lt.jsx)("div",{className:yd})]})};var Lu=n(70120),Ru=n(35456),Du=n(81680),Mu=n(88600);const Uu=({title:e,subtitle:t,Icon:n})=>(0,lt.jsxs)("li",{className:xd,children:[(0,lt.jsx)(n,{size:"medium",semanticColor:"textSubdued",className:Gd,role:"presentation"}),(0,lt.jsxs)("div",{className:Pd,children:[(0,lt.jsx)(Cs.a,{variant:"bodyMedium",semanticColor:"textBase",children:e}),(0,lt.jsx)(Cs.a,{variant:"bodySmall",semanticColor:"textSubdued",className:Vd,children:t})]})]}),Fu="device-picker-troubleshooting-list",Bu=({isDesktop:e,spec:t})=>{const n=Iu(),s=t.containerViewFactory().noDevicesViewFactory(),i=(0,Jn.K2)(s);return(0,lt.jsxs)("div",{ref:i,className:Fd,"":Fu,children:[(0,lt.jsxs)("ul",{"aria-labelledby":`${bu} ${hu}`,className:Bd,children:[(0,lt.jsx)(Uu,{Icon:Lu.O,title:c._s.get("web-player.connect.device-picker.check-wifi"),subtitle:c._s.get("web-player.connect.device-picker.check-wifi-subtitle")}),(0,lt.jsx)(Uu,{Icon:Ru.A,title:c._s.get("web-player.connect.device-picker.play-from-another"),subtitle:c._s.get("web-player.connect.device-picker.play-from-another-subtitle")}),e?(0,lt.jsx)(Uu,{Icon:Du.s,title:c._s.get("web-player.connect.device-picker.restart-speaker"),subtitle:c._s.get("web-player.connect.device-picker.restart-speaker-subtitle")}):(0,lt.jsx)(Uu,{Icon:Mu.s,title:c._s.get("web-player.connect.device-picker.switch-to-app"),subtitle:c._s.get("web-player.connect.device-picker.switch-to-app-subtitle")})]}),(0,lt.jsxs)("div",{className:ld,"aria-describedby":Fu,children:[(0,lt.jsx)(Pu,{spec:t}),n&&(0,lt.jsx)(Nu,{spec:t})]})]})},Gu=({devices:e,areWebPlayerCastDevicesAvailable:t,spec:n})=>{const s=Boolean(e.find((e=>!e.isLocal))),i=e.filter((e=>!e.isActive&&e.name.length>0)),r=s||t,a=(0,u.G$)(),o=(0,tt.IP)(_e.iIu);return(0,lt.jsxs)("div",{className:xs()(vd,o&&bd),children:[(0,lt.jsx)(gu,{foundDevices:r}),r?(0,lt.jsx)(Yc,{children:(0,lt.jsx)(ju,{devices:i,areWebPlayerCastDevicesAvailable:t,spec:n})}):(0,lt.jsx)(Bu,{isDesktop:a,spec:n})]})},Vu=({isConnectBarVisible:e=!1,tooltipTriggerId:t})=>{(0,mc.u_)();const n={id:"",connectStateId:"",name:"",type:B.KQ.COMPUTER,isGroup:!1,isLocal:!0,isActive:!0,isConnecting:!1,isDisabled:!1,volume:0,hifiSupport:{fullySupported:!1,deviceSupported:!1,userEligible:!1},supportsLogout:!1},s=(0,Uc.wL)({data:{identifier:Uc.ye.FLYOUT}}),{activeDevice:i,devices:r}=vl((e=>({activeDevice:e.activeDevice,devices:e.devices}))),a=i??n,o=_l((0,ze.w1)((e=>e.playback?.castState??window.cast?.framework.CastState.NO_DEVICES_AVAILABLE))),{isPlaying:l}=(0,Fc.CQ)();return(0,lt.jsx)(mc.qQ,{className:xs()(id,e&&gd),arrowClassName:ad,disableAutoFocus:!0,children:(0,lt.jsxs)("div",{"aria-labelledby":t,className:rd,children:[(0,lt.jsx)(vu,{deviceId:a.id,connectStateDeviceId:a.connectStateId,isLocalDevice:a.isLocal,deviceName:a.name,deviceType:a.type,isGroup:a.isGroup,supportsHiFi:a.hifiSupport.fullySupported,canLogout:!a.isLocalNetwork&&a.supportsLogout,incarnation:a.incarnation,isPlaying:l,spec:s}),(0,lt.jsx)(Gu,{devices:r,areWebPlayerCastDevicesAvailable:o,spec:s})]})})},Hu=()=>{const e=(0,ze.OY)(),[t,n]=(0,$e.useState)(!1),[s,i]=(0,$e.useState)(""),r=(0,In.m)(),a=vl((({connectionStatus:e,activeDevice:t,connectingDevice:n})=>({connectionStatus:e,activeDevice:t,connectingDevice:n})),Ys.c),o=a.connectionStatus,l=o===B.UD.CONNECTED||o===B.UD.CONNECTING,c=(0,$e.useCallback)((()=>{r.getCapabilities().supportsLocalDiscovery&&r.discoverDevices(),e((0,He.Ub)()),n(!0)}),[r,e]),d=xl(),u=(0,$e.useCallback)((()=>{d(s),e((0,He.SS)()),n(!1)}),[n,d,s,e]);return(0,lt.jsx)(mc.GS,{trigger:"click",action:"toggle",content:(0,lt.jsx)(Vu,{isConnectBarVisible:l,tooltipTriggerId:Dc}),onShow:c,onHide:u,offset:[0,12],placement:"top",children:(0,lt.jsx)(Mc,{isPickerOpen:t,onLogInteraction:e=>{t||i(e)},showIndicatorTriangle:!0})})},Wu=({tooltipTriggerId:e})=>{const{isPlayingRemotely:t}=(0,dl.w)(),{toggleDevicePicker:n}=fl(),s=(0,Uc.wL)({data:{identifier:Uc.ye.FLYOUT}});(0,$e.useEffect)((()=>{const e=e=>{"Escape"===e.key&&n()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[n]);const i={id:"",connectStateId:"",name:"",type:B.KQ.COMPUTER,isGroup:!1,isLocal:!0,isActive:!0,isConnecting:!1,isDisabled:!1,volume:0,hifiSupport:{fullySupported:!1,deviceSupported:!1,userEligible:!1},supportsLogout:!1},{activeDevice:r,devices:a}=vl((e=>({activeDevice:e.activeDevice,devices:e.devices}))),o=r??i,l=_l((0,ze.w1)((e=>e.playback?.castState??window.cast?.framework.CastState.NO_DEVICES_AVAILABLE))),{isPlaying:c}=(0,Fc.CQ)();return(0,lt.jsx)(mc.qQ,{className:xs()(id,t&&gd),arrowClassName:od,disableAutoFocus:!0,children:(0,lt.jsxs)("div",{"aria-labelledby":e,className:rd,children:[(0,lt.jsx)(vu,{deviceId:o.id,connectStateDeviceId:o.connectStateId,isLocalDevice:o.isLocal,deviceName:o.name,deviceType:o.type,isGroup:o.isGroup,supportsHiFi:o.hifiSupport.fullySupported,canLogout:!o.isLocalNetwork&&o.supportsLogout,incarnation:o.incarnation,isPlaying:c,spec:s}),(0,lt.jsx)(Gu,{devices:a,areWebPlayerCastDevicesAvailable:l,spec:s})]})})},zu=()=>{const{triggerRef:e,toggleDevicePicker:t,isPickerOpen:n}=fl(),s=(0,$e.useRef)(null),i=(0,$e.useCallback)((()=>{t()}),[t]),r=[s.current,e.current].filter(X.g);return(0,lt.jsx)(gc.O,{animation:!1,overlay:(0,lt.jsx)(Wu,{tooltipTriggerId:Dc}),visible:n,onHide:i,offset:[0,12],placement:"top",theme:"device-picker",useLazyMounting:!0,renderInline:!0,triggerTarget:r,aria:{expanded:!1},popperOptions:{modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,padding:10,tether:!1}}]},children:(0,lt.jsx)(Mc,{ref:s,isPickerOpen:n,onLogInteraction:e=>{t(e)}})})},Yu=()=>(0,lt.jsx)(ml.Q,{property:_e.AXs,renderNewExperience:()=>(0,lt.jsx)(zu,{}),renderOldExperience:()=>(0,lt.jsx)(Hu,{})}),Ku=()=>{const{remoteDevice:e,connectionStatus:t}=(0,dl.w)(),n=(0,$e.useRef)(null),{canTogglePanel:s,isActive:i,togglePanel:r}=gl(),{spec:a,logger:o}=(0,Jn.gp)(pc.createDesktopConnectDevicePickerBtnEventFactory,{}),{interactionId:l}=o.logInteraction(hc(a,t,i)),d=(0,$e.useCallback)((()=>r(l)),[l,r]),u=(0,El.Sk)(e?.type,e?.isGroup);return(0,lt.jsx)(kc,{triggerRef:n,children:(0,lt.jsx)(tr,{isActive:i,disabled:!s,onToggle:d,label:c._s.get("playback-control.connect-picker"),icon:u,ref:n})})},qu=()=>{const{isAnonymous:e}=(0,ze.w1)(Rl.cx);return e?null:(0,lt.jsx)(ml.Q,{property:_e.iIu,renderNewExperience:()=>(0,lt.jsx)(Ku,{}),renderOldExperience:()=>(0,lt.jsx)(Yu,{})})};var Qu=n(5508),Xu=n(3036);const $u=({onClick:e})=>{const{item:t}=(0,Xu.z)()??{},{isActive:n,onClick:s,showButton:i}=(0,Ya.e)({item:t,onClick:e});return t&&i?(0,lt.jsx)(tr,{isActive:n,onToggle:s,label:n?c._s.get("miniplayer.close"):c._s.get("miniplayer.open"),icon:Va.e,testId:"pip-toggle-button"}):null};var Ju=n(87816);const Zu="main-nowPlayingBar-extraControls",em="main-nowPlayingBar-lyricsButton",tm="main-nowPlayingBar-volumeBar",nm=()=>null,sm=()=>{const e=(0,tt.IP)(_e._Oo),t=((0,tt.IP)(_e.CwE),(0,Yl.o)("is-puffin"),!1),n=(0,ac.Q$)(),{setVideoPlayerUIFlag:s,videoPlayerMode:i}=(0,Bs.a)(),{spec:r,logger:a,UBIFragment:o}=(0,Jn.gp)(Qs.E9,{data:{identifier:i===Nt.q.cinema?Qs.ye.CINEMA:Qs.ye.DESKTOP}}),l=(0,Sr.yK)((e=>{a.logInteraction(r.volumeBarFactory().dragSetVolume({newVolumePercentage:Math.floor(100*e)}))}),500,{leading:!1,trailing:!0}),c=(0,$e.useCallback)((e=>{e&&s(Nt.Z.cinema,!1)}),[s]);return(0,lt.jsx)(o,{spec:r,children:(0,lt.jsxs)("div",{className:Zu,children:[n&&(0,lt.jsx)(Qu.yi,{onClick:()=>{a.logInteraction(r.djJumpButtonFactory().hitRefreshContent())}}),(0,lt.jsx)(zl,{onClick:e=>{e?a.logInteraction(r.npvButtonFactory().hitUiReveal()):a.logInteraction(r.npvButtonFactory().hitUiHide())}}),!e&&(0,lt.jsx)(Xl,{className:em,onClick:e=>{e?a.logInteraction(r.lyricsButtonFactory().hitUiNavigate({destination:e})):a.logInteraction(r.lyricsButtonFactory().hitUiNavigateBack())}}),(0,lt.jsx)(uc,{onClick:e=>{"main"===e.mode?e.route?a.logInteraction(r.queueButtonFactory().hitUiNavigate({destination:e.route})):a.logInteraction(r.queueButtonFactory().hitUiNavigateBack()):e.aboutToShow?a.logInteraction(r.queueButtonFactory().hitUiReveal()):a.logInteraction(r.queueButtonFactory().hitUiHide())}}),t&&(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(nm,{})}),(0,lt.jsx)(qu,{}),(0,lt.jsx)(Ju.A,{className:tm,onVolumeBarClick:e=>{a.logInteraction(r.volumeBarFactory().hitSetVolume({newVolumePercentage:Math.floor(100*e)}))},onToggleMuteClick:e=>{"muted"===e?a.logInteraction(r.volumeMuteButtonFactory().hitMutePlayback()):"not_muted"===e&&a.logInteraction(r.volumeMuteButtonFactory().hitUnmutePlayback())},onVolumeBarDrag:l}),(0,lt.jsx)($u,{onClick:c}),(0,lt.jsx)(Fl,{className:"control-button",disabledClassName:"control-button--disabled",onClick:e=>{e&&a.logInteraction(r.fullscreenButtonFactory().hitUiReveal())}})]})})};var im=n(35032),rm=n(86068),am=n(7342);const om="yyrJTUPMeLS8qs1a0YJr",lm=({logoUrl:e})=>e?(0,lt.jsx)("div",{className:om,"":"context-ad-logo",children:(0,lt.jsx)(am.q,{loading:"eager",imgSrc:e,width:56,height:56,type:P.s.AD})}):null,cm=({item:e,context:t,index:n})=>{const{logoImage:s}=(0,im.U7)(e);return(0,lt.jsx)(rm.K,{item:e,context:t,index:n,"aria-label":c._s.get("ad-formats.advertisement"),adEventReason:So.W.AD_LOGO,isVisible:!1,children:(0,lt.jsx)(lm,{logoUrl:s})})},dm=$e.memo((function({uri:e,className:t,onClick:n,size:s=rr.o.xs}){const[i,r]=(0,Jl.X)(e),a=(0,ei.w)(),o=(0,$e.useCallback)((t=>{t.preventDefault(),a({targetUri:e,intent:i?"remove-from-library":"add-to-library",type:"click"}),n&&n(!i),r(!i)}),[a,e,i,n,r]);return(0,lt.jsx)(rr.O,{className:t,size:s,onClick:o,isAdded:!!i,isAudiobook:!0})}));var um=n(61652),mm=n(96160),pm=n(32508),hm=n(96800),gm=n(83096),fm=n(7300),ym=n(6812),_m=n(89352),bm=n(73216),vm=n(56864),xm=n(41148),Cm=n(77724),Em=n(68992);const Sm="main-nowPlayingWidget-nowPlaying",wm="main-coverSlotCollapsed-navAltContainer",Im="main-nowPlayingWidget-coverArt",Am="main-nowPlayingWidget-trackInfo",Tm=({onClick:e})=>{const t=(0,Xu.z)(),n=(0,ym.C)();if(null===t)return null;const{context:s,item:i,index:r}=t;return(0,lt.jsx)(fm.U,{menu:(0,lt.jsx)(bm.g,{context:s,item:i}),children:(0,lt.jsx)("div",{draggable:(0,Em.Q)(i),onDragStart:e=>{n(e,{itemUris:[i.uri],dragLabelText:(0,Cm.k)(i)})},children:(0,lt.jsx)(xm.G,{uri:s.uri,owner:s.metadata?.context_owner,children:(0,lt.jsx)(vm.K,{context:s,item:i,index:r,isVisible:!0,onClick:(t,n)=>{e?.(n)},children:(0,lt.jsx)(_m.A,{item:i,size:56,maxSize:56,className:Im})})})})})};var km=n(79212),Nm=n(48072);const Om="main-coverSlotCollapsed-container",Pm="main-coverSlotCollapsed-expandButton",jm=Zt.s7.NPV_BUTTON_CLICK,Lm=({children:e,className:t})=>{const n=(0,hl.YV)(jm),{isActive:s,panelSend:i}=(0,Zt.au)(La.s.NowPlayingView),r=(0,$e.useMemo)((()=>s?{label:c._s.get("npb.collapseCoverArt"),Icon:Nm.o}:{label:c._s.get("npb.expandCoverArt"),Icon:km.o}),[s]);return(0,lt.jsxs)("div",{"":"CoverSlotCollapsed__container",className:xs()(Om,t),children:[e,(0,lt.jsx)($i.Yl,{label:r.label,children:(0,lt.jsx)("button",{className:xs()(Pm),disabled:!n,onClick:()=>{i(jm)},"aria-label":c._s.get("web-player.now-playing-view.label"),"aria-pressed":s,children:(0,lt.jsx)(r.Icon,{iconSize:16})})})]})};var Rm=n(47352),Dm=n(97608),Mm=n(52864);var Um=n(96692);const Fm=({context:e,item:t,onLike:n})=>{const s=(0,Um.Y)(),i=(0,mm.E)(t);return s&&(0,hm.c)(t)?(0,lt.jsx)(pm.W,{contextUri:t.metadata?.context_uri??e.uri,id:t.uid??void 0,uri:t.uri,isActive:!0}):i?(0,lt.jsx)(um.u,{uri:t.uri,condensed:!1}):(0,k.gB)(t)?t.isLocal?null:(0,lt.jsx)(or.s,{uri:t.uri,className:"control-button control-button-heart",onClick:n}):(0,k.sN)(t)?(0,lt.jsx)(ar.Q,{uri:t.uri,className:"control-button control-button-heart",onClick:n}):(0,k.Q9)(t)?(0,lt.jsx)(dm,{uri:t.book.uri,className:"control-button control-button-heart",onClick:n}):(0,k.UZ)(t)||(0,k.u_)(t)?null:(0,j.E)(t)},Bm=({state:{item:e,context:t,index:n}})=>{!function(e){const t=(0,Mm.k)(),n=(0,Dm.U)(e);(0,$e.useEffect)((()=>{n&&t.say(n)}),[n,t])}(e);const{videoPlayerMode:s,setVideoPlayerUIFlag:i}=(0,Bs.a)(),{spec:r,logger:a}=(0,Jn.gp)(Xs.OC,{data:{identifier:s===Nt.q.cinema?Xs.ye.CINEMA:Xs.ye.DESKTOP}}),o=(0,Dm.K)(e),l=(0,tt.IP)(_e.Ksj),c=(0,ia.q)(e);(0,$e.useEffect)((()=>{i(Nt.Z.nowPlayingBar,l)}),[l,i]);const d=s===Nt.q.nowPlayingBar&&l;return(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsxs)("div",{"":"now-playing-widget",className:Sm,role:"contentinfo","aria-label":o,children:[c?(0,lt.jsx)(cm,{item:e,context:t,index:n}):(0,lt.jsxs)(Lm,{className:wm,children:[!d&&(0,lt.jsx)(Tm,{onClick:t=>{a.logInteraction(r.coverartFactory({uri:e.uri}).hitUiNavigate({destination:t||""}))}}),l&&(0,lt.jsx)("div",{id:"VideoPlayerNpb_ReactPortal"})]}),(0,lt.jsx)(gm.E,{context:t,className:Am,item:e,size:"xsmall",enableVideoButton:!0,onTitleClick:t=>{a.logInteraction(r.titleFactory({uri:e.uri}).hitUiNavigate({destination:t||""}))},onSubtitleClick:t=>{a.logInteraction(r.subtitleFactory({uri:e.uri}).hitUiNavigate({destination:t||""}))}}),(0,lt.jsx)(Rm.c,{context:t,item:e,onClick:()=>{a.logInteraction(r.hideButtonFactory().hitRemoveRecommendation({recommendedItemUri:e.uri,contextUri:t.uri}))}}),(0,lt.jsx)(Jn.Ud,{spec:r,children:(0,lt.jsx)(Fm,{item:e,onLike:t=>{a.logInteraction(t?r.likeButtonFactory({uri:e.uri}).hitLike({itemToBeLiked:e.uri}):r.likeButtonFactory({uri:e.uri}).hitRemoveLike({itemNoLongerLiked:e.uri}))},context:t})})]})})},Gm=()=>{const e=(0,Xu.z)();return null===e?(0,lt.jsx)("div",{className:xs()("now-playing")}):(0,lt.jsx)(Bm,{state:e})};var Vm=n(15868);const Hm="aguQsGoZR9wZeawKGdDh",Wm="ieqOSqJb6kk3bG5XDOHk",zm=({paused:e,fromSeconds:t})=>{const[n,s]=(0,$e.useState)(t);return(0,Vm.f)((t=>{s((n=>e?n:n>0?n-1:(t(),n)))}),1e3),(0,lt.jsxs)("div",{className:Hm,children:[c._s.get("ad-formats.skippable_ads.skip_countdown"),(0,lt.jsx)("span",{className:Wm,children:n})]})},Ym=e=>{const t=e?.item??void 0;return(0,k.UZ)(t)},Km=e=>{const t=e?.item??void 0;return(0,k.UZ)(t)&&"video"===t.mediaType},qm=e=>{const t=e?.item??void 0;return(0,k.UZ)(t)&&"audio"===t.mediaType},Qm=({children:e})=>{const t=(0,zs.o)((e=>e),((e,t)=>(0,Ys.c)(e?.restrictions,t?.restrictions)&&e?.item?.uri===t?.item?.uri&&e?.isPaused===t?.isPaused)),n=t?.restrictions.disallowSkippingNextReasons.includes("ad_disallow"),s=t?.isPaused??!1,i=qm(t),r=Km(t),a=(0,ze.w1)((e=>i?e?.ads?.audio?.info?.skippableAdDelaySeconds:r?e?.ads?.vto?.info?.skippableAdDelaySeconds:void 0));return n&&a?(0,lt.jsx)(zm,{paused:!!s,fromSeconds:a}):(0,lt.jsx)(lt.Fragment,{children:e})};var Xm=n(21360),$m=n(58096),Jm=n(89032),Zm=n(86224),ep=n(64137),tp=n(15504),np=n(69108);const sp=(0,$e.memo)((function({item:e}){const t=e.isPodcastAd;return(0,lt.jsxs)("div",{"":"ad-controls",className:"player-controls__buttons player-controls__buttons--new-icons",children:[(0,lt.jsxs)("div",{className:"player-controls__left",children:[t&&(0,lt.jsx)(np.w,{}),(0,lt.jsx)(Xm.aB,{item:e}),t?(0,lt.jsx)(Jm.y,{}):(0,lt.jsx)(ep.q,{})]}),(0,lt.jsx)($m.a,{}),(0,lt.jsxs)("div",{className:"player-controls__right",children:[t?(0,lt.jsx)(Zm.C,{}):(0,lt.jsx)(Qm,{children:(0,lt.jsx)(tp.s,{})}),(0,lt.jsx)(Xm.UX,{item:e})]})]})}));var ip=n(59448),rp=n(12028),ap=n(4272);const op=(0,$e.memo)((function({isPreview:e}){const t=(0,Bn.Q)(),{videoPlayerMode:n}=(0,Bs.a)(),{spec:s,logger:i}=(0,Jn.gp)(Us.RY,{data:{identifier:n===Nt.q.cinema?Us.ye.CINEMA:Us.ye.DESKTOP}}),r=(0,zs.o)((e=>e?.item??void 0),((e,t)=>e?.uri===t?.uri)),a=(0,ia.q)(r),o=bi();return(0,lt.jsxs)("div",{className:"player-controls","":"player-controls",dir:"ltr","aria-label":c._s.get("playback-control.a11y.landmark-label"),children:[a?(0,lt.jsx)(sp,{item:r}):(0,lt.jsxs)("div",{className:"player-controls__buttons player-controls__buttons--new-icons","":"general-controls",children:[(0,lt.jsxs)("div",{className:"player-controls__left",children:[o&&(0,lt.jsx)(np.w,{onClick:e=>{const n=t.getState();n?.item&&i.logInteraction(s.speedControlButtonFactory().hitSetPlaybackSpeed({currentlyPlayedItem:n.item.uri,playbackSpeed:e}))}})," ",!o&&(0,lt.jsx)(yr,{renderEnabled:()=>(0,lt.jsx)(Jn.Ud,{spec:s,children:(0,lt.jsx)(hr,{size:"small"})}),renderDisabled:()=>(0,lt.jsx)(ap.m,{onClick:e=>{i.logInteraction(e?s.shuffleButtonFactory().hitShuffleEnable():s.shuffleButtonFactory().hitShuffleDisable())}})}),o&&(0,lt.jsx)(Jm.y,{onClick:e=>{i.logInteraction(s.seekBackButtonFactory().hitSeekByTime({msSeekedOffset:e}))}}),(0,lt.jsx)(ep.q,{onClick:()=>{const e=t.getState();e&&i.logInteraction(s.previousButtonFactory().hitSkipToPrevious({itemToBeSkipped:e.item?.uri||"",positionMs:(0,ip.E)(e)??-1,totalContentMs:e.duration??-1}))}})]}),(0,lt.jsx)($m.a,{onClick:e=>{const n=t.getState();n?.item&&("resume"===e?i.logInteraction(s?.playPauseButtonFactory().hitResume({itemToBeResumed:n.item.uri})):"pause"===e&&i.logInteraction(s?.playPauseButtonFactory().hitPause({itemToBePaused:n.item.uri})))}}),(0,lt.jsxs)("div",{className:"player-controls__right",children:[(0,lt.jsx)(Qm,{children:(0,lt.jsx)(tp.s,{onClick:()=>{const e=t.getState();e?.item&&i.logInteraction(s.nextButtonFactory().hitSkipToNext({itemToBeSkipped:e.item.uri,positionMs:(0,ip.E)(e)??-1,totalContentMs:e.duration??-1}))}})}),o&&(0,lt.jsx)(Zm.C,{onClick:e=>{i.logInteraction(s.seekForwardButtonFactory().hitSeekByTime({msSeekedOffset:e}))}}),!o&&(0,lt.jsx)(rp.a,{onClick:e=>{const t={[k.Su.REPEAT_NONE]:s.repeatButtonFactory().hitRepeatDisable(),[k.Su.REPEAT_TRACK]:s.repeatButtonFactory().hitRepeatOneEnable(),[k.Su.REPEAT_CONTEXT]:s.repeatButtonFactory().hitRepeatEnable()};i.logInteraction(t[e])}})]})]}),(0,lt.jsx)(yi,{isPreview:e})]})}));var lp=n(59604);const cp="main-nowPlayingBar-container",dp="main-nowPlayingBar-nowPlayingBar",up="main-nowPlayingBar-isAnonymous",mp="main-nowPlayingBar-enter",pp="main-nowPlayingBar-enterActive",hp="main-nowPlayingBar-enterDone",gp="main-nowPlayingBar-left",fp="main-nowPlayingBar-center",yp="main-nowPlayingBar-right",_p=()=>{const{isAnonymous:e}=(0,ze.w1)(Rl.cx),t=(0,ze.OY)(),n=(0,ei.w)(),s=(0,zs.o)((e=>e),((e,t)=>e?.hasContext===t?.hasContext&&e?.item?.uri===t?.item?.uri)),i=(0,zs.o)((e=>(0,k.UZ)(e?.item??void 0))),r=(0,Bn.Q)(),a=(0,lp.k)();(0,$e.useEffect)((()=>{r.setForcedShuffle(a)}),[a,r]);const o=(0,$e.useCallback)((e=>{e.stopPropagation(),t((0,Qo.KK)()),n({intent:"signup",type:"click"})}),[t,n]),l=()=>(0,lt.jsx)(xo.Ck.Provider,{value:"now_playing_bar",children:(0,lt.jsxs)("div",{className:e?up:dp,children:[(0,lt.jsx)("div",{className:gp,children:(0,lt.jsx)(Gm,{})}),(0,lt.jsx)("div",{className:fp,children:(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(op,{isPreview:e})})}),(0,lt.jsx)("div",{className:yp,children:(0,lt.jsx)(sm,{})})]})});return(0,lt.jsx)(Ml.y,{surface:Dl.g.NOW_PLAYING,children:(0,lt.jsx)(Cl,{children:(0,lt.jsx)(Ni.oL,{value:"now-playing-bar",children:(0,lt.jsxs)("footer",{className:cp,"":"now-playing-bar","data-testadtype":"ad-type-"+(i?"ad":"none"),children:[e?(0,lt.jsx)(Ni.oL,{value:"preview-bar",children:(0,lt.jsx)(el,{handleClick:o})}):null,e?(0,lt.jsx)(Fo.c,{in:s?.hasContext??!1,timeout:200,classNames:{enter:mp,enterActive:pp,enterDone:hp},children:l()}):l(),(0,lt.jsx)(Ll,{})]})})})})};var bp=n(51729),vp=n(50940),xp=n(57200),Cp=n(94672),Ep=n(58136),Sp=n(8708),wp=n(74852);const Ip=({elementRef:e})=>{const{spec:t,logger:n}=(0,Jn.gp)(vp.I,{data:{identifier:"yourlibraryx"}}),s=(0,Ep.QV)(),{isGridView:i}=(0,Cp.y)(),{size:r,setSize:a,minMaxRanges:o}=(0,xp.Pi)(),l=(0,Hc.k)();let d="default";s===Ep.MT.COLLAPSED?d="collapsed":s===Ep.MT.EXPANDED&&(d=i?"expanded_grid":"expanded_list");const u=(0,$e.useCallback)(((e,s)=>{e!==s&&n.logInteraction(t.sidebarFactory({uri:"",identifier:d}).dragUiResize({startSizePx:e,endSizePx:s}))}),[n,d,t]);return(0,lt.jsx)(wp.u,{elementRef:e,placement:"inline-end",label:c._s.get("resize.sidebar"),cssCustomProperty:"--left-sidebar-width",onCSSPropertyChange:e=>{a(e)},initialValue:r,ranges:o,decreaseSizeKeyboardCombination:l?Sp.Yj.NPV_SIDEBAR_DECREASE_WIDTH:Sp.Yj.YLX_SIDEBAR_DECREASE_WIDTH,increaseSizeKeyboardCombination:l?Sp.Yj.NPV_SIDEBAR_INCREASE_WIDTH:Sp.Yj.YLX_SIDEBAR_INCREASE_WIDTH,afterResizing:u})},Ap={},Tp=e=>null===e.match(/\/search\/(\w+|\W+){1,}/gi)?e:"search-result",kp=({scrollNodeRef:e,children:t,scrollNodeChildRef:n})=>{const s=(0,$e.useRef)(""),i=(0,Gt.IT)(),r=(0,Gt.KM)(),a=(0,$e.useCallback)((()=>{if(!e.current)return()=>{};const t=Tp(i.pathname),n=Ap[t];let s;if(n&&"POP"===r){const t=Date.now(),i=()=>{!e.current||Date.now()>t+3e3?clearInterval(s):e.current.scrollHeight>=n+e.current.offsetHeight&&(e.current.scrollTop=n,clearInterval(s))};s=setInterval(i,50),i()}else e.current.scrollTop=0;return()=>{clearInterval(s)}}),[i.pathname,r,e]);(0,$e.useMemo)((()=>{if(!e.current)return;const t=Tp(s.current);Ap[t]=e.current.scrollTop,s.current=i.pathname}),[i.pathname,e]),(0,$e.useLayoutEffect)((()=>a()),[i.pathname,a,e]);const o=(0,$e.useMemo)((()=>({scrollNodeRef:e,scrollNodeChildRef:n})),[e,n]);return(0,lt.jsx)(xo.Ib.Provider,{value:o,children:t})};var Np=n(16704);const Op={isRightSidebarVisible:!0,isNavBarVisible:!0,isNowPlayingBarVisible:!0,isTopBarVisible:!0,isMainViewExpanded:!1},Pp=(e,t)=>{switch(t.type){case"resetMainView":return{...e,isRightSidebarVisible:!0,isNavBarVisible:!0,isNowPlayingBarVisible:!0,isTopBarVisible:!0,isMainViewExpanded:!1};case"collapseMainView":return{...e,isRightSidebarVisible:!1,isNavBarVisible:!1,isNowPlayingBarVisible:!1,isTopBarVisible:!1,isMainViewExpanded:!0};default:return e}},jp=({children:e})=>{const[t,n]=(0,$e.useReducer)(Pp,Op),s=(0,$e.useMemo)((()=>({...t,resetMainView:()=>n({type:"resetMainView"}),collapseMainView:()=>n({type:"collapseMainView"})})),[t,n]);return(0,lt.jsx)(xo.CI.Provider,{value:s,children:e})};var Lp=n(8508);function Rp(e){const[{backgroundColor:t}]=(0,Xe.IB)();return t||e}var Dp=n(53048),Mp=n(35632),Up=n(29828),Fp=n(6356),Bp=n(45208);const Gp="main-topBar-buddyFeed",Vp="OomFKn3bsxs5JfNUoWhz",Hp=({onClick:e,tooltipLabel:t,ariaLabel:n,className:s,disabled:i,testId:r,children:a})=>(0,Bp.u)()?(0,lt.jsx)($i.Yl,{label:t,children:(0,lt.jsx)(Xi.u,{"aria-label":n,onClick:e,size:"small",condensedAll:!0,"":r,className:xs()(Vp,s),children:a})}):(0,lt.jsx)($i.Yl,{label:t,children:(0,lt.jsx)("div",{children:(0,lt.jsx)("button",{"aria-label":n,className:xs()((0,Fp.G2)("overMedia"),Gp,s),onClick:e,disabled:i,children:a})})});var Wp=n(82504),zp=n(65236);const Yp="JIe5XMFAmndk8DixV2Fx",Kp="yRUfkShsfFgmKDGQecQx",qp="U4KM5z2i9A1UIqSMeb8j",Qp="i4U6fGJ1uNnhcEdolupw",Xp="J6A9aow8cpEUaXf95ugy",$p="VEodXIwwSRHEPs7Jf_rY",Jp="RJ0HsE4l4IupzDZ0I81E",Zp="VzKX2Nsm8Om28HNZKAxw",eh="F2dm23QgzgaG6HEMwbIe",th="TNtk3EtK26NLJU5k6ijs",nh="jNrWmqpL_BVDbH9l0f2V",sh="Qsfl4SOKzhFp6D7ZFFnJ",ih="_9GxBNqQu44Fs7sjGHFqS",rh="Kg7qtoTRXVrgIkCUwr6j",ah="oma2_Xp2GOh_zzMiiCtf",oh="TOY4x4xKcSdwyQ25qYme",lh="DxUgJBWV1WHwiO85aa3x",ch="hued2FEE4a9u22ksMs6p",dh=()=>(0,lt.jsx)("div",{className:xs()(qp,Qp,Xp),children:(0,lt.jsx)(Cs.a,{semanticColor:"textSubdued",variant:"marginal",children:c._s.get("web-player.notification-center.empty-state")})});var uh=n(46559);const mh=({lastItemRef:e})=>(0,lt.jsx)("div",{className:xs()(qp,Qp),ref:e,children:(0,lt.jsx)(uh.Aw,{semanticColor:"textSubdued"})});var ph=n(23460),hh=n(74712);const gh=({primaryImages:e})=>(0,lt.jsx)("div",{className:eh,children:e.length>1?(0,lt.jsx)("div",{className:sh,children:e.map(((t,n)=>(0,lt.jsx)("div",{className:ih,style:{zIndex:e.length-n},children:(0,lt.jsx)(hh.C,{imageClassName:Jp,placeholderClassName:Jp,label:"notificationAvatar",width:32,images:[{url:t.image_url}],userIconSize:"medium",username:t.displayName,displayName:t.displayName})},n)))}):(0,lt.jsx)(hh.C,{images:e.map((e=>({url:e.image_url}))),userIconSize:"large",label:"notificationAvatar",width:48,username:e[0]?.displayName,displayName:e[0]?.displayName})}),fh=({primaryImage:e,secondaryImage:t})=>(0,lt.jsxs)("div",{className:eh,children:[(0,lt.jsx)(ph.W,{className:th,src:e.image_url}),(0,lt.jsx)(hh.C,{className:nh,imageClassName:Jp,placeholderClassName:Jp,label:"notificationAvatar",width:24,images:[{url:t.image_url}],userIconSize:"small",username:t.displayName,displayName:t.displayName})]});var yh=n(42692),_h=n.n(yh);let bh=function(e){return e.UNKNOWN_STATE="UNKNOWN_STATE",e.UNREAD="UNREAD",e.READ="READ",e.CLICKED="CLICKED",e[e.UNRECOGNIZED=NaN]="UNRECOGNIZED",e}({}),vh=function(e){return e.bass="bass",e.forte="forte",e.brio="brio",e.alto="alto",e.canon="canon",e.cello="cello",e.ballad="ballad",e.ballad_bold="ballad_bold",e.viola="viola",e.viola_bold="viola_bold",e.mesto="mesto",e.mesto_bold="mesto_bold",e.metronome="metronome",e.finale="finale",e.finale_bold="finale_bold",e.minuet="minuet",e.minuet_bold="minuet_bold",e[e.UNRECOGNIZED=NaN]="UNRECOGNIZED",e}({});var xh=n(1516);const Ch=e=>{switch(e){case vh.bass:return"headlineLarge";case vh.forte:return"headlineMedium";case vh.brio:return"titleLarge";case vh.alto:return"titleMedium";case vh.canon:return"titleSmall";case vh.cello:case vh.ballad:return"bodyMedium";case vh.ballad_bold:return"bodyMediumBold";case vh.viola:return"bodySmall";case vh.viola_bold:return"bodySmallBold";case vh.mesto:return"bodySmall";case vh.mesto_bold:return"bodySmallBold";case vh.metronome:return"bodyMediumBold";case vh.finale:return"marginal";case vh.finale_bold:return"marginalBold";case vh.minuet:return"bodySmall";case vh.minuet_bold:return"bodySmallBold";case vh.UNRECOGNIZED:default:return"bodySmall"}},Eh=({title:e,timestamp:t})=>{let n=0;return(0,lt.jsx)("div",{className:rh,children:(0,lt.jsxs)(Cs.a,{variant:Ch(e.text?.font_style),style:{color:e.text?.text_color},children:[_h()(e.text?.text,/(\$\d+)/g,((t,s)=>{const i=(0,lt.jsx)(Cs.a,{variant:Ch(e.text_values[n].font_style),style:{color:e.text_values[n].text_color},className:ah,children:e.text_values[n].text},s);return n++,i}))," ",(0,lt.jsx)(Cs.a,{variant:"marginal",semanticColor:"textSubdued",className:ah,children:(0,xh.a)(Date.parse(t)).replace(/\s+/g,"")})]})})},Sh=()=>(0,lt.jsx)("div",{className:ch}),wh=({notification:e,markAsRead:t})=>{const{ref:n,inView:s}=(0,Wp.cD)();return(0,$e.useEffect)((()=>{s&&e.state===bh.UNREAD&&t(e.notification_id)}),[s,t,e.notification_id,e.state]),(0,lt.jsxs)("div",{className:Zp,ref:n,children:[(0,lt.jsx)(gh,{primaryImages:e.primary_images}),(0,lt.jsx)(Eh,{title:e.title,timestamp:e.event_timestamp}),e.state===bh.UNREAD&&(0,lt.jsx)("div",{className:lh,children:(0,lt.jsx)(Sh,{})})]})},Ih=({notification:e,markAsRead:t})=>{const{ref:n,inView:s}=(0,Wp.cD)();return(0,$e.useEffect)((()=>{s&&e.state===bh.UNREAD&&t(e.notification_id)}),[s,t,e.notification_id,e.state]),(0,lt.jsxs)("div",{className:Zp,ref:n,children:[(0,lt.jsx)(fh,{primaryImage:e.primary_image,secondaryImage:e.secondary_image}),(0,lt.jsx)(Eh,{title:e.title,timestamp:e.event_timestamp}),e.state===bh.UNREAD&&(0,lt.jsx)("div",{className:lh,children:(0,lt.jsx)(Sh,{})})]})},Ah=async(e,t)=>{const n=U.W.getInstance();await n.build().withHost(f.O6).withJsonContentType().withoutMarket().withMethod("POST").withBody({notification_ids:e,state:t}).withPath("/UpdateNotificationState").send()};var Th=n(63192);const kh=()=>{const{data:e,isLoading:t,fetchNextPage:n,hasNextPage:s}=(0,Th.S)({queryKey:["notifications"],queryFn:async({pageParam:e})=>await(async e=>{const t=U.W.getInstance();return(await t.build().withHost(f.O6).withJsonContentType().withoutMarket().withMethod("POST").withBody({check_further_unread:!0,cursor:e}).withPath("/GetNotifications").send()).body})(e),initialPageParam:void 0,getPreviousPageParam:e=>e.reverse_cursor,getNextPageParam:e=>e.forward_cursor,gcTime:18e5,staleTime:6e5});return{notifications:e?.pages.map((e=>e.notifications)).flat()??[],isLoading:t,hasNextPage:s,fetchNextPage:n}},Nh=({notifications:e,fetchNextPage:t,hasNextPage:n})=>{const s=(0,Gt.i6)(),i=(0,Ye.oJ)(),{ref:r,inView:a}=(0,Wp.cD)();(0,$e.useEffect)((()=>{a&&t()}),[t,a]);const o=(0,$e.useCallback)((async e=>{Ah([e],bh.CLICKED)}),[]),l=(0,$e.useCallback)((async e=>{Ah([e],bh.CLICKED)}),[]),c=(0,$e.useCallback)((e=>{const t=(0,O.nX)(e.single_notification?.action?.uri??e.double_notification?.action?.uri).toURLPath(!0);s(t),i({type:"close"})}),[i,s]),d=(0,$e.useCallback)((()=>e.map(((e,t)=>{const n=e.single_notification?.notification_id??e.double_notification?.notification_id;return(0,lt.jsx)(zp.gd,{children:(0,lt.jsx)(zp.Wo,{role:"menuitem",className:xs()(qp,$p),onClick:()=>{l(n),c(e)},children:(s=e,Object.prototype.hasOwnProperty.call(s,"single_notification")?(0,lt.jsx)(wh,{notification:e.single_notification,markAsRead:o}):(0,lt.jsx)(Ih,{notification:e.double_notification,markAsRead:o}))})},t);var s}))),[l,o,c,e]);return(0,lt.jsx)(Ai.i,{className:Kp,children:e.length>0?(0,lt.jsxs)(lt.Fragment,{children:[d(),n&&(0,lt.jsx)(mh,{lastItemRef:r})]}):(0,lt.jsx)(dh,{})})},Oh=()=>{const{notifications:e,isLoading:t,hasNextPage:n,fetchNextPage:s}=kh();return t?(0,lt.jsx)(Ai.i,{className:Kp,children:(0,lt.jsx)(mh,{})}):(0,lt.jsx)(Nh,{notifications:e,hasNextPage:n,fetchNextPage:s})};var Ph=n(40468);const jh=()=>{const{data:e}=(0,Ph.U)({queryKey:["notification-unread-status"],queryFn:async()=>await(async()=>{const e=U.W.getInstance();return(await e.build().withHost(f.O6).withJsonContentType().withoutMarket().withMethod("POST").withPath("/GetUserHasUnreadNotification").send()).body})(),staleTime:6e5,refetchInterval:e=>!e.state.data?.userHasUnreadNotification&&108e5});return e?.userHasUnreadNotification??!1},Lh=()=>{const e=jh();return(0,lt.jsx)(qc.pD,{placement:"bottom-end",menu:(0,lt.jsx)(Oh,{}),children:(0,lt.jsx)("div",{children:(0,lt.jsxs)(Hp,{tooltipLabel:c._s.get("web-player.notification-center.button-label"),ariaLabel:c._s.get("web-player.notification-center.button-label"),children:[(0,lt.jsx)(Up.M,{className:Yp,size:"small"}),e&&(0,lt.jsx)("div",{className:oh,children:(0,lt.jsx)(Sh,{})})]})})})};var Rh=n(81044),Dh=n(27892);const Mh="sp_pfhp",Uh="pfhp",Fh=()=>{const e=(0,R.Ij)(Mh),t=(()=>{const e=new URLSearchParams(window.location.search),t=e.get(Uh);return t&&(e.delete(Uh),window.history.replaceState(null,"",`${window.location.origin}${window.location.pathname}?${e}`)),t})();return t&&t!==e?((0,R.y)({name:Mh,value:t,days:30}),t):e},Bh=()=>{if("undefined"==typeof window)return!1;return"2c2ccb58-8a92-4713-a1c0-8b43b3090b49"===Fh()};var Gh=n(90376),Vh=n(99070),Hh=n(56092),Wh=n(15124),zh=n(81940);const Yh="400ms",Kh="main-topBarStatusIndicator-TopBarStatusIndicatorContainer",qh="main-actionButtons-button",Qh="main-noConnection-isError",Xh="main-noConnection-isNotice",$h="main-topBarStatusIndicator-hasTooltip",Jh="main-topBarStatusIndicator-tooltipIsError",Zh="main-topBarStatusIndicator-enter",eg="main-topBarStatusIndicator-enterActive",tg="main-topBarStatusIndicator-exitActive",ng="main-topBarStatusIndicator-tooltipEnter",sg="main-topBarStatusIndicator-notMinimized",ig="main-topBarStatusIndicator-tooltipEnterActive";let rg=function(e){return e.ERROR="ERROR",e.NOTICE="NOTICE",e}({});const ag=(0,$e.memo)((function(e){const{children:t,feedbackType:n,tooltip:s,itemId:i,display:r=!0,minimized:a=!1,spec:o}=e,l=(0,$e.useRef)(null),c=(0,ei.w)(),d=(0,Jn.Mk)();return(0,lt.jsx)(Fo.c,{in:r,timeout:parseInt(Yh,10),unmountOnExit:!0,onEnter:e=>{a||e.classList.add(ng)},onEntered:e=>{a||e.classList.add(ig)},onExited:e=>{a||e.classList.remove(ig)},classNames:{enter:Zh,enterActive:eg,exitActive:tg},children:(0,lt.jsx)(Ni.oL,{value:i,children:(0,lt.jsx)("div",{className:xs()(Kh,{[sg]:!a}),children:(0,lt.jsx)(mc.GS,{offset:[-2,20],action:"toggle",trigger:"click",content:(0,lt.jsx)(mc.qQ,{className:xs()({[Jh]:n===rg.ERROR}),children:(0,lt.jsx)("div",{children:s})}),renderInline:!1,children:(0,lt.jsx)("button",{className:xs()(qh,{[$h]:s,[Qh]:n===rg.ERROR,[Xh]:n===rg.NOTICE}),onClick:()=>{c({intent:"toggle",type:"click"}),o&&d.logInteraction(o.hitUiReveal())},ref:l,"":i,children:t})})})})})}));var og=n(13932);const lg="P8EYxpJkrSRcmY5CFfgZ",cg="oMR8tk4wMj9_exGQeapz",dg="qq3uDmbXwv31FKawHDIg",ug="B64o12iyKiKF4s8uuClS";function mg(e){if(null===e)return null;const t=Math.abs(Date.now()-e.getTime());if(t<1e3)return null;const{hours:n,minutes:s,seconds:i}=(0,zh.s)(t),r=(0,Hh.P)({h:n,m:s,s:i});return c._s.get("authorization-status.retrying",r)}const pg=({retryAt:e})=>{const t=(0,Sn.e)(),[n,s]=(0,$e.useState)(mg(e)),i=(0,Ye.oJ)();return(0,$e.useEffect)((()=>{const t=window.setInterval((()=>{s(mg(e))}),500);return()=>{window.clearInterval(t)}}),[e,s]),(0,lt.jsxs)("div",{className:lg,children:[(0,lt.jsx)(Cs.a,{as:"p",variant:"bodyMediumBold",children:c._s.get("authorization-status.title")}),(0,lt.jsx)("span",{className:cg,children:n??c._s.get("authorization-status.reconnecting")}),(0,lt.jsxs)("div",{className:dg,children:[(0,lt.jsx)(Xi.u,{semanticColor:"textBase",buttonSize:Gh.q.sm,onClick:()=>{i({type:"close"})},children:c._s.get("authorization-status.dismiss")}),(0,lt.jsx)(Es.g,{className:ug,buttonSize:Gh.q.sm,onClick:()=>t.tryAuthorize(),children:c._s.get("authorization-status.retry")})]})]})},hg=({minimized:e,spec:t})=>{const n=(0,og.O)(),{isAuthorized:s,retryAt:i}=(0,Wh.q)();return(0,tt.IP)(_e.WWM)?(0,lt.jsxs)(ag,{feedbackType:rg.ERROR,minimized:e,display:n&&!s,spec:t,tooltip:(0,lt.jsx)(pg,{retryAt:i}),itemId:"authorization-status-indicator",children:[(0,lt.jsx)(Vh.x,{size:"small"}),c._s.get("authorization-status.badge")]}):null};var gg=n(21212),fg=n(66852),yg=n(11732);const _g="PYPe3hJJmzsQV6XoN3Cl",bg="mqsHTSdyZwgRvD2Kylc1",vg="/preferences",xg=({spec:e})=>{const t=(0,Jn.Mk)(),n=(0,Ye.oJ)(),s=(0,$e.useCallback)((()=>{n({type:"close"}),t.logInteraction(e.dsaModeTooltipFactory().hitUiNavigate({destination:vg}))}),[n,t,e]);return(0,lt.jsxs)(Cs.a,{className:_g,variant:"bodySmall",children:[c._s.get("topBar.dsa-indicator"),(0,lt.jsx)(yg.default,{to:vg,search:"?highlight=dsa",className:bg,onClick:s,children:c._s.get("topBar.dsa-cta")})]})},Cg=({spec:e})=>{const t=(0,fg.w)();return(0,lt.jsx)(ag,{feedbackType:rg.NOTICE,minimized:!0,display:!t,tooltip:(0,lt.jsx)(xg,{spec:e}),itemId:"dsa-mode-status-indicator",spec:e,children:(0,lt.jsx)(gg.i,{size:"small"})})};var Eg=n(8916);const Sg=({minimized:e,spec:t})=>{const n=!(0,og.O)();return(0,lt.jsxs)(ag,{feedbackType:rg.NOTICE,minimized:e,display:n,spec:t,tooltip:c._s.get("offline.callout-disconnected"),itemId:"offline-status-indicator",children:[(0,lt.jsx)(Eg.i,{size:"small"}),c._s.get("offline.badge")]})};var wg=n(18632),Ig=n(11988);const Ag=({minimized:e,spec:t})=>{const{isPrivateSession:n}=(0,Ig.G)();return(0,lt.jsxs)(ag,{feedbackType:rg.NOTICE,minimized:e,display:n,tooltip:c._s.get("private-session.badge"),spec:t,itemId:"private-session-indicator",children:[(0,lt.jsx)(wg.H,{size:"small"}),c._s.get("private-session.badge")]})},Tg=$e.memo((function(e){const t=(0,Rh.Y)("(max-width: 1023px)"),n=(0,$e.useMemo)((()=>e.spec?.privateSessionButtonFactory()),[e.spec]),s=(0,$e.useMemo)((()=>e.spec?.offlineButtonFactory()),[e.spec]),i=(0,$e.useMemo)((()=>e.spec?.authorizationButtonFactory()),[e.spec]),r=(0,$e.useMemo)((()=>e.spec?.dsaModeButtonFactory()),[e.spec]);return(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Ag,{spec:n,minimized:t}),(0,lt.jsx)(Sg,{spec:s,minimized:t}),(0,lt.jsx)(hg,{spec:i,minimized:t}),(0,lt.jsx)(Cg,{spec:r})]})}));var kg=n(62572),Ng=n(54820),Og=n(83388),Pg=n(92292),jg=n(92280);function Lg(e,t){switch(t.type){case"installed":return{...e,installed:!0};case"before-install":return{...e,deferredPrompt:t.prompt,canBeInstalled:!0};default:return e}}const Rg=$e.memo((({logger:e,spec:t})=>{const n=(0,ze.OY)(),s=(0,ts.mg)(),i=(0,jg.A)(),{enqueueSnackbar:r}=(0,Pg.u)(),[a,o]=(0,$e.useReducer)(Lg,{deferredPrompt:void 0,installed:!1,canBeInstalled:!1});(0,$e.useEffect)((()=>{const e=()=>{o({type:"installed"}),r(c._s.get("pwa.confirm"));const e={action_type:"unknown",action_intent:"pwa-installed",target_uri:"/pwa-install-confirmation",item_id:"pwa",view_uri:"/unknown",page:"/page"};s.send(i?(0,Og.Q)(e):(0,Ng.i)(e))},t=e=>{e.preventDefault(),o({type:"before-install",prompt:e})};return window.addEventListener("beforeinstallprompt",t),window.addEventListener("appinstalled",e),()=>{window.removeEventListener("beforeinstallprompt",t),window.removeEventListener("appinstalled",e)}}),[n,r,s,i]);const l=(0,$e.useCallback)((n=>{if(n.preventDefault(),t&&e){const n=t.installPwaButtonFactory().hitInstallApp({appName:"pwa"});e.logInteraction(n)}a.deferredPrompt&&a.deferredPrompt.prompt()}),[t,e,a.deferredPrompt]),{canBeInstalled:d,installed:u}=a;return!d||u?null:(0,lt.jsx)(Es.g,{colorSet:"overMedia",size:"small",onClick:l,iconLeading:Mu.s,children:(0,lt.jsx)(Cs.a,{variant:"bodySmallBold",className:"ellipsis-one-line",children:c._s.get("pwa.download-app")})})}));var Dg=n(97192);const Mg=$e.memo((({shouldCalloutPWA:e,spec:t,logger:n})=>{const s=(0,$e.useCallback)((()=>{if(!t||!n)return;const e=t.installAppButtonFactory().hitNavigateToExternalUri({destination:"/download"});n.logInteraction(e)}),[n,t]),[i,r]=(0,$e.useState)(!1),a=(0,$e.useRef)(null);if((0,kg.m)({onResize:({width:e})=>{a.current?.scrollWidth&&e<a.current?.scrollWidth?r(!0):r(!1)},refOrElement:a}),!e){const e=(0,lt.jsx)(Es.g,{colorSet:"overMedia",size:"small",href:"/download",iconLeading:Mu.s,onClick:s,component:Dg.m,children:(0,lt.jsx)(Cs.a,{variant:"bodySmallBold",className:"ellipsis-one-line",ref:a,children:c._s.get("navbar.install-app")})});return i?(0,lt.jsx)($i.Yl,{label:c._s.get("navbar.install-app"),children:e}):e}return(0,lt.jsx)(Rg,{logger:n,spec:t})}));var Ug=n(83336),Fg=n(54584),Bg=n(88004),Gg=n(60156),Vg=n(32848);const Hg=({...e})=>{const t=(0,Gt.i6)(),{spec:n,logger:s}=(0,Jn.gp)(Mp.M,{}),i=(0,$e.useMemo)((()=>n.upgradeButtonFactory()),[n]),r=(0,Jn.K2)(i),a=(0,$e.useCallback)((()=>{s.logInteraction(i.hitUiNavigate({destination:"spotify:app:premium"}))}),[s,i]),o=c._s.getLocaleForURLPath(),l=(0,ze.w1)(Vg.Y3),d=(0,ze.w1)(Vg.Oq),u=(0,Bg.QZ)({localeFeatureFlag:l,entityFeatureFlag:d,urlLocale:o,entity:P.s.PREMIUM,type:"link"})?(0,Fg.oP)("/premium"):"/premium";return(0,lt.jsx)(Es.g,{...e,style:{flexShrink:0},ref:r,size:"small",onClick:(0,Gg.I)()?()=>{a(),t(u)}:e.onClick,"aria-label":c._s.get("upgrade.tooltip.title"),title:c._s.get("upgrade.tooltip.title"),colorSet:"invertedLight","":"upgrade-button",children:c._s.get("upgrade.button")})};var Wg=n(46528),zg=n(73396);const Yg=Zt.s7.BUDDY_FEED_BUTTON_CLICK,Kg=()=>{const e=(0,hl.YV)(Yg),{isActive:t,panelSend:n}=(0,Zt.au)(La.s.BuddyFeed),{isSupported:s}=(0,ss.C)().getCapabilities(),i=(0,og.O)(),r=(0,$e.useCallback)((()=>{n(Yg)}),[n]);return s?(0,lt.jsx)(Hp,{tooltipLabel:i?c._s.get("buddy-feed.friend-activity"):c._s.get("offline.feedback-text"),ariaLabel:c._s.get("buddy-feed.friend-activity"),disabled:!e,onClick:r,testId:"friend-activity-button",children:t?(0,lt.jsx)(Wg.y,{size:"small",semanticColor:"textBase"}):(0,lt.jsx)(zg.W,{size:"small"})}):null},qg=()=>{const e=(0,jg.A)();return(0,tt.IP)(_e.W4V)&&!e};var Qg=n(66320),Xg=n(3827),$g=n(74892),Jg=n(49812);const Zg=Spicetify.GraphQL.Definitions["queryWhatsNewFeed"]=new G.a("queryWhatsNewFeed","query","42b983083fe92ea24246619542c3df981ae64ef44b5dea76e9cd577094eba039",null),ef=Spicetify.GraphQL.Definitions["whatsNewFeedNewItems"]=new G.a("whatsNewFeedNewItems","query","42b983083fe92ea24246619542c3df981ae64ef44b5dea76e9cd577094eba039",null),tf=Spicetify.GraphQL.Definitions["SetItemsStateInWhatsNewFeed"]=new G.a("SetItemsStateInWhatsNewFeed","mutation","42b983083fe92ea24246619542c3df981ae64ef44b5dea76e9cd577094eba039",null);var nf=n(12529);const sf="main-topBar-whatsNewFeedNotification",rf="main-topBar-whatsNewFeedNotificationTitle",af="main-topBar-whatsNewFeedNotificationDot";function of(){const{name:e}=Zg;return[e]}const lf=()=>{const e=(0,Gt.i6)(),t=(0,Gt.IT)(),n=(0,rc.K)(),s="/content-feed"===t.pathname,i=s,[r,a]=(0,$e.useState)(!1),{request:o}=(0,$e.useContext)(K.Q9),l=(0,Ze.q$)(),{spec:d,logger:u}=(0,Jn.gp)($g.o,{});(0,$e.useEffect)((()=>{let e=!1;const t=setInterval((async()=>{let t;try{t=await(0,Jg.M)(o,ef,{})}catch{return}if(t?.errors)return;const n=t?.data?.whatsNewFeedHasNewItems||!1;if(n&&!e){const e=d.notificationsBellToggleFactory().notificationsIndicatorFactory().impression();u.logImpression(e),a(!0),l.invalidateQueries({queryKey:of()})}e=n}),144e5);return()=>{clearInterval(t)}}),[u,l,o,d]);const m=()=>(0,lt.jsxs)("div",{className:sf,"":"notification-dot",children:[(0,lt.jsx)("span",{className:rf,children:c._s.get("new_releases")}),(0,lt.jsx)(nf.E,{className:af})]}),p=(0,$e.useCallback)((()=>{s?(u.logInteraction(d.notificationsBellToggleFactory().hitUiNavigateBack()),n.length>1?n.goBack():e("/")):(a(!1),u.logInteraction(d.notificationsBellToggleFactory().hitUiNavigate({destination:"spotify:app:content-feed"})),e("/content-feed"))}),[s,u,d,n,e]);return(0,lt.jsxs)(Hp,{tooltipLabel:c._s.get("web-player.whats-new-feed.button-label"),ariaLabel:c._s.get("web-player.whats-new-feed.button-label"),testId:"whats-new-feed-button",onClick:p,children:[i?(0,lt.jsx)(Qg.E,{size:"small",semanticColor:"textBase"}):(0,lt.jsx)(Xg._,{size:"small"}),r&&(0,lt.jsx)(m,{})]})},cf=()=>(0,ze.w1)(Rl.SM);var df=n(18612),uf=n(52720);const mf=(e,t)=>{const n=(0,ze.OY)(),s=(()=>{const e=(0,jg.A)(),t=cf(),n=(0,tt.IP)(_e.gbJ),s=!!(0,Gt.SC)({path:"/search",end:!1}),i=!!(0,Gt.SC)({path:"/collection",end:!1}),r=!!(0,Gt.SC)({path:"/collection/tracks"});return!(n||e||i&&!r||s)&&t})(),{openURLWithSessionTransfer:i}=(0,Dh.W)(),r=(0,df.o)("loggedin_upgrade_button");return{shouldShowUpgradeButton:s,onUpgradeClick:(0,$e.useCallback)((()=>{t.logInteraction(e.hitNavigateToExternalUri({destination:r(Ss.u6)})),i(r(Ss.u6),"_blank"),n((0,uf.A)({action_type:"gtm.upgradeClick",action_intent:"upgrade-dwp",item_id:"dwp-top-bar"}))}),[n,i,r,t,e])}};var pf=n(7532),hf=n(2788),gf=n(51396),ff=n(49320);const yf="YyUcY0HTiYikUOwhh29d",_f=(e,t)=>{if(!t)return null;const n=((e,t)=>{const[n=1,s=0,i=0,r=0]=e.split("."),[a=1,o=0,l=0,c=0]=t.split("."),d=1e9*Number(n)+1e6*Number(s)+1e4*Number(i)+Number(r);return 1e9*Number(a)+1e6*Number(o)+1e4*Number(l)+Number(c)-d})(e,t);return n>=2e4?"negative":n>=1e3?"warning":n>=500?"announcement":null},bf=()=>{const e=(0,gf.k)(),t=(0,$e.useContext)(cn.s),n=(0,$e.useCallback)((()=>{t.prepareUpdate()}),[t]),s=(0,$e.useCallback)((()=>{t.applyUpdate()}),[t]),[i,r]=(0,$e.useState)(null),a=e?.version;if((0,$e.useEffect)((()=>{t.getVersionInfo().then((e=>{const t=e.containerVersion.split(".");5===t.length&&t.pop(),r(t.join("."))}))}),[t]),e?.state===ff.y.UPDATE_NONE)return null;if(!i||!a)return null;const o=_f(i,a);if(!o)return null;switch(e?.state){case ff.y.UPDATE_AVAILABLE:return(0,lt.jsx)($i.Yl,{label:c._s.get("release-notifier.update-available",a),children:(0,lt.jsx)(Es.g,{size:"small",colorSet:o,onClick:n,className:yf,children:a})});case ff.y.UPDATE_PROCESSING:return(0,lt.jsx)($i.Yl,{label:c._s.get("release-notifier.update-processing",a),children:(0,lt.jsx)(Es.g,{size:"small",colorSet:o,disabled:!0,onClick:s,className:yf,children:a})});case ff.y.UPDATE_READY:return(0,lt.jsx)($i.Yl,{label:c._s.get("release-notifier.update-ready",a),children:(0,lt.jsx)(Es.g,{size:"small",colorSet:o,onClick:s,className:yf,children:a})});default:return null}},vf=()=>{const{settings:e}=(0,hf._)();return(0,pf.getIsEmployeeDesktopSettings)(e.values)?(0,lt.jsx)(bf,{}):null},xf=()=>(0,lt.jsx)(vf,{});var Cf=n(33868),Ef=n(32976),Sf=n(70096),wf=n(99432),If=n(93464),Af=n(59148),Tf=n(72112),kf=n(95128);function Nf(e,t){return t?(0,kf.O)(e):(0,Tf.E)(e)}const Of=({divider:e,visible:t})=>{const n=(0,ts.mg)(),s=(0,jg.A)(),i=(0,$e.useCallback)((()=>{n.send(Nf({category:"masthead",action:"click",label:"download-link",destination_url:Ss.u4,context:window.location.href,os:(0,v.k)(),variant:"a"},s))}),[n,s]);return t?(0,lt.jsx)(ki.I,{divider:e,role:"menuitem",href:Ss.u4,onClick:i,target:"_blank",trailingIcon:(0,lt.jsx)(Af.K,{size:"small"}),children:c._s.get("download.download")}):null},Pf=({divider:e,ubiLogger:t,ubiSpec:n})=>{const s=(0,ze.OY)(),i=(0,$e.useCallback)((()=>{t.logInteraction(n.goToUpgradePlanPageRowFactory().hitNavigateToExternalUri({destination:Ss.k0})),s((0,uf.A)({action_type:"gtm.upgradeClick",action_intent:"upgrade-dwp",item_id:"dwp-top-bar"}))}),[s,t,n]);return(0,lt.jsx)(ki.I,{divider:e,role:"menuitem",trailingIcon:(0,lt.jsx)(Af.K,{size:"small"}),onClick:i,href:Ss.k0,target:"_blank",children:c._s.get("navbar.premium")})},jf=({divider:e,visible:t})=>{const n=(0,ts.mg)(),s=(0,jg.A)(),i=(0,$e.useCallback)((()=>{n.send(Nf({category:"masthead",action:"click",label:"support-link",destination_url:Ss.Yd,context:window.location.href,os:(0,v.k)(),variant:"a"},s))}),[n,s]);return t?(0,lt.jsx)(ki.I,{divider:e,role:"menuitem",href:Ss.Yd,onClick:i,target:"_blank",trailingIcon:(0,lt.jsx)(Af.K,{size:"small"}),children:c._s.get("user.support")}):null},Lf="8px",Rf="main-userWidget-box",Df="main-userWidget-boxCondensed",Mf="KAq2kDjXj2VS4eXrFL4i",Uf="main-userWidget-dropDownMenu",Ff="LKfKy7bXKmlkMEANVJMS",Bf="NqzueDshzvgXEygqOGPG",Gf="main-userWidget-screenReaderOnly",Vf="main-userWidget-notificationDot",Hf="tU7KjNh_lnoniCY_3zHQ",Wf="kD6L2BtiukbMHbIwCNef",zf="main-userWidget-unableToUpdate",Yf="main-userWidget-notificationIndicator",Kf="FZ4y0Q61kFpjJzUjCvSa",qf="main-userWidget-setupPlan",Qf="main-userWidget-hasAvatar",Xf=()=>{const e=(0,ze.w1)((e=>e.platform.isDesktop)),{spec:t,logger:n}=(0,Jn.gp)(If.createDesktopUserWidgetMenuEventFactory,{});return(0,$e.useEffect)((()=>{n.logImpression(t.impression())}),[n,t]),e?null:(0,lt.jsx)("div",{className:Uf,children:(0,lt.jsxs)(Ai.i,{children:[(0,lt.jsx)(Pf,{ubiSpec:t,ubiLogger:n}),(0,lt.jsx)(jf,{visible:!0}),(0,lt.jsx)(Of,{visible:!0})]})})};function $f(e){if(null===e)return null;const t=e["multiuserplan-member-type"],n=parseInt(e["multiuserplan-current-size"]||"1",10);switch(t){case"FAMILY_MANAGER":return{plan:"family",currentSize:n};case"DUO_MANAGER":return{plan:"duo",currentSize:n};default:return null}}const Jf=`${Ss.Ap}?utm_source=spotify&utm_medium=menu&utm_campaign=your_account`,Zf=({divider:e,ubiLogger:t,ubiSpec:n})=>{const{openURLWithSessionTransfer:s}=(0,Dh.W)();return(0,lt.jsx)(ki.I,{divider:e,role:"menuitem",trailingIcon:(0,lt.jsx)(Af.K,{size:"small"}),onClick:()=>{t.logInteraction(n.goToAccountPageRowFactory().hitUiNavigate({destination:Jf})),s(Jf)},children:c._s.get("user.account")})};var ey=n(93246),ty=n(21448);const ny=()=>{const{settings:e}=(0,hf._)(),t=(0,pf.getIsEmployeeDesktopSettings)(e.values),{show:n}=(0,ty.U)();return t?(0,lt.jsxs)(ey.I,{displayText:"Debug Tools",children:[(0,lt.jsx)(ki.I,{role:"menuitem",onClick:()=>n(),children:"Debug Window"}),!1,(0,lt.jsx)(ki.I,{role:"menuitem",to:"/debug/locales",children:"Locales"})]}):null};var sy=n(54420);const iy=({divider:e,ubiLogger:t,ubiSpec:n})=>{const s=(0,ze.OY)(),i=(0,$e.useCallback)((()=>{t.logInteraction(n.logOutRowFactory().hitLogout()),s((0,sy.YX)())}),[s,t,n]);return(0,lt.jsx)(ki.I,{divider:e,role:"menuitem",onClick:i,"":"user-widget-dropdown-logout",children:c._s.get("user.log-out")})},ry=({divider:e,planAttributes:t,ubiSpec:n,ubiLogger:s})=>{const{openURLWithSessionTransfer:i}=(0,Dh.W)(),r="duo"===t.plan?"https://www.spotify.com/account/duo/":"https://www.spotify.com/account/family/";return(0,lt.jsx)(ki.I,{divider:e,role:"menuitem",trailingIcon:(0,lt.jsx)(Af.K,{size:"small"}),onClick:()=>{s.logInteraction(n.goToPlanManagementFactory().hitNavigateToExternalUri({destination:r})),i(r)},children:(0,lt.jsxs)("span",{className:qf,children:["duo"===t.plan?c._s.get("user.setup-duo"):c._s.get("user.setup-family"),t.currentSize<=1&&(0,lt.jsx)(nf.E,{className:Vf,name:"dot-icon"})]})})},ay=({visible:e,divider:t,ubiSpec:n,ubiLogger:s})=>{const{isPrivateSession:i,setPrivateSession:r}=(0,Ig.G)(),a=(0,$e.useCallback)((()=>{s.logInteraction(n.togglePrivateSessionRowFactory().hitSetSettingField()),r(!i)}),[r,i,s,n]);return e?(0,lt.jsx)(ki.I,{divider:t,role:"menuitemcheckbox","aria-checked":i,onClick:a,children:c._s.get("user.private-session")}):null},oy="/preferences",ly=({divider:e,ubiLogger:t,ubiSpec:n})=>(0,lt.jsx)(ki.I,{divider:e,role:"menuitem",to:oy,onClick:()=>{t.logInteraction(n.goToSettingsRowFactory().hitUiNavigate({destination:oy}))},children:c._s.get("user.settings")}),cy=({divider:e,ubiLogger:t,ubiSpec:n})=>{const s=(0,gf.k)(),i=(0,$e.useContext)(cn.s),r=(0,$e.useCallback)((()=>{t.logInteraction(n.updateClientRowFactory().hitUiHide()),i.applyUpdate()}),[i,t,n]);return s?.state!==ff.y.UPDATE_READY?null:(0,lt.jsx)(ki.I,{divider:e,role:"menuitem",onClick:r,trailingIcon:(0,lt.jsx)(nf.E,{className:Vf}),"":"user-widget-update-available",children:c._s.get("user.update-client")})},dy=({divider:e})=>{const t=(0,ze.OY)(),n=(0,$e.useCallback)((e=>{e.preventDefault(),t((0,He.M9)())}),[t]);return(0,lt.jsx)(ki.I,{divider:e,role:"menuitem",trailingIcon:(0,lt.jsx)(nf.E,{className:zf}),onClick:n,href:"",target:"_blank",children:c._s.get("user.unable-to-update")})},uy=({divider:e,ubiLogger:t,ubiSpec:n})=>{const s=(0,ze.OY)(),i=(0,df.o)("loggedin_upgrade_menu"),r=(0,$e.useCallback)((()=>{t.logInteraction(n.goToUpgradePlanPageRowFactory().hitNavigateToExternalUri({destination:Ss.k0})),s((0,uf.A)({action_type:"gtm.upgradeClick",action_intent:"upgrade-dwp",item_id:"dwp-top-bar"}))}),[s,t,n]);return(0,ze.w1)((e=>(0,Rl.SM)(e)))?(0,lt.jsx)(ki.I,{divider:e,role:"menuitem",trailingIcon:(0,lt.jsx)(Af.K,{size:"small"}),onClick:r,href:i(Ss.k0),target:"_blank",children:c._s.get("upgrade.tooltip.title")}):null},my=({divider:e,ubiSpec:t,ubiLogger:n})=>{const s=(0,ze.w1)((e=>e.session.user?.uri)),i=(0,Bn.Q)();if(!s)return null;const r=(0,O.nX)(s).toURLPath(!0);return(0,lt.jsx)(ki.I,{divider:e,role:"menuitem",to:r,onClick:()=>{n.logInteraction(t.goToUserProfileRowFactory().hitUiNavigate({destination:r})),i.setReferrer("user_profile")},children:c._s.get("card.tag.profile")})},py=()=>{const e=(0,ze.w1)((e=>e.platform.isDesktop)),{spec:t,logger:n}=(0,Jn.gp)(If.createDesktopUserWidgetMenuEventFactory,{});(0,$e.useEffect)((()=>{n.logImpression(t.impression())}),[n,t]);const s=(0,wf.U)(),i=$f(s.data);return(0,lt.jsx)("div",{"":"user-widget-menu",className:Uf,children:(0,lt.jsxs)(Ai.i,{children:[(0,lt.jsx)(Zf,{ubiSpec:t,ubiLogger:n}),i&&(0,lt.jsx)(ry,{planAttributes:i,ubiSpec:t,ubiLogger:n}),(0,lt.jsx)(my,{ubiSpec:t,ubiLogger:n}),(0,lt.jsx)(uy,{ubiSpec:t,ubiLogger:n}),(0,lt.jsx)(jf,{visible:Bh()}),(0,lt.jsx)(Of,{visible:!e&&Bh()}),(0,lt.jsx)(ay,{visible:e,ubiSpec:t,ubiLogger:n}),(0,lt.jsx)(ly,{divider:"after",ubiSpec:t,ubiLogger:n}),s?.data?.["client-deprecated"]&&(0,lt.jsx)(dy,{}),(0,lt.jsx)(cy,{ubiSpec:t,ubiLogger:n})," ",e&&(0,lt.jsx)(ny,{}),(0,lt.jsx)(iy,{ubiSpec:t,ubiLogger:n})]})})},hy=e=>{const t=(0,ze.w1)((e=>e.session.user)),n=(0,gf.k)(),s=$f((0,wf.U)().data),i=!!s&&s.currentSize<=1,r=(0,Bp.u)();if(!t&&Bh())return(0,lt.jsx)(qc.pD,{offset:[0,parseInt(Lf,10)],placement:"bottom-end",menu:(0,lt.jsx)(Xf,{}),children:(e,t,n)=>(0,lt.jsx)("button",{className:xs()(Rf),type:"button",onClick:t,ref:n,"":"unauth-user-widget-link",children:e?(0,lt.jsx)(sa.K,{size:"small","aria-hidden":"true"}):(0,lt.jsx)(Cf.p,{size:"small","aria-hidden":"true"})})});if(!t)return null;const a=t.display_name||t.id,o=t.display_name?.charAt(0).toUpperCase(),l=t?.images.length||!t.display_name,d=(0,Sf.Sm)(t?.avatarBackgroundColor||0),u=()=>(0,lt.jsxs)("div",{className:r?Kf:Yf,children:[(0,lt.jsx)("span",{className:Gf,children:c._s.get("user.update-available")}),(0,lt.jsx)(nf.E,{className:xs()(Vf,{[Hf]:!l,[Wf]:r})})]}),m=r?"var(--background-elevated-base)":"var(--background-base)",p={backgroundColor:l?m:`#${d}`,color:Ef.oZb,lineHeight:r?"32px":"24px"},h=r?Mf:xs()((0,Fp.G2)("overMedia"),Df),g=l?(0,lt.jsx)(hh.C,{label:a,width:r&&t?.images.length?32:24,images:t?.images,userIconSize:"small",testID:"user-widget-avatar",transparent:!0,className:xs()({[Qf]:t?.images.length})}):(0,lt.jsx)(Cs.a,{variant:"bodySmallBold","":"username-first-letter",style:p,className:r?Ff:Bf,children:o});return(0,lt.jsx)(qc.pD,{offset:[0,parseInt(Lf,10)],placement:"bottom-end",menu:(0,lt.jsx)(py,{}),children:(t,s,r)=>(0,lt.jsx)($i.Yl,{label:a,children:(0,lt.jsxs)(Xi.u,{className:h,onClick:t=>{e.onClick?.(t),s(t)},style:{backgroundColor:m},ref:r,condensedAll:!0,"aria-label":a,"":"user-widget-link",semanticColor:"textBase",children:[g,(n?.state===ff.y.UPDATE_READY||i)&&(0,lt.jsx)(u,{})]})})})};var gy=n(66487);const fy=(0,$e.forwardRef)((({className:e},t)=>{const n=(0,ei.w)(),s=(0,ze.OY)(),i=qg(),r=(0,ze.w1)(Xo.yC),a=(0,og.O)(),o=(0,jg.A)(),l=(0,tt.IP)(_e.YD5),d=(0,Bp.u)(),{spec:u,logger:m}=(0,Jn.gp)(Mp.M,{}),p=(0,Rh.Y)("(max-width: 849px)"),h=Bh()&&o&&p,g=(0,$e.useCallback)((()=>{s((0,Qo.KK)()),n({intent:"signup",type:"click"})}),[s,n]),f=(0,$e.useCallback)((()=>{s((0,Qo.YD)()),n({intent:"login",type:"click"})}),[s,n]),{openURLWithSessionTransfer:y}=(0,Dh.W)(),_=e=>{y(e,"_blank")},b=(0,$e.useMemo)((()=>u.upgradeButtonFactory()),[u]),{shouldShowUpgradeButton:v,onUpgradeClick:x}=mf(b,m),C=(0,Rh.Y)("(min-width: 1024px)"),{isDesktop:E,isPWA:S,shouldCalloutPWA:w}=(0,ze.w1)((e=>e.platform)),I=(0,$e.useCallback)((()=>{m.logInteraction(u.profileButtonFactory().hitUiReveal())}),[m,u]);return(0,lt.jsxs)("div",{className:xs()(e,gy.c.topbarContentRight),ref:t,children:[(0,lt.jsx)(Tg,{spec:u}),o&&Bh()&&!p?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Xi.u,{condensed:!0,onClick:()=>_(`${Ss.u6}&ref=web_loggedout_premium_button`),className:gy.c.topNavBarLinks,children:c._s.get("navbar.premium")}),(0,lt.jsx)(Xi.u,{condensed:!0,onClick:()=>_(Ss.Yd),className:gy.c.topNavBarLinks,children:c._s.get("user.support")}),(0,lt.jsx)(Xi.u,{condensed:!0,onClick:()=>_(Ss.u4),className:gy.c.topNavBarLinks,children:c._s.get("download.download")}),(0,lt.jsx)("div",{className:gy.c.topNavBarSeparator})]}):(0,lt.jsx)(lt.Fragment,{}),(0,lt.jsx)(xf,{}),v&&C&&(0,lt.jsx)(Hg,{onClick:x,className:gy.c.UpgradeButton}),!o&&!r&&!E&&!S&&(0,lt.jsx)(Mg,{shouldCalloutPWA:w,logger:m,spec:u}),o&&(0,lt.jsxs)("div",{className:gy.c.loginButtons,children:[(0,lt.jsx)(Xi.u,{className:gy.c.signupButton,onClick:g,"":"signup-button",children:c._s.get("sign_up")}),(0,lt.jsx)(Ug.G,{children:(0,lt.jsx)(Es.g,{colorSet:"invertedLight",onClick:f,"":"login-button",children:c._s.get("login")})})]}),(0,lt.jsxs)("div",{className:xs()({[gy.c.globalNavBar]:d},gy.c.topBarRightButtonContainer),children:[!o&&l&&(0,lt.jsx)(Lh,{}),i&&a&&(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(lf,{})}),!o&&(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(Kg,{})})]}),(!o||h)&&(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(hy,{onClick:I})})]})}));var yy=n(24540);const _y=()=>{const e=(0,$e.useRef)(null),{setElementRef:t}=(0,$e.useContext)(yy.U);return(0,$e.useEffect)((()=>{t&&e.current&&t(e.current)}),[t]),(0,lt.jsx)("div",{"":"topbar-content-wrapper",className:gy.c.topbarContentWrapper,ref:e})};var by=n(5540),vy=n(87056);const xy=(e,t)=>e[0]===t[0]&&e[1]===t[1],Cy=({responsive:e,className:t})=>{const{spec:n,logger:s}=(0,Jn.gp)(Mp.M,{}),{isNavBarVisible:i}=(()=>{const e=(0,$e.useContext)(xo.CI);if(null===e)throw new Error("Trying to use 'VisibilityContext' without 'VisibilityProvider'!");return e})(),r=(0,Gt.i6)(),[a,o]=(()=>{const[e,t]=(0,ze.w1)((e=>[e.ui.history.canGoBack,e.ui.history.canGoForward]),xy);return[e,t]})(),l=(0,Bp.u)(),d=(0,$e.useCallback)((()=>{s.logInteraction(n.backButtonFactory().hitUiNavigateBack()),r(-1)}),[s,r,n]),u=(0,$e.useCallback)((()=>{s.logInteraction(n.forwardButtonFactory().hitUiNavigateForwardInHistory()),r(1)}),[s,r,n]);return l?(0,lt.jsxs)("div",{className:xs()(t,gy.c.globalNavBarHistoryButtonsContainer,{[gy.c.fullscreenHistoryButtons]:!i}),children:[(0,lt.jsx)($i.Yl,{label:c._s.get("navbar.go-back"),children:(0,lt.jsx)(Xi.u,{size:"medium",iconOnly:by.C,condensed:!0,"":"top-bar-back-button","aria-label":c._s.get("navbar.go-back"),disabled:!a,onClick:d,className:gy.c.globalNavBarHistoryButton})}),(0,lt.jsx)($i.Yl,{label:c._s.get("navbar.go-forward"),children:(0,lt.jsx)(Xi.u,{size:"medium",iconOnly:vy.U,condensed:!0,"":"top-bar-forward-button","aria-label":c._s.get("navbar.go-forward"),disabled:!o,onClick:u,className:gy.c.globalNavBarHistoryButton})})]}):(0,lt.jsxs)("div",{className:xs()(t,gy.c.historyButtons,{[gy.c.fullscreenHistoryButtons]:!i}),children:[(0,lt.jsx)($i.Yl,{label:c._s.get("navbar.go-back"),children:(0,lt.jsx)("button",{"":"top-bar-back-button","aria-label":c._s.get("navbar.go-back"),disabled:!a,className:`${gy.c.button}`,onClick:d,children:(0,lt.jsx)(by.C,{className:gy.c.icon,size:"small"})})}),(0,lt.jsx)($i.Yl,{label:c._s.get("navbar.go-forward"),children:(0,lt.jsx)("button",{"":"top-bar-forward-button","aria-label":c._s.get("navbar.go-forward"),disabled:!o,className:xs()(gy.c.button,!1===e?gy.c.forward:gy.c.responsiveForward),onClick:u,children:(0,lt.jsx)(vy.U,{className:gy.c.icon,size:"small"})})})]})};function Ey(e,t=1,n=0){if(n>t)return 1;let s=(e-n)/(t-n);return Number.isNaN(s)&&(s=1),Math.min(Math.max(s,0),1)}const Sy=()=>"/"===(0,Gt.IT)().pathname,wy=["/","/home/","/content-feed/","/lyrics","/search","/search/:query","/search/:query/:category","/recent-searches","/section/:id","/genre/:id","/user/:username/:subpage","/user/:username/top/artists","/user/:username/top/tracks","/preferences","/artist/:id/featuring","/artist/:id/playlists","/artist/:id/appears-on","/artist/:id/discovered-on","/artist/:id/related"],Iy={[Dp.u_.SMALL]:0,[Dp.u_.MEDIUM]:600,[Dp.u_.LARGE]:1024},Ay=()=>{const e=(0,Bp.u)(),t=Rp(),n=(0,jg.A)(),s=Sy(),i=(()=>{const e=(0,Bp.u)(),t=(0,Gt.IT)();return!e||wy.every((e=>null===(0,Mt.ot)(e,t.pathname)))})(),r=(0,$e.useRef)(null),{breakpoint:a}=(0,Dp.CA)(Iy,r),o=0===(0,Gt.IT)().pathname.indexOf("/artist"),l=void 0!==t;return i?(0,lt.jsx)(Dp.yM.Provider,{value:a,children:(0,lt.jsxs)("header",{"":"topbar","aria-label":c._s.get("topBar.label"),className:xs()(gy.c.container,{[gy.c.withBackgroundBlur]:s,[gy.c.loggedOut]:n&&!o}),children:[(0,lt.jsx)("div",{ref:r,className:gy.c.background,style:{backgroundColor:t},children:l&&(0,lt.jsx)("div",{className:gy.c.overlay})}),!e&&(0,lt.jsx)(Cy,{}),(0,lt.jsx)(_y,{}),!e&&(0,lt.jsx)(fy,{})]})}):null};var Ty=n(27748),ky=n(47300),Ny=n(12444),Oy=n(36284);const Py=5*V.y,jy={[Dp.u_.SMALL]:0,[Dp.u_.MEDIUM]:600,[Dp.u_.LARGE]:1024},Ly=(0,$e.forwardRef)((({children:e},t)=>{(0,Ny.Q)();const n=(0,$e.useRef)(null);(e=>{const t=(0,tt.IP)(_e.wNQ),{spec:n,logger:s}=(0,Jn.gp)(Oy.W,{});(0,$e.useEffect)((()=>{if(t)return()=>{};const i=setTimeout((()=>{if(!e.current)return;const t=n.mainViewPanelFactory().dragUiResize({startSizePx:0,endSizePx:e.current.clientWidth??0});s.logInteraction(t)}),Py);return()=>{clearTimeout(i)}}),[])})(n);const s=(0,$e.useRef)((0,Ty.m)(document.documentElement,"--content-spacing",0,"px")),i=(0,$e.useRef)((0,Ty.m)(document.documentElement,"--content-max-width",1/0,"px")),r=(0,$e.useCallback)((e=>null!==e&&n.current?Math.min(e,i.current)-2*s.current:null),[]);(0,$e.useImperativeHandle)(t,(()=>n.current),[n]);const{breakpoint:a}=(0,Dp.CA)(jy,n);return(0,lt.jsx)(ky.A,{containerRef:n,postProcessWidth:r,children:(0,lt.jsx)("main",{ref:n,tabIndex:-1,children:(0,lt.jsx)(Dp.yM.Provider,{value:a,children:e})})})}));var Ry=n(57880);function Dy(e){return e.sort(((e,t)=>t.timestamp-e.timestamp))}function My(e,t){return t.some((t=>t.user.uri===e.user.uri))?t:Dy([...t,e])}function Uy(e,t){return t.filter((t=>t.user.uri!==e))}var Fy=n(25972),By=n(5736);function Gy(){const e=(0,ss.C)(),t=(0,Ze.q$)(),n=["friend-activity"],{subscribeToFriend:s,unSubscribeFromFriend:i}=function(e){const t=(0,ss.C)(),n=(0,$e.useRef)({}),s=(0,$e.useRef)(e);s.current=e;const i=(0,$e.useCallback)((e=>{const i=(0,O.nX)(e)?.username,r=t.subscribeToBuddyActivity(i,(e=>{e&&s.current(e)}));return n.current[e]=r,r}),[t]),r=(0,$e.useCallback)((e=>{n.current[e]?.cancel(),delete n.current[e]}),[]);return(0,$e.useEffect)((()=>{const e=n.current;return()=>{Object.values(e).forEach((e=>{e.cancel()}))}}),[]),{subscribeToFriend:i,unSubscribeFromFriend:r}}((e=>{t.setQueryData(n,((t=[])=>function(e,t){return Dy(t.map((t=>t.user.uri===e.user.uri?e:t)))}(e,t)))})),r=(0,Ph.U)({queryKey:n,queryFn:()=>Ry.WE(U.W.getInstance()).then((e=>(e.body.friends.forEach((e=>s(e.user.uri))),Dy(e.body.friends)))),staleTime:6e5,gcTime:36e5,refetchInterval:864e5,refetchOnWindowFocus:!1,refetchOnMount:"always",refetchOnReconnect:!0});return(0,By.s)(Fy.gz.OPERATION_COMPLETE,(async r=>{const a=r.data.uris;if(r.data.operation!==Fy.nv.FOLLOW_USER){if(r.data.operation===Fy.nv.UNFOLLOW_USER)for(const e of a)i(e),t.setQueryData(n,((t=[])=>Uy(e,t)))}else for(const i of a){const r=(await e.fetchFriendActivity([i]))[0];t.setQueryData(n,((e=[])=>My(r,e))),s(i)}})),r}const Vy=(0,$e.lazy)((()=>Promise.all([n.e(8596),n.e(1950)]).then(n.bind(n,96848))));function Hy(){const{data:e,error:t,isLoading:n}=Gy();return!(0,og.O)()||n||t?null:(0,lt.jsx)(Vy,{friends:e??[]})}var Wy=n(88236),zy=n(9636),Yy=n(1608),Ky=n(65520),qy=n(79420),Qy=n(80676),Xy=n(77640),$y=n(93900),Jy=n(55504),Zy=n(49612),e_=n(22676),t_=n(11508),n_=n(46003);const s_="AjjTyUrCO3pZ365KtTXW",i_="pGtUoenc5OobLi8CscJ6",r_="cArVcLcQ85q_9QSLGYGX",a_="lDtXv1VCrs0PHHSuH5uO",o_="ukjUoaLSzKyRcwoOQw9V",l_="yQwBNeetmAr0a0OTR8t3",c_="fzB4RXxTp0rlpNQlSuu9",d_=({sessionMember:e,showRemoveButton:t,onClickMember:n,onClickRemove:s,index:i})=>{const{currentSession:r}=(0,nl.O)(),{displayName:a,images:o,username:l,uri:d}=(0,al.M)(e);return(0,lt.jsx)(qc.UF,{menu:(0,lt.jsx)(n_.Y,{uri:d}),children:(0,lt.jsx)(Xd.U,{id:`${i}`,variant:"naked",className:o_,title:(0,lt.jsx)($d.Y,{lineClamp:1,children:a}),media:(0,lt.jsx)("div",{role:"button",onClick:n,onKeyDown:n,tabIndex:-1,children:(0,lt.jsx)(hh.C,{images:o,userIconSize:"medium",width:48,displayName:a,username:l,label:a})}),subtitle:r?.sessionOwnerId===e.id?c._s.get("web-player.social-connect.participant-list.host"):c._s.get("web-player.social-connect.participant-list.guest"),onClick:n,trailing:t&&(0,lt.jsx)(Zy.w,{size:"small",className:l_,onClick:s,"aria-label":c._s.get("web-player.social-connect.participant-list.remove-guest-accessible-label",{displayName:a}),children:c._s.get("web-player.social-connect.participant-list.remove-guest")})})})};var u_=n(92400);const m_=()=>{const{spec:e,logger:t,UBIFragment:n}=(0,Jn.gp)(u_.e,{});return{logUserClick:(0,$e.useCallback)(((n,s)=>{t.logInteraction(e.participantListFactory().participantListRowFactory({position:n}).userLinkFactory().hitUiNavigate({destination:s}))}),[t,e]),logRemoveClick:(0,$e.useCallback)((n=>{t.logInteraction(e.participantListFactory().participantListRowFactory({position:n}).removeButtonFactory().hitUiReveal())}),[t,e]),UBIFragmentWithSpec:(0,$e.useCallback)((t=>(0,lt.jsx)(n,{spec:e,...t})),[n,e])}},p_=()=>{const e=(0,ze.w1)((e=>e.session.user?.id)),t=(0,ze.OY)(),n=(0,Gt.i6)(),s=(0,t_.E)(),{currentSession:i,kickAllParticipants:r}=(0,nl.O)(),{setQueueView:a}=(0,e_.k)(),{logUserClick:o,logRemoveClick:l}=m_(),d=(0,$e.useCallback)(((e,n)=>{l(e),t((0,He.Ar)(Gl.SI.REMOVE_PARTICIPANT,void 0,n))}),[t,l]),u=(0,$e.useCallback)(((e,t)=>{const s=(0,O.oh)(t.username);o(e,s.toURI()),n(s.toURLPath(!0))}),[o,n]),m=(0,$e.useCallback)((()=>{r(i?.sessionId)}),[i?.sessionId,r]),p=i?.sessionMembers.find((e=>e.id===i.sessionOwnerId));return i&&p?(0,lt.jsxs)("div",{className:s_,children:[(0,lt.jsx)(Cs.a,{variant:"titleSmall",semanticColor:"textBase",children:c._s.get("web-player.social-connect.participant-list.title")}),(0,lt.jsxs)("div",{className:i_,children:[(0,lt.jsx)(Cs.a,{variant:"bodySmall",semanticColor:"textSubdued",children:c._s.get("web-player.social-connect.participant-list.subtitle")}),(0,lt.jsx)(Zy.w,{size:"small",onClick:s,className:r_,children:c._s.get("web-player.social-connect.invite-button")})]}),(0,lt.jsx)("div",{className:a_,children:i.sessionMembers.map(((t,n)=>(0,lt.jsx)(d_,{index:n,sessionMember:t,showRemoveButton:i.isSessionOwner&&t.username!==e,onClickRemove:()=>d(n,t),onClickMember:()=>u(n,t)},n)))}),i.isSessionOwner&&i.sessionMembers.length>1&&(0,lt.jsx)(Es.g,{colorSet:"invertedLight",size:"small",onClick:m,children:c._s.get("web-player.social-connect.participant-list.remove-all-guests")}),(0,lt.jsx)(Cs.a,{variant:"marginal",semanticColor:"textSubdued",className:c_,children:c._s.get("web-player.social-connect.participant-list.visibility-info")})]}):(a(e_.S.QUEUE),null)};var h_=n(93320),g_=n(2356),f_=n(20460),y_=n(49620);const __="PddBvUOS0_6f9B21fVGF",b_=({ariaLabel:e,onRemoveItems:t,nrItems:n,columnCount:s,children:i})=>{const r=(0,$e.useRef)(null);(0,g_.u)(r);const a=(0,f_.a)(t);return(0,lt.jsx)(h_.w,{firstInteractiveIsWrapper:!0,"aria-label":e,"aria-rowcount":n,"aria-colcount":s,className:__,ref:r,onKeyDown:a,children:i})},v_=({items:e,renderRow:t,...n})=>{const s=(0,$e.useCallback)(((t,n)=>e.slice(t,n+1)),[e]);return(0,lt.jsx)(y_.M,{resolveItem:x_,getItems:s,nrTracks:e.length,children:(0,lt.jsx)(b_,{nrItems:e.length,...n,children:e.map(t)})})};function x_(e){return{uri:e.uri,uid:e.uid??void 0,type:e.type}}function C_(e,t){return e.uid??`${e.uri}:${t}`}var E_=n(52588),S_=n(19424),w_=n(80296),I_=n(97976),A_=n(71848),T_=n(83968),k_=n(34328),N_=n(24392),O_=n(44616);const P_="VXFYm2GnsH4zc3EPikNi",j_="yvjS3DPkDIHgMUZxL972",L_="Os6nTuXambdCB8H81QRT",R_="RDIVOZoeGMohQ8MeJjUH",D_="Cj0QJuDauCo39643t0Q8",M_="evQ_5Znk6OXYHBzLCSoN",U_="nCwi6jOC9FEKO5tKAQKW",F_="DP0qcvnv6ToERKYhb9Xk",B_="yIYdkVZJzDlj1lqOmV1M",G_="kh6wYYPvgRPBhA2wj3AS",V_="qp7Sys7hJSZHLzw4K_yF",H_="fIabFr0bD1PUqwipmTjQ",W_=({title:e,type:t,images:n,onTogglePlay:s,isPlaying:i,ariaPauseLabel:r,ariaPlayLabel:a})=>{const o=(0,mt.S0)(),l=t===P.s.ARTIST||t===P.s.USER?N_.O.CIRCLE:N_.O.ROUNDED_CORNERS;return(0,lt.jsxs)("div",{className:G_,children:[(0,lt.jsx)(N_.i,{fadeIn:!0,images:o(n??[],48),shape:l,size:O_.fm.SIZE_48,iconSize:"medium",type:t,title:e,loadingMode:"eager"}),(0,lt.jsx)("span",{className:xs()(V_,D_),children:(0,lt.jsx)(k_.O,{onClick:s,version:k_.e.transparent,isPlaying:i,ariaPauseLabel:r,ariaPlayLabel:a,condensedAll:!0})})]})},z_=({title:e,isActive:t})=>(0,lt.jsx)($i.Yl,{showDelay:$i.AL,label:e,children:(0,lt.jsx)($d.Y,{lineClamp:1,semanticColor:t?"textBrightAccent":"textBase",dir:"auto",children:e})}),Y_=({menu:e,labelName:t})=>(0,lt.jsx)(qc.pD,{menu:e,children:(0,lt.jsx)(Kc.g,{className:D_,label:c._s.get("more.label.context",t),size:"small"})});var K_=n(40068);const q_=({queuedBy:e})=>{if(!e)return null;const t=(0,K_.C)(e.images,{desiredSize:24});return(0,lt.jsx)($i.Yl,{label:c._s.get("queue.queued-by",e.name),children:(0,lt.jsx)("div",{children:(0,lt.jsx)(hh.C,{images:t?[t]:[],userIconSize:"small",width:24,displayName:e.name,username:e.username,label:""})})})},Q_=({queuedBy:e,menu:t,moreButtonLabelName:n})=>(0,lt.jsxs)("div",{className:R_,children:[t&&n&&(0,lt.jsx)(Y_,{menu:t,labelName:n}),(0,lt.jsx)(q_,{queuedBy:e})]});var X_=n(7228),$_=n(65252),J_=n(75488);const Z_=(e,t)=>!t?.didQueueChangeSignificantly,eb=(e,t,n)=>{Z_(0,n?.current)?(0,J_.Ki)({onUpdate:t=>{e.style.opacity=t.toString()}}):e.style.opacity="1"},tb=(e,t,n,s)=>{Z_(0,s?.current)?(0,J_.Ki)({onUpdate:t=>{e.style.opacity=(1-Number(t)).toString()},onComplete:n}):n()},nb=({hideEnteringElements:e,animateEnteringElements:t,animateExitingElements:n,animateFlippedElements:s})=>{e(),n(),s(),t()};var sb=n(42944);function ib(e){const t=(0,$e.useRef)(e);return(0,$e.useMemo)((()=>{const n=new Map,s=ab(t.current,n),i=ab(e,n),r=(0,sb.q)(s,i),a=r>16||r>=Math.max(rb(e),rb(t.current));return t.current=e,a}),[e])}function rb(e){return Number(!!e?.current)+(e?.queued.length??0)+(e?.nextUp.length??0)}function ab({current:e,nextUp:t=[],queued:n=[]},s){let i="";return[[e],t,n].forEach((e=>{e.forEach((e=>{e?.uid&&(s.has(e.uid)||s.set(e.uid,String.fromCharCode(65+s.size)),i+=s.get(e.uid))})),e.length&&(i+=" ")})),i}function ob(){const e=(0,Ka.C)(),t=(0,tt.IP)(_e.SsF);return!e&&t}const lb=({current:e,queued:t,nextUp:n,children:s})=>{const i=(0,$e.useMemo)((()=>[e,...t,...n].filter(X.g).map(C_).join("")),[e,n,t]),r={didQueueChangeSignificantly:ib({current:e,nextUp:n,queued:t})};return(0,lt.jsx)(J_.qK,{flipKey:i,handleEnterUpdateDelete:nb,decisionData:r,children:s})},cb=({children:e,...t})=>ob()?(0,lt.jsx)(lb,{...t,children:e}):(0,lt.jsx)("div",{children:e});var db=n(40748);const ub=(e,t)=>{const n=(0,E_.I)({uri:e??""},{featureIdentifier:"queue"}),s=(0,$e.useMemo)((()=>function(e,t){return n=>{const s=(0,Bn.Q)(),i=t===db.e.NowPlaying,{playbackStatus:r,isActive:a,isPlaying:o}=(0,Fc._y)((e=>i&&n.uri?(0,he.i5)(e,n.uri):k.gp.NOT_ACTIVE)),l=e(n),c=(0,$e.useCallback)((e=>{const{uri:t,uid:i}=n;l.triggerPlay(e,t?async()=>s.skipToNext({uri:t,uid:i??null}):void 0)}),[l,s,n]),d=(0,$e.useCallback)((e=>{l.togglePlay(e,(()=>{if(a)return o?s.pause():s.resume();const{uri:e,uid:t}=n;return s.skipToNext(e?{uri:e,uid:t??null}:void 0)}))}),[l,a,n,s,o]);return{playbackStatus:r,isActive:a,isPlaying:o,triggerPlay:c,togglePlay:d}}}(n.usePlayContextItem,t)),[n.usePlayContextItem,t]);return{...n,usePlayContextItem:s}};const mb=({children:e,...t})=>ob()?(0,lt.jsx)(J_.OQ,{shouldFlip:Z_,...t,children:e}):(0,lt.jsx)(lt.Fragment,{children:e}),pb=[tc.__.TRACKS,tc.__.LOCAL_TRACKS,tc.__.EPISODES,tc.__.CHAPTERS,tc.__.ALBUMS],hb=({uri:e,items:t,ariaLabel:n,section:s,showTypeLabel:i,decoratedQueuedByUsersByUsername:r})=>{const a=(0,Bn.Q)(),o=(0,$e.useCallback)((e=>{a.removeFromQueue(e)}),[a]),{usePlayContextItem:l}=ub(e,s),c=(0,$e.useCallback)(((e,t)=>{const n=C_(e,t);return(0,lt.jsx)(mb,{flipId:e.metadata?.original_uid??n,onAppear:eb,onExit:tb,translate:!0,children:(0,lt.jsx)("div",{className:j_,children:(0,lt.jsx)(mv,{item:e,index:t,usePlayContextItem:l,section:s,allowedDropMimeTypes:pb,showTypeLabel:i,queuedBy:r?.[e.metadata?.queued_by??""]})})},n)}),[r,s,i,l]);return(0,lt.jsx)(v_,{items:t,renderRow:c,columnCount:uv,ariaLabel:n,onRemoveItems:o})};var gb=n(23756),fb=n(50024),yb=n(48564),_b=n(31024);const bb=(0,$e.createContext)(null),vb=({children:e})=>{const{uri:t}=(0,gb.G)(),{spec:n,UBIFragment:s}=(0,Jn.gp)(yb.a,{data:{identifier:_b.eA.NOWPLAYING_QUEUE,uri:t??""}}),i=(0,$e.useMemo)((()=>n.nowPlayingSectionFactory()),[n]),r=(0,$e.useMemo)((()=>n.nextInQueueSectionFactory()),[n]),a=(0,$e.useMemo)((()=>n.nextFromSectionFactory()),[n]);return(0,lt.jsx)(bb.Provider,{value:{queueSpec:n,nowPlayingSectionSpec:i,nextInQueueSectionSpec:r,nextFromSectionSpec:a},children:(0,lt.jsx)(s,{spec:n,children:e})})},xb=()=>{const e=(0,$e.useContext)(bb);if(!e)throw Error("useQueueUBI must be used within a QueuePanelUBIProvider!");const{queued:t}=(0,gb.G)(),n=(0,Jn.Mk)(),{queueSpec:s,nowPlayingSectionSpec:i,nextInQueueSectionSpec:r,nextFromSectionSpec:a}=e;return{logClearQueue:(0,$e.useCallback)((()=>{const e=r.clearQueueButtonFactory().hitRemoveItemsFromQueue({numberOfItemsToRemoveFromQueue:t.length});n.logInteraction(e)}),[n,r,t.length]),logAddToQueue:(0,$e.useCallback)(((e,t)=>{let s;switch(e){case db.e.NowPlaying:s=i;break;case db.e.NextInQueue:s=r;break;case db.e.NextUp:s=a;break;default:return}const o=s.dragAddItemToQueue({itemToAddToQueue:t});n.logInteraction(o)}),[n,a,r,i]),logSort:(0,$e.useCallback)((e=>{let t;switch(e){case db.e.NextInQueue:t=r;break;case db.e.NextUp:t=a;break;case db.e.NowPlaying:default:return}const s=t.dragSort();n.logInteraction(s)}),[n,a,r]),logQueuePanelTabChange:(0,$e.useCallback)((e=>{if(e!==fb.S.PARTICIPANT_LIST){const t=s.queueHistoryTabFactory({identifier:e===fb.S.QUEUE?"queue":"recently_played"}).hitUiReveal();n.logInteraction(t)}}),[n,s]),logQueueContextLinkNavigate:(0,$e.useCallback)((e=>{const t=a.queueContextLinkFactory().hitUiNavigate({destination:e??""});n.logInteraction(t)}),[n,a])}};var Cb=n(80400);const Eb="u842BXnznGeq38O3DUTQ",Sb="NWVZ_rxlezZ8xTHlMg4Y",wb="Oae51evvT5DrqTupCiZ2",Ib="LFdMliaHVgrpBcqNKHU3",Ab="IeeqYq0Ozrndd6STmrRk",Tb="NljerwmGshDHsI7rIvWl",kb=({nrQueuedItems:e})=>{const t=(0,Bn.Q)(),{logClearQueue:n}=xb(),[s,i]=(0,$e.useState)(!1),r=(0,$e.useCallback)((()=>{i(!1)}),[]),a=(0,$e.useCallback)((()=>{n(),t.clearQueue(),i(!1)}),[n,t]),o=(0,$e.useCallback)((()=>{i(!0)}),[]);return(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Xi.u,{size:"small",onClick:o,className:Ab,condensed:!0,children:Qy._s.get("queue.clear-queue")}),(0,lt.jsx)(Cb.A,{itemCount:e,isOpen:s,onClose:r,onConfirm:a})]})};var Nb=n(78092);const Ob=({queueSection:e,title:t,trailingButton:n})=>{const s=(0,$e.useRef)(null),i=(0,Nb.Y)({ref:s});return(0,lt.jsx)(mb,{flipId:`section-header-${e}`,onAppear:eb,onExit:tb,translate:!0,children:(0,lt.jsxs)("div",{className:Ib,children:[(0,lt.jsx)($i.Yl,{label:t,disabled:!i,children:(0,lt.jsx)(Cs.a,{as:"h2",variant:"bodyMediumBold",semanticColor:"textBase",className:Tb,ref:s,children:t})}),n]})})};var Pb=n(93544),jb=n(86620);const Lb=Spicetify.GraphQL.Definitions["decorateQueuedByUsers"]=new G.a("decorateQueuedByUsers","query","1b71b9895bad207fdac0df7ebad17c790260519f853a069ee05f20e51c08636e",null);function Rb(e){const{currentSession:t}=(0,nl.O)(),n=Array.from(new Set(e.map((e=>e?.metadata?.queued_by||null)).filter(X.g))).sort().map((e=>(0,O.oh)(e).toURI())),{data:s}=(i={userUris:n},r={gcTime:36e5,staleTime:18e5,enabled:!!n.length,placeholderData:jb.iq},(0,V.U)(Lb,i,r));var i,r;const a=(0,$e.useMemo)((()=>Object.fromEntries(s?.users?.map((e=>{return"User"===e.__typename?[e.username,(t=e,{type:P.s.USER,...t,images:t.avatar?.sources??[]})]:null;var t})).filter(X.g)??[])),[s]);return t?.active?a:{}}var Db=n(73308);const Mb="spotify:app:queue",Ub=()=>{const e=(0,gb.G)(),{uri:t,description:n,current:s,nextUp:i,queued:r,isEmpty:a,hasQueuedTracks:o,hasNextTracks:l}=e,{logQueueContextLinkNavigate:c}=xb(),d=Rb([s,...i,...r]),u=(0,$e.useMemo)((()=>new Set([s,...r,...i].filter(X.g).map((({type:e})=>e))).size>1),[s,i,r]);return a?(0,lt.jsx)(Db.c,{}):(0,lt.jsxs)(cb,{...e,children:[(0,lt.jsx)(Pb.U,{className:wb}),(0,lt.jsxs)("div",{className:Eb,children:[s&&t&&(0,lt.jsxs)("div",{className:Sb,children:[(0,lt.jsx)(Ob,{queueSection:db.e.NowPlaying,title:Qy._s.get("queue.now-playing")}),(0,lt.jsx)(hb,{ariaLabel:Qy._s.get("queue.now-playing"),uri:t,items:s?[s]:[],section:db.e.NowPlaying,showTypeLabel:u,decoratedQueuedByUsersByUsername:d})]}),o&&t&&(0,lt.jsxs)("div",{className:Sb,children:[(0,lt.jsx)(Ob,{queueSection:db.e.NextInQueue,title:Qy._s.get("queue.next-in-queue"),trailingButton:(0,lt.jsx)(kb,{nrQueuedItems:r.length})}),(0,lt.jsx)(hb,{ariaLabel:Qy._s.get("queue.next-in-queue"),uri:t,items:r,section:db.e.NextInQueue,showTypeLabel:u,decoratedQueuedByUsersByUsername:d})]}),l&&t&&(0,lt.jsxs)("div",{className:Sb,children:[(0,lt.jsx)(Ob,{queueSection:db.e.NextUp,title:n&&!(0,gb.Y)(s)?(0,lt.jsxs)(lt.Fragment,{children:[Qy._s.get("queue.next-from")," ",(0,lt.jsx)(yg.default,{to:t,onClick:()=>{c(t)},children:n})]}):Qy._s.get("queue.next-up")},n),(0,lt.jsx)(hb,{ariaLabel:Qy._s.get("queue.next-up"),uri:t,items:i,section:db.e.NextUp,showTypeLabel:u})]})]})]})};const Fb=()=>(0,lt.jsx)("div",{className:P_}),Bb=({id:e,uid:t,uri:n,contextUri:s,index:i,dragLabel:r,type:a,title:o,subtitle:l,images:c,onDrop:d,allowedDropMimeTypes:u,menu:m,moreButtonLabelName:p,usePlayContextItem:h,section:g,queuedBy:f,ariaPauseLabel:y,ariaPlayLabel:_,onContextMenu:b})=>{const{className:v,dropPosition:x,...C}=function({uid:e,uri:t,index:n,dragLabel:s,allowedMimeTypes:i=[],onDrop:r,sectionId:a}){const o=(0,$_.s)({index:n,contextUri:Mb,sectionId:a,label:s??"",isEnabled:!!s});return{...(0,I_.eE)({id:e??void 0,uri:t,allowedMimeTypesByDropPosition:{[X_.Ab.BEFORE]:i,[X_.Ab.AFTER]:i},onDrop:r}),onDragStart:o}}({uid:t,uri:n,index:i,dragLabel:r,onDrop:d,allowedMimeTypes:u,sectionId:g}),{isSelected:E}=(0,$e.useContext)(y_.q),{onClick:S,onContextMenu:w,onKeyDown:I}=(0,A_.o)({index:i,contextUri:s,onContextMenu:b,canRemovePlaylistItems:!1,removePlaylistItems:void 0,isTreeGrid:!0}),A=(0,Jn.Mk)(),{spec:T}=(0,Jn.gp)(w_.C,{data:{position:i,reason:"",uri:n}}),{isActive:k,isPlaying:N,togglePlay:O,triggerPlay:P}=h({uri:n,uid:t??void 0}),j=(0,$e.useCallback)((()=>{const e=(0,T_.Il)({spec:T.playbackButtonFactory(),logger:A,uri:n,isActive:k,isPlaying:N});O({loggingParams:e})}),[k,N,A,T,O,n]),L=(0,$e.useCallback)((()=>{const e=A.logInteraction(T.doubleHitPlay({itemToBePlayed:n}));P({loggingParams:e})}),[A,T,P,n]),R=(0,$e.useCallback)((e=>{if("Enter"===e.key&&e.target instanceof Element&&e.currentTarget.querySelector(':scope > [role="button"]')===e.target){const e=A.logInteraction(T.playbackButtonFactory().hitPlay({itemToBePlayed:n}));P({loggingParams:e})}I(e)}),[A,I,T,P,n]),D=(0,$e.useCallback)((e=>{const t=e.currentTarget.querySelector('[role="button"]');t instanceof HTMLElement&&t.focus(),S(e)}),[S]),M=(0,lt.jsx)(W_,{type:a,onTogglePlay:j,isPlaying:N,title:o,images:c,ariaPauseLabel:y,ariaPlayLabel:_}),U=(0,lt.jsx)(Q_,{queuedBy:f,menu:m,moreButtonLabelName:p}),F=E(i),B=F&&E(i-1),G=F&&E(i+1),V=(0,lt.jsx)(Xd.U,{id:e,media:M,title:(0,lt.jsx)(z_,{isActive:k,title:o}),subtitle:l,className:xs()(L_,v,{[M_]:B,[U_]:G}),variant:E(i)?"tinted":void 0,trailing:U,onDoubleClick:L,hoverAnimationDuration:"0ms",padding:S_.q,onClick:()=>{},onContextMenu:w}),H=(0,lt.jsx)(h_.I,{className:xs()(v),draggable:!!r,"aria-posinset":i,onKeyDown:R,...C,onClick:D,children:V});return(0,lt.jsxs)(lt.Fragment,{children:[x===I_.Ab.BEFORE&&(0,lt.jsx)(Fb,{}),H,x===I_.Ab.AFTER&&(0,lt.jsx)(Fb,{})]})},Gb=e=>{const t=(0,lt.jsx)(Bb,{...e});return e.menu?(0,lt.jsx)(qc.UF,{menu:e.menu,children:t}):t},Vb=({ad:e,index:t,...n})=>{const{uid:s,uri:i,type:r,title:a,advertiser:o,images:l}=e,d=C_(e,t),u=o??a??c._s.get("ad-formats.advertisement");return(0,lt.jsx)(Gb,{uid:s,uri:i,id:d,index:t,type:r,title:u,images:l,subtitle:null,...n})};var Hb=n(65076),Wb=n(1984),zb=n(67316),Yb=(n(41352),n(1079)),Kb=n(24620),qb=n(70480),Qb=n(17556),Xb=n(41436),$b=n(50060);const Jb="RlE1DxvIdevLeQsaE6aF",Zb=({type:e})=>{const t=function(e){switch(e){case P.s.TRACK:return c._s.get("web-player.queue-history.item-type.track");case P.s.EPISODE:return c._s.get("web-player.queue-history.item-type.episode");case P.s.CHAPTER:return c._s.get("web-player.queue-history.item-type.chapter");case P.s.AD:case P.s.UNKNOWN:return null;default:return(0,j.I)(e),null}}(e);return t&&(0,lt.jsx)(Cs.a,{semanticColor:"textSubdued",variant:"bodySmall",children:t})};const ev=({item:e,subtitle:t,tooltipText:n,showTypeLabel:s})=>{const i=(e=>{const t=(0,$b._)(e.uri),n=(0,k.gB)(e)||(0,k.sN)(e)||(0,k.Q9)(e),s=$e.Children.toArray([(0,hm.c)(e)&&(0,lt.jsx)(Yb.O,{title:c._s.get("web-player.smart-shuffle.icon-hover-label"),"aria-label":c._s.get("web-player.smart-shuffle.icon-hover-label"),semanticColor:"textBrightAccent",size:"small"}),t===ee.If.YES&&(0,lt.jsx)(qb.g,{}),n&&e.isExplicit&&!e.is19PlusOnly&&(0,lt.jsx)(Qb.C,{}),n&&e.is19PlusOnly&&(0,lt.jsx)(Xb.o,{size:16}),(0,k.gB)(e)&&e.hasAssociatedVideo&&(0,lt.jsx)(Kb.Q,{})]);return s.length?(0,lt.jsx)("span",{className:Jb,children:s}):null})(e);return(0,lt.jsx)(zb.A,{dir:"auto",children:(0,lt.jsxs)(Cs.a,{semanticColor:"textSubdued",variant:"bodySmall",className:F_,children:[i?(0,lt.jsx)("span",{className:H_,children:i}):null,(0,lt.jsx)($i.Yl,{label:n,showDelay:$i.AL,children:(0,lt.jsxs)("span",{className:B_,children:[s&&(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Zb,{type:e.type})," •"," "]}),t]})})]})})};function tv(e){let{uri:t}=(0,wi.c)();return e===db.e.NextInQueue?t="spotify:app:queue:NextInQueue":e===db.e.NextUp&&(t="spotify:app:queue:NextUp"),t??""}const nv=({chapter:e,index:t,showTypeLabel:n,...s})=>{const{uid:i,uri:r,type:a,name:o,images:l,book:d}=e,u=C_(e,t),m=tv(s.section),p=(0,lt.jsx)(Wb.h,{uri:r,removeFromQueueData:{uid:i??void 0,contextUri:m}}),h=(0,lt.jsx)(ev,{item:e,tooltipText:d.name,showTypeLabel:n,subtitle:(0,lt.jsx)(qc.UF,{menu:(0,lt.jsx)(Hb.y,{uri:d.uri}),children:(0,lt.jsx)(yg.default,{to:d.uri,stopPropagation:!0,children:d.name})})});return(0,lt.jsx)(Gb,{uid:i,uri:r,contextUri:m,id:u,index:t,type:a,title:o,subtitle:h,images:l,dragLabel:o,menu:p,moreButtonLabelName:o,ariaPauseLabel:c._s.get("playlist.a11y.pause",o),ariaPlayLabel:c._s.get("playlist.a11y.play",o),...s})};var sv=n(71464),iv=n(81472);const rv=({episode:e,index:t,showTypeLabel:n,...s})=>{const{uid:i,uri:r,type:a,name:o,images:l,show:d}=e,u=C_(e,t),m=tv(s.section),p=(0,lt.jsx)(sv.y,{uri:r,uid:i??void 0,showUri:e.show.uri,contextUri:m,provider:e.provider}),h=(0,lt.jsx)(ev,{item:e,tooltipText:d.name,showTypeLabel:n,subtitle:(0,lt.jsx)(qc.UF,{menu:(0,lt.jsx)(iv.Q,{uri:d.uri}),children:(0,lt.jsx)(yg.default,{to:d.uri,stopPropagation:!0,children:d.name})})});return(0,lt.jsx)(Gb,{uid:i,uri:r,contextUri:m,id:u,index:t,type:a,title:o,subtitle:h,images:l,dragLabel:o,menu:p,moreButtonLabelName:o,ariaPauseLabel:c._s.get("tracklist.a11y.pause",o,d.name),ariaPlayLabel:c._s.get("tracklist.a11y.play",o,d.name),...s})};var av=n(33744),ov=n(40700),lv=n(56684);const cv=({track:e,index:t,showTypeLabel:n,...s})=>{const{uid:i,uri:r,type:a,name:o,album:l}=e,d=C_(e,t),u=tv(s.section),{uri:m}=(0,wi.c)(),p=e.isLocal?(0,lt.jsx)(ov.Y,{uri:r,uid:i??void 0,contextUri:u}):(0,lt.jsx)(lv.k,{uri:r,uid:i??void 0,albumUri:l.uri,artists:e.artists,contextUri:u,recommendationContextUri:m??void 0,isSmartRecommendation:(0,hm.c)(e),provider:e.provider}),h=e.artists.map((({name:e})=>e)).join(c._s.getSeparator()),g=e.artists?(0,lt.jsx)(ev,{item:e,tooltipText:h,showTypeLabel:n,subtitle:(0,lt.jsx)(lt.Fragment,{children:e.artists.map(((e,t)=>(0,lt.jsxs)($e.Fragment,{children:[t>0&&c._s.getSeparator(),(0,lt.jsx)(qc.UF,{menu:(0,lt.jsx)(av.g,{uri:e.uri}),children:(0,lt.jsx)(yg.default,{to:e.uri,stopPropagation:!0,children:e.name})})]},t)))})}):null;return(0,lt.jsx)(Gb,{uid:i,uri:r,contextUri:u,id:d,index:t,type:a,title:o,images:l.images,dragLabel:o,menu:p,moreButtonLabelName:o,subtitle:g,ariaPauseLabel:c._s.get("tracklist.a11y.pause",o,h),ariaPlayLabel:c._s.get("tracklist.a11y.play",o,h),...s})};var dv=n(93552);const uv=3,mv=(0,$e.memo)((function({item:e,...t}){const n=function(e,t){const n=(0,Bn.Q)(),{request:s}=(0,$e.useContext)(K.Q9),{logAddToQueue:i,logSort:r}=xb();return(0,$e.useCallback)((async(a,o,l)=>{const{contextUri:c,sectionId:d,itemIds:u}=l??{},m=t===db.e.NowPlaying,p=Mb===c&&!m,h=a[tc.__.ALBUMS]?.at(0);let g=[];if(h){const{trackUris:e}=await(0,dv.s)(h,0,s);g=e.map((e=>({uri:e,uid:null})))}else g=p&&u?.length?u.map((e=>({uri:"",uid:e}))):Object.values(a).flat().map((e=>({uri:e,uid:null})))??[];const f=p&&d===db.e.NowPlaying;let y;y=o===I_.Ab.BEFORE?{before:{uri:e.uri,uid:e.uid??null}}:{after:{uri:e.uri,uid:e.uid??null}},m?(i(t,e.uri),n.addToQueue(g)):p&&!f?(t&&r(t),n.reorderQueue(g,y)):(t&&i(t,e.uri),n.insertIntoQueue(g,y))}),[e.uid,e.uri,i,r,n,s,t])}(e,t.section);switch(e.type){case P.s.TRACK:return(0,lt.jsx)(cv,{track:e,onDrop:n,...t});case P.s.EPISODE:return(0,lt.jsx)(rv,{episode:e,onDrop:n,...t});case P.s.CHAPTER:return(0,lt.jsx)(nv,{chapter:e,onDrop:n,...t});case P.s.AD:return(0,lt.jsx)(Vb,{ad:e,onDrop:n,...t});case P.s.UNKNOWN:return null;default:return(0,j.I)(e),null}})),pv=(0,$e.memo)((function({item:e,...t}){const{usePlayContextItem:n}=(0,E_.I)({uri:e.uri,pages:[{items:[e]}]},{featureIdentifier:"history"});return(0,lt.jsx)(mv,{item:e,...t,usePlayContextItem:n})})),hv=({items:e})=>{const t=(0,$e.useCallback)(((e,t)=>(0,lt.jsx)(pv,{item:e,index:t},C_(e,t))),[]);return(0,lt.jsx)(v_,{items:e,ariaLabel:c._s.get("view.recently-played"),renderRow:t,columnCount:uv})};var gv=n(96788);const fv=()=>{const{isLoading:e,data:t}=(0,un.ET)();return e?null:t?.items.length?(0,lt.jsx)(hv,{items:t.items}):(0,lt.jsx)(gv.M,{})},yv="BZj_r1yzmmragvivUCrw",_v="hpzTKCoO0rllEslIOMPo",bv="TeBVsFnI9PMHYL9ynJx9",vv="ZDR7q1cqU2yaYjemuy9Z",xv="OLB2ghxc09Kz8k_93eIu",Cv=()=>{const{currentQueueView:e,setQueueView:t}=(0,fb.k)(),n=(0,un.E5)(),{logQueuePanelTabChange:s}=xb(),i=(0,$e.useMemo)((()=>n?{titleSlot:e!==fb.S.PARTICIPANT_LIST?(0,lt.jsx)(zy.k,{currentTab:e,onTabChange:e=>{e===(0,Ky.I)(fb.S.HISTORY)?(s(fb.S.HISTORY),t(fb.S.HISTORY)):(s(fb.S.QUEUE),t(fb.S.QUEUE))},className:bv,children:(0,lt.jsxs)(Yy.q,{"aria-label":"",className:vv,children:[(0,lt.jsx)(Ky.E,{"aria-selected":e===fb.S.QUEUE,label:Qy._s.get("playback-control.queue"),value:fb.S.QUEUE}),(0,lt.jsx)(Ky.E,{"aria-selected":e===fb.S.HISTORY,label:Qy._s.get("view.recently-played"),value:fb.S.HISTORY})]})}):(0,lt.jsx)(Xi.u,{iconLeading:by.C,onClick:()=>t(fb.S.QUEUE),size:"small",condensed:!0,className:xv,children:Qy._s.get("web-player.social-connect.participant-list.back-to-queue")})}:{title:Qy._s.get("playback-control.queue")}),[n,s,t,e]);return(0,lt.jsx)(Xy.g,{label:Qy._s.get("playback-control.queue"),focusTransferId:"QUEUE-HISTORY-PANEL",children:(0,lt.jsx)($y.u,{fixedHeader:(0,lt.jsx)(Jy._,{className:yv,panel:La.s.Queue,...i}),children:(0,lt.jsx)("div",{className:_v,children:e!==fb.S.PARTICIPANT_LIST?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(qy.G,{value:"queue",children:e===fb.S.QUEUE&&(0,lt.jsx)(Ub,{})}),(0,lt.jsx)(qy.G,{value:"history",children:e===fb.S.HISTORY&&(0,lt.jsx)(fv,{})})]}):(0,lt.jsx)(p_,{})})})})},Ev=()=>(0,lt.jsx)(vb,{children:(0,lt.jsx)(Cv,{})}),Sv="nNGIZKkKfoCorRv2f452",wv="XFbGPr_IwzKGEhcDpxkS",Iv="ffEo13CdzpxkhIInK2Tg",Av="r6OZJEForX1evQtN5ERo",Tv="v7CrgRsPeGhw_wa_21pQ",kv="gz1e3Clo0fv6H4ju_1Sr",Nv="op79zLzNBe9QU912pJ3N",Ov="Wp9N3eMEINlmoECqLvNd",Pv=({isLocalDevice:e,deviceName:t,deviceType:n,isGroup:s,isLocalNetwork:i=!1,supportsLogout:r,incarnation:a,isPlaying:o,deviceId:l,connectStateDeviceId:d,isDesktop:u,spec:m})=>{const p=(0,El.Q5)(a),h=!i&&r,g=h||p;let f;if(o)f=(0,lt.jsx)(_u,{className:kv});else{const e=(0,El.Sk)(n,s);f=(0,lt.jsx)(e,{semanticColor:"textBrightAccent",className:kv,"":"device-icon",role:"presentation"})}const y=(0,lt.jsx)("div",{className:Nv,children:(0,lt.jsx)(Vc.m,{equalGradientWidth:!0,title:c._s.get("web-player.connect.device-picker.current-device"),children:(0,lt.jsx)(Cs.a,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:c._s.get("web-player.connect.device-picker.current-device")})},`picker-header-title-${t}`)});let _;_=e?u?c._s.get("web-player.connect.device-picker.this-computer"):c._s.get("web-player.connect.device-picker.this-web-browser"):t;const b=(0,lt.jsx)("div",{className:Ov,children:(0,lt.jsx)("div",{className:Nv,children:(0,lt.jsx)(Vc.m,{equalGradientWidth:!0,title:_,children:(0,lt.jsx)(Cs.a,{as:"p",variant:"bodyMedium",semanticColor:"textBase",children:_})},`picker-header-subtitle-${t}`)})}),v=(0,lt.jsx)(sd,{title:_,deviceId:l,connectStateDeviceId:d,allowForgetDevice:h,incarnation:p?a:void 0,spec:m.containerViewFactory().headerFactory().activeDeviceFactory()});return(0,lt.jsxs)("div",{className:xs()(Sv),id:"device-picker-header",children:[(0,lt.jsxs)("div",{className:xs()(Iv,g&&Av),children:[(0,lt.jsxs)("div",{className:xs()(wv),children:[f,y]}),b]}),(0,lt.jsx)("div",{className:xs()(Tv),children:g&&v})]})},jv={id:"",connectStateId:"",name:"",type:B.KQ.COMPUTER,isGroup:!1,isLocal:!0,isActive:!0,isConnecting:!1,isDisabled:!1,volume:0,hifiSupport:{fullySupported:!1,deviceSupported:!1,userEligible:!1},supportsLogout:!1},Lv=()=>{const e=(0,Uc.wL)({data:{identifier:Uc.ye.FLYOUT}}),{activeDevice:t,devices:n}=vl((e=>({activeDevice:e.activeDevice,devices:e.devices}))),s=t??jv,{isPlaying:i}=(0,Fc.CQ)(),r=(0,u.G$)();return(0,lt.jsx)(Xy.g,{label:c._s.get("playback-control.connect-picker"),children:(0,lt.jsxs)($y.u,{children:[(0,lt.jsx)(Jy._,{panel:La.s.DevicePicker}),(0,lt.jsx)(Pv,{deviceId:s.id,connectStateDeviceId:s.connectStateId,isLocalDevice:s.isLocal,deviceName:s.name,deviceType:s.type,isGroup:s.isGroup,isLocalNetwork:s.isLocalNetwork,supportsLogout:s.supportsLogout,incarnation:s.incarnation,isPlaying:i,isDesktop:r,spec:e}),(0,lt.jsx)(Gu,{devices:n,areWebPlayerCastDevicesAvailable:!1,spec:e})]})})};var Rv=n(89876);const Dv=()=>null,Mv=()=>{const e=(0,Wy.sH)(),t=(0,Wy.sN)();(()=>{const e=(0,Wy.sN)(),t=(0,Bn.Q)(),n=(0,$e.useRef)(null);(0,Ot.S)(N.AU.UPDATE,(({data:t})=>{const s=t?.item?.uri??null;n.current!==s&&(n.current=s,e({type:Rv.s.PLAYBACK_AUTOPLAY,playerState:t}))})),(0,Ot.S)(N.AU.ACTION,(({data:n})=>{n.action===N.ye.PLAY&&e({type:Rv.s.PLAY_CLICK,action:n,playerState:t.getState()})}))})();let n=null,s=e;switch(e){case La.s.BuddyFeed:n=(0,lt.jsx)(Hy,{});break;case La.s.Queue:n=(0,lt.jsx)(Ev,{});break;case La.s.PuffinActivation:case La.s.Puffin:n=(0,lt.jsx)(Dv,{}),s="puffin";break;case La.s.DevicePicker:n=(0,lt.jsx)(Lv,{});break;case La.s.NowPlayingView:n=(0,lt.jsx)(Hl.k$,{currentPanel:e});break;default:n=null}return(0,lt.jsx)(Ke.a,{onError:e=>{(0,T.gh)(e,"PanelSection"),t((0,Wy.O0)(La.s.Disabled))},children:n},s)};var Uv=n(31476),Fv=n(86376),Bv=n(80876);const Gv=()=>{const{spec:e,logger:t}=(0,Jn.gp)(Uv.e,{}),n=(0,ze.OY)(),{setMode:s}=(0,Vl.O)();return(0,$e.useEffect)((()=>{const e=e=>{"Escape"===e.key&&s(Gl.ch.npv)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[n,s]),(0,lt.jsxs)("div",{className:Bv.c.Controls,children:[(0,lt.jsx)(Fv.i,{}),(0,lt.jsx)(Ci.u,{focus:!0,label:c._s.get("web-player.now-playing-view.minimize.lyrics"),onClick:()=>{s(Gl.ch.npv),t.logInteraction(e.minimizeCinemaModeButtonFactory().hitUiHide()),t.logImpression(e.minimizeCinemaModeButtonFactory().impression())},children:(0,lt.jsx)(qa.W,{size:"small"})}),(0,lt.jsx)(Ci.u,{focus:!0,label:c._s.get("web-player.now-playing-view.close.lyrics"),onClick:()=>{s(Gl.ch.none),t.logInteraction(e.closeLyricsButtonFactory().hitUiHide())},children:(0,lt.jsx)(sa.K,{size:"small"})})]})};var Vv=n(75516);const Hv=()=>{const{mode:e,setMode:t}=(0,Vl.O)(),{lyricsCinemaRef:n}=(0,Ba.k5)();!function(){const{pathname:e}=(0,Gt.IT)(),{mode:t,setMode:n}=(0,Vl.O)();(0,$e.useEffect)((()=>{t===Gl.ch.cinema&&n(Gl.ch.npv)}),[e])}();const{item:s}=(0,zs.o)((e=>({item:e?.item?.type})));return e!==Gl.ch.cinema?null:(s&&s===P.s.TRACK||t(Gl.ch.npv),n.current?(0,Fa.createPortal)((0,lt.jsxs)("div",{className:Bv.c.Container,children:[(0,lt.jsx)(Gv,{}),(0,lt.jsx)(Bc.G,{className:Bv.c.Content,children:(0,lt.jsx)(Vv.c,{format:"cinema"})})]}),n.current):(console.error("No container found for cinema video!"),null))},Wv=()=>(0,lt.jsx)(Ke.a,{children:(0,lt.jsx)(Hv,{})});var zv=n(93328),Yv=n(2284);const Kv=()=>{const[e,t]=(0,$e.useState)(!1),[n,s]=(0,$e.useState)(""),[i,r]=(0,$e.useState)(""),{pathname:a}=location,o=(0,ze.w1)(Xo.SS),l=(0,jg.A)();(0,$e.useEffect)((()=>{const e=setTimeout((()=>{t(!0)}),1100);return()=>{t(!1),clearTimeout(e)}}),[a]);const d=(0,$e.useCallback)((({columnWidth:e,gridGap:t})=>{const n=`${e.toString()}px`,i=`${t.toString()}px`;s(n),r(i)}),[]),u=(0,$e.useCallback)((()=>(0,lt.jsx)(lt.Fragment,{})),[]);return e?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)("div",{className:"contentSpacing",children:(0,lt.jsx)(Yv.C,{render:u,onLayoutChange:d})}),(0,lt.jsx)(zv.YX,{language:c._s.getLocaleForSmartling(),market:o.toLowerCase(),children:(0,lt.jsx)(zv.Go,{hideWebPlayerLink:!0,columnGap:i,columnWidth:n,hideLegalLinks:l})})]}):(0,lt.jsx)(lt.Fragment,{})};var qv=n(43460),Qv=n(41524);const Xv="main-home-homeHeader",$v="main-home-withAds",Jv="main-home-isOffline",Zv=e=>e.platform,ex=()=>{const{isDesktop:e}=(0,ze.w1)(Zv),t=(0,ze.w1)(ea.ae),{productState:n}=(0,ze.w1)(Rl.cx);return e&&"premium"===n?.product&&t},tx=(0,$e.memo)((function(){const e=Rp(Ef.EFd),t=!(0,og.O)(),n=ex();return(0,lt.jsx)("div",{className:xs()(Xv,{[Jv]:t,[$v]:n}),style:{backgroundColor:e}})})),nx="Root__top-container",sx="Root__top-container--has-notice-bar";var ix=n(33062);const rx=parseInt(ix.c.MINIMUM_HEADER_HEIGHT,10);function ax({children:e}){const t=(0,ze.w1)((e=>e.ui.unsupportedBrowser.isOpen)),n=(0,Zt.sH)(),s=Sy(),i="/home"===(0,Gt.IT)().pathname,r=ex(),a=Rp(),o="/lyrics"===(0,Gt.IT)().pathname,l=(0,$e.useRef)(-1),c=(0,$e.useRef)(null),d=(0,$e.useCallback)((e=>{const t=e.target.scrollTop;let n;n=s||i?((e,t)=>Ey(e,t?350:80,10))(t,r):void 0===a?Ey(t,ii.QJ):o?0:Ey(t,rx,140+ii.QJ),Number(l.current).toPrecision(2)!==Number(n).toPrecision(2)&&requestAnimationFrame((()=>{c.current&&c.current.style.setProperty("--top-bar-opacity",`${Number(n).toPrecision(2)}`)})),l.current=n}),[a,s,i,o,r]);return(0,Qv.G)(d,{executeOnceOnStart:!0}),(0,lt.jsx)("div",{className:xs()(nx,{[sx]:t}),ref:c,"data-right-sidebar-hidden":n===La.s.Disabled||void 0,children:e})}const ox="Root__main-view-overlay",lx=(0,$e.forwardRef)((function({children:e},t){return(0,lt.jsx)("div",{ref:t,className:ox,children:e})})),cx="Root__nav-bar";function dx({children:e}){const{leftSidebarRef:t}=(0,Ba.k5)();return(0,lt.jsx)("div",{ref:t,className:cx,children:e})}var ux=n(17456);const mx="main-navBar-mainNav";function px(){return(0,lt.jsx)("nav",{className:mx,"aria-label":c._s.get("sidebar.a11y.landmark-label"),children:(0,lt.jsx)(Ni.oL,{value:"nav-bar",children:(0,lt.jsx)(ux.WO,{})})})}const hx="Root__main-view";function gx({children:e}){return(0,lt.jsx)("div",{className:hx,children:e})}const fx="JkjJ8UlBui5vclUi1vZF",yx=({children:e})=>(0,lt.jsx)("div",{className:fx,children:e}),_x="Root__right-sidebar";function bx({children:e}){return(0,lt.jsx)("div",{className:_x,children:e})}const vx="Root__now-playing-bar";function xx({children:e}){const{nowPlayingBarRef:t}=(0,Ba.k5)();return(0,lt.jsx)("div",{ref:t,className:vx,children:e})}var Cx=n(21492),Ex=n(43e3);const Sx="securitypolicyviolation",wx=(0,$e.lazy)((()=>new Promise((e=>{const t=Promise.all([n.e(8596),n.e(1836)]).then(n.bind(n,55916)).then((e=>({default:e.PiPMiniPlayer}))),s=new Promise((e=>{setTimeout(e,300)}));Promise.all([t,s]).then((t=>{e(t[0])}))}))));var Ix=n(70292),Ax=n(13152),Tx=n(71830);const kx="pip-mini-player",Nx={OS_MACOS:"spotify__os--is-macos",OS_WINDOWS:"spotify__os--is-windows",CONTAINER_DESKTOP:"spotify__container--is-desktop",CONTAINER_WEB:"spotify__container--is-web"};function Ox(e,t,n){!function(e,t){e.querySelector("html")?.classList.remove(...t)}(n,Object.values(Nx));const s=function(e,t){const n=["no-focus-outline"];return t===m.I.macOS?n.push(Nx.OS_MACOS):t===m.I.Windows&&n.push(Nx.OS_WINDOWS),e===m.q.Desktop?n.push(Nx.CONTAINER_DESKTOP):e===m.q.Web&&n.push(Nx.CONTAINER_WEB),n}(e,t);!function(e,t){t.forEach((t=>{e.querySelector("html")?.classList.add(t)}))}(n,s)}const Px=e=>{const t=Array.from(document.getElementsByTagName("script")).filter((e=>e.src?.includes("xpui.js")))?.[0]?.src.replace(/\/[^/]+$/,"")??"";return{scripts:[`${t}/${kx}.js`,`${t}/vendor~${kx}.js`],styles:[`${t}/${kx}.css`,`${t}/vendor~${kx}.css`]}},jx=e=>{const t=(0,ts.eq)();(0,$e.useLayoutEffect)((()=>{if(!e)return;const{pipResources:n}=(0,E.e)("config"),{scripts:s,styles:i}=Px();e.document.body.style.margin="0",e.document.body.style.padding="0",Ox(t.container,t.operatingSystem,e.document),Ue.setup(e.document),s.map((t=>((e,t)=>{const n=document.createElement("script");n.setAttribute("src",e),t.document.head.appendChild(n)})(t,e))),i.map((t=>((e,t)=>{const n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),t.document.body.prepend(n)})(t,e)))}),[e,t])},Lx=$e.memo((()=>{const{capabilities:{isEnabled:e},isOpen:t,close:n}=(0,Tx.s)(),s=(0,$e.useCallback)(n,[n]),i=window.documentPictureInPicture?.window??null;var r,a;if(jx(i),r=i,a=window,(0,$e.useEffect)((()=>{r&&a&&["lang","dir"].forEach((e=>{const t=a.document.documentElement.getAttribute(e);null!==t&&r.document.documentElement.setAttribute(e,t)}))}),[r,a]),(0,$e.useEffect)((()=>{}),[]),!e||!t||!i)return null;const o=i;return(0,Fa.createPortal)((0,lt.jsx)(Ke.a,{onError:s,children:(0,lt.jsx)(ut.y9,{handle:o,children:(0,lt.jsx)(Ax.W,{children:(0,lt.jsx)($e.Suspense,{fallback:(0,lt.jsx)(Ix.a,{}),children:(0,lt.jsx)(wx,{})})})})}),i.document.body)}));var Rx=n(81947),Dx=n(31144),Mx=n(68592),Ux=n(94216),Fx=n(45808);class Bx extends Fx.u{}const Gx=640;class Vx{_events=new Bx;graphicsRef=null;currentImageUrl=null;getCapabilities(){return{isEnabled:!0,supportsVideo:!1,supportsAds:!1,supportsConnect:!1,supportsOffline:!1}}getEvents(){return this._events}async open(e){const t=this.getOrCreateGraphics();await this.updateGraphicsFromPlayerState(t,e);const n=this.getPictureInPictureElement();return n===t.video||(await this.requestPictureInPicture(t,(()=>{this.close()})),this._events.emitSync("visibility_change",!0)),n??null}async updateGraphicsFromPlayerState(e,t){const n=this.getImageURLFromPlayerState(t);null!==n?await this.drawImage(e,n):this.close()}close(){this.getPictureInPictureElement()&&document.exitPictureInPicture(),this.disposeGraphics(),this._events.emitSync("visibility_change",!1)}isAllowed(e,t){const n=e?.hasContext??!1,s=e?.item?.type===P.s.EPISODE&&"audio"!==e?.item.mediaType,i=t.activeDevice?.isLocal??!0;return!!n&&(!!i&&!s)}getCurrentState(){return this.getPictureInPictureElement()?"open":"closed"}syncWithPlayerState(e){const t=e?.hasContext??!1,n=e?.isPaused??!1,s=this.getPictureInPictureElement();!t||n?s?.pause():s?.play();const i=this.getOrCreateGraphics();this.updateGraphicsFromPlayerState(i,e)}getOrCreateGraphics(){return this.graphicsRef??=this.createGraphics(),this.graphicsRef}disposeGraphics(){this.graphicsRef=null,this.currentImageUrl=null}createGraphics(){const e=document.createElement("canvas");e.width=Gx,e.height=Gx;const t=e.getContext("2d"),n=document.createElement("video");return n.srcObject=e.captureStream(),n.muted=!0,{context:t,video:n}}async drawImage({context:e,video:t},n){if(this.currentImageUrl===n)return;this.currentImageUrl=n;const s=new Image;s.crossOrigin="anonymous",s.src=(0,Mx.o)({imageUriOrUrl:n,desiredMosaicSize:Gx}),await s.decode(),e.drawImage(s,0,0,Gx,Gx),await t.play()}getImageURLFromPlayerState(e){const t=e?.item?.images??[];return(0,si.u)(t,{desiredSize:Gx})??null}async requestPictureInPicture({video:e},t){try{await e.requestPictureInPicture(),e.addEventListener("leavepictureinpicture",t,{once:!0})}catch(e){(0,Dx.Kk)(e)}}getPictureInPictureElement(){if(document.pictureInPictureElement)return document.pictureInPictureElement}static isSupported(){return!1}}var Hx=n(85708);var Wx=n(7316);class zx{#e=new Bx;#t=null;#n;constructor(e=!1){this.#n=e}getCapabilities(){return{isEnabled:!0,supportsVideo:!0,supportsAds:!0,supportsConnect:!0,supportsOffline:this.#n}}getEvents(){return this.#e}async open(e){if(!zx.isSupported())return null;const t=this.getDocumentPictureInPictureElement()?.window;if(t){if(t===this.#t)return this.#t;t.close()}const{width:n,height:s}=this.getInitialWindowSize(e?.item),i=await this.createWindow(n,s);return void 0===i?(this.close(),null):(this.#t=i,this.#t.addEventListener("pagehide",(()=>{this.close()}),{once:!0}),this.#e.emitSync("visibility_change",!0),this.#t)}close(){this.#t&&(this.#t.close(),this.#t=null),this.#e.emitSync("visibility_change",!1)}isAllowed(e,t){return!(!(e?.hasContext??!1)&&t.connectionStatus===B.UD.NOT_CONNECTED)}getCurrentState(){return this.#t?"open":"closed"}syncWithPlayerState(e){}getInitialWindowSize(e){let t=300,n=300;if(e){(0,Wx.s)(e)&&("video"===e.mediaType||"mixed"===e.mediaType)&&(t=425,n=300)}return{width:t,height:n}}async createWindow(e,t){return await(this.getDocumentPictureInPictureElement()?.requestWindow({width:e,height:t}))}getDocumentPictureInPictureElement(){return window.documentPictureInPicture}static isSupported(){return"documentPictureInPicture"in window&&((0,Hx.G$)()||(e="chrome",t=119,C().getParser(navigator.userAgent).satisfies({[e]:`>=${t}`})??!1));var e,t}}class Yx{getCapabilities(){return{isEnabled:!1,supportsVideo:!1,supportsAds:!1,supportsConnect:!1,supportsOffline:!1}}getEvents(){return new Bx}open(){return Promise.resolve(void 0)}close(){}isAllowed(e,t){return!1}getCurrentState(){return"closed"}syncWithPlayerState(){}}const Kx=()=>{const e=(0,hn.e)(),[t]=(0,$e.useState)((()=>{if(navigator.webdriver)return new Yx;if(zx.isSupported()){if(e.localConfiguration.getValue(_e.Ub_)){return new zx(!0)}}return Vx.isSupported()?new Vx:new Yx}));return t};n(78808);var qx=n(41576),Qx=n(26376),Xx=n(21712);const $x=()=>{const e=(0,tt.IP)(_e.o5q,{loadingValue:null}),t=(0,ts.mg)(),{isTrustedRef:n,isTrustedFn:s,metadataRef:i}=(0,Xx.S)();(0,$e.useEffect)((()=>{e&&s().then((()=>{t.send((0,Qx.x)({page:location.pathname,metadata:{...i.current,"navigator.appVersion":navigator.appVersion,wd:`${navigator.webdriver}`,t:n.current?"":" "}}))}))}),[e,t,s,n,i])};function Jx(){if(Zx())try{navigator.mediaSession.setActionHandler("enterpictureinpicture",null)}catch(e){}}function Zx(){return"mediaSession"in navigator}const eC=$e.memo((({pipInstance:e})=>((e=>{const t=(0,Na.c)(),n=(0,zs.o)((e=>e),((e,t)=>e?.hasContext===t?.hasContext&&e?.item?.uri===t?.item?.uri)),s=(0,$e.useRef)(n);s.current=n;const i=(0,$e.useMemo)((()=>e.isAllowed(n,t)),[t,e,n]);(0,$e.useEffect)((()=>{if(Zx()){try{i?navigator.mediaSession.setActionHandler("enterpictureinpicture",(t=>{e.open(s.current)})):Jx()}catch(e){}return()=>{Jx()}}}),[e,i])})(e),null)));var tC=n(4888),nC=n(59732);const sC=()=>{const e=(0,ze.OY)(),{data:t}=(0,ze.w1)((e=>e.ui.artistAboutDialog));if(!t)return null;const{artist:n,artistUri:s,visuals:i,stats:r,externalLinks:a}=t,{gallery:o}=i,{monthlyListeners:l,worldRank:c,followers:d,topCities:u}=r,m=[];return o.items.forEach((e=>{const t=e.sources.map(Q.WG),n=(0,K_.C)(t,{desiredLabel:"large",desiredSize:600});n&&m.push(n)})),(0,lt.jsx)(nC.q,{artistUri:s,name:n.name,bio:n.biography?.text,bioSource:n.biography?.type,worldRank:c||0,isOpen:!0,closeModal:()=>{e((0,He.rB)())},images:m,externalLinks:a,topCities:u?.items,followers:d,monthlyListeners:l})};var iC=n(27292),rC=n(15708);const aC=({uri:e,onConfirm:t,onCancel:n,remoteDeviceInfo:s})=>{const i=(0,Jn.Mk)(),r=(0,$e.useMemo)((()=>(0,iC.G)()),[]);(0,$e.useEffect)((()=>{i.logImpression(r.impression())}),[i,r]);const a=(0,ze.OY)();return(0,lt.jsx)(rC.c,{"aria-label":c._s.get("web-player.download.remove-download-confirmation-dialog.title"),titleText:c._s.get("web-player.download.remove-download-confirmation-dialog.title"),descriptionText:s?c._s.get("web-player.download.remove-download-confirmation-dialog.message-remote",s.deviceName):c._s.get("web-player.download.remove-download-confirmation-dialog.message"),onConfirm:()=>{t(),a((0,He.gJ)()),i.logInteraction(s?r.confirmRemoveDownloadButtonFactory().hitRemoveDownloadFromRemoteDevice({itemToRemoveFromDownloads:e,remoteDeviceId:s.deviceId,remoteDeviceType:s.deviceType.toString(),remoteClientPlatform:s.clientPlatform.toString()}):r.confirmRemoveDownloadButtonFactory().hitRemoveDownload({itemToRemoveFromDownloads:e}))},onClose:()=>{n(),a((0,He.gJ)()),i.logInteraction(r.cancelButtonFactory().hitUiHide())},confirmText:c._s.get("web-player.download.remove-download-confirmation-dialog.confirm-button-text"),confirmLabel:c._s.get("web-player.download.remove-download-confirmation-dialog.confirm-button-label"),cancelText:c._s.get("web-player.download.remove-download-confirmation-dialog.cancel-button-text"),allowHTML:!0})};var oC=n(53880),lC=n(13080),cC=n(33996);var dC=n(32040),uC=n(71912);var mC=n(7076),pC=n(14600);const hC=({onChangePermission:e,onRemoveMember:t,onLeave:n,member:s,capabilities:i})=>(0,lt.jsxs)(Ai.i,{children:[i.canAdministratePermissions&&"VIEWER"===s.permissionLevel&&(0,lt.jsx)(ki.I,{role:"menuitemradio","aria-checked":!1,onClick:()=>e("CONTRIBUTOR"),leadingIcon:(0,lt.jsx)(mC.Y,{size:"small"}),children:(0,lt.jsx)(Cs.a,{variant:"bodySmall",children:c._s.get("contextmenu.make-collaborator")})}),i.canAdministratePermissions&&"CONTRIBUTOR"===s.permissionLevel&&(0,lt.jsx)(ki.I,{role:"menuitemradio","aria-checked":!1,onClick:()=>e("VIEWER"),leadingIcon:(0,lt.jsx)(mC.Y,{size:"small"}),children:(0,lt.jsx)(Cs.a,{variant:"bodySmall",children:c._s.get("contextmenu.make-listener")})}),i.canAdministratePermissions&&(0,lt.jsx)(ki.I,{role:"menuitemradio","aria-checked":!1,onClick:()=>t(),leadingIcon:(0,lt.jsx)(pC.e,{size:"small"}),children:(0,lt.jsx)(Cs.a,{variant:"bodySmall",children:c._s.get("contextmenu.remove-user-from-playlist")})}),i.canCancelMembership&&(0,lt.jsx)(ki.I,{role:"menuitemradio","aria-checked":!1,onClick:()=>n(),leadingIcon:(0,lt.jsx)(pC.e,{size:"small"}),children:(0,lt.jsx)(Cs.a,{variant:"bodySmall",children:c._s.get("contextmenu.leave-playlist")})})]}),gC="BcnmjYfXOAeitEfgAPl6",fC="TyF75BooCfm5fJnA4XQY",yC="TcErZJbTZpN8HIgWMd5n",_C="BmWdMJcMaW6bsnYoHvO5",bC="A01aXaVEC14dEvpLdH0h",vC="RRgksp2YQ5yCTY3fG8c5",xC="ttg4QuP3hS13nliEPlmS",CC="dfdmOp6sP6kvpppsfnoO",EC="Oxwpqw2lyewx__AmCPlS",SC="V1By35exkhnkgbEeAQXN",wC="_uwvL3Y_Wnj_KZiCTAks",IC="BvQLGIYvKgcZxPTGJnWc",AC="QIWSUTRvc_sCKCXhR1v4",TC="niUTA9FhPwaWPOpzcZOX",kC="uy6zaVvwrdXhU47KjWvA",NC=({uri:e,member:t,capabilities:n,isCurrentUser:s})=>{const i=(0,ze.OY)(),[r,a]=(0,$e.useState)(!1),{changeMemberPermission:o,removeMember:l}=(e=>{const t=(0,cC.g)(),n=(0,$e.useCallback)((async(n,s)=>{await t.setMemberPermission(e,n,s)}),[t,e]),s=(0,$e.useCallback)((async n=>{await t.removeMember(e,n)}),[t,e]),i=(0,$e.useCallback)((async n=>{await t.setBasePermission(e,n)}),[t,e]);return{uri:e,changeMemberPermission:n,removeMember:s,changeBasePermission:i}})(e),d=(0,$e.useCallback)((e=>{t.user&&(o(t.user.username,e),a(!0))}),[o,t.user]),u=(0,$e.useCallback)((()=>{t.user&&(l(t.user.username),a(!0))}),[t.user,l]),m=(0,$e.useCallback)((()=>{i((0,He.G)(e))}),[i,e]),p=!t.isOwner&&(n?.canAdministratePermissions||n?.canCancelMembership&&s);let h="CONTRIBUTOR"===t.permissionLevel?c._s.get("permissions.collaborator"):c._s.get("permissions.listener");return t.isOwner&&(h=c._s.get("permissions.creator")),p&&n?(0,lt.jsx)(Ei.p,{renderInline:!0,menu:(0,lt.jsx)(hC,{onChangePermission:d,onRemoveMember:u,onLeave:m,capabilities:n,member:t}),children:(e,t,n)=>(0,lt.jsxs)("button",{className:xs()(AC,TC,{[kC]:r}),onClick:t,ref:n,type:"button","":"permissions-menu",children:[(0,lt.jsx)(Cs.a,{variant:"bodySmall",children:h}),e?(0,lt.jsx)(dC.s,{size:"small"}):(0,lt.jsx)(uC.a,{size:"small"})]})}):(0,lt.jsx)(Cs.a,{variant:"bodySmall",className:AC,children:h})},OC=({member:e,playlistUri:t,username:n,capabilities:s,onClose:i})=>{if(!e.user)return null;const r=n===e.user.username,a=r&&e.user.displayName?c._s.get("permissions.current-user-name",e.user.displayName):e.user.displayName;return(0,lt.jsxs)("div",{className:CC,children:[(0,lt.jsxs)("div",{className:EC,children:[(0,lt.jsx)(hh.C,{label:e.user.displayName,images:e.user.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:32,userIconSize:"small"}),(0,lt.jsxs)("div",{className:SC,children:[(0,lt.jsx)(qc.UF,{menu:(0,lt.jsx)(n_.Y,{uri:e.user.uri}),children:(0,lt.jsx)(yg.default,{title:a??e.user.username,to:e.user.uri,dir:"auto",onClick:i,children:(0,lt.jsx)(Cs.a,{variant:"bodySmallBold",children:a})})}),e.songsAdded>0&&(0,lt.jsx)(Cs.a,{className:wC,variant:"marginal",children:c._s.get("permissions.songs-added",e.songsAdded)})]})]}),(0,lt.jsx)(NC,{uri:t,member:e,capabilities:s,isCurrentUser:r})]},e.user.uri)};const PC=({isPublicPlaylist:e})=>(0,lt.jsx)("div",{className:bC,children:e?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(oC.a,{size:"small"}),(0,lt.jsx)(Cs.a,{className:vC,variant:"marginal",children:c._s.get("permissions.public-playlist")})]}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(lC.i,{size:"small"}),(0,lt.jsx)(Cs.a,{className:vC,variant:"marginal",children:c._s.get("permissions.private-playlist")})]})}),jC=({isOpen:e,uri:t,onClose:n})=>{const s=function(e){const t=(0,cC.g)(),[n,s]=(0,$e.useState)(null),i=(0,$e.useCallback)(((e,t)=>{s(e||!t?null:t)}),[]);return(0,$e.useEffect)((()=>t.subscribeToMembers(e,i)),[t,e,i]),n}(t),i=(0,ze.w1)((({session:e})=>e?.user?.id))||null;return s?(0,lt.jsx)(Ur.c,{isOpen:e,onRequestClose:n,contentLabel:c._s.get("permissions.modal-label"),children:(0,lt.jsxs)("div",{"":"playlist-permissions-modal",className:gC,children:[(0,lt.jsxs)("div",{className:fC,children:[(0,lt.jsxs)("div",{className:yC,children:[(0,lt.jsx)(PC,{isPublicPlaylist:(r=s.basePermissionLevel,"VIEWER"===r||"CONTRIBUTOR"===r)}),(0,lt.jsx)("button",{className:xC,onClick:n,children:(0,lt.jsx)(sa.K,{size:"small","aria-label":c._s.get("close")})})]}),(0,lt.jsx)(Cs.a,{as:"h1",variant:"titleMedium",children:c._s.get("permissions.shared-with")})]}),(0,lt.jsx)(Bc.G,{className:IC,children:(0,lt.jsx)("div",{className:_C,children:(0,lt.jsx)("div",{children:s.members&&s.members.map((e=>(0,lt.jsx)(OC,{playlistUri:t,member:e,username:i,capabilities:s.capabilities,onClose:n},e.user?.username)))})})})]})}):null;var r},LC=()=>{const e=(0,tt.IP)(_e.UHG),{isOpen:t,uri:n}=(0,$e.useContext)(qe.yo),s=(0,$e.useContext)(qe.IB),i=(0,$e.useCallback)((()=>{s({type:"close"})}),[s]);return e&&t&&n?(0,lt.jsx)(jC,{isOpen:t,onClose:i,uri:n}):null};var RC=n(4260),DC=n(96576),MC=n(20860);const UC=({size:e=60,className:t})=>(0,lt.jsx)("img",{className:t,src:(0,li.K)("images/group-session-logo.svg"),height:e,width:e,alt:c._s.get("web-player.social-connect.group-session-logo-alt")}),FC="jav_0ddRdU3yOojQAq8w",BC="ldkgyfJfn34VlQ2thtaB",GC="cHxs16ZqqJIr8OAcIG1h",VC="tIfl33R3uqA7AyIa0OHf",HC="OEOcqiDA2mrxdAcZOXdj",WC=({imageElement:e,title:t,subtitle:n,confirmButtonText:s,confirmButtonIcon:i,onConfirm:r,cancelButtonText:a,onCancel:o,disabled:l,footerText:c})=>(0,lt.jsxs)("div",{className:FC,children:[e,(0,lt.jsxs)("div",{className:BC,children:["string"==typeof t?(0,lt.jsx)(Cs.a,{as:"h3",variant:"titleMedium",semanticColor:"textBase",className:GC,children:t}):t,"string"==typeof n?(0,lt.jsx)(Cs.a,{variant:"bodyMedium",semanticColor:"textBase",children:n}):n]}),(0,lt.jsxs)("div",{className:VC,children:[(0,lt.jsx)(Es.g,{onClick:r,disabled:l,iconTrailing:i,children:s}),a&&(0,lt.jsx)(Xi.u,{semanticColor:"textSubdued",onClick:o,disabled:l,children:a})]}),c&&(0,lt.jsx)("div",{className:HC,children:(0,lt.jsx)(Cs.a,{variant:"marginal",semanticColor:"textSubdued",children:c})})]}),zC=({setContentLabel:e})=>{const{createSession:t,currentSession:n,deleteSession:s}=(0,nl.O)(),i=(0,ze.OY)(),r=(0,ts.mg)(),{remoteDevice:a}=(0,dl.w)(),o=(0,t_.E)(),l=(0,$e.useCallback)((async()=>{await t()}),[t]);(0,$e.useEffect)((()=>{l()}),[l]);const d=(0,$e.useCallback)((async()=>{const e=n?.joinSessionUri;if(!e){const e=await t();if(!e?.joinSessionUri)return;r.send((0,RC.i)({session_id:e.sessionId,device_type:a?.type,tech_type:a?.isLocal?MC.aG.LOCAL:MC.aG.CONNECT,session_uri:e.joinSessionUri,session_type:MC.wb.REMOTE}))}o(),i((0,He.Ed)())}),[n,o,i,t,r,a]),u=(0,$e.useCallback)((async()=>{if(n){await s()&&r.send((0,DC.A)({session_id:n.sessionId,end_reason:MC.IT.INVITATION_MODAL_CANCEL_BUTTON}))}i((0,He.Ed)())}),[n,s,i,r]),m=c._s.get("web-player.social-connect.invitation-modal.title");return(0,$e.useEffect)((()=>{e(m)}),[m,e]),(0,lt.jsx)(WC,{imageElement:(0,lt.jsx)(UC,{}),title:m,subtitle:c._s.get("web-player.social-connect.invitation-modal.subtitle"),confirmButtonText:c._s.get("web-player.social-connect.invitation-modal.button-primary"),onConfirm:d,cancelButtonText:c._s.get("web-player.social-connect.invitation-modal.button-tertiary"),onCancel:u})};var YC=n(14556);const KC=(e,t)=>{switch(e){case Gl.SI.SESSION_ENDED:return{title:c._s.get("web-player.social-connect.session-ended.title"),description:c._s.get("web-player.social-connect.session-ended.sub-title"),confirmText:c._s.get("web-player.social-connect.session-ended.confirmation-button"),ubiIdentifier:YC.ye.SESSION_ENDED};case Gl.SI.ERROR:return{title:c._s.get("web-player.social-connect.generic-error.title"),description:c._s.get("web-player.social-connect.generic-error.sub-title"),confirmText:c._s.get("web-player.social-connect.generic-error.confirmation-button"),ubiIdentifier:YC.ye.ERROR};case Gl.SI.MOBILE_ONLY:return{title:c._s.get("web-player.social-connect.mobile-only.title"),description:c._s.get("web-player.social-connect.mobile-only.description"),confirmText:c._s.get("web-player.social-connect.mobile-only.confirmation-button"),ubiIdentifier:YC.ye.MOBILE_ONLY};case Gl.SI.END_SESSION:return{title:c._s.get("web-player.social-connect.end-session.title"),description:c._s.get("web-player.social-connect.end-session.sub-title"),confirmText:c._s.get("web-player.social-connect.end-session.confirm"),cancelText:c._s.get("web-player.social-connect.end-session.cancel")};case Gl.SI.LEAVE_SESSION:return{title:c._s.get("web-player.social-connect.leave-session.title"),description:c._s.get("web-player.social-connect.leave-session.sub-title"),confirmText:c._s.get("web-player.social-connect.leave-session.leave-session-button"),cancelText:c._s.get("web-player.social-connect.leave-session.cancel")};case Gl.SI.REMOVE_PARTICIPANT:return{title:c._s.get("web-player.social-connect.participant-list.remove-guest-dialog",{displayName:t}),description:"",confirmText:c._s.get("web-player.social-connect.participant-list.remove-guest"),cancelText:c._s.get("web-player.social-connect.participant-list.remove-guest-cancel")};default:return(0,j.I)(e),{confirmText:"",description:"",title:""}}};var qC=n(84936);const QC=({isOpen:e})=>{const t=(0,ze.OY)(),{currentSession:n,deleteSession:s}=(0,nl.O)(),{logEndJam:i}=(()=>{const{spec:e,logger:t}=(0,Jn.gp)(qC.G,{});return{logEndJam:(0,$e.useCallback)((()=>{t.logInteraction(e.endButtonFactory().hitStopHostingSocialListeningSession())}),[t,e])}})(),r=(0,ts.mg)(),{title:a,description:o,confirmText:l,cancelText:c}=KC(Gl.SI.END_SESSION),d=(0,$e.useCallback)((async()=>{i(),await s(),r.send((0,DC.A)({session_id:n?.sessionId,end_reason:MC.IT.QUEUE_END_SESSION_BUTTON})),t((0,He.Ed)())}),[n?.sessionId,s,t,r,i]),u=(0,$e.useCallback)((()=>{t((0,He.Ed)())}),[t]);return(0,lt.jsx)(rC.c,{isOpen:e,onClose:u,onConfirm:d,titleText:a,"aria-label":a,descriptionText:o,confirmText:l,confirmLabel:l,cancelText:c})},XC=({isOpen:e,dialogType:t})=>{const n=(0,ze.OY)(),{title:s,description:i,confirmText:r,ubiIdentifier:a}=KC(t),{spec:o,logger:l}=(0,Jn.gp)(YC.UH,{data:{identifier:a}}),c=(0,$e.useCallback)((()=>{n((0,He.Ed)())}),[n]);return(0,$e.useEffect)((()=>{e&&l.logImpression(o.impression())}),[e,l,o]),(0,lt.jsx)(rC.c,{isOpen:e,onClose:c,onConfirm:c,titleText:s,"aria-label":s,descriptionText:i,confirmText:r,confirmLabel:r})};var $C=n(87228);const JC=({isOpen:e})=>{const t=(0,ze.OY)(),{currentSession:n,leaveSession:s}=(0,nl.O)(),{logLeaveJam:i}=(()=>{const{spec:e,logger:t}=(0,Jn.gp)($C.U,{});return{logLeaveJam:(0,$e.useCallback)((()=>{t.logInteraction(e.leaveButtonFactory().hitLeaveSocialListeningSession())}),[t,e])}})(),r=(0,ts.mg)(),{title:a,description:o,confirmText:l,cancelText:c}=KC(Gl.SI.LEAVE_SESSION),d=(0,$e.useCallback)((async()=>{i(),await s(),r.send((0,DC.A)({session_id:n?.sessionId,end_reason:MC.IT.QUEUE_LEAVE_SESSION_BUTTON})),t((0,He.Ed)())}),[n?.sessionId,t,r,s,i]),u=(0,$e.useCallback)((()=>{t((0,He.Ed)())}),[t]);return(0,lt.jsx)(rC.c,{isOpen:e,onClose:u,onConfirm:d,titleText:a,"aria-label":a,descriptionText:o,confirmText:l,confirmLabel:l,cancelText:c})};var ZC=n(21808);const eE=()=>{const{spec:e,logger:t}=(0,Jn.gp)(ZC.I,{});return{logRemoveClick:(0,$e.useCallback)(((n,s)=>{t.logInteraction(e.buttonRowFactory().removeButtonFactory().hitRemoveParticipant({participantId:n,sessionId:s}))}),[t,e])}},tE=({isOpen:e})=>{const t=(0,ze.OY)(),{logRemoveClick:n}=eE(),{currentSession:s,removeSessionMember:i}=(0,nl.O)(),{memberToRemove:r}=(0,ze.w1)((e=>e.ui.jamModalState)),a=r?.id??"",o=r?.displayName??"",l=s?.sessionId??"",{title:c,description:d,confirmText:u,cancelText:m}=KC(Gl.SI.REMOVE_PARTICIPANT,o),p=(0,$e.useCallback)((()=>{n(a,l),a&&(i(a),t((0,He.Ed)()))}),[n,a,l,i,t]),h=(0,$e.useCallback)((()=>{t((0,He.Ed)())}),[t]);return(0,lt.jsx)(rC.c,{isOpen:e,onClose:h,onConfirm:p,titleText:c,"aria-label":c,descriptionText:d,confirmText:u,confirmLabel:u,cancelText:m})},nE=({isOpen:e,dialogType:t})=>{switch(t){case Gl.SI.LEAVE_SESSION:return(0,lt.jsx)(JC,{isOpen:e});case Gl.SI.END_SESSION:return(0,lt.jsx)(QC,{isOpen:e});case Gl.SI.REMOVE_PARTICIPANT:return(0,lt.jsx)(tE,{isOpen:e});case Gl.SI.SESSION_ENDED:case Gl.SI.MOBILE_ONLY:case Gl.SI.ERROR:return(0,lt.jsx)(XC,{isOpen:e,dialogType:t});default:return null}};var sE=n(19067),iE=n(1600),rE=n(76924),aE=n(5304),oE=n(76193),lE=n(52376);const cE="H3UvfEgDtYPH0EL3aLwZ",dE="LPVfHXRjItuJaNEQdlTT",uE="DD2yyz7nKDIMIXhFOAkl",mE="NQtJIrT4cCneGvSC152a",pE="xIKQXbFbxYFpBJfoOTFw",hE="Bs13fjYCTb2TKzoO13sA",gE="N6Pa7PkejWH5KojTMbfU",fE="Uz7GyGSJMC1Cz7Cz0G6t",yE="hN61FwfX0b6x78GshoG3";function _E(){const{isLocalDevice:e,deviceName:t}=vl((({activeDevice:e})=>({isLocalDevice:e?.isLocal??!0,deviceName:e?.name??""})),((e,t)=>e.deviceName===t.deviceName&&e.isLocalDevice===t.isLocalDevice));return function(e,t){const n=(0,Hx.G$)();return e?n?c._s.get("web-player.social-connect.join-modal.device-name.this-computer"):c._s.get("web-player.social-connect.join-modal.device-name.this-browser"):t}(e,t)}const bE=()=>(0,lt.jsxs)("div",{className:yE,children:[(0,lt.jsx)(iE.S,{size:"xsmall",semanticColor:"textBase"}),(0,lt.jsx)(Cs.a,{variant:"marginalBold",semanticColor:"textBase",children:c._s.get("navbar.premium")})]}),vE=({value:e,icon:t,title:n,subtitle:s,selected:i,onSelect:r,formWidth:a,setFormWidth:o})=>{const l=(0,$e.useRef)(null);return(0,$e.useLayoutEffect)((()=>{if(l.current){const e=l.current.getBoundingClientRect().width;e>a&&o(Math.min(490,e+96+8))}}),[a,o]),(0,lt.jsxs)("div",{className:mE,children:[(0,lt.jsxs)("label",{className:pE,htmlFor:e,children:[t,(0,lt.jsxs)("div",{className:hE,style:{"--device-form-label-width":a-96+8+"px"},ref:l,children:[(0,lt.jsx)(Cs.a,{variant:i?"bodyMediumBold":"bodyMedium",semanticColor:i?"textBrightAccent":"textBase",className:fE,children:n}),(0,lt.jsx)(Cs.a,{variant:"bodySmall",semanticColor:i?"textBrightAccent":"textSubdued",className:fE,children:s})]})]}),(0,lt.jsx)(rE.I,{value:e,id:e,className:gE,name:"session-type-radio",checked:i,onChange:()=>{r(e)}})]})},xE=({sessionType:e,setSessionType:t,hostName:n})=>{const s=_E(),i=vl((({activeDevice:e})=>e?.type??B.KQ.COMPUTER)),r=(0,lE.S)(i),a=cf(),[o,l]=(0,$e.useState)(0);return(0,lt.jsxs)(aE.W,{className:uE,style:{"--device-form-width":`${o}px`},children:[(0,lt.jsx)(vE,{value:MC.wb.REMOTE,icon:(0,lt.jsx)(r,{semanticColor:e===MC.wb.REMOTE?"textBrightAccent":"textBase"}),title:c._s.get("web-player.social-connect.join-modal.continue-on-this-device",{device:s}),subtitle:c._s.get("web-player.social-connect.join-modal.continue-on-this-device-subtitle"),onSelect:t,selected:e===MC.wb.REMOTE,formWidth:o,setFormWidth:l}),a&&(0,lt.jsx)(bE,{}),(0,lt.jsx)(vE,{value:MC.wb.IN_PERSON,icon:(0,lt.jsx)(oE.E,{semanticColor:e===MC.wb.IN_PERSON?"textBrightAccent":"textBase"}),title:c._s.get("web-player.social-connect.join-modal.play-from-host-speaker",{host:n}),subtitle:c._s.get("web-player.social-connect.join-modal.play-from-host-speaker-subtitle"),onSelect:t,selected:e===MC.wb.IN_PERSON,formWidth:o,setFormWidth:l})]})};var CE=n(23482);const EE="V8Nnr6rCPzkQv7MCvvKM",SE="A8jOuTXM1E0dlFYJlV39",wE="D0L83_9SDaOFBzZT8EKO",IE=()=>(0,lt.jsx)("div",{className:FC,children:(0,lt.jsxs)("div",{className:EE,children:[(0,lt.jsx)(CE.O,{as:"h3",variant:"titleSmall",className:wE,charCount:16,isLoading:!0}),[[20,50,25],[40,28,35]].map(((e,t)=>(0,lt.jsx)("div",{className:SE,children:e.map(((e,t)=>(0,lt.jsx)(CE.O,{as:"div",variant:"bodySmall",className:wE,charCount:e,isLoading:!0},`${e}-${t}`)))},`skeleton-section-${t}`)))]})});var AE=n(86843);var TE=n(89832);let kE=function(e){return e.NONE="NONE",e.JOINING="JOINING",e.JOINED="JOINED",e.FAILED="FAILED",e}({});const NE=({joinToken:e,setContentLabel:t})=>{const n=(0,ze.OY)(),{getSessionInfo:s,joinSession:i}=(0,nl.O)(),{openURLWithSessionTransfer:r}=(0,Dh.W)(),{logJoin:a}=(()=>{const{spec:e,logger:t}=(0,Jn.gp)(AE.U,{});return{logJoin:(0,$e.useCallback)((()=>{const n=e.joinButtonFactory().hitJoinSocialListeningSession();t.logInteraction(n)}),[t,e])}})(),o=(0,ts.mg)(),[l,d]=(0,$e.useState)(null),[u,m]=(0,$e.useState)(MC.wb.REMOTE),p=(0,TE.U)(),h=p===fe.C.FREE&&u===MC.wb.REMOTE;(0,$e.useEffect)((()=>{s(e).then((e=>{if(e){d(e);const n=e.sessionMembers.find((t=>t.id===e.sessionOwnerId));t(c._s.get("web-player.social-connect.join-modal.title",{host:n?.displayName??""}))}else n((0,He.Ar)(Gl.SI.SESSION_ENDED))}))}),[n,s,e,t]);const[g,f]=(0,$e.useState)(kE.NONE),y=(0,$e.useCallback)((async()=>{f(kE.JOINING),a();try{const t=await i(e,u);t&&(f(kE.JOINED),o.send((0,sE._)({session_id:l?.sessionId,join_type:MC.qY.DEEPLINK,join_url:t.joinSessionUri,participation_mode:MC.wb.REMOTE})),p!==fe.C.FREE&&n((0,He.Ed)()))}catch(e){f(kE.FAILED),e instanceof Error&&o.send((0,sE._)({session_id:l?.sessionId,error_category:e.name,error_data:e.message})),n((0,He.Ar)(Gl.SI.ERROR))}}),[n,o,p,i,e,a,l?.sessionId,u]),_=(0,$e.useCallback)((()=>{r(`${Ss.u6}&ref=jam`,"_blank"),n((0,He.Ed)())}),[n,r]),b=(0,$e.useCallback)((()=>{n((0,He.Ed)())}),[n]);if(!l)return(0,lt.jsx)(IE,{});const v=l.sessionMembers.find((e=>e.id===l.sessionOwnerId)),x=l.sessionMembers.map(al.M);return g===kE.JOINED&&p===fe.C.FREE?(0,lt.jsx)(WC,{imageElement:(0,lt.jsx)(rl.W,{users:x,size:"xlarge",maxSlots:3}),title:(0,lt.jsx)(Cs.a,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:c._s.get("web-player.social-connect.join-modal.success.title",{host:(0,lt.jsx)("span",{className:cE,children:v?.displayName??""})})}),subtitle:(0,lt.jsx)(Cs.a,{variant:"bodySmall",semanticColor:"textSubdued",className:dE,children:c._s.get("web-player.social-connect.join-modal.success.subtitle")}),confirmButtonText:c._s.get("web-player.social-connect.generic-error.confirmation-button"),onConfirm:()=>{n((0,He.Ed)())}}):(0,lt.jsx)(WC,{imageElement:(0,lt.jsx)(rl.W,{users:x,size:"xlarge",maxSlots:3}),title:(0,lt.jsx)(Cs.a,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:c._s.get("web-player.social-connect.join-modal.title",{host:(0,lt.jsx)("span",{className:cE,children:v?.displayName??""})})}),subtitle:(0,lt.jsx)(xE,{sessionType:u,setSessionType:m,hostName:v?.displayName??""}),confirmButtonText:h?c._s.get("web-player.social-connect.premium-upsell.confirmation-button"):c._s.get("web-player.social-connect.join-modal.button-primary"),confirmButtonIcon:h?Au.E:void 0,onConfirm:h?_:y,cancelButtonText:c._s.get("web-player.social-connect.join-modal.button-tertiary"),onCancel:b,disabled:g===kE.JOINING,footerText:c._s.get("web-player.social-connect.join-modal.privacy-notice")})};var OE=n(71640),PE=n(60072);const jE=({joinToken:e})=>{const t=(0,ze.OY)(),{logGetAppClick:n}=(()=>{const{spec:e,logger:t}=(0,Jn.gp)(PE.K,{});return{logGetAppClick:(0,$e.useCallback)((()=>{const n=e.downloadButtonFactory().hitNavigateToExternalUri({destination:(0,OE.Gy)().href});t.logInteraction(n)}),[t,e])}})(),{getSessionInfo:s}=(0,nl.O)(),[i,r]=(0,$e.useState)(null),[a,o]=(0,$e.useState)([]);(0,$e.useEffect)((()=>{s(e).then((e=>{if(e){const t=e?.sessionOwnerId,n=e?.sessionMembers.find((e=>e.id===t)),s=e?.sessionMembers.map(al.M)??[];if(o(s),!n)return;r(n.displayName)}else t((0,He.Ar)(Gl.SI.SESSION_ENDED))}))}),[s,e,t]);const l=(0,$e.useCallback)((()=>{t((0,He.Ed)())}),[t]),d=(0,$e.useCallback)((()=>{n();const s=(0,O.l_)(e);window.open((0,OE.Gy)(s).href),t((0,He.Ed)())}),[t,e,n]);return(0,lt.jsx)(WC,{imageElement:(0,lt.jsx)(rl.W,{users:a,size:"xlarge",maxSlots:3}),title:(0,lt.jsx)(Cs.a,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:c._s.get("web-player.social-connect.redirect-modal.title",{host:i??""})}),subtitle:c._s.get("web-player.social-connect.redirect-modal.sub-title"),confirmButtonText:c._s.get("web-player.social-connect.redirect-modal.confirmation-button"),onConfirm:d,cancelButtonText:c._s.get("web-player.social-connect.redirect-modal.cancel-button"),onCancel:l})},LE=()=>{const e=(0,ze.OY)(),{isOpen:t,modalType:n,joinToken:s}=(0,ze.w1)((e=>e.ui.jamModalState)),[i,r]=(0,$e.useState)(null),[a,o]=(0,$e.useState)(void 0);return(0,$e.useEffect)((()=>{switch(o(void 0),n){case Gl.SI.INVITE:r((0,lt.jsx)(zC,{setContentLabel:o}));break;case Gl.SI.JOIN:if(!s)throw new Error("trying to open JoinModal without providing a joinToken!");r((0,lt.jsx)(NE,{joinToken:s,setContentLabel:o}));break;case Gl.SI.REDIRECT:if(!s)throw new Error("trying to open RedirectModal without providing a joinToken!");r((0,lt.jsx)(jE,{joinToken:s}));break;case Gl.SI.LEAVE_SESSION:case Gl.SI.END_SESSION:case Gl.SI.REMOVE_PARTICIPANT:case Gl.SI.SESSION_ENDED:case Gl.SI.MOBILE_ONLY:case Gl.SI.ERROR:r((0,lt.jsx)(nE,{isOpen:t,dialogType:n}));break;default:r(null)}}),[t,n,s]),n?(e=>e===Gl.SI.LEAVE_SESSION||e===Gl.SI.END_SESSION||e===Gl.SI.REMOVE_PARTICIPANT||e===Gl.SI.SESSION_ENDED||e===Gl.SI.MOBILE_ONLY||e===Gl.SI.ERROR)(n)?i:(0,lt.jsx)(Ur.c,{isOpen:t,onRequestClose:()=>e((0,He.Ed)()),shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animated:!0,contentLabel:a,children:i}):null};function RE(){return null}function DE(){const[e]=(0,ri.k)("lintHtmlWithCss",!1);let t;return t=RE,(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(t,{})})}var ME=n(44948);n(28096);const UE=(0,$e.memo)((function(){const e=(0,ze.OY)(),t=(0,ei.w)(),{removeFolder:n}=(0,ME.i)(),s=(0,Gt.i6)(),i=(0,Gt.IT)(),{uri:r,onDeleteCallback:a}=(0,ze.w1)((({ui:e})=>e.deleteFolderDialog)),o=(0,$e.useCallback)((()=>{e((0,He.O)())}),[e]),l=(0,$e.useCallback)((()=>{r&&(t({targetUri:r,intent:"delete-folder",type:"click",itemIdSuffix:"delete"}),n(r),o(),(0,O.nX)(r)?.toURLPath().endsWith(i.pathname)&&s("/",{replace:!0}),a&&a())}),[r,t,n,o,i.pathname,a,s]);return(0,lt.jsx)(rC.c,{"aria-label":c._s.get("folder.delete-header"),titleText:c._s.get("folder.delete-header"),onConfirm:l,onClose:o,confirmText:c._s.get("contextmenu.delete"),confirmLabel:c._s.get("folder.delete-header"),cancelText:c._s.get("queue.cancel-button")})})),FE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},BE=/[&<>"']/g,GE=RegExp(BE.source);const VE=Object.values(FE);RegExp(`${VE.join("|")}`,"g"),RegExp(`${VE.join("|")}`);n(28096);const HE=(0,$e.memo)((function({uri:e}){const t=(0,Gt.i6)(),n=(0,Gt.IT)(),s=(0,ze.OY)(),i=(0,ei.w)(),[,r]=(0,Jl.X)(e),a=(0,Vn.mY)(e),o=(0,$e.useCallback)((()=>{i({targetUri:e,intent:"delete-playlist",type:"click",itemIdSuffix:"delete"}),r(!1),s((0,He.OA)()),(0,O.mG)(e,n.pathname)&&t("/",{replace:!0})}),[i,e,r,s,n.pathname,t]),l=(0,$e.useCallback)((()=>{s((0,He.OA)())}),[s]);return a&&(0,lt.jsx)(rC.c,{"aria-label":c._s.get("playlist.delete",a.name),titleText:c._s.get("playlist.delete-title",a.name),descriptionText:c._s.get("playlist.delete-description",(d=a.name,d&&GE.test(d)?d.replace(BE,(e=>e in FE?FE[e]:e)):d)),onConfirm:o,onClose:l,confirmText:c._s.get("contextmenu.delete"),confirmLabel:c._s.get("playlist.delete",a.name),cancelText:c._s.get("queue.cancel-button"),allowHTML:!0});var d})),WE=()=>{const e=(0,ze.w1)((e=>e.ui.deletePlaylistDialog.uri));return e?(0,lt.jsx)(HE,{uri:e}):null};class zE extends $e.PureComponent{handleRequestClose(){this.props.closeModal()}render(){const{isOpen:e,closeModal:t}=this.props;return(0,lt.jsx)(It.G,{animated:!0,headingMessage:c._s.get("offline-error.device-limit-reached.header"),message:c._s.get("offline-error.device-limit-reached.message"),buttonLabel:c._s.get("close"),isOpen:e,onDismissDialog:t})}}const YE=(0,ze.Ul)((e=>({isOpen:e.ui.offlineDeviceLimitReachedDialog.isOpen})),(e=>({closeModal:()=>e((0,He.MF)())})))(zE);class KE extends $e.PureComponent{constructor(e){super(e),this.handleRequestClose=this.handleRequestClose.bind(this),this.browserName=C().getParser(window.navigator.userAgent).getBrowserName()}handleRequestClose(){this.props.closeModal()}render(){const{isOpen:e,closeModal:t}=this.props;return(0,lt.jsx)(It.G,{headingMessage:c._s.get("fatal-error.header"),onDismissDialog:t,buttonLabel:c._s.get("close"),message:c._s.get("browser_upgrade_notice",this.browserName),isOpen:e})}}const qE=(0,ze.Ul)((e=>({isOpen:e.ui.playbackNotSupportedErrorDialog.isOpen})),(e=>({closeModal:()=>e((0,He.Uf)())})))(KE);var QE=n(50892);const XE="CMgJZD0JMx_Yz1tlE7hd";var $E=n(78390);const JE="SVnAziPF2z_cgAGrp6He",ZE="miG_SXrw265mkozdEHrJ",eS="RWLySPhsOTyK2EsAGUgx",tS="X_vuuyeQDD6IWI4aIE6k",nS="VdyeU78LKQdX8Dclnfxr",sS="Z12I3N4OnNvzRSNKOeUn",iS="IDHZCFcj1ynmYu6Sm5SR",rS="UmY163JiUcgJt2MKNyGW",aS="SYKOtPBDhPSs6zGwbk6A",oS={[Dp.u_.XSMALL]:sS,[Dp.u_.SMALL]:sS,[Dp.u_.MEDIUM]:iS,[Dp.u_.LARGE]:rS,[Dp.u_.XLARGE]:rS},lS=({image:e,title:t,description:n,primaryButton:s,secondaryButton:i,renderExtraInfo:r,style:a,className:o,size:l=Dp.u_.SMALL})=>{const c="string"==typeof t?(0,lt.jsx)("h2",{className:eS,children:t}):(0,lt.jsx)("div",{className:eS,children:t});let d,u;return n&&(d="string"==typeof n?(0,lt.jsx)("p",{className:tS,children:n}):(0,lt.jsx)("div",{className:tS,children:n})),i&&(u=(0,lt.jsx)("div",{className:aS,children:i})),(0,lt.jsxs)("div",{className:xs()(`${JE} ${oS[l]}`,o),style:a,"":"dialog-root",children:[e&&(0,lt.jsx)("div",{className:nS,children:(0,lt.jsx)($E.W,{loading:"lazy",src:e})}),(0,lt.jsxs)("div",{className:ZE,children:[c,d,s,u,r&&r()]})]})};var cS=n(90464),dS=function(e){return e[e.SIGNUP=0]="SIGNUP",e[e.LOGIN=1]="LOGIN",e[e.DOWNLOAD=2]="DOWNLOAD",e}(dS||{});const uS=(0,$e.memo)((function({image:e,mediaType:t,backgroundColor:n,onSignupClick:s,onLoginClick:i,onDownloadClick:r,downloadLink:a}){const o=e=>t=>{switch(t.preventDefault(),e){case dS.DOWNLOAD:r&&r(),window.open(a,"_top","noopener");break;case dS.SIGNUP:s&&s(),(0,Se.mq)();break;case dS.LOGIN:i&&i(),(0,Se.KS)()}},l="audio"===t?c._s.get("fta.wall.start-listening"):c._s.get("fta.wall.start-watching"),d=(0,lt.jsx)(Es.g,{onClick:o(dS.SIGNUP),children:c._s.get("mwp.cta.sign.up.free")}),u=a?(0,lt.jsx)(Zy.w,{"":"upsell-download-app-button",onClick:o(dS.DOWNLOAD),children:c._s.get("mwp.cta.download.app")}):void 0,m=(0,Dp.oV)();return(0,lt.jsx)(lS,{image:e,title:l,primaryButton:d,secondaryButton:u,size:m,style:n?{backgroundColor:n}:{},renderExtraInfo:()=>(0,lt.jsxs)("p",{className:XE,onKeyDown:()=>o(dS.LOGIN),role:"presentation",children:[(0,lt.jsx)(cS.F,{as:"span",variant:"mesto",children:c._s.get("already_have_account")}),(0,lt.jsx)(cS.F,{as:"a",href:"#",onClick:o(dS.LOGIN),children:c._s.get("login")})]})})})),mS="anllJYN1jeYGGE1iAJUJ",pS="YQRQdqiQ_iT0eo0owsJL",hS="ftlV6Ixmq4wkKMg7hJ1v",gS={[Dp.u_.SMALL]:0,[Dp.u_.MEDIUM]:600,[Dp.u_.LARGE]:1024},fS=()=>{const e=(0,OE.sH)();return e.searchParams.set("referrer","dwp"),e},yS=({image:e,mediaType:t,backgroundColor:n,onClose:s})=>{const i=(0,ei.w)(),r=e=>()=>{i({intent:e,type:"click"})},{ref:a,breakpoint:o}=(0,Dp.CA)(gS);return(0,$e.useEffect)((()=>{const e=e=>{"Escape"===e.key&&(s(),i({intent:"close-upsell",type:"key-escape"}))};return i({intent:"open-upsell",type:"impression"}),window.addEventListener("keyup",e,!1),()=>window.removeEventListener("keyup",e)}),[i,s]),(0,lt.jsx)(Dp.yM.Provider,{value:o,children:(0,lt.jsx)("div",{className:`dialog ${hS}`,role:"presentation",ref:a,onClick:e=>{/dialog/.test(e.target.className)&&(i({intent:"close-upsell",type:"click",itemIdSuffix:"backdrop"}),s())},children:(0,lt.jsxs)("div",{className:mS,style:{backgroundColor:n},children:[(0,lt.jsx)(uS,{image:e,mediaType:t,onDownloadClick:r("download-app"),onLoginClick:r("login"),onSignupClick:r("signup"),downloadLink:fS().toString()}),(0,lt.jsx)("div",{className:pS,children:(0,lt.jsx)(Xi.u,{onClick:()=>{i({intent:"close-upsell",type:"click",itemIdSuffix:"close-button"}),s()},children:c._s.get("close")})})]})})})},_S=$e.memo((function({uri:e}){const t=(0,ze.OY)(),n=(0,li.K)("images/focused_stroy_play.png"),[s,i]=(0,QE.Q)(e,"#9BF0E1",n);return(0,lt.jsx)(Ni.oL,{value:"signup-modal",children:(0,lt.jsx)(yS,{image:s,mediaType:(0,O.Gi)(e??"")?"mixed":"audio",onClose:()=>{t((0,He.iE)())},backgroundColor:i})})}));var bS=n(27197),vS=n(5072);function xS({children:e,ctaUrl:t,spec:n}){const s=(0,ze.OY)(),i=(0,Jn.Mk)(),r=(0,$e.useCallback)((()=>{s((0,He.uw)()),i.logInteraction(n.consumptionCapModalFactory().topUpButtonFactory().hitUiHide())}),[s,i,n]),a=(0,$e.useCallback)((()=>{i.logInteraction(n.consumptionCapModalFactory().topUpButtonFactory().hitNavigateToExternalUri({destination:t}))}),[t,i,n]);return t?(0,lt.jsx)(Es.g,{as:"a",href:t,target:"_blank",colorSet:"invertedLight",iconTrailing:Af.K,onClick:a,children:e}):(0,lt.jsx)(Es.g,{colorSet:"invertedLight",onClick:r,children:e})}function CS({children:e,onClick:t}){return e?(0,lt.jsx)(Xi.u,{onClick:t,semanticColor:"textSubdued",children:e}):null}const ES="NxTiDyoRCvpiMZga0txl",SS="uEd5tll92zN6mh4YiQ6E",wS="YQEvA2GajE9nCaNVxwuq",IS="F12mp8xs0gc5ri9361Ap",AS=()=>{const e=(0,ze.OY)(),{spec:t,logger:n}=(0,Jn.gp)(bS.I,{}),s=(0,tt.IP)(M.Sw),{consumptionCapExplanation:i,isOpen:r}=(0,ze.w1)((e=>e.ui.bookConsumptionCapModal)),a=(0,$e.useCallback)((()=>{e((0,He.uw)()),n.logInteraction(t.consumptionCapModalFactory().dismissButtonFactory().hitUiHide())}),[e,n,t]),o=(0,$e.useCallback)((({data:t})=>{t.consumptionCapExplanation?e((0,He.uG)(t.consumptionCapExplanation)):e((0,He.uw)())}),[e]);return(0,vS.q)({callback:o}),(0,lt.jsx)(Ur.c,{animated:!0,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,onRequestClose:a,contentLabel:i.title,isOpen:r,children:(0,lt.jsxs)("div",{className:xs()("encore-dark-theme","encore-layout-themes",{"vertical-metrics":s},ES),children:[(0,lt.jsx)(ph.W,{className:SS,src:(0,li.K)("images/top-up.png"),alt:"",imageWidth:"200px",imageHeight:"196px"}),(0,lt.jsxs)("div",{className:wS,children:[(0,lt.jsx)(Cs.a,{as:"h2",variant:"titleMedium",semanticColor:"textBase",children:i.title}),(0,lt.jsx)(Cs.a,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:i.body}),(0,lt.jsxs)("div",{className:IS,children:[(0,lt.jsx)(xS,{ctaUrl:i.ctaUrl,spec:t,children:i.cta}),(0,lt.jsx)(CS,{onClick:a,children:i.dismiss})]})]})]})})},TS=(0,$e.lazy)((async()=>{const{DebugWindowContents:e}=await Promise.all([n.e(8596),n.e(4659),n.e(2876)]).then(n.bind(n,94986));return{default:e}})),kS=()=>{const{handle:e,show:t}=(0,ty.U)();return(0,d.GU)(d.ak.SHOW_DEBUG_WINDOW,(()=>{t()})),null!==e?(0,Fa.createPortal)((0,lt.jsx)(ut.y9,{handle:e,children:(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(TS,{})})}),e.document.body):null};var NS=n(79504),OS=n(27004);const PS="search-modal-listbox";var jS=n(58024);const LS="search-modal-inputContainer",RS="search-modal-searchIcon",DS="search-modal-input",MS=(0,$e.memo)((function(e){const{value:t,onChange:n,onKeyPress:s,hasResults:i,activeResultId:r}=e;return(0,lt.jsxs)("div",{className:LS,children:[(0,lt.jsx)(jS.O,{className:RS,"aria-hidden":!0}),(0,lt.jsx)(Cs.a,{as:"input",variant:"bodyMedium",className:DS,value:t,onKeyDown:s,onChange:n,placeholder:c._s.get("web-player.search-modal.placeholder"),autoFocus:!0,role:"combobox","aria-expanded":i,"aria-controls":PS,"aria-owns":PS,"aria-activedescendant":r})]})})),US={SearchModalInstructions:"search-modal-searchModalInstructions",hidden:"search-modal-hidden",key:"search-modal-key"},FS=({canOpen:e,canPlay:t,canSelect:n})=>e||t||n?(0,lt.jsxs)("div",{className:US.SearchModalInstructions,children:[(0,lt.jsx)(WS,{isActive:n,children:(0,lt.jsx)(BS,{})}),(0,lt.jsx)(WS,{isActive:e,children:(0,lt.jsx)(GS,{})}),(0,lt.jsx)(WS,{isActive:t,children:(0,lt.jsx)(VS,{})})]}):null;function BS(){return c._s.get("web-player.search-modal.instructions.navigate",{keys:(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(HS,{children:"↑"}),(0,lt.jsx)(HS,{children:"↓"})]})})}function GS(){return c._s.get("web-player.search-modal.instructions.open",{keys:(0,lt.jsx)(HS,{children:"Enter"})})}function VS(){return c._s.get("web-player.search-modal.instructions.play",{keys:(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(HS,{children:"Shift"}),(0,lt.jsx)(HS,{children:"Enter"})]})})}function HS({children:e}){return(0,lt.jsx)(Cs.a,{as:"kbd",variant:"bodySmall",className:US.key,semanticColor:"textBase",children:e})}function WS({children:e,isActive:t}){return(0,lt.jsx)(Cs.a,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",className:xs()({[US.hidden]:!t}),children:e})}const zS=Spicetify.GraphQL.Definitions["searchModalResults"]=new G.a("searchModalResults","query","34f48bca447d3420a9310ea259bfd4b89d2f7a3608c461d5c121d6232379fb22",null),YS=(0,$e.memo)((function(e){const{query:t,onResults:n,numberOfResults:s}=e,i=(0,og.O)(),{data:r,error:a,loading:o}=(l={limit:s,numberOfTopResults:s,offset:0,searchTerm:t,includeAudiobooks:!0},c={gcTime:18e5,staleTime:3e5,enabled:t.trim().length>0&&i},(0,V.U)(zS,l,c));var l,c;return(0,$e.useEffect)((()=>{const e=r?.searchV2?.topResultsV2?.itemsV2??[],s=[];for(let t=0;t<e.length;t++){const{item:n,matchedFields:i}=e[t];if("UnknownTypeWrapper"!==n.__typename&&"PreReleaseResponseWrapper"!==n.__typename&&n.data)switch(n.data.__typename){case"Genre":s.push({...n.data,uri:KS(n.data.uri),matchedFields:i});break;case"Album":case"Artist":case"Track":case"Playlist":case"User":case"Episode":case"Podcast":case"Audiobook":s.push({...n.data,matchedFields:i});break;case"NotFound":case"RestrictedContent":case"GenericError":break;default:(0,j.I)(n.data)}}n({query:t,error:!!a,loading:o,results:s})}),[r,a,o,n,t]),null}));function KS(e){return(0,O.nX)(e)?e:`spotify:genre:${e}`}var qS=n(25676),QS=n(57100),XS=n(30540);const $S="OQZtYvcaWiQEaOOMZ54v",JS=({children:e})=>(0,lt.jsx)(Cs.a,{variant:"bodySmall",semanticColor:"textSubdued",className:$S,children:e}),ZS=e=>`search-modal-result-${e}`;var ew=n(92236);const tw="search-modal-resultItem",nw="search-modal-isSelected",sw="search-modal-searchResultTitle",iw="search-modal-entityImage",rw="search-modal-searchResultRow",aw="search-modal-searchResultType",ow=e=>{const{position:t,uri:n,title:s,image:i,color:r,subtitle:a,isSelected:o,onClick:l,tag:c,label:d,menu:u}=e,m=(0,$e.useRef)(null);(0,$e.useEffect)((()=>{o&&m.current?.scrollIntoView({behavior:"auto",block:"nearest"})}),[o]);const{isActive:p}=(0,Fc.kP)(n),h=(0,$e.useCallback)((()=>{l({uri:n,position:t})}),[l,t,n]),g={"--position":t};return(0,lt.jsx)(qc.UF,{menu:u,children:(0,lt.jsxs)(yg.Link,{ref:m,to:n,className:xs()(tw,{[nw]:o}),role:"option","aria-selected":o,onClick:h,id:ZS(n),style:g,tabIndex:-1,children:[(0,lt.jsx)("span",{className:"hidden-visually",children:d}),(0,lt.jsx)("div",{className:iw,"aria-hidden":!0,children:(0,lt.jsx)(ew.y,{images:[{url:i,width:40,height:40}],color:r,isCircular:(0,O.eg)(n)})}),(0,lt.jsxs)("div",{className:rw,"aria-hidden":!0,children:[(0,lt.jsx)(Cs.a,{as:"p",variant:"bodyMedium",className:sw,semanticColor:p?"textBrightAccent":"textBase",children:s}),(0,lt.jsx)(Cs.a,{as:"p",variant:"bodySmall",className:sw,semanticColor:"textSubdued",children:a})]}),(0,lt.jsx)("div",{className:aw,"aria-hidden":!0,children:(0,lt.jsx)(JS,{children:c})})]})})},lw=e=>{const{results:t,onClick:n,selectedIndex:s}=e;return(0,lt.jsx)(lt.Fragment,{children:t.map(((e,t)=>(0,lt.jsx)($e.Fragment,{children:cw(e,t,n,s===t)},t)))})};function cw(e,t,n,s){switch(e.__typename){case"Album":{const i=e.artists.items.map((e=>e.profile.name)).join(c._s.getSeparator());return(0,lt.jsx)(ow,{isSelected:s,position:t,onClick:n,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,$.y_)(e.coverArt?.extractedColors),subtitle:i,uri:e.uri,tag:c._s.get("web-player.search-modal.result.album"),label:c._s.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:i,type:c._s.get("web-player.search-modal.result.album")}),menu:(0,lt.jsx)(qS.k,{uri:e.uri})})}case"Artist":return(0,lt.jsx)(ow,{isSelected:s,position:t,onClick:n,title:e.profile.name,image:e.visuals.avatarImage?.sources?.[0]?.url??"",color:(0,$.y_)(e.visuals.avatarImage?.extractedColors),subtitle:"",uri:e.uri,tag:c._s.get("web-player.search-modal.result.artist"),label:c._s.get("web-player.search-modal.a11y.label",{item:e.profile.name,type:c._s.get("web-player.search-modal.result.artist")}),menu:(0,lt.jsx)(av.g,{uri:e.uri})});case"Track":{const i=e.artists.items.map((e=>e.profile.name)).join(c._s.getSeparator());let r=i;if(e.matchedFields.includes(Y.a6.Lyrics)){r=`${r} · ${c._s.get("web-player.search-modal.lyrics-match")}`}return(0,lt.jsx)(ow,{isSelected:s,position:t,onClick:n,title:e.name,image:e.albumOfTrack?.coverArt?.sources?.[0]?.url??"",color:(0,$.y_)(e.albumOfTrack?.coverArt?.extractedColors),subtitle:r,uri:e.uri,tag:c._s.get("web-player.search-modal.result.track"),label:c._s.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:i,type:c._s.get("web-player.search-modal.result.track")}),menu:(0,lt.jsx)(lv.k,{uri:e.uri})})}case"Playlist":{const i="User"===e.ownerV2.data?.__typename?e.ownerV2.data.name:"",r=e.images.items.find((e=>e.sources));return(0,lt.jsx)(ow,{isSelected:s,position:t,onClick:n,title:e.name,image:r?.sources?.[0].url??"",color:(0,$.y_)(r?.extractedColors),subtitle:i,uri:e.uri,tag:c._s.get("web-player.search-modal.result.playlist"),label:c._s.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:i,type:c._s.get("web-player.search-modal.result.playlist")}),menu:(0,lt.jsx)(XS.E,{uri:e.uri})})}case"User":return(0,lt.jsx)(ow,{isSelected:s,position:t,onClick:n,title:e.name,image:e.avatar?.sources?.[0]?.url??"",color:(0,$.y_)(e.avatar?.extractedColors),subtitle:"",uri:e.uri,tag:c._s.get("web-player.search-modal.result.user"),label:c._s.get("web-player.search-modal.a11y.label",{item:e.name,type:c._s.get("web-player.search-modal.result.user")}),menu:(0,lt.jsx)(n_.Y,{uri:e.uri})});case"Genre":return(0,lt.jsx)(ow,{isSelected:s,position:t,onClick:n,title:e.name,image:e.image?.sources?.[0]?.url??"",color:(0,$.y_)(e.image?.extractedColors),subtitle:"",uri:e.uri,tag:c._s.get("web-player.search-modal.result.genre"),label:c._s.get("web-player.search-modal.a11y.label",{item:e.name,type:c._s.get("web-player.search-modal.result.genre")}),menu:(0,lt.jsx)(QS.Y,{uri:e.uri})});case"Episode":{const i="Podcast"===e.podcastV2.data.__typename&&e.podcastV2.data.name||void 0,r=[e.releaseDate?.isoString?c._s.formatDate(new Date(e.releaseDate.isoString)):void 0,i].filter(Boolean).join(" • "),a=i?c._s.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:i,type:c._s.get("web-player.search-modal.result.episode")}):e.name;return(0,lt.jsx)(ow,{isSelected:s,position:t,onClick:n,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,$.y_)(e.coverArt?.extractedColors),subtitle:r,uri:e.uri,tag:c._s.get("web-player.search-modal.result.episode"),label:a,menu:(0,lt.jsx)(sv.y,{uri:e.uri})})}case"Podcast":return(0,lt.jsx)(ow,{isSelected:s,position:t,onClick:n,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,$.y_)(e.coverArt?.extractedColors),subtitle:e.publisher?.name??"",uri:e.uri,tag:c._s.get("web-player.search-modal.result.podcast"),label:c._s.get("web-player.search-modal.a11y.label",{item:e.name,type:c._s.get("web-player.search-modal.result.podcast")}),menu:(0,lt.jsx)(iv.Q,{uri:e.uri})});case"Audiobook":return(0,lt.jsx)(ow,{isSelected:s,position:t,onClick:n,title:e.name,image:e.coverArt?.sources?.[0]?.url??"",color:(0,$.y_)(e.coverArt?.extractedColors),subtitle:e.publisher?.name??"",uri:e.uri,tag:c._s.get("web-player.search-modal.result.audiobook"),label:c._s.get("web-player.search-modal.a11y.label",{item:e.name,type:c._s.get("web-player.search-modal.result.audiobook")}),menu:(0,lt.jsx)(Hb.y,{uri:e.uri})});default:return(0,j.E)(e)}}var dw=n(28544);const uw="search-modal-modalWrapper",mw="search-modal-searchBar",pw="search-modal-hasResults",hw="G8UNZJv4HT1kOIolA_e7",gw="search-modal-emptyStateContainer",fw="search-modal-emptySearchTermContainer",yw="search-modal-modalBase",_w="search-modal-modalAfterOpen",bw="search-modal-modalBeforeClose",vw={modal:{base:yw,afterOpen:_w,beforeClose:bw},overlay:{base:yw,afterOpen:_w,beforeClose:bw}},xw=()=>{const e=(0,Gt.i6)(),t=(0,dw._8)(),{spec:n,logger:s,UBIFragment:i}=(0,Jn.gp)(OS.createDesktopQuickSearchEventFactory,{}),r=(0,Jn.K2)(n),[a,o]=(0,$e.useState)(""),[l,d]=(0,$e.useState)([]),[u,m]=(0,$e.useState)(0),[p,h]=(0,$e.useState)(!1),g=!(0,og.O)(),f=(0,$e.useMemo)((()=>(0,O.nX)(a)),[a]),y=f&&f.type!==O.cH.AD,_=(0,$e.useCallback)((e=>{const t=e.target.value;t!==a&&(o(t),m(0),s.logInteraction(n.inputFactory().keyStrokeChangeSearchQuery({searchQueryString:t})))}),[s,a,n]),b=(0,$e.useCallback)((()=>{o(""),t({type:"CLOSE"})}),[t]),v=(0,$e.useCallback)((({uri:e,position:t})=>{s.logInteraction(n.searchResultFactory({position:t}).hitUiNavigate({destination:e})),b()}),[b,s,n]),x=(0,Bn.Q)(),C=(0,$e.useCallback)((t=>{const n=t.key;if("ArrowUp"===n)m((e=>Math.max(e-1,0))),t.preventDefault();else if("ArrowDown"===n)m((e=>Math.min(e+1,l.length-1))),t.preventDefault();else if("Enter"===n){if(y)return e(f.toURLPath(!0)),void b();const n=l[u];if(n){const s=(0,O.nX)(n.uri);if(t.shiftKey)Ew(s?.type)&&x.play({uri:n.uri},{featureIdentifier:"quick_search",referrerIdentifier:"PlayerStub_UnknownReferrer"});else{const t=s?.toURLPath(!0);t&&(e(t),v({uri:n.uri,position:u}))}}t.preventDefault()}}),[y,b,v,e,x,f,l,u]),E=(0,$e.useCallback)((e=>{h(e.loading),e.query===a&&d(e.results)}),[a]),S=l.length>0,w=l[u],I=w?ZS(w.uri):void 0,A=(0,O.nX)(w?.uri),T=Ew(A?.type);return(0,lt.jsxs)(i,{spec:n,children:[(0,lt.jsx)(YS,{query:y?"":a,numberOfResults:30,onResults:E}),(0,lt.jsxs)("div",{className:uw,ref:r,children:[(0,lt.jsx)("div",{className:xs()(mw,{[pw]:l.length}),children:(0,lt.jsx)(MS,{value:a,onChange:_,onKeyPress:C,hasResults:S,activeResultId:I})}),(0,lt.jsx)(FS,{canSelect:S&&!y,canPlay:T,canOpen:S||!!y}),a&&!y&&S&&(0,lt.jsx)("div",{className:hw,id:PS,role:"listbox",children:(0,lt.jsx)(lw,{results:l,onClick:v,selectedIndex:u})}),!p&&a&&!S&&(0,lt.jsxs)("div",{className:gw,onClick:b,children:[(0,lt.jsx)(Cs.a,{className:fw,as:"h1",variant:"titleSmall",semanticColor:"textBase",children:c._s.get("search.empty-results-title",a)}),g&&(0,lt.jsx)(Cs.a,{as:"p",semanticColor:"textBase",children:c._s.get("web-player.search-modal.offline")})]})]})]})},Cw=()=>{const{isOpen:e}=(0,dw.Fv)(),t=(0,dw._8)(),n=(0,$e.useCallback)((()=>{t({type:"CLOSE"})}),[t]);return e?(0,lt.jsx)(Ur.c,{contentLabel:c._s.get("web-player.search-modal.title"),isOpen:e,onRequestClose:n,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animation:vw,children:(0,lt.jsx)(xw,{})}):null};function Ew(e){switch(e){case"album":case"artist":case"track":case"playlist":case"playlist-v2":case"episode":case"show":return!0;default:return!1}}var Sw=n(46156);const ww=()=>{const e=(0,ze.OY)(),{isOpen:t}=(0,ze.w1)((e=>e.ui.personalizedRecommendationsErrorModal));return(0,lt.jsx)(It.G,{headingMessage:c._s.get("error-dialog.generic.header"),message:c._s.get("web-player.settings.personalized-recommendations.error-modal-message"),buttonLabel:c._s.get("web-player.settings.personalized-recommendations.error-modal-button"),onDismissDialog:()=>{e(Sw.wv.actions.close())},animated:!0,isOpen:t})};var Iw=n(17912);const Aw="t1hN4Ju87afc5N5fDTnm",Tw="kq4vSktBwa0pcc1zklAo",kw="KSUTPJtu2PnuTb_RoGQX",Nw=({onClose:e,handleRemove:t,primaryButtonText:n,secondaryButtonText:s,primaryButtonLabel:i=n})=>(0,lt.jsxs)("div",{className:kw,children:[(0,lt.jsx)(Xi.u,{onClick:e,semanticColor:"textSubdued","aria-label":"Cancel",children:s}),(0,lt.jsx)(Es.g,{"aria-label":i,autofocus:"true",onClick:t,children:n})]}),Ow=({onClose:e,primaryButtonText:t,secondaryButtonText:n})=>(0,lt.jsxs)("div",{className:kw,children:[(0,lt.jsx)(Xi.u,{onClick:e,semanticColor:"textSubdued",as:"a",href:Ss.Yd,children:n}),(0,lt.jsx)(Es.g,{autofocus:"true",onClick:e,children:t})]}),Pw=()=>{const e=(0,ze.OY)(),{enqueueSnackbar:t}=(0,Pg.u)(),n=(0,Dn.o)(),[s,i]=(0,$e.useState)(null),r=(0,$e.useCallback)((()=>{e((0,He.Yl)())}),[e]),a=(0,$e.useCallback)((async()=>{try{await n.removeAllDownloads(),r(),t(c._s.get("desktop.settings.storage.downloads.success"))}catch(e){i(e instanceof Error?e:new Error("Error when deleting all downloads."))}}),[n,r,t]);return(0,lt.jsx)(Iw.E,{animated:!0,className:Tw,onRequestClose:r,"aria-describedby":"remove-downloads-dialog-heading",isOpen:!0,children:(0,lt.jsxs)("div",{className:xs()("encore-light-theme",Aw),children:[(0,lt.jsx)(Cs.a,{as:"h2",variant:"titleSmall",semanticColor:"textBase","aria-live":"polite",id:"remove-downloads-dialog-heading",children:s?c._s.get("error.generic"):c._s.get("desktop.settings.storage.downloads.dialog.heading")}),(0,lt.jsx)(Cs.a,{as:"p",variant:"bodySmall",paddingBottom:S_.gm,semanticColor:"textSubdued","aria-live":"polite",children:s?c._s.get("desktop.settings.storage.downloads.dialog.error"):c._s.get("desktop.settings.storage.downloads.dialog.text")}),s?(0,lt.jsx)(Ow,{onClose:r,primaryButtonText:c._s.get("desktop.settings.storage.close"),secondaryButtonText:c._s.get("desktop.settings.storage.help")}):(0,lt.jsx)(Nw,{onClose:r,handleRemove:a,primaryButtonLabel:c._s.get("desktop.settings.storage.downloads.button"),primaryButtonText:c._s.get("desktop.settings.storage.downloads.remove"),secondaryButtonText:c._s.get("desktop.settings.storage.cancel")})]})})},jw=()=>{const e=(0,ze.OY)(),{enqueueSnackbar:t}=(0,Pg.u)(),n=(0,Dn.o)(),[s,i]=(0,$e.useState)(null),r=(0,$e.useCallback)((()=>{e((0,He.CY)())}),[e]),a=(0,$e.useCallback)((async()=>{try{await n.removeCache(),r(),t(c._s.get("desktop.settings.storage.cache.success"))}catch(e){i(e instanceof Error?e:new Error("Error when clearing cache."))}}),[t,n,r]);return(0,lt.jsx)(Iw.E,{animated:!0,className:Tw,onRequestClose:r,"aria-describedby":"clear-cache-dialog-heading",isOpen:!0,children:(0,lt.jsxs)("div",{className:xs()("encore-light-theme",Aw),children:[(0,lt.jsx)(Cs.a,{id:"clear-cache-dialog-heading",as:"h2",variant:"titleSmall",semanticColor:"textBase","aria-live":"polite",children:s?c._s.get("error.generic"):c._s.get("desktop.settings.storage.cache.dialog.heading")}),(0,lt.jsx)(Cs.a,{as:"p",variant:"bodySmall",paddingBottom:S_.gm,semanticColor:"textSubdued","aria-live":"polite",children:s?c._s.get("desktop.settings.storage.cache.dialog.error"):c._s.get("desktop.settings.storage.cache.dialog.text")}),s?(0,lt.jsx)(Ow,{onClose:r,primaryButtonText:c._s.get("desktop.settings.storage.close"),secondaryButtonText:c._s.get("desktop.settings.storage.help")}):(0,lt.jsx)(Nw,{onClose:r,handleRemove:a,primaryButtonText:c._s.get("desktop.settings.storage.cache.button"),secondaryButtonText:c._s.get("desktop.settings.storage.cancel")})]})})};var Lw=n(55632),Rw=n(36773),Dw=n(87523);const Mw="kUfX1ppwAgeJAInJiSlc",Uw="XcXhe7DpxXiOIT3_Ym8F",Fw=()=>{const e=(0,ze.OY)(),{isOpen:t,onConfirm:n}=(0,ze.w1)((e=>e.ui.turnOffPersonalizedRecommendationsModal)),s=()=>{e(Sw.Eh.actions.close())};return(0,lt.jsx)(Ur.c,{isOpen:t,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:s,contentLabel:c._s.get("web-player.settings.personalized-recommendations.modal-header"),animated:!0,children:(0,lt.jsx)(Lw.k,{className:Mw,colorSet:"invertedLight",dialogTitle:c._s.get("web-player.settings.personalized-recommendations.modal-header"),"aria-label":c._s.get("web-player.settings.personalized-recommendations.modal-header"),body:(0,lt.jsxs)("div",{className:Uw,children:[(0,lt.jsx)(Cs.a,{variant:"bodySmall",semanticColor:"textBase",children:c._s.get("web-player.settings.personalized-recommendations.modal-body-missing-features-intro")}),(0,lt.jsxs)(Rw.S,{as:"ul",children:[(0,lt.jsx)(Dw.e,{condensed:!0,children:c._s.get("web-player.settings.personalized-recommendations.modal-body-missing-features-1")}),(0,lt.jsx)(Dw.e,{condensed:!0,children:c._s.get("web-player.settings.personalized-recommendations.modal-body-missing-features-2")}),(0,lt.jsx)(Dw.e,{condensed:!0,children:c._s.get("web-player.settings.personalized-recommendations.modal-body-missing-features-3")})]}),(0,lt.jsx)(Cs.a,{variant:"bodySmall",semanticColor:"textBase",children:c._s.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-intro")}),(0,lt.jsx)(Rw.S,{condensed:!0,as:"ul",children:(0,lt.jsx)(Dw.e,{condensed:!0,children:c._s.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-1")})})]}),footer:(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Xi.u,{onClick:s,size:"small",children:c._s.get("web-player.settings.personalized-recommendations.modal-cancel")}),(0,lt.jsx)(Es.g,{onClick:()=>{n(),s()},size:"small",children:c._s.get("web-player.settings.personalized-recommendations.modal-confirm")})]})})})};var Bw=n(84812);const Gw="cx19HprVdBhztab_L5IB",Vw="xjTnHdL9vLxPgo1KEdxn",Hw="MIJ1OLOt00yIBmbNwU2c",Ww=()=>{const e=(0,ze.OY)(),{isOpen:t}=(0,ze.w1)((e=>e.ui.introducingSmartShuffleModal)),n=()=>{e(Sw.UR.actions.close())};return(0,lt.jsx)(Ur.c,{isOpen:t,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:n,contentLabel:c._s.get("web-player.smart-shuffle.introduction-modal-title"),overlayClassName:Hw,children:(0,lt.jsxs)("div",{className:Gw,children:[(0,lt.jsx)(Bw.w,{size:"xxlarge",semanticColor:"textBrightAccent"}),(0,lt.jsxs)("div",{className:Vw,children:[(0,lt.jsx)(Cs.a,{variant:"titleMedium",semanticColor:"textBase",children:c._s.get("web-player.smart-shuffle.introduction-modal-title")}),(0,lt.jsx)(Cs.a,{variant:"bodyMedium",semanticColor:"textBase",children:c._s.get("web-player.smart-shuffle.introduction-modal-description")})]}),(0,lt.jsx)(Es.g,{onClick:n,children:c._s.get("web-player.smart-shuffle.introduction-modal-ok-button")})]})})};var zw=n(37292),Yw=n(64444);var Kw=n(31396),qw=n(30140);const Qw={get DEFAULT_PLAYBACK_STUCK(){return c._s.get("feedback.cant-play-track")},get FORCED_OFFLINE_MODE(){return c._s.get("feedback.track-not-available-forced-offline")},get CANT_OFFLINE_SYNC_PLAYLIST_IN_OFFLINE_MODE(){return c._s.get("feedback.cant-offline-sync-playlist-in-offline-mode")},get ARTIST_BANNED_BY_USER(){return c._s.get("feedback.artist-banned-by-user")},get TRACK_BANNED_BY_USER(){return c._s.get("feedback.track-banned-by-user")},get REGION_RESTRICTED(){return c._s.get("feedback.track-not-available-in-region")},get DEFAULT_PLAYER_ERROR(){return c._s.get("feedback.track-not-available")},get NETWORK_ERROR(){return c._s.get("feedback.video-playback-network-error")},get PREMIUM_RESTRICTED(){return c._s.get("feedback.track-exclusive-premium")},get CANT_SKIP_ADS(){return c._s.get("feedback.cant-skip-ads")},get CANT_PLAY_DURING_ADS(){return c._s.get("feedback.cant-play-during-ads")},get SKIP_ADS_TO_HEAR_SONG(){return c._s.get("feedback.skip-ads-to-hear-song")},get SKIP_AFTER_DELAY(){return c._s.get("feedback.skip-ads-after-delay")},get CAPPING_REACHED(){return c._s.get("capping.upsell-title")},get VIDEO_GEORESTRICTED(){return c._s.get("feedback.video-georestricted")},get VIDEO_UNSUPPORTED_CLIENT_VERSION(){return c._s.get("feedback.video-unsupported-client-version")},get VIDEO_UNSUPPORTED_PLATFORM_VERSION(){return c._s.get("feedback.video-unsupported-platform-version")},get VIDEO_COUNTRY_RESTRICTED(){return c._s.get("feedback.video-country-restricted")},get VIDEO_UNAVAILABLE(){return c._s.get("feedback.video-unavailable")},get VIDEO_CATALOGUE_RESTRICTED(){return c._s.get("feedback.video-catalogue-restricted")},get VIDEO_PLAYBACK_ERROR(){return c._s.get("feedback.video-playback-error")},get VIDEO_UNSUPPORTED_KEY_SYSTEM(){return c._s.get("feedback.video-unsupported-key-system")},get EXPLICIT_CONTENT_FILTERED(){return c._s.get("feedback.explicit-content-filtered")},get INTERRUPT_PLAYBACK_RESTRICTED(){return c._s.get("feedback.play-after-ad")}};function Xw(e){const t=e?.item??void 0;return(0,k.UZ)(t)&&t.isSkippableAd}function $w(e,t){switch(t.code){case L.CW.PLAYBACK_STUCK:return Qw.DEFAULT_PLAYBACK_STUCK;case L.CW.ONE_TRACK_UNPLAYABLE:case L.CW.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED:case L.CW.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED:return(n=t.reasons).includes(L.Ku.NOT_AVAILABLE_IN_CURRENT_REGION)?Qw.REGION_RESTRICTED:n.includes(L.Ku.NOT_AVAILABLE_IN_NON_PREMIUM)?Qw.PREMIUM_RESTRICTED:n.includes(L.Ku.NOT_AVAILABLE_OFFLINE)?Qw.FORCED_OFFLINE_MODE:n.includes(L.Ku.USER_CAPPING_REACHED)?Qw.CAPPING_REACHED:n.includes(L.Ku.BANNED_BY_USER_ARTIST)?Qw.ARTIST_BANNED_BY_USER:n.includes(L.Ku.BANNED_BY_USER_TRACK)?Qw.TRACK_BANNED_BY_USER:n.includes(L.Ku.EXPLICIT_CONTENT_FILTERED)?Qw.EXPLICIT_CONTENT_FILTERED:Qw.DEFAULT_PLAYER_ERROR;case L.CW.INTERRUPT_PLAYBACK_RESTRICTED:return Qw.INTERRUPT_PLAYBACK_RESTRICTED;case L.CW.VIDEO_GEORESTRICTED:return Qw.VIDEO_GEORESTRICTED;case L.CW.VIDEO_UNSUPPORTED_CLIENT_VERSION:return Qw.VIDEO_UNSUPPORTED_CLIENT_VERSION;case L.CW.VIDEO_UNSUPPORTED_PLATFORM_VERSION:return Qw.VIDEO_UNSUPPORTED_PLATFORM_VERSION;case L.CW.VIDEO_COUNTRY_RESTRICTED:return Qw.VIDEO_COUNTRY_RESTRICTED;case L.CW.VIDEO_UNAVAILABLE:return Qw.VIDEO_UNAVAILABLE;case L.CW.VIDEO_CATALOGUE_RESTRICTED:return Qw.VIDEO_CATALOGUE_RESTRICTED;case L.CW.VIDEO_PLAYBACK_ERROR:return Qw.VIDEO_PLAYBACK_ERROR;case L.CW.VIDEO_UNSUPPORTED_KEY_SYSTEM:return Qw.VIDEO_UNSUPPORTED_KEY_SYSTEM;case L.CW.PAUSE_RESTRICTED:return t.reasons.some((e=>[L.Ku.ALREADY_PAUSED,L.Ku.NOT_PLAYING_LOCALLY].includes(e)))?null:Qw.DEFAULT_PLAYER_ERROR;case L.CW.RESUME_RESTRICTED:return t.reasons.includes(L.Ku.NOT_PAUSED)?null:Qw.DEFAULT_PLAYER_ERROR;case L.CW.PLAY_RESTRICTED:return t.reasons.includes(L.Ku.AD_DISALLOW)?Xw(e)?Qw.SKIP_ADS_TO_HEAR_SONG:Qw.CANT_SKIP_ADS:null;case L.CW.SKIP_TO_NEXT_RESTRICTED:return t.reasons.includes(L.Ku.AD_DISALLOW)?Xw(e)?Qw.SKIP_AFTER_DELAY:Qw.CANT_PLAY_DURING_ADS:null;case L.CW.TIMEOUT:return Qw.NETWORK_ERROR;case L.CW.SKIP_TO_PREV_RESTRICTED:return t.reasons.includes(L.Ku.THROTTLED)?null:Qw.DEFAULT_PLAYER_ERROR;default:return Qw.DEFAULT_PLAYER_ERROR}var n}var Jw=n(82428),Zw=n(11160),eI=n(54816);const tI=()=>(function(){const e=(0,Bn.Q)(),{currentSession:t}=(0,nl.O)(),{enqueueSnackbar:n}=(0,Pg.u)();(0,Ot.S)(N.AU.ERROR,(({data:s})=>{const i=e.getState(),r=$w(i,s);null!==r&&(t?.active&&s.code===L.CW.STOP_RESTRICTED||(0,k.Q9)(i?.item??void 0)||n(r))}))}(),function(){const{enqueueSnackbar:e}=(0,Pg.u)(),t=(0,og.O)();(0,Ot.S)(N.AU.QUEUE_ACTION_COMPLETE,(({data:n})=>{n.action===N.UV.ADD&&(n.error?t?(Ht("feedback_banner","error","error.generic"),e(c._s.get("error.generic"))):e(c._s.get("offline.feedback-text")):e(c._s.get("queue.added-to-queue")))}))}(),function(){const{enqueueSnackbar:e}=(0,Pg.u)(),t=(0,Yw.c)(),n=(0,$e.useContext)(Vn.Iv),s=(0,og.O)();(0,zw.w)(z.Yh.OPERATION_COMPLETE,(async({data:i})=>{if(i.operation===z.m1.ADD&&!i.silent)if(i.error)s?(Ht("feedback_banner","error","error.generic"),e(c._s.get("error.generic"))):e(c._s.get("offline.feedback-text"));else try{const{name:e,images:s}=await n.getMetadata(i.uri),r=(0,K_.C)(s,{desiredSize:24});t({message:c._s.get("feedback.added-to-playlist-specific",e),imageSrc:r?.url})}catch{e(c._s.get("feedback.added-to-playlist-generic"))}}))}(),function(){const e=(0,cC.g)().getEvents(),t=(0,og.O)(),{enqueueSnackbar:n}=(0,Pg.u)(),s=(0,ze.w1)((e=>e.session.user?.id));(0,$e.useEffect)((()=>{const i=({data:e})=>{let i;if(e.error)t?(Ht("feedback_banner","error","error.generic"),n(c._s.get("error.generic"))):n(c._s.get("offline.feedback-text"));else switch(e.operation){case re.Gm.SET_BASE_PERMISSION:return i="VIEWER"===e.permissionLevel?c._s.get("feedback.playlist-made-public"):c._s.get("feedback.playlist-made-private"),void n(i);case re.Gm.SET_MEMBER_PERMISSION:return i="VIEWER"===e.permissionLevel?c._s.get("feedback.member-made-listener"):c._s.get("feedback.member-made-contributor"),void n(i);case re.Gm.REMOVE_MEMBER:return i=s===e.username?c._s.get("feedback.left-playlist"):c._s.get("feedback.removed-member"),void n(i)}};return e.addListener(re.EJ.OPERATION_COMPLETE,i),()=>{e.removeListener(re.EJ.OPERATION_COMPLETE,i)}}),[s,n,t,e])}(),function(){const e=(0,$e.useContext)(Vn.ew).getEvents(),t=(0,og.O)(),{enqueueSnackbar:n}=(0,Pg.u)();(0,$e.useEffect)((()=>{const s=({data:e})=>{if(!e.silent)if(e.error)t?(Ht("feedback_banner","error","error.generic"),n(c._s.get("error.generic"))):n(c._s.get("offline.feedback-text"));else switch(e.operation){case ae.gd.ADD:return void n(c._s.get("web-player.aligned-curation.feedback.added-to-library"));case ae.gd.REMOVE:return void n(c._s.get("web-player.aligned-curation.feedback.removed-from-library"));case ae.gd.MOVE:return void(e.showAddConfirmation&&n(c._s.get("web-player.aligned-curation.feedback.added-to-library")))}};return e.addListener(ae.KB.OPERATION_COMPLETE,s),()=>{e.removeListener(ae.KB.OPERATION_COMPLETE,s)}}),[n,t,e])}(),function(){const{enqueueSnackbar:e}=(0,Pg.u)(),t=(0,Yw.c)(),n=(0,og.O)();(0,qw.l)(W.Wg.OPERATION_COMPLETE,(async s=>{if(s.data.silent)return;if(s.data.error)return void(n?(Ht("feedback_banner","error","error.generic"),e(c._s.get("error.generic"))):e(c._s.get("offline.feedback-text")));const[i]=s.data.uris,r=(0,O.nX)(i)?.type;if(r!==O.cH.TRACK&&r!==O.cH.LOCAL_TRACK)if(r!==O.cH.EPISODE)e(s.data.operation===W.aG.ADD?c._s.get("web-player.aligned-curation.feedback.added-to-library"):c._s.get("web-player.aligned-curation.feedback.removed-from-library"));else{const e=(0,Kw.ms)();if(!e)return;const n=s.data.operation===W.aG.ADD?c._s.get("web-player.aligned-curation.feedback.added",e.name):c._s.get("web-player.aligned-curation.feedback.removed",e.name);t({message:n,imageSrc:(0,K_.C)(e.images,{desiredSize:24})?.url})}else{const e=(0,Kw.IN)();if(!e)return;const n=s.data.operation===W.aG.ADD?c._s.get("web-player.aligned-curation.feedback.added",e.name):c._s.get("web-player.aligned-curation.feedback.removed",e.name);t({message:n,imageSrc:(0,K_.C)(e.images,{desiredSize:24})?.url})}}))}(),function(){const e=(0,nn.k)(),{enqueueSnackbar:t}=(0,Pg.u)();(0,$e.useEffect)((()=>{const n=e.getEvents(),s=({data:e})=>{"client"===e.source&&"ignoreinrecs"===e.set&&t(c._s.get("feedback.exclude-playlist-from-recommendations"))},i=({data:e})=>{"client"===e.source&&"ignoreinrecs"===e.set&&t(c._s.get("feedback.include-playlist-in-recommendations"))};return n.addListener(y.I5.ADDED,s),n.addListener(y.I5.REMOVED,i),()=>{n.removeListener(y.I5.ADDED,s),n.removeListener(y.I5.REMOVED,i)}}),[t,e])}(),(()=>{const{currentSession:e}=(0,nl.O)(),{enqueueSnackbar:t}=(0,Pg.u)(),n=(0,$e.useRef)([]),s=(0,$e.useRef)([]),i=(0,Sr.yK)((e=>{if(e.isSessionOwner){switch(n.current.length){case 0:break;case 1:t(c._s.get("web-player.social-connect.toast.one-person-joined",{user:n.current[0]??""})),n.current=[];break;case 2:t(c._s.get("web-player.social-connect.toast.two-people-joined",{firstUser:n.current[0]??"",secondUser:n.current[1]??""})),n.current=[];break;default:t(c._s.get("web-player.social-connect.toast.multiple-people-joined",{user:n.current[n.current.length-1]??"",userCount:n.current.length-1})),n.current=[]}switch(s.current.length){case 0:break;case 1:t(c._s.get("web-player.social-connect.toast.one-person-left",{user:s.current[0]??""})),s.current=[];break;case 2:t(c._s.get("web-player.social-connect.toast.two-people-left",{firstUser:s.current[0]??"",secondUser:s.current[1]??""})),s.current=[];break;default:t(c._s.get("web-player.social-connect.toast.multiple-people-left",{user:s.current[s.current.length-1]??"",userCount:s.current.length-1})),s.current=[]}}}),3e3,{leading:!0,trailing:!0}),r=(0,$e.useCallback)((({data:e})=>{null===e.isSessionOwner||e.isSessionOwner||t(c._s.get("web-player.social-connect.toast.ended",{user:e.hostDisplayName??""}))}),[t]),a=(0,$e.useCallback)((({data:e})=>{n.current=e.users?[...n.current,...e.users]:n.current,i(e)}),[i]),o=(0,$e.useCallback)((({data:e})=>{s.current=e.users?[...s.current,...e.users]:s.current,i(e)}),[i]),l=(0,$e.useCallback)((({data:n})=>{e&&(e?.queueOnlyMode!==n?.queueOnlyMode&&(!1===n?.queueOnlyMode?t(e.isSessionOwner?c._s.get("web-player.social-connect.toast.queue-only-mode.host.disabled"):c._s.get("web-player.social-connect.toast.queue-only-mode.guest.disabled")):!0===n?.queueOnlyMode&&t(e.isSessionOwner?c._s.get("web-player.social-connect.toast.queue-only-mode.host.enabled"):c._s.get("web-player.social-connect.toast.queue-only-mode.guest.enabled"))),e?.participantVolumeControl!==n?.participantVolumeControl&&("ENABLED"===n?.participantVolumeControl?t(c._s.get("web-player.social-connect.toast.participant-volume-control.enabled")):"DISABLED"===n?.participantVolumeControl&&t(e.isSessionOwner?c._s.get("web-player.social-connect.toast.participant-volume-control.host.disabled"):c._s.get("web-player.social-connect.toast.participant-volume-control.guest.disabled"))))}),[e,t]),d=(0,$e.useCallback)((({data:e})=>{e===eI.cl.PERMISSIONS_RESTRICTED_GENERIC&&t(c._s.get("web-player.social-connect.toast.queue-only-mode.guest.warning"))}),[t]);(0,Zw.a)(Jw.E.SESSION_ENDED,r),(0,Zw.a)(Jw.E.JOINED,a),(0,Zw.a)(Jw.E.LEFT,o),(0,Zw.a)(Jw.E.UPDATE,l),(0,Zw.a)(Jw.E.SESSION_MESSAGE,d)})(),null);var nI=n(9848),sI=n(26336),iI=n(31780);function rI(e){return"/"===e?"spotify:home":/^\/collection/.test(e)?"spotify:collection":/^\/artist/.test(e)?e.replace("/artist/","spotify:artist:"):/^\/album/.test(e)?e.replace("/album/","spotify:album:"):/^\/playlist/.test(e)?e.replace("/playlist/","spotify:playlist:"):/^\/genre/.test(e)?e.replace("/genre/","spotify:genre:"):/^\/search/.test(e)?"spotify:search":""}function aI(e){return Km(e)}const oI="prod",lI="web-modal",cI={pattern:"app:start",type:"CLIENT_EVENT"},dI={pattern:"app:deprecation:start",type:"CLIENT_EVENT"},uI={pattern:"app:deprecation:click",type:"CLIENT_EVENT"},mI={pattern:"context:start",type:"CLIENT_EVENT"},pI={pattern:"jammable:context:start",type:"CLIENT_EVENT"};let hI=null;function gI(){return hI}const fI=(e,t,n)=>s=>i=>r=>{const a=i(r),o=s.getState(),{dispatch:l}=s,{isAnonymous:d}=(0,Rl.cx)(o),u=t.getState(),m=t.getEvents();let p=!1,h="";function g(e){e&&l((0,Os.K0)(e))}function f(e,t){const n=new Z.c("quicksilver_message");let s=t;if(t)return n.setItem(e,t),t;const i=n.getItem(e);return i instanceof sI.U||i instanceof iI.E||(s=i),s}if(d)return a;switch(r.type){case He.types.INITIALISE_QUICKSILVER:!function(e){hI=(0,nI.E3)((0,rt.G)().toPublic(),{actions:["DISMISS","URL","EXTERNAL_URL"],app:{platform:"WebPlayer",clientId:"65b708073fc0480ea92a077233ca87bd"},enableLogs:!1,formats:[lI],locale:c._s.getLocaleForTranslation(),env:oI,triggerTypes:["URI","CLIENT_EVENT"]}),hI.start(),hI.on(nI.UH.CONNECTED,(()=>{e((0,Os._m)())}))}(l),m.addListener(N.AU.ACTION,(e=>{p||e.data.action!==N.ye.PLAY||(p=!0,l((0,Os.CI)())),function(e,t){if(e.data.action!==N.ye.PLAY)return;const n=(0,O.nX)(e.data.context.uri);n&&((0,O.mS)(n)||(0,O.MJ)(n)||(0,O.eg)(n))&&t((0,Os.OG)())}(e,l)}));break;case He.types.TRIGGER_CLICK_DEPRECATION_MESSAGE:hI&&!aI(u)&&(h=rI(e.location.pathname),hI.requestMessage({appUri:h,trigger:uI}).then((e=>f(dI.pattern,e))).then(g));break;case Os.w$.TRIGGER_APP_START_IN_APP_MESSAGE:hI&&!aI(u)&&(hI.requestMessage({appUri:"spotify:home",trigger:cI}).then(g),o.session.productState?.["client-deprecated"]&&hI.requestMessage({appUri:"spotify:home",trigger:dI}).then((e=>f(dI.pattern,e))).then(g));break;case Os.w$.TRIGGER_CONTEXT_START_IN_APP_MESSAGE:hI&&!aI(u)&&hI.requestMessage({appUri:"spotify:home",trigger:mI}).then(g);break;case Os.w$.TRIGGER_JAMMABLE_CONTEXT_START_IN_APP_MESSAGE:if(n.getEnabled()===ge.x.ENABLED&&n.getJamExperience()!==fe.C.NONE&&hI&&!aI(u)){const t=(0,O.nX)(e.location.pathname)?.toURI()??"spotify:home";hI.requestMessage({appUri:t,trigger:pI}).then(g)}break;case He.types.UPDATE_UI_HISTORY_STATE:h=rI(e.location.pathname),hI&&!aI(u)&&h&&hI.requestMessage({appUri:h,trigger:{pattern:h,type:"URI"}}).then(g);break;case Tr:l((0,Os.MB)());break;case Os.w$.PREVIEW_IN_APP_MESSAGE:hI&&r.creativeId&&hI.previewMessage({appUri:r.appUri||"spotify:home",creativeId:r.creativeId}).then(g);break;case Os.w$.SET_IN_APP_MESSAGING_ENV:hI&&hI.setEnv(r.env);break;case sy.c7:hI&&hI.stop()}return a};function yI(e,t){if(e){const n=(0,O.nX)(e,{parseUnknown:!0});if(n){t(n.toURLPath(!0))}else{const t=document.createElement("a");t.href=e,t.target="_blank",t.click()}}}const _I=(e,t)=>n=>{switch(n.action){case"DISMISS":default:return void e();case"URL":{const{url:s=""}=n;return yI(s,t),void e()}case"EXTERNAL_URL":{const{url:e=""}=n;return void yI(e,t)}}};function bI(e,t,n,s){if(e&&""===e.innerHTML){const i=function(e,t,n){const s=gI();if(s){const i=s.createIframe(e,n);return i.setAttribute("data-testid","inAppMessageIframe"),i.style.borderRadius="5px",i.style.margin="auto",i.style.opacity="0",i.style.transition="opacity 150ms linear",i.addEventListener("load",(()=>{const{contentWindow:e,contentDocument:n}=i;e&&function(e){e&&e.focus()}(e),n&&(Ue.setup(n),function(e,t){const n=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),s=n[0],i=n[n.length-1];e.addEventListener("keydown",(e=>{"Tab"===e.key&&e.target===i&&(e.preventDefault(),s.focus()),e.shiftKey&&"Tab"===e.key&&i.focus(),"Escape"!==e.key&&27!==e.keyCode||t()}),!0)}(n,t)),i.style.opacity="1"})),i}return null}(t,n,s);i&&e.appendChild(i)}}function vI({message:e}){const t=(0,$e.useRef)(null);return function(e,t){const n=(0,ze.OY)(),s=(0,Gt.i6)(),i=(0,$e.useCallback)((()=>{n((0,Os.MB)())}),[n]);(0,$e.useEffect)((()=>{const n=t.current;return bI(n,e,i,_I(i,s)),()=>{!function(e){e&&(e.innerHTML="")}(n)}}),[e,i,n,t,s])}(e,t),(0,lt.jsx)("div",{"":"inAppMessageContainer",ref:t})}function xI(){return(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(CI,{})})}function CI(){const e=(0,tt.IP)(_e.W8I),{message:t,dismissMessage:n}=function(){const e=(0,ze.OY)();return{message:(0,ze.w1)((e=>e.inAppMessaging?.message)),dismissMessage:(0,$e.useCallback)((()=>{e((0,Os.MB)())}),[e])}}(),s=!!t&&t.format===lI;return e?(0,lt.jsx)(Ur.c,{animated:!0,contentLabel:"In-App Message Modal",isOpen:s,onRequestClose:n,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!1,children:s&&!!t&&(0,lt.jsx)(vI,{message:t})}):null}const EI={env:oI,message:null,showPreviewTool:!1},SI=(e=EI,t)=>{switch(t.type){case Os.w$.SHOW_IN_APP_MESSAGE:return{...e,message:t.message};case Os.w$.DISMISS_IN_APP_MESSAGE:return{...e,message:null};case Os.w$.SET_IN_APP_MESSAGING_ENV:return{...e,env:t.env};case Os.w$.SHOW_PREVIEW_TOOL:return{...e,showPreviewTool:t.show};default:return e}};var wI=n(7220);const II="tJeH2W2to1A7d9tWBRoi",AI="oNjdJbGQ9ypf7KR0nYJW",TI="ibrRlYShsgThsh8VNS8Q",kI="Yl9jzsnP8e_5i9me3h7H",NI="vxBybZOmHdDF_nmLE4sa",OI=(0,$e.memo)((function(){const e=(0,ze.OY)(),{isOpen:t}=(0,ze.w1)((e=>e.aboutRecs)),n=(0,$e.useCallback)((()=>{e((0,wI.kT)())}),[e]),s=`https://about-recommendations.spotify.com/?bg=${Ef.wto.substr(1)}&hideHeader=true`;return(0,lt.jsx)(Ur.c,{animated:!0,isOpen:t,onRequestClose:n,contentLabel:c._s.get("context-menu.about-recommendations"),children:(0,lt.jsxs)("div",{className:II,children:[(0,lt.jsx)(Cs.a,{as:"h1",variant:"titleMedium",semanticColor:"textBase",className:AI,children:c._s.get("context-menu.about-recommendations")}),(0,lt.jsx)("div",{className:TI,children:(0,lt.jsx)("iframe",{className:kI,title:c._s.get("context-menu.about-recommendations"),src:s})}),(0,lt.jsx)("button",{"aria-label":c._s.get("close_button_action"),className:NI,onClick:n,children:(0,lt.jsx)(sa.K,{size:"medium"})})]})})})),PI=({className:e})=>(0,lt.jsxs)("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:[(0,lt.jsx)("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",fill:"#E22134",rx:"7.467"}),(0,lt.jsx)("path",{fill:"#fff",d:"M6.143 12V4.437h-1.28c-.15.79-.907 1.387-1.995 1.419v1.003h1.813V12h1.462zm5.092-5.13c0 .82-.65 1.343-1.386 1.343-.758 0-1.387-.512-1.387-1.344 0-.81.64-1.333 1.387-1.333.736 0 1.386.533 1.386 1.333zm-4 4.874c.384.245 1.12.416 1.75.416 2.56 0 3.893-1.61 3.893-4.341 0-2.4-1.397-3.542-2.997-3.542-1.611 0-2.859 1.088-2.859 2.635 0 1.59 1.227 2.539 2.603 2.539.853 0 1.514-.363 1.802-.843-.074 1.397-.96 2.261-2.453 2.261-.512 0-1.067-.16-1.355-.32l-.384 1.195z"}),(0,lt.jsx)("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",stroke:"#fff",strokeWidth:"1.067",rx:"7.467"})]});function jI(e,t,n,s){if(n<=0||s<=0||s>1)return{height:-1,width:-1,parentHeight:e,parentWidth:t};const i=e*t,r=1/s*n,a=Math.sqrt(i/r);return{height:a,width:a*n,parentHeight:e,parentWidth:t}}const LI="dzS9k6yn4XzF3jWcS3W2",RI="ezHLQVkVclgu_n15ybG6",DI="gQ3lUcmizympex29IHL7",MI="VDUUJg30Ewzy9OP54arn",UI={[Dp.u_.SMALL]:1,[Dp.u_.MEDIUM]:.72,[Dp.u_.LARGE]:1.82},FI={[Dp.u_.SMALL]:0,[Dp.u_.MEDIUM]:600,[Dp.u_.LARGE]:1024},BI=({image:e,onConfirm:t,backgroundColor:n})=>{const s=(e=>Object.keys(FI).reverse().find((t=>e>=FI[t]?t:null)))(window.innerWidth),{width:i,height:r,parentHeight:a}=function(e,t){const[n,s]=(0,$e.useState)((()=>jI(window.innerHeight,window.innerWidth,e,t))),i=(0,$e.useRef)(),r=(0,$e.useCallback)((()=>{s(jI(window.innerHeight,window.innerWidth,e,t))}),[e,t]);return(0,$e.useEffect)((()=>(i.current||(s(jI(window.innerHeight,window.innerWidth,e,t)),window.addEventListener("resize",r),i.current=!0),()=>{i.current&&(s(jI(window.innerHeight,window.innerWidth,e,t)),window.removeEventListener("resize",r),i.current=!1)})),[e,t,r]),n}(UI[s],.3333333333333333),o=n?{backgroundColor:n}:{},l=((e,t,n,s)=>e===Dp.u_.SMALL?{width:"100vw",height:"100vh"}:e===Dp.u_.MEDIUM&&s<750||e===Dp.u_.LARGE&&s<520?{width:"inherit",height:"inherit"}:{width:`${Math.ceil(t)}px`,height:`${Math.ceil(n)}px`})(s,i,r,a),d=(0,lt.jsxs)("span",{children:[(0,lt.jsx)("span",{className:RI,children:c._s.get("age.restriction.explicitContent")}),(0,lt.jsx)(PI,{className:DI})]}),u=(0,lt.jsx)(Es.g,{colorSet:"invertedLight",onClick:t,children:c._s.get("age.restriction.continue")});return(0,lt.jsx)(lS,{className:xs()(LI,{[MI]:1===UI[s]}),style:{...l,...o},image:e,title:c._s.get("age.restriction.confirmAge"),description:d,primaryButton:u,size:s})};var GI=n(33508);const VI="J2uBhFKAVeDnSUb6Diq_",HI="dlCbZFZLaxVOGbVUleiV",WI=()=>{const e=(0,ze.OY)(),{image:t,backgroundColor:n,providerUrl:s}=(0,ze.w1)((({ageRestriction:e})=>({image:"",backgroundColor:e.dialog.backgroundColor,providerUrl:e.dialog.providerUrl})),((e,t)=>e.image===t.image&&e.backgroundColor===t.backgroundColor&&e.providerUrl===t.providerUrl));return(0,lt.jsxs)("div",{className:VI,children:[(0,lt.jsx)(BI,{image:t,onConfirm:()=>{window.location.assign(s)},backgroundColor:n}),(0,lt.jsx)("div",{className:HI,children:(0,lt.jsx)(Xi.u,{onClick:()=>{e((0,GI.A3)())},children:c._s.get("close")})})]})},zI=()=>{const e=(0,ze.OY)(),t=(0,ze.w1)((({ageRestriction:e})=>e.isOpen));return(0,lt.jsx)(Ur.c,{animated:!0,onRequestClose:()=>{e((0,GI.A3)())},contentLabel:c._s.get("age.restriction.confirmAge"),isOpen:t,children:(0,lt.jsx)(WI,{})})},YI="main-keyboardShortcutsHelpModal-container",KI="gPDYH11Cr1B2ZtS9z0P8",qI="IIQWD0tGOaagAN9uP_4h",QI="LdrQgiV3Kav0IR6Oqsej",XI=(0,$e.memo)((function(){const e=(0,ze.OY)(),{user:t}=(0,ze.w1)(Rl.cx),{name:n,uri:s,isOpen:i}=(0,ze.w1)((({ui:e})=>e.blockUserDialog)),{enqueueSnackbar:r}=(0,Pg.u)(),a=(0,xn.W4)(),o=(0,$e.useCallback)((async()=>{if(t&&s)try{await(0,ye.M7)(a,{currentUserUri:t?.uri,uri:s}),e((0,He.Ez)()),r(c._s.get("feedback.block-user"))}catch(t){throw e((0,He.Ez)()),t}}),[t,s,a,e,r]),l=(0,$e.useCallback)((()=>{e((0,He.Ez)())}),[e]),d=(0,$e.useCallback)((()=>{e((0,He.Ez)())}),[e]);return(0,lt.jsx)(Ur.c,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:d,contentLabel:c._s.get("block-user.dialog.title",n),isOpen:i,children:(0,lt.jsxs)("div",{className:YI,children:[(0,lt.jsx)(Cs.a,{as:"h2",variant:"bodyMediumBold",className:KI,children:c._s.get("block-user.dialog.title",n)}),(0,lt.jsx)(Cs.a,{as:"p",variant:"bodySmall",className:qI,paddingBottom:S_.Gw,children:c._s.get("block-user.dialog.description",n)}),(0,lt.jsxs)("div",{className:xs()("encore-light-theme",QI),children:[(0,lt.jsx)(Xi.u,{buttonSize:Xi.u.md,onClick:l,children:c._s.get("block-user.dialog.cancel")}),(0,lt.jsx)(Es.g,{onClick:o,buttonSize:Es.g.md,children:c._s.get("block-user.dialog.block")})]})]})})})),$I=(0,$e.lazy)((async()=>{const{AboutSpotifyModal:e}=await n.e(7212).then(n.bind(n,36260));return{default:e}})),JI=(0,$e.lazy)((async()=>await n.e(7212).then(n.bind(n,14540))));function ZI(){return(0,lt.jsxs)($e.Suspense,{fallback:null,children:[(0,lt.jsx)($I,{}),(0,lt.jsx)(JI,{})]})}var eA=n(76288);const tA="main-duplicateTrackModal-container",nA="main-duplicateTrackModal-title",sA="main-duplicateTrackModal-description",iA="main-duplicateTrackModal-buttonContainer",rA=(0,eA.M3)((e=>e.duplicateTracks),(e=>{const t=!!e.uri;return{...e,onlyOneTrack:t,uris:t&&e.uri?[e.uri]:e.uris}})),aA=(0,$e.memo)((function(){const e=(0,ze.OY)(),t=(0,$e.useContext)(Vn.Iv),{isOpen:n,playlistName:s,playlistUri:i,uris:r=[],onlyOneTrack:a,position:o={after:"end"},newUris:l=[]}=(0,ze.w1)(rA),d=l?.length,u=!a&&d,m=(0,$e.useCallback)((()=>{u&&t.add(i,l,o),e((0,nc.i0)())}),[t,u,l,o,i,e]),p=(0,$e.useCallback)((()=>{t.add(i,r,o),e((0,nc.i0)())}),[t,r,o,i,e]),h=(0,$e.useCallback)((()=>{e((0,nc.i0)())}),[e]);let g;return g=u?c._s.get("duplicate.tracks.someAlreadyAddedDescription",s):a?c._s.get("duplicate.tracks.oneAlreadyAdded",s):c._s.get("duplicate.tracks.allAlreadyAdded",s),(0,lt.jsx)(Ur.c,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:h,contentLabel:c._s.get("duplicate.tracks.alreadyAdded"),isOpen:n,children:(0,lt.jsxs)("div",{className:tA,children:[(0,lt.jsx)(Cs.a,{as:"h2",variant:"bodyMediumBold",className:nA,children:u?c._s.get("duplicate.tracks.someAlreadyAdded"):c._s.get("duplicate.tracks.alreadyAdded")}),(0,lt.jsx)(Cs.a,{as:"p",variant:"bodySmall",className:sA,paddingBottom:S_.Gw,children:g}),(0,lt.jsxs)("div",{className:xs()("encore-light-theme",iA),children:[(0,lt.jsx)(Xi.u,{onClick:p,children:u?c._s.get("duplicate.tracks.addAll"):c._s.get("duplicate.tracks.addAnyway")}),(0,lt.jsx)(Es.g,{onClick:m,children:u?c._s.get("duplicate.tracks.addNewOnes"):c._s.get("duplicate.tracks.dontAdd")})]})]})})}));var oA=n(64020),lA=n(85712),cA=n(24856),dA=n(23980);const uA={BROWSER_EDGE:"spotify__browser--is-edge",BROWSER_SAFARI:"spotify__browser--is-safari",OS_MACOS:"spotify__os--is-macos",OS_WINDOWS:"spotify__os--is-windows",OS_LINUX:"spotify__os--is-linux",OS_CHROMEOS:"spotify__os--is-chromeos",CONTAINER_DESKTOP:"spotify__container--is-desktop",CONTAINER_PWA:"spotify__container--is-pwa",CONTAINER_WEB:"spotify__container--is-web"};function mA(e,t){var n;n=Object.values(uA),document.documentElement.classList.remove(...n);const s=[];"Microsoft Edge"===C().parse(window.navigator.userAgent).browser.name?s.push(uA.BROWSER_EDGE):(0,Ux.q)()&&s.push(uA.BROWSER_SAFARI),t===m.I.macOS?s.push(uA.OS_MACOS):t===m.I.Windows?s.push(uA.OS_WINDOWS):t===m.I.Linux?s.push(uA.OS_LINUX):t===m.I.ChromeOS&&s.push(uA.OS_CHROMEOS),e===m.q.Desktop?s.push(uA.CONTAINER_DESKTOP):e===m.q.PWA?s.push(uA.CONTAINER_PWA):e===m.q.Web&&s.push(uA.CONTAINER_WEB),function(e){e.forEach((e=>{document.documentElement.classList.add(e)}))}(s)}const pA=()=>{const e=(0,Gt.i6)(),t=(0,ze.OY)(),n=(0,Gt.IT)(),s=(0,ze.w1)((e=>e.ui.history.canGoBack)),i=(0,ze.w1)((e=>e.ui.history.canGoForward)),{createPlaylist:r}=(0,lA.c)(),{createFolder:a}=(0,Vn.io)(),{openURL:o,openURLWithSessionTransfer:l}=(0,Dh.W)(),{spec:p,logger:h}=(0,Jn.gp)(oA.i,{data:{uri:(0,O.nX)(n.pathname)?.toURI()??""},parentAbsoluteLocation:{locations:[]}});return(0,d.GU)(d.ak.CREATE_NEW_PLAYLIST,(async()=>{await r()})),(0,d.GU)(d.ak.CREATE_NEW_FOLDER,(async()=>{await a(c._s.get("playlist.default_folder_name"),{before:"start"})})),(0,d.GU)(d.ak.BROWSE_BACKWARD,(()=>{s&&e(-1)})),(0,d.GU)(d.ak.BROWSE_FORWARD,(()=>{i&&e(1)})),(0,d.GU)(d.ak.LOGOUT,(()=>{t((0,sy.YX)())})),(0,d.GU)(d.ak.SHOW_ABOUT,(()=>{t((0,cA.sX)())})),(0,d.GU)(d.ak.SHOW_PREFERENCES,(()=>{e("/preferences")})),(0,d.GU)(d.ak.SHOW_SEARCH,(()=>{/\/search(\/.*|)$/.test(n.pathname)||e("/search",{state:{preventMoveFocus:!0}})})),(0,d.GU)(d.ak.SHOW_ACCOUNT,(()=>{l("https://spotify.com/account/overview/")})),(0,d.GU)(d.ak.SHOW_COMMUNITY,(()=>{l("https://community.spotify.com/")})),(0,d.GU)(d.ak.SHOW_HELP,(()=>{l("https://support.spotify.com/")})),(0,d.GU)(d.ak.SHOW_LICENSES,(()=>{t((0,dA.Qt)())})),(0,d.GU)(d.ak.SHOW_LICENSING_INFORMATION,(()=>{o("https://www.spotify.com/int/legal/licensing-info/")})),(0,d.GU)(d.ak.SHOW_SCTA_INFORMATION,(()=>{o("https://www.spotify.com/int/legal/specified-commercial-transactions")})),(0,d.GU)(d.ak.ENTER_FULLSCREEN,(()=>{h.logInteraction(p.fullscreenButtonFactory().hitUiReveal()),t((0,He.sR)())})),(0,d.GU)(d.ak.LEAVE_FULLSCREEN,(()=>{h.logInteraction(p.fullscreenButtonFactory().hitUiHide()),t((0,He.uE)())})),(0,d.GU)(d.ak.SET_PLATFORM_EMULATION_AUTO,(()=>{mA((0,u.SM)(),(0,v.i)())})),(0,d.GU)(d.ak.SET_PLATFORM_EMULATION_MACOS,(()=>{mA((0,u.SM)(),m.I.macOS)})),(0,d.GU)(d.ak.SET_PLATFORM_EMULATION_WINDOWS,(()=>{mA((0,u.SM)(),m.I.Windows)})),(0,d.GU)(d.ak.SET_PLATFORM_EMULATION_LINUX,(()=>{mA((0,u.SM)(),m.I.Linux)})),null},hA="main-keyboardShortcutsHelpModal-container",gA="main-keyboardShortcutsHelpModal-header",fA="main-keyboardShortcutsHelpModal-closeBtn",yA="main-keyboardShortcutsHelpModal-sectionsContainer",_A="main-keyboardShortcutsHelpModal-sections",bA="main-keyboardShortcutsHelpModal-sectionHeading",vA="main-keyboardShortcutsHelpModal-sectionItem",xA="main-keyboardShortcutsHelpModal-sectionItemName",CA="main-keyboardShortcutsHelpModal-key",EA=e=>{switch(e){case"mod":return"macOS"===C().getParser(window.navigator.userAgent).getOSName()?"⌘":"Ctrl";case"command":return"⌘";case"alt":return"macOS"===C().getParser(window.navigator.userAgent).getOSName()?"⌥":"Alt";case"shift":case"ctrl":case"space":return e[0].toUpperCase()+e.slice(1);case"up":return"↑";case"right":return"→";case"down":return"↓";case"left":return"←";default:return e.toUpperCase()}},SA=(0,$e.memo)((function({children:e}){return(0,lt.jsx)(Cs.a,{as:"kbd",variant:"bodyMedium",className:CA,children:EA(e)})})),wA=({combinations:e})=>(0,lt.jsx)(lt.Fragment,{children:e.map(((t,n)=>{const s=t.split("+");return(0,lt.jsxs)($e.Fragment,{children:[s.map((e=>(0,lt.jsx)(SA,{children:e},e))),n<e.length-1&&(0,lt.jsxs)(Cs.a,{variant:"bodyMedium",children:[" ",c._s.get("keyboard.shortcuts.or")," "]})]},t)}))}),IA=({shortcuts:e,sectionTitle:t})=>(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Cs.a,{as:"h2",className:bA,variant:"titleSmall",children:t}),(0,lt.jsx)("ul",{children:e.map((e=>e.enabled?(0,lt.jsxs)("li",{className:vA,children:[(0,lt.jsx)(Cs.a,{variant:"bodyMedium",className:xA,children:e.description}),(0,lt.jsx)(wA,{combinations:Sp.Yj[e.action]})]},e.action):null))})]});var AA=n(66364);const TA=(0,$e.memo)((function(){const e=(0,Sp.Yd)(),t=(0,ze.OY)(),n=(0,ze.w1)((e=>e.ui.keyboardShortcutsHelpModal.isOpen)),s=(0,$e.useCallback)((()=>{t((0,He.lc)(!1))}),[t]);(0,AA.c)();const i=e.employee.filter((e=>e.enabled));return(0,lt.jsx)(Ur.c,{isOpen:n,onRequestClose:s,contentLabel:c._s.get("keyboard.shortcuts.help.heading"),children:(0,lt.jsxs)("div",{className:hA,children:[(0,lt.jsxs)("div",{className:gA,children:[(0,lt.jsx)(Cs.a,{as:"h1",variant:"titleMedium",children:c._s.get("keyboard.shortcuts.help.heading")}),(0,lt.jsx)("button",{"aria-label":c._s.get("close"),className:fA,onClick:s,children:(0,lt.jsx)(Fr,{width:18,height:18,fill:"currentColor"})}),(0,lt.jsxs)(Cs.a,{variant:"bodyMedium",as:"p",children:[c._s.get("keyboard.shortcuts.help.subheading.press")," ",(0,lt.jsx)(wA,{combinations:Sp.Yj.OPEN_HELP})," ",c._s.get("keyboard.shortcuts.help.subheading.toToggle")]})]}),(0,lt.jsx)("div",{className:yA,children:(0,lt.jsxs)("div",{className:_A,tabIndex:0,children:[(0,lt.jsx)(IA,{shortcuts:e.basic,sectionTitle:c._s.get("keyboard.shortcuts.section.basic")}),(0,lt.jsx)(IA,{shortcuts:e.playback,sectionTitle:c._s.get("keyboard.shortcuts.section.playback")}),(0,lt.jsx)(IA,{shortcuts:e.navigation,sectionTitle:c._s.get("keyboard.shortcuts.section.navigation")}),(0,lt.jsx)(IA,{shortcuts:e.layout,sectionTitle:c._s.get("keyboard.shortcuts.section.layout")}),i.length>0?(0,lt.jsx)(IA,{shortcuts:i,sectionTitle:"Employee"}):null]})})]})})})),kA="ABD0FGjBGqGZG33bP7Lc",NA="iV_SwHyMafiGlMDhlcB5",OA="gMEKhUL8rKx7DhSDUVk7",PA="Z0v7BXnINL5FxFXjQIzE",jA=$e.memo((function({playlistUri:e}){const t=(0,ze.OY)(),n=(0,Gt.i6)(),s=(0,ei.w)(),[i,r]=(0,Jl.X)(e),a=(0,ze.w1)(Rl.cx).user,o=(0,Vn.mY)(e),{removeMember:l}=(0,Vn.Q3)(e),d=o?.permissions?.isPrivate,u=o?.canAdd,m=(0,$e.useCallback)((()=>{a?.id&&(s({intent:"playlisting",type:"click"}),i&&d&&r(!1),l(a?.id),t((0,He.Kw)()),n("/"))}),[a?.id,s,i,d,l,t,n,r]),p=(0,$e.useCallback)((()=>{t((0,He.Kw)())}),[t]),h=c._s.get("leave-playlist.dialog.leave");let g=c._s.get("leave-playlist.dialog.private-description");return d||(g=u?c._s.get("leave-playlist.dialog.public-contributor-description"):c._s.get("leave-playlist.dialog.public-listener-description")),(0,lt.jsx)(Ur.c,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:p,contentLabel:h,isOpen:!0,children:(0,lt.jsxs)("div",{className:kA,children:[(0,lt.jsx)(Cs.a,{as:"h2",variant:"bodyMediumBold",className:NA,children:c._s.get("leave-playlist.dialog.title")}),(0,lt.jsx)(Cs.a,{as:"p",variant:"bodySmall",className:OA,paddingBottom:S_.Gw,children:g}),(0,lt.jsxs)("div",{className:xs()("encore-light-theme",PA),children:[(0,lt.jsx)(Xi.u,{onClick:p,children:c._s.get("leave-playlist.dialog.cancel")}),(0,lt.jsx)(Es.g,{onClick:m,children:h})]})]})})})),LA=$e.memo((function(){const{isOpen:e,playlistUri:t}=(0,ze.w1)((e=>e.ui.leavePlaylistDialog));return t&&e?(0,lt.jsx)(jA,{playlistUri:t}):null})),RA=e=>(0,lt.jsx)("img",{alt:"Zara Larsson",src:(0,li.K)("images/zara-larsson-singles.png"),...e});var DA=n(59624);const MA="m7yI2BjDd8Jfq4bwU_IT",UA="A0uXWh53dpxhad3t59v_",FA="jN93nx_3NxRM0qYmOmjB",BA="x_mFp6qsLw0AgSON4gdy",GA="aS3WvPBqyZdP1S28pn6r",VA="FvaVPD0bBm4QOZEKRYOm",HA="nRjGqzP1Yyg9utpJtFEG",WA="lljaf1wMpxMQY1AVr1sf",zA="Mhj98HFd0jXE916R2Ggz",YA="TicfIwifH276e2046RzG",KA="ONMHZOOfFwfCPGr5rKNp",qA="ZQ94gWpWwDhhvQ7bRv9S",QA="DNkhD0rW2qSWeBj4HBIZ",XA=$e.memo((function(){const e=(0,ze.OY)(),t=(0,ze.w1)((e=>e.ui.loginToListenDialog.isOpen)),n=(0,ei.w)();n({intent:"navigate",type:"view"});const s=(0,$e.useCallback)((()=>{n({intent:"close",type:"click"}),e((0,He.WI)())}),[e,n]),i=(0,$e.useCallback)((t=>{n({intent:"upgrade-to-premium",type:"click"}),e((0,He.WI)()),t?window.open(Ss.k0,"_blank"):window.open(Ss.wp,"_blank")}),[e,n]);return(0,lt.jsx)(ml.Q,{property:_e.Caq,renderOldExperience:()=>(0,lt.jsx)(Ur.c,{animated:!0,isOpen:t,className:HA,overlayClassName:WA,contentLabel:c._s.get("mwp.d2p.modal.title"),onRequestClose:s,children:(0,lt.jsxs)("div",{className:MA,children:[(0,lt.jsx)("div",{className:VA,children:(0,lt.jsx)(RA,{className:UA})}),(0,lt.jsxs)("div",{className:`${VA}`,children:[(0,lt.jsx)("div",{className:FA,children:(0,lt.jsx)(DA.Q,{color:"var(--spice-text)",height:"23"})}),(0,lt.jsx)(Cs.a,{as:"h1",variant:"titleMedium",children:c._s.get("mwp.d2p.modal.title")}),(0,lt.jsx)(Cs.a,{as:"p",variant:"bodyMedium",children:c._s.get("mwp.d2p.modal.description")}),(0,lt.jsx)(Es.g,{onClick:i.bind(null,!0),className:`${BA}`,children:c._s.get("mwp.d2p.modal.cta")}),(0,lt.jsx)(Xi.u,{onClick:s,className:`${BA} ${GA}`,children:c._s.get("mwp.d2p.modal.dismiss")})]})]})}),renderNewExperience:()=>(0,lt.jsx)(Ur.c,{animated:!0,isOpen:t,className:HA,overlayClassName:WA,contentLabel:c._s.get("mwp.d2p.modal.title"),onRequestClose:s,children:(0,lt.jsxs)("div",{className:`${MA} ${zA}`,children:[(0,lt.jsx)("div",{className:`${VA} ${QA}`,children:(0,lt.jsx)("img",{alt:c._s.get("midyear.cta"),src:(0,li.K)("images/mid-year.png")})}),(0,lt.jsxs)("div",{className:`${VA}`,children:[(0,lt.jsx)(Cs.a,{as:"h1",variant:"titleMedium",children:c._s.get("midyear.title")}),(0,lt.jsx)(Cs.a,{as:"p",variant:"bodyMedium",children:c._s.get("midyear.intro")}),(0,lt.jsx)(Es.g,{onClick:i.bind(null,!1),className:`${BA} ${YA}`,children:c._s.get("midyear.cta")}),(0,lt.jsx)(Xi.u,{onClick:s,className:`${BA} ${GA} ${KA}`,children:c._s.get("mwp.d2p.modal.dismiss")}),(0,lt.jsx)(Cs.a,{as:"p",className:qA,variant:"marginal",dangerouslySetInnerHTML:{__html:c._s.get("midyear.terms",{help_link:"https://www.spotify.com/legal/premium-promotional-offer-terms/"})}})]})]})})})})),$A=$e.memo((function(){return(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(XA,{})})}));var JA=n(45531),ZA=n(86412),eT=n(59827),tT=n(2944),nT=n(48064);const sT="main-playlistEditDetailsModal-container",iT="main-playlistEditDetailsModal-content",rT="main-playlistEditDetailsModal-header",aT="main-playlistEditDetailsModal-closeBtn",oT="main-playlistEditDetailsModal-albumCover",lT="main-playlistEditDetailsModal-imageLoadingContainer",cT="main-playlistEditDetailsModal-imageChangeButton",dT="main-playlistEditDetailsModal-imageDropDownContainer",uT="main-playlistEditDetailsModal-imageDropDownButton",mT="main-playlistEditDetailsModal-textElement",pT="main-playlistEditDetailsModal-textElementError",hT="main-playlistEditDetailsModal-textElementInfo",gT="main-playlistEditDetailsModal-title",fT="main-playlistEditDetailsModal-textElementLabel",yT="main-playlistEditDetailsModal-description",_T="main-playlistEditDetailsModal-titleInput",bT="main-playlistEditDetailsModal-titleInputWithPadding",vT="main-playlistEditDetailsModal-descriptionTextarea",xT="main-playlistEditDetailsModal-save",CT="main-playlistEditDetailsModal-disclaimer",ET="main-playlistEditDetailsModal-characterCounter",ST="main-playlistEditDetailsModal-titleCharacterCounter",wT="main-playlistEditDetailsModal-descriptionCharacterCounter",IT="main-playlistEditDetailsModal-insertLinkButton",AT=({openImagePicker:e,onRemoveImage:t})=>(0,lt.jsx)("div",{className:dT,children:(0,lt.jsx)(Ei.p,{menu:(0,lt.jsxs)(Ai.i,{children:[(0,lt.jsx)(ki.I,{role:"menuitem",onClick:e,leadingIcon:(0,lt.jsx)(eT.w,{semanticColor:"textSubdued",size:"small"}),children:c._s.get("playlist.edit-details.change-photo")}),(0,lt.jsx)(ki.I,{role:"menuitem",onClick:t,leadingIcon:(0,lt.jsx)(tT.W,{semanticColor:"textSubdued",size:"small"}),children:c._s.get("playlist.edit-details.remove-photo")})]}),children:(0,lt.jsxs)("button",{className:uT,type:"button",children:[(0,lt.jsx)(nT.U,{size:"small","aria-hidden":"true"}),(0,lt.jsx)("span",{className:"hidden-visually",children:c._s.get("edit_photo")})]})})});var TT=n(81867);const kT=({onClick:e})=>(0,lt.jsx)("button",{title:"Insert link",className:IT,onClick:e,children:(0,lt.jsx)(TT.Q,{size:"small","aria-hidden":"true"})});var NT=n(57096),OT=n.n(NT);const PT=({className:e,usedCharacters:t,maxCharacters:n,isVisible:s=!0})=>{const i=n-t,{ariaLive:r,ariaAtomic:a}=function(e){let t,n;return e<=20?(t="assertive",n=!0):e<=60?(t="polite",n=!1):e<=70?(t="polite",n=!0):(t="off",n=!0),{ariaLive:t,ariaAtomic:n}}(i);return(0,lt.jsx)("span",{className:xs()(ET,e,{"hidden-visually":!s}),"aria-label":c._s.get("character-counter"),"aria-live":r,"aria-atomic":a,children:`${t}/${n}`})},jT=(0,$e.forwardRef)((function({autoFocus:e,handleOnChange:t,playlistDescription:n,maxNumCharacters:s=300},i){const r=(0,$e.useMemo)((()=>`text-input-${(0,le.mS)(8)}`),[]),a=s-20,[o,l]=(0,$e.useState)(!1),d=OT()(n).length;return(0,$e.useEffect)((()=>{e&&"function"!=typeof i&&i?.current?.select()}),[e,i]),(0,lt.jsxs)("div",{className:yT,children:[(0,lt.jsx)(Cs.a,{htmlFor:r,as:"label",variant:"marginalBold",className:fT,children:c._s.get("playlist.edit-details.description-label")}),(0,lt.jsx)("textarea",{ref:i,"":"playlist-edit-details-description-input",autoFocus:e,className:xs()(mT,vT,{[hT]:o}),onChange:e=>{const n=t(OT()(e.target.value).slice(0,s).join(""));l(!!n)},placeholder:c._s.get("playlist.edit-details.description-placeholder"),value:n}),(0,lt.jsx)(PT,{className:wT,maxCharacters:s,usedCharacters:d,isVisible:d>=a})]})}));var LT=function(e){return e.CONTAINS_NEW_LINE="CONTAINS_NEW_LINE",e.CONTAINS_HTML="CONTAINS_HTML",e.SAVE_WARNING="SAVE_WARNING",e.OFFLINE_WARNING="OFFLINE_WARNING",e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_FILE_UPLOAD_FAILED="IMAGE_FILE_UPLOAD_FAILED",e.NAME_REQUIRED="NAME_REQUIRED",e.UPDATE_DETAILS_FAILED="UPDATE_DETAILS_FAILED",e.IMAGE_INVALID_JPG="IMAGE_INVALID_JPG",e}(LT||{});const RT={type:"info",code:LT.CONTAINS_NEW_LINE,get message(){return c._s.get("playlist.edit-details.error.description-breaks")}},DT={type:"info",code:LT.CONTAINS_HTML,get message(){return c._s.get("playlist.edit-details.error.invalid-html")}},MT={type:"info",code:LT.SAVE_WARNING,get message(){return c._s.get("playlist.edit-details.error.unsaved-changes")}},UT={type:"info",code:LT.OFFLINE_WARNING,get message(){return c._s.get("playlist.edit-details.error.no-internet")}},FT={type:"error",code:LT.FILE_TOO_BIG,get message(){return c._s.get("playlist.edit-details.error.file-size-exceeded",10)}},BT={type:"error",code:LT.IMAGE_TOO_SMALL,get message(){return c._s.get("playlist.edit-details.error.too-small",300,300)}},GT={type:"error",code:LT.IMAGE_FILE_UPLOAD_FAILED,get message(){return c._s.get("playlist.edit-details.error.file-upload-failed")}},VT={type:"error",code:LT.NAME_REQUIRED,get message(){return c._s.get("playlist.edit-details.error.missing-name")}},HT={type:"error",code:LT.UPDATE_DETAILS_FAILED,get message(){return c._s.get("playlist.edit-details.error.failed-to-save")}},WT=({autoFocus:e,handleOnChange:t,maxNumCharacters:n=100,playlistName:s,onSubmit:i})=>{const[r,a]=(0,$e.useState)(!1),o=(0,$e.useMemo)((()=>`text-input-${(0,le.mS)(8)}`),[]),l=n-10,d=OT()(s).length,u=d>=l,m=(0,$e.useRef)(null);return(0,$e.useEffect)((()=>{e&&m.current?.select()}),[e]),(0,lt.jsxs)("div",{className:gT,children:[(0,lt.jsx)(Cs.a,{as:"label",htmlFor:o,variant:"marginalBold",className:fT,children:c._s.get("playlist.edit-details.name-label")}),(0,lt.jsx)("input",{"":"playlist-edit-details-name-input",id:o,autoFocus:e,ref:m,type:"text",className:xs()(mT,_T,{[bT]:u,[pT]:r}),onKeyDown:e=>{"Enter"===e.key&&i()},onChange:e=>{const s=t(OT()(e.target.value).slice(0,n).join(""));a(!!s)},placeholder:c._s.get("playlist.edit-details.name-placeholder"),value:s}),(0,lt.jsx)(PT,{isVisible:u,maxCharacters:n,usedCharacters:d,className:ST})]})};var zT=n(1044);const YT={name:"",description:"",image:void 0,loading:!1,message:null,hasWarnedAboutUnsavedChanges:!1};function KT(e){return{type:"setPlaylistDescription",data:e}}function qT(e){return{type:"setLoading",data:e}}function QT(e){return{type:"setMessage",data:e}}function XT(e,t){switch(t.type){case"setImageData":return{...e,loading:!1,image:{width:zT.oL.SMALL,height:zT.oL.SMALL,url:t.data}};case"removeImage":return{...e,loading:!1,imageToken:null,image:void 0};case"setImageToken":return{...e,imageToken:t.data};case"setPlaylistName":return{...e,name:t.data};case"setPlaylistDescription":return{...e,description:t.data};case"setLoading":return{...e,loading:t.data,message:null};case"setHasWarnedAboutUnsavedChanges":return{...e,hasWarnedAboutUnsavedChanges:t.data};case"setMessage":return{...e,loading:!1,message:t.data};case"reset":return{...YT,name:t.data.name,description:t.data.description,image:t.data.image};default:return e}}var $T=n(38904),JT=n(17480);const ZT=/[\b\f\n\r\t\v\0]/,ek=/<[bi]/i,tk=({isOpen:e,isImagePickerOpen:t,focusedElement:n,name:s,description:i,image:r,uri:a,onClose:o})=>{i=(e=>{const t=document.createElement("textarea");return t.innerHTML=e,t.value})(i);const{uploadImage:l,updateDetails:d}=(0,Vn.Q3)(a),[u,m]=function({name:e,description:t,image:n}){const[s,i]=(0,$e.useReducer)(XT,{...YT,name:e,description:t,image:n});return[s,i]}({name:s,description:i,image:r}),[p,h]=(0,ZA.ER)(),g=!(0,og.O)(),f=(0,$e.useRef)(null),y=(0,ze.w1)((e=>"1"===e.session.productState?.["playlist-annotations-markup"]));(0,$e.useEffect)((()=>{m(QT(g?UT:null))}),[g,m]),(0,$e.useEffect)((()=>{t&&h()}),[t,h]);const _=(0,$e.useCallback)((()=>{m({type:"removeImage"})}),[m]),b=(e=!1)=>{const t=null===u.imageToken,n=u.imageToken;!(s!==u.name||i!==u.description||n||t)||u.hasWarnedAboutUnsavedChanges||e?(m(function(e){return{type:"reset",data:e}}({name:s,description:i,image:r})),o()):(m(QT(MT)),m({type:"setHasWarnedAboutUnsavedChanges",data:!0}))};async function v(){if(!u.loading)if(0!==u.name.length){m(qT(!0));try{await async function(){const e={};s!==u.name&&(e.name=u.name);i!==u.description&&(e.description=u.description);u.imageToken?e.imageUploadToken=await u.imageToken:null===u.imageToken&&(e.imageUploadToken=null);e.image=u.image,await d(e)}(),m(qT(!1));b(!0)}catch{m(QT(HT))}}else m(QT(VT))}return(0,lt.jsx)(Ur.c,{isOpen:e,onRequestClose:()=>{b()},contentLabel:c._s.get("playlist.edit-details.title"),children:(0,lt.jsxs)("div",{"":"playlist-edit-details-modal",className:sT,children:[(0,lt.jsxs)("div",{className:rT,children:[(0,lt.jsx)(Cs.a,{as:"h1",variant:"titleSmall",children:c._s.get("playlist.edit-details.title")}),(0,lt.jsx)("button",{className:aT,onClick:()=>{b()},children:(0,lt.jsx)(sa.K,{size:"small","aria-label":c._s.get("close")})})]}),u.message&&(0,lt.jsx)(JT.O,{isErrorMessage:"error"===u.message.type,message:u.message.message}),y?(0,lt.jsx)(kT,{onClick:function(){if(!f.current)return;const{selectionStart:e,selectionEnd:t}=f.current,n=u.description.substring(e,t);let s=n;const i=!!(0,O.nX)(s);!s.startsWith("http://")&&!s.startsWith("https://")&&!i&&(s=`https://${s}`),m(KT([u.description.substring(0,e),`<a href="${s}">${n}</a>`,u.description.substring(t)].join("")))}}):null,(0,lt.jsxs)("div",{className:iT,children:[(0,lt.jsx)(ZA.mQ,{isOpen:p,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:async function(e){if(!e)return;const{imageFile:t,imageDataUrl:n}=e;if(m(QT(null)),m({type:"setImageData",data:n}),t)try{const e=l(t);m({type:"setImageToken",data:e}),await e}catch{m(QT(GT))}},onError:e=>{e===ZA.S4.FILE_TOO_BIG?m(QT(FT)):e===ZA.S4.IMAGE_TOO_SMALL&&m(QT(BT))}}),(0,lt.jsxs)("div",{className:oT,children:[(0,lt.jsx)(zT.iI,{loading:"eager",name:u.name,images:u.image?[u.image]:[],placeholderType:"playlist"}),(0,lt.jsx)("div",{className:cT,children:(0,lt.jsx)($T.a,{overlay:!!u.image,onClick:h})}),(0,lt.jsx)(AT,{onRemoveImage:_,openImagePicker:h}),!!u.imageToken&&u.loading&&(0,lt.jsx)("div",{className:lT,children:(0,lt.jsx)(JA.y,{})})]}),(0,lt.jsx)(WT,{autoFocus:n===Qt.SA.TITLE,handleOnChange:e=>(m({type:"setPlaylistName",data:e}),0===e.length?(m(QT(VT)),VT):(m(QT(null)),null)),playlistName:u.name,onSubmit:v}),(0,lt.jsx)(jT,{ref:f,autoFocus:n===Qt.SA.DESCRIPTION,handleOnChange:e=>{let t=e;return ek.test(t)?(m(QT(DT)),DT):ZT.test(t)?(t=(e||"").replace(ZT,""),m(QT(RT)),RT):(m(KT(t)),null)},playlistDescription:u.description}),(0,lt.jsx)("div",{className:xT,children:(0,lt.jsx)(Es.g,{colorSet:"invertedLight",onClick:v,disabled:u.loading,"":"playlist-edit-details-save-button",children:c._s.get("save")})}),(0,lt.jsx)(Cs.a,{as:"p",variant:"marginalBold",className:CT,children:c._s.get("image-upload.legal-disclaimer")})]})]})})},nk=()=>{const{isOpen:e,isImagePickerOpen:t,playlistDetails:n,focusedElement:s}=(0,$e.useContext)(Qt.mw),i=(0,$e.useContext)(Qt.AN),r=(0,$e.useCallback)((()=>{i({type:"close"})}),[i]),{name:a,description:o,uri:l,image:c}=n;return e?(0,lt.jsx)(tk,{isOpen:e,isImagePickerOpen:t,onClose:r,focusedElement:s,uri:l,name:a,description:o,image:c}):null},sk=new Map;sk.set("ad","€ 9,99"),sk.set("ar","$ 69,00"),sk.set("at","€ 9,99"),sk.set("au","$11.99"),sk.set("be","€ 9,99"),sk.set("bg","4.99 EUR"),sk.set("bo","5.99 USD"),sk.set("br","R$ 16,90"),sk.set("ca","9.99 CAD"),sk.set("ch","Fr. 12.95"),sk.set("cl","$ 3.490,00"),sk.set("co","$ 14.900,00"),sk.set("cr","5.99 USD"),sk.set("cy","6.99 EUR"),sk.set("cz","5.99 EUR"),sk.set("de","9,99 €"),sk.set("dk","kr 99,00"),sk.set("do","5.99 USD"),sk.set("ec","5.99 USD"),sk.set("ee","6.99 EUR"),sk.set("es","9,99 €"),sk.set("fi","9,99 €"),sk.set("fr","9,99 €"),sk.set("uk","£9.99"),sk.set("gr","6.99 EUR"),sk.set("gt","5.99 USD"),sk.set("hk","HK$58.00"),sk.set("hn","5.99 USD"),sk.set("hu","4.99 EUR"),sk.set("id","Rp 49.990"),sk.set("ie","€9.99"),sk.set("is","9.99 EUR"),sk.set("it","€ 9,99"),sk.set("kr","₩10,900"),sk.set("li","12.95 CHF"),sk.set("lt","6.99 EUR"),sk.set("lu","9.99 EUR"),sk.set("lv","6.99 EUR"),sk.set("mc","9.99 EUR"),sk.set("mt","6.99 EUR"),sk.set("mx","$ 99.00"),sk.set("my","RM14.90"),sk.set("ni","5.99 USD"),sk.set("nl","€9,99"),sk.set("no","kr109,00"),sk.set("nz","$14.99"),sk.set("pa","5.99 USD"),sk.set("pe","S/ 18.90"),sk.set("ph","₱129"),sk.set("pl","19,99 zł"),sk.set("pt","6.99 EUR"),sk.set("py","5.99 USD"),sk.set("se","99,00 kr"),sk.set("sg","S$9.90"),sk.set("sk","5.99 EUR"),sk.set("sv","5.99 USD"),sk.set("th","฿129.00"),sk.set("tr","13,99 TL"),sk.set("tw","NT$149.00"),sk.set("us","$9.99"),sk.set("uy","5.99 USD");const ik=new Map;ik.set("ad","€ 0,00"),ik.set("ar","$ 0,00"),ik.set("at","€ 0,00"),ik.set("au","$0.00"),ik.set("be","€ 0,00"),ik.set("bg","0.00 EUR"),ik.set("bo","0.00 USD"),ik.set("br","R$ 0,00"),ik.set("ca","0.00 CAD"),ik.set("ch","Fr. 0.00"),ik.set("cl","$ 0,00"),ik.set("co","$ 0,00"),ik.set("cr","0.00 USD"),ik.set("cy","0.00 EUR"),ik.set("cz","0.00 EUR"),ik.set("de","0,00 €"),ik.set("dk","kr 0,00"),ik.set("do","0.00 USD"),ik.set("ec","0.00 USD"),ik.set("ee","0.00 EUR"),ik.set("es","0,00 €"),ik.set("fi","0,00 €"),ik.set("fr","0,00 €"),ik.set("uk","£0.00"),ik.set("gr","0.00 EUR"),ik.set("gt","0.00 USD"),ik.set("hk","HK$0.00"),ik.set("hn","0.00 USD"),ik.set("hu","0.00 EUR"),ik.set("id","Rp 0.00"),ik.set("ie","€0.00"),ik.set("is","0.00 EUR"),ik.set("it","€ 0,00"),ik.set("li","0.00 CHF"),ik.set("lt","0.00 EUR"),ik.set("lu","0.00 EUR"),ik.set("lv","0.00 EUR"),ik.set("mc","0.00 EUR"),ik.set("mt","0.00 EUR"),ik.set("mx","$ 0.00"),ik.set("my","RM0.00"),ik.set("ni","0.00 USD"),ik.set("nl","€0,00"),ik.set("no","kr0,00"),ik.set("nz","$0.00"),ik.set("pa","0.00 USD"),ik.set("pe","S/ 0.00"),ik.set("ph","₱0.00"),ik.set("pl","0,00 zł"),ik.set("pt","0.00 EUR"),ik.set("py","0.00 USD"),ik.set("se","0,00 kr"),ik.set("sg","S$0.00"),ik.set("sk","0.00 EUR"),ik.set("sv","0.00 USD"),ik.set("th","฿0.00"),ik.set("tr","0,00 TL"),ik.set("tw","NT$0.00"),ik.set("us","$0.00"),ik.set("uy","0.00 USD");const rk="jqvEr4MvCdQ1QA_FSpe7",ak="sRkNI1Gya5aBxtf_vS1S",ok="WShxRrLdX9LzzqlCmWZy",lk="rlMoP29GxtDlHkDK_aci",ck=(0,$e.memo)((function(){const e=(0,ze.OY)(),t=(0,ze.w1)((e=>e.ui.premiumDialog.isOpen)),n=(0,ze.w1)((e=>{const t=(e=>{const t=e.toLowerCase();return{premiumPrice:sk.has(t)?sk.get(t):"99,00 kr",freePrice:ik.has(t)?ik.get(t):"0,00 kr"}})((0,Xo.SS)(e));return t.premiumPrice})),s=(0,ze.w1)(Xo.yC),i=(0,$e.useCallback)((()=>e((0,sy.YX)())),[e]),{openURLWithSessionTransfer:r}=(0,Dh.W)();return(0,lt.jsx)(Ur.c,{isOpen:t,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:c._s.get("premium.dialog.title"),children:(0,lt.jsxs)("div",{className:rk,children:[(0,lt.jsx)("h1",{className:ak,children:c._s.get("premium.dialog.title")}),(0,lt.jsx)("p",{className:ok,children:c._s.get("premium.dialog.description",s?3:1)}),(0,lt.jsx)(Es.g,{colorSet:"invertedLight",onClick:()=>r(Ss.k0),children:c._s.get("premium.dialog.subscribe")}),(0,lt.jsx)(Xi.u,{semanticColor:"textBase",onClick:i,children:c._s.get("user.log-out")}),(0,lt.jsx)("p",{className:lk,children:s?c._s.get("premium.dialog.disclaimer.noprice"):c._s.get("premium.dialog.disclaimer",{price:n})})]})})}));var dk=n(16824);const uk=(0,$e.memo)((function(){const e=(0,ze.OY)(),t=(0,Yn.ik)(),n=(0,ze.w1)((e=>e.ui.removeFromLibraryDialog.uri)),[s,i]=(0,Jl.X)(n??""),{useContains:r,remove:a}=(0,dk.U)("prerelease"),o=r(n??"").at(0),l=(0,O.nX)(n)?.type,[d,u]=(0,$e.useState)("");(0,$e.useEffect)((()=>{(async()=>{switch(l){case O.cH.PRERELEASE:case O.cH.ALBUM:u(c._s.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-album"));break;case O.cH.ARTIST:u(c._s.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-artist"));break;case O.cH.SHOW:u((0,pe.q8)(await t.getMetadata(n??""))?c._s.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-audiobook"):c._s.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-show"));break;case O.cH.PLAYLIST:case O.cH.PLAYLIST_V2:u(c._s.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-playlist"));break;default:u(c._s.get("web-player.your-library-x.feedback-remove-from-library-dialog-description"))}})()}),[t,l,n]);const m=(0,$e.useCallback)((()=>{e((0,He.yU)())}),[e]),p=(0,$e.useCallback)((()=>{if(n){if(l===O.cH.PRERELEASE){if(!o)return;a(n)}else{if(!s)return;i(!1)}m()}}),[n,l,m,o,a,s,i]);return(0,lt.jsx)(rC.c,{"aria-label":`${c._s.get("web-player.your-library-x.feedback-remove-from-library-dialog-title")} ${d}`,titleText:c._s.get("web-player.your-library-x.feedback-remove-from-library-dialog-title"),descriptionText:d,onConfirm:p,onClose:m,confirmText:c._s.get("web-player.your-library-x.feedback-remove-from-library-dialog-confirm-button"),cancelText:c._s.get("web-player.your-library-x.feedback-remove-from-library-dialog-cancel-button"),allowHTML:!0})})),mk="ZjyLlDvxh8QqNVY2vMsF",pk="sx8Bf4udHt_kPAnxmGW8",hk="sfaREUmOnuxlr99uOYnS",gk="RTGGeDA2P3rKc6r96vqA",fk="e1NO8ZuDIwSef3E4ppfX",yk="Fo3Fe1PpXtQ3G32BqnwP",_k="aRZZo0b_4ktkI0mPQ7Vw",bk=({name:e,onRename:t})=>{const n=(0,ze.OY)(),[s,i]=(0,$e.useState)(null),r=(0,$e.useCallback)((e=>{null!==e&&i(e)}),[]);(0,$e.useEffect)((()=>{s?.select()}),[s]);const a=()=>{n((0,He.Ib)())},o=()=>{t(s?.value??""),a()};return(0,lt.jsx)(Ur.c,{contentLabel:c._s.get("playlist.edit-details.title"),shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:a,shouldFocusAfterRender:!0,isOpen:!0,children:(0,lt.jsxs)("div",{"":"playlist-edit-details-modal",className:mk,children:[(0,lt.jsxs)("div",{className:hk,children:[(0,lt.jsx)(Cs.a,{as:"h1",variant:"titleSmall",children:c._s.get("web-player.your-library-x.rename-folder")}),(0,lt.jsx)("button",{className:gk,onClick:a,children:(0,lt.jsx)(sa.K,{size:"medium","aria-label":c._s.get("close")})})]}),(0,lt.jsxs)("form",{className:pk,onSubmit:e=>{e.preventDefault(),o()},children:[(0,lt.jsx)("input",{ref:r,type:"text",defaultValue:e,onSubmit:o,className:xs()(fk,yk)}),(0,lt.jsx)("div",{className:_k,children:(0,lt.jsx)(Es.g,{colorSet:"invertedLight",type:"submit",children:c._s.get("save")})})]})]})})};var vk=n(8484);const xk={macOS:"https://download.scdn.co/SpotifyInstaller.zip",Windows:"https://download.scdn.co/SpotifySetup.exe"},Ck={iOS:"https://app.adjust.com/wp2zrj?adgroup=signup_to_listen&campaign=default&tracker_limit=250000",Android:"https://app.adjust.com/ff0trr?adgroup=signup_to_listen&campaign=default&tracker_limit=250000"},Ek="nA6L5ghQWwxyiSLduNyb",Sk="CgsDbaLb2DCGHkrw4wiw",wk="qp1xbhJfglEmJAWm6pdy",Ik="fFk09sW_YL0Qsk8lYOfD",Ak="BDNNVyxsxgQQvGmij9M1",Tk="ChX5nojraEtlxQULfJFk",kk="XV07akXqG5L_suY2X8ML",Nk="j8qAQ6XAb2YSBUEzUqEV",Ok="xZnbvSzpNSY7qnC6X8Rf",Pk="FZncbwv9M2sxuY27K8YO",jk=(0,$e.memo)((function(){const e=(0,ze.OY)(),t=(0,ze.w1)((e=>e.ui.signupToListenDialog.isOpen)),n=(0,Hc.k)(),s=(0,ze.w1)((e=>e.session.userCountry)),i=(0,ze.w1)((e=>e.features.isPodcastEnabled)),r=(0,ei.w)(),a=(()=>{const e=(0,vk.k)();return Object.keys(xk).includes(e)?xk[e]:Object.keys(Ck).includes(e)?Ck[e]:"https://spotify.com/download"})(),o=(0,ts.mg)();(0,$e.useEffect)((()=>{r({intent:"navigate",type:"view"})}),[r]);const l=(0,$e.useCallback)((()=>{const t={category:"in_app_message",action:"click",label:"dismiss",destination_url:"open.spotify.com",os:(0,v.k)(),country:s,context:window.location.search},n=(0,ps.E)(t);o.send(n),r({intent:"close",type:"click"}),e((0,He.Yd)())}),[e,r,o,s]),d=(0,$e.useCallback)((()=>{const t={category:"in_app_message",action:"click",label:"download",destination_url:a,os:(0,v.k)(),country:s,context:window.location.search},n=(0,ps.E)(t);o.send(n),r({intent:"download",type:"click"}),e((0,He.Yd)()),window.open(a,"_self")}),[e,r,a,o,s]);return(0,lt.jsx)(Ur.c,{animated:!0,isOpen:t,className:Ek,overlayClassName:Sk,contentLabel:c._s.get("s2l.download_spotify"),onRequestClose:l,children:(0,lt.jsxs)("div",{className:wk,children:[(0,lt.jsxs)("div",{className:Ik,children:[(0,lt.jsx)("div",{className:`${Tk}`,children:(0,lt.jsx)("img",{className:kk,alt:"Web Player",src:(0,li.K)(n?"images/s2l-desktopui-rtl.png":"images/s2l-desktopui-ltr.png")})}),(0,lt.jsxs)("div",{className:Ak,children:[(0,lt.jsx)(Cs.a,{as:"h1",variant:"titleSmall",className:Nk,children:c._s.get("s2l.download_spotify")}),(0,lt.jsx)(Cs.a,{as:"p",semanticColor:"textSubdued",className:Ok,children:i?c._s.get("s2l.play_millions_podcasts"):c._s.get("s2l.play_millions")}),(0,lt.jsx)(Es.g,{onClick:d,children:c._s.get("s2l.download")})]})]}),(0,lt.jsx)(Xi.u,{onClick:l,semanticColor:"textBase",className:Pk,children:c._s.get("s2l.dismiss")})]})})})),Lk=(0,$e.memo)((function(){return(0,lt.jsx)(Ni.oL,{value:"signup-to-listen",children:(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(jk,{})})})}));var Rk=n(12344),Dk=n(97031),Mk=n(20952),Uk=n(1232),Fk=n(42224),Bk=n(15320),Gk=n(13072);const Vk=(e,t)=>e.build().withHost(f.YL).withPath(`/v0/experimental/${t}/credits`).withoutMarket().withEndpointIdentifier("/v0/experimental/{trackId}/credits").send();var Hk=n(800);function Wk(e){switch(e){case"Performers":return c._s.get("track-credits.performers");case"Writers":return c._s.get("track-credits.writers");case"Producers":return c._s.get("track-credits.producers");default:return e}}function zk(e){switch(e){case"assistant recording engineer":return c._s.get("track-credits.assistant-recording-engineer");case"engineer":return c._s.get("track-credits.engineer");case"assistant engineer":return c._s.get("track-credits.assistant-engineer");case"trumpet":return c._s.get("track-credits.trumpet");case"guitar":return c._s.get("track-credits.guitar");case"composer and lyricist":return c._s.get("track-credits.composer-and-lyricist");case"associated performer":return c._s.get("track-credits.associated-performer");case"background vocals":return c._s.get("track-credits.background-vocals");case"bass":return c._s.get("track-credits.bass");case"co-producer":return c._s.get("track-credits.co-producer");case"additional engineer":return c._s.get("track-credits.additional-engineer");case"masterer":return c._s.get("track-credits.masterer");case"mixer":return c._s.get("track-credits.mixer");case"recording engineer":return c._s.get("track-credits.recording-engineer");case"accordion":return c._s.get("track-credits.accordion");case"piano":return c._s.get("track-credits.piano");case"organ":return c._s.get("track-credits.organ");case"background vocal":return c._s.get("track-credits.background-vocal");case"recorded by":return c._s.get("track-credits.recorded-by");case"mixing engineer":return c._s.get("track-credits.mixing-engineer");case"editor":return c._s.get("track-credits.editor");case"fiddle":return c._s.get("track-credits.fiddle");case"additional vocals":return c._s.get("track-credits.additional-vocals");case"violin":return c._s.get("track-credits.violin");case"viola":return c._s.get("track-credits.viola");case"percussion":return c._s.get("track-credits.percussion");case"mastering engineer":return c._s.get("track-credits.mastering-engineer");case"composer":return c._s.get("track-credits.composer");case"additional keyboards":return c._s.get("track-credits.additional-keyboards");case"mix engineer":return c._s.get("track-credits.mix-engineer");case"mandolin":return c._s.get("track-credits.mandolin");case"acoustic guitar":return c._s.get("track-credits.acoustic-guitar");case"keyboards":return c._s.get("track-credits.keyboards");case"synthesizer":return c._s.get("track-credits.synthesizer");case"drum programmer":return c._s.get("track-credits.drum-programmer");case"programmer":return c._s.get("track-credits.programmer");case"assistant mixer":return c._s.get("track-credits.assistant-mixer");case"assistant mixing engineer":return c._s.get("track-credits.assistant-mixing-engineer");case"digital editor":return c._s.get("track-credits.digital-editor");case"drums":return c._s.get("track-credits.drums");case"drum programming":return c._s.get("track-credits.drum-programming");case"conga":return c._s.get("track-credits.conga");case"samples":return c._s.get("track-credits.samples");case"audio recording engineer":return c._s.get("track-credits.audio-recording-engineer");case"audio additional mix engineer":return c._s.get("track-credits.audio-additional-mix-engineer");case"recording":return c._s.get("track-credits.recording");case"assistant producer":return c._s.get("track-credits.assistant-producer");case"writer":return c._s.get("track-credits.writer");case"strings":return c._s.get("track-credits.strings");case"music publisher":return c._s.get("track-credits.music-publisher");case"programming":return c._s.get("track-credits.programming");case"music production":return c._s.get("track-credits.music-production");case"background vocalist":return c._s.get("track-credits.background-vocalist");case"producer":return c._s.get("track-credits.producer");case"vocal":return c._s.get("track-credits.vocal");case"songwriter":return c._s.get("track-credits.songwriter");case"lyricist":return c._s.get("track-credits.lyricist");case"additional mixer":return c._s.get("track-credits.additional-mixer");case"upright bass":return c._s.get("track-credits.upright-bass");case"clapping":return c._s.get("track-credits.clapping");case"electric bass":return c._s.get("track-credits.electric-bass");case"horn arranger":return c._s.get("track-credits.horn-arranger");case"flugelhorn":return c._s.get("track-credits.flugelhorn");case"second engineer":return c._s.get("track-credits.second-engineer");case"rhythm guitar":return c._s.get("track-credits.rhythm-guitar");case"bass guitar":return c._s.get("track-credits.bass-guitar");case"electric guitar":return c._s.get("track-credits.electric-guitar");case"dobro":return c._s.get("track-credits.dobro");case"instruments":return c._s.get("track-credits.instruments");case"vocal ensemble":return c._s.get("track-credits.vocal-ensemble");case"recording arranger":return c._s.get("track-credits.recording-arranger");case"arranger":return c._s.get("track-credits.arranger");case"steel guitar":return c._s.get("track-credits.steel-guitar");case"executive producer":return c._s.get("track-credits.executive-producer");case"additional production":return c._s.get("track-credits.additional-production");case"designer":return c._s.get("track-credits.designer");case"assistant mix engineer":return c._s.get("track-credits.assistant-mix-engineer");case"studio musician":return c._s.get("track-credits.studio-musician");case"voice performer":return c._s.get("track-credits.voice-performer");case"orchestra":return c._s.get("track-credits.orchestra");case"chamber ensemble":return c._s.get("track-credits.chamber-ensemble");case"additional percussion":return c._s.get("track-credits.additional-percussion");case"cajon":return c._s.get("track-credits.cajon");case"miscellaneous production":return c._s.get("track-credits.miscellaneous-production");case"backing vocals":return c._s.get("track-credits.backing-vocals");case"pedal steel":return c._s.get("track-credits.pedal-steel");case"additional producer":return c._s.get("track-credits.additional-producer");case"keyboard arrangements":return c._s.get("track-credits.keyboards-arrangements");case"saxophone":return c._s.get("track-credits.saxophone");case"sound engineer":return c._s.get("track-credits.sound-engineer");case"assistant remix engineer":return c._s.get("track-credits.assistant-remix-engineer");case"double bass":return c._s.get("track-credits.double-bass");case"co-writer":return c._s.get("track-credits.co-writer");case"pro tools":return c._s.get("track-credits.pro-tools");case"tape realization":return c._s.get("track-credits.tape-realization");case"ambient sounds":return c._s.get("track-credits.ambient-sounds");case"sound effects":return c._s.get("track-credits.sound-effects");case"harp":return c._s.get("track-credits.harp");case"cymbals":return c._s.get("track-credits.cymbals");case"vocal engineer":return c._s.get("track-credits.vocal-engineer");case"mellotron":return c._s.get("track-credits.mellotron");case"recorder":return c._s.get("track-credits.recorder");case"main artist":return c._s.get("track-credits.main-artist");case"production":return c._s.get("track-credits.production");case"artist":return c._s.get("track-credits.artist");case"vocals":return c._s.get("track-credits.vocals");case"featuring":return c._s.get("track-credits.featuring");case"featured artist":return c._s.get("track-credits.featured-artist");case"work arranger":return c._s.get("track-credits.work-arranger");case"mixing engineers":return c._s.get("track-credits.mixing-engineers");case"re-mixer":return c._s.get("track-credits.re-mixer");case"recording producer":return c._s.get("track-credits.recording-producer");case"co-mixer":return c._s.get("track-credits.co-mixer");case"bells":return c._s.get("track-credits.bells");case"pro tools editing":return c._s.get("track-credits.pro-tools-editing");case"vibraphone":return c._s.get("track-credits.vibraphone");case"additional recording":return c._s.get("track-credits.additional-recording");case"vocal producer":return c._s.get("track-credits.vocal-producer");case"sitar":return c._s.get("track-credits.sitar");case"cello":return c._s.get("track-credits.cello");case"flute":return c._s.get("track-credits.flute");case"horn":return c._s.get("track-credits.horn");case"brass band":return c._s.get("track-credits.brass-band");case"programming and keyboards":return c._s.get("track-credits.programming-and-keyboards");case"all instruments":return c._s.get("track-credits.all-instruments");case"programmed and arranged by":return c._s.get("track-credits.programmed-and-arranged-by");case"additional programmer":return c._s.get("track-credits.additional-programmer");case"recording and mixing":return c._s.get("track-credits.recording-and-mixing");case"engineer and mixer":return c._s.get("track-credits.engineer-and-mixer");case"vocal arranger":return c._s.get("track-credits.vocal-arranger");case"income participant":return c._s.get("track-credits.income-participant");default:return e}}const Yk="main-trackCreditsModal-container",Kk="main-trackCreditsModal-header",qk="main-trackCreditsModal-closeBtn",Qk="main-trackCreditsModal-mainSection",Xk="main-trackCreditsModal-originalCredits",$k="main-trackCreditsModal-sectionTitle",Jk="main-trackCreditsModal-creditsGroup",Zk="main-trackCreditsModal-creditsEntry",eN="main-trackCreditsModal-clickableCreditsEntry",tN="main-trackCreditsModal-sourceNames",nN="main-trackCreditsModal-additionalCredits",sN=(0,$e.memo)((function(){const e=(0,ze.OY)(),{isOpen:t,trackUri:n}=(0,ze.w1)((e=>e.ui.trackCreditsModal)),s=n.split(":"),i=s[s.length-1],{data:r,error:a,loading:o}=(0,Hk.Q)(Vk,[i]),l=(0,$e.useCallback)((()=>{e((0,He.H5)(!1,""))}),[e]),d=(0,ts.mg)(),{isAnonymous:u}=(0,ze.w1)(Rl.cx),{spec:m,logger:p}=(0,Jn.gp)(Gk.createTrackCreditsEventFactory,{data:{uri:n}});return(0,lt.jsx)(Ur.c,{contentLabel:c._s.get("track-credits.label"),isOpen:t,onRequestClose:l,children:!o&&!a&&r&&(0,lt.jsxs)("div",{className:Yk,children:[(0,lt.jsxs)("div",{className:Kk,children:[(0,lt.jsx)(Cs.a,{as:"h1",variant:"titleMedium",children:c._s.get("track-credits.label")}),(0,lt.jsx)("button",{"aria-label":c._s.get("close"),className:qk,onClick:l,children:(0,lt.jsx)(Fr,{width:18,height:18,fill:"white"})})]}),(0,lt.jsxs)("div",{className:Qk,onScroll:u?()=>d.send((0,Bk.E)({track_uri:n})):()=>d.send((0,Fk.f)({track_uri:n})),children:[(0,lt.jsxs)("div",{className:Xk,children:[(0,lt.jsx)(Cs.a,{as:"h2",className:$k,variant:"bodyMediumBold",children:r.body.trackTitle}),r.body.roleCredits.map((e=>{const t=m.creditSectionFactory({identifier:e.roleTitle});return(0,lt.jsxs)("div",{className:Jk,children:[(0,lt.jsx)(Cs.a,{as:"p",variant:"bodySmallBold",children:Wk(e.roleTitle)}),e.artists.length>0?e.artists.map((({name:s,externalUrl:i})=>i?(0,lt.jsx)("a",{href:i,draggable:!1,rel:"noopener noreferrer",onClick:()=>{const r=t.artistNameFactory({identifier:s}).hitNavigateToExternalUri({destination:i});p.logInteraction(r),u?d.send((0,Uk.O)({track_uri:n,clickable_text:s,role:e.roleTitle,external_url:i})):d.send((0,Mk.g)({track_uri:n,clickable_text:s,role:e.roleTitle,external_url:i}))},target:"_blank",className:eN,children:s},s):(0,lt.jsx)(Cs.a,{className:Zk,variant:"bodySmall",semanticColor:"textSubdued",children:s},s))):"-"]},e.roleTitle)})),(0,lt.jsxs)(Cs.a,{as:"p",variant:"bodySmall",children:[c._s.get("track-credits.source"),":"," ",r.body.sourceNames.join(c._s.getSeparator())]})]}),r.body.extendedCredits&&r.body.extendedCredits.length>0&&(0,lt.jsxs)("div",{className:nN,children:[(0,lt.jsx)(Cs.a,{as:"h3",className:$k,variant:"bodyMediumBold",children:c._s.get("track-credits.additional-credits")}),r.body.extendedCredits.map((e=>(0,lt.jsxs)("div",{className:Jk,children:[(0,lt.jsx)(Cs.a,{as:"p",variant:"bodySmallBold",children:zk(e.roleTitle.toLowerCase())}),e.artists.map((t=>(0,lt.jsx)("a",{href:t.url,draggable:!1,rel:"noopener noreferrer",onClick:()=>{u?d.send((0,Dk.y)({track_uri:n,clickable_text:t.name,role:e.roleTitle,external_url:t.url})):d.send((0,Rk.E)({track_uri:n,clickable_text:t.name,role:e.roleTitle,external_url:t.url}))},target:"_blank",className:eN,children:t.name},t.name)))]},e.roleTitle))),(0,lt.jsxs)(Cs.a,{as:"p",variant:"bodySmall",className:tN,semanticColor:"textSubdued",children:[c._s.get("track-credits.source"),":"," ",(0,lt.jsx)("a",{draggable:!1,rel:"noopener noreferrer",target:"_blank",href:"https://soundbetter.com",children:"SoundBetter"})]})]})]})]})})}));var iN=n(68044),rN=n.n(iN),aN=n(31648);function oN(){const e=document.createElement("canvas"),t=e.getContext("2d");return t&&(function(e){e.beginPath(),e.fillStyle="rgb(0, 200, 255)",e.arc(50,50,50,0,2*Math.PI,!0),e.fill(),e.stroke(),e.closePath()}(t),function(e){e.textBaseline="top",e.font="13pt Arial",e.textBaseline="alphabetic",e.fillStyle="rgb(255, 5, 5)",e.rotate(.8),e.fillText("random#$%^@£éú",4,17),e.fillStyle="rgb(165,205,5)",e.shadowBlur=8,e.shadowColor="green",e.fillRect(20,12,105,5)}(t)),e}const lN=()=>{const e=(0,ts.mg)();return(0,$e.useEffect)((()=>{const t=oN().toDataURL("image/png"),n=rN()(t);e.send((0,aN.C)({h:n}))}),[e]),null},cN=()=>{const e=(0,$e.useRef)(!1);return!(0,tt.IP)(_e.EVL)||e.current?null:(e.current=!0,(0,lt.jsx)(lN,{}))};var dN=n(45284),uN=n(64132),mN=n(82156),pN=n(62984);let hN=null;const gN=()=>{const{verificationId:e,refetch:t}=(()=>{const[e,t]=(0,$e.useState)(null),n=(0,ts.mg)(),{isTrustedRef:s,isTrustedFn:i}=(0,Xx.S)(),{data:r,refetch:a,error:o}=(0,Ph.U)({enabled:!1,queryKey:["fetchVerification"],queryFn:async()=>{const e=U.W.getInstance(),{body:t}=await(0,mN.O)(e);return t}});return(0,$e.useEffect)((()=>{r&&r.length>0&&(async()=>{await i();const e=r?.[0].id;t(e),n.send((0,dN.u)({id:e,method:"IN_APP_VERIFICATION_V0",is_trusted:s.current}))})(),o&&n.send((0,uN.w)({method:"IN_APP_VERIFICATION_V0",error_message:o instanceof pN.S?o.name:null,http_method:"get",http_path:"/verifications"}))}),[r,o,n,i,s]),{verificationId:e,refetch:a}})();return(0,Ot.S)(N.AU.UPDATE,(n=>{if(e)return;const s="number"==typeof n?.data?.positionAsOfTimestamp&&n.data.positionAsOfTimestamp>=0&&n.data.positionAsOfTimestamp<=1e3;!n?.data?.isPaused&&s&&function(){const e=performance.now();if(hN&&e-hN<6e5)return!1;return hN=e,!0}()&&t()})),e},fN=(0,$e.lazy)((()=>Promise.all([n.e(8596),n.e(7608)]).then(n.bind(n,87608)))),yN=()=>{const e=(0,tt.IP)(_e.kXQ),[t,n]=(0,$e.useState)(!1),s=gN();return(0,$e.useEffect)((()=>{n(!!s)}),[s]),e&&t?(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(fN,{verificationId:`${s}`})}):null},_N=(0,$e.lazy)((async()=>{const{DsaModal:e}=await Promise.all([n.e(8596),n.e(8036)]).then(n.bind(n,8036));return{default:e}})),bN=$e.memo((({isDesktop:e})=>{const t=(0,tt.IP)(_e.KqP,{loadingValue:!1}),n=(0,ze.w1)((e=>e.ui)),s=(0,$e.useRef)(null);return(0,lt.jsxs)(lt.Fragment,{children:[n.deletePlaylistDialog.isOpen&&(0,lt.jsx)(Ni.oL,{value:"delete-playlist-modal",children:(0,lt.jsx)(WE,{})}),n.deleteFolderDialog.isOpen&&(0,lt.jsx)(Ni.oL,{value:"delete-folder-modal",children:(0,lt.jsx)(UE,{})}),n.removeFromLibraryDialog.isOpen&&(0,lt.jsx)(Ni.oL,{value:"delete-folder-modal",children:(0,lt.jsx)(uk,{})}),n.premiumDialog.isOpen&&(0,lt.jsx)(Ni.oL,{value:"premium-modal",children:(0,lt.jsx)(ck,{})}),n.loginToListenDialog.isOpen&&(0,lt.jsx)(Ni.oL,{value:"login-to-listen-modal",children:(0,lt.jsx)($A,{})}),n.signupToListenDialog.isOpen&&(0,lt.jsx)(Ni.oL,{value:"signup-to-listen-modal",children:(0,lt.jsx)(Lk,{})}),n.improvedSignupPromptDialog.isOpen&&(0,lt.jsx)(_S,{uri:n.improvedSignupPromptDialog.uri}),n.removeDownloadsDialog.isOpen&&(0,lt.jsx)(Pw,{}),n.clearCacheDialog.isOpen&&(0,lt.jsx)(jw,{}),n.renameFolderModal.isOpen&&(0,lt.jsx)(bk,{name:n.renameFolderModal.name,onRename:n.renameFolderModal.handleRename}),n.removeDownloadConfirmationDialog.isOpen&&(0,lt.jsx)(aC,{...n.removeDownloadConfirmationDialog}),n.artistAboutDialog.isOpen&&(0,lt.jsx)(sC,{}),n.yourDJUpsellDialog.isOpen&&(0,lt.jsx)(Ni.oL,{value:"your-dj-upsell-modal",children:(0,lt.jsx)(Qu.MF,{})}),(0,lt.jsx)(LE,{}),(0,lt.jsx)(Ww,{}),(0,lt.jsx)(Fw,{}),(0,lt.jsx)(ww,{}),(0,lt.jsx)(AS,{}),t&&n.dsaDialog.isOpen&&n.dsaDialog.item&&(0,lt.jsx)(_N,{item:n.dsaDialog.item}),(0,lt.jsx)(yN,{}),(0,lt.jsx)(cN,{}),(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(nk,{})}),(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(LC,{})}),(0,lt.jsx)(tC.SC,{}),(0,lt.jsx)(aA,{}),(0,lt.jsx)(LA,{}),(0,lt.jsx)(XI,{}),e&&(0,lt.jsx)(ZI,{}),(0,lt.jsx)(OI,{}),(0,lt.jsx)(NS.k,{languageSelectionModalRef:s}),(0,lt.jsx)(xI,{}),(0,lt.jsx)(qE,{}),(0,lt.jsx)(YE,{}),(0,lt.jsx)(zI,{}),(0,lt.jsx)(TA,{}),(0,lt.jsx)(kS,{}),(0,lt.jsx)(DE,{}),(0,lt.jsx)(Cw,{}),(0,lt.jsx)(pA,{}),(0,lt.jsx)(tI,{}),n.trackCreditsModal.isOpen&&(0,lt.jsx)(sN,{}),(0,lt.jsx)("div",{ref:s})]})}));var vN=n(72199),xN=n(8196);var CN=n(46432),EN=n(52e3);const SN="nRSfonXHVr6utXYgk2Ui",wN="jdlOKroADlFeZZQeTdp8",IN="voA9ZoTTlPFyLpckNw3S",AN="Rb1L5Z6iOY8pjPbUntRb",TN="bWBqSiXEceAj1SnzqusU",kN="Z6t_8rA6LOBrX3huqRJG",NN="upjpHllgCHCBanA5L2Xp",ON="W02pQCvfy5Bin7z4EAzo",PN="QrpHSphgBSqzODEHqr_t",jN="Vz88b55x5TQF77giLD7y",LN="cUwQnQoE3OqXqSYLT0hv",RN=({className:e})=>{const{spec:t,logger:n}=(0,Jn.gp)(Mp.M,{}),s=(0,Gt.i6)(),i=(0,xo.Iz)(),r=(0,Gt.IT)(),a="/"===r.pathname||"/home"===r.pathname;return(0,lt.jsx)($i.Yl,{label:c._s.get("view.web-player-home"),children:(0,lt.jsx)(Xi.u,{iconOnly:a?CN.Y:EN.C,className:xs()(e,wN,LN,{[IN]:a}),"aria-label":c._s.get("view.web-player-home"),"":"home-button",onClick:()=>{const e=t.homeButtonFactory().hitUiNavigate({destination:"spotify:app:home"});a?i.current?.scrollTo({top:0,behavior:"smooth"}):(n.logInteraction(e),s("/"))}})})};var DN=n(15700),MN=n(35660),UN=n(29692),FN=n(97936),BN=n(30084),GN=n(25420),VN=n(12352);const HN="PvsV2JgJRDME1vDn6IJL",WN="OzDqqSRYfNaN9Dh4fdXf",zN="fksI89zEXwqKWm1O6sJm",YN="N6v0Yd0FuWkU4co7Rgli",KN="Y8Mmhwfig0n1DHqUTar5",qN="fNLZLfnP8w7xlCudcDqB",QN="kfqNeTKszdMyOvV4Lxjw",XN=({onSearch:e,handleSubmit:t,handleChange:n,handleKeyDown:s,handleFocus:i,handleClear:r,onLeadingIconClick:a,inputRef:o,value:l})=>{const{spec:d,logger:u}=(0,Jn.gp)(Mp.M,{}),m=(0,Gt.i6)(),p="/search"===(0,Gt.IT)().pathname,h=-1===o.current?.tabIndex;return(0,lt.jsx)("div",{className:HN,children:(0,lt.jsx)(FN.U,{className:xs()(zN),onClick:a,value:l,iconLeading:(0,lt.jsx)($i.Yl,{label:c._s.get("navbar.search"),children:h?(0,lt.jsx)(Xi.u,{className:YN,condensed:!0,iconOnly:jS.O,"aria-label":c._s.get("navbar.search"),onClick:a}):(0,lt.jsx)(jS.O,{className:YN,"aria-hidden":!0,size:"xlarge"})}),iconTrailing:""!==l?(0,lt.jsx)($i.Yl,{label:c._s.get("search.a11y.clear-input"),children:(0,lt.jsx)(Xi.u,{className:qN,condensed:!0,iconOnly:sa.K,"aria-label":c._s.get("search.a11y.clear-input"),onClick:r})}):(0,lt.jsx)("div",{className:QN,children:(0,lt.jsx)($i.Yl,{label:c._s.get("browse"),children:(0,lt.jsx)(Xi.u,{condensedAll:!0,iconOnly:p?BN.e:GN.C,"aria-label":c._s.get("browse"),onClick:e=>{const t=d.browseButtonFactory().hitUiNavigate({destination:"spotify:app:search"});u.logInteraction(t),e.preventDefault(),e.stopPropagation(),m("/search",{state:{fromBrowse:!0}})},className:p?WN:""})})}),children:(0,lt.jsx)("form",{onSubmit:t,role:"search",children:(0,lt.jsx)(VN.g,{"":"search-input",className:KN,type:"text",placeholder:e?c._s.get("search.search-for-label"):c._s.get("navbar.search"),value:l,ref:o,onKeyDown:s,onFocus:i,onChange:n})})})})};var $N=n(2568);const JN=$e.memo((function({isSearchChipsEnabled:e=!1,onSearch:t=!0,onClick:n,onLeadingIconClick:s,inputRef:i}){const r=(0,Gt.IT)(),a=(0,Gt.i6)(),o=(0,$e.useRef)(null),l=i||o,c=(0,$e.useRef)(null),u=(0,ze.OY)(),[{category:m,query:p},h]=(0,$N.k)(),[g,f]=(0,$e.useState)(p),y=!!m,_=(0,xo.Iz)(),b=r.pathname.startsWith("/recent-searches"),v=y||b,{spec:x,logger:C}=(0,Jn.gp)(UN.createDesktopSearchInputEventFactory,{}),E=(0,Sr.yK)(((t,n,s)=>{let i;if(s){const{interactionId:e}=C.logInteraction(s);i=e}e?h(t,m,!1,i):h(t,null,n,i),_.current&&(_.current.scrollTop=0)}),200),S=(0,$e.useCallback)(((e=!1)=>{l.current!==document.activeElement&&(c.current=document.activeElement,l.current&&l.current.focus()),e&&l.current?.select()}),[l]);(0,d.GU)(d.ak.SHOW_SEARCH,(()=>S(!0)));const w=r.pathname.startsWith("/search"),I=r?.state?.fromBrowse||!1;(0,$e.useEffect)((()=>{!v&&t&&w&&!I&&(e&&p||S())}),[p,S,r.key,t,w,v,e,I]),(0,$e.useEffect)((()=>{w||f("")}),[w,p]);return(0,lt.jsx)(XN,{inputRef:l,onClick:n,onSearch:t,onLeadingIconClick:s,value:g,handleSubmit:e=>{e.preventDefault(),g&&C.logInteraction(x.keyStrokeSearch());const t=(0,O.nX)(g);if(t?.type===O.cH.AD){const e=(0,O.Wq)(t.id);if(t.id===e)return;u((0,wo.eg)(t.id))}else t?a(t.toURLPath(!0),{state:{preventMoveFocus:!0,redirectToHome:(0,O.GK)(t)}}):g||a("/search",{state:{preventMoveFocus:!0}});g&&_.current?.querySelector("h1, h2, h3, h4")?.focus()},handleChange:e=>{const t=e.currentTarget.value,n=x.keyStrokeChangeSearchQuery({searchQueryString:t});f(t),E(t,v,n)},handleKeyDown:e=>{if("Escape"===e.key)if(g){const e=x.hitTextClear();f(""),E("",v,e)}else l.current&&l.current.blur(),c.current instanceof HTMLElement&&c.current.focus()},handleFocus:()=>{e||!v&&t||E(g,v,null)},handleClear:()=>{l.current&&l.current.focus();const e=x.hitTextClear();f(""),E("",v,e)}})}));var ZN=n(86904);const eO=e=>{if(!e.current)return!1;return e.current.offsetWidth>400},tO=e=>!!e.current&&(e.current===document.activeElement||""!==e.current.value),nO=(e,t)=>!!e.current&&(e.current.offsetLeft<=t&&t<=e.current.offsetLeft+e.current.offsetWidth),sO=e=>{const{spec:t,logger:n}=(0,Jn.gp)(Mp.M,{}),s=(0,Gt.IT)(),i=(0,Gt.i6)(),r=(0,$e.useContext)(d.kL),a=(0,DN.m)(),o=(0,tt.IP)(_e.ct1);(0,$e.useEffect)((()=>(r.setTitlebarHeight(MN.y),()=>{r.setTitlebarHeight(MN.M)})),[r]);const[l,c]=(0,$e.useState)(!1),[u,m]=(0,$e.useState)(!1),[p,h]=(0,$e.useState)(!1),g=(0,$e.useRef)(null),f=(0,$e.useRef)(null),y=(0,$e.useRef)(null),_=(0,$e.useRef)(null),b=(0,$e.useRef)(null),v=(0,$e.useRef)(null),x=(0,$e.useRef)(!1);(0,$e.useEffect)((()=>{f.current&&(f.current.tabIndex=u&&!p?-1:0)}),[u,p]);const C=(0,$e.useCallback)((({width:e})=>{e&&(v?.current&&e!==v.current&&(x.current=e>v.current),v.current=e),((e,t,n,s,i)=>{if(!n.current||!t.current||!e.current)return;const r=n.current,a=Math.max(350,Math.min(546,.5*r.offsetWidth)),o=nO(e,r.offsetWidth/2-a/2)||nO(e,r.offsetWidth/2+a/2)||nO(t,r.offsetWidth/2-a/2)||nO(t,r.offsetWidth/2+a/2);s!==o&&i(o)})(y,_,b,l,c),((e,t,n,s)=>{e.current&&(eO(e)&&!0===t&&n?s(!1):eO(e)||!1!==t||n||s(!0))})(g,x.current,u,m),((e,t,n)=>{e.current&&tO(e)&&(t||n(!0))})(f,p,h)}),[p,u,l]);var E,S,w;(0,kg.m)({refOrElement:b,onResize:C}),E=_,S=()=>{b.current&&C({width:null})},w={subtree:!0,childList:!0},(0,$e.useEffect)((()=>{if(E.current){const e=new MutationObserver(S);return e.observe(E.current,w),()=>e.disconnect()}return()=>{}}),[E,S,w]);const I=(0,$e.useCallback)((()=>{if(!s.pathname.startsWith("/search")){const e=t.searchInputFactory().hitUiNavigate({destination:"spotify:app:search"});n.logInteraction(e),i("/search",{state:{preventMoveFocus:!0}})}}),[t,n,s,i]),A=(0,$e.useCallback)((e=>{e?.preventDefault(),e?.stopPropagation(),tO(f)||h(!p),(u&&!p||!u)&&(f.current?.focus(),I())}),[p,u,I]),T=o===_e.c$p.CONTROL?ZN.o:JN;return(0,lt.jsxs)("div",{className:xs()(SN,e.className,{[jN]:l||u,searchInputCollapsed:u,forceExpandSearchInput:p}),ref:b,children:[(0,lt.jsxs)("div",{className:kN,ref:y,children:[a?(0,lt.jsx)(vN.cH,{to:"/",className:NN,children:(0,lt.jsx)(xN.k,{height:32,condensed:!0})}):(0,lt.jsx)(Cy,{responsive:!1,className:LN}),o===_e.c$p.HOME_NEXT_TO_NAVIGATION&&(0,lt.jsx)(RN,{className:TN})]}),(0,lt.jsx)("div",{className:ON,children:(0,lt.jsxs)("div",{className:PN,ref:g,children:[o===_e.c$p.HOME_NEXT_TO_SEARCH&&(0,lt.jsx)(RN,{className:AN}),(0,lt.jsx)(T,{inputRef:f,onLeadingIconClick:A,onClick:I,onSearch:!0,isSearchChipsEnabled:!0})]})}),(0,lt.jsx)(fy,{className:LN,ref:_})]})};var iO=n(57080);const rO=e=>{const{accessTokenIsSet:t,onClose:n,onBrowserNotSupported:s,onCloseFullscreenMode:i,onReachUsableState:r,isVideoSupported:a,isDesktop:o,billboardMinimized:l,isDeveloperMode:p,adsEnabled:h,children:g}=e,f=(0,$e.useContext)(d.kL),y=(0,u.SM)()===m.q.Desktop,_=(0,$e.useRef)(null),b=(0,$e.useRef)(null),v=(0,$e.useRef)(null),x=(0,$e.useRef)(null),E=(0,$e.useRef)(null),S=(0,$e.useRef)(null),w=(0,$e.useRef)(null),I=(0,$e.useRef)(null),A=(0,$e.useRef)(null),k=(0,$e.useRef)(null),N=(0,$e.useRef)(null),O=Kx(),P=(0,Bp.u)(),j=(0,tt.IP)(_e.Sw),L=(0,Gt.IT)(),R=!y&&"/lyrics"!==L.pathname;var D;(e=>{const t=(0,Gt.i6)();(0,$e.useEffect)((()=>{const n=n=>{e&&(3===n.button?t(-1):4===n.button&&t(1))};return document.addEventListener("mouseup",n),()=>{document.removeEventListener("mouseup",n)}}),[e,t])})(y),D=!p,(0,$e.useEffect)((()=>{if(!D)return;const e=e=>{const t=e.target;["INPUT","TEXTAREA"].includes(t.tagName)||e.preventDefault()};return document.addEventListener("contextmenu",e),()=>{document.removeEventListener("contextmenu",e)}}),[D]),(({onBrowserNotSupported:e,onReachUsableState:t})=>{(0,$e.useEffect)((()=>{const n=C().getParser(window.navigator.userAgent);n.satisfies({chrome:"<62"})||n.satisfies({edge:"<16"})?e(c._s.get("browser_upgrade_notice",n.getBrowserName())):t("home")}),[e,t])})({onBrowserNotSupported:s,onReachUsableState:r}),(0,Hl.S6)();const{handleDrop:M,handleDragStart:U,handleDragEnd:F,handleDragOver:B}=(()=>{const e=(0,$e.useCallback)((e=>{e.preventDefault(),document.body.removeAttribute("data-dragging-type")}),[]),t=(0,$e.useCallback)((e=>{document.body.removeAttribute("data-dragging-type")}),[]),n=(0,$e.useCallback)((e=>{e.preventDefault()}),[]);return{handleDrop:e,handleDragStart:(0,$e.useCallback)((e=>{e.target instanceof Element&&"true"!==e.target.getAttribute("draggable")&&(e.preventDefault(),e.stopPropagation())}),[]),handleDragEnd:t,handleDragOver:n}})();(0,Cx.Q)(),$x(),(()=>{const e=(0,tt.IP)(_e.We,{loadingValue:null}),t=(0,ts.mg)();(0,$e.useEffect)((()=>{if(!e)return;const n=({blockedURI:e,documentURI:n,originalPolicy:s,statusCode:i,violatedDirective:r,sample:a,referrer:o,sourceFile:l})=>{const c={blockedURI:e,documentURI:n,originalPolicy:s,statusCode:i,violatedDirective:r,sample:a,referrer:o,sourceFile:l};t.send((0,Ex.s)({violation:JSON.stringify(c)}))};return window.addEventListener(Sx,n),()=>{window.removeEventListener(Sx,n)}}))})(),(()=>{const e=(0,Ze.q$)();(0,Vn.wv)((()=>{e.invalidateQueries({queryKey:["useAddToPlaylistListData"]})}))})(),(()=>{const e=(0,$e.useRef)(!0),t=(0,fg.w)(),n=(0,Ze.q$)();(0,$e.useEffect)((()=>{e.current?e.current=!1:(n.invalidateQueries(),n.removeQueries({type:"inactive"}))}),[t,n])})(),(0,$e.useEffect)((()=>{window&&window.history&&window.history.scrollRestoration&&(window.history.scrollRestoration="manual")}),[]),(0,$e.useEffect)((()=>{f.notifyReadyStateReached()}),[f]);const G=(0,$e.useMemo)((()=>[(0,lt.jsx)(kp,{scrollNodeRef:k,scrollNodeChildRef:N}),(0,lt.jsx)(yy.u,{}),(0,lt.jsx)(Ba.yy,{mainLandmarkRef:b,lyricsCinemaRef:S,leftSidebarRef:A,nowPlayingBarRef:x}),(0,lt.jsx)(Mo,{}),(0,lt.jsx)(Rs.K,{}),(0,lt.jsx)(qs,{}),(0,lt.jsx)(Np.i,{}),(0,lt.jsx)(jp,{}),(0,lt.jsx)(Lp.ek,{}),(0,lt.jsx)(qv.ER,{}),(0,lt.jsx)(Rx.g,{instance:O}),(0,lt.jsx)(qx.s,{domRootRef:I}),(0,lt.jsx)(iO.Y,{})]),[O]),V=(0,ze.w1)((e=>e.ui.unsupportedBrowser));return(0,lt.jsxs)(ns,{providers:G,children:[(0,lt.jsxs)("div",{"":"root",className:xs()("Root","encore-dark-theme","encore-layout-themes",{"vertical-metrics":j,"global-nav":P}),style:{"--panel-gap":`${ii.In}px`},onDrop:M,onDragOver:B,onDragStart:U,onDragEnd:F,ref:_,children:[(0,lt.jsx)(qo,{message:V.isOpen?V.message:null,allowHTML:!0,onClose:n,isNotSupported:!0}),(0,lt.jsxs)(ax,{children:[P&&(0,lt.jsx)(sO,{}),(0,lt.jsxs)(dx,{children:[(0,lt.jsx)(px,{}),(0,lt.jsx)(Ip,{elementRef:A})]}),(0,lt.jsx)(xx,{children:(0,lt.jsx)(_p,{})}),(0,lt.jsxs)(gx,{children:[(0,lt.jsx)(Ni.oL,{value:"top-bar",children:(0,lt.jsx)(Ay,{})}),(0,lt.jsxs)("div",{className:"main-view-container",children:[(0,lt.jsx)("div",{className:"under-main-view"}),(0,lt.jsxs)(Bc.G,{className:"main-view-container__scroll-node",ref:e=>{e&&!k.current&&(k.current=e.osInstance().getElements().viewport)},options:{sizeAutoCapable:!1},children:[!P&&(0,lt.jsx)("div",{className:"main-view-container__scroll-node-child-spacer"}),(0,lt.jsx)("div",{ref:N,className:xs()("main-view-container__scroll-node-child"),style:{minHeight:"calc(100vh - 64px - 90px - 519px)"},children:(0,lt.jsx)(Ly,{ref:b,children:(0,lt.jsxs)(Ke.a,{FallbackComponent:()=>(0,lt.jsx)(bp._,{}),onError:e=>(0,T.gh)(e,"Root"),children:[g,R&&(0,lt.jsx)("div",{className:"main-view-container__mh-footer-container",children:(0,lt.jsx)(Kv,{})})]})})})]}),a&&(0,lt.jsx)(Ro,{fullscreenModeRef:w,cinemaModeRef:E,npbVideoAdRef:v})]}),(0,lt.jsx)(Wv,{}),t&&h&&(0,lt.jsx)(na,{}),o&&(0,lt.jsx)("div",{className:xs()("",{"Root__ads-container-desktop--is-hidden":!l}),children:(0,lt.jsx)(qr,{})}),(0,lt.jsx)("div",{className:"Root__modal-slot"})]}),(0,lt.jsx)(bx,{children:(0,lt.jsx)($e.Suspense,{fallback:null,children:(0,lt.jsx)(Mv,{})})}),(0,lt.jsx)("div",{id:"lyrics-cinema",className:"Root__lyrics-cinema",ref:S}),(0,lt.jsx)(lx,{ref:E}),(0,lt.jsx)(lx,{ref:I}),(0,lt.jsx)(yx,{children:(0,lt.jsx)("div",{className:"VTO__modal-slot"})})]}),(0,lt.jsx)(bN,{isDesktop:o}),(0,lt.jsx)(Ke.a,{onError:e=>{i(),(0,T.gh)(e,"FullscreenMode")},children:(0,lt.jsx)(Ar,{videoRef:w})}),(0,lt.jsx)(Lx,{}),(0,lt.jsx)(eC,{pipInstance:O})]}),(0,lt.jsx)(Ls,{})]})},aO=function({children:e}){const t=(0,Gt.i6)(),n=(0,Gt.IT)(),s=(0,ze.OY)(),i=(0,ts.eq)(),r=(0,ze.w1)((e=>e.session.accessToken)),a=(0,ze.w1)((e=>e.ui.errorPage)),o=(0,$e.useContext)(d.kL),l=(0,ze.w1)((e=>e.platform.isDesktop?e.ads.root.adsEnabled:!!e.session.productState&&1===parseInt(e.session.productState.ads,10))),c=(0,ze.w1)((e=>!!e.ads.billboard&&e.ads.billboard.isMinimized)),{isDesktop:u,isDeveloperMode:m,isVideoSupported:p}=(0,ze.w1)((e=>e.platform)),h=a.isError,g=a.name,f=!!r;(0,$e.useEffect)((()=>{s(He.Yj())}),[s]),(0,$e.useEffect)((()=>{o.notifyViewLoaded(n.pathname)}),[o,n.pathname]);const y=(0,jg.A)();(0,$e.useEffect)((()=>{_s({locationSearch:n.search,navigate:t,logDialog:()=>{i.getEventSender().send(ys(y,{os:(0,v.k)()}))},showDialog:()=>{s(He.Q9())}})}),[s,n.search,t,i,y]),(0,$e.useEffect)((()=>{ms({isPremiumUser:!1,locationSearch:n.search,navigate:t,logNavigation:()=>i.getEventSender().send((0,ds.m)({category:"open",action:"pageview",label:"login",destination_url:"open.spotify.com",os:(0,v.k)()})),showDialog:()=>{s(He.YX())}})}));const _=(0,$e.useContext)(d.kL),b=(0,$e.useCallback)((e=>{_.notifyUsableStateReached(e)}),[_]),x=(0,$e.useCallback)((()=>{s(He.i2())}),[s]),C=(0,$e.useCallback)((e=>{s(He.AX(e))}),[s]),E=(0,$e.useCallback)((()=>{s(He.SQ())}),[s]);return h?(0,lt.jsx)(Ns,{errorName:g}):(0,lt.jsx)(rO,{billboardMinimized:c,isVideoSupported:p,onReachUsableState:b,accessTokenIsSet:f,onClose:x,onBrowserNotSupported:C,onCloseFullscreenMode:E,isDesktop:u,isDeveloperMode:m,adsEnabled:l,children:e})};var oO=n(46736);const lO="auth_redirect";function cO(e,t){return t?`spotify:playlist-format:${e}:${t}`:`spotify:playlist-format:${e}`}const dO={uri:null,error:null};function uO(e,t){switch(t.type){case"SUCCESS":return{...e,uri:t.uri};case"FAILURE":return{...e,error:t.error};default:throw new Error}}const mO=({isAnonymous:e,playlistFormatURI:t})=>{const n=(0,$e.useContext)(Vn.Iv),[s,i]=(0,$e.useReducer)(uO,dO);if((0,$e.useEffect)((()=>{e&&window.location.hash!==`#${lO}`?(window.location.hash=lO,(0,Se.KS)()):n.resolvePlaylistFormatURI(t).then((e=>i({type:"SUCCESS",uri:e}))).catch((e=>i({type:"FAILURE",error:e})))}),[n,e,t,i]),null!==s.uri){const e=(r=s.uri,(0,O.nX)(r).id);return(0,lt.jsx)(oO.InstrumentedRedirect,{to:`/playlist/${e}`})}var r;return(0,lt.jsx)(cs.K,{hasError:null!==s.error,errorMessage:c._s.get("error.not_found.title.playlist"),timeoutInMs:5e3})},pO=$e.memo((function({isAnonymous:e}){const{title:t="",category:n}=(0,Gt.W4)();return(0,lt.jsx)(mO,{isAnonymous:e,playlistFormatURI:cO(t,n)})}));var hO=n(30348),gO=n(33096),fO=n(66872),yO=n(64668),_O=n(20751),bO=n(44712);const vO=(0,$e.lazy)((()=>n.e(1852).then(n.bind(n,39872)))),xO=(0,$e.lazy)((()=>n.e(8564).then(n.bind(n,28868))));var CO=n(55652);const EO=(0,$e.lazy)((()=>n.e(364).then(n.bind(n,95284)))),SO=(0,$e.lazy)((()=>n.e(8564).then(n.bind(n,28868))));function wO(e){const{isShowSponsorsEnabled:t}={isShowSponsorsEnabled:(0,tt.IP)(_e.sjj)},n=(0,tt.IP)(_e.KY5,{loadingValue:!1});if(t&&n){const e=(0,CO._)(fO.im);return{allShowSponsorsRoute:t&&n?(0,lt.jsx)(Gt.kX,{path:e,element:(0,lt.jsx)(SO,{surface:bO.g9.PODCAST_SEE_ALL})},"all-show-leavebehinds"):null}}return{allShowSponsorsRoute:t?(0,lt.jsx)(Gt.kX,{path:(0,CO._)(fO.im),element:(0,lt.jsx)(EO,{...e})},"all-show-sponsors"):null}}function IO(){const e=(0,Gt.IT)(),t=`/${(0,Gt.W4)()["*"]??""}${e.search}`,n=e.pathname+e.search;return(0,lt.jsx)(Gt.YX,{to:t===n?`/${e.search}`:t,replace:!0})}var AO=n(53272),TO=n(12368),kO=n(71344);const NO=()=>{const e=(0,Gt.IT)(),{uri:t}=e.state,n=bO.g9.MUSIC_SEE_ALL,{data:s,error:i,getLeavebehinds:r}=(0,TO.c)({surface:n,uri:t});if((0,$e.useEffect)((()=>{r()}),[]),!s?.leavebehindAds||i)return null;const a=(0,kO.YZ)(s,t);return(0,lt.jsx)("div",{className:"contentSpacing",children:(0,lt.jsx)(AO.E,{leavebehinds:a.slice(0,kO.gj),surface:n,uri:t})})},OO=(0,$e.lazy)((()=>Promise.all([n.e(8596),n.e(7712)]).then(n.bind(n,41492)).then((e=>({default:e.AlbumPrerelease})))));var PO=n(8802);const jO=e=>(0,lt.jsx)(PO.I,{pageId:_b.eA.PRERELEASE,children:e}),LO=()=>{const{id:e}=(0,Gt.W4)();if(!e)return jO((0,lt.jsx)(cs.K,{hasError:!0,errorMessage:c._s.get("error.not_found.title.album")}));const t=(0,O.yc)(e);return jO((0,lt.jsx)(OO,{uri:t.toString()},e))},RO=()=>(0,tt.IP)(_e.AVm,{loadingValue:!1})?(0,lt.jsx)(Gt.kX,{path:"/prerelease/:id",element:(0,lt.jsx)(LO,{})},"album-prerelease"):(0,lt.jsx)(Gt.kX,{path:"/prerelease/:id",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"})},"album-prerelease");var DO=n(77472);const MO=e=>`spotify:cultural-moment:hub:${e}`,UO=$e.lazy((()=>Promise.all([n.e(8596),n.e(5832)]).then(n.bind(n,74776)))),FO=()=>{const{id:e=""}=(0,Gt.W4)();return(0,lt.jsx)(UO,{uri:MO(e),id:e})};var BO=n(47824),GO=n(92628),VO=n(30312),HO=n(39628),WO=n(41264);const zO=()=>{const e=(0,Gt.IT)();return new URLSearchParams(e.search).get("facet")||""};var YO=n(91128);const KO="f59DF4qQ_FphIrVeRYkI",qO="rX_OmqCngvY5ZCoYBZgb",QO="zyeJ9w99yrvGokL3BsMc",XO="fDhpniKuH2iCAIc_ZUeL",$O="zbU90jX5VWUhVlpUda7B",JO=({filterChips:e})=>{const t=(0,Gt.i6)(),n=zO(),{spec:s,logger:i}=(0,Jn.gp)(VO.C,{data:{identifier:"home",uri:n?`spotify:home?facet=${n}`:"spotify:home"}}),r=e.flatMap((e=>e.id&&"wrapped-chip"!==e.id?{id:e.id,getName:()=>e.label?.originalLabel?.baseText?.text??"",ubiId:e.id}:[])),a=(0,$e.useCallback)((e=>{const r=s.homeSubfeedsFactory();if(e&&e!==n){const n=r.filterChipFactory({identifier:e});i.logInteraction(n.hitFilter()),t(`/home?facet=${e}`)}else{const e=r.filterChipFactory({identifier:"all"});i.logInteraction(e.hitFilter()),t("/")}}),[s,i,t,n]),o=(0,Sr.yK)(a,100,{leading:!0,trailing:!1});return(0,lt.jsx)("div",{className:$O,children:(0,lt.jsxs)(YO.E,{ariaLabel:c._s.get("home.filters"),children:[(0,lt.jsx)(GO.a,{"aria-label":c._s.get("search.title.all"),selectedColorSet:"invertedLight",onClick:()=>o(null),selected:""===n,children:c._s.get("search.title.all")},"all"),r.map((e=>(0,lt.jsx)(GO.a,{"aria-label":e.getName(),selectedColorSet:"invertedLight",onClick:()=>o(e.id),selected:Boolean(n&&n===e.id),children:e.getName()},e.id)))]})})},ZO=()=>{const e=(0,tt.IP)(_e.WAO),t=Rp(),n=(0,xo.Iz)(),{ref:s,inView:i}=(0,Wp.cD)({initialInView:!0,threshold:[1],rootMargin:`-${ii.QJ}px 100%`,root:n.current}),r=void 0!==t,a=(0,Gt.IT)(),o=new URLSearchParams(a.search).get("pCountry"),l=(0,ze.w1)(Xo.SS),{data:c,loading:d,error:u}=(0,HO.Kq)({timeZone:(0,WO.NJ)(),sp_t:(0,R.Ij)("sp_t")??"",country:o??l},{gcTime:WO.QR,staleTime:WO.AD});return d?(0,lt.jsx)("div",{className:xs()($O,"contentSpacing"),children:(0,lt.jsx)(CE.O,{as:"h2",variant:"titleMedium",charCount:25,isLoading:!0})}):u||!c||"HomeResponsePayload"!==c.home?.__typename?null:e?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)("div",{ref:s}),(0,lt.jsxs)("div",{className:KO,children:[(0,lt.jsx)("div",{className:xs()({[XO]:!i,[QO]:r},qO),style:{backgroundColor:t}}),(0,lt.jsx)(JO,{filterChips:c.home.homeChips})]})]}):null};var eP=n(62856),tP=n(90496),nP=n(72544),sP=n(54088),iP=n(91232),rP=n(1220),aP=n(16540);const oP="audiobooks-chip",lP=(0,$e.memo)((({cardCount:e})=>(0,lt.jsx)("section",{children:(0,lt.jsx)("div",{className:aP.c.home,children:(0,lt.jsxs)("div",{className:xs()(aP.c.content,"contentSpacing"),children:[(0,lt.jsx)(eP.i,{withTitle:!1}),(0,lt.jsx)(rP.w,{showAll:!0,cardCount:e,withTitle:!1})]})})}))),cP=()=>{const e=zO(),t=[],n=(0,Gt.IT)(),s=new URLSearchParams(n.search).get("pCountry"),i=(0,ze.w1)(Xo.SS),{data:r,fetching:a,error:o}=(0,HO.ys)({timeZone:(0,WO.NJ)(),sp_t:(0,R.Ij)("sp_t")??"",facet:e,country:s??i},{gcTime:WO.QR,staleTime:WO.AD}),{spec:l}=(0,Jn.gp)(VO.C,{data:{identifier:"home",uri:`spotify:home?facet=${e}`}}),d=r?.home;if(a)return(0,lt.jsx)(lP,{cardCount:50});if(null!==o)return(0,lt.jsx)(cs.K,{hasError:!0,errorMessage:c._s.get("error.generic")});if("HomeResponsePayload"!==d?.__typename)return(0,lt.jsx)(cs.K,{hasError:!0,errorMessage:c._s.get("error.generic")});if(0===d.sectionContainer.sections.items.length)return(0,lt.jsx)(cs.K,{hasError:!0,errorMessage:c._s.get("error.generic")});d.sectionContainer.sections.items.forEach((e=>{"HomeFeedBaselineSectionData"===e.data?.__typename&&t.push(e.sectionItems.items[0])}));const u=d.sectionContainer.sections.items.find((e=>t=>"HomeShortsSectionData"===t.data?.__typename||"spotify:section:0JQ5DAnM3wGh0gz1MXnu3N"===t.uri&&"podcasts-chip"===e||"spotify:section:0JQ5DAnM3wGh0gz1MXnucs"===t.uri&&e===oP)(e));return(0,lt.jsx)("section",{"":"home-subfeed-page",className:aP.c.subfeedSection,children:(0,lt.jsxs)("div",{className:xs()(aP.c.content,"contentSpacing"),children:[u&&(0,lt.jsx)(iP.O,{spec:l,greeting:null,section:(0,nP.g)(u,u.data)}),(0,lt.jsx)(Jn.Ud,{spec:l.shelvesFactory(),children:(0,lt.jsx)(tP.c,{title:"",showAll:!0,index:0,id:"subfeed-cards",rowGap:S_.Gw,children:t.map(sP.u)})})]})})},dP=(0,$e.lazy)((()=>Promise.all([n.e(8596),n.e(3456)]).then(n.bind(n,45324)))),uP=(0,$e.lazy)((()=>n.e(7776).then(n.bind(n,53720)))),mP=(0,$e.lazy)((()=>Promise.all([n.e(8596),n.e(624)]).then(n.bind(n,67772)))),pP=(0,$e.lazy)((()=>n.e(8872).then(n.bind(n,20032)))),hP=()=>{const{sectionId:e}=(0,Gt.W4)();return(0,lt.jsx)(pP,{uri:`spotify:section:${e}`})},gP=({isDesktop:e,isPremium:t,isOffline:n})=>(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(tx,{}),e&&(0,lt.jsx)(dP,{}),e&&t&&n&&(0,lt.jsx)(uP,{}),!n&&(0,lt.jsx)(mP,{})]}),fP=({isDesktop:e,isPremium:t,isOffline:n})=>(0,lt.jsxs)(lt.Fragment,{children:[e&&t&&n&&(0,lt.jsx)(uP,{}),!n&&(0,lt.jsx)(mP,{})]}),yP=({isDesktop:e,isOffline:t})=>{const n=zO()!==oP;return(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(tx,{}),e&&n&&(0,lt.jsx)(dP,{}),!t&&(0,lt.jsx)(ZO,{}),(0,lt.jsx)(Gt.yY,{})]})},_P="/launch-miniplayer",bP=()=>{const{open:e,isOpen:t,canOpen:n}=(0,Tx.s)();return(0,$e.useCallback)((()=>{n&&!t&&e()}),[n,t,e])},vP=()=>{const e=bP();return(0,$e.useEffect)((()=>{e()}),[e]),(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"})};var xP=n(89740);const CP=$e.lazy((()=>n.e(6556).then(n.bind(n,61808)))),EP=$e.lazy((()=>n.e(2156).then(n.bind(n,47656)))),SP=({queueView:e})=>{const t=(0,un.E5)(),{openQueue:n}=(0,sl.G)();return(0,$e.useLayoutEffect)((()=>{(e!==fb.S.HISTORY||t)&&n(e)}),[]),null},wP=()=>(0,tt.IP)(_e.imM,{loadingValue:!1})?(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Gt.kX,{path:"/queue",element:(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(SP,{queueView:fb.S.QUEUE}),(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"})]})},"/queue"),(0,lt.jsx)(Gt.kX,{path:"/history",element:(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(SP,{queueView:fb.S.HISTORY}),(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"})]})},"/history")]}):(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(Gt.kX,{path:"/queue",element:(0,lt.jsx)(PO.I,{navigationalRoot:hO.Y.NOW_PLAYING_BAR,pageId:_b.eA.NOWPLAYING_QUEUE,children:(0,lt.jsx)(EP,{})})}),(0,lt.jsx)(Gt.kX,{path:"/history",element:(0,lt.jsx)(PO.I,{navigationalRoot:hO.Y.NOW_PLAYING_BAR,pageId:_b.eA.NOWPLAYING_HISTORY,children:(0,lt.jsx)(CP,{})})})]});var IP=n(66748),AP=n(15580),TP=n(86477),kP=n(92),NP=n(16228),OP=n(12980);const PP="VaoPVkde4AzxorQnp6Jp",jP="dDz8CzVKiV2128rhR543",LP="tBAiRbWhD79Gi2XqZ_AG",RP=({sessionMember:e,index:t,showRemoveButton:n,onClickRemove:s,onClickMember:i})=>{const{displayName:r,images:a,uri:o,username:l}=(0,al.M)(e);return(0,lt.jsx)(qc.UF,{menu:(0,lt.jsx)(n_.Y,{uri:o}),children:(0,lt.jsx)("span",{children:(0,lt.jsxs)(NP.QJ,{rowIndex:t,className:PP,children:[(0,lt.jsx)(NP.m_,{columnIndex:0,children:(0,lt.jsxs)(yg.default,{to:o,className:LP,onClick:i,"aria-label":r,children:[(0,lt.jsx)(hh.C,{images:a,userIconSize:"medium",width:32,displayName:r,username:l,label:r}),(0,lt.jsx)(Cs.a,{as:"p",variant:"bodyMediumBold",semanticColor:"textBase",children:r})]})}),n&&(0,lt.jsx)(NP.m_,{columnIndex:1,className:jP,children:(0,lt.jsx)(Zy.w,{size:"small",onClick:s,"aria-label":c._s.get("web-player.social-connect.participant-list.remove-guest-accessible-label",{displayName:r}),children:c._s.get("web-player.social-connect.participant-list.remove-guest")})})]})})})},DP=({memberToBeRemoved:e,onClose:t})=>{const{logRemoveClick:n}=eE(),{currentSession:s,removeSessionMember:i}=(0,nl.O)(),r=e?.id??"",a=e?.displayName??"",o=s?.sessionId??"",l=(0,$e.useCallback)((()=>{n(r,o),r&&(i(r),t())}),[n,r,o,i,t]),d=(0,$e.useCallback)((()=>{t()}),[t]);return(0,lt.jsx)(rC.c,{isOpen:Boolean(r),titleText:c._s.get("web-player.social-connect.participant-list.remove-guest-dialog",{displayName:a}),"aria-label":c._s.get("web-player.social-connect.participant-list.remove-guest-dialog",{displayName:a}),confirmText:c._s.get("web-player.social-connect.participant-list.remove-guest"),cancelText:c._s.get("web-player.social-connect.participant-list.remove-guest-cancel"),onConfirm:l,onClose:d})},MP="qAE8wMAxO5THZoNqlb0q",UP=()=>{const e=(0,ze.w1)((e=>e.session.user?.id)),{currentSession:t}=(0,nl.O)(),[n,s]=(0,$e.useState)(),{logUserClick:i,logRemoveClick:r,UBIFragmentWithSpec:a}=m_(),o=(0,$e.useCallback)(((e,t)=>{r(e),s(t)}),[r]),l=(0,$e.useCallback)(((e,t)=>{const n=(0,O.oh)(t.username).toURI();i(e,n)}),[i]),d=(0,$e.useCallback)((()=>{s(void 0)}),[]),u=t?.sessionMembers.find((e=>e.id===t.sessionOwnerId));if(!t||!u)return(0,lt.jsx)(Gt.YX,{to:"/queue"});const m=t.isSessionOwner?2:1;return(0,lt.jsxs)("section",{className:"contentSpacing",children:[(0,lt.jsx)(OP.Q,{children:c._s.get("web-player.social-connect.participant-list.title",{host:u.displayName})}),(0,lt.jsx)(Cs.a,{as:"h1",variant:"titleSmall",semanticColor:"textBase",children:c._s.get("web-player.social-connect.participant-list.title")}),(0,lt.jsx)(Cs.a,{as:"h2",variant:"bodyMediumBold",semanticColor:"textSubdued",children:c._s.get("web-player.social-connect.participant-list.subtitle")}),(0,lt.jsx)(NP.wL,{"aria-colcount":m,"aria-rowcount":t.sessionMembers.length,"aria-label":c._s.get("web-player.social-connect.participant-list.title"),className:MP,children:t.sessionMembers.map(((n,s)=>(0,lt.jsx)(RP,{sessionMember:n,showRemoveButton:t.isSessionOwner&&n.username!==e,index:s,onClickRemove:()=>o(s,n),onClickMember:()=>l(s,n)},n.displayName)))}),(0,lt.jsx)(a,{children:(0,lt.jsx)(DP,{memberToBeRemoved:n,onClose:d})})]})};var FP=n(232);const BP=()=>{const{id:e}=(0,Gt.W4)(),t=(0,ze.OY)(),n=(0,TP.W)(),s=(0,TE.U)();return(0,$e.useEffect)((()=>{if(!e)return;const i=HP(n,s,e);i&&t(i)}),[t,e,n,s]),(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"})},GP=()=>{const e=(0,TP.W)(),t=(0,TE.U)(),n=(0,kP.q)();return(0,$e.useEffect)((()=>{t===fe.C.PREMIUM&&e===ge.x.ENABLED&&n()}),[n,t,e]),(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"})},VP=()=>{const e=(0,ze.OY)(),t=(0,TP.W)(),n=(0,Gt.i6)(),s=(0,TE.U)(),i=(0,kP.q)();return(0,gO.h)((r=>{const a=(0,O.nX)(r.pathname??""),o=a&&(0,O.GK)(a)&&(l=r.pathname,!Object.values(FP.U).includes(l));var l;if("/jam"===r.pathname)return i(),!0;if(o){const i=HP(t,s,a.id);return!!i&&(e(i),r.state?.redirectToHome&&n("/"),!0)}return!1}),[t,s]),[(0,lt.jsx)(Gt.kX,{path:FP.U.PARTICIPANTS_PAGE,element:(0,lt.jsx)(PO.I,{pageId:_b.eA.SOCIAL_LISTENING_PARTICIPANTLIST,children:(0,lt.jsx)(UP,{})})},"social-session-participant-page"),(0,lt.jsx)(Gt.kX,{path:"/socialsession/:id",Component:BP},"social-session-invitation-fallback"),(0,lt.jsx)(Gt.kX,{path:"/jam",Component:GP},"jam-creation-fallback")]};function HP(e,t,n){return t===fe.C.NONE?(0,He.Ar)(Gl.SI.ERROR):e===ge.x.DISABLED?(0,He.Ar)(Gl.SI.MOBILE_ONLY):e===ge.x.RESTRICTED?(0,He.Ar)(Gl.SI.REDIRECT,n):e===ge.x.ENABLED?(0,He.Ar)(Gl.SI.JOIN,n):null}var WP=n(31128),zP=n(95944);const YP="uDSfSQBcjXNm_3TXwtQF",KP=[{id:"ALBUM",getName:()=>c._s.get("web-player.whats-new-feed.filters.music"),ubiId:"Music"},{id:"EPISODE",getName:()=>c._s.get("web-player.whats-new-feed.filters.episodes"),ubiId:"Podcast & Shows"},{id:"WHATS_NEW_FEED_NOTIFICATION",getName:()=>c._s.get("web-player.whats-new-feed.filters.notifications"),ubiId:"Merch & Events"}],qP=(0,$e.memo)((function({availableFilters:e,selectedFilters:t,toggleFilterId:n,resetFilterIds:s,className:i,spec:r}){const a=c._s.get("web-player.whats-new-feed.filters.options"),o=(0,Jn.Mk)(),l=(0,$e.useMemo)((()=>{const t=new Map;return(e||[]).forEach((e=>{t.set(e.id,e)})),t}),[e]),d=(0,$e.useCallback)(((e,t,n)=>{let s;if(!e)return s=r.clearFiltersFactory().hitClearFilter(),void o.logInteraction(s);const i=l.get(e);if(!i)return;const a=r.filterChipFactory({identifier:i.ubiId,position:n});s=t?a.hitClearFilter():a.hitFilter(),o.logInteraction(s)}),[r,o,l]);return(0,lt.jsx)("div",{className:YP,children:(0,lt.jsx)(zP.A,{placeholderFilters:KP,availableFilters:e,selectedFilters:t,toggleFilterId:n,onFilterClick:d,resetFilterIds:s,ariaLabel:a,className:i})})}));var QP=n(34592),XP=n(49156),$P=n(72032);const JP=({dateAdded:e,prefix:t})=>{let n=e.getTime()>0&&c._s.formatRelativeDate(e,{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"});return n&&t&&(n=`${t} ${n}`),(0,lt.jsx)(Cs.a,{variant:"bodySmall",children:n})},ZP=e=>{switch(e){case Dp.u_.LARGE:return O_.fm.SIZE_112;case Dp.u_.MEDIUM:default:return O_.fm.SIZE_64}};var ej=n(50176),tj=n(3932);const nj={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",row:"main-whatsNewFeed-listRow",actions:"main-whatsNewFeed-actions",visibleAction:"NWfBZKkVJezlw6uS30Ev",playButton:"main-whatsNewFeed-listPlayButton",content:"main-whatsNewFeed-listContent",description:"main-whatsNewFeed-description",subtitleLink:"main-whatsNewFeed-listSubtitleLink",imageWrapper:"main-whatsNewFeed-listImageWrapper",imageContainer:"main-whatsNewFeed-imageContainer",showImage:"main-whatsNewFeed-showImage",largeImage:"main-whatsNewFeed-largeImage",explicitIcon:"main-whatsNewFeed-listExplicitIcon",timeAgo:"main-whatsNewFeed-listTimeAgo",footer:"main-whatsNewFeed-listFooter",episodeBody:"main-whatsNewFeed-listEpisodeBody",fallbackIcon:"main-whatsNewFeed-listFallbackIcon",dateAndTime:"main-whatsNewFeed-dateAndTime",medium:"main-whatsNewFeed-medium",seperator:"main-whatsNewFeed-separator",seperatorAlbum:"main-whatsNewFeed-separatorAlbum",divider:"main-whatsNewFeed-divider",listRow:"main-whatsNewFeed-listRow",progressBar:"main-whatsNewFeed-progressBar"};function sj({album:e,onLike:t,onMoreButtonClick:n,onDownloadClick:s,spec:i}){const r=(0,$e.useRef)(null);(0,QP.m)(r);const a=(0,Dp.oV)(),o=a===Dp.u_.LARGE,l=(0,ym.C)({itemUris:[e.uri],dragLabelText:e.name});let d;e.date&&(d=(0,lt.jsx)(JP,{dateAdded:new Date(e.date.isoString)}));const[u,m]=(0,Jl.X)(e.uri),p=e.artists?.items.map((e=>e.profile.name)).join(c._s.getSeparator())||"",h=(0,Jn.Mk)(),g=(0,$e.useCallback)((async()=>{try{await m(!u)}catch{}}),[u,m]),{togglePlay:f,isPlaying:y,isActive:_}=(0,E_.I)({uri:e.uri},{featureIdentifier:"whats_new_panel",referrerIdentifier:"whats_new_panel"}),b=(0,$e.useCallback)((t=>{let n;t.preventDefault(),_&&!y&&(n=i.playButtonFactory().hitResume({itemToBeResumed:e.uri})),y||_||(n=i.playButtonFactory().hitPlay({itemToBePlayed:e.uri})),y&&(n=i.playButtonFactory().hitPause({itemToBePaused:e.uri})),n&&h.logInteraction(n),f()}),[f,_,y,h,i,e.uri]),v=(0,tj.s)(e.uri),x=(0,$b._)(e.uri),C=(0,$e.useCallback)((()=>{const t=i.hitUiNavigate({destination:e.uri});h.logInteraction(t),v()}),[e.uri,i,h,v]),E=(0,$e.useCallback)((n=>{const s=i.saveButtonFactory().hitLike({itemToBeLiked:e.uri}),r=i.saveButtonFactory().hitRemoveLike({itemNoLongerLiked:e.uri});h.logInteraction(n?s:r),t?.(n)}),[i,h,e.uri,t]),S=(0,$e.useCallback)(((t,n)=>{let r;n===ee._w.ADD?r=i.downloadButtonFactory().hitDownload({itemToDownload:e.uri}):n===ee._w.REMOVE&&(r=i.downloadButtonFactory().hitUiReveal()),r&&h.logInteraction(r),s?.(t,n)}),[e.uri,h,i,s]),w=(0,$e.useCallback)((e=>{n?.(e)}),[n]),I=(0,$e.useCallback)((()=>{const t=i.titleFactory().hitUiNavigate({destination:e.uri});h.logInteraction(t)}),[e.uri,h,i]),A=c._s.get("tracklist.a11y.play",e.name,p),T=c._s.get("tracklist.a11y.pause",e.name,p),k=(0,lt.jsx)($d.Y,{lineClamp:1,children:(0,lt.jsx)(yg.default,{to:e.uri,onClick:I,children:e.name})}),N=e.artists?e.artists.items.map(((e,t,n)=>{return(0,lt.jsxs)($e.Fragment,{children:[(0,lt.jsx)(qc.UF,{menu:(0,lt.jsx)(av.g,{uri:e.uri}),children:(0,lt.jsx)(yg.default,{to:e.uri,className:nj.subtitleLink,onClick:(s=e.uri,()=>{const e=i.subtitleFactory().hitUiNavigate({destination:s});h.logInteraction(e)}),children:e.profile.name})}),t<n.length-1&&c._s.getSeparator()]},t);var s})):"",O=(0,lt.jsx)("div",{className:nj.imageContainer,children:(0,lt.jsx)(N_.i,{className:xs()(nj.showImage,{[nj.largeImage]:o}),type:P.s.ALBUM,size:ZP(a),title:e.name,images:e.coverArt?.sources})}),j=(0,lt.jsxs)(Cs.a,{className:nj.dateAndTime,children:[(0,$P.E)(e.albumType),(0,lt.jsx)("span",{className:nj.seperatorAlbum,children:d})]}),L=o?rr.o.sm:rr.o.xs,R=(0,lt.jsxs)("div",{className:nj.footer,children:[(0,lt.jsxs)("div",{className:nj.actions,children:[(0,lt.jsx)(or.s,{onClick:E,uri:e.uri,size:L,className:nj.visibleAction}),(0,lt.jsx)(ej.W,{onClick:S,className:xs()({[nj.visibleAction]:(0,XP.q)(x)}),uri:e.uri,isFollowing:u,onFollow:g,size:L}),(0,lt.jsx)(Jn.Ud,{spec:i,children:(0,lt.jsx)(qc.pD,{menu:(0,lt.jsx)(qS.k,{uri:e.uri}),children:(0,lt.jsx)(Kc.g,{onClick:w,size:L})})})]}),(0,lt.jsx)("div",{className:nj.playButton,children:(0,lt.jsx)(k_.O,{size:"small",onClick:b,isPlaying:y,ariaPlayLabel:A,ariaPauseLabel:T,version:k_.e.secondary})})]});return(0,lt.jsx)(qc.UF,{menu:(0,lt.jsx)(qS.k,{uri:e.uri}),children:(0,lt.jsxs)("div",{className:nj.listRow,draggable:!0,onDragStart:l,children:[(0,lt.jsx)(Xd.U,{size:"xxl",ref:r,className:nj.row,media:O,title:k,subtitle:(0,lt.jsx)(zb.A,{lineClamp:1,children:N}),id:e.uri,variant:"naked",body:j,footer:R,onClick:C,hoverBackgroundColor:"backgroundHighlight",layout:o?"wide":"regular",horizontalGap:o?S_.Gw:S_.Uk,verticalGap:S_.q,paddingBlockStart:"16px",paddingBlockEnd:"16px"}),(0,lt.jsx)("hr",{className:nj.divider,"aria-hidden":!0})]})})}var ij=n(58912),rj=n(97276),aj=n(57148),oj=n(23652);const lj=1e4;function cj({episode:e,isPlaying:t,isActive:n,isFullyPlayed:s,setIsFullyPlayed:i}){let r;e.releaseDate&&(r=(0,lt.jsx)(JP,{dateAdded:new Date(e.releaseDate.isoString)}));const a=e.restrictions?.paywallContent??!1,o=(0,$e.useRef)(null),[l]=(0,ti.e)(lj,(t=>t?.item?.uri===e.uri));(0,$e.useEffect)((()=>{t&&(o.current=l)}),[t,l]),(0,$e.useEffect)((()=>{!t&&o.current&&e.duration.totalMilliseconds<=o.current&&i(!0)}),[t,e.duration.totalMilliseconds,i]);const{badges:d}=(0,aj.C)({contentRating:e.contentRating?.label,isPaywalled:a}),u=(0,lt.jsxs)(lt.Fragment,{children:[d.explicit&&(0,lt.jsx)(Qb.C,{}),d.paid&&(0,lt.jsx)(oj.a,{}),d.nineteen&&(0,lt.jsx)(Xb.o,{size:16})]}),m=(0,lt.jsx)(rj.W,{isPlaying:t,fullyPlayed:s,durationMs:e.duration.totalMilliseconds,resumePositionMs:o.current||e.playedState.playPositionMilliseconds,position:n?l:void 0,className:nj.progressBar});return(0,lt.jsxs)("div",{className:nj.episodeBody,children:[u,(0,lt.jsx)(Cs.a,{variant:"bodySmall",children:c._s.get("card.tag.episode")}),(0,lt.jsx)("span",{className:nj.seperator}),(0,lt.jsx)(Cs.a,{variant:"bodySmall",children:r}),(0,lt.jsx)("span",{className:nj.seperator}),(0,lt.jsx)(Cs.a,{variant:"bodySmall",children:m})]})}var dj=n(6948);function uj({episode:e,podcastName:t,podcastUri:n,onLike:s,onMoreButtonClick:i,onDownloadClick:r,spec:a}){const o=(0,$e.useRef)(null);(0,QP.m)(o);const l=(0,Dp.oV)(),d=(0,$b._)(e.uri),u=l===Dp.u_.LARGE,m=(0,ym.C)({itemUris:[e.uri],dragLabelText:`${e.name} • ${t}`}),p=(0,Jn.Mk)(),{togglePlay:h,isPlaying:g,isActive:f}=(0,E_.I)({uri:e.uri},{featureIdentifier:"whats_new_panel",referrerIdentifier:"whats_new_panel"}),[y,_]=(0,$e.useState)(e.playedState.state===Y.QF.Completed),b=(0,tj.s)(e.uri),v=c._s.get("tracklist.a11y.play",e.name,t),x=c._s.get("tracklist.a11y.pause",e.name,t),C=(0,$e.useCallback)((()=>{const t=a.hitUiNavigate({destination:e.uri});p.logInteraction(t),b()}),[b,p,a,e.uri]),E=(0,$e.useCallback)((t=>{const n=a.saveButtonFactory().hitLike({itemToBeLiked:e.uri}),i=a.saveButtonFactory().hitRemoveLike({itemNoLongerLiked:e.uri});p.logInteraction(t?n:i),s?.(t)}),[a,p,e.uri,s]),S=(0,$e.useCallback)(((t,n)=>{let s;n===ee._w.ADD?s=a.downloadButtonFactory().hitDownload({itemToDownload:e.uri}):n===ee._w.REMOVE&&(s=a.downloadButtonFactory().hitUiReveal()),s&&p.logInteraction(s),r?.(t,n)}),[p,a,e.uri,r]),w=(0,$e.useCallback)((()=>{const t=a.titleFactory().hitUiNavigate({destination:e.uri});p.logInteraction(t)}),[p,a,e.uri]),I=(0,$e.useCallback)((t=>{let n;t.preventDefault(),f&&!g&&(n=a.playButtonFactory().hitResume({itemToBeResumed:e.uri})),g||f||(n=a.playButtonFactory().hitPlay({itemToBePlayed:e.uri})),g&&(n=a.playButtonFactory().hitPause({itemToBePaused:e.uri})),n&&p.logInteraction(n),h()}),[h,p,a,e.uri,g,f]),A=(0,$e.useCallback)((e=>{i?.(e)}),[i]),T=(0,lt.jsx)($d.Y,{lineClamp:2,children:(0,lt.jsx)(yg.default,{to:e.uri,onClick:w,children:e.name})}),k=(0,lt.jsx)(lt.Fragment,{children:(0,lt.jsx)(zb.A,{lineClamp:1,paddingBottom:u?"8px":void 0,children:(0,lt.jsx)(qc.UF,{menu:(0,lt.jsx)(iv.Q,{uri:n}),children:(0,lt.jsx)(yg.default,{to:n,className:nj.subtitleLink,onClick:(N=n,()=>{const e=a.subtitleFactory().hitUiNavigate({destination:N});p.logInteraction(e)}),children:(0,lt.jsx)(Cs.a,{as:"span",variant:"bodySmall",children:t})})})})});var N;const O=(0,lt.jsx)("div",{className:nj.imageContainer,children:(0,lt.jsx)(N_.i,{className:xs()(nj.showImage,{[nj.largeImage]:u}),type:P.s.EPISODE,size:ZP(l),title:e.name,images:e.coverArt?.sources})}),j=u?"medium":"small",L=(0,Q.w7)(e.restrictions,e.playability),R=!(L.isPaywalled&&!L.isUserSubscribed),D=(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(cj,{episode:e,isPlaying:g,isActive:f,isFullyPlayed:y,setIsFullyPlayed:_}),(0,lt.jsxs)("div",{className:nj.footer,children:[(0,lt.jsxs)("div",{className:nj.actions,children:[(0,lt.jsx)(ar.Q,{onClick:E,uri:e.uri,size:j,className:nj.visibleAction}),(0,lt.jsx)(dj.g,{className:xs()({[nj.visibleAction]:(0,XP.q)(d)}),onClick:S,uri:e.uri,size:j,canDownload:R}),(0,lt.jsx)(Jn.Ud,{spec:a,children:(0,lt.jsx)(qc.pD,{menu:(0,lt.jsx)(sv.y,{uri:e.uri,onMarkAsPlayed:_,isPlayed:y}),children:(0,lt.jsx)(Kc.g,{onClick:A,size:j})})})]}),(0,lt.jsx)("div",{className:nj.playButton,children:(0,lt.jsx)(k_.O,{"aria-label":"whats-new-feed-play-button",size:"small",onClick:I,isPlaying:g,ariaPlayLabel:v,ariaPauseLabel:x,version:k_.e.secondary})})]})]}),M=(0,lt.jsx)(ij.y,{lineClamp:2,paddingBottom:u?"4px":void 0,className:nj.description,children:(0,lt.jsx)(Cs.a,{as:"p",variant:"bodySmall",children:e.description})});return(0,lt.jsx)(qc.UF,{menu:(0,lt.jsx)(sv.y,{uri:e.uri,onMarkAsPlayed:_,isPlayed:y}),children:(0,lt.jsxs)("div",{className:nj.listRow,draggable:!0,onDragStart:m,children:[(0,lt.jsx)(Xd.U,{size:"xxl",ref:o,className:nj.row,media:O,title:T,subtitle:k,id:e.uri,variant:"naked",body:M,footer:D,onClick:C,hoverBackgroundColor:"backgroundHighlight",layout:u?"wide":"regular",horizontalGap:u?S_.Gw:S_.Uk,verticalGap:S_.q,paddingBlockStart:"16px",paddingBlockEnd:"16px"}),(0,lt.jsx)("hr",{className:nj.divider,"aria-hidden":!0})]})})}function mj({item:e,spec:t}){if("AlbumResponseWrapper"===e.content.__typename){const n=e.content.data;if("Album"===n.__typename)return(0,lt.jsx)(sj,{album:n,spec:t})}if("EpisodeOrChapterResponseWrapper"===e.content.__typename){const n=e.content.data;if("Chapter"===n.__typename)return(0,lt.jsx)(lt.Fragment,{});if("Episode"===n.__typename){let e="",s="";return"Podcast"===n.podcastV2.data.__typename&&(e=n.podcastV2.data.name,s=n.podcastV2.data.uri),(0,lt.jsx)(uj,{episode:n,podcastName:e,podcastUri:s,spec:t})}}return(0,lt.jsx)(lt.Fragment,{})}const pj="WvRg_dv9tsubEo206mvm",hj="main-whatsNewFeed-listHeader",gj="NBu3Qay2IV3Srf3Kga5n",fj="AJjZ1RU3WLdbao4Z8P5p",yj="abK9JULKblJRgFwPOFVE",_j="main-whatsNewFeed-list",bj="NaRE2l7NC4qwYGmtIhLj",vj="JyEYcCE6Oi_unrgfAZPy",xj="efdmucpG0CLVCpc0_cZz",Cj=$e.memo((()=>(0,lt.jsxs)(lt.Fragment,{children:[(0,lt.jsx)(CE.O,{as:"h3",variant:"titleSmall",className:xj,charCount:4,isLoading:!0}),(0,lt.jsx)("div",{className:bj,children:[20,50,25].map(((e,t)=>(0,lt.jsx)(CE.O,{as:"div",variant:"bodySmall",className:xj,charCount:e,isLoading:!0},`${e}-${t}`)))})]})));var Ej=n(38064);const Sj={offset:0,limit:50,onlyUnPlayedItems:!1};const wj={[Y.uu.Album]:{id:"ALBUM",getName:()=>c._s.get("web-player.whats-new-feed.filters.music"),ubiId:"Music",active:!1},[Y.uu.Episode]:{id:"EPISODE",getName:()=>c._s.get("web-player.whats-new-feed.filters.episodes"),ubiId:"Podcast & Shows",active:!1}};function Ij(e){switch(e){case Y.uu.Album:return Y.uu.Album;case Y.uu.Episode:return Y.uu.Episode;case Y.uu.WhatsNewFeedNotification:return Y.uu.WhatsNewFeedNotification;case Y.uu.Unknown:default:return Y.uu.Unknown}}const Aj=({spec:e,items:t})=>{const[n,s]=(0,$e.useState)([]),i=e=>{const t=e.state.state;if(!e.state.timestamp?.isoString&&t===Y.K0.New)return!0;if(e.state.timestamp?.isoString){const t=new Date(e.state.timestamp.isoString).getTime();return Date.now()-t<=36e5}return!1},r=t.findIndex((e=>!i(e))),a=(0,$e.useCallback)(((t,n)=>{const s=i(t)&&n<r,a=s&&0===n;return(0,lt.jsxs)($e.Fragment,{children:[a&&(0,lt.jsx)(Cs.a,{as:"h3",variant:"titleSmall",className:hj,semanticColor:"textBase",children:c._s.get("web-player.whats-new-feed.new-section-title")}),!s&&n===r&&(0,lt.jsx)(Cs.a,{as:"h3",variant:"titleSmall",className:hj,semanticColor:"textBase",children:c._s.get("web-player.whats-new-feed.earlier-section-title")}),(0,lt.jsx)(mj,{item:t,spec:e.notificationItemFactory({identifier:t.id,position:n})},t.id)]},t.id)}),[r,e]),o=(0,$e.useRef)(0),l=(0,$e.useCallback)((()=>{const e=t.slice(o.current,o.current+10);s((t=>(o.current=o.current+10,[...t,...e])))}),[t]),{ref:d,breakpoint:u}=(0,Dp.CA)({[Dp.u_.MEDIUM]:0,[Dp.u_.LARGE]:600});return(0,lt.jsx)(Dp.yM.Provider,{value:u,children:(0,lt.jsx)("div",{className:_j,role:"list",ref:d,children:(0,lt.jsx)(WP.A,{onReachBottom:l,triggerOnInitialLoad:!0,children:n.map(a)})})})},Tj=({includedContentTypes:e,data:t,handleRetry:n,error:s,spec:i,loading:r})=>{if(r)return(0,lt.jsxs)("div",{className:gj,role:"list",children:[(0,lt.jsx)(Cj,{}),(0,lt.jsx)(Cj,{})]});if(s)return(0,lt.jsxs)("div",{className:fj,dir:"auto",children:[(0,lt.jsx)(Cs.a,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:c._s.get("error.generic")}),(0,lt.jsx)(Cs.a,{as:"p",variant:"bodyMedium",children:c._s.get("web-player.whats-new-feed.panel.error")}),(0,lt.jsx)(Zy.w,{className:yj,onClick:n,size:"small",children:(0,lt.jsx)(Cs.a,{as:"span",variant:"bodyMediumBold",semanticColor:"textBase",children:c._s.get("web-player.whats-new-feed.panel.error.button")})})]});const a=t?.whatsNewFeedItems?.items;if(!a||0===a?.length){const{title:t,message:n}=function(e=[]){return e.includes(Y.uu.Episode)?{title:c._s.get("web-player.whats-new-feed.panel.empty-results-podcast.title"),message:c._s.get("web-player.whats-new-feed.panel.empty-results-podcast.message")}:e.includes(Y.uu.Album)?{title:c._s.get("web-player.whats-new-feed.panel.empty-results-music.title"),message:c._s.get("web-player.whats-new-feed.panel.empty-results-music.message")}:{title:c._s.get("web-player.whats-new-feed.panel.empty-results-all.title"),message:c._s.get("web-player.whats-new-feed.panel.empty-results-all.message")}}(e);return(0,lt.jsx)(Ej.o,{title:t,message:n,renderInline:!0})}return(0,lt.jsx)(Aj,{items:a,spec:i},e.join(" "))},kj=()=>{const e=(0,Ze.q$)(),{spec:t,logger:n}=(0,Jn.gp)($g.o,{}),s=(0,$e.useCallback)((()=>{const{name:e}=Zg;return[e]}),[]),i=(0,$e.useCallback)((()=>{e.invalidateQueries({queryKey:s()})}),[e,s]);(0,$e.useEffect)((()=>{n.logImpression(t.impression())}),[n,t]);const[r,a]=(0,$e.useState)(wj),o=Object.values(r),l=o.filter((e=>e.active)),d=l.length>0?[]:o,u=l.map((e=>e.id)),m=(0,$e.useCallback)((e=>{const t=Ij(e),n={id:r[t]?.id||Y.uu.Unknown,getName:()=>r[t]?.getName()||"",ubiId:r[t]?.ubiId||"",active:!r[t]?.active},s={...wj,...r,[n.id||"UNKNOWN"]:n};a(s)}),[r,a]),p=(0,$e.useCallback)((()=>{a(wj)}),[a]),{data:h,error:g,loading:f}=(y={...Sj,includedContentTypes:u.map(Ij)??[]},_={gcTime:30*V.y},(0,V.U)(Zg,y,_));var y,_;const{getGraphQLLoader:b}=(0,ts.eq)(),v=b();return(0,$e.useEffect)((()=>{if(!h?.whatsNewFeedItems?.items)return;const e=h?.whatsNewFeedItems?.items.filter((e=>e.state.state===Y.K0.New)).map((e=>({id:e.id,state:Y.K0.Seen})));e.length>0&&async function(e,t){await e(tf,{items:t})}(v,{items:e})}),[h?.whatsNewFeedItems?.items,v]),(0,lt.jsxs)("div",{className:vj,children:[(0,lt.jsx)(Cs.a,{as:"h1",semanticColor:"textBase",variant:"titleMedium",className:pj,children:c._s.get("web-player.whats-new-feed.panel.title")}),(0,lt.jsx)(Cs.a,{as:"p",semanticColor:"textSubdued",variant:"bodySmall",children:c._s.get("web-player.whats-new-feed.panel.subtitle")}),!g&&(0,lt.jsx)(qP,{availableFilters:d,toggleFilterId:m,selectedFilters:l,resetFilterIds:p,spec:t.filterChipsFactory()}),(0,lt.jsx)(Tj,{includedContentTypes:u.map(Ij),data:h,loading:f,error:g,spec:t,handleRetry:i})]})},Nj=()=>qg()?(0,lt.jsx)(kj,{}):(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"});var Oj=n(10484);const Pj=$e.lazy((()=>Promise.all([n.e(8596),n.e(4844),n.e(3840)]).then(n.bind(n,40424)))),jj=$e.lazy((()=>Promise.resolve().then(n.bind(n,71328)))),Lj=$e.lazy((()=>n.e(7752).then(n.bind(n,52152)))),Rj=$e.lazy((()=>Promise.all([n.e(8596),n.e(4844),n.e(368)]).then(n.bind(n,96496)))),Dj=$e.lazy((()=>Promise.all([n.e(8596),n.e(7968)]).then(n.bind(n,92052)))),Mj=$e.lazy((()=>Promise.all([n.e(8596),n.e(4572)]).then(n.bind(n,26500)))),Uj=$e.lazy((()=>Promise.all([n.e(8596),n.e(1892),n.e(1e3)]).then(n.bind(n,86726)))),Fj=$e.lazy((()=>Promise.all([n.e(8596),n.e(2812),n.e(9004)]).then(n.bind(n,34700)))),Bj=$e.lazy((()=>Promise.all([n.e(8596),n.e(1432)]).then(n.bind(n,88728)))),Gj=$e.lazy((()=>Promise.all([n.e(8596),n.e(8808)]).then(n.bind(n,8240)))),Vj=$e.lazy((()=>Promise.all([n.e(8596),n.e(2812),n.e(4371),n.e(232)]).then(n.bind(n,76596)))),Hj=$e.lazy((()=>Promise.all([n.e(8596),n.e(4371),n.e(2136)]).then(n.bind(n,12940)))),Wj=$e.lazy((()=>Promise.all([n.e(8596),n.e(1892),n.e(4292)]).then(n.bind(n,64022)))),zj=$e.lazy((()=>n.e(1972).then(n.bind(n,44304)))),Yj=$e.lazy((()=>Promise.resolve().then(n.bind(n,66748)))),Kj=$e.lazy((()=>Promise.all([n.e(8596),n.e(2812),n.e(7144),n.e(7692)]).then(n.bind(n,32300)))),qj=$e.lazy((()=>Promise.all([n.e(8596),n.e(7144),n.e(9789)]).then(n.bind(n,35244)))),Qj=$e.lazy((()=>n.e(6088).then(n.bind(n,71324)))),Xj=$e.lazy((()=>n.e(6151).then(n.bind(n,88436)))),$j=$e.lazy((()=>Promise.all([n.e(8596),n.e(2780)]).then(n.bind(n,56432)))),Jj=$e.lazy((()=>Promise.all([n.e(8596),n.e(2780)]).then(n.bind(n,62096)))),Zj=$e.lazy((()=>n.e(8064).then(n.bind(n,16668)))),eL=$e.lazy((()=>Promise.resolve().then(n.bind(n,89740)))),tL=$e.lazy((()=>Promise.all([n.e(8596),n.e(1512)]).then(n.bind(n,22836)))),nL=$e.lazy((()=>Promise.all([n.e(8596),n.e(5160)]).then(n.bind(n,85992)))),sL=e=>{const{viewId:t=""}=(0,Gt.W4)();return t===IP.RECENTLY_PLAYED_VIEW_ID?(0,lt.jsx)(Yj,{...e,showAll:!0}):(0,lt.jsx)(DO.o,{id:t})},iL=()=>{const e=(0,Ln.A)();return(0,lt.jsxs)(Gt.c5,{children:[(0,lt.jsx)(Gt.kX,{path:"tracks",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.COLLECTION_SONGS,children:(0,lt.jsx)(Uj,{})})}),(0,lt.jsx)(Gt.kX,{path:"episodes",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.COLLECTION_PODCASTS_EPISODES,children:(0,lt.jsx)(Fj,{})})}),(0,lt.jsx)(Gt.kX,{path:"your-episodes",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.COLLECTION_PODCASTS_EPISODES,children:(0,lt.jsx)(Fj,{})})}),e.canFetchAllTracks&&(0,lt.jsx)(Gt.kX,{path:"local-files",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.LOCALFILES,children:(0,lt.jsx)(Bj,{})})}),(0,lt.jsx)(Gt.kX,{path:"/*",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/collection/tracks"})})]})},rL=e=>{const{playlistId:t}=(0,Gt.W4)();return(0,$e.createElement)(Wj,{...e,key:t})},aL=e=>{const{artistId:t}=(0,Gt.W4)();return(0,$e.createElement)(jj,{...e,key:t})},oL=e=>{const{albumId:t}=(0,Gt.W4)();return(0,$e.createElement)(Pj,{...e,key:t})},lL=e=>{const{showId:t}=(0,Gt.W4)();return(0,$e.createElement)(Kj,{...e,key:t})},cL=()=>{const e=(0,Gt.IT)();(0,gO.g)(),(()=>{const e=(0,$e.useRef)("");(0,gO.h)(((t,n)=>{const s=t.pathname+t.search+t.hash;if("PUSH"===n&&e.current===s)return!0;e.current=s}))})();const t=(0,ze.w1)((e=>e.features.enableShows)),{isDesktop:n,isBrowser:s}=(0,ze.w1)((e=>e.platform)),i=(0,AP._)(),r=s||i,{isAnonymous:a,productState:o}=(0,ze.w1)(Rl.cx),l="premium"===o?.product,c=!(0,og.O)();(0,Oj.y)();const{allEpisodeSponsorsRoute:d}=function(e={}){const t=(0,_O.G)();return(0,tt.IP)(_e.cGB,{loadingValue:!1})&&t?{allEpisodeSponsorsRoute:(0,lt.jsx)(Gt.kX,{path:(0,yO.k)(fO.yQ),element:(0,lt.jsx)(xO,{surface:bO.g9.PODCAST_SEE_ALL})},"all-episode-sponsors-consolidated")}:{allEpisodeSponsorsRoute:t?(0,lt.jsx)(Gt.kX,{path:(0,yO.k)(fO.yQ),element:(0,lt.jsx)(vO,{...e})},"all-episode-sponsors"):null}}(),{allShowSponsorsRoute:u}=wO(),m=(({isDesktop:e,isPremium:t,isOffline:n})=>{const s=(0,BO.W)({type:"locale",uri:"home"});return[(0,lt.jsxs)(Gt.kX,{path:"/",element:(0,lt.jsx)(PO.I,{navigationalRoot:hO.Y.HOME,pageId:_b.eA.HOME,entityUri:"spotify:app:home",children:(0,lt.jsx)(yP,{isDesktop:e,isPremium:t,isOffline:n})}),children:[(0,lt.jsx)(Gt.kX,{path:"/home",element:(0,lt.jsx)(cP,{})},"home-subfeed"),(0,lt.jsx)(Gt.kX,{index:!0,element:(0,lt.jsx)(fP,{isDesktop:e,isPremium:t,isOffline:n})})]},"home"),s?Ss.qm.map((s=>(0,lt.jsx)(Gt.kX,{path:`/${Ss.Si}${s}`,element:(0,lt.jsx)(PO.I,{navigationalRoot:hO.Y.HOME,pageId:_b.eA.HOME,entityUri:"spotify:app:home",children:(0,lt.jsx)(gP,{isDesktop:e,isPremium:t,isOffline:n})})},"home-i18n"))):null,(0,lt.jsx)(Gt.kX,{path:"/section/:sectionId",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.HOME_DRILLDOWN,children:(0,lt.jsx)(hP,{})})},"home-section")]})({isDesktop:n,isPremium:l,isOffline:c}),p=(0,ac.kV)(),h=(()=>{const e=bP();return(0,gO.h)((t=>t.pathname===_P&&(e(),!0)),[e]),(0,lt.jsx)(Gt.kX,{path:_P,element:(0,lt.jsx)(vP,{})},_P)})(),g=[(0,lt.jsx)(Gt.kX,{path:"/cultural-moment/hub/:id",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.CULTURALMOMENTSHUB,children:(0,lt.jsx)(FO,{})})},"cultural-moment-hub")],f=RO(),y=wP(),_=(0,lt.jsx)(Gt.kX,{path:"/content-feed",element:(0,lt.jsx)(Nj,{})}),b=(0,xP.usePremiumRoutes)(),v=VP(),x=(0,tt.IP)(_e.OVM),C=(0,tt.IP)(_e.knK);return(0,lt.jsxs)(Gt.c5,{children:[(0,lt.jsx)(Gt.kX,{path:"/user/:userId/collection/your-episodes",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/collection/episodes"})}),(0,lt.jsx)(Gt.kX,{path:"/user/:userId/collection/album/:albumId",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/album/:albumId"})}),(0,lt.jsx)(Gt.kX,{path:"/user/:userId/collection/artist/:artistId",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/artist/:artistId/saved"})}),(0,lt.jsx)(Gt.kX,{path:"/user/:userId/playlist/:playlistId",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/playlist/:playlistId"})}),(0,lt.jsx)(Gt.kX,{path:"/browse/genres",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/genre/hub-browse-grid"})}),(0,lt.jsx)(Gt.kX,{path:"/browse/newreleases",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/genre/new-releases-page"})}),(0,lt.jsx)(Gt.kX,{path:"/browse/discover",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/genre/discover-page"})}),(0,lt.jsx)(Gt.kX,{path:"/browse/charts",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/genre/browse-charts-tab"})}),(0,lt.jsx)(Gt.kX,{path:"/browse/featured",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"})}),(0,lt.jsx)(Gt.kX,{path:"/browse",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"})}),Ss.mO.map((e=>(0,lt.jsx)(Gt.kX,{path:e,element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:Ss.CI})},e))),(0,lt.jsx)(Gt.kX,{path:"/internal/recs/playlist/:playlistId",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/playlist/:playlistId"})}),(0,lt.jsx)(Gt.kX,{path:"/settings",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"})}),a?[(0,lt.jsx)(Gt.kX,{path:"/collection/*",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"})},"collection-redirect")]:[(0,lt.jsx)(Gt.kX,{path:"/collection",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/collection/tracks"})},"collection-redirect")],m,p,h,g,f,y,_,b,v,(0,lt.jsx)(Gt.kX,{path:"/user/:userId/collection",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:{search:e.search,pathname:"/collection/tracks"}})}),(0,lt.jsx)(Gt.kX,{path:"/search/*",element:(0,lt.jsx)(PO.I,{navigationalRoot:hO.Y.SEARCH,children:(0,lt.jsx)(Vj,{})})}),(0,lt.jsx)(Gt.kX,{path:"/recent-searches",element:(0,lt.jsx)(PO.I,{navigationalRoot:hO.Y.SEARCH,pageId:_b.eA.SEARCH_RECENT,children:(0,lt.jsx)(Hj,{})})}),(0,lt.jsx)(Gt.kX,{path:"/collection/*",element:(0,lt.jsx)(PO.I,{children:(0,lt.jsx)(iL,{})})}),(0,lt.jsx)(Gt.kX,{path:"/artist/:artistId/*",element:(0,lt.jsx)(PO.I,{children:(0,lt.jsx)(aL,{})})}),(0,lt.jsx)(Gt.kX,{path:"/album/:albumId/*",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.ALBUM,children:(0,lt.jsx)(oL,{})})}),(0,lt.jsx)(Gt.kX,{path:"/playlist-format/:title",element:(0,lt.jsx)(PO.I,{children:(0,lt.jsx)(pO,{isAnonymous:a})})}),(0,lt.jsx)(Gt.kX,{path:"/playlist-format/:title/:category",element:(0,lt.jsx)(PO.I,{children:(0,lt.jsx)(pO,{isAnonymous:a})})}),(0,lt.jsx)(Gt.kX,{path:"/track/:trackId/*",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.TRACK,children:r?(0,lt.jsx)(Rj,{}):(0,lt.jsx)(Lj,{})})}),(0,lt.jsx)(Gt.kX,{path:"/playlist/:playlistId/see-all-ads",element:(0,lt.jsx)(NO,{})}),(0,lt.jsx)(Gt.kX,{path:"/playlist/:playlistId/*",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.PLAYLIST,children:(0,lt.jsx)(rL,{})})}),(0,lt.jsx)(Gt.kX,{path:"/user/:username/folder/:folderId",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"})}),(0,lt.jsx)(Gt.kX,{path:"/folder/:folderId/*",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"})}),(0,lt.jsx)(Gt.kX,{path:"/user/:userId/*",element:(0,lt.jsx)(PO.I,{children:(0,lt.jsx)(Dj,{})})}),(0,lt.jsx)(Gt.kX,{path:"/genre/corona_news_podcasts",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/genre/corona_news_podcasts-page"})}),(0,lt.jsx)(Gt.kX,{path:"/genre/:viewId",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.GENRE,children:(0,lt.jsx)(sL,{})})}),(0,lt.jsx)(Gt.kX,{path:"/view/:viewId",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.HOME_DRILLDOWN,children:(0,lt.jsx)(sL,{})})}),(0,lt.jsx)(Gt.kX,{path:"/merchhub",element:C?(0,lt.jsx)(tL,{}):(0,lt.jsx)(oO.InstrumentedRedirect,{to:x?Ss._e:Ss.EX})}),(0,lt.jsx)(Gt.kX,{path:"/concerts-page",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/concerts"})}),(0,lt.jsx)(Gt.kX,{path:"/concerts/location/:location",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.CONCERTS,children:(0,lt.jsx)(Gj,{})})}),(0,lt.jsx)(Gt.kX,{path:"/concerts",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.CONCERTS,children:(0,lt.jsx)(Gj,{})})}),(0,lt.jsx)(Gt.kX,{path:"/concert/:concertId",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.CONCERTS_CONCERT,children:(0,lt.jsx)(Mj,{})})}),false,(0,lt.jsx)(Gt.kX,{path:"/lyrics",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.LYRICS,children:(0,lt.jsx)(Xj,{format:"fullscreen"})})}),(0,lt.jsx)(Gt.kX,{path:"/preferences",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.SETTINGS,navigationalRoot:hO.Y.SETTINGS,children:(0,lt.jsx)(Qj,{})})}),(0,lt.jsx)(Gt.kX,{path:"/premium",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.PREMIUM,entityUri:"spotify:app:premium",children:(0,lt.jsx)(eL,{})})}),(0,lt.jsx)(Gt.kX,{path:"/radio/:entity/:id",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/:entity/:id"})}),(0,lt.jsx)(Gt.kX,{path:"/station/:entity/:id",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/:entity/:id"})}),(0,lt.jsx)(Gt.kX,{path:"/new/playlist",element:(0,lt.jsx)(PO.I,{children:(0,lt.jsx)(zj,{})})}),(0,lt.jsx)(Gt.kX,{path:"/blend/taste-match/:invitationId",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.BLEND_TASTE_MATCH,children:(0,lt.jsx)($j,{})})}),(0,lt.jsx)(Gt.kX,{path:"/blend/invitation",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.BLEND_INVITATION,children:(0,lt.jsx)(Jj,{})})}),(0,lt.jsx)(Gt.kX,{path:"/_pong",element:(0,lt.jsx)(Zj,{})}),(0,lt.jsx)(Gt.kX,{path:"/blend/invitation-page",element:(0,lt.jsx)(PO.I,{pageId:_b.eA.BLEND_INVITATION,children:(0,lt.jsx)(Jj,{})})}),(0,lt.jsx)(Gt.kX,{path:"/blend/ci/:playlistId",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/playlist/:playlistId"})}),(0,lt.jsx)(Gt.kX,{path:"/__noul__",element:(0,lt.jsx)(IO,{})}),(0,lt.jsx)(Gt.kX,{path:"/__noul__/*",element:(0,lt.jsx)(IO,{})}),t?[(0,lt.jsx)(Gt.kX,{path:"/browse/podcasts",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/genre/podcasts-web"})},"podcasts"),u,(0,lt.jsx)(Gt.kX,{path:fO.uK,element:(0,lt.jsx)(lL,{})},fO.uK),d,(0,lt.jsx)(Gt.kX,{path:fO.Qf,element:(0,lt.jsx)(qj,{})},"episode")]:[(0,lt.jsx)(Gt.kX,{path:"/browse/podcasts",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"})},"podcasts"),(0,lt.jsx)(Gt.kX,{path:"/show/*",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"})},"show"),(0,lt.jsx)(Gt.kX,{path:"/episode/*",element:(0,lt.jsx)(oO.InstrumentedRedirect,{to:"/"})},"episode")],Ss.qm.map((e=>((e,t)=>[(0,lt.jsx)(Gt.kX,{path:`/${Ss.Si}${t}/track/:trackId`,element:(0,lt.jsx)(PO.I,{pageId:_b.eA.TRACK,children:e?(0,lt.jsx)(Rj,{}):(0,lt.jsx)(Lj,{})})},"locale_track"),(0,lt.jsx)(Gt.kX,{path:`/${Ss.Si}${t}/artist/:artistId/*`,element:(0,lt.jsx)(PO.I,{children:(0,lt.jsx)(aL,{})})},"locale_artist"),(0,lt.jsx)(Gt.kX,{path:`/${Ss.Si}${t}/album/:albumId`,element:(0,lt.jsx)(PO.I,{pageId:_b.eA.ALBUM,children:(0,lt.jsx)(Pj,{})})},"locale_album"),(0,lt.jsx)(Gt.kX,{path:`/${Ss.Si}${t}/premium`,element:(0,lt.jsx)(PO.I,{pageId:_b.eA.PREMIUM,entityUri:"spotify:app:premium",children:(0,lt.jsx)(eL,{})})},"locale_premium")])(r,e))),(0,lt.jsx)(Gt.kX,{path:"/debug/locales",element:(0,lt.jsx)("div",{children:(0,lt.jsx)(nL,{})})}),!1]})},dL=(0,$e.memo)((function(){return(0,lt.jsx)(aO,{children:(0,lt.jsx)($e.Suspense,{fallback:(0,lt.jsx)(cs.K,{hasError:!1,errorMessage:"",loadOffline:(0,u.G$)()}),children:(0,lt.jsx)(cL,{})})})})),uL=({store:e,platform:t})=>{const n=[(0,lt.jsx)(ut.y9,{}),(0,lt.jsx)(We.EN,{}),(0,lt.jsx)(dt,{platform:t}),(0,lt.jsx)(Xe.S_,{}),(0,lt.jsx)(Tt.qq,{}),(0,lt.jsx)(Xt.GS,{}),(0,lt.jsx)(Qt.oY,{}),(0,lt.jsx)(qe.Yj,{}),(0,lt.jsx)(Ye.ZJ,{}),(0,lt.jsx)(ht.KU,{}),(0,lt.jsx)(pt.ms,{}),(0,lt.jsx)(Qe.S,{}),(0,lt.jsx)(mt.E_,{})];return(0,lt.jsx)(ls,{history:t.getHistory(),children:(0,lt.jsx)(Ke.a,{onError:e=>(0,T.gh)(e,"App"),FallbackComponent:At,children:(0,lt.jsx)(ze.C_,{store:e,children:(0,lt.jsxs)(os,{platform:t,children:[(0,lt.jsx)(Yt,{eventSender:t.getEventSender()}),(0,lt.jsxs)(ns,{providers:n,children:[(0,lt.jsx)(Rt,{}),(0,lt.jsx)(dL,{})]})]})})})})},mL={pop:"POP",push:"PUSH",replace:"REPLACE"};function pL(e,t){return{canGoBack:e>0,canGoForward:e<t.length-1}}const hL=e=>{window?.performance?.mark&&e&&window.performance.mark(e)},gL=(e,t,n)=>window?.performance?.measure&&window?.performance?.getEntriesByName&&e&&t&&n?(window.performance.measure(n,e,t),window.performance.getEntriesByName(n)):[];const fL=(e,t)=>{const n=e.url.searchParams.get("dlsi")??je(),s=navigator.userAgent,i={link:e.url.toString(),entity_uri:e.uri.toURI(),source:s,deeplink_session_id:n};t.send((0,Te.c)(i))};function yL(e){const t=function(e){const t="https://open.spotify.com/",n="spotify://";return e.startsWith(n)?e.replace(n,t):e.startsWith("spotify:")?(e.replaceAll(":","/"),e.replace("spotify/",t)):e}(e),n=(0,O.nX)(t,{parseUnknown:!0});if(!n)return null;const s=function(e){try{return new URL(e).search}catch{return""}}(t),i=new URLSearchParams(s),r=new URL(n.toURL());return i.forEach(((e,t)=>{r.searchParams.set(t,e)})),{url:r,uri:n}}async function _L(e,t){const{uri:n,url:s}=e,i=s.searchParams.get("pt"),r=s.searchParams.get("prid"),a=n.toString();i&&(await t.getPlaylistPermissionsAPI().claimPermissions(a,i),await t.getPlaylistAPI().resync(a)),r&&await async function(e,t,n){await e.build().withHost(f.zE).withMethod("POST").withPath(`/shared?playlistId=${t}&sharedEntityUri=${n}`).withEndpointIdentifier("/shared").withoutMarket().withResponseType("text").send()}(U.W.getInstance(),a,r)}var bL=n(57708),vL=n(75648),xL=n(46700);const CL=e=>!(e.type===xL.Mf.PLAY||e.type===xL.Mf.PLAYING),EL=e=>!(e.type===xL.Mf.PLAY||e.type===xL.Mf.USER_INVESTMENT),SL=e=>t=>n=>s=>{const i=n(s);switch(s.type){case xL.yc:{const{storeAction:t,actionIntent:n}=s;e.storeAction((e=>((e,t)=>{const{type:n}=t;switch(n){case xL.Mf.PLAY:return[t];case xL.Mf.PLAYING:return[...e.filter(CL),t];case xL.Mf.USER_INVESTMENT:return[...e.filter(EL),t];default:return[t]}})(e,{storeAction:t,type:n})));break}case xL.uc:{const n=e.pullAction()||null;t.dispatch({type:"PLAY_AT_FIRST_TAP_HAD_DEFERRED_ACTIONS",had:!!n&&n.length>0}),n&&n.forEach((({storeAction:e})=>{t.dispatch(e)}));break}}return i};var wL=n(56036),IL=n(56508);const AL="ui.hide_hpto";class TL{constructor(e,t){this.cosmosConnector=e,this.prefs=t}requestPreviewAd(e){return this.cosmosConnector.requestPreviewAd(e)}subscribeToAdsProductState(e){return this.cosmosConnector.subscribeToAdsProductState(e)}subscribeToPremiumState(e){return this.cosmosConnector.subscribeToProductState("catalogue",e)}fakeSubscribe(){}subscribeToHpto(e){const t=AL;return this.prefs.sub({key:t},(({entries:n})=>e({[t]:!!n[t].bool})))}async hideHpto(){const e=AL;await this.prefs.set({entries:{[e]:{bool:!0}}})}}class kL{requestPreviewAd(){return Promise.resolve({})}subscribeToAdsProductState(){return{cancel:()=>{}}}subscribeToPremiumState(){return{cancel:()=>{}}}subscribeToHpto(){return{cancel:()=>{}}}async hideHpto(){}fakeSubscribe(e,t){e(t)}}const NL={subscription:void 0};function OL(e){const t=e?.item??void 0;return(0,k.sN)(t)?"audio"===t.mediaType||"mixed"===t.mediaType:!!(0,k.UZ)(t)&&t.isPodcastAd}const PL="SET_AUDIO_AD_INFO",jL=e=>({type:PL,info:e});var LL=n(77220);function RL(e,t){return t?{enableAudioIfNotAlreadyEnabled(){if(!t.getEnabled())return t.enable((t=>e.dispatch(jL(t))))},disableAudioIfNotAlreadyDisabled(){if(t.getEnabled())return t.disable()}}:{}}function DL(e,t,n){const s=t.getEvents();return u.G$()&&s.addListener(w.k.VOLUME,(({data:{volume:e,isLocal:t}})=>{t&&LL.U.logAudioVolume(e)})),t=>{const{enableAudioIfNotAlreadyEnabled:s,disableAudioIfNotAlreadyDisabled:i}=RL(t,e);return t=>async r=>{const a=t(r);switch(r.type){case wo.w$.ADS_ENABLED:s?.();break;case wo.w$.ADS_DISABLED:i?.();break;case wo.w$.LOG_NOW_PLAYING_AD_CLICK:qm(n.getState())&&e.logClick(r.eventReason,r.eventSource)}return a}}}const ML=(e,t)=>{if(!(null===e?.ads?.vto?.info)&&t&&!t.isPaused){const e=document.getElementsByClassName("VideoPlayer__container")[0];if(e){const t=e.getElementsByTagName("video")[0];t&&t.play&&t.play()}}},UL=(e,t)=>{e.getState().ads.vto.isMinimized||(e.dispatch((0,ya.yO)()),t.logEvent(_a.Og.COLLAPSED))};function FL(e,t,n){return n?{enableVideoTakeoverIfNotAlreadyEnabled(){if(n.getEnabled())return;const s={onCreated(){e.dispatch((0,ya.ln)())},onInfo(t){e.dispatch((0,ya.uO)(t))},onFirstReady(){ML(e.getState(),t.getState())},onStarted(){},onEnded:()=>{e.dispatch((0,ya.uO)(null)),e.dispatch((0,ya.Nu)())}};return n.enable(s)},disableVideoTakeoverIfNotAlreadyDisabled(){if(n.getEnabled())return n.disable()}}:{}}const BL=(e,t)=>n=>{const{enableVideoTakeoverIfNotAlreadyEnabled:s,disableVideoTakeoverIfNotAlreadyDisabled:i}=FL(n,t,e);return r=>async a=>{const o=r(a);switch(a.type){case wo.w$.ADS_ENABLED:await(s?.());break;case wo.w$.ADS_DISABLED:await(i?.());break;case ya.w$.VTO_LOG_EVENT:e.logEvent(a.event,a.eventReason,a.eventSource),a.event===_a.Og.CLICKED&&UL(n,e);break;case wo.w$.LOG_NOW_PLAYING_AD_CLICK:Km(t.getState())&&(e.logEvent(_a.Og.CLICKED,a.eventReason,a.eventSource),UL(n,e));break;case ya.w$.VTO_NAVIGATION_CHANGE:UL(n,e);break;case ya.w$.MAXIMIZE_VIDEO_AD_VIEW:case ya.w$.MINIMIZE_VIDEO_AD_VIEW:ML(n.getState(),t.getState())}return o}};function GL({store:e,adManagers:t,isDesktop:n,playerAPI:s}){return function({adsEnabled:i=e.getState().ads.root.adsEnabled,playerState:r=s.getState(),isPodcastContent:a=OL(r)}={}){i!==e.getState().ads.root.adsEnabled&&e.dispatch((i?wo.qK:wo.eI)());const{enableVideoTakeoverIfNotAlreadyEnabled:o,disableVideoTakeoverIfNotAlreadyDisabled:l}=FL(e,s,t?.vto.manager),{enableAudioIfNotAlreadyEnabled:c,disableAudioIfNotAlreadyDisabled:d}=RL(e,t?.audio);return Promise.all(n&&(a||i)?[o?.(),c?.()]:[l?.(),d?.()])}}var VL=n(85032),HL=n(90148),WL=n(52756);const zL=({history:e,blockedPaths:t,rootApi:n,adManagers:s,isDesktop:i,playerAPI:r})=>a=>{const{handleAdsProductState:o,activateAdsProductStateSubscription:l}=function({rootApi:e,store:t,adManagers:n,isDesktop:s,playerAPI:i,toggleAdManagers:r=GL({store:t,adManagers:n,isDesktop:s,playerAPI:i})}){async function a({playerState:e=i.getState(),isPodcastContent:t=OL(e)}={}){return await r({playerState:e,isPodcastContent:t}),function(...[{ads:n}]){return r({adsEnabled:"1"===n,playerState:e,isPodcastContent:t})}}let o=OL(i.getState());return{handleAdsProductState:a,activateAdsProductStateSubscription:async function(t){const n=OL(t);return null===t||o!==n?(o=n,NL.subscription?.cancel(),NL.subscription=e.subscribeToAdsProductState(await a({playerState:t,isPodcastContent:n}))):NL.subscription}}}({rootApi:n,store:a,adManagers:s,isDesktop:i,playerAPI:r});return r.getEvents().addListener(N.AU.UPDATE,(async({data:e})=>{await l(e)})),s=>async i=>{switch(i.type){case sy.OG:await l(null);break;case VL.Q:n.fakeSubscribe(await o(),i.data)}const c=s(i),d=a.getState();if(!d.ads.root.adsEnabled)return c;const u=d.platform.isDesktop,m=u&&d.ads.billboard.isOpen,p=d.ads.sponsoredPlaylist.isVisible,h=t.includes(e.location.pathname),g=d.ads.leaderboard.isEnabled,f=(0,kt.U)(d)===Nt.q.cinema;switch(h||Ym(r.getState())?(m&&a.dispatch(Dr()),g&&a.dispatch(Zr())):!u||g||m||p||f||a.dispatch({type:$r}),i.type){case Ra.uy.SET_VIDEO_UI_FLAG:{const{key:e,value:t}=i;e===Nt.Z.cinema&&t&&a.dispatch(Zr());break}case Tr:a.dispatch(Zr());break;case WL.IR:a.dispatch(Zr()),a.dispatch(Dr());break;case HL.w$.HPTO_PREVIEW_HOME_NAVIGATION:"/"===e.location.pathname||e.push("/");break}return c}};var YL=n(94440);let KL,qL;const QL=({rootApi:e})=>t=>n=>async s=>{const i=n(s);switch(s.type){case sy.OG:(0,u.SM)()===m.q.Desktop&&(0,YL.w)({_debugForceRefreshHpto:()=>t.dispatch((0,HL.MH)()),overrideSponsoredPlaylistEndpoint:()=>t.dispatch((0,WL.yo)())}),KL||(KL=e.subscribeToPremiumState((({catalogue:e})=>{const n="premium"===e;t.dispatch((0,wo.ov)(n))}))),qL||(qL=e.subscribeToHpto((e=>t.dispatch((0,wo.cG)(e["ui.hide_hpto"])))));break;case wo.w$.ADS_POST_HIDE_HPTO:e.hideHpto();break;case VL.Q:e.fakeSubscribe((async({catalogue:e})=>{const n="premium"===e;t.dispatch((0,wo.ov)(n)),t.dispatch((0,wo.cG)(!1))}),s.data);break;case wo.w$.TRIGGER_PREVIEW_AD:e.requestPreviewAd(s.adUriHexId)}return i},XL=(e,t,n)=>s=>i=>async r=>{const a=i(r);switch(r.type){case wo.w$.ADS_ENABLED:{const i={create:e=>{s.dispatch((e=>({type:Tr,data:e}))(e))},canShow:()=>{const e=n.getState();return!("/"===t.location.pathname)&&!(0,he.WA)(e)&&!Ym(e)},isActive:()=>s.getState().ads.billboard.isOpen,minimize:()=>{s.dispatch({type:Lr})},destroy:()=>(s.dispatch(Mr()),Promise.resolve())};await e.enable(i);break}case wo.w$.ADS_DISABLED:await e.disable();break;case Nr:if(s.getState().ads.sponsoredPlaylist.isVisible)return s.dispatch(Mr()),Promise.resolve();e.minimize();break;case Or:e.adClick();break;case Pr:e.onRender();break;case jr:e.onError();break;case Rr:e.onFinish()}return a};var $L=n(52060);const JL=e=>t=>n=>async s=>{const i=n(s),r=t.getState();switch(s.type){case sy.OG:e.subscribeToPreview((e=>{t.dispatch((0,HL.IH)(e)),t.dispatch((0,HL.wX)())})),e.onRefresh((async()=>{const n=await e.fetchTemplate();t.dispatch((0,HL.Qf)(n)),t.dispatch((0,HL.kF)())}));break;case HL.w$.HPTO_CONTAINER_MOUNTED:{const n=await e.fetchTemplate();t.dispatch((0,HL.Qf)(n)),t.dispatch((0,HL.kF)());break}case HL.w$.FETCH_CREATIVE:if(r.ads.hpto.preview)break;if(r.ads.hpto.creativeFetchingState===$L.e.FETCHING)break;if(!r.ads.hpto.template)break;if(!r.ads.hpto.hptoContainerMounted)break;if(r.ads.root.isPremium&&r.ads.root.isHptoHidden)break;try{t.dispatch((0,HL.me)()),await e.fetchCreative(r.ads.hpto.template).then((e=>{t.dispatch((0,HL.EN)(e))}))}catch(e){console.error(e),t.dispatch((0,HL.u6)())}break;case HL.IB:e.viewRendered(s.element);break;case HL.w$.HPTO_COMPONENT_NEW_AD_RENDERED:e.logViewed();break;case HL.w$.HPTO_COMPONENT_UNMOUNTED:e.viewDestroyed();break;case wo.w$.ADS_POST_HIDE_HPTO:e.logEvent("event_collapsed");break;case HL.k5:e.logEvent(s.event,s.context);break;case HL.sv:e.logErrorEvent(s.error);break;case HL.w$.DEBUG_FORCE_REFRESH_HPTO:{const n=await e.fetchTemplate();t.dispatch((0,HL.Qf)(n)),t.dispatch((0,HL.kF)());break}}return i};function ZL(e){return t=>t=>async n=>{const s=t(n);switch(n.type){case wo.w$.ADS_ENABLED:break;case wo.w$.ADS_DISABLED:case Jr:e.disableLeaderboard();break;case Qr:e.setLeaderboardElement(n.element),e.enableLeaderboard();break;case Xr:e.onNavigationChanged()}return s}}function eR(e){return t=>n=>async s=>{const i=n(s);switch(s.type){case wo.w$.ADS_ENABLED:e.enable((e=>{t.dispatch((0,WL.YZ)(e))}));break;case wo.w$.ADS_DISABLED:e.disable();break;case WL.us:try{const n=await e.requestSponsoredPlaylists();t.dispatch((0,WL.GA)(n))}catch(e){t.dispatch((0,WL.Mp)(e instanceof Error?e:new Error("Unknown error object")))}break;case WL.UJ:try{const n=s.playlistUri,i=await e.requestSponsoredPlaylistAd(n);t.dispatch((0,WL.ai)(n,i))}catch(e){t.dispatch((0,WL.Gs)(e instanceof Error?e:new Error("Unknown error object")))}break;case WL.Go:e.logEvent(s.message);break;case WL._0:t.dispatch((0,WL.YZ)(null))}return i}}const tR=(e,t,n,s,i,r)=>{const a=e?new TL(LL.U,(0,wL.K6)((0,IL.Y)())):new kL,o=e?["/","/premium"]:[],{root:l=QL,sponsoredPlaylist:c=eR,orchestrator:d=zL,leaderboard:u=ZL,billboard:m=XL,hpto:p=JL,audio:h=DL,videoTakeover:g=BL}=r??{};return[l({rootApi:a}),c(n.sponsoredPlaylist),d({history:t,blockedPaths:o,rootApi:a,adManagers:n,isDesktop:e,playerAPI:i}),...e?[u(n.leaderboard),m(n.billboard,t,i),p(n.hpto),h(n.audio,s,i),g(n.vto.manager,i)]:[]]};var nR=n(61032),sR=n(42740);const iR=(0,nR.EF)({adId:null,liked:!1,disliked:!1,feedback:null},(e=>{e.addCase(sR.qo.LIKE_AD,((e,t)=>{sR.gH.match(t)&&(e.adId=t.payload.adId,e.liked=!0,e.disliked=!1,t.payload.reason&&(e.feedback=t.payload.reason))})).addCase(sR.qo.DISLIKE_AD,((e,t)=>{sR.WG.match(t)&&(e.adId=t.payload.adId,e.disliked=!0,e.liked=!1,t.payload.reason&&(e.feedback=t.payload.reason))})).addCase(sR.qo.CANCEL_LIKE_AD,((e,t)=>{sR.e2.match(t)&&(e.liked=!1,e.feedback=null)})).addCase(sR.qo.CANCEL_DISLIKE_AD,((e,t)=>{sR.Q7.match(t)&&(e.disliked=!1,e.feedback=null)}))})),rR={adsEnabled:!1,isPremium:!1,isHptoHidden:!0},aR=(e=rR,t)=>{switch(t.type){case wo.w$.ADS_ENABLED:return{...e,adsEnabled:!0};case wo.w$.ADS_DISABLED:return{...e,adsEnabled:!1};case wo.w$.ADS_PREMIUM:return{...e,isPremium:!!t.isPremium};case wo.w$.ADS_HPTO_HIDDEN:return{...e,isHptoHidden:!!t.isHptoHidden};default:return e}},oR={info:null},lR=(e=oR,t)=>t.type===PL?{...e,info:t.info}:e,cR={isOpen:!1,imageLoaded:!1,isMinimized:!1,data:{}},dR=(e=cR,t)=>{switch(t.type){case Tr:return{...e,isOpen:!0,data:t?.data};case kr:return{...e,isOpen:!1,isMinimized:!1,imageLoaded:!1};case Pr:return{...e,imageLoaded:!0};case Lr:case Nr:return{...e,isMinimized:!0};default:return e}},uR={hptoEnabled:!1,template:null,creative:null,preview:null,creativeFetchingState:$L.e.NOT_FETCHING,hptoContainerMounted:!1,hptoIsStable:!0},mR=(e=uR,t)=>{switch(t.type){case wo.w$.ADS_ENABLED:return{...e,hptoEnabled:!0};case HL.w$.HPTO_CONTAINER_MOUNTED:return{...e,hptoContainerMounted:!0};case HL.w$.HPTO_COMPONENT_UNMOUNTED:return{...e,preview:null,creativeFetchingState:$L.e.NOT_FETCHING,creative:t.data.clearCreative?null:e.creative};case HL.w$.HPTO_CONTAINER_UNMOUNTED:return{...e,hptoContainerMounted:!1};case HL.w$.GOT_TEMPLATE:return{...e,template:t.data};case HL.w$.SET_HPTO_PREVIEW:return{...e,hptoIsStable:!0,preview:t.data};case HL.w$.GOT_CREATIVE:return{...e,creative:t.data,creativeFetchingState:$L.e.FETCHED,hptoIsStable:!0};case HL.w$.FETCHING_CREATIVE:return{...e,creativeFetchingState:$L.e.FETCHING,creative:null};case HL.w$.CREATIVE_FETCH_FAILED:return{...e,creativeFetchingState:$L.e.FAILED,hptoIsStable:!1};default:return e}},pR={isEnabled:!1};function hR(e=pR,t){switch(t.type){case $r:return{...e,isEnabled:!0};case Jr:return{...e,isEnabled:!1};default:return e}}const gR={sponsoredPlaylist:new Map,isVisible:!1,previewAd:null};function fR(e=gR,t){switch(t.type){case WL.Wl:return function(e,t){return{...e,sponsoredPlaylist:e.sponsoredPlaylist.set("allSponsorships",t.sponsorships)}}(e,t);case WL.qi:return function(e,t){return{...e,sponsoredPlaylist:e.sponsoredPlaylist.set(t.playlistUri,t.ad)}}(e,t);case WL.IR:return{...e,isVisible:!0};case WL._0:return{...e,isVisible:!1};case WL.Ou:return{...e,previewAd:t.previewAd};default:return e}}const yR={isMinimized:!1,isHidden:!0,info:null},_R=(e=yR,t)=>{switch(t.type){case ya.w$.MINIMIZE_VIDEO_AD_VIEW:return{...e,isMinimized:!0};case ya.w$.MAXIMIZE_VIDEO_AD_VIEW:return{...e,isMinimized:!1};case ya.w$.HIDE_VIDEO_AD_VIEW:return{...e,isHidden:!0};case ya.w$.SHOW_VIDEO_AD_VIEW:return{...e,isHidden:!1};case ya.w$.VTO_SET_INFO:return{...e,info:t.info};default:return e}},bR=e=>t=>n=>async s=>{const i=n(s);if(s.type===GI.w$.GET_AGE_RESTRICTION_MODAL)try{const n=await e.getDialog(s.uri);t.dispatch((0,GI.u)(n))}catch{}return i};var vR=n(83496);const xR=e=>t=>n=>{const s=t(n);switch(n.type){case sy.OG:ot((()=>e.dispatch({type:sy.c7})));break;case sy.c7:(i=U.W.getInstance(),i.build().withHost(f.cV).withHostIdentifier("https://open.spotify.com").withPath("/logout").withoutMarket().withoutAuthorization().withEndpointIdentifier("/logout").send()).then((()=>{e.dispatch((0,sy.I$)()),window.location.assign("/")}),((e,t=!1)=>n=>(console.error(n),e&&e(n),t?Promise.reject(n):Promise.resolve(void 0)))())}var i;return s};var CR=n(39400),ER=n(7392),SR=n(44848);const wR="urn:x-cast:com.spotify.chromecast.secure.v1";let IR=!1;const AR=()=>window.cast?.framework.CastContext.getInstance(),TR=e=>rN()(e),kR=(e,t)=>{e.send((0,CR.W)(t))},NR=(e,t,n)=>{const s=AR();s&&(s.setOptions({receiverApplicationId:SR.cast.appId,autoJoinPolicy:"page_scoped",androidReceiverCompatible:n}),e.dispatch(lu(s.getCastState())),s.addEventListener(window.cast?.framework.CastContextEventType.CAST_STATE_CHANGED,(({castState:t})=>e.dispatch(lu(t)))),s.addEventListener(window.cast?.framework.CastContextEventType.SESSION_STATE_CHANGED,(({sessionState:n,session:s})=>{if(n===window.cast?.framework.SessionState.SESSION_STARTING)kR(t,{step:"transfer_requested"});else if(n===window.cast?.framework.SessionState.SESSION_STARTED){let n=null;s?.getCastDevice()?.friendlyName&&(n=TR(s.getCastDevice().friendlyName)),e.dispatch({type:au,deviceId:n}),kR(t,{step:"receiver_app_started"})}})))},OR=async(e,t,n,s)=>{const i=await t.request("https://spclient.wg.spotify.com/device-auth/v1/refresh",{method:"POST",authorize:!0,payload:JSON.stringify({clientId:"d7df0887fb71494ea994202cb473eae7",deviceId:e})});if(null===i.body)throw new Error("Invalid response from device-auth!");((e,t,n)=>{const s={tokenType:"accesstoken",blob:t.accessToken};e.sendMessage(wR,{type:"addUser",payload:s}),kR(n,{step:"message_from_sender"})})(n,JSON.parse(i.body),s)},PR=(e,t,n)=>{const s=AR().getCurrentSession();if(null===s)return;s.addMessageListener(wR,((i,r)=>{const a=JSON.parse(r);kR(n,{step:"message_from_receiver"});try{if("getInfoResponse"===a.type){const t=a.payload;OR(t.deviceID,e,s,n)}else if("addUserResponse"===a.type){const e=a.payload;t.dispatch((0,ER.cr)(e.deviceId))}else if(a.type.endsWith("Error"))throw new Error(a.payload.status)}catch(e){console.error("Failed to transfer playback to Cast device!",e)}})),((e,t)=>{const n=e.getCastDevice(),s={remoteName:n.friendlyName,deviceID:TR(n.friendlyName),deviceAPI_isGroup:n.capabilities.includes(chrome?.cast?.Capability.MULTIZONE_GROUP)};e.sendMessage(wR,{type:"getInfo",payload:s}),kR(t,{step:"message_from_sender"})})(s,n)},jR=(e,t,{deviceInfo:n})=>{if(n&&n.is_active&&(0,lE.A)(n.type)){const s=AR()?.getCastState()===window.cast?.framework.CastState.CONNECTED,i=e.getState().playback?.connectingCastDeviceId;s&&n.id===i&&(kR(t,{step:"transfer_finished"}),e.dispatch({type:ou}))}};function LR(e,t,n){return s=>i=>r=>{switch(r.type){case sy.OG:((e,t,n)=>{if(!window.cast){window.__onGCastApiAvailable=s=>{s&&!IR&&(NR(e,t,n),IR=!0)};const s=document.createElement("script");s.async=!0,s.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.body.appendChild(s)}})(s,t,n);break;case ru:(()=>{const e=AR();e&&e.requestSession()})();break;case iu:((e,t,n,{castState:s})=>{s===window.cast?.framework.CastState.CONNECTED&&PR(e,t,n)})(e,s,t,r);break;case ER.i2.DEVICE_INFO_CHANGED:jR(s,t,r)}return i(r)}}var RR=n(48844);const DR=e=>t=>n=>async s=>{const i=n(s);switch(s.type){case nc.w$.CHECK_DUPLICATE_TRACKS:{const{playlistUri:n,uris:i,position:a={after:"end"}}=s;try{const{name:s}=await e.getMetadata(n),o=await e.getContents(n);let l=[...i];if((0,O.MJ)(i[0])){const e=(0,K.Gm)(U.W.getInstance()),{trackUris:t}=await(0,dv.s)(i[0],0,e);l=t}const c=o.items.map((e=>e?.uri)),{duplicates:d,newUris:u}=(r=c,l.reduce(((e,t)=>{const n=r.includes(t);return{duplicates:n?[...e.duplicates,t]:e.duplicates,newUris:n?e.newUris:[...e.newUris,t]}}),{duplicates:[],newUris:[]}));0===d.length?e.add(n,l,a):1===l.length?t.dispatch((0,nc.yS)({playlistName:s,playlistUri:n,uri:l[0],position:a})):t.dispatch((0,nc.yS)({playlistName:s,playlistUri:n,uris:l,newUris:u,position:a}))}catch(t){e.add(n,i,a),window.console.error(t)}break}}var r;return i},MR=e=>t=>n=>s=>{const i=n(s),{type:r}=s,{session:a}=t.getState(),{isAnonymous:o}=a;if(r===uf.i.LOG_INTERACTION)e.send(o?(0,Og.Q)(s.logData):(0,Ng.i)(s.logData));return i},UR=()=>e=>t=>{const n=e(t);if(t.type===uf.i.LOG_INTERACTION){const{logData:e}=t;Ht(e.action_type,e.action_intent,e.item_id)}return n};let FR,BR=!1;let GR,VR=[],HR=[];const WR=e=>{try{(0,Ee.Qp)({metric_type:Re.MetricTypes.COUNTER,what:"harmony-error",value:1,tags:{type:e}})}catch(e){}},zR=(e,t)=>(GR=function(){if(null===A)throw new Error("Missing `instance`. Have you called `createHarmony` yet?");return A}(),GR.on(S.A1.LOCAL_PLAYER_ENABLED,(()=>{const e=(()=>{try{const e=localStorage.getItem(I);if(null===e)return null;const{volume:t}=JSON.parse(e);return t||null}catch(e){return null}})();null!==e&&GR.setVolume(e,"@local");try{hL("playback_load_end");const e=gL("playback_load_start","playback_load_end","time_to_playback_ready"),[{duration:t}={}]=e;Boolean(t)&&(0,Ee.Qp)({metric_type:Re.MetricTypes.TIMER,what:"playback-ready",value:Re.Time.fromMillis(t).asNanos()}).catch((()=>({})))}catch(e){}})),GR.on(S.A1.AUTHENTICATION_ERROR,(()=>{WR(S.A1.AUTHENTICATION_ERROR)})),GR.on(S.A1.UNRECOVERABLE_FAILURE,(({data:t})=>{const n=t.error.message||"";navigator.userAgent.indexOf("Edge")>-1?(e.dispatch(ER.gl()),(0,T.W8)(t.error),WR(ER.i2.CDM_ERROR)):t.source===S.K2.PLAYBACK&&e.dispatch(ER.So(t.name,t.source,n)),WR(S.A1.UNRECOVERABLE_FAILURE)})),GR.on(S.A1.ERROR,(({data:t})=>{if(t.error.code===S.Ou.EME_LICENSE_REQUEST_WIDEVINE_ERROR&&e.dispatch(He.Mp()),t.error.code===S.Ou.MEDIA_DECODING_ERROR&&!BR){const n="media_decoding_error",s=t.source,i=t.error.message||"";e.dispatch(ER.So(n,s,i))}const n=t.name||t.error?.name||t.error?.code||"unknown";WR(n)})),GR.on(S.A1.PLAYER_INITIALIZATION_DONE,(()=>{t.triggerActions(),e.dispatch((0,xL.iG)())})),GR.on(S.A1.PLAYER_INITIALIZATION_FAILED,(({data:t})=>{if(!navigator.webdriver&&(WR(ER.i2.CDM_ERROR),t.error)){if(t.error.message&&t.error.message.indexOf("0x80004005")>=0)return;e.dispatch(ER.gl()),(0,T.W8)(t.error)}})),GR.on(S.A1.MAX_SUBSCRIPTIONS_REACHED,(({data:t})=>{e.dispatch(ER.uY(t.source)),WR(S.A1.MAX_SUBSCRIPTIONS_REACHED)})),GR.on(S.A1.PRODUCT_STATE_CHANGED,(()=>{})),GR.on(S.A1.STATE_CHANGED,(e=>{if(e.data.state&&e.data.state.context&&e.data.state.context.uri&&(e.data.state.context.uri=e.data.state.context.uri.replace(/:user:([^:]+):playlist:/g,":playlist:")),0===VR.length)try{hL("playback_load_update"),VR=gL("playback_load_start","playback_load_update","time_to_playback_fetched");const[{duration:e}={}]=VR;Boolean(e)&&(0,Ee.Qp)({metric_type:Re.MetricTypes.TIMER,what:"playback-fetched",value:Re.Time.fromMillis(e).asNanos()}).catch((()=>({})))}catch(e){}!e.data.state?.paused&&HR.length})),GR.on(S.A1.LAST_ACTIVE_DEVICE_INFO_CHANGED,(t=>{const n=t.data.deviceInfo;e.dispatch(ER.M7(n))})),GR.on(S.A1.PROGRESS,(()=>{BR=!0})),GR),YR=(e,t)=>{const n=e.getState(),{isAnonymous:s}=(0,Rl.cx)(n);return s?null:zR(e,t)},KR="STORE_SEARCH",qR="SEARCH_HISTORY_CLEAR_DATA";var QR=n(34872);const XR=()=>e=>t=>{if(t.type===qR)localStorage.removeItem(QR.C);return e(t)};var $R=n(6860);const JR=()=>e=>t=>async n=>{const s=t(n);if(n.type===$R.i2.REQUEST_SEO_EXPERIMENT_DATA)try{const t=await(i=U.W.getInstance(),r=`/${(0,O.nX)(n.uri).toURLPath()}`,i.build().withHost(f.cV).withHostIdentifier("https://open.spotify.com").withPath("/seo").withQueryParameters({entityURL:r}).withoutMarket().withoutAuthorization().withEndpointIdentifier("/seo").send());e.dispatch((0,$R.A$)(t?.body))}catch(t){e.dispatch((0,$R.gF)())}var i,r;return s},ZR=e=>()=>t=>n=>{const s=t(n);if(n.type===sy.c7)e(n);return s};function eD(e){return t=>n=>s=>{const i=n(s);switch(s.type){case sy.c7:{e.finalFlush(),t.dispatch((0,ER.oH)()),t.dispatch({type:qR});const n=document.getElementById("session");n&&n.remove();break}}return i}}let tD=!1;const nD=(e,t)=>{const n=e.getEvents();return e=>(n.addListener(N.AU.ACTION,(n=>{const s=e.getState(),i=bs(),r=null!==i&&!1===i?.seen;tD||n.data.action!==N.ye.PLAY||(tD=!0,r&&(tD=!0,function(e){const t=encodeURIComponent(JSON.stringify({seen:e})),n=bs();null!==n&&n.seen===e||(0,R.y)({name:gs,days:30,domain:".spotify.com",value:t})}(!0),t.send(ys(s.session.isAnonymous,{country:s.session.userCountry,os:(0,v.k)()})),e.dispatch((0,He.Q9)())))})),e=>t=>e(t))},sD=()=>e=>t=>{const n=e(t);switch(t.type){case He.types.ENTER_FULLSCREEN:document.documentElement.classList.add("fullscreen");break;case He.types.LEAVE_FULLSCREEN:document.documentElement.classList.remove("fullscreen")}return n},iD={isOpen:!1},rD=(e=iD,t)=>{switch(t.type){case wI.w$.SHOW_ABOUT_RECS_MODAL:return{...e,isOpen:!0};case wI.w$.HIDE_ABOUT_RECS_MODAL:return{...e,isOpen:!1};default:return e}},aD={isOpen:!1},oD=(e=aD,t)=>{switch(t.type){case cA.w$.SHOW_ABOUT_SPOTIFY_MODAL:return{...e,isOpen:!0};case cA.w$.HIDE_ABOUT_SPOTIFY_MODAL:return{...e,isOpen:!1};default:return e}},lD={isOpen:!1,uri:"",dialog:void 0},cD=(e=lD,t)=>{switch(t.type){case GI.w$.SHOW_AGE_RESTRICTION_MODAL:return{...e,isOpen:!0,dialog:t.dialog};case GI.w$.GET_AGE_RESTRICTION_MODAL:return{...e,uri:t.uri};case GI.w$.HIDE_AGE_RESTRICTION_MODAL:return{...e,isOpen:!1};default:return e}},dD={isOpen:!1,playlistUri:void 0,uri:void 0,uris:void 0,position:void 0,playlistName:void 0,newUris:void 0},uD=(e=dD,t)=>{switch(t.type){case nc.w$.SHOW_DUPLICATE_TRACKS_DIALOG:return{...e,isOpen:!0,playlistUri:t.playlistUri,uri:t.uri,uris:t.uris,position:t.position,playlistName:t.playlistName,newUris:t.newUris};case nc.w$.HIDE_DUPLICATE_TRACKS_DIALOG:return{...e,isOpen:!1};default:return e}},mD={ads:!1},pD=(e,t)=>(t.type,e||mD),hD={isOpen:!1},gD=(e=hD,t)=>{switch(t.type){case dA.w$.SHOW_LICENSES_MODAL:return{...e,isOpen:!0};case dA.w$.HIDE_LICENSES_MODAL:return{...e,isOpen:!1};default:return e}},fD=e=>{const t=(0,u.SM)();return{isBrowser:t===m.q.Web,isPWA:t===m.q.PWA,isDesktop:t===m.q.Desktop,shouldCalloutPWA:(0,u.uo)(),isDeveloperMode:e.isDeveloperMode,isVideoSupported:e.isVideoSupported}},yD=e=>(t=fD(e),n)=>n.type===Ge?fD(e):t,_D={device:null,castState:"NO_DEVICES_AVAILABLE",connectingCastDeviceId:null},bD=(e,t)=>{const n=t.deviceInfo;return n&&isNaN(n.volume)&&(n.volume=0),{...e,device:n}},vD=(e,t)=>({...e,castState:t.castState}),xD=(e,t)=>({...e,connectingCastDeviceId:t.deviceId}),CD=e=>({...e,connectingCastDeviceId:null}),ED=e=>(localStorage.removeItem(I),{...e}),SD=(()=>{const e={[ER.i2.DEVICE_INFO_CHANGED]:bD,[ER.i2.PLAYBACK_CLEAR_DATA]:ED,[iu]:vD,[au]:xD,[ou]:CD};return(t,n)=>{let s=null;return n.type in e&&(s=e[n.type](s||t,n)),s||t||_D}})(),wD="searchHistory",ID={contexts:(()=>{const e=localStorage.getItem(wD);return e?JSON.parse(e).filter((e=>"uri"in e)):[]})()},AD=(e=ID,t)=>{switch(t.type){case KR:{const n=t.uri?((e,t,n,s)=>[{uri:e,name:t,image:n}].concat(s.filter((t=>t.uri!==e))).splice(0,4))(t.uri,t.name,t.image,e.contexts):e.contexts;try{localStorage.setItem(wD,JSON.stringify(n))}catch(e){}return{...e,contexts:n}}case qR:return localStorage.removeItem(wD),{...e,contexts:[]};default:return e}},TD={},kD=(e=TD,t)=>{switch(t.type){case $R.i2.REQUEST_SEO_EXPERIMENT_DATA:return{...e,uri:t.uri};case $R.i2.SET_SEO_EXPERIMENT_DATA:return{...e,...t.data};default:return e}},ND=e=>{return(0,bL.TL)({playback:SD,session:sy.cF,ui:Sw.S5,searchHistory:AD,features:pD,duplicateTracks:uD,ageRestriction:cD,platform:yD(e),ads:(t=e.container,(0,bL.TL)({sponsoredPlaylist:fR,leaderboard:hR,root:aR,adFeedback:iR,...t===m.q.Desktop?{billboard:dR,hpto:mR,vto:_R,audio:lR}:{}})),inAppMessaging:SI,aboutRecs:rD,seoExperiment:kD,...e.container===m.q.Desktop&&{aboutSpotify:oD,licenses:gD}});var t},OD=bL.Jn,PD=(e,t)=>{const{session:n}=e,{actionStoreApi:s,adManagers:i,ageRestrictionApi:r,deferredAction:a,eventSender:o,followApi:l,history:c,libraryApi:d,offlineApi:u,platform:m,playbackApi:p,playerApi:h,playlistApi:g,rootlistApi:f,serviceWorkerMessenger:y,socialConnectApi:_,transport:b}=t,v=ve(m),x=[];return v?x.push((e=>()=>t=>n=>{const s=t(n);return n.type===sy.c7&&e.finalFlush().finally(RR.a),s})(o)):(n?.isAnonymous||x.push((e=>t=>n=>s=>{const i=n(s),r=t.getState(),a=r.session;if(s.type in ER.i2){const{hasOccurred:e,isOpen:n}=t.getState().ui.playbackNotSupportedErrorDialog;if(e&&!n)return t.dispatch(He.Mp()),i}switch(s.type){case sy.OG:!FR&&a.accessToken&&(FR=YR(t,e),t.getState().features&&t.getState().features.mwp&&window.addEventListener("focus",(()=>{FR&&FR._controller&&!FR._controller._state?FR=YR(t,e):FR.getCurrentState().then((n=>{n||(FR=YR(t,e))}))})));break;case ER.i2.SET_ACTIVE_DEVICE:r.playback.device&&r.playback.device.id===s.id||FR.transfer(s.id)}return i})(s)),x.push(xR),x.push(LR(b,o,m.enableCastConnect))),[(0,vR.Ux)(h,d,f,l,s),(E=u,e=>(E.getEvents().addListener(te.k.ERROR,(t=>{t.data.code===ee.uI.DEVICE_LIMIT_REACHED&&e.dispatch((0,He.sx)())})),e=>async t=>{e(t)})),(C=c.push,e=>t=>n=>{const{pathname:s,search:i,hash:r}=window.location,{dispatch:a}=e,o=e.getState(),l=new RegExp(Wt),{OPEN_SIGNUP_PROMPT_DIALOG:c,CLOSE_SIGNUP_PROMPT_DIALOG:d,UPDATE_UI_HISTORY_STATE:u}=He.types;switch(n.type){case c:C({pathname:s,search:i,state:{},hash:Wt});break;case d:C({pathname:s,search:i,state:{},hash:""});break;case u:(e=>e.ui.improvedSignupPromptDialog.isOpen)(o)&&!l.test(r)&&a((0,He.iE)())}return t(n)}),SL(a),...x,...tR(v,c,i,p,h),ZR(y),bR(r),DR(g),eD(o),sD,fI(c,h,_),XR,MR(o),UR,nD(h,o),JR(),vL.c];var C,E};n(65784);hL("playback_load_start");const jD=()=>{let e=document.getElementById("main");return e||(e=document.createElement("div"),e.id="main",document.body.appendChild(e)),e};async function LD(e,t,n){if(null===e||null===t)return;const i=await Ae.hash(e.username);var r;(0,s.SA)((e=>{(0,u.SM)()===m.q.Desktop&&e.setUser({id:i}),e.setTag("product",t.product)})),n.dispatch((r={country:t.country,uri:e.uri,id:e.username,display_name:e.displayName||void 0,images:e.images.map((({url:e,width:t,height:n})=>({url:e,width:t||null,height:n||null}))),product:t.product,policies:{opt_in_trial_premium_only_market:"1"===t["opt-in-trial-premium-only-market"]},type:"user",avatarBackgroundColor:e.avatarBackgroundColor},{type:VL.S,data:r})),n.dispatch(function(e){return{type:VL.Q,data:e}}(t))}(0,a.bT)(),async function(){if(h()){const e=.001,t=[];let n=0;0;const s="xpui_2024-02-23_1708709925614_4c6498b";(0,T.io)("https://de32132fc06e4b28965ecf25332c3a25@o22381.ingest.sentry.io/114855",s,{sampleRate:e,tracesSampleRate:n},{},void 0,t)}const e=await async function(){const e=(0,u.SM)();return(0,g.w)(e)}(),t=e.getSession(),n=e.getHistory(),p=e.getFeatureFlags(),f=e.getSEOExperiments(),y=e.getControlMessageAPI();(0,s.SA)((t=>{Object.keys(p).forEach((e=>{t.setExtra(e,p[e])})),e.container&&t.setTag("container",e.container)})),Ue.setup(),mA(e.container,e.operatingSystem);const _=e.getEventSender();y.getEvents().addListener("message",(t=>{t.data.type===d.ak.NAVIGATION&&async function(e,t){if(!t)return;const n=yL(t);if(!n)return;const{url:s}=n;if(Be(s)){const t=e.getEventSender();fL(n,t)}await _L(n,e);const i=`${s.pathname}${s.search}`;e.getHistory().push(i,{referrer:"deeplink"})}(e,t.data.data)})),function(){let e;if("undefined"==typeof window)return!1;if(void 0!==window.orientation)switch(window.orientation){case 0:case 180:e=window.screen.width;break;default:e=window.screen.height}else{const t=window.screen.orientation&&window.screen.orientation.type||window.screen.msOrientation||"";if(0===t.indexOf("portrait"))e=window.screen.width;else{if(0!==t.indexOf("landscape"))return!1;e=window.screen.height}}return e<=be}()&&!p.mwp&&(window.location.href="https://www.spotify.com");const{gtmId:b,market:v,locale:x,userCountry:C}=(0,E.e)("config"),S=ve(e),w=e.getPlayerAPI(),I=e.getAuthorizationAPI(),A=e.getTransport(),k=await e.getServiceWorkerMessenger(),N=Spicetify.Platform.ReduxStore=function(e,t){const{platform:n}=t,s=PD(e,t);return(0,bL.eC)(ND(n),e,OD((0,bL.d4)(...s)))}({session:t,features:p,seoExperiment:f},{platform:e,history:n,playbackApi:e.getPlaybackAPI(),playerApi:w,rootlistApi:e.getRootlistAPI(),playlistApi:e.getPlaylistAPI(),followApi:e.getFollowAPI(),libraryApi:e.getLibraryAPI(),actionStoreApi:e.getActionStoreAPI(),serviceWorkerMessenger:k,offlineApi:e.getOfflineAPI(),transport:A,eventSender:_,adManagers:e.getAdManagers(),deferredAction:Ce(sessionStorage,"ANONYMOUS_DEFERRED_ACTION_KEY"),ageRestrictionApi:new xe(U.W.getInstance()),socialConnectApi:e.getSocialConnectAPI()});A.on(l.TransportEvent.ACCESS_TOKEN,(async()=>{const e=I.getTokenProvider(),t=await e({preferCached:!0});null!==t&&(U.W.setSession(t),N.dispatch((0,sy.Cn)(t)))}));let O=!1;A.on(l.TransportEvent.RECONNECTING,(()=>{O=!0})),A.on(l.TransportEvent.RECONNECTED,(()=>{O=!1})),A.on(l.TransportEvent.AUTHENTICATION_FAILED,(async()=>{if(!O&&!S){const e=I.getTokenProvider(),t=await e({preferCached:!0});null!==t&&t.isAnonymous||N.dispatch((0,sy.YX)())}})),(0,Ee.O1)("desktop-web-player",A),function(){Re.BrowserMetrics.getPageLoadTime().then((e=>{(0,Ee.Qp)({metric_type:Re.MetricTypes.TIMER,what:"time-to-page-load-nanoseconds",value:(0,Re.asNanoseconds)(Re.Time.fromMillis(e).asNanos()),tags:{route:Me(window.location.pathname)}})})).catch((()=>{})),Re.BrowserMetrics.getTimeToFirstPaint().then((e=>{(0,Ee.Qp)({metric_type:Re.MetricTypes.TIMER,what:"time-to-first-paint-nanoseconds",value:(0,Re.asNanoseconds)(Re.Time.fromMillis(e).asNanos()),tags:{route:Me(window.location.pathname)}})})).catch((()=>{})),Re.BrowserMetrics.getTimeToFirstContentfulPaint().then((e=>{(0,Ee.Qp)({metric_type:Re.MetricTypes.TIMER,what:"time-to-first-contentful-paint-nanoseconds",value:(0,Re.asNanoseconds)(Re.Time.fromMillis(e).asNanos()),tags:{route:Me(window.location.pathname)}})})).catch((()=>{}));const e=e=>{(0,Ee.Qp)(Re.BrowserMetrics.getWebVitalsMetric({...e,label:e.name},{route:Me(window.location.pathname)}))};(0,Le.M5)(e),(0,Le.I5)(e),(0,Le._y)(e),(0,Le.i0)(e),(0,Le.iA)(e),(0,Le.ew)(e)}(),S||(()=>{const e=new URL(window.location.href);return Fe(e)||((t=e).searchParams.has("utm_source")||t.searchParams.has("utm_medium")||t.searchParams.has("utm_campaign"))&&!(e=>"/"===e.pathname&&"pwa_install"===e.searchParams.get("utm_source"))(e)||!(e=>"/"===e.pathname||"/__noul__"===e.pathname||/\/intl-[A-Za-z][A-Za-z]$/.test(e.pathname))(e);var t})()&&((e,t)=>{const n=new URL(window.location.href),s=n.searchParams.get("dlsi")||je(),i={link:window.location.href,entity_uri:Ne(n),source:window.navigator.userAgent,deeplink_session_id:s};t?e.send((0,ke.A)(i)):e.send((0,Te.c)(i))})(_,t.isAnonymous);const P=c._s.getLocaleForTranslation();if(N.dispatch((0,sy.AJ)()),N.dispatch((0,Ve.Il)(P)),S){document.documentElement.setAttribute("lang",P)}((e,t,n)=>{e&&e.mediaSession&&t&&n&&(e.mediaSession.setActionHandler("previoustrack",(()=>n.skipToPrevious())),e.mediaSession.setActionHandler("nexttrack",(()=>n.skipToNext())),e.mediaSession.setActionHandler("play",(()=>n.resume())),e.mediaSession.setActionHandler("pause",(()=>n.pause())))})(window.navigator,N.dispatch,w),(e=>{const t=window.matchMedia("(display-mode: standalone)");t.addEventListener?t.addEventListener("change",(t=>e(t.matches))):t.addListener((t=>e(t.matches)))})((()=>{N.dispatch({type:Ge})})),function(e,t){const n=[];let s=0;n.push(e.location),e.listen(((e,i)=>{i===mL.push&&(s+=1,n.splice(s),n.push(e)),i===mL.pop&&(s=n.findIndex((t=>t.key===e.key))),i===mL.replace&&n.splice(s,1,e),t(pL(s,n))})),t(pL(s,n))}(n,(e=>{N.dispatch((0,He.gf)(e))})),await LD(e.initialUser,e.initialProductState,N);const j=jD();(0,Se.iQ)(),(0,i.C)(j).render((0,lt.jsx)(uL,{store:N,platform:e})),!S&&b&&(0,o.track)({dataLayerPushInitial:!0,googleTagManagerId:b,language:x?.locale,market:v,loggedIn:!t.isAnonymous,oneTrust:"1"===((0,R.Ij)("client-web_one-trust")??"1"),userCountry:C}),e.operatingSystem===m.I.macOS&&window.outerHeight===window.screen.height&&window.outerWidth===window.screen.width&&N.dispatch((0,He.sR)()),(0,a.kX)("UI init phase is done for logged-in experience"),t.isAnonymous||_.send((0,r.o)({width:window.outerWidth,height:window.outerHeight,mode:0,duration:0}),{flush:!1})}().catch((e=>{(0,T.es)(e),console.error(e);const t=jD();(0,i.C)(t).render((0,lt.jsx)(At,{}))}))},83968:(e,t,n)=>{"use strict";n.d(t,{Il:()=>a,cN:()=>r,ni:()=>i});var s=n(8968);const i=(e,t)=>{const n=e.contextMenuButtonFactory().hitUiReveal();t.logInteraction(n)},r=(e,t,n,i)=>{let r;e===s._w.ADD?r=t.hitDownload({itemToDownload:i}):e===s._w.REMOVE?r=t.hitRemoveDownload({itemToRemoveFromDownloads:i}):e===s._w.NO_PERMISSION&&(r=t.hitUiReveal?.()),r&&n.logInteraction(r)},a=({isPlaying:e,isActive:t,spec:n,logger:s,uri:i})=>{let r;return r=e?n.hitPause({itemToBePaused:i}):t?n.hitResume({itemToBeResumed:i}):n.hitPlay({itemToBePlayed:i}),s.logInteraction(r)}},97124:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,m:()=>a});var s=n(96651),i=n(2488);const r=(0,s.createContext)(null),a=({instance:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t}),o=()=>{const e=(0,s.useContext)(r);if(null===e)throw new Error("useActionStore must be used within a ActionStoreProvider");return e}},94904:(e,t,n)=>{"use strict";n.d(t,{IB:()=>u,K3:()=>r,S_:()=>d,ai:()=>a});var s=n(96651),i=n(2488);const r=e=>({type:"SET_BACKGROUND_COLOR",color:e}),a=()=>({type:"CLEAR_BACKGROUND_COLOR"});function o(e,t){switch(t.type){case"SET_BACKGROUND_COLOR":return{backgroundColor:t.color};case"CLEAR_BACKGROUND_COLOR":return{backgroundColor:null}}return e}const l={backgroundColor:null},c=(0,s.createContext)(null),d=({children:e})=>{const[t,n]=(0,s.useReducer)(o,l);return(0,i.jsx)(c.Provider,{value:[t,n],children:e})};function u(){const e=(0,s.useContext)(c);if(null===e)throw new Error("Trying to use 'BackgroundColorContext' without 'BackgroundColorProvider'!");return e}},75292:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,k:()=>o});var s=n(96651),i=n(2488);const r=(0,s.createContext)(null),a=({instance:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t}),o=()=>{const e=(0,s.useContext)(r);if(null===e)throw new Error("useCollectionPlatformAPI must be used within a CollectionPlatformAPIProvider");return e}},76361:(e,t,n)=>{"use strict";n.d(t,{ak:()=>c,kL:()=>r,Ai:()=>a,IP:()=>d,GU:()=>o,sZ:()=>l});var s=n(96651),i=n(2488);const r=(0,s.createContext)({getEvents:()=>{}}),a=({instance:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t});function o(e,t){const n=(0,s.useContext)(r),i=(0,s.useRef)(t);(0,s.useEffect)((()=>{i.current=t})),(0,s.useEffect)((()=>{const t=n.getEvents();function s({data:{type:t,data:n}}){t===e&&i.current(n)}return t.addListener("message",s),()=>{t.removeListener("message",s)}}),[e,n])}function l(e){const t=(0,s.useContext)(r);(0,s.useEffect)((()=>(t.enableMenuItem(e),()=>{t.disableMenuItem(e)})),[t,e])}let c=function(e){return e.COPY="copy",e.COPY_ADVANCED="copy_advanced",e.CUT="cut",e.PASTE="paste",e.SELECT_ALL="select_all",e.FILTER="filter",e.DELETE="delete",e.CREATE_NEW_FOLDER="create_new_folder",e.CREATE_NEW_PLAYLIST="create_new_playlist",e.BROWSE_BACKWARD="browse_backward",e.BROWSE_FORWARD="browse_forward",e.LOGOUT="logout",e.SHOW_ABOUT="show_about",e.SHOW_PREFERENCES="show_preferences",e.SHOW_SEARCH="show_search",e.SHOW_DEBUG_WINDOW="show_debug_window",e.SHOW_ACCOUNT="show_account",e.SHOW_COMMUNITY="show_community",e.SHOW_HELP="show_help",e.SHOW_LICENSES="show_licenses",e.SHOW_LICENSING_INFORMATION="show_licensing_information",e.SHOW_SCTA_INFORMATION="show_scta_information",e.NAVIGATION="navigation",e.ENTER_FULLSCREEN="enter_fullscreen",e.LEAVE_FULLSCREEN="leave_fullscreen",e.SET_PLATFORM_EMULATION_AUTO="set_platform_emulation_auto",e.SET_PLATFORM_EMULATION_MACOS="set_platform_emulation_macos",e.SET_PLATFORM_EMULATION_WINDOWS="set_platform_emulation_windows",e.SET_PLATFORM_EMULATION_LINUX="set_platform_emulation_linux",e}({}),d=function(e){return e.FILTER="enable_filter_item",e}({})},78128:(e,t,n)=>{"use strict";n.d(t,{_:()=>a,l:()=>o});var s=n(96651),i=n(2488);const r=(0,s.createContext)(null),a=({instance:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t}),o=()=>{const e=(0,s.useContext)(r);if(null===e)throw new Error("useEqualizerAPI must be used within a EqualizerProvider");return e}},70392:(e,t,n)=>{"use strict";n.d(t,{o:()=>a,s:()=>o});var s=n(96651),i=n(2488);const r=(0,s.createContext)(null),a=({instance:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t}),o=()=>{const e=(0,s.useContext)(r);if(null===e)throw new Error("useFollowAPI must be used within a FollowAPIProvider");return e}},45876:(e,t,n)=>{"use strict";n.d(t,{u:()=>l});var s=n(96651),i=n(14788),r=n(70392),a=n(5736),o=n(25972);const l=e=>{const t=(0,r.s)(),[n,l]=(0,s.useState)(!1);if(!(0,i.I9)(e))throw new Error(`Expected a Spotify uri in format 'spotify:user:***', got "${e}"`);const c=(0,s.useCallback)((s=>s&&!n?t.followUsers([e]):!s&&n?t.unfollowUsers([e]):Promise.resolve()),[t,n,e]);return(0,s.useEffect)((()=>{l(!1),t.isFollowing([e]).then((t=>{l(t[e]??!1)}))}),[t,e]),(0,a.s)(o.gz.OPERATION_COMPLETE,(t=>{t.data.uris.includes(e)&&!t.data.error&&(t.data.operation===o.nv.FOLLOW_USER?l(!0):t.data.operation===o.nv.UNFOLLOW_USER&&l(!1))})),[n,c]}},81947:(e,t,n)=>{"use strict";n.d(t,{I:()=>o,g:()=>a});var s=n(96651),i=n(2488);const r=(0,s.createContext)(null),a=({children:e,instance:t})=>(0,i.jsx)(r.Provider,{value:t,children:e}),o=()=>{const e=(0,s.useContext)(r);if(null===e)throw new Error("usePictureInPictureContext() must be used within a PictureInPictureProvider");return e}},32228:(e,t,n)=>{"use strict";n.d(t,{O:()=>a,Q:()=>r});var s=n(96651),i=n(2488);const r=(0,s.createContext)(null),a=({platformData:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t})},62100:(e,t,n)=>{"use strict";n.d(t,{O:()=>d,e:()=>u});var s=n(96651),i=n(49232),r=n(46064),a=n(37116),o=n(7092),l=n(2488);const c=(0,s.createContext)(null),d=({children:e,configuration:t})=>{const[n,s]=(0,a.k)(o.M,r.E3.empty().toJSON()),d=r.E3.merge(t,r.E3.fromJSON(n));return(0,l.jsx)(c.Provider,{value:{localConfiguration:d,remoteConfiguration:t,setOverrides:e=>s(r.E3.merge(r.E3.fromJSON(n),e).toJSON()),clearOverrides:()=>s(r.E3.empty().toJSON())},children:(0,l.jsx)(i.AB,{configuration:d,children:e})})};function u(){const e=(0,s.useContext)(c);if(null===e)throw new Error("Please wrap your component in RemoteConfigProviderWithOverrides");return e}},45268:(e,t,n)=>{"use strict";n.d(t,{W:()=>o,s:()=>a});var s=n(96651),i=n(2488);const r=(0,s.createContext)(void 0),a=({instance:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t}),o=()=>{const e=(0,s.useContext)(r);if(!e)throw new Error("useSegmentsAPI must be used within a SegmentsAPIProvider");return e}},68860:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var s=n(82504);function i(){const{ref:e,inView:t}=(0,s.cD)({initialInView:!1}),{ref:n,inView:i}=(0,s.cD)({initialInView:!1});return{titleRef:e,tracklistRef:n,displayTopBar:!t&&i}}},31396:(e,t,n)=>{"use strict";n.d(t,{IN:()=>l,SG:()=>c,Sc:()=>a,a0:()=>o,ms:()=>d,qw:()=>u});var s=n(14788),i=n(12100),r=n(43619);const a=[{url:"https://misc.scdn.co/liked-songs/liked-songs-64.png",width:64,height:64},{url:"https://misc.scdn.co/liked-songs/liked-songs-300.png",width:300,height:300},{url:"https://misc.scdn.co/liked-songs/liked-songs-640.png",width:640,height:640}];function o(e){if(!e)return null;const t=(0,s.ML)(e).toURI();return{type:r.s.LIKED_SONGS,uri:t,...l()}}function l(){return{images:a,name:i._s.get("sidebar.liked_songs")}}function c(e){const t=(0,s.ML)(e??void 0,"your-episodes").toURI();return{type:r.s.YOUR_EPISODES,uri:t,...d()}}function d(){return{images:[{url:"https://misc.scdn.co/your-episodes/SE-64.png",width:64,height:64},{url:"https://misc.scdn.co/your-episodes/SE-300.png",width:300,height:300},{url:"https://misc.scdn.co/your-episodes/SE-640.png",width:640,height:640}],name:i._s.get("sidebar.your_episodes")}}function u(){return{type:r.s.LOCAL_FILES,uri:"spotify:collection:local-files",images:[],name:i._s.get("local-files")}}},24392:(e,t,n)=>{"use strict";n.d(t,{i:()=>E,O:()=>C});n(73952),n(97296),n(41260);var s=n(96651),i=n(10124),r=n.n(i),a=n(78390),o=n(44616);const l="G22LIjgkDtQEFpyBZcDo",c="x-entityImage-xsmall",d="x-entityImage-small",u="x-entityImage-medium",m="x-entityImage-large",p="x-entityImage-square",h="x-entityImage-circle",g="x-entityImage-image",f="x-entityImage-imageContainer",y="x-entityImage-imagePlaceholder",_="x-entityImage-defaultSize";var b=n(76892),v=n(2488);const x=({title:e,type:t,className:n,iconSize:s})=>(0,v.jsx)("div",{"aria-label":e,className:r()(y,n),children:(0,v.jsx)(b.Y,{type:t,className:r()({[_]:!s}),size:s})});let C=function(e){return e[e.ROUNDED_CORNERS=0]="ROUNDED_CORNERS",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE",e}({});const E=(0,s.memo)((function({loadingMode:e="lazy",fadeIn:t=!1,type:n,title:s,images:i=[],shape:y=C.SQUARE,size:_=o.fm.SIZE_56,iconSize:b,className:E,onContextMenu:S=(()=>{}),onTouchStart:w=(()=>{}),onTouchEnd:I=(()=>{}),color:A}){const T=function(e=[]){const t=e.filter((e=>Boolean(e.width))),n=t.filter((e=>e.url&&e.width&&e.width>=o.oL[o.fm.SIZE_56])).sort(((e,t)=>e.width-t.width));return n.length?n:t}(i),k=T[0]?.url??i[0]?.url??"",N=T.map((({url:e,width:t})=>`${e} ${t/2}w, ${e} ${t}w`)).join(", ");return(0,v.jsx)("div",{className:r()(f,E,{[h]:y===C.CIRCLE,[p]:y===C.SQUARE,[l]:o.S_.includes(_),[c]:o.yy.includes(_),[d]:o.UV.includes(_),[u]:o.YD.includes(_),[m]:o.kj.includes(_)}),onContextMenu:S,onTouchStart:w,onTouchEnd:I,style:{width:`${o.oL[_]}px`,height:`${o.oL[_]}px`,"--extracted-entity-color":A},children:(0,v.jsx)(a.W,{loading:e,fadeIn:t,src:k,alt:s,ariaHidden:!0,className:r()(g),srcSet:N||void 0,testid:"entity-image",children:(0,v.jsx)(x,{title:s,type:n,iconSize:b})})})}))},44616:(e,t,n)=>{"use strict";n.d(t,{S_:()=>r,UV:()=>o,YD:()=>l,fm:()=>s,kj:()=>c,oL:()=>i,yy:()=>a});let s=function(e){return e[e.SIZE_20=0]="SIZE_20",e[e.SIZE_24=1]="SIZE_24",e[e.SIZE_48=2]="SIZE_48",e[e.SIZE_56=3]="SIZE_56",e[e.SIZE_64=4]="SIZE_64",e[e.SIZE_72=5]="SIZE_72",e[e.SIZE_80=6]="SIZE_80",e[e.SIZE_96=7]="SIZE_96",e[e.SIZE_104=8]="SIZE_104",e[e.SIZE_112=9]="SIZE_112",e[e.SIZE_120=10]="SIZE_120",e[e.SIZE_128=11]="SIZE_128",e[e.SIZE_136=12]="SIZE_136",e[e.SIZE_144=13]="SIZE_144",e[e.SIZE_152=14]="SIZE_152",e[e.SIZE_160=15]="SIZE_160",e[e.SIZE_168=16]="SIZE_168",e[e.SIZE_176=17]="SIZE_176",e[e.SIZE_184=18]="SIZE_184",e[e.SIZE_200=19]="SIZE_200",e[e.SIZE_232=20]="SIZE_232",e}({});const i={[s.SIZE_20]:20,[s.SIZE_24]:24,[s.SIZE_48]:48,[s.SIZE_56]:56,[s.SIZE_64]:64,[s.SIZE_72]:72,[s.SIZE_80]:80,[s.SIZE_96]:96,[s.SIZE_104]:104,[s.SIZE_112]:112,[s.SIZE_120]:120,[s.SIZE_128]:128,[s.SIZE_136]:136,[s.SIZE_144]:144,[s.SIZE_152]:152,[s.SIZE_160]:160,[s.SIZE_168]:168,[s.SIZE_176]:176,[s.SIZE_184]:184,[s.SIZE_200]:200,[s.SIZE_232]:232},r=[s.SIZE_20,s.SIZE_24],a=[s.SIZE_48,s.SIZE_56,s.SIZE_64],o=[s.SIZE_72,s.SIZE_80,s.SIZE_96,s.SIZE_104,s.SIZE_112,s.SIZE_120,s.SIZE_128],l=[s.SIZE_136,s.SIZE_144,s.SIZE_152,s.SIZE_160,s.SIZE_168,s.SIZE_176],c=[s.SIZE_184,s.SIZE_200,s.SIZE_232]},76892:(e,t,n)=>{"use strict";n.d(t,{Y:()=>m});var s=n(41712),i=n(57024),r=n(46360),a=n(15368),o=n(26020),l=n(40384),c=n(29996),d=n(43619),u=n(2488);function m({type:e,...t}){let n=r.I;switch(e){case"folder":case d.s.FOLDER:n=s.s;break;case"album":case d.s.ALBUM:n=a.M;break;case"artist":case d.s.ARTIST:n=o.s;break;case"show":case"episode":case d.s.SHOW:case d.s.EPISODE:n=l.s;break;case"user":case d.s.USER:n=c.O;break;case"book":case"audiobook":case d.s.AUDIOBOOK:n=i.K;break;case"playlist":case d.s.PLAYLIST:default:n=r.I}return(0,u.jsx)(n,{"aria-hidden":"true","":e,...t})}},36172:(e,t,n)=>{"use strict";n.d(t,{G:()=>m});var s=n(96651),i=n(10124),r=n.n(i),a=n(25620);const o="dS9Ou6JrRXZvYfs7VzpP";var l=n(37852),c=n(47300),d=n(62572),u=n(2488);const m=(0,s.memo)((function(e){const{getSpanColumns:t,className:n,children:i,areEncoreCardsEnabled:m}=e,p=(0,a.m)(),{containerRef:h,postProcessWidth:g}=(0,c.K)(),[f,y]=(0,s.useState)({containerWidth:-1}),_=(0,s.useCallback)((e=>{if(null===e)return;const n=(0,l.gN)(e,t,p);y({containerWidth:n-(m?24:0)})}),[p,t,m]);(0,d.m)({refOrElement:h,observeOnly:"width",observeOnMount:!0,onResize:({width:e})=>_(g(e))});const b={"--container-width":`${f.containerWidth}px`};return(0,u.jsx)("section",{className:r()(o,n,"FixedColumnsContainerInGrid"),style:{...b},children:i})}))},2284:(e,t,n)=>{"use strict";n.d(t,{C:()=>g});n(73952),n(97768);var s=n(96651),i=n(10124),r=n.n(i),a=n(25620),o=n(37852),l=n(47300);const c="main-gridContainer-gridContainer",d="main-gridContainer-uniformRowHeight",u="PpFTgmA5yHE2_VdobCMS",m="main-gridContainer-fixedWidth";var p=n(62572),h=n(2488);const g=(0,s.memo)((0,s.forwardRef)((function(e,t){const{onUpdate:n,className:i,fixedColumnCount:g=0,colGap:f,rowGap:y,render:_,onLayoutChange:b,testId:v="container",useUniformRowHeight:x=!1,setColumnWidthVariable:C=!1,removeOffsetMargin:E=!0}=e,S=(0,s.useRef)(null),w=(0,a.m)(),{containerRef:I,postProcessWidth:A}=(0,l.K)(),T=(0,s.useRef)(null);(0,s.useImperativeHandle)(t,(()=>S.current),[S]);const[k,N]=(0,s.useState)({columnCount:-1,columnWidth:-1,minContainerWidth:-1,gridGap:w.COLUMN_GRID_GAP});(0,s.useEffect)((()=>{b?.(k)}),[b,k]);const O=(0,s.useCallback)((e=>{if(null===T.current)return;const t=A(T.current);null!==t&&N((0,o.YB)(e,t,w))}),[w,A]);(0,p.m)({refOrElement:I,observeOnly:"width",observeOnMount:!0,onResize:({width:e})=>{T.current=e}}),(0,p.m)({refOrElement:S,observeOnly:"width",observeOnMount:!0,onResize:({width:e},t,n)=>{const s=n.find((e=>e.target===I?.current));s&&(T.current=Math.round(s.contentRect.width)),O(e)}}),(0,s.useLayoutEffect)((()=>{S.current&&I&&I.current&&(T.current=I.current.offsetWidth,O(S.current.offsetWidth))}),[I,O]),(0,s.useEffect)((()=>{n&&n()}),[e,k,n]);const P=g>0,j={"--column-count":`${g||k.columnCount}`,"--column-width":`${k.columnWidth}px`,"--grid-gap":`${k.gridGap}px`,"--min-container-width":`${k.minContainerWidth}px`};return(0,h.jsx)("div",{"":`grid-${v}`,ref:S,className:r()(c,i,{[m]:P,[d]:x,[u]:!E}),style:{...j,...P||C?{"--column-width":`${k.columnWidth}px`}:{},...y?{gridRowGap:y}:{},...f?{gridColumnGap:f}:{}},children:_(k)})})))},25620:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,m:()=>l});var s=n(96651),i=n(26208),r=n(2488);const a=s.createContext((0,i._B)(i.AZ.DEFAULT)),o=({children:e,config:t})=>(0,r.jsx)(a.Provider,{value:t,children:e}),l=()=>(0,s.useContext)(a)},47300:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,K:()=>l});var s=n(96651),i=n(2488);const r=Symbol("unset"),a=s.createContext(r);function o({children:e,containerRef:t,postProcessWidth:n=(e=>e)}){const r=(0,s.useMemo)((()=>({postProcessWidth:n,containerRef:t})),[n,t]);return(0,i.jsx)(a.Provider,{value:r,children:e})}const l=()=>{const e=(0,s.useContext)(a);if(e===r)throw new Error("useGridContainerWidth must be used within a GridContainerWidthProvider");return e}},66220:(e,t,n)=>{"use strict";n.d(t,{W:()=>h,M:()=>g});n(73952),n(97296),n(41260);var s=n(96651),i=n(56536);n(99400);const r=[[/<iframe[^>]*>/gi,"<span>"],[/<\/iframe>/gi,"</span>"],[/<script[^>]*>/gi,"<span>"],[/<\/script>/gi,"</span>"],[/srcdoc=/gi,"data-invalid="],[/onerror=/gi,"data-invalid="],[/onload=/gi,"data-invalid="],[/<form[^>]*>/gi,"<span>"],[/<\/form>/gi,"</span>"],[/<input[^>]*>/gi,"<span>"],[/<\/input>/gi,"</span>"],[/<link[^>]*>/gi,"<span>"],[/<\/link>/gi,"</span>"]];function a(e){return["http://","https://","#","/","www","spotify:"].some((t=>e.startsWith(t)))?e:""}var o=n(1072),l=n(14344);const c="N6RtDuJXe5BkIyhxU13g";var d=n(90464),u=n(2488);function m(e,t){return"tagName"in e&&e.tagName===t}function p(e){return"tagName"in e&&"string"==typeof e.tagName}const h=s.memo((function({source:e="",LinkComponent:t,onTimeStampClick:n,onLinkClick:d}){const h=(0,s.useMemo)((()=>function(e){const{LinkComponent:t,onTimeStampClick:n,onLinkClick:s}=e,r={replace:e=>{if(p(e)&&m(e,"a")&&t)try{return(0,u.jsx)(t,{to:a(e.attribs.href),onClick:s,children:(0,i.aW)(e.children.filter(f))})}catch(e){return null}else{if(p(e)&&m(e,"img")){const{src:t,alt:n,width:s,height:i}=e.attribs;return(0,u.jsx)(o.WC,{src:t,alt:n,loading:"eager",width:s,height:i,className:c})}if(p(e)&&m(e,"time")&&n)return(0,u.jsx)(l.k,{onClick:n,children:(0,i.aW)(e.children.filter(f))})}return e}};return r}({LinkComponent:t,onTimeStampClick:n,onLinkClick:d})),[t,n,d]),g=(0,s.useMemo)((()=>{return(0,i.cp)((t=e,r.reduce(((e,t)=>{const[n,s]=t;return e.replace(n,s)}),t)),h);var t}),[e,h]);return(0,u.jsx)(u.Fragment,{children:g})})),g=s.memo((function({source:e="",paragraphClassName:t,variant:n="ballad",semanticColor:i,LinkComponent:r,onLinkClick:a,onTimeStampClick:o,splitter:l=/\n\n/g}){const c=(0,s.useMemo)((()=>e.split(l).map(((e,s)=>(0,u.jsx)(d.F,{as:"p",className:t,variant:n,semanticColor:i,children:(0,u.jsx)(h,{source:e,LinkComponent:r,onTimeStampClick:o,onLinkClick:a})},s)))),[e,n,i,l,t,r,o,a]);return(0,u.jsx)(u.Fragment,{children:c})}));function f(e){return!(!e||"object"!=typeof e)&&((!("type"in e)||"cdata"!==e.type)&&((!("type"in e)||"root"!==e.type)&&("type"in e&&"comment"===e.type||(!(!("type"in e)||"string"!=typeof e.type||!["tag","script","style"].includes(e.type))||("type"in e&&"directive"===e.type||"type"in e&&"text"===e.type)))))}},70480:(e,t,n)=>{"use strict";n.d(t,{g:()=>a});var s=n(12100),i=n(43756),r=n(2488);const a=()=>(0,r.jsx)(i.E,{size:"small",title:s._s.get("download.available-offline"),semanticColor:"textBrightAccent"})},76172:(e,t,n)=>{"use strict";n.d(t,{W:()=>l});var s=n(93620),i=n(96651),r=n(56616);var a=n(28892),o=n(2488);const l=({className:e,animated:t=!1})=>{const n=((e=!0)=>{const t=(0,r.Oi)(),n=(0,r.y6)(),[s,a]=(0,i.useState)((()=>!(!e||!n)&&n.hasFocus()));return(0,i.useEffect)((()=>{const s=()=>{a(!0)},i=()=>{a(!1)};return n&&e&&(a(n.hasFocus()),t?.addEventListener("focus",s),t?.addEventListener("blur",i)),()=>{t?.removeEventListener("focus",s),t?.removeEventListener("blur",i)}}),[n,e,t]),s})(!(0,a.C)()&&t);return(0,o.jsx)("img",{className:e,width:"14",height:"14",alt:"",src:(0,s.K)(n?"images/equaliser-animated-green.gif":"images/equaliser-green.svg")})}},17556:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var s=n(12100),i=n(35300),r=n(2488);const a=({className:e,fullText:t=!1})=>(0,r.jsx)(i.E,{ariaLabel:s._s.get("card.a11y.explicit"),text:t?s._s.get("card.a11y.explicit"):"E",className:e})},59148:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var s=n(7896),i=n(12100),r=n(2488);function a(e){return(0,r.jsx)(s.E,{"aria-label":i._s.get("a11y.externalLink"),...e})}},41436:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});var s=n(12100),i=n(2488);const r=({size:e=32,className:t})=>(0,i.jsxs)("svg",{role:"img",width:e,height:e,viewBox:"0 0 12 12",className:t,"aria-label":s._s.get("age.restriction.nineeteen-badge"),children:[(0,i.jsx)("path",{fill:"#B3B3B3",d:"M4.607 9V3.328h-.96c-.112.592-.68 1.04-1.496 1.064v.752h1.36V9h1.096zm3.82-3.848c0 .616-.488 1.008-1.04 1.008-.568 0-1.04-.384-1.04-1.008 0-.608.48-1 1.04-1 .552 0 1.04.4 1.04 1zm-3 3.656c.288.184.84.312 1.312.312 1.92 0 2.92-1.208 2.92-3.256 0-1.8-1.049-2.656-2.249-2.656-1.208 0-2.144.816-2.144 1.976 0 1.192.92 1.904 1.952 1.904.64 0 1.136-.272 1.352-.632-.056 1.048-.72 1.696-1.84 1.696-.384 0-.8-.12-1.016-.24l-.288.896z"}),(0,i.jsx)("g",{transform:"scale(0.85) translate(1.1,1.1)",children:(0,i.jsx)("path",{fill:"#CD1A2B",d:"M6 11.2A5.2 5.2 0 01.8 6H-.8A6.8 6.8 0 006 12.8v-1.6zM11.2 6A5.2 5.2 0 016 11.2v1.6A6.8 6.8 0 0012.8 6h-1.6zM6 .8A5.2 5.2 0 0111.2 6h1.6A6.8 6.8 0 006-.8V.8zM6-.8A6.8 6.8 0 00-.8 6H.8A5.2 5.2 0 016 .8V-.8z"})})]})},78390:(e,t,n)=>{"use strict";n.d(t,{W:()=>p});var s=n(96651),i=n(10124),r=n.n(i);const a="main-image-image",o="main-image-loading",l="main-image-loaded";var c=n(57632),d=n(2488);function u(e){if(null!==e)return e}const m=({children:e,loading:t})=>"lazy"!==t||"undefined"==typeof HTMLImageElement||"loading"in HTMLImageElement.prototype?(0,d.jsx)(d.Fragment,{children:e}):(0,d.jsx)(c.U,{children:e}),p=(0,s.memo)((function(e){const{ariaHidden:t=!1,testid:n,src:i,alt:c="",radius:p=0,className:h="",srcSet:g,draggable:f=!1,sizes:y,children:_,loading:b,width:v,height:x,fadeIn:C=!1}=e,[E,S]=(0,s.useState)("loading"),w=(0,s.useRef)(null),[I,A]=(0,s.useState)(C);return(0,s.useLayoutEffect)((()=>{C&&w.current?.complete&&A(!1)}),[C]),i&&"error"!==E?(0,d.jsx)(m,{loading:b,children:(0,d.jsx)("img",{"aria-hidden":t,draggable:f,loading:b,src:i,"":n,alt:c,className:r()(a,h,{[o]:I,[l]:"loaded"===E}),style:{borderRadius:p||void 0},srcSet:g,sizes:y,width:u(v),height:u(x),onLoad:()=>S("loaded"),onError:()=>S("error"),ref:w})}):(0,d.jsx)(d.Fragment,{children:_})}))},31128:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var s=n(96651),i=n(82504),r=n(10124),a=n.n(r);const o="eqw9lvuoZHrkWMTdyTpY",l="lb08f71wES9AQnKx6e0R";var c=n(2488);const d=s.memo((function(e){const{triggerOnInitialLoad:t=!1,onReachBottom:n,showScrollbar:r=!0,horizontalScroll:d=!1,className:u}=e,{ref:m,inView:p}=(0,i.cD)({initialInView:t});return(0,s.useEffect)((()=>{p&&n&&n()}),[p,n]),(0,c.jsxs)("div",{className:a()({[l]:!r,[o]:d},u),"":"infinite-scroll-list",children:[e.children,(0,c.jsx)("div",{ref:m})]})}))},57632:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var s=n(96651),i=n(82504);const r="VvxVxrxVVFjUD6BNsUub";var a=n(2488);const o=(0,s.memo)((function(e){const{children:t}=e,[n,o]=(0,s.useState)(!1),{ref:l,inView:c}=(0,i.cD)({triggerOnce:!0});return(0,s.useEffect)((()=>{c&&o(!0)}),[c]),(0,a.jsx)("div",{className:n?void 0:r,ref:l,children:n?t:null})}))},35300:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});const s="main-tag-container";var i=n(10124),r=n.n(i),a=n(2488);const o=({text:e,ariaLabel:t=e,title:n=t,className:i})=>(0,a.jsx)("span",{"aria-label":t,className:r()(s,i),title:n,children:e})},14344:(e,t,n)=>{"use strict";n.d(t,{k:()=>l});n(73952),n(41260),n(99400);var s=n(96651);const i="NkWIcfgnWR9AXfikmWai",r="OvmkrxKmI82x4jlgEZG0";var a=n(90464),o=n(2488);const l=s.memo((function({onClick:e,children:t}){return(0,o.jsx)("button",{"":"clickable-timestamp",className:r,onClick:()=>{const n=c(t),s=1e3*n.split(":").reverse().reduce(((e,t,n)=>e+parseInt(t,10)*Math.pow(60,n)),0);e(s)},children:(0,o.jsx)(a.F,{className:i,variant:"ballad",children:t})})}));function c(e){let t="";return s.Children.map(e,(e=>{"string"==typeof e||"number"==typeof e?t+=e:s.isValidElement(e)&&e.props.children&&(t+=c(e.props.children))})),t}},99992:(e,t,n)=>{"use strict";n.d(t,{C:()=>m});n(73952),n(39568);var s=n(96651),i=n(62572);const r="main-rootlist-wrapper",a="main-rootlist-topSentinel",o="main-rootlist-bottomSentinel";var l=n(10952),c=n(2488);const d=(e,t)=>(0,c.jsx)("div",{style:{height:e}},t),u=()=>"undefined"!=typeof window&&"requestIdleCallback"in window,m=({renderRows:e,nrRows:t,rowHeight:n,scrollNodeRef:m,nrRowsOverscan:p=10,renderPlaceholder:h=d})=>{const g=(0,l.E)(),f=(0,s.useRef)(null),y=(0,s.useRef)(null),_=(0,s.useRef)(null),b=(0,s.useRef)(0),[v,x]=(0,s.useState)(u()?0:p),[C,E]=(0,s.useState)(null),[S,w]=(0,s.useState)(0),I=(0,s.useCallback)((()=>{const e=m.current;if(!e)return;const t=Math.ceil(e.offsetHeight/n)+2;w(t)}),[m,n]),A=(0,s.useCallback)((()=>{const e=m.current;if(!e)return;const t=Math.floor((e.scrollTop-b.current-1)/n);E(t)}),[n,m]);(0,s.useEffect)((()=>{u()&&window.requestIdleCallback((()=>{g()&&x(p)}))}),[g,p]),(0,s.useLayoutEffect)((()=>{const e=_.current,t=m.current;e&&t&&(b.current=e.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop)}),[m,_.current?.offsetTop]),(0,s.useEffect)((()=>{if(!window.IntersectionObserver)return()=>{};const e=new window.IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&A()}))}));return f.current&&e.observe(f.current),y.current&&e.observe(y.current),()=>{e.disconnect()}}),[A,C,S,t]),(0,s.useLayoutEffect)((()=>{I(),A()}),[I,A]),(0,i.m)({refOrElement:m,observeOnly:"height",onResize:I});const T=(C??0)-v,k=Math.min(null!==C?T+2*v+S-1:-1,t-1),N=Math.max(T,0),O=Math.max(k,-1),P=Math.min(S>0?t*n:0,Math.max(n*(v-2),0)),j=n*N,L=n*t,R=L-n*Math.max(t-(O+1),0);return(0,c.jsxs)("div",{ref:_,className:r,style:{height:`${L}px`,"--row-height":`${n}px`},role:"presentation",children:[(0,c.jsxs)("div",{ref:f,"":"top-sentinel",className:a,style:{height:`${j+P}px`},role:"presentation",children:[h(`calc(100% - ${P}px)`,"top-sentinel"),(0,c.jsx)("div",{style:{height:`${P}px`},role:"presentation"})]}),(0,c.jsx)("div",{style:{transform:`translateY(${j}px)`},role:"presentation",children:e(N,O)}),(0,c.jsxs)("div",{ref:y,"":"bottom-sentinel",className:o,style:{height:`calc(100% - ${R}px + ${P}px)`},role:"presentation",children:[(0,c.jsx)("div",{style:{height:`${P}px`},role:"presentation"}),h(`calc(100% - ${P}px)`,"bottom-sentinel")]})]})}},952:(e,t,n)=>{"use strict";n.d(t,{g:()=>a});var s=n(96651),i=n(74764),r=n(2488);const a=({children:e,...t})=>{const n=(0,s.useRef)(null);return(0,i.U)(n),(0,r.jsx)("li",{ref:n,role:"presentation",...t,children:e})}},65236:(e,t,n)=>{"use strict";n.d(t,{ET:()=>g,Wo:()=>_,gd:()=>f.g,O4:()=>r});var s=n(96651),i=n(2488);const r=s.forwardRef((function({children:e,depth:t=0,...n},s){return(0,i.jsx)("ul",{tabIndex:-1,ref:s,role:"menu","data-depth":t,...n,children:e})}));var a=n(4552),o=n(50156),l=n(21396);const c='a[href], button, input[role="searchbox"], input[type="range"], [role="button"]',d='[role="menuitem"],\n [role="menuitemradio"],\n [role="menuitemcheckbox"]';function u(e,t,n){if(!e)return void console.error("No menu element found. Canceling moving focus");if(!(0,l.KU)(e))return;const s=e.querySelector('[tabindex="0"]');t===a.w.UP&&(0,l.BA)(s,p(e,s,a.w.UP,n)),t===a.w.DOWN&&(0,l.BA)(s,p(e,s,a.w.DOWN,n)),t===a.w.RIGHT&&(0,l.BA)(s,m(s)),t===a.w.LEFT&&(0,l.BA)(s,function(e){const t=!!e.closest('ul[role="menu"] ul[role="menu"]');if(!t)return null;let n=e.closest('ul[role="menu"]')?.closest('li[role="presentation"]')?.querySelector(d)??null;if(!n){const t=e.closest('ul[role="menu"]')?.id;t&&(n=document.querySelector(`[aria-controls="${t}"]`)?.closest(d)??null)}return n}(s))}function m(e){if(!e?.closest(d)?.hasAttribute("aria-expanded"))return null;let t=e.closest('li[role="presentation"]').querySelector('ul[role="menu"]');if(!t){const n=e.closest('[role="menuitem"][aria-controls]')?.getAttribute("aria-controls");n&&(t=document.querySelector(`#${n}[role="menu"]`))}const n=t?.querySelector(c);return n??null}function p(e,t,n,s){const i=t.closest('ul[role="menu"]'),r=t.closest('li[role="presentation"]');if(!i||!r)return t;let o=t;const l=s?.(e,t,n);if(l)return l;if(n===a.w.UP){const t=i.querySelectorAll(':scope > li[role="presentation"]');let n=r.previousElementSibling;for(document.activeElement===e&&(n=t[t.length-1]);n!==r&&(n||(n=t[t.length-1]),o=n.querySelector(c),!o);)n=n.previousElementSibling}else{let t=r.nextElementSibling;for(document.activeElement===e&&(t=i.querySelector("li"));t!==r&&(t||(t=i.querySelector("li")),o=t.querySelector(c),!o);)t=t.nextElementSibling;o=t.querySelector(c)}return o||t}var h=n(68208);const g=({getInitialFocusElement:e,onKeyDown:t,onClose:n,onFocusVerticalItem:c,...d})=>{const p=(0,s.useRef)(null);(0,h.K)(),(0,o.y)({ref:p,getFocusElement:e,onFocus:e=>{(0,l.BA)(null,e,{preventScroll:!0})}});const g=(0,s.useCallback)((e=>{var s;p.current?.contains(e.target)&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),e.stopPropagation()),"Escape"!==e.key&&"Tab"!==e.key||n?.(),"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||document.documentElement.classList.remove("no-focus-outline"),"ArrowUp"===e.key&&u(p.current,a.w.UP,c),"ArrowDown"===e.key&&u(p.current,a.w.DOWN,c),"ArrowLeft"===e.key&&u(p.current,a.w.LEFT),"ArrowRight"===e.key&&u(p.current,a.w.RIGHT),"Enter"===e.key&&(s=p.current)&&m(s.querySelector('[tabindex="0"]'))&&(e.preventDefault(),u(p.current,a.w.RIGHT)),t?.(e))}),[c,t,n]);return(0,i.jsx)(r,{ref:p,onKeyDown:g,...d})};var f=n(952),y=n(72199);const _=(0,s.forwardRef)(((e,t)=>{const n=e.as,{testid:s,...r}=e;return n?(0,i.jsx)(n,{ref:t,...r}):r.href?(0,i.jsx)("a",{ref:t,"":s,...r}):r.to?(0,i.jsx)(y.Af,{ref:t,...r}):(0,i.jsx)("button",{"":s,ref:t,...r})}))},5948:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var s=n(22444),i=n.n(s),r=n(2488);const a=e=>(0,r.jsx)(i(),{...e})},59624:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});var s=n(32976),i=n(2488);const r=({color:e=s.oZb,height:t="30",className:n})=>(0,i.jsxs)("svg",{className:n,width:"114",role:"img",height:t,viewBox:"0 0 114 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{id:"spotify-premium-logo-icon",children:"Spotify logo"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.7835 10.7851C37.7835 10.6921 37.86 10.6156 37.9545 10.6156L40.1039 10.6246C41.8485 10.6246 42.849 11.4421 42.849 12.9076C42.849 14.2486 41.745 15.1501 40.1039 15.1501L37.9545 15.1411C37.86 15.1411 37.7835 15.0646 37.7835 14.9701V10.7851ZM40.296 8.11502L35.232 8.10602C35.1375 8.10602 35.061 8.18252 35.061 8.27552V21.8085C35.061 21.903 35.1375 21.9795 35.232 21.9795H37.614C37.707 21.9795 37.7835 21.903 37.7835 21.8085V17.631L40.026 17.64C43.4175 17.64 45.6105 15.759 45.6105 12.81C45.6105 9.95852 43.524 8.11502 40.296 8.11502Z",fill:e}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M58.4025 13.4759C59.9115 13.4759 60.6195 14.6519 60.7964 15.8174H55.956C56.217 14.3879 57.1605 13.4759 58.4025 13.4759ZM58.4218 11.217C55.4805 11.217 53.262 13.5765 53.262 16.704V16.743C53.262 19.911 55.5375 22.2105 58.6725 22.2105C60.264 22.2105 61.599 21.6705 62.6473 20.604C62.718 20.5305 62.8723 20.355 62.9775 20.2335C63.039 20.163 63.0315 20.058 62.961 19.995L61.5795 18.7695C61.5165 18.714 61.4235 18.714 61.362 18.7695C61.212 18.9075 60.957 19.14 60.93 19.161C60.24 19.7115 59.553 19.953 58.7115 19.953C57.2985 19.953 56.268 19.098 55.98 17.7075H63.4305L63.4485 17.4975C63.4663 17.28 63.4831 17.079 63.4831 16.878C63.4831 14.061 61.9185 11.217 58.4218 11.217Z",fill:e}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M76.7895 11.217C75.414 11.217 74.289 11.76 73.3575 12.876C72.7245 11.8035 71.6474 11.217 70.296 11.217C68.8529 11.217 67.968 11.9145 67.356 12.645V11.5995C67.356 11.5065 67.2795 11.43 67.1865 11.43H64.8435C64.749 11.43 64.6724 11.5065 64.6724 11.5995V21.8085C64.6724 21.903 64.749 21.9795 64.8435 21.9795H67.1865C67.2795 21.9795 67.356 21.903 67.356 21.8085V16.0665C67.356 14.622 68.1465 13.6875 69.3675 13.6875C70.5719 13.6875 71.2635 14.5275 71.2635 15.99V21.8085C71.2635 21.903 71.34 21.9795 71.433 21.9795H73.776C73.8705 21.9795 73.9469 21.903 73.9469 21.8085V16.047C73.9469 14.5695 74.6985 13.6875 75.9585 13.6875C77.5245 13.6875 77.8529 14.9505 77.8529 16.0095V21.8085C77.8529 21.903 77.9295 21.9795 78.024 21.9795H80.367C80.4615 21.9795 80.5365 21.903 80.5365 21.8085V15.294C80.5365 12.741 79.1355 11.217 76.7895 11.217Z",fill:e}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M93.0376 17.361C93.0376 18.795 92.2021 19.7205 90.9106 19.7205C89.6131 19.7205 88.8991 18.897 88.8991 17.4V11.5995C88.8991 11.5065 88.8226 11.43 88.7279 11.43H86.3849C86.2921 11.43 86.2156 11.5065 86.2156 11.5995V18.096C86.2156 20.622 87.6736 22.191 90.0211 22.191C91.2421 22.191 92.2321 21.7155 93.0376 20.7405V21.8085C93.0376 21.903 93.1141 21.9795 93.2071 21.9795H95.5501C95.6446 21.9795 95.7211 21.903 95.7211 21.8085V11.5995C95.7211 11.5065 95.6446 11.43 95.5501 11.43H93.2071C93.1141 11.43 93.0376 11.5065 93.0376 11.5995V17.361Z",fill:e}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M109.308 11.217C107.934 11.217 106.808 11.76 105.876 12.876C105.243 11.8035 104.166 11.217 102.815 11.217C101.373 11.217 100.487 11.9145 99.876 12.6435V11.5995C99.876 11.5065 99.7995 11.43 99.705 11.43H97.362C97.269 11.43 97.1925 11.5065 97.1925 11.5995V21.8085C97.1925 21.903 97.269 21.9795 97.362 21.9795H99.705C99.7995 21.9795 99.876 21.903 99.876 21.8085V16.0665C99.876 14.622 100.665 13.6875 101.888 13.6875C103.092 13.6875 103.782 14.5275 103.782 15.99V21.8085C103.782 21.903 103.859 21.9795 103.953 21.9795H106.296C106.389 21.9795 106.466 21.903 106.466 21.8085V16.047C106.466 14.5695 107.217 13.6875 108.477 13.6875C110.045 13.6875 110.373 14.9505 110.373 16.0095V21.8085C110.373 21.903 110.45 21.9795 110.543 21.9795H112.886C112.98 21.9795 113.057 21.903 113.057 21.8085V15.294C113.057 12.741 111.656 11.217 109.308 11.217Z",fill:e}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52.7354 11.232H52.4204C51.0464 11.2425 49.9229 11.919 49.1909 13.167V11.5995C49.1909 11.5065 49.1144 11.43 49.0199 11.43H46.6769C46.5824 11.43 46.5074 11.5065 46.5074 11.5995V21.8085C46.5074 21.903 46.5824 21.9795 46.6769 21.9795H49.0199C49.1144 21.9795 49.1909 21.903 49.1909 21.8085V17.922C49.1909 15.5085 50.3533 14.106 52.3859 14.0565L52.3889 14.055H52.7354C52.8119 14.055 52.8734 13.9935 52.8734 13.9155V11.3715C52.8734 11.295 52.8119 11.232 52.7354 11.232Z",fill:e}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84.5339 11.4975H82.2195C82.1265 11.4975 82.05 11.574 82.05 11.667V21.768C82.05 21.8625 82.1265 21.9375 82.2195 21.9375H84.5339C84.6285 21.9375 84.7035 21.8625 84.7035 21.768V11.667C84.7035 11.574 84.6285 11.4975 84.5339 11.4975Z",fill:e}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M83.388 6.8985C82.4715 6.8985 81.7275 7.641 81.7275 8.5575C81.7275 9.4755 82.4715 10.2195 83.388 10.2195C84.306 10.2195 85.0485 9.4755 85.0485 8.5575C85.0485 7.641 84.306 6.8985 83.388 6.8985Z",fill:e}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.8725 13.2975C19.038 10.4265 11.0625 10.1625 6.44685 11.5635C5.7045 11.7885 4.9215 11.37 4.6965 10.629C4.4715 9.88648 4.89 9.10348 5.6325 8.87848C10.9305 7.26898 19.7385 7.58098 25.305 10.884C25.9723 11.28 26.19 12.141 25.7955 12.807C25.3995 13.473 24.5385 13.6935 23.8725 13.2975ZM23.715 17.55C23.376 18.1005 22.656 18.273 22.1055 17.9355C18.075 15.4575 11.9279 14.7405 7.15953 16.188C6.54003 16.374 5.88753 16.026 5.70003 15.408C5.51253 14.79 5.86203 14.1375 6.48003 13.95C11.9279 12.297 18.7005 13.098 23.3295 15.9435C23.88 16.281 24.0525 17.001 23.715 17.55ZM21.8789 21.6345C21.609 22.077 21.0345 22.215 20.5935 21.9465C17.0715 19.794 12.6375 19.3065 7.41602 20.5005C6.91352 20.616 6.41102 20.2995 6.29702 19.797C6.18152 19.293 6.49502 18.792 7.00052 18.678C12.714 17.3715 17.6159 17.934 21.5685 20.349C22.0095 20.619 22.149 21.195 21.8789 21.6345ZM15 0C6.7155 0 0 6.7155 0 15C0 23.2845 6.7155 30 15 30C23.2845 30 30 23.2845 30 15C30 6.7155 23.2845 0 15 0Z",fill:e})]})},28168:(e,t,n)=>{"use strict";n.d(t,{_:()=>c});var s=n(10124),i=n.n(s),r=n(81940),a=n(56092);const o="UyzJidwrGk3awngSGIwv";var l=n(2488);const c=({durationMs:e,className:t,displaySeconds:n})=>{const{hours:s,minutes:c,seconds:d}=(0,r.s)(e);return n=!1!==n&&!s&&d,(0,l.jsx)("span",{className:i()(o,t),children:(0,a.P)({h:s,m:c,s:n?d:0})})}},56616:(e,t,n)=>{"use strict";n.d(t,{Oi:()=>d,y6:()=>u,y9:()=>c});var s=n(96651),i=n(1952),r=n(91592),a=n(41852),o=n(2488);const l=(0,s.createContext)(null),c=({handle:e,children:t})=>{const n=(0,r.c)({key:"sp-emotion-css",container:e?.document.head});return(0,o.jsx)(l.Provider,{value:e??null,children:(0,o.jsx)(i.Ko,{target:e?.document?.head,children:(0,o.jsx)(a.C,{value:n,children:t})})})};function d(){const e=(0,s.useContext)(l);return"undefined"==typeof window?null:e??window}function u(){const e=d();return e?.document??null}},4964:(e,t,n)=>{"use strict";n.d(t,{G0:()=>a,W4:()=>o});var s=n(96651),i=n(2488);const r=(0,s.createContext)(null),a=({instance:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t}),o=()=>{const e=(0,s.useContext)(r);if(null===e)throw new Error("useRequestBuilder must be used within a RequestBuilderProvider");return e}},16504:(e,t,n)=>{"use strict";n.d(t,{W:()=>c,y:()=>l});var s=n(96651),i=n(71796),r=n(96768),a=n(2488);const o=(0,s.createContext)(null),l=({children:e,surface:t,uris:n})=>{const s=(0,i.ek)((()=>({surface:t,uris:n?.filter(r.g)??[]})),[t,n]);return(0,a.jsx)(o.Provider,{value:s,children:e})};function c(){return(0,s.useContext)(o)}},66514:(e,t,n)=>{"use strict";n.d(t,{Q9:()=>l.Q,yc:()=>d,CX:()=>m,Gm:()=>r});var s=n(76404),i=n(62984);function r(e){return async(t,n,r={})=>{const{operation:l}=t;if("subscription"===l)throw new Error("GraphQL subscriptions are not supported!");const c=await async function(e,t,n,r={}){const{operation:l}=t;try{let i;return i="mutation"===l?await async function(e,t,n,i){const{name:r}=t;return e.build().withHost(s.GO).withMethod("POST").withoutMarket().withPath("/query").withJsonContentType().withBody({variables:n,operationName:r,extensions:a(t)}).withQueryParameters({...i}).withEndpointIdentifier(`/query/${r}`).send()}(e,t,n,r):await async function(e,t,n,i){const{name:r}=t;return e.build().withHost(s.GO).withMethod("GET").withoutMarket().withPath("/query").withJsonContentType().withQueryParameters({operationName:r,variables:JSON.stringify(n),extensions:JSON.stringify(a(t)),...i}).withEndpointIdentifier(`/query/${r}`).send()}(e,t,n,r),i.body?.errors?.some((e=>"PersistedQueryNotFound"===e.message))?o(e,t,n,r):i}catch(s){const a=405;if(s instanceof i.S&&s.status===a)return o(e,t,n,r);throw s}}(e,t,n,r);return c.body}}function a(e){return{persistedQuery:{version:1,sha256Hash:e.sha256Hash}}}async function o(e,t,n,i){const{name:r,value:o}=t;if(null===o)throw new Error(`Fallback query for "${r}" is not available!`);return e.build().withHost(s.GO).withMethod("POST").withoutMarket().withPath("/query").withJsonContentType().withBody({operationName:r,variables:n,query:o,extensions:a(t)}).withQueryParameters({...i}).withEndpointIdentifier(`/query/${r}`).send()}var l=n(42144),c=n(2488);const d=({request:e,children:t})=>(0,c.jsx)(l.Q.Provider,{value:{request:e},children:t});n(73952),n(39568),n(41260);const u=50;function m(e,t=u){return async(n,s,i,r)=>{const a=[],o=Math.max(...i.map((e=>s[e]?.length??0)));for(let l=0;l<o;l+=t){const o={...s};i.forEach((e=>{o[e]=o[e]?.slice(l,l+t)})),void 0!==r?a.push(e(n,o,r)):a.push(e(n,o))}return(await Promise.all(a)).map((e=>{if(null===e||void 0!==e.errors||null===e.data)throw new Error("GraphQL batched query failed!");return e.data}))}}},45176:(e,t,n)=>{"use strict";n.d(t,{E_:()=>p,Qx:()=>h,S0:()=>g});var s=n(96651),i=n(49232),r=n(70396),a=n(24544),o=n(40068),l=n(2488);const c=(0,s.createContext)({optimizeImage:e=>e});let d=function(e){return e.ALBUM_COVER="ab67616d",e.PLAYLIST="ab67706c",e.ARTIST_AVATAR="ab676161",e.PODCAST_COVER="ab676563",e.AUDIOBOOK_COVERS="ab676663",e}({});const u={[d.ALBUM_COVER]:{jpeg:{"00004851":64,"00001e02":300,"0000b273":640},webp_85:{"000011eb":64,"0000e1a3":300,"0000aa54":640}},[d.PLAYLIST]:{jpeg:{"00006c11":64,"0000da84":300,"0000bebb":640},webp_85:{"0000dec5":64,"0000d72c":300,"000097ac":640}},[d.ARTIST_AVATAR]:{jpeg:{"0000f178":160,"00005174":320,"0000e5eb":640},webp_85:{"0000101f":160,"0000939b":320,"000086f7":640}},[d.PODCAST_COVER]:{jpeg:{"0000f68d":64,"00005f1f":300,"0000ba8a":640},webp_85:{"0000955f":64,"0000bdcf":300,"0000eeee":640}},[d.AUDIOBOOK_COVERS]:{jpeg:{"0000703b":64,"0000db5b":300,"000022a8":640},webp_85:{"00000c35":64,"000076bd":300,"0000382d":640}}},m=(0,r.Q)(d);const p=({children:e})=>{const t=(0,i.IP)(a.qm,{loadingValue:!1});let n=!1;const r=new globalThis.Image;r.onload=()=>{n=1===r.width},r.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=";const o=(0,s.useCallback)(((e,s)=>{if(!t)return e;const i=!0===navigator.connection?.saveData;return function(e,t,n){const[s,i,r,a,o]=e?.match(f)??[];if(m(r)){const e=function(e,t,n,{supportsWebP:s,devicePixelRatio:i=1}={}){const r=u[e]??{},{jpeg:a,webp_85:o}=r;if(t in a||t in o){let e="jpeg";if(s&&(e="webp_85"),n){const s=Object.entries(r[e]);for(const[e,t]of s)if(t>=n*i)return e;return s.at(-1)?.[0]??t}}return t}(r,a,t,n);if(e!==a){return`${i}${r}${e}${o}`}}return e}(e,s,{supportsWebP:n,isSaveDataEnabled:i,devicePixelRatio})}),[n,t]);return(0,l.jsx)(c.Provider,{value:{optimizeImage:o},children:e})};function h(){return(0,s.useContext)(c).optimizeImage}function g(){const e=h();return(0,s.useCallback)(((t,n)=>{if(t?.length){const s=t[0].url,i=e(s,n);if(i!==s)return[{url:i}]}const s=(0,o.C)(t,{desiredSize:n});return s?[s]:t}),[e])}const f=/^(https:\/\/i\.scdn\.co\/image\/|spotify:image:)([0-9a-f]{8})([0-9a-f]{8})(.*)$/},3844:(e,t,n)=>{"use strict";n.d(t,{u:()=>u,X:()=>d});var s=n(96651),i=n(93948),r=n(47192),a=n(14788),o=n(51528),l=n(51696);function c(e,t){const n=(0,s.useContext)(i.g),c=(0,s.useContext)(r.e);(0,s.useEffect)((()=>function(e,t,n,s){const i=(0,a.nX)(n)?.type;switch(i){case a.cH.ALBUM:case a.cH.ARTIST:case a.cH.SHOW:case a.cH.TRACK:case a.cH.LOCAL_TRACK:case a.cH.EPISODE:{const t=e.getEvents(),i=e=>{e.data.uri===n&&s(e.data.isInLibrary)};return t.addListener(o.Wg.UPDATE_ITEM,i,{uri:n}),()=>{t.removeListener(o.Wg.UPDATE_ITEM,i,{uri:n})}}case a.cH.PLAYLIST:case a.cH.PLAYLIST_V2:{const e=t.getEvents(),i=e=>{e.data.uri===n&&s(e.data.isInRootlist)};return e.addListener(l.KB.UPDATE_ITEM,i,{uri:n}),()=>{e.removeListener(l.KB.UPDATE_ITEM,i,{uri:n})}}default:return()=>{}}}(n,c,e,t)),[n,c,e,t])}function d(e,t=!1){const n=(0,s.useContext)(i.g),o=(0,s.useContext)(r.e),l=(0,s.useCallback)((()=>function(e,t,n){const s=(0,a.nX)(n)?.type;switch(s){case a.cH.ALBUM:case a.cH.ARTIST:case a.cH.SHOW:case a.cH.TRACK:case a.cH.LOCAL_TRACK:case a.cH.EPISODE:return e.containsSync(n);case a.cH.PLAYLIST:case a.cH.PLAYLIST_V2:return t.containsSync(n)}}(n,o,e)||t),[t,n,o,e]),[d,u]=(0,s.useState)(l);(0,s.useEffect)((()=>{u(l)}),[l]);const m=(0,s.useCallback)((async t=>{await async function(e,t,n,s){const i=(0,a.nX)(n)?.type;switch(i){case a.cH.ALBUM:case a.cH.ARTIST:case a.cH.SHOW:case a.cH.EPISODE:case a.cH.LOCAL_TRACK:case a.cH.TRACK:s?e.add({uris:[n]}):e.remove({uris:[n]});break;case a.cH.PLAYLIST:case a.cH.PLAYLIST_V2:s?t.add([n],{before:"start"}):t.remove([{uri:n}])}}(n,o,e,t)}),[e,n,o]);return c(e,u),[d,m]}function u(){return(0,s.useContext)(i.g)}},31360:(e,t,n)=>{"use strict";n.d(t,{Ow:()=>o,rE:()=>a});var s=n(96651),i=n(2488);const r=(0,s.createContext)(null),a=({instance:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t}),o=()=>{const e=(0,s.useContext)(r);if(null===e)throw new Error("useLocalStorageAPI must be used within a LocalStorageProvider");return e}},33996:(e,t,n)=>{"use strict";n.d(t,{g:()=>o,w:()=>a});var s=n(96651),i=n(2488);const r=(0,s.createContext)(null),a=({instance:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t}),o=()=>{const e=(0,s.useContext)(r);if(null===e)throw new Error("usePlaylistPermissionsAPI must be used within a PlaylistPermissionsProvider");return e}},40104:(e,t,n)=>{"use strict";n.d(t,{Iv:()=>s.I,wE:()=>a.w,M5:()=>r,ew:()=>o.e,Qf:()=>l,mY:()=>g,Q3:()=>f,UD:()=>d.U,CY:()=>b,io:()=>_.i,wv:()=>y.w});n(4920);var s=n(84944),i=n(2488);const r=({instance:e,children:t})=>(0,i.jsx)(s.I.Provider,{value:e,children:t});var a=n(33996),o=n(47192);const l=({instance:e,children:t})=>(0,i.jsx)(o.e.Provider,{value:e,children:t});var c=n(96651),d=n(59356),u=n(12924),m=n(40468),p=n(86620),h=n(71796);const g=(e,t)=>{const n=(0,c.useContext)(s.I),i=(0,u.q$)(),r=(0,c.useRef)(t?.withSync),a=(0,h.Y1)((()=>["usePlaylistMetadata",e,t]),[t,e]),{data:o}=(0,m.U)({queryKey:a(),queryFn:()=>n.getMetadata(e,{...t,withSync:r.current}),gcTime:36e5,placeholderData:p.iq,enabled:!0}),l=(0,c.useCallback)((()=>{r.current=!1,i.invalidateQueries({queryKey:a()})}),[i,a]);return(0,d.U)(e,l),o??null};function f(e){const t=(0,c.useContext)(s.I),n=(0,a.g)();return{addItems:(0,c.useCallback)(((n,s)=>t.add(e,n,s)),[e,t]),moveItems:(0,c.useCallback)(((n,s)=>t.move(e,n,s)),[e,t]),removeItems:(0,c.useCallback)((n=>t.remove(e,n)),[e,t]),updateDetails:(0,c.useCallback)((n=>t.updateDetails(e,n)),[e,t]),uploadImage:(0,c.useCallback)((e=>t.uploadImage(e)),[t]),setPrivateState:(0,c.useCallback)((t=>n.setBasePermission(e,t?"BLOCKED":"VIEWER")),[n,e]),removeMember:(0,c.useCallback)((t=>n.removeMember(e,t)),[n,e])}}var y=n(29684),_=n(44948);function b(e){const t=(0,c.useContext)(o.e),n=(0,u.q$)(),s=["rootlist-contents",e];return(0,y.w)((()=>n.invalidateQueries({queryKey:s},{cancelRefetch:!0}))),(0,m.U)({queryKey:s,queryFn:()=>t.getContents(e),gcTime:864e5,staleTime:0}).data}},89960:(e,t,n)=>{"use strict";n.d(t,{O8:()=>r,Qb:()=>o});var s=n(98620),i=n(2488);const r=({instance:e,children:t})=>(0,i.jsx)(s.e.Provider,{value:e,children:t});var a=n(96651);const o=(e,t,n,i,r)=>{const o=(0,s.u)(),l=(0,a.useRef)(n),c=(0,a.useRef)(),d=(0,a.useRef)();c.current=i,d.current=r,(0,a.useEffect)((()=>{const n={ident:e,isPrefix:t,onMessage:e=>l.current(e),onSubscribe:async e=>await(c.current?.(e)),onCancel:async e=>await(d.current?.(e))},s=o.subscribe(n);return()=>{s.cancel()}}),[e,t,o])}},81284:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a,o:()=>o});var s=n(96651),i=n(2488);const r=(0,s.createContext)(null),a=({instance:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t}),o=()=>{const e=(0,s.useContext)(r);if(null===e)throw new Error("useSingAlongAPI must be used within a SingAlongAPIProvider");return e}},57080:(e,t,n)=>{"use strict";n.d(t,{Y:()=>c,g:()=>l});var s=n(96651),i=n(89940),r=n(11160),a=n(82428),o=n(2488);const l=(0,s.createContext)(null),c=({children:e})=>{const t=(0,i.y)(),[n,c]=(0,s.useState)(t.getCurrentSession());return(0,r.a)(a.E.UPDATE,(({data:e})=>{c(e)})),(0,o.jsx)(l.Provider,{value:n,children:e})}},54748:(e,t,n)=>{"use strict";n.d(t,{o:()=>o,q:()=>a});var s=n(96651),i=n(2488);const r=(0,s.createContext)(void 0),a=({value:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t}),o=()=>{const e=(0,s.useContext)(r);if(void 0===e)throw new Error("useUBIEventLocation() must be used within a UBIEventLocationContextProvider");return e}},97015:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});var s=n(96651),i=n(54748),r=n(2488);const a=s.memo((function({spec:e,children:t}){const n=(0,s.useMemo)((()=>e?.getAbsoluteLocation()??null),[e]);return(0,r.jsx)(i.q,{value:n,children:t})}))},49560:(e,t,n)=>{"use strict";n.d(t,{ms:()=>l,qK:()=>c});var s=n(96651),i=n(44680),r=n(87460),a=n(2488);const o=(0,s.createContext)(void 0),l=({children:e})=>{const t=(0,r.M)(),n=(0,s.useMemo)((()=>new i.o(t)),[t]);return(0,a.jsx)(o.Provider,{value:n,children:e})},c=()=>(0,s.useContext)(o)},87460:(e,t,n)=>{"use strict";n.d(t,{M:()=>o,o:()=>a});var s=n(96651),i=n(2488);const r=(0,s.createContext)(void 0),a=({instance:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t}),o=()=>{const e=(0,s.useContext)(r);if(void 0===e)throw new Error("useUBILogger() must be used within a UBILoggerContextProvider");return e}},97120:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var s=n(39748),i=n(25168);const r=e=>(0,s.g)(i.C,{data:{uri:e}})},39748:(e,t,n)=>{"use strict";n.d(t,{g:()=>l});var s=n(96651),i=n(71796),r=n(54748),a=n(87460),o=n(97015);const l=(e,t)=>{const n=(0,a.M)(),l=(0,r.o)(),c=(0,i.ek)((()=>({...t,parentAbsoluteLocation:t.parentAbsoluteLocation??l})),[t,l]);return{spec:(0,s.useMemo)((()=>e(c)),[e,c]),logger:n,UBIFragment:o.U}}},97276:(e,t,n)=>{"use strict";n.d(t,{W:()=>C});var s=n(89060);const i="wIA_5Ypq0rltNPeZQpM4",r="Swi6YtNEFCCVz8l4y75v",a="pklLPOhfigdytL9bPoth",o="sb24Y8kdMZInJ8aI8dXT";var l=n(2488);function c({ariaValueText:e,max:t,current:n}){const s=t&&n?100*Math.min(1,n/t):0,c={transform:`translateX(-${100-s}%)`},d=e||`${Math.round(s)}%`;return(0,l.jsxs)("div",{className:i,role:"progressbar",tabIndex:0,"aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":t,"aria-valuetext":d,children:[(0,l.jsx)("div",{className:r}),(0,l.jsx)("div",{className:a,children:(0,l.jsx)("div",{"":"progressBarFg",className:o,style:c})})]})}const d="qfYkuLpETFW3axnfMntO",u="_q93agegdE655O5zPz6l",m="z7Yl7CIT1AB0y91f_moh",p="iLIlkUcfIq56KncGtX7u",h="nV50yZ6BR_TIuWP3l7b1",g="qLjIx_SzBEpDRA_q7kxQ";var f=n(90464),y=n(21824),_=n(12100),b=n(10124),v=n.n(b),x=n(83324);const C=e=>{const{resumePositionMs:t=0,releaseDate:n,isPlaying:i,fullyPlayed:r,durationMs:a,position:o=t,compactVariant:b=!1,className:C}=e;return(0,l.jsxs)("div",{className:v()(d,C),children:[n?(0,l.jsx)(f.F,{as:"p",variant:"mesto",className:u,children:(0,s.qw)((0,s._z)(n))}):null,(()=>{if(r&&!i)return(0,l.jsxs)("div",{className:p,children:[(0,l.jsx)(f.F,{as:"p",variant:"mesto",className:m,children:_._s.get("episode.played")}),(0,l.jsx)(y.k,{size:"small",className:g,"aria-hidden":"true"})]});if(o>0||i){const e=Math.ceil(Math.max(a-o,0));return(0,l.jsx)("div",{className:p,children:(0,l.jsx)(f.F,{as:"p",variant:"mesto",className:m,children:(0,l.jsx)(x.kv,{durationMs:e,displaySeconds:!b&&void 0})})})}return(0,l.jsx)(f.F,{as:"p",variant:"mesto",className:u,"":"episode-progress-not-played",children:(0,l.jsx)(x._s,{durationMs:a,displaySeconds:!b&&void 0})})})(),!r&&o>0||i?(0,l.jsx)("div",{className:h,children:(0,l.jsx)(c,{current:o,max:a})}):null]})}},93752:e=>{e.exports={convertPathToURL:function(e,t){if("1"==={}.IS_SPOTIFY_DESKTOP_APP)return`/${e}`;if("hot"==={}.WEBPACK_BUILD&&e.startsWith("build/")){return`https://${{}.WEBPACK_HOT_HOST}:${{}.WEBPACK_HOT_PORT}/cdn/${e}`}return`${t.cdn_url}/${e}`}}},93620:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});n(93752);let s;function i(e,t){let n;if(n='{"animations/plus-deselected-confetti-white.json":"/animations/plus-deselected-confetti-white.json","animations/plus-selected-confetti-white.json":"/animations/plus-selected-confetti-white.json","fonts/spoticon_regular_2.ttf":"/fonts/spoticon_regular_2.ttf","fonts/spoticon_regular_2.woff":"/fonts/spoticon_regular_2.woff","fonts/spoticon_regular_2.woff2":"/fonts/spoticon_regular_2.woff2","images/2022_wrapped_hub_tablet_banner_rtl.svg":"/images/2022_wrapped_hub_tablet_banner_rtl.svg","images/2022_wrapped_hub_tablet_banner.svg":"/images/2022_wrapped_hub_tablet_banner.svg","images/2022_wrapped_mobile_web_hub.svg":"/images/2022_wrapped_mobile_web_hub.svg","images/2022_wrapped_web_hub_banner_rtl.svg":"/images/2022_wrapped_web_hub_banner_rtl.svg","images/2022_wrapped_web_hub_banner.svg":"/images/2022_wrapped_web_hub_banner.svg","images/ac-row-placeholder.png":"/images/ac-row-placeholder.png","images/audiobooks-upsell.png":"/images/audiobooks-upsell.png","images/checkmark.png":"/images/checkmark.png","images/concert-hub-fb-card.png":"/images/concert-hub-fb-card.png","images/concert-hub-header.png":"/images/concert-hub-header.png","images/concert-hub-iphone-de.png":"/images/concert-hub-iphone-de.png","images/concert-hub-iphone-el.png":"/images/concert-hub-iphone-el.png","images/concert-hub-iphone-en.png":"/images/concert-hub-iphone-en.png","images/concert-hub-iphone-es_419.png":"/images/concert-hub-iphone-es_419.png","images/concert-hub-iphone-es.png":"/images/concert-hub-iphone-es.png","images/concert-hub-iphone-fi.png":"/images/concert-hub-iphone-fi.png","images/concert-hub-iphone-fr_CA.png":"/images/concert-hub-iphone-fr_CA.png","images/concert-hub-iphone-fr.png":"/images/concert-hub-iphone-fr.png","images/concert-hub-iphone-hu.png":"/images/concert-hub-iphone-hu.png","images/concert-hub-iphone-id.png":"/images/concert-hub-iphone-id.png","images/concert-hub-iphone-it.png":"/images/concert-hub-iphone-it.png","images/concert-hub-iphone-ja.png":"/images/concert-hub-iphone-ja.png","images/concert-hub-iphone-ms.png":"/images/concert-hub-iphone-ms.png","images/concert-hub-iphone-nl.png":"/images/concert-hub-iphone-nl.png","images/concert-hub-iphone-pl.png":"/images/concert-hub-iphone-pl.png","images/concert-hub-iphone-pt_BR.png":"/images/concert-hub-iphone-pt_BR.png","images/concert-hub-iphone-sv.png":"/images/concert-hub-iphone-sv.png","images/concert-hub-iphone-tr.png":"/images/concert-hub-iphone-tr.png","images/concert-hub-iphone-zh_TW.png":"/images/concert-hub-iphone-zh_TW.png","images/concert-hub-twitter-card.png":"/images/concert-hub-twitter-card.png","images/connect_header@1x.png":"/images/connect_header@1x.png","images/connect-to-devices-white.svg":"/images/connect-to-devices-white.svg","images/desktop-auth-check.svg":"/images/desktop-auth-check.svg","images/desktop-auth-error.svg":"/images/desktop-auth-error.svg","images/device-picker-equaliser-animation.webp":"/images/device-picker-equaliser-animation.webp","images/devices/mac.png":"/images/devices/mac.png","images/download-badges/apple/ar.svg":"/images/download-badges/apple/ar.svg","images/download-badges/apple/az.svg":"/images/download-badges/apple/az.svg","images/download-badges/apple/bg.svg":"/images/download-badges/apple/bg.svg","images/download-badges/apple/cs_CZ.svg":"/images/download-badges/apple/cs_CZ.svg","images/download-badges/apple/da.svg":"/images/download-badges/apple/da.svg","images/download-badges/apple/de.svg":"/images/download-badges/apple/de.svg","images/download-badges/apple/ee.svg":"/images/download-badges/apple/ee.svg","images/download-badges/apple/el.svg":"/images/download-badges/apple/el.svg","images/download-badges/apple/en.svg":"/images/download-badges/apple/en.svg","images/download-badges/apple/es_mx.svg":"/images/download-badges/apple/es_mx.svg","images/download-badges/apple/es.svg":"/images/download-badges/apple/es.svg","images/download-badges/apple/fi.svg":"/images/download-badges/apple/fi.svg","images/download-badges/apple/fp.svg":"/images/download-badges/apple/fp.svg","images/download-badges/apple/fr_ca.svg":"/images/download-badges/apple/fr_ca.svg","images/download-badges/apple/fr.svg":"/images/download-badges/apple/fr.svg","images/download-badges/apple/he.svg":"/images/download-badges/apple/he.svg","images/download-badges/apple/hu.svg":"/images/download-badges/apple/hu.svg","images/download-badges/apple/id.svg":"/images/download-badges/apple/id.svg","images/download-badges/apple/int.svg":"/images/download-badges/apple/int.svg","images/download-badges/apple/it.svg":"/images/download-badges/apple/it.svg","images/download-badges/apple/ja.svg":"/images/download-badges/apple/ja.svg","images/download-badges/apple/ko.svg":"/images/download-badges/apple/ko.svg","images/download-badges/apple/lt.svg":"/images/download-badges/apple/lt.svg","images/download-badges/apple/lv.svg":"/images/download-badges/apple/lv.svg","images/download-badges/apple/ms.svg":"/images/download-badges/apple/ms.svg","images/download-badges/apple/mt.svg":"/images/download-badges/apple/mt.svg","images/download-badges/apple/nb.svg":"/images/download-badges/apple/nb.svg","images/download-badges/apple/nl.svg":"/images/download-badges/apple/nl.svg","images/download-badges/apple/pl.svg":"/images/download-badges/apple/pl.svg","images/download-badges/apple/pt_br.svg":"/images/download-badges/apple/pt_br.svg","images/download-badges/apple/pt.svg":"/images/download-badges/apple/pt.svg","images/download-badges/apple/ro.svg":"/images/download-badges/apple/ro.svg","images/download-badges/apple/ru.svg":"/images/download-badges/apple/ru.svg","images/download-badges/apple/sk.svg":"/images/download-badges/apple/sk.svg","images/download-badges/apple/sl.svg":"/images/download-badges/apple/sl.svg","images/download-badges/apple/sv.svg":"/images/download-badges/apple/sv.svg","images/download-badges/apple/th_TH.svg":"/images/download-badges/apple/th_TH.svg","images/download-badges/apple/tr.svg":"/images/download-badges/apple/tr.svg","images/download-badges/apple/vi_VN.svg":"/images/download-badges/apple/vi_VN.svg","images/download-badges/apple/zh_HANS.svg":"/images/download-badges/apple/zh_HANS.svg","images/download-badges/apple/zh_HANT.svg":"/images/download-badges/apple/zh_HANT.svg","images/download-badges/google/af.svg":"/images/download-badges/google/af.svg","images/download-badges/google/am.svg":"/images/download-badges/google/am.svg","images/download-badges/google/ar.svg":"/images/download-badges/google/ar.svg","images/download-badges/google/az.svg":"/images/download-badges/google/az.svg","images/download-badges/google/be.svg":"/images/download-badges/google/be.svg","images/download-badges/google/bg.svg":"/images/download-badges/google/bg.svg","images/download-badges/google/bn.svg":"/images/download-badges/google/bn.svg","images/download-badges/google/bs.svg":"/images/download-badges/google/bs.svg","images/download-badges/google/ca.svg":"/images/download-badges/google/ca.svg","images/download-badges/google/cr.svg":"/images/download-badges/google/cr.svg","images/download-badges/google/cs_CZ.svg":"/images/download-badges/google/cs_CZ.svg","images/download-badges/google/da.svg":"/images/download-badges/google/da.svg","images/download-badges/google/de.svg":"/images/download-badges/google/de.svg","images/download-badges/google/el.svg":"/images/download-badges/google/el.svg","images/download-badges/google/en.svg":"/images/download-badges/google/en.svg","images/download-badges/google/es_419.svg":"/images/download-badges/google/es_419.svg","images/download-badges/google/es.svg":"/images/download-badges/google/es.svg","images/download-badges/google/et.svg":"/images/download-badges/google/et.svg","images/download-badges/google/eu.svg":"/images/download-badges/google/eu.svg","images/download-badges/google/fa.svg":"/images/download-badges/google/fa.svg","images/download-badges/google/fi.svg":"/images/download-badges/google/fi.svg","images/download-badges/google/fp.svg":"/images/download-badges/google/fp.svg","images/download-badges/google/fr_ca.svg":"/images/download-badges/google/fr_ca.svg","images/download-badges/google/fr.svg":"/images/download-badges/google/fr.svg","images/download-badges/google/gl.svg":"/images/download-badges/google/gl.svg","images/download-badges/google/gu.svg":"/images/download-badges/google/gu.svg","images/download-badges/google/he.svg":"/images/download-badges/google/he.svg","images/download-badges/google/hi.svg":"/images/download-badges/google/hi.svg","images/download-badges/google/hr.svg":"/images/download-badges/google/hr.svg","images/download-badges/google/hu.svg":"/images/download-badges/google/hu.svg","images/download-badges/google/hy.svg":"/images/download-badges/google/hy.svg","images/download-badges/google/id.svg":"/images/download-badges/google/id.svg","images/download-badges/google/int.svg":"/images/download-badges/google/int.svg","images/download-badges/google/is.svg":"/images/download-badges/google/is.svg","images/download-badges/google/it.svg":"/images/download-badges/google/it.svg","images/download-badges/google/ja.svg":"/images/download-badges/google/ja.svg","images/download-badges/google/ka.svg":"/images/download-badges/google/ka.svg","images/download-badges/google/kk.svg":"/images/download-badges/google/kk.svg","images/download-badges/google/km.svg":"/images/download-badges/google/km.svg","images/download-badges/google/kn.svg":"/images/download-badges/google/kn.svg","images/download-badges/google/ko.svg":"/images/download-badges/google/ko.svg","images/download-badges/google/ky.svg":"/images/download-badges/google/ky.svg","images/download-badges/google/lo.svg":"/images/download-badges/google/lo.svg","images/download-badges/google/lt.svg":"/images/download-badges/google/lt.svg","images/download-badges/google/lv.svg":"/images/download-badges/google/lv.svg","images/download-badges/google/mk.svg":"/images/download-badges/google/mk.svg","images/download-badges/google/ml.svg":"/images/download-badges/google/ml.svg","images/download-badges/google/mn.svg":"/images/download-badges/google/mn.svg","images/download-badges/google/mr.svg":"/images/download-badges/google/mr.svg","images/download-badges/google/ms.svg":"/images/download-badges/google/ms.svg","images/download-badges/google/my.svg":"/images/download-badges/google/my.svg","images/download-badges/google/nb.svg":"/images/download-badges/google/nb.svg","images/download-badges/google/ne.svg":"/images/download-badges/google/ne.svg","images/download-badges/google/nl.svg":"/images/download-badges/google/nl.svg","images/download-badges/google/pa.svg":"/images/download-badges/google/pa.svg","images/download-badges/google/pl.svg":"/images/download-badges/google/pl.svg","images/download-badges/google/pt_br.svg":"/images/download-badges/google/pt_br.svg","images/download-badges/google/pt.svg":"/images/download-badges/google/pt.svg","images/download-badges/google/ro.svg":"/images/download-badges/google/ro.svg","images/download-badges/google/ru.svg":"/images/download-badges/google/ru.svg","images/download-badges/google/si.svg":"/images/download-badges/google/si.svg","images/download-badges/google/sk.svg":"/images/download-badges/google/sk.svg","images/download-badges/google/sl.svg":"/images/download-badges/google/sl.svg","images/download-badges/google/sq.svg":"/images/download-badges/google/sq.svg","images/download-badges/google/sr.svg":"/images/download-badges/google/sr.svg","images/download-badges/google/sv.svg":"/images/download-badges/google/sv.svg","images/download-badges/google/sw.svg":"/images/download-badges/google/sw.svg","images/download-badges/google/ta.svg":"/images/download-badges/google/ta.svg","images/download-badges/google/te.svg":"/images/download-badges/google/te.svg","images/download-badges/google/th_TH.svg":"/images/download-badges/google/th_TH.svg","images/download-badges/google/tr.svg":"/images/download-badges/google/tr.svg","images/download-badges/google/ua.svg":"/images/download-badges/google/ua.svg","images/download-badges/google/ur.svg":"/images/download-badges/google/ur.svg","images/download-badges/google/uz.svg":"/images/download-badges/google/uz.svg","images/download-badges/google/vi_VN.svg":"/images/download-badges/google/vi_VN.svg","images/download-badges/google/zh_HANS.svg":"/images/download-badges/google/zh_HANS.svg","images/download-badges/google/zh_HANT.svg":"/images/download-badges/google/zh_HANT.svg","images/download-badges/google/zh_hk.svg":"/images/download-badges/google/zh_hk.svg","images/download-badges/google/zu.svg":"/images/download-badges/google/zu.svg","images/embed-legacy/copy-32_circle_grey_outline_bg.svg":"/images/embed-legacy/copy-32_circle_grey_outline_bg.svg","images/embed-legacy/embed-code-32_circle_grey_outline_bg.svg":"/images/embed-legacy/embed-code-32_circle_grey_outline_bg.svg","images/embed-legacy/fb_colour.svg":"/images/embed-legacy/fb_colour.svg","images/embed-legacy/messenger_colour.svg":"/images/embed-legacy/messenger_colour.svg","images/embed-legacy/twitter_colour.svg":"/images/embed-legacy/twitter_colour.svg","images/embed-legacy/whatsapp.svg":"/images/embed-legacy/whatsapp.svg","images/employee-podcasts-modal-art.png":"/images/employee-podcasts-modal-art.png","images/equaliser-animated-green.gif":"/images/equaliser-animated-green.gif","images/equaliser-green.svg":"/images/equaliser-green.svg","images/error-page-logo.svg":"/images/error-page-logo.svg","images/favicon.ico":"/images/favicon.ico","images/favicon.png":"/images/favicon.png","images/favicon16.png":"/images/favicon16.png","images/favicon32.png":"/images/favicon32.png","images/FC24_Spotify_PlayButton_V2_TriangleLight.svg":"/images/FC24_Spotify_PlayButton_V2_TriangleLight.svg","images/feature-activation-shelf-audio-quality.png":"/images/feature-activation-shelf-audio-quality.png","images/feature-activation-shelf-blend.png":"/images/feature-activation-shelf-blend.png","images/feature-activation-shelf-enhance-placeholder.png":"/images/feature-activation-shelf-enhance-placeholder.png","images/feature-activation-shelf-group-sessions-speaker.png":"/images/feature-activation-shelf-group-sessions-speaker.png","images/feature-activation-shelf-group-sessions.png":"/images/feature-activation-shelf-group-sessions.png","images/feature-activation-shelf-live-events.png":"/images/feature-activation-shelf-live-events.png","images/focused_stroy_play.png":"/images/focused_stroy_play.png","images/group-session-logo.svg":"/images/group-session-logo.svg","images/hifi-button-off.svg":"/images/hifi-button-off.svg","images/hifi-button-on.svg":"/images/hifi-button-on.svg","images/hifi.svg":"/images/hifi.svg","images/home-icon.svg":"/images/home-icon.svg","images/icons/Spotify_1024.png":"/images/icons/Spotify_1024.png","images/icons/Spotify_128.png":"/images/icons/Spotify_128.png","images/icons/Spotify_16.png":"/images/icons/Spotify_16.png","images/icons/Spotify_256.png":"/images/icons/Spotify_256.png","images/icons/Spotify_32.png":"/images/icons/Spotify_32.png","images/icons/Spotify_512.png":"/images/icons/Spotify_512.png","images/icons/Spotify_MWP_192.png":"/images/icons/Spotify_MWP_192.png","images/icons/Spotify_MWP_384.png":"/images/icons/Spotify_MWP_384.png","images/icons/Spotify_MWP_512.png":"/images/icons/Spotify_MWP_512.png","images/improved-modal-bg.jpg":"/images/improved-modal-bg.jpg","images/learning-card-background.jpg":"/images/learning-card-background.jpg","images/login-background.jpg":"/images/login-background.jpg","images/login-signup-burst.svg":"/images/login-signup-burst.svg","images/logo-complete-black.svg":"/images/logo-complete-black.svg","images/logo-white-2x.png":"/images/logo-white-2x.png","images/mando_helmet_felix.png":"/images/mando_helmet_felix.png","images/mando_helmet.png":"/images/mando_helmet.png","images/mid-year.png":"/images/mid-year.png","images/mwp-episodelist-placeholder.png":"/images/mwp-episodelist-placeholder.png","images/mwp-tracklist-placeholder.png":"/images/mwp-tracklist-placeholder.png","images/og-image.png":"/images/og-image.png","images/og-socialsession-preview.png":"/images/og-socialsession-preview.png","images/ribbon-graphic-mobile.svg":"/images/ribbon-graphic-mobile.svg","images/ribbon-graphic-small-side.svg":"/images/ribbon-graphic-small-side.svg","images/ribbon-graphic-small-top.svg":"/images/ribbon-graphic-small-top.svg","images/ribbon-graphic.svg":"/images/ribbon-graphic.svg","images/s2l-desktopui-ltr.png":"/images/s2l-desktopui-ltr.png","images/s2l-desktopui-rtl.png":"/images/s2l-desktopui-rtl.png","images/s2l-mobileui.png":"/images/s2l-mobileui.png","images/spotifylogo.svg":"/images/spotifylogo.svg","images/station-header-wave.svg":"/images/station-header-wave.svg","images/station-wave.svg":"/images/station-wave.svg","images/stranger-things-nether-bottom-left.png":"/images/stranger-things-nether-bottom-left.png","images/stranger-things-nether-bottom-right.png":"/images/stranger-things-nether-bottom-right.png","images/stranger-things-spores.png":"/images/stranger-things-spores.png","images/sw_saber_ahsoka1.png":"/images/sw_saber_ahsoka1.png","images/sw_saber_anakin.png":"/images/sw_saber_anakin.png","images/sw_saber_leia.png":"/images/sw_saber_leia.png","images/sw_saber_luke.png":"/images/sw_saber_luke.png","images/sw_saber_mace.png":"/images/sw_saber_mace.png","images/sw_saber_rey.png":"/images/sw_saber_rey.png","images/sw_saber_vader.png":"/images/sw_saber_vader.png","images/Sw23-Desktop-Left.png":"/images/Sw23-Desktop-Left.png","images/Sw23-Desktop-Left.webp":"/images/Sw23-Desktop-Left.webp","images/Sw23-Desktop-Right.png":"/images/Sw23-Desktop-Right.png","images/Sw23-Desktop-Right.webp":"/images/Sw23-Desktop-Right.webp","images/Sw23-Mobile-Left.png":"/images/Sw23-Mobile-Left.png","images/Sw23-Mobile-Left.webp":"/images/Sw23-Mobile-Left.webp","images/Sw23-Mobile-Right.png":"/images/Sw23-Mobile-Right.png","images/Sw23-Mobile-Right.webp":"/images/Sw23-Mobile-Right.webp","images/top-up.png":"/images/top-up.png","images/touch-icon-114.png":"/images/touch-icon-114.png","images/touch-icon-144.png":"/images/touch-icon-144.png","images/touch-icon-57.png":"/images/touch-icon-57.png","images/touch-icon-72.png":"/images/touch-icon-72.png","images/tracklist-placeholder-compact.png":"/images/tracklist-placeholder-compact.png","images/tracklist-placeholder.png":"/images/tracklist-placeholder.png","images/ylx-artist-row-placeholder.png":"/images/ylx-artist-row-placeholder.png","images/ylx-compact-row-placeholder.png":"/images/ylx-compact-row-placeholder.png","images/ylx-row-placeholder.png":"/images/ylx-row-placeholder.png","images/zara-larsson-singles.png":"/images/zara-larsson-singles.png","js/fb.js":"/js/fb.js","js/gtm.js":"/js/gtm.js","js/retargeting-pixels.js":"/js/retargeting-pixels.js","js/urlRedirect.js":"/js/urlRedirect.js","js/urlScheme.js":"/js/urlScheme.js","sounds/mando_this_is_the_way_103.mp3":"/sounds/mando_this_is_the_way_103.mp3","sounds/mando_this_is_the_way_107.mp3":"/sounds/mando_this_is_the_way_107.mp3","sounds/mando_this_is_the_way_felix.mp3":"/sounds/mando_this_is_the_way_felix.mp3","sounds/silence.mp3":"/sounds/silence.mp3","videos/Sw23-Desktop-Left.mp4":"/videos/Sw23-Desktop-Left.mp4","videos/Sw23-Desktop-Left.webm":"/videos/Sw23-Desktop-Left.webm","videos/Sw23-Desktop-Right.mp4":"/videos/Sw23-Desktop-Right.mp4","videos/Sw23-Desktop-Right.webm":"/videos/Sw23-Desktop-Right.webm","videos/Sw23-Mobile-Left.mp4":"/videos/Sw23-Mobile-Left.mp4","videos/Sw23-Mobile-Left.webm":"/videos/Sw23-Mobile-Left.webm","videos/Sw23-Mobile-Right.mp4":"/videos/Sw23-Mobile-Right.mp4","videos/Sw23-Mobile-Right.webm":"/videos/Sw23-Mobile-Right.webm"}',void 0!==globalThis.__CDN_FILE_URLS__&&(n=globalThis.__CDN_FILE_URLS__),"string"!=typeof n)throw new Error("No __CDN_FILE_URLS__ property available in globalThis or process.env");if(!s)try{s=JSON.parse(n)}catch(e){throw new Error("Invalid __CDN_FILE_URLS__ value.")}if(!s[e])throw new Error(`\`${e}\` is not available in __CDN_FILE_URLS__.`);return s[e]}},53464:e=>{e.exports={af:"af-ZA",am:"am-ET",ar:"ar",az:"az-AZ",bg:"bg-BG",bn:"bn-IN",bho:"bp",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR",es:"es-ES","es-419":"es-LA",et:"et-EE",fa:"fa-IR",fr:"fr-FR",fi:"fi-FI",fil:"fp-PH","fr-CA":"fr-CA",gu:"gu-IN",hu:"hu-HU",he:"he-IL",hi:"hi-IN",hr:"hr-HR",id:"id-ID",is:"is-IS",it:"it-IT",ja:"ja-JP",kn:"kn-IN",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ml:"ml-IN",mr:"mr-IN",ms:"ms-MY",nb:"nb-NO",ne:"ne-NP",nl:"nl-NL",or:"or-IN","pa-IN":"pa-IN","pa-PK":"pa-PK",pl:"pl-PL","pt-PT":"pt-PT","pt-BR":"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sr:"sr-RS",sv:"sv-SE",sw:"sw",ta:"ta-IN",te:"te-IN",th:"th-TH",tr:"tr-TR",uk:"uk-UA",ur:"ur",vi:"vi-VN","zh-CN":"zh-CN","zh-TW":"zh-TW",zu:"zu-ZA","ar-EG":"ar-EG","ar-MA":"ar-MA","ar-SA":"ar-SA",eu:"eu-ES",bs:"bs-BA",ca:"ca-ES","zh-HK":"zh-HK","en-GB":"en-GB",gl:"gl-ES",mk:"mk-MK","es-AR":"es-AR","es-MX":"es-MX"}},80676:(e,t,n)=>{"use strict";n.d(t,{_e:()=>m,_s:()=>h,kH:()=>u,u2:()=>o});n(73952),n(97296),n(39568),n(41260),n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256);var s=n(96651),i=n(53464),r=n.n(i),a=n(47752);let o=function(e){return e.af="af",e.am="am",e.ar="ar",e.arEG="ar-EG",e.arMA="ar-MA",e.arSA="ar-SA",e.az="az",e.bg="bg",e.bn="bn",e.bho="bho",e.bs="bs",e.ca="ca",e.cs="cs",e.da="da",e.de="de",e.el="el",e.en="en",e.enGB="en-GB",e.es419="es-419",e.es="es",e.esAR="es-AR",e.esMX="es-MX",e.et="et",e.eu="eu",e.fa="fa",e.fi="fi",e.fil="fil",e.frCA="fr-CA",e.fr="fr",e.gl="gl",e.gu="gu",e.he="he",e.hi="hi",e.hr="hr",e.hu="hu",e.id="id",e.is="is",e.it="it",e.ja="ja",e.kn="kn",e.ko="ko",e.lt="lt",e.lv="lv",e.mk="mk",e.ml="ml",e.mr="mr",e.ms="ms",e.nb="nb",e.ne="ne",e.nl="nl",e.or="or",e.paIN="pa-IN",e.paPK="pa-PK",e.pl="pl",e.ptBR="pt-BR",e.ptPT="pt-PT",e.ro="ro",e.ru="ru",e.sk="sk",e.sl="sl",e.sr="sr",e.sv="sv",e.sw="sw",e.ta="ta",e.te="te",e.th="th",e.tr="tr",e.uk="uk",e.ur="ur",e.vi="vi",e.zhCN="zh-CN",e.zhHK="zh-HK",e.zhTW="zh-TW",e.zu="zu",e}({});const l=new Intl.Locale(o.en),c=Object.values(o);var d=function(e){return e.AR="، ",e.FA="، ",e.EN=", ",e}(d||{});function u(e){"string"==typeof e&&(e=new Intl.Locale(e));const t=new Set([o.paIN,o.paPK,o.zhCN,o.zhTW,o.zhHK]);return e?t.has(e.baseName)?e:new Intl.Locale(e.language):l}const m=e=>e&&(e=>c.includes(e))(e)?e:e?.includes("-")?m(e.split("-")[0]):void 0;function p(e){const t=`(?:${e.join("|")})`;return new RegExp(String.raw`(\{${t}\}|%${t}%)`,"g")}const h=new class{_localeForTranslation=l;_localeForFormatting=l;_localeForURLPath=l;_translations={};_relativeTimeFormat=null;_dateTimeFormats=new a.uK;_pluralRules=null;getRelativeTimeFormat(){return null===this._relativeTimeFormat&&(this._relativeTimeFormat=new Intl.RelativeTimeFormat(this._localeForFormatting)),this._relativeTimeFormat}getDateTimeFormat(e){const t=JSON.stringify(Object.keys(e).sort().map((t=>({[t]:e[t]}))));return this._dateTimeFormats.create(t,(()=>new Intl.DateTimeFormat(this._localeForFormatting,e)))}getPluralRules(){return null===this._pluralRules&&(this._pluralRules=new Intl.PluralRules(this._localeForTranslation)),this._pluralRules}getPluralKey(e){const t=this.getPluralRules();try{return"string"==typeof e&&(e=parseInt(e,10)),t.select(e)}catch{return"other"}}initialize({localeForTranslation:e,localeForFormatting:t,translations:n}){var s;this._localeForTranslation=new Intl.Locale(e),this._localeForFormatting=("string"==typeof(s=t??e)&&(s=new Intl.Locale(s)),"ar"===s.baseName?new Intl.Locale(s,{numberingSystem:"latn"}):s),this._localeForURLPath=u(e),this._relativeTimeFormat=null,this._dateTimeFormats.clear(),this._pluralRules=null,this._translations=n}getLocaleForTranslation(){return this._localeForTranslation.baseName}getLocaleForFormatting(){return this._localeForFormatting.baseName}getLocaleForURLPath(){return this._localeForURLPath.baseName}getLocaleForSmartling(){const e=this._localeForTranslation.baseName;return r()[e]||e}getTranslations(){return this._translations}toLocaleLowerCase(e){return e?.toLocaleLowerCase(this._localeForTranslation)}toLocaleUpperCase(e){return e?.toLocaleUpperCase(this._localeForTranslation)}get(e,...t){const n=e in this._translations?this._translations[e]:e;let i="";if("string"!=typeof n){const e=t[0],s=n[this.getPluralKey(e)];void 0!==s?i=s:n.other&&(i=n.other)}else i=n;if(/%\d%/.test(i)){if(!["desktop.login.DefaultErrorMessage","desktop.login.ErrorProxyAuthRequired","desktop.login.MissingUserInfoMessage","desktop.login.RegionMismatchMessage","desktop.login.ClientUpdateFail","desktop.login.FbUserNotFoundSignUp","desktop-auth.error"].includes(e))throw new Error("i18n: The placeholder format %0% is legacy and is only allowed for existing strings.")}const r={},a={};t.forEach(((e,t)=>{const n="object"!=typeof e||null===e||(0,s.isValidElement)(e)?[[t,e]]:Object.entries(e);for(const[e,t]of n)(0,s.isValidElement)(t)?a[e]=t:void 0!==t&&(r[e]=t)})),i=i.replace(p(Object.keys(r)),((e,t)=>{const n=t.slice(1,-1),s=r[n];return"number"==typeof s?this.formatNumber(s):s}));const o=Object.keys(a);return o.length?(0,s.createElement)(s.Fragment,null,i.split(p(o)).map(((e,t)=>{if(t%2){const t=e.slice(1,-1),n=a[t];return(0,s.cloneElement)(n,{key:n.key??t})}return e})).filter((e=>""!==e))):i}getSeparator(){switch(new Intl.Locale(this._localeForTranslation).language){case o.ar:return d.AR;case o.fa:return d.FA;default:return d.EN}}formatNumber(e,t){return e.toLocaleString(this._localeForFormatting,t)}formatNumberCompact(e){return this.formatNumber(e,{notation:"compact",maximumFractionDigits:1})}formatDate(e,t=null){const n=t||{year:"numeric",month:"long",day:"numeric"};return this.getDateTimeFormat(n).format(e)}formatRelativeDate(e,t=null,n=new Date){const s=this.getRelativeTimeFormat(),i=e.getTime()-n.getTime(),r=Math.abs(i)<2592e6;if(null!==s&&r){const{weeks:e,days:t,hours:n,minutes:r,seconds:o}=(a=i,{seconds:Math.round(a/1e3),minutes:Math.round(a/1e3/60),hours:Math.round(a/1e3/60/60),days:Math.round(a/1e3/60/60/24),weeks:Math.round(a/1e3/60/60/24/7)});return Math.abs(t)>=7?s.format(e,"weeks"):Math.abs(n)>=24?s.format(t,"days"):Math.abs(r)>=60?s.format(n,"hours"):Math.abs(o)>=60?s.format(r,"minutes"):s.format(o,"seconds")}var a;return this.formatDate(e,t)}}},12100:(e,t,n)=>{"use strict";n.d(t,{_s:()=>s._s,u2:()=>s.u2});var s=n(80676)},7220:(e,t,n)=>{"use strict";n.d(t,{_E:()=>i,kT:()=>r,w$:()=>s});const s={SHOW_ABOUT_RECS_MODAL:"SHOW_ABOUT_RECS_MODAL",HIDE_ABOUT_RECS_MODAL:"HIDE_ABOUT_RECS_MODAL"},i=()=>({type:s.SHOW_ABOUT_RECS_MODAL}),r=()=>({type:s.HIDE_ABOUT_RECS_MODAL})},24856:(e,t,n)=>{"use strict";n.d(t,{Q7:()=>r,sX:()=>i,w$:()=>s});const s={SHOW_ABOUT_SPOTIFY_MODAL:"SHOW_ABOUT_SPOTIFY_MODAL",HIDE_ABOUT_SPOTIFY_MODAL:"HIDE_ABOUT_SPOTIFY_MODAL"},i=()=>({type:s.SHOW_ABOUT_SPOTIFY_MODAL}),r=()=>({type:s.HIDE_ABOUT_SPOTIFY_MODAL})},33508:(e,t,n)=>{"use strict";n.d(t,{A3:()=>a,AP:()=>r,u:()=>i,w$:()=>s});const s={GET_AGE_RESTRICTION_MODAL:"GET_AGE_RESTRICTION_MODAL",SHOW_AGE_RESTRICTION_MODAL:"SHOW_AGE_RESTRICTION_MODAL",HIDE_AGE_RESTRICTION_MODAL:"HIDE_AGE_RESTRICTION_MODAL"},i=e=>({type:s.SHOW_AGE_RESTRICTION_MODAL,dialog:e}),r=e=>({type:s.GET_AGE_RESTRICTION_MODAL,uri:e}),a=()=>({type:s.HIDE_AGE_RESTRICTION_MODAL})},62576:(e,t,n)=>{"use strict";n.d(t,{KK:()=>r,YD:()=>i,i2:()=>s});const s={ANONYMOUS_LOGIN_CLICK:"ANONYMOUS_LOGIN_CLICK",ANONYMOUS_SIGNUP_CLICK:"ANONYMOUS_SIGNUP_CLICK",ANONYMOUS_PREMIUM_CLICK:"ANONYMOUS_PREMIUM_CLICK",ANONYMOUS_DECLINE_SIGNUP:"ANONYMOUS_DECLINE_SIGNUP"},i=()=>({type:s.ANONYMOUS_LOGIN_CLICK}),r=()=>({type:s.ANONYMOUS_SIGNUP_CLICK})},61540:(e,t,n)=>{"use strict";n.d(t,{gZ:()=>r,i0:()=>a,w$:()=>s,yS:()=>i});const s={SHOW_DUPLICATE_TRACKS_DIALOG:"SHOW_DUPLICATE_TRACKS_DIALOG",HIDE_DUPLICATE_TRACKS_DIALOG:"HIDE_DUPLICATE_TRACKS_DIALOG",CHECK_DUPLICATE_TRACKS:"CHECK_DUPLICATE_TRACKS"},i=e=>({type:s.SHOW_DUPLICATE_TRACKS_DIALOG,...e}),r=(e,t,n)=>({type:s.CHECK_DUPLICATE_TRACKS,playlistUri:e,uris:t,position:n}),a=()=>({type:s.HIDE_DUPLICATE_TRACKS_DIALOG})},23980:(e,t,n)=>{"use strict";n.d(t,{Ke:()=>r,Qt:()=>i,w$:()=>s});const s={SHOW_LICENSES_MODAL:"SHOW_LICENSES_MODAL",HIDE_LICENSES_MODAL:"HIDE_LICENSES_MODAL"},i=()=>({type:s.SHOW_LICENSES_MODAL}),r=()=>({type:s.HIDE_LICENSES_MODAL})},52720:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,i:()=>s});const s={LOG_OPEN_ANALYTICS_EVENT:"LOG_OPEN_ANALYTICS_EVENT",LOG_INTERACTION:"LOG_INTERACTION"},i=e=>({type:s.LOG_INTERACTION,logData:e})},7392:(e,t,n)=>{"use strict";n.d(t,{gl:()=>l,oH:()=>c,M7:()=>r,uY:()=>o,So:()=>i,cr:()=>a,i2:()=>s});const s={DEVICE_INFO_CHANGED:"DEVICE_INFO_CHANGED",SET_ACTIVE_DEVICE:"SET_ACTIVE_DEVICE",PLAYBACK_ERROR:"PLAYBACK_ERROR",HARMONY_MAX_SUBSCRIPTIONS_REACHED:"HARMONY_MAX_SUBSCRIPTIONS_REACHED",CDM_ERROR:"CDM_ERROR",PLAYBACK_CLEAR_DATA:"PLAYBACK_CLEAR_DATA",QUEUE_UPDATE:"QUEUE_UPDATE",ADD_TO_QUEUE_SUCCESS:"ADD_TO_QUEUE_SUCCESS",ADD_TO_QUEUE_ERROR:"ADD_TO_QUEUE_ERROR",DISCONNECT_HARMONY:"DISCONNECT_HARMONY"},i=(e="unknown",t="unknown",n="")=>({type:s.PLAYBACK_ERROR,name:e,source:t,message:n}),r=e=>({type:s.DEVICE_INFO_CHANGED,deviceInfo:e}),a=e=>({type:s.SET_ACTIVE_DEVICE,id:e}),o=(e="unknown")=>({type:s.HARMONY_MAX_SUBSCRIPTIONS_REACHED,source:e}),l=()=>({type:s.CDM_ERROR,name:s.CDM_ERROR}),c=()=>({type:s.PLAYBACK_CLEAR_DATA})},6860:(e,t,n)=>{"use strict";n.d(t,{A$:()=>r,gF:()=>a,i2:()=>s,k7:()=>i});const s={REQUEST_SEO_EXPERIMENT_DATA:"REQUEST_SEO_EXPERIMENT_DATA",SET_SEO_EXPERIMENT_DATA:"SET_SEO_EXPERIMENT_DATA",SET_SEO_EXPERIMENT_ERROR:"SET_SEO_EXPERIMENT_ERROR"},i=e=>({type:s.REQUEST_SEO_EXPERIMENT_DATA,uri:e}),r=e=>({type:s.SET_SEO_EXPERIMENT_DATA,data:e}),a=()=>({type:s.SET_SEO_EXPERIMENT_ERROR})},29868:(e,t,n)=>{"use strict";n.d(t,{Il:()=>l,i2:()=>a});var s=n(39772);let i=function(e){return e.RTL="rtl",e.LTR="ltr",e}({});const r=e=>{document.documentElement.setAttribute("dir",e)};let a=function(e){return e.SET_RTL_MODE="SET_RTL_MODE",e}({});const o=e=>{e===i.RTL?r(i.RTL):r(i.LTR)},l=e=>{const t=(e=>s.ob[e]?.isRTL?i.RTL:i.LTR)(e);return o(t),n=t===i.RTL,{type:a.SET_RTL_MODE,isRTL:n};var n}},4732:(e,t,n)=>{"use strict";n.d(t,{AX:()=>v,Ar:()=>J,C2:()=>c,CY:()=>H,ED:()=>u,Ed:()=>Z,Ez:()=>f,G:()=>p,H5:()=>R,Ib:()=>z,Kw:()=>h,M9:()=>F,MF:()=>E,Mp:()=>C,O:()=>d,OA:()=>l,OC:()=>ee,Q9:()=>D,S:()=>ne,SQ:()=>I,SS:()=>T,Ub:()=>A,Uf:()=>x,WI:()=>a,YX:()=>r,Yd:()=>M,Yj:()=>U,Yl:()=>G,_Y:()=>X,cP:()=>y,em:()=>o,ey:()=>i,gJ:()=>Q,gf:()=>O,i0:()=>N,i2:()=>b,iE:()=>_,kP:()=>k,kf:()=>q,lc:()=>L,mi:()=>se,on:()=>B,qI:()=>W,rB:()=>te,sR:()=>P,sx:()=>S,types:()=>s,uE:()=>j,uG:()=>Y,uw:()=>K,wL:()=>$,wX:()=>V,yS:()=>g,yU:()=>m,yc:()=>w});const s={COPY_LINK_SUCCESS:"COPY_LINK_SUCCESS",OPEN_DELETE_PLAYLIST_DIALOG:"OPEN_DELETE_PLAYLIST_DIALOG",CLOSE_DELETE_PLAYLIST_DIALOG:"CLOSE_DELETE_PLAYLIST_DIALOG",OPEN_DELETE_FOLDER_DIALOG:"OPEN_DELETE_FOLDER_DIALOG",CLOSE_DELETE_FOLDER_DIALOG:"CLOSE_DELETE_FOLDER_DIALOG",OPEN_REMOVE_FROM_LIBRARY_DIALOG:"OPEN_REMOVE_FROM_LIBRARY_DIALOG",CLOSE_REMOVE_FROM_LIBRARY_DIALOG:"CLOSE_REMOVE_FROM_LIBRARY_DIALOG",OPEN_BLOCK_USER_DIALOG:"OPEN_BLOCK_USER_DIALOG",CLOSE_BLOCK_USER_DIALOG:"CLOSE_BLOCK_USER_DIALOG",OPEN_SIGNUP_PROMPT_DIALOG:"OPEN_SIGNUP_PROMPT_DIALOG",CLOSE_SIGNUP_PROMPT_DIALOG:"CLOSE_SIGNUP_PROMPT_DIALOG",OPEN_LEAVE_PLAYLIST_DIALOG:"OPEN_LEAVE_PLAYLIST_DIALOG",CLOSE_LEAVE_PLAYLIST_DIALOG:"CLOSE_LEAVE_PLAYLIST_DIALOG",HIDE_UNSUPPORTED_MESSAGE:"HIDE_UNSUPPORTED_MESSAGE",SHOW_UNSUPPORTED_MESSAGE:"SHOW_UNSUPPORTED_MESSAGE",HIDE_PLAYBACK_NOT_SUPPORTED_MODAL:"HIDE_PLAYBACK_NOT_SUPPORTED_MODAL",SHOW_PLAYBACK_NOT_SUPPORTED_MODAL:"SHOW_PLAYBACK_NOT_SUPPORTED_MODAL",HIDE_OFFLINE_DEVICE_LIMIT_REACHED_MODAL:"HIDE_OFFLINE_DEVICE_LIMIT_REACHED_MODAL",SHOW_OFFLINE_DEVICE_LIMIT_REACHED_MODAL:"SHOW_OFFLINE_DEVICE_LIMIT_REACHED_MODAL",HIDE_PREMIUM_MODAL:"HIDE_PREMIUM_MODAL",SHOW_PREMIUM_MODAL:"SHOW_PREMIUM_MODAL",HIDE_L2L_MODAL:"HIDE_L2L_MODAL",SHOW_L2L_MODAL:"SHOW_L2L_MODAL",HIDE_S2L_MODAL:"HIDE_S2L_MODAL",SHOW_S2L_MODAL:"SHOW_S2L_MODAL",HIDE_EMPLOYEE_PODCASTS_MODAL:"HIDE_EMPLOYEE_PODCASTS_MODAL",SHOW_EMPLOYEE_PODCASTS_MODAL:"SHOW_EMPLOYEE_PODCASTS_MODAL",EMPLOYEE_PODCASTS_PLUGIN_ENABLED:"EMPLOYEE_PODCASTS_PLUGIN_ENABLED",EMPLOYEE_PODCASTS_PLUGIN_DISABLED:"EMPLOYEE_PODCASTS_PLUGIN_DISABLED",HIDE_COOKIE_NOTICE:"HIDE_COOKIE_NOTICE",SHOW_COOKIE_NOTICE:"SHOW_COOKIE_NOTICE",OPEN_FULLSCREEN_MODE:"OPEN_FULLSCREEN_MODE",CLOSE_FULLSCREEN_MODE:"CLOSE_FULLSCREEN_MODE",CONNECT_DEVICE_PICKER_OPENED:"CONNECT_DEVICE_PICKER_OPENED",CONNECT_DEVICE_PICKER_CLOSED:"CONNECT_DEVICE_PICKER_CLOSED",SHOW_CONNECT_NUDGE:"SHOW_CONNECT_NUDGE",HIDE_CONNECT_NUDGE:"HIDE_CONNECT_NUDGE",SHOW_CONNECT_BAR:"SHOW_CONNECT_BAR",HIDE_CONNECT_BAR:"HIDE_CONNECT_BAR",UPDATE_UI_HISTORY_STATE:"UPDATE_UI_HISTORY_STATE",ENTER_FULLSCREEN:"ENTER_FULLSCREEN",LEAVE_FULLSCREEN:"LEAVE_FULLSCREEN",ENABLE_KEYBOARD_SHORTCUTS:"ENABLE_KEYBOARD_SHORTCUTS",SET_KEYBOARD_SHORTCUTS_HELP_VISIBILITY:"SET_KEYBOARD_SHORTCUTS_HELP_VISIBILITY",SHOW_TRACK_CREDITS:"SHOW_TRACK_CREDITS",CONTEXT_MENU_OPENED:"CONTEXT_MENU_OPENED",CONTEXT_MENU_CLOSED:"CONTEXT_MENU_CLOSED",INITIALISE_QUICKSILVER:"INITIALISE_QUICKSILVER",TRIGGER_CLICK_DEPRECATION_MESSAGE:"TRIGGER_CLICK_DEPRECATION_MESSAGE",OPEN_REMOVE_DOWNLOADS_DIALOG:"OPEN_REMOVE_DOWNLOADS_DIALOG",CLOSE_REMOVE_DOWNLOADS_DIALOG:"CLOSE_REMOVE_DOWNLOADS_DIALOG",OPEN_CLEAR_CACHE_DIALOG:"OPEN_CLEAR_CACHE_DIALOG",CLOSE_CLEAR_CACHE_DIALOG:"CLOSE_CLEAR_CACHE_DIALOG",OPEN_RENAME_FOLDER_MODAL:"OPEN_RENAME_FOLDER_MODAL",CLOSE_RENAME_FOLDER_MODAL:"CLOSE_RENAME_FOLDER_MODAL",OPEN_YOUR_DJ_UPSELL_MODAL:"OPEN_YOUR_DJ_UPSELL_MODAL",CLOSE_YOUR_DJ_UPSELL_MODAL:"CLOSE_YOUR_DJ_UPSELL_MODAL",OPEN_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG:"OPEN_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG",CLOSE_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG:"CLOSE_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG",OPEN_ARTIST_ABOUT_DIALOG:"OPEN_ARTIST_ABOUT_DIALOG",CLOSE_ARTIST_ABOUT_DIALOG:"CLOSE_ARTIST_ABOUT_DIALOG",OPEN_BOOK_CONSUMPTION_CAP_MODAL:"OPEN_BOOK_CONSUMPTION_CAP_MODAL",CLOSE_BOOK_CONSUMPTION_CAP_MODAL:"CLOSE_BOOK_CONSUMPTION_CAP_MODAL",OPEN_DSA_DIALOG:"OPEN_DSA_DIALOG",CLOSE_DSA_DIALOG:"CLOSE_DSA_DIALOG",OPEN_JAM_MODAL:"OPEN_JAM_MODAL",CLOSE_JAM_MODAL:"CLOSE_JAM_MODAL"},i=e=>({type:s.COPY_LINK_SUCCESS,link:e}),r=()=>({type:s.SHOW_L2L_MODAL}),a=()=>({type:s.HIDE_L2L_MODAL}),o=e=>({type:s.OPEN_DELETE_PLAYLIST_DIALOG,uri:e}),l=()=>({type:s.CLOSE_DELETE_PLAYLIST_DIALOG}),c=(e,t)=>({type:s.OPEN_DELETE_FOLDER_DIALOG,uri:e,onDeleteCallback:t}),d=()=>({type:s.CLOSE_DELETE_FOLDER_DIALOG}),u=e=>({type:s.OPEN_REMOVE_FROM_LIBRARY_DIALOG,uri:e}),m=()=>({type:s.CLOSE_REMOVE_FROM_LIBRARY_DIALOG}),p=e=>({type:s.OPEN_LEAVE_PLAYLIST_DIALOG,playlistUri:e}),h=()=>({type:s.CLOSE_LEAVE_PLAYLIST_DIALOG}),g=(e,t)=>({type:s.OPEN_BLOCK_USER_DIALOG,uri:e,name:t}),f=()=>({type:s.CLOSE_BLOCK_USER_DIALOG}),y=(e=null)=>({type:s.OPEN_SIGNUP_PROMPT_DIALOG,uri:e}),_=()=>({type:s.CLOSE_SIGNUP_PROMPT_DIALOG}),b=()=>({type:s.HIDE_UNSUPPORTED_MESSAGE}),v=e=>({type:s.SHOW_UNSUPPORTED_MESSAGE,message:e}),x=()=>({type:s.HIDE_PLAYBACK_NOT_SUPPORTED_MODAL}),C=()=>({type:s.SHOW_PLAYBACK_NOT_SUPPORTED_MODAL}),E=()=>({type:s.HIDE_OFFLINE_DEVICE_LIMIT_REACHED_MODAL}),S=()=>({type:s.SHOW_OFFLINE_DEVICE_LIMIT_REACHED_MODAL}),w=()=>({type:s.OPEN_FULLSCREEN_MODE}),I=()=>({type:s.CLOSE_FULLSCREEN_MODE}),A=()=>({type:s.CONNECT_DEVICE_PICKER_OPENED}),T=()=>({type:s.CONNECT_DEVICE_PICKER_CLOSED}),k=()=>({type:s.SHOW_CONNECT_NUDGE}),N=()=>({type:s.HIDE_CONNECT_NUDGE}),O=e=>({type:s.UPDATE_UI_HISTORY_STATE,historyState:e}),P=()=>({type:s.ENTER_FULLSCREEN}),j=()=>({type:s.LEAVE_FULLSCREEN}),L=e=>({type:s.SET_KEYBOARD_SHORTCUTS_HELP_VISIBILITY,isOpen:e}),R=(e,t)=>({type:s.SHOW_TRACK_CREDITS,isOpen:e,trackUri:t}),D=()=>({type:s.SHOW_S2L_MODAL}),M=()=>({type:s.HIDE_S2L_MODAL}),U=()=>({type:s.INITIALISE_QUICKSILVER}),F=()=>({type:s.TRIGGER_CLICK_DEPRECATION_MESSAGE}),B=()=>({type:s.OPEN_REMOVE_DOWNLOADS_DIALOG}),G=()=>({type:s.CLOSE_REMOVE_DOWNLOADS_DIALOG}),V=()=>({type:s.OPEN_CLEAR_CACHE_DIALOG}),H=()=>({type:s.CLOSE_CLEAR_CACHE_DIALOG}),W=(e,t)=>({type:s.OPEN_RENAME_FOLDER_MODAL,name:e,handleRename:t}),z=()=>({type:s.CLOSE_RENAME_FOLDER_MODAL}),Y=e=>({type:s.OPEN_BOOK_CONSUMPTION_CAP_MODAL,consumptionCapExplanation:e}),K=()=>({type:s.CLOSE_BOOK_CONSUMPTION_CAP_MODAL}),q=(e,t,n,i)=>({type:s.OPEN_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG,uri:e,onConfirm:t,onCancel:n,remoteDeviceInfo:i}),Q=()=>({type:s.CLOSE_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG}),X=e=>({type:s.OPEN_DSA_DIALOG,item:e}),$=()=>({type:s.CLOSE_DSA_DIALOG}),J=(e,t,n)=>({type:s.OPEN_JAM_MODAL,modalType:e,joinToken:t,memberToRemove:n}),Z=()=>({type:s.CLOSE_JAM_MODAL}),ee=e=>({type:s.OPEN_ARTIST_ABOUT_DIALOG,data:e}),te=()=>({type:s.CLOSE_ARTIST_ABOUT_DIALOG}),ne=()=>({type:s.OPEN_YOUR_DJ_UPSELL_MODAL}),se=()=>({type:s.CLOSE_YOUR_DJ_UPSELL_MODAL})},2420:(e,t,n)=>{"use strict";n.d(t,{IH:()=>l,IP:()=>h,KS:()=>g,yO:()=>c});n(73952),n(97768);var s=n(4564),i=n(12100),r=n(72001),a=n(16928),o=n(17148);function l(e){return"video"===e.mediaType}function c(e){return e.isPodcastAd}function d(e){return null!=e&&""!==e}function u(e){return d(e)&&"#"!==e}function m(e,...t){return t.find(e)??null}function p(...e){return m(d,...e)}function h(...e){const t=m(u,...e);return t?(0,o.W)(t):t}function g(e){const t=(0,s.w1)((e=>e.ads?.vto?.info??null)),n=(0,s.w1)((e=>e.ads?.audio?.info??null)),d=(0,r.o)((e=>e?.context),((e,t)=>e?.uri===t?.uri));if(!(0,a.UZ)(e))return null;const{advertiser:u,url:m,title:g}=e,f=i._s.get("ad-formats.advertisement"),y=i._s.get("ad-formats.learnMore");if(c(e)){const e=d?.metadata?.context_description||u||y;return{title:p(g,t?.advertiser,n?.buttonMessage)??f,subtitle:e,url:h(t?.clickUrl,n?.clickUrl,m),blurbUri:d?.metadata?.context_description&&e===d?.metadata.context_description&&d.uri?(0,o.W)(d.uri):void 0}}if(l(e))return{title:t?.advertiser??f,subtitle:t?.buttonMessage??y,url:h(t?.clickUrl,m)};const _=!0===n?.isFeaturedActionPlay?i._s.get("ad-formats.playTrack"):null;return{title:u||f,subtitle:p(n?.buttonMessage,_)??y,url:h(n?.clickUrl,m)}}},21360:(e,t,n)=>{"use strict";n.d(t,{E3:()=>P,UX:()=>N,aB:()=>I});var s=n(4564),i=n(5213),r=n(39564),a=n(12100),o=n(92988),l=n(77856),c=n(57800);const d=e=>{const t=(0,l.wJ)(),n=(0,c.mg)(),s=t.getInStreamAd();return{logAdFeedback:function(t){n.send((0,o.y)({ad_id:e.id,advertiser:e.advertiser,creative_id:s?.adId===e.id?s?.metadata?.creative_id:void 0,format:e.mediaType,line_item_id:s?.adId===e.id?s?.metadata?.lineitem_id:void 0,event:t}))}}};var u=n(42740),m=n(76288);const p=e=>e.ads.adFeedback,h=(0,m.M3)([e=>p(e),(e,t)=>t],((e,t)=>!(!t||e.adId!==t)&&e.liked)),g=(0,m.M3)([e=>p(e),(e,t)=>t],((e,t)=>!(!t||e.adId!==t)&&e.disliked));(0,m.M3)([e=>p(e),(e,t)=>t],((e,t)=>t&&e.adId===t?e.feedback:null));var f=n(87832),y=(n(41260),n(96651)),_=n(44488),b=n(90484),v=n(81604),x=n(2488);const C=(0,y.memo)((function({onFeedbackReasonSelect:e}){const t=new Map([["relevant",a._s.get("ad-formats.ad-feedback.like.relevant")],["interested_in_brand",a._s.get("ad-formats.ad-feedback.like.interested-in-brand")],["interested_in_product",a._s.get("ad-formats.ad-feedback.like.interested-in-product")],["enjoyable",a._s.get("ad-formats.ad-feedback.like.enjoyable-content")],["discovered_new",a._s.get("ad-formats.ad-feedback.like.discovered-new")]]);return(0,x.jsx)(v.oL,{value:"like-ad",children:(0,x.jsx)(_.i,{children:Array.from(t).map((([t,n])=>(0,x.jsx)(v.oL,{value:n,children:(0,x.jsx)(b.I,{role:"menuitem","aria-label":n,onClick:()=>e(t,n),children:n})},t)))})})}));var E=n(96560),S=n(85988);const w=({icon:e,activeIcon:t,label:n,isActive:s,...i})=>(0,x.jsx)(S.Yl,{label:n,children:(0,x.jsx)(E.u,{"aria-label":`${n}, ${s?"selected":"unselected"}, button`,"aria-pressed":s,semanticColor:s?"textBrightAccent":"textSubdued",iconOnly:s?t:e,"aria-haspopup":"menu",size:"small",...i})}),I=({item:e})=>{const t=(0,s.OY)(),{logAdFeedback:n}=d(e),o=(0,s.w1)((t=>h(t,e.id)));return(0,x.jsx)(f.pD,{menu:(0,x.jsx)(C,{onFeedbackReasonSelect:(s,i)=>{e.id&&(t((0,u.gH)({adId:e.id,reason:i})),n(`like_${s}`))}}),children:(0,x.jsx)(w,{item:e,icon:i.U,activeIcon:r.C,label:a._s.get("ad-formats.ad-feedback.like"),isActive:o,"":"button-like-ad",onClick:()=>{if(e.id){if(o)return t((0,u.e2)({adId:e.id})),void n("cancel_like");t((0,u.gH)({adId:e.id})),n("like_menu")}}})})};var A=n(7768),T=n(89120);const k=(0,y.memo)((function({onFeedbackReasonSelect:e}){const t=new Map([["not_relevant",a._s.get("ad-formats.ad-feedback.dislike.not-relevant")],["too_often",a._s.get("ad-formats.ad-feedback.dislike.too-often")],["unpleasant",a._s.get("ad-formats.ad-feedback.dislike.unpleasant-content")],["offensive",a._s.get("ad-formats.ad-feedback.dislike.offensive-content")],["do_not_like",a._s.get("ad-formats.ad-feedback.dislike.do-not-like")]]);return(0,x.jsx)(v.oL,{value:"dislike-ad",children:(0,x.jsx)(_.i,{children:Array.from(t).map((([t,n])=>(0,x.jsx)(v.oL,{value:n,children:(0,x.jsx)(b.I,{role:"menuitem","aria-label":n,onClick:()=>e(t,n),children:n})},t)))})})})),N=({item:e})=>{const t=(0,s.OY)(),{logAdFeedback:n}=d(e),i=(0,s.w1)((t=>g(t,e.id)));return(0,x.jsx)(f.pD,{menu:(0,x.jsx)(k,{onFeedbackReasonSelect:(s,i)=>{e.id&&(t((0,u.WG)({adId:e.id,reason:i})),n(`dislike_${s}`))}}),children:(0,x.jsx)(w,{item:e,icon:A.e,activeIcon:T.G,label:a._s.get("ad-formats.ad-feedback.dislike"),isActive:i,"":"button-dislike-ad",onClick:()=>{if(e.id){if(i)return t((0,u.Q7)({adId:e.id})),void n("cancel_dislike");t((0,u.WG)({adId:e.id})),n("dislike_menu")}}})})},O="iDW7b6oChePRpgfDFY3U",P=({item:e})=>(0,x.jsxs)("div",{className:O,children:[(0,x.jsx)(I,{item:e}),(0,x.jsx)(N,{item:e})]})},35032:(e,t,n)=>{"use strict";n.d(t,{K8:()=>o,U7:()=>l,im:()=>a});var s=n(12100),i=n(77856),r=n(2420);function a(e){return(0,r.IH)(e)?"video":"audio"}function o(e){return(0,r.yO)(e)?"podcast":"music"}function l(e){const t=(0,i.wJ)().getInStreamAd(),n=t?.metadata?.logoImage,a=t?.metadata?.buttonMessage,o=t?.metadata?.tagline,l=t?.clickthroughUrl,{url:c}=e,d=e.metadata?.advertiser,u=d||null,m=s._s.get("ad-formats.advertisement");if((0,r.yO)(e)){return{title:u,subtitle:m,url:(0,r.IP)(l,c),tagline:o,buttonMessage:a,logoImage:n}}return(0,r.IH)(e),{title:u,subtitle:m,url:(0,r.IP)(l,c),tagline:o,buttonMessage:a,logoImage:n}}},30260:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getAdsManagerConfig:()=>o,getAdsManagerSlot:()=>l,getDsaAdMetadata:()=>c,getLeavebehindsData:()=>d,getSponsoredPlaylistAd:()=>u});var s=n(71344),i=n(44712),r=n(84264),a=n(76404);const o=(e,t)=>e.build().withHost(a.qE).withPath("/v2/config").withQueryParameters({playload:"",e30:""}).withHeaders(t).withEndpointIdentifier("/v2/config").send(),l=(e,t,n)=>e.build().withHost(a.qE).withPath(`/v1/ads/${t}`).withQueryParameters({playload:"",e30:""}).withHeaders(n).withEndpointIdentifier("/v1/ads/{slotName}").send(),c=async e=>{const t=r.W.getInstance();return(await t.build().withMethod("POST").withHost(a.ay).withPath("/dsa-metadata").withEndpointIdentifier("/dsa-metadata").withBody(JSON.stringify(e)).withoutMarket().send()).body},d=(e,t,n,r,o=!1)=>{const l=o?"/leavebehinds/mock/ads":"/leavebehinds/ads";return e.build().withMethod("POST").withHost(a.sh).withPath(l).withEndpointIdentifier(l).withBody(JSON.stringify({surface:t,uri:n,playlistTitle:r,maxAds:(0,s.En)((0,i.wJ)(t))})).withoutMarket().send()},u=e=>r.W.getInstance().build().withHost(a.If).withPath(`/sponsored/${e}`).withEndpointIdentifier("sponsored/{playlistUri}").send()},64668:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var s=n(66872);function i(e){return`${(0,s.eK)(e)}/sponsors`}},20751:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var s=n(49232),i=n(15040);function r(){return(0,s.IP)(i.eqy)}},45412:(e,t,n)=>{"use strict";function s(e){return{...e,clickthrough:e.clickthroughUrl,trackingEvents:e.trackingEvents,metadata:{...e,creative_id:e.creativeId,lineitem_id:e.lineitemId},display:e.displayImage}}n.d(t,{M:()=>s})},55652:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var s=n(66872);function i(e){return`${(0,s.Qr)(e)}/sponsors`}},92109:(e,t,n)=>{"use strict";n.d(t,{U:()=>s,n:()=>i});const s={"discover-weekly":"666f726d61740004","release-radar":"666f726d61740000","time-machine":"666f726d6174f00d","summerjams-a":"666f726d6174f011","summerjams-b":"666f726d6174f012","summerjams-c":"666f726d6174f013","friends-weekly":"666f726d6174f119","on-repeat":"666f726d6174f152"},i="https://spclient.wg.spotify.com/sponsoredplaylist/v1/sponsored"},90148:(e,t,n)=>{"use strict";n.d(t,{EN:()=>h,IB:()=>i,IH:()=>g,KS:()=>d,MH:()=>v,Q$:()=>l,Qf:()=>o,SE:()=>c,YB:()=>_,_I:()=>b,k5:()=>r,kF:()=>m,me:()=>p,sv:()=>a,u6:()=>y,w$:()=>s,wX:()=>f,yi:()=>u});const s={GOT_TEMPLATE:"GOT_TEMPLATE",HPTO_CONTAINER_MOUNTED:"HPTO_CONTAINER_MOUNTED",HPTO_CONTAINER_UNMOUNTED:"HPTO_CONTAINER_UNMOUNTED",HPTO_COMPONENT_UNMOUNTED:"HPTO_COMPONENT_UNMOUNTED",HPTO_COMPONENT_NEW_AD_RENDERED:"HPTO_COMPONENT_NEW_AD_RENDERED",FETCH_CREATIVE:"FETCH_CREATIVE",FETCHING_CREATIVE:"FETCHING_CREATIVE",CREATIVE_FETCH_FAILED:"CREATIVE_FETCH_FAILED",GOT_CREATIVE:"GOT_CREATIVE",SET_HPTO_PREVIEW:"SET_HPTO_PREVIEW",HPTO_PREVIEW_HOME_NAVIGATION:"HPTO_PREVIEW_HOME_NAVIGATION",DEBUG_FORCE_REFRESH_HPTO:"DEBUG_FORCE_REFRESH_HPTO"},i="HPTO_COMPONENT_MOUNTED",r="HPTO_LOG_EVENT",a="HPTO_LOG_ERROR_EVENT",o=e=>({type:s.GOT_TEMPLATE,data:e}),l=()=>({type:s.HPTO_CONTAINER_MOUNTED}),c=e=>({type:i,element:e}),d=e=>({type:s.HPTO_COMPONENT_UNMOUNTED,data:{clearCreative:e}}),u=()=>({type:s.HPTO_COMPONENT_NEW_AD_RENDERED}),m=()=>({type:s.FETCH_CREATIVE}),p=()=>({type:s.FETCHING_CREATIVE}),h=e=>({type:s.GOT_CREATIVE,data:e}),g=e=>({type:s.SET_HPTO_PREVIEW,data:e}),f=()=>({type:s.HPTO_PREVIEW_HOME_NAVIGATION}),y=()=>({type:s.CREATIVE_FETCH_FAILED}),_=(e,t="")=>({type:r,event:e,context:t}),b=e=>({type:a,error:e}),v=()=>({type:s.DEBUG_FORCE_REFRESH_HPTO})},57492:(e,t,n)=>{"use strict";n.d(t,{AL:()=>a,SO:()=>u,Uv:()=>h,ae:()=>p,cv:()=>m,g$:()=>c,iP:()=>d,oN:()=>g,yI:()=>l});var s=n(76288),i=n(52060);const r=[i.w.NATIVE,i.w.IMAGE,i.w.HTML],a=e=>e.ads.hpto?.template||null,o=e=>e.ads.root.isHptoHidden,l=e=>e.ads.hpto?.hptoIsStable||null,c=e=>e.ads.root.isPremium,d=e=>"1"===e.session.productState?.["has-audiobooks-subscription"],u=e=>e.ads.hpto?.creativeFetchingState||null,m=(0,s.M3)((e=>e.ads.hpto?.creative||null),(e=>e.ads.hpto?.preview||null),((e,t)=>t||e)),p=(0,s.M3)(m,c,o,((e,t,n)=>{if(!e)return!1;return!(!r.includes(e.bannerMode)||t&&n)})),h=(0,s.M3)(c,o,((e,t)=>!e||!t)),g=(0,s.M3)(m,(e=>!!e&&r.includes(e.bannerMode)))},52756:(e,t,n)=>{"use strict";n.d(t,{GA:()=>m,Go:()=>o,Gs:()=>v,Gy:()=>h,IR:()=>l,Mp:()=>p,Ou:()=>d,UJ:()=>r,Wl:()=>i,YB:()=>b,YZ:()=>_,_0:()=>c,ai:()=>y,k$:()=>u,qg:()=>g,qi:()=>a,us:()=>s,yo:()=>f});const s="REQUEST_SPONSORED_PLAYLISTS",i="REQUEST_SPONSORED_PLAYLISTS_SUCCESS",r="REQUEST_SPONSORED_PLAYLIST_AD",a="REQUEST_SPONSORED_PLAYLIST_AD_SUCCESS",o="LOG_EVENT_SPONSORED_PLAYLIST",l="SPONSORED_PLAYLIST_RENDERED",c="SPONSORED_PLAYLIST_DESTROYED",d="SET_SPONSORED_PREVIEW_AD",u=e=>({type:r,playlistUri:e}),m=e=>({type:i,sponsorships:e}),p=e=>({type:"REQUEST_SPONSORED_PLAYLISTS_FAILURE",error:e}),h=()=>({type:l}),g=()=>({type:c}),f=()=>({type:s}),y=(e,t)=>({type:a,playlistUri:e,ad:t}),_=e=>({type:d,previewAd:e}),b=e=>({type:o,message:e}),v=e=>({type:"REQUEST_SPONSORED_PLAYLIST_AD_FAILURE",error:e})},38680:(e,t,n)=>{"use strict";n.d(t,{Kk:()=>r,Nu:()=>a,Oe:()=>d,YB:()=>l,ln:()=>o,uO:()=>c,w$:()=>s,yO:()=>i});const s={MINIMIZE_VIDEO_AD_VIEW:"MINIMIZE_VIDEO_AD_VIEW",MAXIMIZE_VIDEO_AD_VIEW:"MAXIMIZE_VIDEO_AD_VIEW",HIDE_VIDEO_AD_VIEW:"HIDE_VIDEO_AD_VIEW",SHOW_VIDEO_AD_VIEW:"SHOW_VIDEO_AD_VIEW",VTO_LOG_EVENT:"VTO_LOG_EVENT",VTO_SET_INFO:"VTO_SET_INFO",VTO_NAVIGATION_CHANGE:"VTO_NAVIGATION_CHANGE"},i=()=>({type:s.MINIMIZE_VIDEO_AD_VIEW}),r=()=>({type:s.MAXIMIZE_VIDEO_AD_VIEW}),a=()=>({type:s.HIDE_VIDEO_AD_VIEW}),o=()=>({type:s.SHOW_VIDEO_AD_VIEW}),l=(e,t,n)=>({type:s.VTO_LOG_EVENT,event:e,eventReason:t,eventSource:n}),c=e=>({type:s.VTO_SET_INFO,info:e}),d=()=>({type:s.VTO_NAVIGATION_CHANGE})},61648:(e,t,n)=>{"use strict";n.d(t,{e2:()=>f,settingsClient:()=>h});var s=n(71368),i=n(73784),r=n(52172),a=n(56820),o=n(28764),l=n(72136),c=n(56508),d=n(92109);const u=(0,c.Y)(),m=new s.oR(u),p=new o.ii(u),h=new a.qK(u),g=(new i.WO(u),new r.YP(u));class f{addNewSlot(e,t){return p.createSlot(o.An.fromPartial({slotId:e}))}enableSlot(e){return h.updateSlotEnabled(a.KO.fromPartial({slotId:e,enabled:!0}))}async fetchAdForSlot(e){const t=(await m.getAds(s.gJ.fromPartial({slotId:e}))).adPackage[e];if(!t)throw new Error("slot-not-defined");if(!t.ads.length)throw new Error("no-ads");return t.ads[0]}async getSponsoredUris(){return(await(new l.O).build().withHost(d.n).withMethod("GET").send()).body}subscribeToInStreamAds(e){return g.subInStream({},e)}subscribeToSlot(e,t){return p.subSlot(o.Gg.fromPartial({slotId:e}),(e=>t(e)))}getSlotSettings(e){return h.getSlotSettings({slotId:e})}}},30504:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});const s=(0,n(68792).A)()},28444:(e,t,n)=>{"use strict";function s(...e){return console.log("cosmos-connector: ",...e),e}n.d(t,{C:()=>s})},86260:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getEpisodeSponsors:()=>r});n(41260);var s=n(30504),i=n(45412);const r=async(...e)=>{const t=globalThis;if("function"==typeof t.getEpisodeSponsorsOverride)return await t.getEpisodeSponsorsOverride(...e);const[n,r]=e;if(!n)throw new Error("episodeBase62Id invalid for getting episode sponsors");const a=((...[e,t])=>`https://spclient.wg.spotify.com/podcast-ap4p/${2===t?.version?"v2/episodeSponsors":"rawSponsoredSection"}/${e}${2===t?.version?"?responseFormat=json":""}`)(...e);if(2===r?.version){return(await s.O.get(a)).ads.map(i.M)}return await s.O.get(a)}},65404:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getShowSponsors:()=>r});n(41260);var s=n(30504),i=n(45412);const r=async(...e)=>(await s.O.get(((...[e])=>`https://spclient.wg.spotify.com/podcast-ap4p/showSponsors/${e}?responseFormat=json`)(...e))).ads.map(i.M)},77220:(e,t,n)=>{"use strict";n.d(t,{U:()=>w});n(73952),n(97296),n(39568);var s=n(36836),i=n(30504),r=n(28444),a=n(56508);const o=new s.ae((0,a.Y)()),l={"Content-Type":"application/json"};var c=n(86260),d=n(65404);n(91372);const u=Date.now(),m="https://spclient.wg.spotify.com/ads/v1/ads",p="https://spclient.wg.spotify.com/sponsoredplaylist/v1/sponsored",h="sp://ads/v1/slots",g="sp://ads/v1/settings",f=`${g}/request_header`,y="sp://ads/v1/state",_="sp://ads/v2/state",b=["audio","video","banner"];let v=m,x=p;function C(e,t){i.O.sub("sp://ads/v1/formats/"+e,(e=>{t(e)}))}function E(e){return i.O.get(`${g}/${e}`,l)}function S(e,t){return i.O.post(`${h}/${e}/${t}`,{},l)}const w={subscribeToFormat:C,getSlotConfigurations:E,subscribeToAdsProductState:function(e){return o.subValues(s.Mx.fromPartial({}),(t=>{t.pairs.ads&&e({ads:t.pairs.ads})}))},subscribeToProductState:function(e,t){return o.subValues(s.Mx.fromPartial({}),(n=>{n.pairs[e]&&t({[e]:n.pairs[e]})}))},getAdSlotConfig:e=>E(e).then((t=>t.settings.filter((t=>t.id===e))[0])),getAdForSlot(e,t,n){(0,r.C)("fetch ad for slot=%o, localTargeting=%o",t,e,v);const s=v!==m?v:`${v}/${t}`;return i.O.get(s,{targeting:e,pod:{},session_id:u,overrides:n||{}},{}).then((e=>{if(!e.pod)throw new Error("pod-not-defined");if(!e.pod[t])throw new Error("slot-not-defined");if(0===e.pod[t].length)throw new Error("no-ads");return e.pod[t][0]}))},fetchAdForSlot(e,t){const n=`sp://ads/v1/ads/${e}`;(0,r.C)("fetchAdForSlot endpoint=%o",n);return i.O.get(n,t,{}).then((t=>{if(!t[e])throw new Error("slot-not-defined");if(0===t[e].length)throw new Error("no-ads");return t[e][0]}))},requestPreviewAd:e=>((0,r.C)("Requesting preview ad, adid=%o",e),i.O.post(`sp://ads/v1/preview/${e}`,{})),overrideCountry:e=>((0,r.C)("Overring country=%o",e),i.O.put("sp://ads/v2/testing/request_override/country",{value:e})),patchTargeting:(e,t)=>i.O.put(`sp://ads/v1/targeting/${e}`,{value:t},l),increaseStreamTime:e=>i.O.post("sp://ads/v1/testing/playtime",{value:e},l),addNewSlot:(e,t)=>i.O.put(`${h}/${e}`,{formats:[t]},l).then((()=>`${h}/${e}/${t}`)),subscribeToSlot:(e,t)=>i.O.sub(e,(e=>{t(e)})),subscribeToSlotType:(e,t)=>i.O.sub(`${h}/${e}`,(e=>{t(e)})),subscribeToAllFormats(e){b.map((t=>{C(t,(n=>{e(t,n)}))}))},subscribeToEvent:function(e,t,n,s){return i.O.sub((e=>`sp://ads/v1/events/${e}`)(e),t,n,s)},postEvent:function(e,t,n){const s=`sp://ads/v1/events/${t}/${e}`;if(n&&n.event_data){if(Object.keys(n.event_data).some((e=>"string"!=typeof n.event_data?.[e])))return Promise.reject(new TypeError("Invalid Payload. All event_data values need to be strings. Furthermore, event_data shouldn't even be used at all anymore since it has been deprecated with https://ghe.spotify.net/ads/adscore-docs/pull/6"))}return i.O.post(s,n||{},l)},postToSlot(e,t,n){const s=`${h}/${e}/${t}`;return i.O.post(s,n||{},l)},getSlotConfiguration:(e,t)=>window.Ads&&window.Ads.adFormatOverrides.billboardShowAfterSeconds?Promise.resolve(window.Ads.adFormatOverrides.billboardShowAfterSeconds):E(e).then((n=>{let s;return n.settings.forEach((n=>{n.id===e&&(s=n[t])})),s})),configureSlot:(e,t,n)=>i.O.put(`${g}/${e}/${t}`,{value:n},l),enableSlot:e=>i.O.put(`${g}/${e}/slot_enabled`,{value:!0},l),async getSponsoredUris(){const e=x!==p?x:p;return i.O.get(e)},getSponsorshipAd(e){const t=x!==p?x:`${p}/${e}`;return(0,r.C)("getSponsorshipAd",t),i.O.get(t)},subToState(e){i.O.sub(y,e)},subToAdState(e){i.O.sub(_,e)},getState:()=>i.O.get(y),getAdState:()=>i.O.get(_),getFeatureFlags:e=>i.O.post("sp://abba/v1/flags",{flags:e},l),setAdSlotEndpoint(e){v=e,(0,r.C)("setAdSlotEndpoint",e)},setAdStatePusherEndpoint:e=>((0,r.C)("setAdStatePusherEndpoint",e),i.O.put("sp://ads/v2/settings/state/ad_state_endpoint",{value:e},l)),setSponsoredUri(e){x=e,(0,r.C)("setSponsoredUri",e)},triggerSlotFetch:e=>S(e,"fetch"),triggerSlotPlay:e=>S(e,"now"),triggerSlotClear:e=>S(e,"clear"),triggerSlotClearAll:e=>S(e,"clear_all"),setRequestHeader:(e,t,n)=>i.O.put(`${f}/${e}`,{value:t,refresh_inventory:n},l),removeRequestHeader:(e,t)=>i.O.del(`${f}/${e}`,{refresh_inventory:t},l),setAdStateKey:(e,t)=>i.O.put(`${_}/${e}`,{value:t},l),setAdState:e=>i.O.put(`${_}`,e,l),loadAdPod:e=>((0,r.C)("Loading ad pod via cosmos",e),i.O.put("sp://ads/v2/testing/insert_ads",{value:JSON.stringify(e)},l)),overridePodcastMetadata:function(e){return(0,r.C)("Overriding podcast metadata",e),i.O.put("sp://ads/v1/podcast/metadata",e,l)},logAudioVolume:async function(e){await i.O.put("sp://device_state/state",{volume:e},l)},getEpisodeSponsors:c.getEpisodeSponsors,getShowSponsors:d.getShowSponsors}},94440:(e,t,n)=>{"use strict";n.d(t,{c:()=>y,w:()=>b});n(73952),n(39568);var s=n(49404),i=n.n(s);const r=["Loftie","HBOMax","Squarespace","Casper","Smile Direct Club","Test Advertiser #6","Test Advertiser #7"],a=async()=>r.map(((e,t)=>({clickthrough:"https://www.spotify.com/",display:"https://open.spotifycdn.com/cdn/images/logo-complete-black.573d8227.svg",metadata:{adId:`test ad id ${t}`,displayImage:"https://open.spotifycdn.com/cdn/images/logo-complete-black.573d8227.svg",clickthroughUrl:`test clickthroughUrl ${t}`,advertiser:e,lineitem_id:`test lineitem id ${t}`,lineitemId:`test lineitem id ${t}`,buttonMessage:`test button message ${t}`,creative_id:`test creative id ${t}`,creativeId:`test creative id ${t}`,featuredAction:`test featured action ${t}`,logoImage:"http://i.scdn.co/image/86a0078ff798be6840aec841e7fbd2da2acea75d",tagline:`test tagline ${t}`},trackingEvents:{clicked:["https://xpui.app.spotify.com/index.html"],viewed:["https://xpui.app.spotify.com/index.html"]}})));var o=n(77220),l=n(28444);n(41260);const c="podcast_midroll_15_clickthrough",d="podcast-midroll-1",u={segments:[{slot:d,start:3e4,stop:45e3,targeting:{maxads:"1"},admockerTestCase:c}]};const m="https://admocker.spotify.com";let p;function h(e){return o.U.increaseStreamTime(e)}async function g(e,t){const s=Array.isArray(e)?e:[e],{settingsClient:i}=await Promise.resolve().then(n.bind(n,61648));await i.updateAdServerEndpoint({slotIds:s,url:t}),f()}function f(){p?._debugForceRefreshHpto?.()}const y={overrideCountry:function(e){return o.U.overrideCountry(e)},patchTargeting:function(e,t){return o.U.patchTargeting(e,t)},increaseStreamTime:h,getAdServerEndpoint:function(e){return o.U.getSlotConfigurations(e).then((e=>e.settings[0].ad_server_endpoint))},overrideAdServerEndpoint:g,overrideAdSlotEndpoint:function(e){return o.U.setAdSlotEndpoint(e)},overrideAdStatePusherEndpoint:function(e){return o.U.setAdStatePusherEndpoint(e)},overrideSponsoredPlaylistEndpoint:function(e){o.U.setSponsoredUri(e),p?.overrideSponsoredPlaylistEndpoint?.()},_debugForceRefreshHpto:f,manualPodLoad:function(e){return(0,l.C)("manualPodLoad(): pod=%o",e),o.U.loadAdPod(e)},setAdServerEndpoint:async function(e,t,n){const s="ad_server_endpoint",i=await o.U.getSlotConfigurations(e);let r="";return i?.settings?.[0]?.[s]&&(r=i.settings[0][s].replace("https://pubads.g.doubleclick.net",t)),r+=`&session_id=${n}`,o.U.configureSlot(e,s,r)},clearSlot:function(e){return o.U.postToSlot(e,"clear")},triggerSlot:async function(e){return await o.U.triggerSlotClearAll(e),o.U.postToSlot(e,"fetch")},subToFormats:function(e){return o.U.subscribeToAllFormats(((t,n)=>{e?e(t,n):(0,l.C)("config for slot=%o, res=%o",t,n)}))},subToState:function(e){return o.U.subToState((t=>{e?e(t):(0,l.C)("legacy ads state updated: %o",t)}))},subToAdState:function(e){o.U.subToAdState((t=>{e?e(t):(0,l.C)("ad state updated: %o",t)}))},getState:function(e){return o.U.getState().then((t=>(e?e(t):(0,l.C)("legacy ads state: %o",t.state),t)))},getAdState:function(e){return o.U.getAdState().then((t=>{e?e(t):(0,l.C)("ad state: %o",t)}))},configureSlot:function(e,t,n){return o.U.configureSlot(e,t,n)},debug:l.C,getAdSlotConfigurations:function(e,t){o.U.getSlotConfigurations(e).then((n=>{t?t(n):(0,l.C)("config for slot=%o, res=%o",e,n)}))},setRequestHeader:function(e,t,n){return o.U.setRequestHeader(e,t,n)},removeRequestHeader:function(e,t){return o.U.removeRequestHeader(e,t)},createSlotAndOverrideItsAdServerEndpoint:function(e,t){return o.U.addNewSlot(e).then((()=>g(e,t))).catch((t=>(0,l.C)(`Problem creating and overriding ${e} slot, error=%o`,t)))},enableSlot:function(e){return o.U.enableSlot(e)},queueVideoAd:function(){return Promise.all([o.U.addNewSlot("stream","video"),o.U.increaseStreamTime(1200),o.U.patchTargeting("focus","true"),o.U.patchTargeting("adbreak","video,adscore")])},setBillboardTimeout(e){y.adFormatOverrides.billboardShowAfterSeconds=e},applyAdmockerForPodcastAd:function({podcastMetadata:e=u,sessionId:t="1",endpoint:n=(e=>function(e,t){return`${m}/mock/ad?test_case=${e}&session_id=${t}`}(e.admockerTestCase,t))}={}){return e.segments.forEach((e=>{const t="function"==typeof n?n(e):n;g(e.slot,t)})),o.U.overridePodcastMetadata(e)},adFormatOverrides:{billboardShowAfterSeconds:null},overrideGetEpisodeSponsors:function(e=a){globalThis.getEpisodeSponsorsOverride=e}};let _=!1;function b(e){p=e,_||(i().unbind("shift+f5"),i().bind("shift+f5",(()=>{h(1200)})),_=!0,window.Ads=y)}},81260:(e,t,n)=>{"use strict";n.d(t,{O:()=>i,w:()=>r});var s=n(96651);const i=()=>e=>fetch(e,{mode:"no-cors"});function r(e){return(0,s.useMemo)((()=>e()),[e])}},16e3:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});var s=n(49232),i=n(15040),r=n(16928);const a=e=>{const t=(0,s.IP)(i.kdo,{loadingValue:!1});return!!e&&(0,r.UZ)(e)&&t&&"true"===e.metadata?.["ad.afi"]}},17148:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var s=n(14788);function i(e){const t=(0,s.nX)(e);return function(e){return null!==e}(t)?t.toURI():e}},52060:(e,t,n)=>{"use strict";n.d(t,{e:()=>s,w:()=>i});let s=function(e){return e.NOT_FETCHING="NOT_FETCHING",e.FETCHING="FETCHING",e.FETCHED="FETCHED",e.FAILED="FAILED",e}({}),i=function(e){return e.IMAGE="image",e.HTML="html",e.NATIVE="native",e}({})},44712:(e,t,n)=>{"use strict";n.d(t,{g9:()=>s,sf:()=>r,wJ:()=>i});n(41260);let s=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.PODCAST_SCROLL_NPV=1]="PODCAST_SCROLL_NPV",e[e.SHOW_PAGE=2]="SHOW_PAGE",e[e.EPISODE_PAGE=3]="EPISODE_PAGE",e[e.PODCAST_SEE_ALL=7]="PODCAST_SEE_ALL",e[e.MUSIC_NPV=4]="MUSIC_NPV",e[e.PLAYLIST=5]="PLAYLIST",e[e.MUSIC_SEE_ALL=6]="MUSIC_SEE_ALL",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function i(e){switch(e){case 0:case"UNKNOWN":return s.UNKNOWN;case 1:case"PODCAST_SCROLL_NPV":return s.PODCAST_SCROLL_NPV;case 2:case"SHOW_PAGE":return s.SHOW_PAGE;case 3:case"EPISODE_PAGE":return s.EPISODE_PAGE;case 7:case"PODCAST_SEE_ALL":return s.PODCAST_SEE_ALL;case 4:case"MUSIC_NPV":return s.MUSIC_NPV;case 5:case"PLAYLIST":return s.PLAYLIST;case 6:case"MUSIC_SEE_ALL":return s.MUSIC_SEE_ALL;default:return s.UNRECOGNIZED}}function r(e){switch(e){case s.UNKNOWN:return"UNKNOWN";case s.PODCAST_SCROLL_NPV:return"PODCAST_SCROLL_NPV";case s.SHOW_PAGE:return"SHOW_PAGE";case s.EPISODE_PAGE:return"EPISODE_PAGE";case s.PODCAST_SEE_ALL:return"PODCAST_SEE_ALL";case s.MUSIC_NPV:return"MUSIC_NPV";case s.PLAYLIST:return"PLAYLIST";case s.MUSIC_SEE_ALL:return"MUSIC_SEE_ALL";case s.UNRECOGNIZED:default:return"UNRECOGNIZED"}}},1552:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,W:()=>s});let s=function(e){return e.ADVERTISER_SUBTITLE="advertiser_subtitle",e.ADVERTISER_TITLE="advertiser_title",e.CTA_BUTTON="cta_button",e.COMPANION_CARD="companion_card",e.VIDEO_PLAYER="video_player",e.COVER_ART="cover_art",e.AD_LOGO="ad_logo",e.COVER_ART_EXPANDED="cover_art_expanded",e.COVER_ART_COLLAPSED="cover_art_collapsed",e.MINIMIZED_VIDEO_TAKEOVER="minimized_video_takeover",e}({}),i=function(e){return e.AD_NPV="ad_npv",e.NPB="npb",e.VIDEO_PLAYER="video_player",e}({})},93504:(e,t,n)=>{"use strict";n.d(t,{Ez:()=>o,Gq:()=>a,Og:()=>i,mc:()=>l});n(73952),n(97296),n(99400);var s=n(13376);let i=function(e){return e.CLICKED="clicked",e.COLLAPSED="collapsed",e.EXPANDED="expanded",e.VIEWED="viewed",e}({}),r=function(e){return e.FOREGROUNDED="foregrounded",e.BACKGROUNDED="backgrounded",e}({}),a=function(e){return e.CTA_BUTTON="cta_button",e.MINIMIZE_BUTTON="minimize_button",e.VIDEO_TAKEOVER="video_takeover",e}({}),o=function(e){return e.VIDEO_PLAYER="video_player",e}({});class l{enabled=!1;active=!1;subscriptions=[];fireImpressionOnStart=!1;constructor(e,t,n,s){this.focusState=e,this.videoTakeoverApi=t,this.inStreamApi=n,this.isNewAdsNpvEnabled=s}async enable(e){return this.enabled||(this.enabled=!0,this.listener=e,this.focusState.addFocusListener(this),this.isNewAdsNpvEnabled&&this.inStreamApi.enable(),this.subscriptions.push(this.videoTakeoverApi.subscribeToSlotType("stream",this.onAdMessage)),this.isNewAdsNpvEnabled&&this.subscriptions.push(this.inStreamApi.subscribeToInStreamAds())),null}async disable(){this.enabled&&(this.resetState(),this.enabled=!1,this.listener=void 0,this.resetSubscriptions(),this.focusState.removeAllFocusListeners(),this.isNewAdsNpvEnabled&&this.inStreamApi.disable())}logEvent(e,t,n){if(this.playbackState){const{eventData:s,extraData:i}=this.createEventData(this.playbackState);this.log(e,s,i,t,n)}}onRender(){this.logEvent(this.focusState.hasFocus()?r.FOREGROUNDED:r.BACKGROUNDED)}onFocusChanged(e){return e?this.handleApplicationGainedFocus():this.handleApplicationLostFocus()}parseInfo=e=>({id:e.id,advertiser:e.advertiser,buttonMessage:e.metadata.buttonMessage||null,clickUrl:e.click_url,companionAd:this.getPreferredCompanionAd(e)||null,skippableAdDelaySeconds:parseInt(e.metadata?.skippable_ad_delay,10)||0});isPreferred=e=>300===e.width&&250===e.height&&/^image\/(jpeg|png)$/.test(e.mime_type);getPreferredCompanionAd(e){const t=e.companion_ads||[];return t.filter(this.isPreferred).reduce(((e,t)=>t),t[t.length-1])}onAdMessage=e=>{if("video"===e.format&&this.listener)switch(e.event){case"available":break;case"play":{const t=e&&e.ad&&e.ad.metadata;this.fireImpressionOnStart=t&&"true"===t.fireImpressionOnStart,this.listener.onInfo(this.parseInfo(e.ad));break}default:throw new Error(`[VTO] Unsupported event type: ${e.event}`)}};createEventData(e){return{eventData:{volume:e.volume.toString(),duration:e.duration.toString()},extraData:{playback_position:Math.floor(1e3*e.position)}}}resetState(){this.playbackState=null}resetSubscriptions(){for(const e of this.subscriptions)e.cancel();this.subscriptions=[]}async handleApplicationGainedFocus(){this.active&&this.logEvent(r.FOREGROUNDED),await Promise.all([this.videoTakeoverApi.patchTargeting("focus","true"),this.videoTakeoverApi.patchTargeting("adbreak","video,adscore")])}async handleApplicationLostFocus(){this.active&&this.logEvent(r.BACKGROUNDED),await Promise.all([this.videoTakeoverApi.patchTargeting("focus","false"),this.videoTakeoverApi.patchTargeting("adbreak","adscore")])}log(e,t={},n={},s,i){this.playbackState&&this.videoTakeoverApi.postEvent(this.playbackState.adId,e,{event_data:{clientReportedUserAgent:navigator.userAgent,...t},...n,...s&&{reason:s},...i&&{source:i}})}onCreated(e){this.active=!0,this.playbackState=e,this.listener&&this.listener.onCreated()}onEnded(e,t){this.active=!1,this.playbackState=e,s.Yr.PLAYED_TO_END!==t||this.fireImpressionOnStart||this.logEvent(i.VIEWED),this.listener&&this.listener.onEnded(),this.playbackState=null}onStarted(e){this.playbackState=e,this.fireImpressionOnStart&&this.logEvent(i.VIEWED),this.listener&&this.listener.onStarted()}onStateUpdate(e){this.playbackState=e}onReady(){this.listener&&this.listener.onFirstReady()}getEnabled(){return this.enabled}}},42740:(e,t,n)=>{"use strict";n.d(t,{Q7:()=>l,WG:()=>o,e2:()=>a,gH:()=>r,qo:()=>i});var s=n(61032);let i=function(e){return e.DISLIKE_AD="DISLIKE_AD",e.CANCEL_DISLIKE_AD="CANCEL_DISLIKE_AD",e.LIKE_AD="LIKE_AD",e.CANCEL_LIKE_AD="CANCEL_LIKE_AD",e}({});const r=(0,s.Uh)(i.LIKE_AD),a=(0,s.Uh)(i.CANCEL_LIKE_AD),o=(0,s.Uh)(i.DISLIKE_AD),l=(0,s.Uh)(i.CANCEL_DISLIKE_AD)},10820:(e,t,n)=>{"use strict";n.d(t,{cG:()=>o,eI:()=>r,eg:()=>c,ov:()=>a,qK:()=>i,sh:()=>l,vt:()=>d,w$:()=>s});const s={ADS_ENABLED:"ADS_ENABLED",ADS_DISABLED:"ADS_DISABLED",ADS_PREMIUM:"ADS_PREMIUM",ADS_HPTO_HIDDEN:"ADS_HPTO_HIDDEN",ADS_POST_HIDE_HPTO:"ADS_POST_HIDE_HPTO",TRIGGER_PREVIEW_AD:"TRIGGER_PREVIEW_AD",LOG_NOW_PLAYING_AD_CLICK:"LOG_NOW_PLAYING_AD_CLICK"},i=()=>({type:s.ADS_ENABLED}),r=()=>({type:s.ADS_DISABLED}),a=e=>({type:s.ADS_PREMIUM,isPremium:e}),o=e=>({type:s.ADS_HPTO_HIDDEN,isHptoHidden:e}),l=()=>({type:s.ADS_POST_HIDE_HPTO}),c=e=>({type:s.TRIGGER_PREVIEW_AD,adUriHexId:e}),d=(e,t)=>({type:s.LOG_NOW_PLAYING_AD_CLICK,eventReason:e,eventSource:t})},87832:(e,t,n)=>{"use strict";n.d(t,{pD:()=>i.p,SM:()=>s.S,UF:()=>r.U,u_:()=>l});var s=n(36648),i=n(31720),r=n(7300),a=n(96651),o=n(78172);const l=()=>{const e=(0,o.oJ)();(0,a.useEffect)((()=>{const t=t=>{"Escape"===t.key&&e({type:"close"})};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}}),[e])}},20648:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var s=n(96651),i=n(33732);const r=(e,t)=>{const n=(0,s.useRef)(null),{registerCloseCallback:r,closeToDepth:a,isOnPathToSubmenu:o}=(0,s.useContext)(i.k),l=(0,s.useRef)(!1),c=(0,s.useCallback)((()=>{n.current&&(window.clearTimeout(n.current),n.current=null)}),[]);(0,s.useEffect)((()=>c),[c]);const d=(0,s.useCallback)(((e,n)=>{a(e),c(),t&&(r((e=>{l.current=!1,t(e)}),n),l.current=!0,t(!0))}),[a,c,r,t]),u=(0,s.useCallback)((t=>{if(!e.current)return;const s=e.current.closest('[role="menu"]');if(s){const e={x:t.clientX,y:t.clientY},i=o(e,l.current),r=parseInt(s.getAttribute("data-depth")||"0",10);!i||l.current?d(r,e):"mouseenter"===t.type&&(n.current=window.setTimeout((()=>{d(r,e)}),500))}}),[e,o,d]),m=(0,s.useCallback)((()=>{if(!e.current)return;const t=e.current.closest('[role="menu"]');if(t){const e=parseInt(t.getAttribute("data-depth")||"0",10);d(e,{x:0,y:0})}}),[d,e]);return{handleMouseEnter:u,handleMouseMove:u,handleMouseLeave:c,handleFocus:m}}},38952:(e,t,n)=>{"use strict";function s(e){return"function"==typeof e}n.d(t,{o:()=>s})},13260:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});n(73952),n(99400);var s=n(2364),i=n(75552);const r=(e,t,n=!1,a=[],o=[],l=[])=>{for(const c of t)if((0,i.u4)(c)||(0,i.Yb)(c)){const t=(0,s.w)(e,c.name),d=null!==t?[...o,t]:o;(0,i.u4)(c)&&r(e,c.items,n,a,d,[...l,c.name]),((0,i.Yb)(c)||n&&(0,i.u4)(c))&&d?.length>0&&a.push({...c,displayTitle:c.name,displaySubtitle:l.length>0?l.join(" • "):null,matchScore:d.reduce(((e,t)=>e+t.reduce(((e,t)=>e+t.range.length),0)),0)})}return a.sort(((e,t)=>t.matchScore-e.matchScore))}},95948:(e,t,n)=>{"use strict";function s(e){return"displayTitle"in e}n.d(t,{a:()=>s})},10560:(e,t,n)=>{"use strict";n.d(t,{c:()=>u});n(73952),n(97296),n(39568),n(41260),n(91372);var s=n(96651),i=n(10124),r=n.n(i),a=(n(39168),n(14788)),o=n(24368),l=n.n(o);const c=()=>!1!==l().getParser(window.navigator.userAgent).satisfies({"Microsoft Edge":">=17"});var d=n(2488);class u extends s.Component{constructor(...e){super(...e),this.state={isDropTargetActive:!1},this.enterEventCount=0,this.leaveEventCount=0}componentDidMount(){document.body.addEventListener("dragend",this.handleDragEnd)}shouldComponentUpdate(e,t){return t.isDropTargetActive!==this.state.isDropTargetActive||e.children!==this.props.children||e.onDragEnter!==this.props.onDragEnter||e.onDragLeave!==this.props.onDragLeave||e.onDrop!==this.props.onDrop||e.types.length!==this.props.types.length||e.types.some(((e,t)=>e!==this.props.types[t]))}componentWillUnmount(){document.body.removeEventListener("dragend",this.handleDragEnd)}handleDragOver=e=>{this.getMatchingMimeTypes(e).length>0&&(e.preventDefault(),e.dataTransfer.dropEffect="copy")};handleDragEnter=e=>{this.enterEventCount&&!e.relatedTarget||(this.enterEventCount++,1===this.enterEventCount&&this.getMatchingMimeTypes(e).length>0&&(this.props.onDragEnter(e),this.setState({isDropTargetActive:!0})))};handleDragLeave=e=>{this.leaveEventCount++,this.leaveEventCount===this.enterEventCount&&this.getMatchingMimeTypes(e).length>0&&(this.enterEventCount=0,this.leaveEventCount=0,this.props.onDragLeave(e),this.setState({isDropTargetActive:!1}))};handleDragEnd=()=>{this.enterEventCount=0,this.leaveEventCount=0};handleDrop=e=>{if(0===this.getMatchingMimeTypes(e).length)return;const{onDragLeave:t,onDrop:n}=this.props,s=this.getMatchingDropData(e);this.enterEventCount=0,this.leaveEventCount=0;const i=e.defaultPrevented;e.preventDefault(),t(e),i||n(e,s),this.setState({isDropTargetActive:!1})};getMatchingMimeTypes(e){const t=this.props.types;return Array.from(e.dataTransfer.types).filter((e=>t.includes(e)))}getMatchingDropData(e){const t=this.getMatchingMimeTypes(e),n={};t.forEach((t=>{const s=e.dataTransfer.getData(t),i=0===t.indexOf("text/x-spotify"),r=i?s.split("\n"):[s];n[t]=r.map((e=>{if(i){const t=(0,a.nX)(e);if(t)return t.toURI()}return e})).filter((e=>!!e))}));const s=e.dataTransfer.getData("text/plain");return n.all=s?s.split("\n").map((e=>{const t=(0,a.nX)(e);return t?t.toURI():e})):[],n}render(){const{types:e,as:t,testId:n,className:s}=this.props,i=t,a=e.filter(Boolean).map((e=>`GlueDropTarget--${e.replace("text/x-spotify-","")}`));return(0,d.jsx)(i,{className:r()("GlueDropTarget",a,{"GlueDropTarget--active":this.state.isDropTargetActive},s),onDragOver:c()?this.handleDragOver:void 0,onDragEnter:c()?this.handleDragEnter:void 0,onDragLeave:c()?this.handleDragLeave:void 0,onDrop:c()?this.handleDrop:void 0,onContextMenu:this.props.onContextMenu,"":n,children:this.props.children})}}u.defaultProps={as:"div",children:null,onDragEnter(){},onDragLeave(){},onDrop(){},onContextMenu(){},types:[],className:""}},62528:(e,t,n)=>{"use strict";n.d(t,{Mb:()=>d,Qd:()=>o,__:()=>a,cp:()=>u,ym:()=>l});var s=n(14788),i=n(43619),r=n(70396);const a={TRACKS:"text/x-spotify-tracks",ALBUMS:"text/x-spotify-albums",ARTISTS:"text/x-spotify-artists",PLAYLISTS:"text/x-spotify-playlists",PLAYLISTS_V2:"text/x-spotify-playlists",FOLDERS:"text/x-spotify-folders",USERS:"text/x-spotify-users",SHOWS:"text/x-spotify-shows",AUDIOBOOKS:"text/x-spotify-audiobooks",EPISODES:"text/x-spotify-episodes",CHAPTERS:"text/x-spotify-chapters",LOCAL_TRACKS:"text/x-spotify-local-tracks",LOCAL_ALBUMS:"text/x-spotify-local-albums",LOCAL_ARTISTS:"text/x-spotify-local-artists",COLLECTION_ALBUMS:"text/x-spotify-collection-albums",COLLECTION_ARTISTS:"text/x-spotify-collection-artists",PSEUDO_PLAYLISTS:"text/x-spotify-pseudo-playlists",UIDS:"text/x-spotify-uids"},o=(0,r.Q)(a),l={[s.cH.TRACK]:a.TRACKS,[s.cH.ALBUM]:a.ALBUMS,[s.cH.ARTIST]:a.ARTISTS,[s.cH.PLAYLIST]:a.PLAYLISTS,[s.cH.PLAYLIST_V2]:a.PLAYLISTS_V2,[s.cH.FOLDER]:a.FOLDERS,[s.cH.PROFILE]:a.USERS,[s.cH.SHOW]:a.SHOWS,[s.cH.EPISODE]:a.EPISODES,[s.cH.LOCAL]:a.LOCAL_TRACKS,[s.cH.LOCAL_ALBUM]:a.LOCAL_ALBUMS,[s.cH.LOCAL_ARTIST]:a.LOCAL_ARTISTS,[s.cH.COLLECTION_ALBUM]:a.COLLECTION_ALBUMS,[s.cH.COLLECTION_ARTIST]:a.COLLECTION_ARTISTS,[s.cH.COLLECTION]:a.PSEUDO_PLAYLISTS},c={[i.s.TRACK]:a.TRACKS,[i.s.ALBUM]:a.ALBUMS,[i.s.ARTIST]:a.ARTISTS,[i.s.PLAYLIST]:a.PLAYLISTS,[i.s.PLAYLISTV2]:a.PLAYLISTS_V2,[i.s.FOLDER]:a.FOLDERS,[i.s.USER]:a.USERS,[i.s.SHOW]:a.SHOWS,[i.s.AUDIOBOOK]:a.AUDIOBOOKS,[i.s.EPISODE]:a.EPISODES,[i.s.LOCAL_FILES]:a.LOCAL_TRACKS,[i.s.LIKED_SONGS]:a.PSEUDO_PLAYLISTS,[i.s.YOUR_EPISODES]:a.PSEUDO_PLAYLISTS,[i.s.CHAPTER]:a.CHAPTERS},d=e=>e&&(e=>e in c)(e)?c[e]:void 0,u=l},97976:(e,t,n)=>{"use strict";n.d(t,{qq:()=>l.qq,Ab:()=>l.Ab,eE:()=>f});n(73952),n(78620),n(97296),n(41260),n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256);var s=n(96651),i=n(71796),r=n(62528),a=n(43460),o=n(44772),l=n(7228);function c(e,t,n,s){if(e.defaultPrevented)return null;const i=t.includes(l.Ab.BEFORE),r=t.includes(l.Ab.AFTER);let a=l.Ab.ON;if(e.currentTarget instanceof HTMLElement&&(i||r)){const{top:r,height:o,left:c,width:d,right:u}=e.currentTarget.getBoundingClientRect(),m=t.includes(l.Ab.ON);if("horizontal"===n)if(m&&i){(s?e.clientX>Math.round(u)-d/4:e.clientX<Math.round(c)+d/4)&&(a=l.Ab.BEFORE)}else{a=(s?e.clientX>Math.round(u)-d/2:e.clientX<Math.round(c)+d/2)?l.Ab.BEFORE:l.Ab.AFTER}else"vertical"===n&&(m&&i?e.clientY<Math.round(r)+o/4&&(a=l.Ab.BEFORE):a=e.clientY<Math.round(r)+o/2?l.Ab.BEFORE:l.Ab.AFTER)}return t.includes(a)?a:null}var d=n(14788);function u(e,t){return Array.from(e.dataTransfer?.types??[]).filter(r.Qd).filter((e=>!!(0,l.pn)(e)&&t.includes(e))).filter(l.pn)}n(99400);var m=n(96768);function p(e,t,n){const s=u(e,t);if(!s.length)return function(e,t){return e.split(/[\s,;]+/g).map((e=>(0,d.nX)(e?.trim()))).filter(m.g).reduce(((e,n)=>{const s=r.cp[n.type];return(0,l.pn)(s)&&t.includes(s)?(e[s]||=[],e[s].push(n.toURI()),e):e}),{})}(e.dataTransfer?.getData("text/plain"),t);const i=Object.fromEntries(s.map((t=>[t,e.dataTransfer?.getData(t)?.split("\n").filter(Boolean)??[]])));if(n){const{[r.__.PLAYLISTS]:e,...t}=i,n=Array.from(new Set([...i[r.__.PLAYLISTS_V2]??[],...(i[r.__.PLAYLISTS]??[]).map(h)]));return{...t,...n.length?{[r.__.PLAYLISTS_V2]:n}:null}}return i}function h(e){const t=(0,d.nX)(e);return t?.type===d.cH.PLAYLIST?(0,d.Eb)(t.id).toURI():e}const g={droppableMimeTypes:"albums artists episodes chapters folders playlists shows tracks local-tracks audiobooks pseudo-playlists",useDropTarget:"main-useDropTarget-base","useDropTarget--albums":"main-useDropTarget-album","useDropTarget--artists":"main-useDropTarget-artist","useDropTarget--episodes":"main-useDropTarget-episode","useDropTarget--chapters":"OxrHhBsQAggwnv6RmqRy","useDropTarget--folders":"main-useDropTarget-folder","useDropTarget--playlists":"main-useDropTarget-playlist","useDropTarget--shows":"main-useDropTarget-show","useDropTarget--tracks":"main-useDropTarget-track","useDropTarget--local-tracks":"main-useDropTarget-local","useDropTarget--audiobooks":"main-useDropTarget-audiobook","useDropTarget--pseudo-playlists":"main-useDropTarget-pseudoPlaylist"};function f({uri:e,id:t=e,allowedMimeTypesByDropPosition:n,onDrop:d,onLongDragOver:m,longDragOverTimeout:h=1e3,reorderDirection:f="vertical"}){const _=(0,i.ek)((()=>n),[n]),b=(0,o.k)(),v=(0,a.K)(),x=!!t&&1===v.length&&v[0]===t,C=Object.values(_).every((e=>e.includes(r.__.PLAYLISTS_V2)&&!e.includes(r.__.PLAYLISTS))),[E,S]=(0,s.useState)(null),w=(0,s.useCallback)((e=>x?[]:Object.entries(_).filter((([t,n])=>u(e,n).length>0)).map((([e])=>e)).filter(l.oh)),[x,_]),I=(0,s.useRef)(!0),A=(0,s.useRef)(null),T=(0,s.useRef)(d);T.current=d;const k=(0,s.useRef)(m);k.current=m;const N=(0,s.useCallback)((()=>{I.current=!0,S(null),A.current&&(window.clearTimeout(A.current),A.current=null)}),[]);(0,s.useEffect)((()=>N),[N]);const O=(0,s.useCallback)((e=>{const t=w(e);t.length&&(S(c(e,t,f,b)),e.dataTransfer&&!e.defaultPrevented&&(e.dataTransfer.dropEffect=t.includes(l.Ab.ON)?"copy":"move"),e.preventDefault())}),[w,b,f]),P=(0,s.useCallback)((e=>{if(w(e).length&&!e.defaultPrevented){if(I.current){I.current=!1;const t=e.currentTarget,n=()=>{document.contains(t)||(N(),document.removeEventListener("dragenter",n))};document.addEventListener("dragenter",n),document.addEventListener("dragend",(()=>{document.removeEventListener("dragenter",n),N()}),{once:!0}),k.current&&(A.current=window.setTimeout((()=>{k.current?.()}),h))}e.preventDefault()}}),[w,h,N]),j=(0,s.useCallback)((e=>{w(e).length&&(function(e){return null===e.relatedTarget&&y?!document.elementsFromPoint(e.clientX,e.clientY).includes(e.currentTarget):!e.currentTarget.contains(e.relatedTarget instanceof Node?e.relatedTarget:null)}(e)&&N(),e.preventDefault())}),[w,N]),L=(0,s.useCallback)((e=>{const t=c(e,w(e),f,b);if(!e.defaultPrevented&&t){const n=p(e,_[t]??[],C),s=function(e){return{sectionId:parseInt(e.dataTransfer.getData("text/x-spotify-section"),10)||0,contextUri:e.dataTransfer.getData("text/x-spotify-context"),itemIds:e.dataTransfer.getData(r.__.UIDS)?.split("\n").filter(Boolean)??[]}}(e);Object.keys(n).length&&T.current&&(T.current(n,t,s),e.preventDefault())}N()}),[w,f,b,N,_,C]);return{dropPosition:E,className:(0,s.useMemo)((()=>`${g.useDropTarget} ${Array.from(new Set(Object.values(_).flat()))?.map((e=>g[`useDropTarget--${l.SW[e]}`]??"")).join(" ")}`),[_]),onDragEnter:P,onDragLeave:j,onDragOver:O,onDrop:L}}const y=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},7228:(e,t,n)=>{"use strict";n.d(t,{Ab:()=>o,SW:()=>a,oh:()=>l,pn:()=>c,qq:()=>r});var s=n(62528),i=n(70396);const r=[s.__.TRACKS,s.__.LOCAL_TRACKS,s.__.ALBUMS,s.__.ARTISTS,s.__.PLAYLISTS,s.__.PLAYLISTS_V2,s.__.FOLDERS,s.__.EPISODES,s.__.CHAPTERS,s.__.SHOWS,s.__.AUDIOBOOKS,s.__.PSEUDO_PLAYLISTS],a={[s.__.TRACKS]:"tracks",[s.__.ALBUMS]:"albums",[s.__.ARTISTS]:"artists",[s.__.PLAYLISTS]:"playlists",[s.__.FOLDERS]:"folders",[s.__.SHOWS]:"shows",[s.__.EPISODES]:"episodes",[s.__.CHAPTERS]:"chapters",[s.__.LOCAL_TRACKS]:"local-tracks",[s.__.AUDIOBOOKS]:"audiobooks",[s.__.PSEUDO_PLAYLISTS]:"pseudo-playlists"};let o=function(e){return e.ON="on",e.BEFORE="before",e.AFTER="after",e}({});const l=(0,i.Q)(o);function c(e){return r.includes(e)}},1044:(e,t,n)=>{"use strict";n.d(t,{iY:()=>te,I1:()=>f,gR:()=>w,mG:()=>he.m,Yj:()=>g,a8:()=>y,AR:()=>ze,iI:()=>S,E1:()=>ee,on:()=>pe,oL:()=>b.o,OU:()=>E,Oo:()=>me,Gc:()=>ue,Yv:()=>Me});var s=n(96651),i=n(10124),r=n.n(i),a=n(66112),o=(n(73952),n(97768),n(58840)),l=n(19872);const c={small:"(max-width: 1023px)",medium:"(max-width: 1279px)",large:"(max-width: 1599px)",xlarge:"(min-width: 1600px)"},d=()=>Object.keys(c).find((e=>window.matchMedia(c[e]).matches));var u=n(53048),m=n(41524),p=n(33062),h=n(2488);let g=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.SMALL=1]="SMALL",e[e.LARGE=2]="LARGE",e}({});const f=({children:e,backgroundColor:t,backgroundImages:n,size:i=g.DEFAULT})=>{const c=(0,s.useRef)(null),f=(0,u.oV)(),y=(0,s.useRef)(null),{imageUrl:_}=function(e,t){const[n,i]=(0,s.useState)({imageUrl:""}),[r,a]=(0,s.useState)(d());return(0,o.u)((()=>{a(d())})),(0,s.useLayoutEffect)((()=>{const n=t?.current?t.current.clientWidth:null;if(e&&e.length){const t=(0,l.u)(e,{desiredSize:n??void 0});i({imageUrl:t??""})}else i({imageUrl:""})}),[t,e,r]),n}(n,c),b=(0,s.useCallback)((e=>{const t=e.target,n=t.scrollTop/t.offsetHeight;n>parseInt(p.c.BACKGROUND_HEIGHT_PERCENTAGE,10)/100||requestAnimationFrame((()=>{y.current?.style.setProperty("--scroll",n.toString())}))}),[]);return(0,m.G)(b,{disabled:!_||navigator.hardwareConcurrency<=4}),(0,h.jsxs)("div",{ref:c,className:r()("contentSpacing",p.c.container,{[p.c.nonWrapped]:!_,[p.c.withBackgroundImage]:_,[p.c.smallHeader]:i===g.SMALL,[p.c.largeHeader]:i===g.LARGE}),children:[!_&&(0,h.jsx)("div",{className:p.c.backgroundColor,style:{backgroundColor:t}}),!_&&(0,h.jsx)("div",{className:r()(p.c.backgroundColor,p.c.overlay)}),_&&(0,a.createPortal)((0,h.jsxs)("div",{ref:y,children:[(0,h.jsx)("div",{"":"background-image",className:r()(p.c.background,p.c.gradient),style:{backgroundImage:`url(${_})`}}),(0,h.jsx)("div",{className:r()(p.c.background,p.c.overlay),style:{"--bgColor":t}})]}),document.querySelector(".under-main-view")),(0,h.jsx)(u.yM.Provider,{value:f,children:e})]})},y=(0,s.memo)((function({children:e}){return(0,h.jsx)("div",{className:p.c.headerText,children:e})}));var _=n(6812),b=n(32223),v=n(78390),x=n(76892);const C=({type:e,className:t})=>(0,h.jsx)("div",{className:r()(p.c.image,p.c.imagePlaceholder,t),children:(0,h.jsx)(x.Y,{type:e})});let E=function(e){return e[e.ROUNDED_CORNERS=0]="ROUNDED_CORNERS",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE",e[e.WITH_WAVES=3]="WITH_WAVES",e}({});const S=s.memo(s.forwardRef((function({name:e,images:t,placeholderType:n,renderImage:s,className:i,shape:a=E.SQUARE,loading:o="lazy",dragUri:l,onContextMenu:c},d){const[u,m,g]=(0,b.i)(t),f=(0,_.C)({itemUris:l?[l]:[],dragLabelText:e});return(0,h.jsx)("div",{ref:d,onContextMenu:c,className:r()(p.c.image,i,{[p.c.wavesBackground]:a===E.WITH_WAVES}),draggable:!(!l||!e),onDragStart:f,children:s?(0,h.jsx)("div",{className:r()(p.c.image,p.c.shadow,{[p.c.roundedCorners]:a===E.ROUNDED_CORNERS,[p.c.circle]:a===E.CIRCLE}),children:s()}):(0,h.jsx)(v.W,{loading:o,src:u,alt:e,className:r()(p.c.image,p.c.shadow,{[p.c.roundedCorners]:a===E.ROUNDED_CORNERS,[p.c.circle]:a===E.CIRCLE}),srcSet:m||void 0,sizes:g,children:(0,h.jsx)(C,{type:n,className:r()(p.c.image,p.c.shadow,{[p.c.roundedCorners]:a===E.ROUNDED_CORNERS,[p.c.circle]:a===E.CIRCLE})})})})}))),w=(0,s.memo)((function({dragUri:e,dragMimeType:t,onContextMenu:n,onTouchStart:s,onTouchEnd:i,onClick:a,ariaLabel:o,...l}){const c=(0,_.C)({itemUris:e?[e]:[],itemMimeTypes:t?[t]:[],dragLabelText:l.name}),d={className:r()(p.c.imageContainer,p.c.imageContainerNew,{[p.c.imageContainerClickable]:!!a}),draggable:!!e,onDragStart:c,onContextMenu:n,onTouchStart:s,onTouchEnd:i,children:(0,h.jsx)(S,{...l})};return a?(0,h.jsx)("button",{...d,"aria-label":o,onClick:a}):(0,h.jsx)("div",{...d})}));var I=n(4564),A=n(8004),T=n(14788),k=n(12100),N=n(85988),O=n(83324),P=n(42444),j=n(89060),L=(n(78620),n(41260),n(1600)),R=n(49232),D=n(74712),M=n(7300),U=n(33672),F=n(15040),B=n(33744),G=n(46003),V=n(11732);function H(e){return e.displayName||e.name||""}const W=e=>{let t=null;return(0,T.eg)(e)&&(t=(0,h.jsx)(B.g,{uri:e})),(0,T.I9)(e)&&(t=(0,h.jsx)(G.Y,{uri:e})),t},z=({creator:e,onClick:t,position:n=0})=>{const i=(0,s.useCallback)((s=>{t?.(s,{position:n,creator:e})}),[e,t,n]);return(0,U.c)(e)?(0,h.jsx)(M.U,{menu:W(e.uri),children:(0,h.jsx)(A.a,{variant:"bodySmallBold",children:(0,h.jsx)(V.Link,{"":"creator-link",to:e.uri,onClick:i,children:H(e)})})}):(0,h.jsx)(A.a,{variant:"bodySmall",children:H(e)})},Y=({creator:e,onClick:t,isSmallIcon:n})=>{const[s,i]=k._s.get("playlist.header.made-for","USER").split("USER");return(0,h.jsxs)("div",{className:r()(p.c.metaDataText,p.c.creatorWrapper,{[p.c.smallMadeForIcon]:n}),children:[(0,h.jsx)(L.S,{semanticColor:"textBrightAccent"}),(0,h.jsx)(A.a,{variant:"bodySmall",children:s}),(0,h.jsx)(z,{creator:e,onClick:t}),i&&(0,h.jsx)(A.a,{variant:"bodySmall",children:i})]})},K=({creator:e,onClick:t,isSmallIcon:n})=>(0,h.jsxs)("div",{className:r()(p.c.metaDataText,p.c.creatorWrapper),children:[e.images.length>0&&(0,h.jsx)(D.C,{label:H(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:n?20:24,userIconSize:n?"xsmall":"small"}),(0,h.jsx)(z,{creator:e,onClick:t})]}),q=({creators:e,onPiledCreatorsClick:t,isSmallIcon:n})=>{const s=(0,h.jsx)("div",{className:p.c.piled,children:e.slice(0,3).map(((e,t)=>(0,h.jsx)(D.C,{label:H(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:n?20:24,userIconSize:n?"xsmall":"small",piled:t>0},e.uri)))});let i=k._s.get("playlist.header.creator-and-others",H(e[0]),e.length-1);return 2===e.length&&(i=k._s.get("playlist.header.creator-and-co-creator",H(e[0]),H(e[1]))),t?(0,h.jsxs)("button",{className:r()(p.c.metaDataText,p.c.creatorWrapper,p.c.creatorButton),onClick:t,children:[s,i]}):(0,h.jsxs)("div",{className:r()(p.c.metaDataText,p.c.creatorWrapper),children:[s,i]})},Q=({creators:e,onCreatorClick:t})=>(0,h.jsx)(h.Fragment,{children:e.map(((e,n)=>(0,h.jsxs)(s.Fragment,{children:[0!==n&&(0,h.jsx)("span",{className:p.c.divider}),(0,h.jsx)(z,{creator:e,onClick:t,position:n})]},e.id)))}),X=({creators:e,onPiledCreatorsClick:t,onCreatorClick:n})=>{const s=(0,R.IP)(F.UHG),i=(0,u.oV)(),r=i===(u.u_.SMALL||i===u.u_.XSMALL);if(1===e.length){const[t]=e;return t.isMadeFor?(0,h.jsx)(Y,{creator:t,onClick:n,isSmallIcon:r}):(0,h.jsx)(K,{creator:t,onClick:n,isSmallIcon:r})}return e.length>0&&e.every((e=>(0,T.I9)(e.uri)))&&s?(0,h.jsx)(q,{creators:e,onPiledCreatorsClick:t,isSmallIcon:r}):(0,h.jsx)(Q,{creators:e,onCreatorClick:n})};var $=n(68964);function J(e,t,n,s,i,r){if(0===e)return null;let a;return a=!t||n||s?!n||s||t?!s||t||n?k._s.get("tracklist-header.items-counter",e):k._s.get("tracklist-header.audiobooks-counter",e):k._s.get("tracklist-header.episodes-counter",e):k._s.get("tracklist-header.songs-counter",e),(0,h.jsxs)(A.a,{variant:"bodySmall",className:p.c.metaDataText,children:[a,i>0?k._s.getSeparator():null,r?(0,h.jsx)(O.E,{durationMs:i}):(0,h.jsx)(O._s,{durationMs:i})]})}const Z=function({to:e,children:t,onClick:n=(()=>{})}){const i=(0,s.useCallback)((t=>{n(t,e)}),[n,e]);return(0,h.jsx)(A.a,{variant:"bodySmall",className:p.c.metaDataText,children:e?(0,h.jsx)(V.Link,{to:e,onClick:i,children:t}):t})},ee=e=>{const{author:t,creators:n,onPiledCreatorsClick:i,onCreatorClick:a,releaseDate:o,releaseDatePrecision:c,totalItems:d=0,totalFollowers:u=0,onTotalFollowersClick:m,totalFollowing:g=0,onTotalFollowingClick:f,totalLikes:y=0,publicPlaylists:_=0,privatePlaylists:b=0,newEntries:v=0,durationMilliseconds:x=0,isEstimatedDuration:C=!1,daylistNextUpdate:E,userUri:S,albumType:w,isTrack:O,album:L,timeZone:R,hasTracks:D=!1,hasEpisodes:M=!1,hasAudiobooks:U=!1,theyFollowUs:F=!1,playcount:B}=e,G=(0,I.w1)($.cx),H=G.overrides?.locale||k._s.getLocaleForTranslation(),W=void 0!==o&&(0,j._z)(o).getTime()>(new Date).getTime();return(0,h.jsxs)("div",{className:p.c.metaData,children:[t&&(0,h.jsx)(A.a,{className:p.c.metaDataAuthor,variant:"titleSmall","":"entityAuthor",children:t}),n&&(0,h.jsx)(s.Suspense,{fallback:null,children:(0,h.jsx)(X,{creators:n,onPiledCreatorsClick:i,onCreatorClick:a})}),w&&(0,h.jsx)(A.a,{variant:"bodySmall",className:p.c.metaDataText,children:w}),_>0&&(0,h.jsx)(A.a,{variant:"bodySmall",className:p.c.metaDataText,children:k._s.get("user.public-playlists",_)}),b>0&&(0,h.jsx)(A.a,{variant:"bodySmall",className:p.c.metaDataText,children:k._s.get("user.private-playlists",b)}),L&&(0,h.jsx)(A.a,{variant:"bodySmall",className:p.c.metaDataText,children:(0,h.jsx)(V.Link,{to:L.uri,children:L.name})}),o&&(0,h.jsx)(N.Yl,{label:(0,j.iY)((0,j._z)(o),H,{month:"long",day:"numeric",year:"numeric"},c),disabled:W,children:(0,h.jsx)(A.a,{variant:"bodySmall",className:p.c.metaDataText,children:W?k._s.get("web-player.album-prerelease.releases_on",{date:k._s.formatDate((0,j._z)(o),(0,j.Ed)({month:"long",day:"numeric",year:"numeric",timeZone:R},c))}):(0,j._z)(o).getUTCFullYear()})}),y>0&&(0,h.jsx)(A.a,{variant:"bodySmall",className:p.c.metaDataText,children:k._s.get("likes",y)}),u>0&&(0,h.jsx)(Z,{to:S?(0,T.oh)((0,P.w)(S),["followers"]).toURI():null,onClick:m,children:k._s.get("user.followers",u)}),g>0&&(0,h.jsx)(Z,{to:S?(0,T.oh)((0,P.w)(S),["following"]).toURI():null,onClick:f,children:k._s.get("user.following",g)}),F&&(0,h.jsx)(A.a,{variant:"bodySmall",semanticColor:"textSubdued",className:r()(p.c.metaDataText,p.c.theyFollowUs),children:k._s.get("user.they_follow_us")}),J(d,D,M,U,x,C),E&&(0,h.jsx)(A.a,{variant:"bodySmall",className:p.c.metaDataText,children:k._s.get("web-player.playlist.daylist.next-update",k._s.formatDate((0,j._z)(E),{timeStyle:"short"}))}),O&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(A.a,{variant:"bodySmall",className:p.c.metaDataText,children:(0,l.A)(x)}),B&&B>0?(0,h.jsx)(A.a,{variant:"bodySmall",className:p.c.metaDataText,"":"playcount",children:k._s.formatNumber(B)}):null]}),v>0&&(0,h.jsx)(A.a,{variant:"bodySmall",className:r()(p.c.metaDataText,p.c.newEntriesIndicator),children:k._s.get("chart.new-entries",v)})]})},te=(0,s.memo)((function({children:e}){return(0,h.jsx)("span",{className:p.c.detailsText,children:e})}));var ne=n(68096),se=n(18648),ie=n(62572);const re=(0,s.memo)((function(e){const{children:t,scale:n,variant:i="headlineLarge",...r}=e,a=(0,s.useRef)(null),[o,l]=(0,s.useState)(!1),c=(0,se.yK)((()=>{a.current&&(()=>{if(a.current){l(!1);for(let e=0;e<n.fontSizes.length;e++){const t=n.fontSizes[e];a.current.style.fontSize=t;const s=a.current.getBoundingClientRect().height;a.current.style.whiteSpace="nowrap";const i=a.current.getBoundingClientRect().height;if(a.current.style.whiteSpace="normal",s===i)break}l(!0)}})()}),200,{leading:!0,maxWait:200});return(0,ie.m)({refOrElement:a,onResize:c}),(0,s.useLayoutEffect)((()=>{c()}),[c,n]),(0,h.jsx)(A.a,{as:"h1",ref:a,style:{visibility:o?"visible":"hidden",width:"100%"},variant:i,semanticColor:"textBase",dir:"auto",...r,children:t})})),ae=ne.ED.fontSize,oe=ne.aC.fontSize,le=ne.wR.fontSize,ce=ne.U7.fontSize,de={fontSizes:[oe,"4.5rem","3rem",ae]},ue={fontSizes:[ae,ce]},me={fontSizes:[le,ae]},pe=(0,s.memo)((function(e){const{ariaLabel:t,children:n,className:s,canEdit:i,onClick:a,editTitle:o,onContextMenu:l,onTouchStart:c,onTouchEnd:d,dragUri:m="",dragMimeType:g,dragLabel:f,scaleAtMinWidth:y=de}=e,b=(0,_.C)({itemUris:[m],itemMimeTypes:g?[g]:[],dragLabelText:f}),v=(0,u.oV)()===u.u_.SMALL?y:de;return(0,h.jsx)("span",{dir:"auto",className:r()(s,p.c.title),onContextMenu:l,onTouchStart:c,onTouchEnd:d,draggable:!(!m||!f),onDragStart:b,"":"entityTitle",children:i?(0,h.jsx)("button",{"aria-label":t,className:r()(p.c.titleButton),onClick:a,title:o,children:(0,h.jsx)("span",{className:p.c.titleInner,children:(0,h.jsx)(re,{scale:v,children:n})})}):(0,h.jsx)(re,{scale:v,children:n})})}));var he=n(76736),ge=n(82740),fe=n(95744),ye=n(93620),_e=n(51160),be=n(76404);var ve=n(4964),xe=n(24544),Ce=n(62688),Ee=n(73372),Se=n(57800),we=n(22876);const Ie="VeW1uY4VBMOicrBiaZg0",Ae="XkaqHstcRovRFsrux1ac",Te="EIeLyF5kZi61KstXcsiW",ke="jwA8Axf63p61s9L8ouKX",Ne="pShBHEJpyqHapxGoa1dO",Oe="X448TFrTgJhLvjGJL8xZ",Pe="oE6z561GCOowoF4xd9YK",je="I7Ifs1u3PsGytdeBiOxi",Le="OAupwE_S9CKJQqHZlykD",Re="ppy0oeDpOgQ0VLPmesPi",De="qOq3C2XGuRp_5iY9qN2_",Me=e=>(0,R.IP)(xe.EJ)&&"0JQ5DAwD41iRZZRVB8exON"===e;let Ue=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.SMALL=1]="SMALL",e}({});var Fe=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(Fe||{});const Be=[k.u2.de,k.u2.fi,k.u2.frCA,k.u2.hu,k.u2.it,k.u2.ms,k.u2.pl],Ge=s.memo((function(e){return(0,h.jsx)("span",{children:(0,h.jsx)("h3",{className:Pe,children:e.children})})})),Ve=e=>e.split("<br />").map(((e,t)=>(0,h.jsxs)(s.Fragment,{children:[e," ",(0,h.jsx)("br",{})]},t))),He=({locale:e,isAnonymous:t,isEligible:n})=>{let s;!t&&n?s=Ve(k._s.get("wrapped.logged_in_and_eligible.description.2022")):t||n?s=Ve(k._s.get("wrapped.logged_out_or_eligible.description.2022")):t||n||(s=Ve(k._s.get("wrapped.ineligible.description.2022")));const i=(0,Se.mg)();function a(e,n){const s={category:"wrapped_hub_2021",action:"click",label:`app_store_${n}`,destination_url:e,os:(0,_e.k)()},r=t?(0,fe.G)(s):(0,ge.m)(s);i.send(r)}return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Ge,{children:s}),(0,h.jsxs)("div",{className:r()(De),"":"app-store-icons",children:[(0,h.jsx)(V.default,{to:Fe.IOS,target:"_blank",onClick:()=>a(Fe.IOS,"apple"),children:(0,h.jsx)("img",{src:(0,ye.K)((0,we.M)(e)),alt:"Apple app store icon",className:Ne})}),(0,h.jsx)(V.default,{to:Fe.ANDROID,target:"_blank",onClick:()=>a(Fe.ANDROID,"android"),children:(0,h.jsx)("img",{src:(0,ye.K)((0,we.o)(e)),alt:"Google play store icon",className:r()(Ne,Oe)})})]})]})},We=({isAnonymous:e,locale:t})=>{const[n,i]=(0,s.useState)(),r=(0,ve.W4)();return(0,s.useEffect)((()=>{var t;e?i(!1):(t=r,t.build().withHost(be.so).withMethod("GET").withPath("/campaigns/wrapped/consumer/eligible").withEndpointIdentifier("/campaigns/wrapped/").withoutMarket().send()).then((e=>{i(e.body.isEligible)})).catch((()=>i(!1)))}),[e,r,i]),void 0===n?null:(0,h.jsx)(He,{isEligible:n,isAnonymous:e,locale:t})},ze=({title:e=k._s.get("wrapped.title.2022"),size:t=Ue.DEFAULT,isAnonymous:n=!0})=>{const i=(0,s.useRef)(null),a=k._s.getLocaleForTranslation(),o=Be.includes(a)?Re:"";return(0,h.jsxs)("div",{ref:i,className:r()(p.c.container,{[p.c.smallHeader]:t===Ue.SMALL},Ie),children:[(0,h.jsx)("div",{"":"background-color",className:r()(p.c.background,p.c.gradient)}),(0,h.jsx)("div",{className:r()(p.c.background,Ae)}),(0,h.jsx)("div",{className:p.c.background}),(0,h.jsx)(Ce.E,{children:(0,h.jsx)(Ee.e,{text:e})}),(0,h.jsxs)("div",{className:r()(Te),children:[(0,h.jsxs)("div",{className:r()(p.c.headerText,ke),children:[(0,h.jsx)("h1",{className:r()(Le,o),children:Ve(e)}),(0,h.jsx)(We,{locale:a,isAnonymous:n})]}),(0,h.jsx)("div",{className:r()(je)})]})]})}},22716:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s.Y});var s=n(94231)},86412:(e,t,n)=>{"use strict";n.d(t,{mQ:()=>l,S4:()=>o,ER:()=>c});var s=n(96651);const i="main-imagePicker-fileInput";var r=n(2488);const a={accept:"image/.jpg, image/.jpeg, image/.png"};let o=function(e){return e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e}({});const l=function({onChange:e,onError:t,isOpen:n=!1,minImageWidth:l=0,minImageHeight:c=0,maxFileSizeMB:d=1/0,...u}){const m=s.useRef(null),p={...a,...u};(0,s.useEffect)((()=>{m.current&&n&&m.current.click()}),[m,n]);const h=1048576*d;return(0,r.jsx)("input",{...p,type:"file","":"image-file-picker",ref:m,className:i,onChange:async function(n){const s=n.target,[i]=Array.from(s.files||[]),r=await async function(e){const t=await function(e){return new Promise(((t,n)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>{t(s.result?.toString())},s.onerror=e=>n(e)}))}(e),[n,s]=await function(e){return new Promise(((t,n)=>{const s=new Image;s.onload=()=>{const{width:e,height:n}=s;t([e,n])},s.src=e,s.onerror=e=>n(e)}))}(t);return{imageFile:e,imageDataUrl:t,imageWidth:n,imageHeight:s}}(i);try{await async function(e){if(e.imageWidth<l||e.imageHeight<c)throw o.IMAGE_TOO_SMALL;if(e.imageFile.size>h)throw o.FILE_TOO_BIG}(r),e(r)}catch(e){if("string"!=typeof e||!Object.values(o).includes(e))throw e;t(e)}}})};function c(){const[e,t]=(0,s.useState)(!1);return[e,(0,s.useCallback)((()=>{t(!0),setTimeout((()=>t(!1)),0)}),[t])]}},8708:(e,t,n)=>{"use strict";n.d(t,{Yd:()=>p,Yj:()=>m});var s=n(49232),i=n(12100),r=n(55904),a=n(51160),o=n(89240),l=n(15040);const c="macOS"===(0,a.k)(),d=(0,r.SM)()===o.q.Desktop;let u=function(e){return e.OPEN_HELP="OPEN_HELP",e.RAISE_VOLUME="RAISE_VOLUME",e.LOWER_VOLUME="LOWER_VOLUME",e.SKIP_PREVIOUS="SKIP_PREVIOUS",e.SKIP_NEXT="SKIP_NEXT",e.TOGGLE_PLAY="TOGGLE_PLAY",e.SHUFFLE="SHUFFLE",e.REPEAT="REPEAT",e.SEEK_BACKWARD="SEEK_BACKWARD",e.SEEK_FORWARD="SEEK_FORWARD",e.GO_TO_NOW_PLAYING="GO_TO_NOW_PLAYING",e.GO_TO_HOME="GO_TO_HOME",e.GO_TO_LIBRARY="GO_TO_LIBRARY",e.GO_TO_PLAYLISTS="GO_TO_PLAYLISTS",e.GO_TO_ARTISTS="GO_TO_ARTISTS",e.GO_TO_ALBUMS="GO_TO_ALBUMS",e.GO_TO_PODCASTS="GO_TO_PODCASTS",e.GO_TO_AUDIOBOOKS="GO_TO_AUDIOBOOKS",e.GO_TO_LIKED_SONGS="GO_TO_LIKED_SONGS",e.GO_TO_MADE_FOR_YOU="GO_TO_MADE_FOR_YOU",e.GO_TO_CHARTS="GO_TO_CHARTS",e.GO_TO_SEARCH="GO_TO_SEARCH",e.GO_TO_PREFERENCES="GO_TO_PREFERENCES",e.CREATE_NEW_PLAYLIST="CREATE_NEW_PLAYLIST",e.CREATE_NEW_FOLDER="CREATE_NEW_FOLDER",e.SELECT_ALL="SELECT_ALL",e.FILTER="FILTER",e.GO_FORWARDS="GO_FORWARDS",e.GO_BACKWARDS="GO_BACKWARDS",e.LIKE_DISLIKE_SONG="LIKE_DISLIKE_SONG",e.GO_TO_NEW_RELEASES="GO_TO_NEW_RELEASES",e.GO_TO_QUEUE="GO_TO_QUEUE",e.LOG_OUT="LOG_OUT",e.OPEN_CONTEXT_MENU="OPEN_CONTEXT_MENU",e.TOGGLE_YLX_SIDEBAR="TOGGLE_YLX_SIDEBAR",e.TOGGLE_NPV_SIDEBAR="TOGGLE_NPV_SIDEBAR",e.YLX_SIDEBAR_DECREASE_WIDTH="YLX_SIDEBAR_DECREASE_WIDTH",e.YLX_SIDEBAR_INCREASE_WIDTH="YLX_SIDEBAR_INCREASE_WIDTH",e.NPV_SIDEBAR_DECREASE_WIDTH="NPV_SIDEBAR_DECREASE_WIDTH",e.NPV_SIDEBAR_INCREASE_WIDTH="NPV_SIDEBAR_INCREASE_WIDTH",e.OPEN_SEARCH_MODAL="OPEN_SEARCH_MODAL",e.TOGGLE_DEBUG_WINDOW="TOGGLE_DEBUG_WINDOW",e.FOCUS_YLX_TEXT_FILTER="FOCUS_YLX_TEXT_FILTER",e}({});const m={[u.OPEN_SEARCH_MODAL]:["mod+k"],[u.OPEN_HELP]:["mod+/","?"],[u.CREATE_NEW_PLAYLIST]:[d?"mod+n":"alt+shift+p"],[u.LIKE_DISLIKE_SONG]:["alt+shift+b"],[u.LOG_OUT]:["alt+shift+f6"],[u.CREATE_NEW_FOLDER]:[d?"mod+shift+n":"mod+alt+shift+p"],[u.SELECT_ALL]:["mod+a"],[u.FILTER]:["mod+f"],[u.TOGGLE_PLAY]:["space"],[u.SEEK_BACKWARD]:[c?"mod+shift+left":"shift+left"],[u.SEEK_FORWARD]:[c?"mod+shift+right":"shift+right"],[u.SHUFFLE]:[d?"mod+s":"alt+s"],[u.REPEAT]:[d?"mod+r":"alt+r"],[u.RAISE_VOLUME]:[d?"mod+up":"alt+up"],[u.LOWER_VOLUME]:[d?"mod+down":"alt+down"],[u.SKIP_PREVIOUS]:[d?"mod+left":"alt+left"],[u.SKIP_NEXT]:[d?"mod+right":"alt+right"],[u.GO_TO_LIBRARY]:["alt+shift+0"],[u.GO_TO_PLAYLISTS]:["alt+shift+1"],[u.GO_TO_PODCASTS]:["alt+shift+2"],[u.GO_TO_ARTISTS]:["alt+shift+3"],[u.GO_TO_ALBUMS]:["alt+shift+4"],[u.GO_TO_AUDIOBOOKS]:["alt+shift+5"],[u.GO_TO_HOME]:["alt+shift+h"],[u.GO_TO_PREFERENCES]:["mod+,"],[u.GO_BACKWARDS]:d?["mod+alt+left","alt+left"]:["mod+left"],[u.GO_FORWARDS]:d?["mod+alt+right","alt+right"]:["mod+right"],[u.GO_TO_SEARCH]:[d?"mod+l":"mod+shift+l"],[u.GO_TO_NOW_PLAYING]:["alt+shift+j"],[u.GO_TO_LIKED_SONGS]:["alt+shift+s"],[u.GO_TO_MADE_FOR_YOU]:["alt+shift+m"],[u.GO_TO_NEW_RELEASES]:["alt+shift+n"],[u.GO_TO_CHARTS]:["alt+shift+c"],[u.GO_TO_QUEUE]:["alt+shift+q"],[u.OPEN_CONTEXT_MENU]:["alt+j"],[u.TOGGLE_NPV_SIDEBAR]:["alt+shift+r"],[u.TOGGLE_YLX_SIDEBAR]:["alt+shift+l"],[u.YLX_SIDEBAR_DECREASE_WIDTH]:["alt+shift+left"],[u.YLX_SIDEBAR_INCREASE_WIDTH]:["alt+shift+right"],[u.NPV_SIDEBAR_DECREASE_WIDTH]:["alt+shift+down"],[u.NPV_SIDEBAR_INCREASE_WIDTH]:["alt+shift+up"],[u.TOGGLE_DEBUG_WINDOW]:["alt+command+x"],[u.FOCUS_YLX_TEXT_FILTER]:d?["mod+alt+f"]:["shift+mod+alt+f"]};function p(){const e=(0,s.IP)(l.M9x,{loadingValue:!1});return{basic:[{action:u.CREATE_NEW_PLAYLIST,get description(){return i._s.get("playlist.new-header")},enabled:!0},{action:u.CREATE_NEW_FOLDER,get description(){return i._s.get("keyboard.shortcuts.description.createNewFolder")},enabled:!0},{action:u.OPEN_CONTEXT_MENU,get description(){return i._s.get("keyboard.shortcuts.description.openContextMenu")},enabled:!0},{action:u.OPEN_SEARCH_MODAL,get description(){return i._s.get("keyboard.shortcuts.description.openSearchModal")},enabled:!0},{action:u.SELECT_ALL,get description(){return i._s.get("keyboard.shortcuts.description.selectAll")},enabled:d},{action:u.FILTER,get description(){return i._s.get("filter")},enabled:d},{action:u.FOCUS_YLX_TEXT_FILTER,get description(){return i._s.get("web-player.your-library-x.text-filter.generic-placeholder")},enabled:!0},{action:u.LOG_OUT,get description(){return i._s.get("user.log-out")},enabled:!0}],playback:[{action:u.TOGGLE_PLAY,get description(){return i._s.get("keyboard.shortcuts.description.togglePlay")},enabled:!0},{action:u.LIKE_DISLIKE_SONG,get description(){return i._s.get("keyboard.shortcuts.description.likeDislikeSong")},enabled:!0},{action:u.SHUFFLE,get description(){return i._s.get("keyboard.shortcuts.description.shuffle")},enabled:!0},{action:u.REPEAT,get description(){return i._s.get("keyboard.shortcuts.description.repeat")},enabled:!0},{action:u.SKIP_PREVIOUS,get description(){return i._s.get("keyboard.shortcuts.description.skipPrev")},enabled:!0},{action:u.SKIP_NEXT,get description(){return i._s.get("keyboard.shortcuts.description.skipNext")},enabled:!0},{action:u.SEEK_BACKWARD,get description(){return i._s.get("keyboard.shortcuts.description.seekBackward")},enabled:!0},{action:u.SEEK_FORWARD,get description(){return i._s.get("keyboard.shortcuts.description.seekForward")},enabled:!0},{action:u.RAISE_VOLUME,get description(){return i._s.get("keyboard.shortcuts.description.raiseVolume")},enabled:!0},{action:u.LOWER_VOLUME,get description(){return i._s.get("keyboard.shortcuts.description.lowerVolume")},enabled:!0}],navigation:[{action:u.GO_TO_HOME,get description(){return i._s.get("keyboard.shortcuts.description.home")},enabled:!0},{action:u.GO_BACKWARDS,get description(){return i._s.get("keyboard.shortcuts.description.goBackwards")},enabled:!0},{action:u.GO_FORWARDS,get description(){return i._s.get("keyboard.shortcuts.description.goForwards")},enabled:!0},{action:u.GO_TO_PREFERENCES,get description(){return i._s.get("keyboard.shortcuts.description.goToPreferences")},enabled:d},{action:u.GO_TO_NOW_PLAYING,get description(){return i._s.get("keyboard.shortcuts.description.currentlyPlaying")},enabled:!0},{action:u.GO_TO_SEARCH,get description(){return i._s.get("keyboard.shortcuts.description.search")},enabled:!0},{action:u.GO_TO_LIKED_SONGS,get description(){return i._s.get("keyboard.shortcuts.description.likedSongs")},enabled:!0},{action:u.GO_TO_QUEUE,get description(){return i._s.get("playback-control.queue")},enabled:!0},{action:u.GO_TO_LIBRARY,get description(){return i._s.get("web-player.your-library-x.your-library")},enabled:!0},{action:u.GO_TO_PLAYLISTS,get description(){return i._s.get("keyboard.shortcuts.description.yourPlaylists")},enabled:!0},{action:u.GO_TO_PODCASTS,get description(){return i._s.get("keyboard.shortcuts.description.yourPodcasts")},enabled:!0},{action:u.GO_TO_ARTISTS,get description(){return i._s.get("keyboard.shortcuts.description.yourArtists")},enabled:!0},{action:u.GO_TO_ALBUMS,get description(){return i._s.get("keyboard.shortcuts.description.yourAlbums")},enabled:!0},{action:u.GO_TO_AUDIOBOOKS,get description(){return i._s.get("keyboard.shortcuts.description.yourAudiobooks")},enabled:!0},{action:u.GO_TO_MADE_FOR_YOU,get description(){return i._s.get("keyboard.shortcuts.description.madeForYour")},enabled:!0},{action:u.GO_TO_NEW_RELEASES,get description(){return i._s.get("new_releases")},enabled:!0},{action:u.GO_TO_CHARTS,get description(){return i._s.get("keyboard.shortcuts.description.charts")},enabled:!0}],layout:[{action:u.TOGGLE_YLX_SIDEBAR,get description(){return i._s.get("keyboard.shortcuts.layout.toggleLeftSidebar")},enabled:!0},{action:u.YLX_SIDEBAR_DECREASE_WIDTH,get description(){return i._s.get("keyboard.shortcuts.layout.navigationBarDecreaseWidth")},enabled:!0},{action:u.YLX_SIDEBAR_INCREASE_WIDTH,get description(){return i._s.get("keyboard.shortcuts.layout.navigationBarIncreaseWidth")},enabled:!0},{action:u.TOGGLE_NPV_SIDEBAR,get description(){return i._s.get("keyboard.shortcuts.layout.toggleRightSidebar")},enabled:!0},{action:u.NPV_SIDEBAR_DECREASE_WIDTH,get description(){return i._s.get("keyboard.shortcuts.layout.rightSidebarDecreaseWidth")},enabled:!0},{action:u.NPV_SIDEBAR_INCREASE_WIDTH,get description(){return i._s.get("keyboard.shortcuts.layout.rightSidebarIncreaseWidth")},enabled:!0}],employee:[{action:u.TOGGLE_DEBUG_WINDOW,description:"Toggle Debug Window",enabled:e}]}}},66364:(e,t,n)=>{"use strict";n.d(t,{J:()=>P,c:()=>j});var s=n(96651),i=n(49404),r=n.n(i),a=n(4564),o=n(33220),l=n(49232),c=n(14788),d=n(12100),u=n(51776),m=n(6640),p=n(31800),h=n(44772),g=n(85712),f=n(60016),y=n(3844),_=n(29476),b=n(6912),v=n(64672),x=n(41152),C=n(72001),E=n(40104),S=n(3990);const w=e=>(t,n=!1)=>{let s,i=!1;return(...r)=>{s=r,i||(n||e.apply(e,r),i=!0,window.setTimeout((()=>{i=!1,n&&e.apply(e,s)}),t))}};var I=n(8708),A=n(4732),T=n(21448),k=n(16704),N=n(15040),O=n(54420);const P=e=>(t,...n)=>{t.repeat||e(t,...n)},j=()=>{const e=(0,o.i6)(),t=(0,a.OY)(),n=(0,a.o3)(),i=(0,b.Q)(),j=(0,_.Q)(),{createPlaylist:L}=(0,g.c)(),{shuffle:R,setShuffle:D,setRepeat:M,repeat:U}=(0,v.g)(),{contextURI:F,playingURI:B,isPaused:G,canPause:V,canResume:H}=(0,C.o)((e=>({contextURI:e?.context.uri??null,playingURI:e?.item?.uri??"",isPaused:e?.isPaused,canPause:e?.restrictions.canPause,canResume:e?.restrictions.canResume})),S.c),{seekBackward:W,seekForward:z}=(0,x.q)(),Y=(0,u.sN)(),K=(0,a.w1)((e=>e.platform.isDesktop)),q=(0,h.k)(),[Q,X]=(0,y.X)(B),{createFolder:$}=(0,E.io)(),J=(0,k._)(),{toggleQueue:Z,openQueue:ee}=(0,p.G)(),te=(0,l.IP)(N.imM),{show:ne,hide:se,handle:ie}=(0,T.U)(),re=!!ie,ae=(0,l.IP)(N.M9x,{loadingValue:!1});(0,s.useEffect)((()=>(r().bind(I.Yj.OPEN_SEARCH_MODAL,P((e=>{J({type:"OPEN"}),e.preventDefault&&e.preventDefault()}))),()=>{r().unbind(I.Yj.OPEN_SEARCH_MODAL)})),[J]),(0,s.useEffect)((()=>(r().bind(I.Yj.OPEN_HELP,P((()=>{t(A.lc(!n.getState().ui.keyboardShortcutsHelpModal.isOpen))}))),()=>{r().unbind(I.Yj.OPEN_HELP)})),[t,n]),(0,s.useEffect)((()=>(r().bind(I.Yj.TOGGLE_PLAY,P((e=>{G&&H?i.resume():!G&&V&&i.pause(),e.preventDefault&&e.preventDefault()}))),()=>{r().unbind(I.Yj.TOGGLE_PLAY)})),[V,H,G,i]),(0,s.useEffect)((()=>(r().bind(I.Yj.LOG_OUT,P((()=>{t((0,O.YX)())}))),()=>{r().unbind(I.Yj.LOG_OUT)})),[t]),(0,s.useEffect)((()=>(r().bind(I.Yj.OPEN_CONTEXT_MENU,P((()=>{const e=document.activeElement?.getBoundingClientRect();if(!e)return;const t=new MouseEvent("contextmenu",{bubbles:!0,clientX:e.x+e.width/2,clientY:e.y+e.height});document.activeElement?.dispatchEvent(t)}))),()=>{r().unbind(I.Yj.OPEN_CONTEXT_MENU)})),[t]),(0,s.useEffect)((()=>(K&&r().bind(I.Yj.GO_BACKWARDS,P((()=>{e(-1)}))),()=>{r().unbind(I.Yj.GO_BACKWARDS)})),[K,e]),(0,s.useEffect)((()=>(K&&r().bind(I.Yj.GO_FORWARDS,P((()=>{e(1)}))),()=>{r().unbind(I.Yj.GO_FORWARDS)})),[K,e]),(0,s.useEffect)((()=>(r().bind(I.Yj.GO_TO_HOME,P((()=>{e("/")}))),()=>{r().unbind(I.Yj.GO_TO_HOME)})),[t,e]),(0,s.useEffect)((()=>(r().bind(I.Yj.GO_TO_LIKED_SONGS,P((()=>{e("/collection/tracks")}))),()=>{r().unbind(I.Yj.GO_TO_LIKED_SONGS)})),[t,e]),(0,s.useEffect)((()=>(r().bind(I.Yj.GO_TO_NOW_PLAYING,P((()=>{if(null!==F){const t=(0,c.nX)(F).toURLPath(!0);e(t)}}))),()=>{r().unbind(I.Yj.GO_TO_NOW_PLAYING)})),[t,e,F]),(0,s.useEffect)((()=>(r().bind(I.Yj.GO_TO_CHARTS,P((()=>{e(f.OY)}))),()=>{r().unbind(I.Yj.GO_TO_CHARTS)})),[t,e]),(0,s.useEffect)((()=>(r().bind(I.Yj.GO_TO_SEARCH,P((()=>{e("/search",{state:{preventMoveFocus:!0}})}))),()=>{r().unbind(I.Yj.GO_TO_SEARCH)})),[t,e]),(0,s.useEffect)((()=>(r().bind(I.Yj.GO_TO_MADE_FOR_YOU,P((()=>{e(f.CI)}))),()=>{r().unbind(I.Yj.GO_TO_MADE_FOR_YOU)})),[t,e]),(0,s.useEffect)((()=>(r().bind(I.Yj.GO_TO_NEW_RELEASES,P((()=>{e(f.eq)}))),()=>{r().unbind(I.Yj.GO_TO_NEW_RELEASES)})),[t,e]),(0,s.useEffect)((()=>(r().bind(I.Yj.GO_TO_QUEUE,P((()=>{te?Z():ee()}))),()=>{r().unbind(I.Yj.GO_TO_QUEUE)})),[t,te,ee,Z]),(0,s.useEffect)((()=>(r().bind(q?I.Yj.TOGGLE_YLX_SIDEBAR:I.Yj.TOGGLE_NPV_SIDEBAR,P((()=>{Y(m.s7.NPV_BUTTON_CLICK)}))),()=>{r().unbind(q?I.Yj.TOGGLE_YLX_SIDEBAR:I.Yj.TOGGLE_NPV_SIDEBAR)})),[t,q,e,Y]),(0,s.useEffect)((()=>(r().bind(I.Yj.LIKE_DISLIKE_SONG,P((()=>{X(!Q)}))),()=>{r().unbind(I.Yj.LIKE_DISLIKE_SONG)})),[t,B,Q,X]),(0,s.useEffect)((()=>(K||r().bind(I.Yj.CREATE_NEW_PLAYLIST,P((async()=>{await L()}))),()=>{r().unbind(I.Yj.CREATE_NEW_PLAYLIST)})),[t,K,L]),(0,s.useEffect)((()=>(K||r().bind(I.Yj.CREATE_NEW_FOLDER,P((()=>{$(d._s.get("playlist.default_folder_name"),{before:"start"})}))),()=>{r().unbind(I.Yj.CREATE_NEW_FOLDER)})),[$,t,K]),(0,s.useEffect)((()=>(K||r().bind(I.Yj.SKIP_NEXT,P((()=>{i.skipToNext()}))),()=>{r().unbind(I.Yj.SKIP_NEXT)})),[K,i]),(0,s.useEffect)((()=>(K||r().bind(I.Yj.SKIP_PREVIOUS,P((()=>{i.skipToPrevious()}))),()=>{r().unbind(I.Yj.SKIP_PREVIOUS)})),[K,i]),(0,s.useEffect)((()=>(K||r().bind(I.Yj.RAISE_VOLUME,w((()=>{j.raiseVolume()}))(100)),()=>{r().unbind(I.Yj.RAISE_VOLUME)})),[K,j,n]),(0,s.useEffect)((()=>(K||r().bind(I.Yj.LOWER_VOLUME,w((()=>{j.lowerVolume()}))(100)),()=>{r().unbind(I.Yj.LOWER_VOLUME)})),[K,j,n]),(0,s.useEffect)((()=>(K||r().bind(I.Yj.SEEK_BACKWARD,w((()=>{W()}))(100)),()=>{r().unbind(I.Yj.SEEK_BACKWARD)})),[t,K,n,i,W]),(0,s.useEffect)((()=>(K||r().bind(I.Yj.SEEK_FORWARD,w((()=>{z()}))(100)),()=>{r().unbind(I.Yj.SEEK_FORWARD)})),[t,K,n,i,z]),(0,s.useEffect)((()=>(K||r().bind(I.Yj.SHUFFLE,P((()=>{D(!R)}))),()=>{r().unbind(I.Yj.SHUFFLE)})),[t,K,n,R,D]),(0,s.useEffect)((()=>(K||r().bind(I.Yj.REPEAT,P((()=>{M((U+1)%3)}))),()=>{r().unbind(I.Yj.REPEAT)})),[t,K,n,U,M]),(0,s.useEffect)((()=>{ae&&r().bind(I.Yj.TOGGLE_DEBUG_WINDOW,P((()=>{re?se():ne()})))}),[ae,re,se,ne])}},23568:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o});var s=n(96651),i=n(49232),r=n(2488);const a=({renderOldExperience:e=(()=>null),renderNewExperience:t=(()=>null),forceNewExperience:n,property:s})=>(0,i.IP)(s)||n?t():e(),o=({suspenseFallback:e=null,renderNewExperience:t,renderOldExperience:n,forceNewExperience:i=!1,property:o})=>(0,r.jsx)(s.Suspense,{fallback:e,children:(0,r.jsx)(a,{renderNewExperience:t,renderOldExperience:n,forceNewExperience:i,property:o})})},60328:(e,t,n)=>{"use strict";n.d(t,{C8:()=>T,K4:()=>l,Md:()=>A,Qn:()=>I,Ut:()=>o,Y3:()=>C,cL:()=>x,im:()=>S,kB:()=>E,kv:()=>w,ud:()=>k});n(73952),n(97296);var s=n(12100),i=n(29764),r=n(55356),a=n(25956);let o=function(e){return e.TITLE="TITLE",e.ADDED_BY="ADDED_BY",e.ADDED_AT="ADDED_AT",e.ARTIST="ARTIST",e.ALBUM="ALBUM",e.SHOW="SHOW",e.DURATION="DURATION",e}({});const l={[o.TITLE]:["title"],[o.ADDED_BY]:["added_by"],[o.ADDED_AT]:["added_at"],[o.ARTIST]:["artist_name","album_title","album_track_number"],[o.ALBUM]:["album_title","album_track_number"],[o.SHOW]:["album_title","added_at"],[o.DURATION]:["duration"]},c={[i.y.TITLE_AND_ARTIST]:r.k.TITLE,[i.y.TITLE]:r.k.TITLE,[i.y.ADDED_BY]:r.k.ADDED_BY,[i.y.ADDED_AT]:r.k.ADDED_AT,[i.y.DURATION]:r.k.DURATION,[i.y.ARTIST]:r.k.ARTIST,[i.y.ALBUM]:r.k.ALBUM,[i.y.ALBUM_OR_PODCAST]:r.k.ALBUM,[i.y.ALBUM_OR_SHOW]:null,[i.y.ACTIONS]:null,[i.y.RELEASE_DATE]:null,[i.y.INDEX]:null,[i.y.PLAYS]:null,[i.y.ADD]:null,[i.y.EVENT_DATE]:null,[i.y.EVENT_INFO]:null,[i.y.CONCERT_DATE]:null,[i.y.CONCERT_VENUE]:null,[i.y.TITLE_AND_AUTHOR]:r.k.TITLE,[i.y.AUTHOR]:null},d=[i.y.INDEX,i.y.TITLE_AND_ARTIST,i.y.ALBUM,i.y.ADDED_AT,i.y.DURATION],u=[i.y.INDEX,i.y.TITLE_AND_ARTIST,i.y.ALBUM,i.y.ADDED_BY,i.y.ADDED_AT,i.y.DURATION],m=[i.y.INDEX,i.y.TITLE_AND_ARTIST,i.y.ALBUM_OR_PODCAST,i.y.RELEASE_DATE,i.y.ADDED_AT,i.y.DURATION],p=[i.y.INDEX,i.y.TITLE_AND_ARTIST,i.y.ALBUM_OR_PODCAST,i.y.ADDED_BY,i.y.RELEASE_DATE,i.y.ADDED_AT,i.y.DURATION],h=[i.y.INDEX,i.y.TITLE_AND_AUTHOR,i.y.ADDED_AT,i.y.DURATION],g=[i.y.INDEX,i.y.TITLE_AND_AUTHOR,i.y.ADDED_BY,i.y.ADDED_AT,i.y.DURATION],f=[i.y.INDEX,i.y.TITLE_AND_ARTIST,i.y.ALBUM,i.y.EVENT_DATE,i.y.DURATION],y=[i.y.INDEX,i.y.TITLE_AND_ARTIST,i.y.CONCERT_DATE,i.y.CONCERT_VENUE,i.y.DURATION],_=[i.y.INDEX,i.y.TITLE_AND_ARTIST,i.y.ALBUM,i.y.ADDED_BY,i.y.DURATION],b=[i.y.INDEX,i.y.TITLE_AND_ARTIST,i.y.ALBUM,i.y.DURATION],v={[i.g.NONE]:void 0,[i.g.DESC]:a._.DESC,[i.g.ASC]:a._.ASC,[i.g.SECONDARY_DESC]:a._.DESC,[i.g.SECONDARY_ASC]:a._.ASC},x=({isMixedMedia:e,hasEpisodes:t,hasSpotifyAudiobooks:n,hasDateAdded:s,isLive:r,isConcert:a,isBlend:o,nrCollaborators:l,isBooklist:c,isChart:v,isCompactMode:x=!1,showPlayCount:C=!1})=>{let E=[...d];const S=l>1;if(e){S&&E.splice(3,1,i.y.ADDED_BY);const e=E.indexOf(i.y.ALBUM);n?E.splice(e,1):E.splice(e,1,i.y.ALBUM_OR_PODCAST)}else v?(E=[...b],C&&E.splice(E.indexOf(i.y.TITLE_AND_ARTIST)+1,0,i.y.PLAYS)):t&&S?E=[...p]:t?E=[...m]:o?E=[..._]:c&&S?E=[...g]:c?E=[...h]:S?E=[...u]:r?E=[...f]:a&&(E=[...y]);if(s||E.splice(E.indexOf(i.y.ADDED_AT),1),x){const e=E.indexOf(i.y.TITLE_AND_ARTIST),t=E.indexOf(i.y.TITLE_AND_AUTHOR);-1!==e?E.splice(e,1,i.y.TITLE,i.y.ARTIST):-1!==t&&E.splice(t,1,i.y.TITLE,i.y.AUTHOR)}return E},C=e=>{const t=e.filter((e=>null!==c[e]));return t.unshift(i.y.INDEX),t},E=e=>[i.g.ASC,i.g.SECONDARY_ASC].includes(e),S=e=>[i.g.DESC,i.g.SECONDARY_DESC].includes(e),w=(e,t)=>{return e===i.y.TITLE_AND_ARTIST&&(!(t.column!==i.y.TITLE_AND_ARTIST||(n=t.order,![i.g.SECONDARY_ASC,i.g.SECONDARY_DESC].includes(n)))||t.column===i.y.ARTIST);var n},I=e=>{if(e.order&&e.column)return w(e.column,e)?{field:r.k.ARTIST,order:v[e.order]}:{field:c[e.column],order:v[e.order]}},A=(e,t)=>{const n=e===i.y.TITLE_AND_ARTIST?5:3,s=(t.order+1)%n;return t.column===e?{column:s?t.column:null,order:s}:{column:e,order:i.g.ASC}},T=e=>{if(!e)return;return`text =^# "${e}"`},k=e=>{const t=e||s._s.get("playlist.similar-playlist"),n=t.match(new RegExp("(.*)\\((\\d+)\\)$"));return n?`${n[1].trim()} (${i=n[2],parseInt(i,10)+1})`:`${t} (2)`;var i}},57200:(e,t,n)=>{"use strict";n.d(t,{Pi:()=>u,ot:()=>c});n(41260);var s=n(96651),i=n(58136),r=n(37116),a=n(52276),o=n(77808),l=n(71508);let c=function(e){return e[e.COLLAPSED=72]="COLLAPSED",e[e.DEFAULT_MIN=280]="DEFAULT_MIN",e[e.DEFAULT_MAX=420]="DEFAULT_MAX",e[e.EXPANDED_MIN=584]="EXPANDED_MIN",e[e.EXPANDED_MAX=Number.POSITIVE_INFINITY]="EXPANDED_MAX",e}({});var d=function(e){return e[e.MIN=120]="MIN",e[e.DEFAULT=232]="DEFAULT",e[e.MAX=384]="MAX",e}(d||{});d.MIN,d.MAX;const u=()=>{const{ylxSidebarState:e,setYlxSidebarState:t,canCollapse:n,canExpand:d}=(0,i.iu)(),[u,m]=(0,r.k)("ylx-default-state-nav-bar-width",Math.max(c.DEFAULT_MIN,Math.min(Math.round(.23*innerWidth),c.DEFAULT_MAX))),[p,h]=(0,r.k)("ylx-expanded-state-nav-bar-width",Math.max(c.EXPANDED_MIN,Math.min(Math.round(.55*innerWidth),c.EXPANDED_MAX)));let g;switch(e){case i.MT.COLLAPSED:g=c.COLLAPSED;break;case i.MT.DEFAULT:g=u;break;case i.MT.EXPANDED:g=p;break;case null:g=u;break;default:(0,a.I)(e),g=u}const f=(0,s.useCallback)((e=>{e<c.DEFAULT_MIN?t(i.MT.COLLAPSED):c.DEFAULT_MIN<=e&&e<=c.DEFAULT_MAX?(t(i.MT.DEFAULT),m(e)):c.EXPANDED_MIN<=e&&e<=c.EXPANDED_MAX?(t(i.MT.EXPANDED),h(e)):console.warn("`LeftSidebar.setSize` call out of bounds")}),[t,m,h]),y=(0,l.y)()-o.SO-3*o.In,_=(0,s.useMemo)((()=>[...n?[[c.COLLAPSED,c.COLLAPSED]]:[],[c.DEFAULT_MIN,c.DEFAULT_MAX],...d?[[c.EXPANDED_MIN,c.EXPANDED_MAX]]:[]].map((([e,t])=>[e,Math.min(t,y)]))),[n,d,y]);let b,v;switch(e){case i.MT.COLLAPSED:b=v=c.COLLAPSED;break;case i.MT.DEFAULT:b=c.DEFAULT_MIN,v=c.DEFAULT_MAX;break;case i.MT.EXPANDED:b=c.EXPANDED_MIN,v=c.EXPANDED_MAX;break;case null:b=0,v=0;break;default:b=0,v=0,(0,a.I)(e)}return{size:g,setSize:f,minMaxRanges:_,minWidth:b,maxWidth:v,ylxCollapsedStateNavbarWidth:c.COLLAPSED,ylxDefaultStateNavbarWidth:u,ylxExpandedStateNavbarWidth:p}}},88672:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var s=n(2364);const i=(e,t)=>"string"==typeof e&&"string"==typeof t?!(e.length>0)||null!==(0,s.w)(e,t):"boolean"!=typeof e||e},78808:(e,t,n)=>{"use strict";n.d(t,{on:()=>o,WC:()=>l,A7:()=>c.A});var s=n(96651),i=n(74257),r=n(2488);const a=(0,i.Su)((e=>({lastFilterState:"",lastFilteredUri:"",setLastState:(t,n)=>{e({lastFilterState:t,lastFilteredUri:n})}}))),o=(0,s.createContext)({setFilter:()=>{throw new Error("setFilter must be used within a FilterProvider")},filter:""}),l=({uri:e,children:t})=>{const{lastFilterState:n,lastFilteredUri:i,setLastState:l}=a.getState(),[c,d]=(0,s.useState)(i===e?n:""),u=(0,s.useCallback)((t=>{d(t),l(t,e)}),[l,e]),m=(0,s.useMemo)((()=>({filter:c,setFilter:u})),[c,u]);return(0,r.jsx)(o.Provider,{value:m,children:t})};var c=n(29724)},556:(e,t,n)=>{"use strict";n.d(t,{W:()=>A});n(73952),n(97768);var s=n(96651),i=n(55780),r=n.n(i),a=n(32040),o=n(71912),l=n(8004),c=n(49232),d=n(29208),u=n(31720),m=n(60112),p=n(40636),h=n(24544),g=(n(41260),n(7372)),f=n(18584),y=n(44488),_=n(63824),b=n(90484),v=n(33912),x=n(2488);const C=({heading:e,selected:t,onSelect:n,options:s,enableViewModeMenu:i=!1,onSelectViewMode:r,sortOrder:a,...o})=>{let l;a&&(a===v.gF.ASC||a===v.gF.SECONDARY_ASC?l=g.u:a!==v.gF.DESC&&a!==v.gF.SECONDARY_DESC||(l=f.E));return(0,x.jsxs)(y.i,{getInitialFocusElement:e=>e?.querySelector('[aria-checked="true"]'),...o,children:[e?(0,x.jsx)(_.Y,{children:e}):null,s.map((({key:e,value:s},i)=>(0,x.jsx)(b.I,{role:"menuitemradio","aria-checked":e===t.key,CheckedIcon:l,onClick:()=>n(e,i),children:s},e))),i&&(0,x.jsx)(m.ew,{onSelect:r})]})},E="x-sortBox-sortDropdown",S="cvTLPmjt6T7M85EKcB8w",w="SbDHY3fVADNJ4l9qOLQ2",I=({isOpen:e,className:t})=>e?(0,x.jsx)(a.s,{size:"small","aria-hidden":"true",className:t}):(0,x.jsx)(o.a,{size:"small","aria-hidden":"true",className:t}),A=({heading:e,options:t,selected:n,onSelect:i,sortOrder:a,variant:o="bodySmall",semanticColor:g,disabled:f,onClick:y,ariaLabel:_,enableViewModeMenu:b=!1})=>{const v=(0,c.IP)(h.RT)&&b,{viewMode:A}=(0,m.Q7)();n||(n=t?.[0]);const T=m.ug.find((({value:e})=>e===A))||m.ug[0],k=(0,s.useMemo)((()=>`sortboxlist-${r().create().hex}`),[]),{spec:N,logger:O}=(0,p.gp)(d.G,{});return(0,x.jsx)(u.p,{menu:(0,x.jsx)(C,{selected:n,options:t,onSelect:(e,t)=>{i(e,t);const n=N.sortBySectionFactory().sortOptionFactory({identifier:e}).hitSort();O.logInteraction(n)},sortOrder:a,heading:e,enableViewModeMenu:v,onSelectViewMode:e=>{const t=N.viewAsSectionFactory().viewOptionFactory({identifier:e}).hitUiElementToggle();O.logInteraction(t)},id:k}),children:(e,t,s)=>(0,x.jsxs)("button",{className:E,onClick:e=>{f||(y?.(e),t(e))},ref:s,type:"button","aria-label":_,role:"combobox","aria-controls":k,"aria-expanded":e,children:[(0,x.jsx)(l.a,{semanticColor:g,variant:o,className:S,children:n?.value||(v?T.text():"")}),v?T.icon():(0,x.jsx)(I,{isOpen:e,className:w})]})})}},2104:(e,t,n)=>{"use strict";n.d(t,{qQ:()=>u,W0:()=>_,GS:()=>v,u_:()=>x.u_});var s=n(96651),i=n(10124),r=n.n(i),a=n(50156),o=n(68208);const l="qSTDtICR1fiIGRni1cwy",c="CUSHxAzlZWmBNuM0o1Vq";var d=n(2488);const u=({children:e,className:t,arrowClassName:n,disableAutoFocus:i})=>{const u=(0,s.useRef)(null);return(0,o.K)(),(0,a.y)({ref:i?{current:null}:u,preventScroll:!0}),(0,d.jsxs)("div",{...i&&{tabIndex:-1},ref:u,onClick:e=>{e.stopPropagation()},onContextMenu:e=>{e.stopPropagation()},className:r()(l,t),children:[e,(0,d.jsx)("div",{"data-popper-arrow":"",className:r()(c,n)})]})};var m=n(48536),p=n(78172),h=n(56616);const g="main-contextMenu-tippy",f="main-contextMenu-tippyEnter",y="main-contextMenu-tippyEnterActive",_=({children:e,className:t,showDelay:n=200})=>{const[i,a]=s.useState(!1),o=(0,p.oJ)(),l=(0,h.y6)(),c=(0,s.useRef)(!0);return(0,s.useEffect)((()=>(c.current=!0,()=>{c.current=!1}))),(0,s.useEffect)((()=>{const e=setTimeout((()=>{c.current&&(a(!0),l?.addEventListener("click",t,{once:!0}))}),n);function t(){c.current&&(a(!1),o({type:"close"}),clearTimeout(e))}return()=>{l?.removeEventListener("click",t),clearTimeout(e)}}),[l,n,o]),(0,d.jsx)(m.c,{in:i,timeout:200,unmountOnExit:!0,classNames:{enter:f,enterActive:y},children:(0,d.jsx)("div",{className:r()(g,t),children:e})})};var b=n(36648);const v=({children:e,content:t,...n})=>(0,d.jsx)(b.S,{renderInline:!0,preventScrollingWhileOpen:!1,placement:"top-start",menu:t,...n,children:e});var x=n(87832)},64928:(e,t,n)=>{"use strict";n.d(t,{K:()=>p});n(73952),n(97296),n(41260);var s=n(96651),i=n(8004),r=n(12100),a=n(85988),o=n(40636),l=n(94768),c=n(96868),d=n(94496),u=n(2488);const m=({name:e,uri:t,nonInteractive:n,children:s,onClick:i,index:r})=>n?(0,u.jsx)("span",{className:d.c.text,children:s}):(0,u.jsx)(c.U,{name:e,uri:t,onClick:i,index:r,children:s},t),p=({artists:e,filter:t,nonInteractive:n=!1,spec:c})=>{const d=(0,o.Mk)(),p=(0,s.useCallback)(((e,t)=>{c&&d.logInteraction(c.artistLinkFactory({position:t??0,uri:e}).hitUiNavigate({destination:e}))}),[d,c]),h=e.map((({name:e})=>e)).join(r._s.getSeparator());return(0,u.jsx)(a.Yl,{label:h,showDelay:a.AL,children:(0,u.jsx)(i.a,{as:"div",variant:"bodySmall",children:e.map((({uri:e,name:i},a)=>(0,u.jsxs)(s.Fragment,{children:[a>0&&r._s.getSeparator(),(0,u.jsx)(m,{uri:e,name:i,nonInteractive:n,onClick:p,index:a,children:(0,u.jsx)(l.S,{searchWords:[t??""],textToHighlight:i})},e)]},e)))})})}},24300:(e,t,n)=>{"use strict";n.d(t,{OQ:()=>re,MZ:()=>D,IN:()=>ne,ui:()=>k,MV:()=>E,uS:()=>Y,U$:()=>M.U,CU:()=>me,Cg:()=>J,Oy:()=>m,gh:()=>_,yY:()=>Q,_e:()=>K,ae:()=>v.a,op:()=>te,iq:()=>b.i,S4:()=>H.iq,Cc:()=>z,sP:()=>V.s,AB:()=>F,I9:()=>B,sv:()=>G.s,aU:()=>S.a,Iz:()=>q.I,Ml:()=>x.M});var s=n(10124),i=n.n(s),r=n(78390),a=n(30700),o=n(62459),l=n(40384),c=n(94496),d=n(2488);const u=({isVideo:e,isEpisode:t})=>{let n=a.S;return e?n=o.O:t&&(n=l.s),(0,d.jsx)("div",{className:i()(c.c.rowImage,c.c.rowImageFallback),style:{borderRadius:4},children:(0,d.jsx)(n,{size:"small"})})},m=({src:e,isVideo:t=!1,isEpisode:n=!1})=>e?(0,d.jsx)(r.W,{className:i()(c.c.rowImage,{[c.c.rowImageVideo]:t}),draggable:!1,src:e,loading:"eager",width:"40",height:"40",radius:4,children:(0,d.jsx)(u,{isVideo:t,isEpisode:n})}):(0,d.jsx)(u,{isVideo:t,isEpisode:n});var p=n(18648),h=n(60016),g=n(40636),f=n(7296),y=n(88840);const _=({uri:e,src:t,playAriaLabel:n,onClick:s,isPlaying:r,isActive:a,isLocked:o,isEpisode:l,isVideo:u,spec:_})=>{const b=(0,f.w)(),v=(0,g.Mk)(),x=(0,p.yK)((t=>{let n;if(b({type:"click",intent:r?"pause":"play"}),_){const t=_.playbackButtonFactory();let s;s=a&&r?t.hitPause({itemToBePaused:e}):a&&!r?t.hitResume({itemToBeResumed:e}):t.hitPlay({itemToBePlayed:e}),n=v.logInteraction(s)}s(t,n)}),h.cT,{leading:!0,trailing:!1});return(0,d.jsxs)("div",{className:c.c.rowImageWithPlay,children:[(0,d.jsx)(m,{src:t,isEpisode:l,isVideo:u}),(0,d.jsx)(y.a,{className:i()(c.c.rowPlayPauseButton,c.c.rowImagePlayPauseButton),iconClassName:c.c.rowPlayPauseIcon,onClick:x,isPlaying:r,isLocked:o,playAriaLabel:n})]})};var b=n(95932),v=n(43356),x=n(26468),C=n(8004);const E=({children:e})=>e?(0,d.jsx)(C.a,{variant:"bodyMedium",className:c.c.rowBadges,semanticColor:"textSubdued",children:e}):null;var S=n(30648),w=(n(41260),n(96651)),I=n(12100),A=n(85988),T=n(96868);const k=({artists:e,spec:t,className:n})=>{const s=(0,g.Mk)(),i=(0,w.useCallback)(((e,n)=>{t&&s.logInteraction(t.artistLinkFactory({position:n??0,uri:e}).hitUiNavigate({destination:e}))}),[s,t]);if(!e||0===e.length)return null;const r=e.map((({name:e})=>e)).join(I._s.getSeparator());return(0,d.jsx)(A.Yl,{label:r,showDelay:A.AL,children:(0,d.jsx)(C.a,{as:"span",variant:"bodySmall",className:n,children:e.map((({uri:e,name:t},n)=>(0,d.jsxs)(w.Fragment,{children:[n>0&&I._s.getSeparator(),(0,d.jsx)(T.U,{name:t,uri:e,onClick:i,index:n,children:t},e)]},e)))})})};var N=n(14788),O=n(7300),P=n(6812),j=n(25676),L=n(81472),R=n(11732);const D=({children:e,uri:t,name:n,nonInteractive:s=!1,creatorUri:r,spec:a})=>{let o=null;const l=(0,P.C)({itemUris:[t],dragLabelText:n}),u=(0,g.Mk)(),m=(0,w.useCallback)((()=>{a&&u.logInteraction(a.albumLinkFactory({uri:t}).hitUiNavigate({destination:t}))}),[u,a,t]);return s?(0,d.jsx)("span",{className:i()("standalone-ellipsis-one-line",c.c.text),children:e}):((0,N.MJ)(t)&&(o=(0,d.jsx)(j.k,{uri:t,artistUri:r})),(0,N.Gi)(t)&&(o=(0,d.jsx)(L.Q,{uri:t})),(0,d.jsx)(O.U,{menu:o,children:(0,d.jsx)("span",{children:(0,d.jsx)(A.Yl,{label:n,showDelay:A.AL,children:(0,d.jsx)(C.a,{variant:"bodySmall",children:(0,d.jsx)(R.Link,{draggable:!0,onDragStart:l,className:i()("standalone-ellipsis-one-line"),to:t,dir:"auto",onClick:m,children:e})})})})}))};var M=n(93704),U=n(16228);const F=({children:e,ariaColIndex:t,ariaSort:n,role:s="gridcell"})=>"columnheader"===s?(0,d.jsx)(U.__,{columnIndex:t,ariaSort:n,className:c.c.rowSectionIndex,children:e}):(0,d.jsx)(U.m_,{columnIndex:t,className:c.c.rowSectionIndex,children:e}),B=({children:e,ariaColIndex:t,ariaSort:n,role:s="gridcell"})=>"columnheader"===s?(0,d.jsx)(U.__,{columnIndex:t,ariaSort:n,className:c.c.rowSectionStart,children:e}):(0,d.jsx)(U.m_,{columnIndex:t,className:c.c.rowSectionStart,children:e});var G=n(6364),V=n(46e3),H=n(46216),W=n(89060);const z=({releaseDate:e})=>(0,d.jsx)(C.a,{variant:"bodySmall",children:(0,W.qw)((0,W._z)(e))}),Y=({dateAdded:e,prefix:t})=>{let n=e.getTime()>0&&I._s.formatRelativeDate(e,{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"});return n&&t&&(n=`${t} ${n}`),(0,d.jsx)(C.a,{variant:"bodySmall",semanticColor:"textSubdued",children:n})},K=({children:e})=>(0,d.jsx)("div",{className:c.c.rowMainContentCompact,children:e});var q=n(39132);const Q=({children:e,className:t})=>(0,d.jsx)("div",{className:i()(c.c.rowMainContent,t),children:e});var X=n(5260),$=n(97336);const J=({uri:e,type:t,spec:n})=>{const s=(0,g.Mk)(),i=(0,w.useCallback)((t=>{if(!n)return;const i=t?n.heartButtonFactory().hitLike({itemToBeLiked:e}):n.heartButtonFactory().hitRemoveLike({itemNoLongerLiked:e});s.logInteraction(i)}),[n,s,e]);return"episode"===t?(0,d.jsx)(X.Q,{uri:e,className:c.c.rowHeartButton,onClick:i}):(0,d.jsx)($.s,{uri:e,className:c.c.rowHeartButton,onClick:i})};var Z=n(31720),ee=n(48856);const te=({menu:e,label:t,spec:n})=>{const s=(0,g.Mk)(),i=(0,w.useCallback)((()=>{n&&s.logInteraction(n.contextButtonFactory().hitUiReveal())}),[s,n]);return(0,d.jsx)(Z.p,{menu:e,onShow:i,children:(0,d.jsx)(ee.g,{className:c.c.rowMoreButton,size:ee.o.xs,label:t})})},ne=({children:e})=>(0,d.jsx)(C.a,{dir:"auto",className:i()(c.c.rowTitle,c.c.discTitle,"standalone-ellipsis-one-line"),as:"div",variant:"bodyMediumBold",children:e});var se=n(74712),ie=n(46003);const re=({uri:e,imageUrl:t,name:n,showAvatar:s,spec:i,isCompactMode:r=!1})=>{const a=(0,g.Mk)(),o=(0,w.useCallback)((()=>{i&&a.logInteraction(i.addedByLinkFactory({position:0,uri:e}).hitUiNavigate({destination:e}))}),[a,i,e]);return(0,d.jsx)(O.U,{menu:(0,d.jsx)(ie.Y,{uri:e}),children:(0,d.jsxs)(R.Link,{className:c.c.addedBy,to:e,onClick:o,children:[s&&(0,d.jsx)(se.C,{images:[{url:t,width:null,height:null}],label:n,width:r?16:24,userIconSize:"small"}),(0,d.jsx)(C.a,{variant:"bodySmall",className:"standalone-ellipsis-one-line",children:n})]})})};var ae=n(67716),oe=n(84264),le=n(74884),ce=n(6912),de=n(72001),ue=n(70488);const me=({isDisliked:e,feedbackPath:t,feedbackUri:n,deleteFeedbackPath:s,spec:r,onClick:a,name:o,contextUri:l})=>{const u=(0,g.Mk)(),m=(0,ce.Q)(),{enqueueSnackbar:p}=(0,ae.uU)(),{uri:h}=(0,de.o)((e=>({uri:e?.item?.uri})),((e,t)=>e?.uri===t?.uri)),f=(0,w.useCallback)((async()=>{n&&(await le.Y(oe.W.getInstance(),s,n),a?.(),r&&l&&u.logInteraction(r.addRecommendationButtonFactory().hitAddToPlaylist({playlist:l,itemToBeAdded:n})))}),[s,n,a,u,l,r]),y=(0,w.useCallback)((async()=>{n&&(await le.I(oe.W.getInstance(),t,n),h===n&&m.skipToNext(),a?.(),p(I._s.get("feedback.hide-song",o)),r&&l&&u.logInteraction(r.removeRecommendationButtonFactory().hitRemoveRecommendation({recommendedItemUri:n,contextUri:l})))}),[n,t,h,a,p,o,r,l,m,u]);return(0,d.jsx)(ue.k,{className:i()(c.c.rowFeedbackButton,c.c.rowFeedback),size:16,onClick:e?f:y,isDisliked:e})}},2356:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var s=n(96651),i=n(49620);function r(e){const{clearSelected:t}=(0,s.useContext)(i.q);(0,s.useEffect)((()=>{const n=n=>{!(e.current&&n.target instanceof Node)||e.current.contains(n.target)||n.target instanceof Element&&"INPUT"===n.target.tagName||t()};return window.addEventListener("click",n),()=>{window.removeEventListener("click",n)}}),[t,e])}},65252:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});n(73952),n(97296),n(41260);var s=n(96651),i=n(12100),r=n(6812),a=n(62528),o=n(49620);function l({index:e,label:t,contextUri:n,sectionId:l,isEnabled:c=!0}){const d=(0,r.C)(),{isSelected:u,toggleSelected:m,getSelected:p}=(0,s.useContext)(o.q);return(0,s.useCallback)((s=>{if(!c||s.target!==s.currentTarget)return;u(e)||m(e,!1,!1);const r=p(),o=r.map((({uri:e})=>e)),h=r.map((({uid:e})=>e)).filter(Boolean),g=r.map((({type:e})=>e)).map(a.Mb);d(s,{itemUris:o,itemIds:h,itemMimeTypes:g,dragLabelText:o.length>1?i._s.get("tracklist.drag.multiple.label",o.length):t,contextUri:n,sectionId:l})}),[c,u,e,p,d,t,n,l,m])}},20460:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});n(73952),n(97296);var s=n(96651),i=n(78808),r=n(49620);function a(e){const{clearSelected:t,getSelected:n}=(0,s.useContext)(r.q),{filter:a}=(0,s.useContext)(i.on),o=(0,s.useRef)(e);o.current=e;return(0,s.useCallback)((e=>{if("Escape"===e.key&&!e.repeat){if(a)return;t()}if(("Backspace"===e.key||"Delete"===e.key)&&!e.repeat){const e=n();e.length&&o.current?.(e)}}),[a,t,n])}},45748:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var s=n(96651),i=n(37200);function r(){const e=(0,s.useContext)(i.e);if(!e)throw new Error("useTrackListColumns must be used within a TracklistColumnsContext!");return e.visibleColumnTypes}},33912:(e,t,n)=>{"use strict";n.d(t,{I2:()=>ce.I2,A5:()=>ce.A5,gF:()=>j.g,yw:()=>j.y,Sc:()=>ce.Sc,Yn:()=>ce.Yn,E9:()=>ce.E9,k$:()=>se,WG:()=>ce.WG,eS:()=>ce.eS,iq:()=>de.iq,uK:()=>de.uK,gl:()=>de.gl,rl:()=>ce.rl,sh:()=>ce.sh,aE:()=>le});n(73952),n(39568),n(41260),n(91372),n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256);var s=n(96651),i=n(10124),r=n.n(i),a=n(12100),o=n(16228),l=n(11816),c=n(99992),d=n(81040),u=n(62572),m=n(24300),p=n(2356),h=n(20460),g=(n(97296),n(78808));const f=e=>{const{filter:t}=(0,s.useContext)(g.on),n=(0,s.useRef)(!1);(0,s.useEffect)((()=>{n.current=!0;const e=setTimeout((()=>{n.current=!1}),1e3);return()=>{clearTimeout(e)}}),[t]),(0,s.useEffect)((()=>{""===t&&n.current&&e()}))};var y=n(14788),_=n(15060),b=n(76361),v=n(49620),x=n(94496);const C=(e,t,n,i)=>{const{clearSelected:r,selectAll:a,getSelected:o}=(0,s.useContext)(v.q),l=(0,s.useCallback)((()=>{if(!e.current)return;const s=document.querySelector(`.${x.c.trackList}`),i=s?.isEqualNode(e.current)||!1,r=document.activeElement?.closest(`.${x.c.trackList}`);(r?.isEqualNode(e.current)||!1||i&&!r)&&(t?n().then((()=>{a()})):a())}),[e,t,n,a]),c=(0,s.useCallback)((async(e,t)=>{const n=o().map((({uri:e})=>t?e:(0,y.nX)(e)?.toURL())).join("\n");n.length&&await e(n)}),[o]),d=(0,s.useCallback)((t=>{if(e.current?.contains(document.activeElement)){const e=o();if(0===e.length)return;i(e,(()=>{r()}),t)}}),[r,o,i,e]),u=(0,s.useCallback)((async e=>{await c(e,!1),d(!0)}),[c,d]);return(0,_.Mx)(u),(0,_.s$)(c),(0,b.GU)(b.ak.SELECT_ALL,l),(0,b.GU)(b.ak.DELETE,(()=>d())),{handleDelete:d}};var E=n(82504),S=n(71912),w=n(32040),I=n(49232),A=n(87832),T=n(44488),k=n(90484),N=n(2488);const O=s.memo((function({name:e,visible:t,columnType:n,onClick:s}){return(0,N.jsx)(k.I,{role:"menuitemcheckbox",onClick:s,"aria-checked":t,"data-column":n,children:e})}));var P=n(37200),j=n(29764);const L=({initialFocusColumn:e})=>{const t=(0,s.useContext)(P.e),n=(0,s.useMemo)((()=>({[j.y.INDEX]:"#",[j.y.TITLE_AND_ARTIST]:a._s.get("tracklist.header.title"),[j.y.TITLE]:a._s.get("tracklist.header.title"),[j.y.PLAYS]:a._s.get("tracklist.header.plays"),[j.y.ADDED_AT]:a._s.get("tracklist.header.date-added"),[j.y.ADDED_BY]:a._s.get("tracklist.header.added-by"),[j.y.DURATION]:a._s.get("tracklist.header.duration"),[j.y.ALBUM]:a._s.get("tracklist.header.album"),[j.y.RELEASE_DATE]:a._s.get("tracklist.header.release-date"),[j.y.EVENT_DATE]:a._s.get("tracklist.header.event"),[j.y.EVENT_INFO]:a._s.get("tracklist.header.event"),[j.y.ACTIONS]:a._s.get("tracklist.header.actions"),[j.y.ALBUM_OR_PODCAST]:a._s.get("tracklist.header.album-or-podcast"),[j.y.ALBUM_OR_SHOW]:a._s.get("music_and_talk.album_or_show"),[j.y.CONCERT_DATE]:a._s.get("tracklist.header.date"),[j.y.CONCERT_VENUE]:a._s.get("tracklist.header.venue"),[j.y.ARTIST]:a._s.get("card.tag.artist"),[j.y.ADD]:null,[j.y.TITLE_AND_AUTHOR]:a._s.get("tracklist.header.title"),[j.y.AUTHOR]:a._s.get("shared.library.sort-by.author")})),[]);if(!t)return null;return(0,N.jsx)(T.i,{getInitialFocusElement:t=>t?.querySelector(`[data-column="${e}"]`),children:t.columns.filter((e=>e.toggleable)).map(((e,s)=>(0,N.jsx)(O,{columnType:e.columnType,name:n[e.columnType]??e.columnType,visible:e.visible,onClick:()=>{e.toggleable&&t?.toggleVisible(e.columnType)}},`column-visibility-action-${s}`)))})};var R=n(60328),D=n(15040),M=n(8004),U=n(70608),F=n(85988);const B=({className:e,children:t,onSort:n,as:s="div",columnIndex:i})=>(0,N.jsxs)(s,{className:r()(x.c.column,e),onClick:()=>n(j.y.TITLE,i),children:[(0,N.jsx)(M.a,{variant:"bodySmall",className:"standalone-ellipsis-one-line",children:a._s.get("tracklist.header.title")}),t]}),G=({className:e,children:t,as:n="div"})=>(0,N.jsxs)(n,{className:r()(x.c.column,e),children:[(0,N.jsx)(M.a,{variant:"bodySmall",className:r()("standalone-ellipsis-one-line",e),children:a._s.get("tracklist.header.event")}),t]});n(99400);var V=n(37116),H=n(44772),W=n(90615);const z=parseInt(W.c.MINMIMUM_COLUMN_WIDTH,10),Y=(e,t,n)=>!e&&(t>z||n),K=({index:e,tracklistRef:t,hasIndex:n,columnPersistenceKey:i})=>{const r=(0,s.useRef)(null),a=(0,H.k)(),[o,l]=(0,V.k)("column-widths",{}),c=(0,s.useCallback)((e=>{const s=e.reduce(((e,t,s)=>((!n||s>0)&&(e+=t),e)),0);e.filter(Boolean).forEach(((e,i)=>{n&&0===i||t.current.style.setProperty(`--col${i}`,100*e/s+"fr")}))}),[n,t]);(0,s.useEffect)((()=>{if(!i)return;const e=o[i];Array.isArray(e)&&c(e)}),[o,c,i]);const d=(0,s.useCallback)((n=>{const s=n.target;let d=n.clientX;t.current?.classList.add(x.c.columnResizing);const u=n=>{const i=n.clientX-d;if(0===i)return;d=n.clientX;const r=a?-1:1,o=s.closest('[role="columnheader"]');let l=o,c=e,u=(l?.clientWidth??0)+r*i,m=!!l&&"none"===getComputedStyle(l).display;for(;l&&!Y(m,u,r*i>0);)m||c--,l=l.previousElementSibling,u=(l?.clientWidth??0)+r*i,m=!!l&&"none"===getComputedStyle(l).display;let p=o?.nextElementSibling,h=e+1,g=(p?.clientWidth??0)-r*i,f=!!p&&"none"===getComputedStyle(p).display;for(;p&&!Y(f,g,r*i<0);)f||h++,p=p.nextElementSibling,g=(p?.clientWidth??0)-r*i,f=!!p&&"none"===getComputedStyle(p).display;l&&p&&(t.current.style.setProperty(`--col${c}`,`${Math.max(u,z)}px`),t.current.style.setProperty(`--col${h}`,`${Math.max(g,z)}px`))};document.addEventListener("mouseup",(()=>{t.current?.classList.remove(x.c.columnResizing),(()=>{if(!r.current)return;const e=r.current.closest('[role="row"]'),t=Array.from(e.children).map((e=>e.clientWidth));i?l({...o,[i]:t}):c(t)})(),document.removeEventListener("mousemove",u)}),{once:!0}),document.addEventListener("mousemove",u)}),[o,e,a,l,c,i,t]);return(0,N.jsx)("div",{ref:r,onMouseDown:d,className:x.c.resizeHandle})};var q=n(63780),Q=n(77808);const X=()=>{},$={[j.y.INDEX]:()=>(0,N.jsx)(N.Fragment,{children:"#"}),[j.y.TITLE_AND_ARTIST]:({className:e,children:t,onSort:n,as:s="div",alternativeText:i,columnIndex:o})=>(0,N.jsxs)(s,{className:r()(x.c.column,e),onClick:()=>n(j.y.TITLE_AND_ARTIST,o),children:[(0,N.jsx)(M.a,{variant:"bodySmall",className:"standalone-ellipsis-one-line",children:i||a._s.get("tracklist.header.title")}),t]}),[j.y.TITLE]:B,[j.y.PLAYS]:()=>(0,N.jsx)(M.a,{variant:"bodySmall",className:x.c.playsHeader,children:a._s.get("tracklist.header.plays")}),[j.y.ADDED_BY]:({className:e,children:t,onSort:n,as:s="div",columnIndex:i})=>(0,N.jsxs)(s,{className:r()(x.c.column,e),onClick:()=>n(j.y.ADDED_BY,i),children:[(0,N.jsx)(M.a,{variant:"bodySmall",className:"standalone-ellipsis-one-line",children:a._s.get("tracklist.header.added-by")}),t]}),[j.y.ADDED_AT]:({className:e,children:t,onSort:n,as:s="div",columnIndex:i})=>(0,N.jsxs)(s,{className:r()(x.c.column,e),onClick:()=>n(j.y.ADDED_AT,i),children:[(0,N.jsx)(M.a,{variant:"bodySmall",className:"standalone-ellipsis-one-line",children:a._s.get("tracklist.header.date-added")}),t]}),[j.y.RELEASE_DATE]:({className:e,children:t,as:n="div"})=>(0,N.jsxs)(n,{className:r()(x.c.column,e),children:[(0,N.jsx)(M.a,{variant:"bodySmall",className:r()("standalone-ellipsis-one-line",e),children:a._s.get("tracklist.header.release-date")}),t]}),[j.y.DURATION]:({className:e,children:t,onSort:n,as:s="div",columnIndex:i})=>(0,N.jsx)(F.Yl,{label:a._s.get("tracklist.header.duration"),children:(0,N.jsxs)(s,{"aria-label":a._s.get("tracklist.header.duration"),className:r()(x.c.column,x.c.durationHeader,e),onClick:()=>n(j.y.DURATION,i),children:[t,(0,N.jsx)(U.i,{size:"small"})]})}),[j.y.EVENT_DATE]:G,[j.y.EVENT_INFO]:G,[j.y.CONCERT_DATE]:({className:e,children:t,as:n="div"})=>(0,N.jsxs)(n,{className:r()(x.c.column,e),children:[(0,N.jsx)(M.a,{variant:"bodySmall",className:r()("standalone-ellipsis-one-line",e),children:a._s.get("tracklist.header.date")}),t]}),[j.y.CONCERT_VENUE]:({className:e,children:t,as:n="div"})=>(0,N.jsxs)(n,{className:r()(x.c.column,e),children:[(0,N.jsx)(M.a,{variant:"bodySmall",className:r()("standalone-ellipsis-one-line",e),children:a._s.get("tracklist.header.venue")}),t]}),[j.y.ACTIONS]:({className:e})=>(0,N.jsx)("div",{"aria-label":a._s.get("tracklist.header.actions"),className:r()(x.c.column,x.c.actionsHeader,e)}),[j.y.ALBUM]:({className:e,children:t,onSort:n,as:s="div",columnIndex:i})=>(0,N.jsxs)(s,{className:r()(x.c.column,e),onClick:()=>n(j.y.ALBUM,i),children:[(0,N.jsx)(M.a,{variant:"bodySmall",className:"standalone-ellipsis-one-line",children:a._s.get("tracklist.header.album")}),t]}),[j.y.ALBUM_OR_PODCAST]:({className:e,children:t,onSort:n,as:s="div",columnIndex:i})=>(0,N.jsxs)(s,{className:r()(x.c.column,e),onClick:()=>n(j.y.ALBUM_OR_PODCAST,i),children:[(0,N.jsx)(M.a,{variant:"bodySmall",className:r()("standalone-ellipsis-one-line",e),children:a._s.get("tracklist.header.album-or-podcast")}),t]}),[j.y.ALBUM_OR_SHOW]:({className:e,children:t,onSort:n,as:s="div",columnIndex:i})=>(0,N.jsxs)(s,{className:r()(x.c.column,e),onClick:()=>n(j.y.ALBUM_OR_SHOW,i),children:[(0,N.jsx)(M.a,{variant:"bodySmall",className:r()("standalone-ellipsis-one-line",e),children:a._s.get("music_and_talk.album_or_show")}),t]}),[j.y.ARTIST]:({className:e,children:t,onSort:n,as:s="div",columnIndex:i})=>(0,N.jsxs)(s,{className:r()(x.c.column,e),onClick:()=>n(j.y.ARTIST,i),children:[(0,N.jsx)(M.a,{variant:"bodySmall",className:"standalone-ellipsis-one-line",children:a._s.get("card.tag.artist")}),t]}),[j.y.TITLE_AND_AUTHOR]:B,[j.y.AUTHOR]:({className:e,children:t,as:n="div"})=>(0,N.jsxs)(n,{className:r()(x.c.column,e),children:[(0,N.jsx)(M.a,{variant:"bodySmall",className:"standalone-ellipsis-one-line",children:a._s.get("shared.library.sort-by.author")}),t]}),get[j.y.ADD](){throw Error("Add has no corresponding column header component")}},J=(e,t,n,s,i,o,l)=>(c,d,u)=>{const p=(0,I.IP)(D.M9k),h=((e,t,n)=>t.column!==j.y.TITLE&&t.column!==j.y.ARTIST||e!==j.y.TITLE_AND_ARTIST?n.has(e)?t.column!==e?j.g.NONE:t.order:j.g.NONE:t.order)(c,t,e),g=$[c],f=e.has(c),y=f?n:X,_=(0,R.kB)(h),b=(0,R.im)(h);let v;_&&(v="ascending"),b&&(v="descending"),h===j.g.NONE&&(v="none");const C=(0,R.kv)(c,t)?a._s.get("card.tag.artist"):void 0,E=(0,q.C)(d,c,u),T=(0,N.jsxs)(g,{className:r()({[x.c.sortable]:f}),onSort:y,alternativeText:C,as:f?"button":"div",columnIndex:d,children:[b&&(0,N.jsx)(S.a,{size:"small",semanticColor:"textBrightAccent",className:x.c.arrow,"aria-hidden":"true"}),_&&(0,N.jsx)(w.s,{size:"small",className:x.c.arrow,semanticColor:"textBrightAccent","aria-hidden":"true"})]}),k=E!==m.AB&&E!==m.sP;return(0,N.jsxs)(E,{role:"columnheader",ariaColIndex:d,ariaSort:v,children:[o&&c!==j.y.INDEX?(0,N.jsx)(A.UF,{menu:(0,N.jsx)(L,{initialFocusColumn:c}),children:(0,N.jsx)("div",{"":"column-header-context-menu",children:T})}):T,k&&p&&(0,N.jsx)(K,{index:d,tracklistRef:s,hasIndex:i,columnPersistenceKey:l})]},c)},Z=parseInt(W.c.TRACKLIST_HEADER_HEIGHT,10),ee=({columns:e,sortableColumns:t,onSort:n,sortState:s,tracklistRef:i,top:a=Q.QJ,columnPersistenceKey:l})=>{const c=(0,d.Iz)(),u=(0,I.IP)(D.egq),m=isNaN(Z)?100:Z,{ref:p,inView:h}=(0,E.cD)({threshold:[1],root:c.current,rootMargin:`-${a+1}px 100000px ${m}px 100000px`,initialInView:!0}),g=e.some((e=>e===j.y.INDEX));return(0,N.jsx)("div",{className:r()(x.c.trackListHeader,{[x.c.trackListHeaderStuck]:!h}),ref:p,style:{top:a},children:(0,N.jsx)(o.QJ,{rowIndex:0,className:r()(x.c.trackListHeaderRow,x.c.trackListRowGrid),children:e.map(J(t,s,n,i,g,u,l))})})},te={column:null,order:j.g.NONE},ne=20,se=56,ie=(e,t,n)=>{const s=t?1:0;return e<504?Math.min(2+s,n):e<728?Math.min(3+s,n):e<984?Math.min(4+s,n):e<1208?Math.min(5+s,n):Math.min(6+s,n)};function re({resolveItem:e,tracks:t,nrTracks:n,fetchTracks:i,limit:r=100,onNrValidItemsChange:a,...o}){const{getItems:c,nrValidItems:d,invalidateCache:u,cacheAll:m,hasItems:p}=(0,l.W)({nrItems:n,fetch:i,limit:r,initialItems:t});return(0,s.useLayoutEffect)((()=>{a?.(d)}),[d,a]),(0,N.jsx)(v.M,{resolveItem:e,getItems:c,nrTracks:d,children:(0,N.jsx)(oe,{...o,resolveItem:e,getItems:c,nrTracks:d,invalidateCache:u,cacheAll:m,hasItems:p})})}const ae=(e,t)=>(e?32:se)+(t?8:0);function oe({nrTracks:e,renderRow:t,sortableColumns:n=new Set,sortState:i=te,onSort:l=(()=>{}),onRemove:g=(()=>{}),canFetchAllTracks:y=!1,rowPlaceholder:_=m.S4,hasHeaderRow:b=!1,columns:E,outerRef:S,outerDomRef:w,ariaLabel:I,testID:A="track-list",resolveItem:T,headerTop:k,getItems:O,invalidateCache:P,cacheAll:L,hasItems:R,isConcertPlaylist:D,isQueuePanelTracklist:M,isCompactMode:U=!1,columnPersistenceKey:F,className:B}){const G=(0,d.Iz)(),{getSelected:V}=(0,s.useContext)(v.q),H=(0,s.useRef)(null),W=(0,s.useRef)({firstIndex:-1,lastIndex:-1}),[z,Y]=(0,s.useState)(E.length),K=w??H,q=E.includes(j.y.INDEX),Q=a._s.getLocaleForTranslation()===a.u2.ar,X=ae(U,Q),{handleDelete:$}=C(K,y,L,g),J=(0,s.useCallback)((()=>{if(!K.current)return;const e=K.current.offsetWidth,t=ie(e,q,E.length);Y(t)}),[E,q,K]);(0,u.m)({refOrElement:K,observeOnly:"width",onResize:J}),(0,s.useLayoutEffect)((()=>{J()}),[J]),(0,p.u)(K);const Z=(0,s.useCallback)((e=>{G.current&&(G.current.scrollTop=e*X)}),[G,X]),se=(0,s.useCallback)((t=>{if(y&&t.length>0){const n=[];L().then((()=>{O(0,e).forEach(((e,s)=>{if(e){const{uri:i,uid:r}=T(e,s);t.some((e=>e.uid===r||e.uri===i))&&n.push(s)}})),n.length>0&&Z(Math.min(...n))})).catch((e=>{console.error(e)}))}}),[L,y,O,e,T,Z]),re=(0,s.useCallback)((()=>{const e=V();se(e.map((({uid:e})=>({uid:e}))))}),[V,se]);f(re);const oe=(0,s.useCallback)((()=>W.current),[]);(0,s.useImperativeHandle)(S,(()=>({update:()=>P(),getRows:()=>O(0,e,{cachedOnly:!0}),scrollToItem:e=>se([e]),getSelected:V,scrollToIndex:Z,getVisibleTrackWindow:oe})));const le=(0,h.a)((()=>$())),ce=(0,s.useCallback)(((e,t)=>(0,N.jsx)(_,{height:e},t)),[_]);return(0,N.jsxs)(o.wL,{"aria-rowcount":e+Number(b),"aria-colcount":z,"aria-label":I,ref:K,className:r()(B,{[x.c.trackList]:!D,[x.c.indexable]:q,[x.c.delayedVisibility]:!R,[x.c.concertTrackList]:D,[x.c.queuePanelTracklist]:M,[x.c.trackListCompactMode]:U}),onKeyDown:le,"":A,children:[b&&(0,N.jsx)(ee,{columns:E,sortableColumns:n,sortState:i,onSort:l,top:k,tracklistRef:K,columnPersistenceKey:F}),(0,N.jsx)(c.C,{renderRows:(e,n)=>{Math.max(n-e+1,0)>0&&(W.current={firstIndex:e,lastIndex:n});return O(e,n).map(((n,s)=>n?t(n,e+s):ce(`${X}px`,`${e+s}`)))},nrRows:e,rowHeight:X,scrollNodeRef:G,nrRowsOverscan:ne,renderPlaceholder:ce})]})}const le=s.memo(re);var ce=n(63928),de=n(46216)},63928:(e,t,n)=>{"use strict";n.d(t,{I2:()=>N,A5:()=>Ce,Sc:()=>Re,Yn:()=>pe,E9:()=>ke,WG:()=>je,eS:()=>Pe,rl:()=>Ae,sh:()=>Ie,iQ:()=>De});n(41260);var s=n(96651),i=n(46948),r=n(80296),a=n(12100),o=n(87832),l=n(39132),c=n(45748),d=n(29764),u=n(63780),m=n(24620),p=n(70480),h=n(17556),g=n(41436),f=n(81604),y=n(50060),_=n(40636),b=n(57148),v=n(42300),x=n(15700),C=n(52184),E=n(56684),S=n(11732),w=n(24300),I=n(79596),A=n(45060),T=n(94496),k=n(2488);const N=s.memo((function({uri:e,name:t,isPlayable:n,duration_ms:s,artists:N,isExplicit:O,isMOGEFRestricted:P,index:j,trackNumber:L,playcount:R,shouldHighLight:D=!1,contextUri:M,uid:U,usePlayContextItem:F,isReleased:B=!0,isCompactMode:G=!1,hasAssociatedVideo:V=!1}){const{spec:H}=(0,_.gp)(r.C,{data:{position:j,reason:"",uri:e}}),W=(0,c.w)(),z=(0,y._)(e),Y=(0,C.E)(e,n),{badges:K,hasBadges:q}=(0,b.C)({downloadAvailability:z,isExplicit:O,isMOGEFRestricted:P,hasAssociatedVideo:V}),Q=N.map((e=>e.name)).join(a._s.getSeparator()),X=e=>e.map((e=>({...e,key:e.uri}))),{isActive:$,isPlaying:J,triggerPlay:Z,togglePlay:ee}=F({uid:U,uri:e,index:j}),te=(0,x.m)();return(0,k.jsx)(f.oL,{value:"row",index:j,children:(0,k.jsx)(o.SM,{trigger:"right-click",action:"open",menu:B&&(0,k.jsx)(E.k,{uri:e,albumUri:M,artists:X(N),contextUri:M}),preventScrollingWhileOpen:B,children:(0,k.jsx)(A.i,{uri:e,contextUri:M,isPlayable:Y,index:j,isActive:$,onTriggerPlay:(e,t)=>{Z({loggingParams:t})},ageRestricted:P,ariaRowIndex:j+1,dragMetadata:{name:t,createdBy:Q},initialSelectedState:D,spec:H,draggable:B,isCompactMode:G,children:W.map(((n,r)=>{const o=(0,u.C)(r,n,W);switch(n){case d.y.INDEX:return(0,k.jsx)(o,{ariaColIndex:r,children:(0,k.jsx)(w.ae,{uri:e,playAriaLabel:a._s.get("tracklist.a11y.play",t,Q),onClick:(e,t)=>{ee({loggingParams:t})},isPlaying:J,isActive:$,spec:H,isLocked:!B,children:(0,k.jsx)(w.iq,{children:L})})},r);case d.y.TITLE_AND_ARTIST:return(0,k.jsx)(o,{ariaColIndex:r,children:(0,k.jsxs)(w.yY,{children:[te&&B?(0,k.jsx)(S.Link,{to:e,className:T.c.rowTitle,"":"internal-track-link",children:(0,k.jsx)(w.Ml,{titleText:t,children:t})}):(0,k.jsx)(w.Ml,{titleText:t,children:t}),q&&(0,k.jsxs)(w.MV,{children:[K.download&&(0,k.jsx)(p.g,{}),K.explicit&&(0,k.jsx)(h.C,{}),K.nineteen&&(0,k.jsx)(g.o,{className:T.c.nineteen,size:16}),K.hasAssociatedVideo&&(0,k.jsx)(m.Q,{})]}),(0,k.jsx)(w.aU,{children:(0,k.jsx)(w.ui,{artists:N.map((e=>({uri:e.uri,name:e.name}))),spec:H})})]})},r);case d.y.TITLE:return(0,k.jsx)(o,{ariaColIndex:r,children:(0,k.jsxs)(w._e,{children:[te&&B?(0,k.jsx)(S.Link,{to:e,className:T.c.rowTitle,"":"internal-track-link",children:(0,k.jsx)(w.Ml,{titleText:t,children:t})}):(0,k.jsx)(w.Ml,{titleText:t,children:t}),q&&(0,k.jsxs)(w.MV,{children:[K.download&&(0,k.jsx)(p.g,{}),K.explicit&&(0,k.jsx)(h.C,{}),K.nineteen&&(0,k.jsx)(g.o,{className:T.c.nineteen,size:16}),K.hasAssociatedVideo&&(0,k.jsx)(m.Q,{separator:""})]})]})},r);case d.y.ARTIST:return(0,k.jsx)(o,{ariaColIndex:r,children:(0,k.jsx)(l.I,{children:(0,k.jsx)(w.ui,{artists:N.map((e=>({uri:e.uri,name:e.name}))),spec:H})})},r);case d.y.PLAYS:return(0,k.jsx)(o,{ariaColIndex:r,children:(0,k.jsx)(I.Y,{playcount:R})},r);case d.y.DURATION:return(0,k.jsxs)(o,{ariaColIndex:r,children:[B&&(0,k.jsx)(v.K,{uri:e,spec:H}),(0,k.jsx)(w.U$,{duration:s}),B?(0,k.jsx)(w.op,{menu:(0,k.jsx)(E.k,{uri:e,albumUri:M,artists:X(N)}),label:a._s.get("more.label.track",t,Q),spec:H}):(0,k.jsx)(i.GW,{size:"small"})]},r);default:return null}}))})})})}),((e,t)=>e.uri===t.uri&&e.isCompactMode===t.isCompactMode));n(73952),n(97296);var O=n(4564),P=n(33220),j=n(62459),L=n(40384),R=n(57024),D=n(30700),M=n(68060),U=n(14788),F=n(4732),B=n(65076),G=n(23652),V=n(52588),H=n(43619),W=n(88168),z=n(52276),Y=n(40068),K=n(92292),q=n(71464),Q=n(40700),X=n(97334),$=n(94768),J=n(78808),Z=n(64928),ee=n(8004),te=n(89060);const ne=({concertsCount:e="1",concertDate:t,concertURI:n,index:s,spec:i})=>{const r=(0,_.Mk)(),o=()=>{const e=i.eventLinkFactory({position:s,uri:n,reason:"Concerts Near You Employee test"}).hitUiNavigate({destination:n});r.logInteraction(e)},l=a._s.formatDate((0,te._z)(t),{month:"short",day:"numeric"});return"1"===e?(0,k.jsx)(ee.a,{className:T.c.eventDate,variant:"bodySmall",semanticColor:"textSubdued",children:(0,k.jsx)(S.Link,{to:n,onClick:o,children:l})}):(0,k.jsx)(ee.a,{className:T.c.eventDate,variant:"bodySmall",semanticColor:"textSubdued",children:(0,k.jsx)(S.Link,{to:n,onClick:o,children:a._s.get("concerts_near_you.date",e,l)})})};var se=n(11765),ie=n(7296);const re=({eventDate:e,ticketingSiteURL:t})=>{const n=(0,ie.w)(),s=a._s.formatDate((0,te._z)(e),{year:"numeric",month:"short",day:"numeric"}),i=a._s.get("tracklist.livestream");return(0,te._z)(e)<new Date?(0,k.jsx)(ee.a,{className:T.c.eventDate,variant:"bodySmall",semanticColor:"textSubdued",children:`${i} • ${s}`}):(0,k.jsx)(ee.a,{className:T.c.eventDate,variant:"bodySmall",semanticColor:"textSubdued",children:(0,k.jsxs)("a",{href:t,onClick:()=>{n({targetUri:t,intent:"navigate",type:"click"})},children:[(0,k.jsx)(se.s,{className:T.c.eventTicketIcon,height:19}),`${i} • ${s}`]})})},ae=({concertsCount:e="1",concertVenue:t,concertURI:n,index:s,spec:i})=>{const r=(0,_.Mk)(),o="1"===e?t:a._s.get("concerts_near_you.multiple_locations");return(0,k.jsx)(ee.a,{className:T.c.eventVenue,variant:"bodySmall",semanticColor:"textSubdued",children:(0,k.jsx)(S.default,{to:n,onClick:()=>{const e=i.eventLinkFactory({position:s,uri:n,reason:"Concerts Near You Employee test"}).hitUiNavigate({destination:n});r.logInteraction(e)},children:o})})};var oe=n(74712),le=n(7300),ce=n(46003);const de=({uri:e,imageUrl:t,displayName:n,username:s,piled:i,onClick:r})=>{const a=(0,k.jsx)(oe.C,{images:[{url:t,width:null,height:null}],label:n,width:24,userIconSize:"small",piled:i,displayName:n,username:s,className:T.c.facepileAvatar});return e?(0,k.jsx)(le.U,{menu:(0,k.jsx)(ce.Y,{uri:e}),children:(0,k.jsx)(S.Link,{className:T.c.facepile,to:e,onClick:r,children:a})}):(0,k.jsx)("span",{className:T.c.facepile,children:a})},ue=({users:e,spec:t})=>{const n=(0,_.Mk)();return(0,k.jsx)(s.Fragment,{children:e.slice(0,5).map(((e,s)=>(0,k.jsx)(de,{uri:e.uri,imageUrl:(0,Y.C)(e.images)?.url||"",displayName:e.displayName,username:e.username,piled:s>0,onClick:()=>{if(!t||!e.uri)return;const i=t.addedByLinkFactory({position:s,uri:e.uri}).hitUiNavigate({destination:e.uri});n.logInteraction(i)}},e.uri||e.displayName)))})},me=e=>e?.type===H.s.SHOW,pe=s.memo((function({uri:e,uid:t,name:n,duration_ms:i,artists:I,albumOrShow:N,isMOGEFRestricted:H,isExplicit:ee,isPlayable:te,isLocal:se=!1,isPaywalled:ie,isUserSubscribed:oe,index:le,playIndex:ce=null,isMixedMedia:de,addedBy:pe,hasDecoratedAddedBy:he,dateAdded:ge,release_date:fe,type:ye,imgUrl:_e,contextUri:be,onMove:ve,onInsert:xe,usePlayContextItem:Ce,allowedDropTypes:Ee,feedbackPath:Se,feedbackUri:we,deleteFeedbackPath:Ie,isDisliked:Ae,ticketingSiteURL:Te="",eventDate:ke,concertsCount:Ne,concertDate:Oe,concertURI:Pe="",concertVenue:je,isConcert:Le,isBlend:Re=!1,canRemove:De,onFeedbackClick:Me,playlistName:Ue,authorName:Fe,isOutOfMarket:Be,consumptionCapExplanation:Ge,isOwnedBySelf:Ve=!1,isCompactMode:He=!1,hasAssociatedVideo:We=!1}){const ze=(0,_.Mk)(),{spec:Ye}=(0,_.gp)(r.C,{data:{position:le,reason:"",uri:e}}),Ke=(0,O.OY)(),qe=(0,P.i6)(),{filter:Qe}=(0,s.useContext)(J.on),Xe=(0,y._)(e),$e=(0,C.E)(e,te,se,Be),Je=(0,c.w)(),{enqueueSnackbar:Ze}=(0,K.u)(),et="episode"===ye,tt="audiobook"===ye,nt="track"!==ye&&me(N)&&N.mediaType===W.v.VIDEO,st=ie&&!oe,it=tt&&st,{badges:rt,hasBadges:at}=(0,b.C)({downloadAvailability:Xe,isExplicit:ee,isMOGEFRestricted:H,isPaywalled:ie,hasAssociatedVideo:We}),ot=(0,x.m)(),lt=()=>{const e=Ye.eventLinkFactory({position:le,uri:Pe,reason:"Concerts Near You Employee test"}).hitUiNavigate({destination:Pe});ze.logInteraction(e)};let ct=le+1;de&&(ct=nt?(0,k.jsx)(j.O,{"":"video-icon",size:"small","aria-hidden":"true"}):et?(0,k.jsx)(L.s,{"":"podcast-icon",size:"small","aria-hidden":"true"}):tt?(0,k.jsx)(R.K,{"":"audiobook-icon",size:"small","aria-hidden":"true"}):(0,k.jsx)(D.S,{"":"track-icon",size:"small","aria-hidden":"true"}));let dt=(0,k.jsx)(E.k,{uri:e,uid:t,albumUri:N?.uri,artists:I,contextUri:be,canBeRemovedFromPlaylist:De});et?dt=(0,k.jsx)(q.y,{uri:e,uid:t,showUri:N?.uri,contextUri:be,canBeRemovedFromPlaylist:De}):se?dt=(0,k.jsx)(Q.Y,{uri:e,uid:t,contextUri:be,canBeRemovedFromPlaylist:De}):tt&&(dt=(0,k.jsx)(B.y,{uri:e,uid:t,contextUri:be,includeGoToAudiobook:!0,canBeRemovedFromPlaylist:De}));let ut=I?.map((e=>e.name)).join(a._s.getSeparator())||"";et&&me(N)?ut=N.publisher:tt&&(ut=Fe||"");const mt=pe?.[0],pt=(0,Y.C)(mt?.images,{desiredWidth:24,desiredLabel:"small"}),ht=(0,V.I)({uri:e},{featureIdentifier:"playlist"}),gt=Ce({uid:t,uri:e,index:ce??le}),{isActive:ft,isPlaying:yt,triggerPlay:_t,togglePlay:bt}=tt?ht:gt,vt=()=>(0,k.jsx)(w.Ml,{titleText:n,children:(0,k.jsx)($.S,{searchWords:[Qe],textToHighlight:n})}),xt=(0,s.useCallback)(((e,t)=>{tt&&Ge?Ke((0,F.uG)(Ge)):_t({loggingParams:t})}),[Ge,Ke,tt,_t]),Ct=(0,s.useCallback)(((t,n)=>{tt&&Ge?Ke((0,F.uG)(Ge)):it?qe((0,U.nX)(e).toURLPath(!0)):bt({loggingParams:n})}),[Ge,Ke,tt,qe,bt,it,e]);return(0,k.jsx)(f.oL,{value:"row",index:le,children:(0,k.jsx)(X.i,{renderInline:!1,enabled:!0,showUri:N?.uri,children:(t,s)=>(0,k.jsx)(o.UF,{menu:dt,children:(0,k.jsx)(A.i,{uri:e,contextUri:be,index:le,onTriggerPlay:xt,isCompactMode:He,onTriggerPaywall:t=>{it?qe((0,U.nX)(e).toURLPath(!0)):s(t)},onDoubleClick:()=>{tt?qe((0,U.nX)(e).toURLPath(!0)):Ze(a._s.get("feedback.unable-to-play"))},isLocked:st,isActive:ft,ariaRowIndex:le+1,isPlayable:$e,ageRestricted:H,dragMetadata:{name:n,createdBy:ut},onMove:ve,onInsert:xe,allowedDropTypes:Ee,spec:Ye,canRemovePlaylistItems:De,children:Je.map(((t,s)=>{const r=(0,u.C)(s,t,Je);return(0,k.jsx)(r,{ariaColIndex:s,children:(()=>{switch(t){case d.y.INDEX:return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(X.i,{showUri:N?.uri??"",renderInline:!1,enabled:st,children:(0,k.jsx)(w.ae,{uri:e,playAriaLabel:a._s.get("tracklist.a11y.play",n,ut),onClick:Ct,isPlaying:yt,isActive:ft,isLocked:st,spec:Ye,children:(0,k.jsx)(w.iq,{children:ct})})})});case d.y.TITLE_AND_ARTIST:case d.y.TITLE_AND_AUTHOR:return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(w.Oy,{src:_e,isVideo:nt,isEpisode:et}),(0,k.jsxs)(w.yY,{children:[ot||tt?(0,k.jsx)(S.Link,{to:e,className:T.c.rowTitle,"":"internal-track-link",children:vt()}):vt(),at&&(0,k.jsxs)(w.MV,{children:[rt.download&&(0,k.jsx)(p.g,{}),rt.explicit&&(0,k.jsx)(h.C,{}),rt.paid&&(0,k.jsx)(G.a,{}),rt.nineteen&&(0,k.jsx)(g.o,{className:T.c.nineteen,size:16}),rt.hasAssociatedVideo&&(0,k.jsx)(m.Q,{})]}),(0,k.jsxs)(w.aU,{children:[!et&&!nt&&I&&(0,k.jsx)(Z.K,{nonInteractive:se,artists:I,filter:Qe,spec:Ye}),(et||tt)&&!nt&&ut]})]})]});case d.y.TITLE:return(0,k.jsxs)(w._e,{children:[ot||tt?(0,k.jsx)(S.Link,{to:e,className:T.c.rowTitle,"":"internal-track-link",children:vt()}):vt(),at&&(0,k.jsxs)(w.MV,{children:[rt.download&&(0,k.jsx)(p.g,{}),rt.explicit&&(0,k.jsx)(h.C,{}),rt.paid&&(0,k.jsx)(G.a,{}),rt.nineteen&&(0,k.jsx)(g.o,{className:T.c.nineteen,size:16}),rt.hasAssociatedVideo&&(0,k.jsx)(m.Q,{separator:""})]})]});case d.y.ARTIST:case d.y.AUTHOR:return(0,k.jsxs)(l.I,{children:[!et&&!nt&&I&&(0,k.jsx)(Z.K,{nonInteractive:se,artists:I,filter:Qe,spec:Ye}),(et||tt)&&!nt&&ut]});case d.y.ALBUM_OR_PODCAST:case d.y.ALBUM:return N?(0,k.jsx)(w.MZ,{nonInteractive:se,uri:N.uri,name:N.name,creatorUri:I?.[0]?.uri,spec:Ye,children:(0,k.jsx)($.S,{searchWords:[Qe],textToHighlight:N.name})}):null;case d.y.ADDED_BY:return(0,k.jsx)(k.Fragment,{children:Re?(0,k.jsx)(ue,{users:pe,spec:Ye}):(0,k.jsx)(w.OQ,{name:mt?.displayName||mt?.username||"",isCompactMode:He,uri:mt?.uri||"",imageUrl:pt?.url||"",showAvatar:he,spec:Ye})});case d.y.RELEASE_DATE:return(0,k.jsx)(k.Fragment,{children:et&&(0,k.jsx)(w.Cc,{releaseDate:fe})});case d.y.EVENT_DATE:return(0,k.jsx)(k.Fragment,{children:ke&&Te?(0,k.jsx)(f.oL,{value:"ticket-link",children:(0,k.jsx)(re,{eventDate:ke,ticketingSiteURL:Te})}):null});case d.y.CONCERT_DATE:return(0,k.jsx)(k.Fragment,{children:Oe?(0,k.jsx)(f.oL,{value:"ticket-link",children:(0,k.jsx)(ne,{concertsCount:Ne,concertDate:Oe,concertURI:Pe,index:le,spec:Ye})}):null});case d.y.EVENT_INFO:case d.y.CONCERT_VENUE:return(0,k.jsx)(k.Fragment,{children:je&&Pe?(0,k.jsx)(f.oL,{value:"ticket-link",children:(0,k.jsx)(ae,{concertsCount:Ne,concertVenue:je,concertURI:Pe,index:le,spec:Ye})}):null});case d.y.ADDED_AT:return(0,k.jsx)(k.Fragment,{children:ge?(0,k.jsx)(w.uS,{dateAdded:new Date(ge)}):null});case d.y.DURATION:return(0,k.jsxs)(k.Fragment,{children:[Se&&Ie&&(0,k.jsx)(w.CU,{isDisliked:Ae,feedbackPath:Se,deleteFeedbackPath:Ie,feedbackUri:we||e,onClick:Me,name:Ue,contextUri:be}),!nt&&!Be&&(0,k.jsx)(v.K,{uri:e,spec:Ye,type:ye,isOwnedBySelf:Ve}),Le&&(0,k.jsx)(S.Link,{to:Pe,onClick:lt,children:(0,k.jsx)(M.o,{className:T.c.eventTicketIcon,height:19})}),(0,k.jsx)(w.U$,{duration:i}),(0,k.jsx)(w.op,{menu:dt,label:a._s.get("more.label.track",n,ut),spec:Ye})]});case d.y.ACTIONS:case d.y.ADD:case d.y.ALBUM_OR_SHOW:case d.y.PLAYS:return null;default:(0,z.E)(t)}return null})()},`column-${s}`)}))})})})})}),((e,t)=>e.uri===t.uri&&e.allowedDropTypes.length===t.allowedDropTypes.length&&e.isPlayable===t.isPlayable&&e.isMixedMedia===t.isMixedMedia&&e.consumptionCapExplanation===t.consumptionCapExplanation&&e.isCompactMode===t.isCompactMode));var he=n(10124),ge=n.n(he),fe=n(71912),ye=n(32040),_e=n(12529);let be=function(e){return e.DOWN="DOWN",e.UP="UP",e.EQUAL="EQUAL",e.NEW="NEW",e}({});const ve={[be.DOWN]:()=>(0,k.jsx)(fe.a,{size:"small",className:T.c.statusChangeDown}),[be.UP]:()=>(0,k.jsx)(ye.s,{size:"small",className:T.c.statusChangeUp}),[be.NEW]:()=>(0,k.jsx)(_e.E,{className:T.c.notificationDot}),[be.EQUAL]:()=>null},xe=({status:e,number:t})=>{const n=ve[e];return(0,k.jsxs)("div",{className:ge()(T.c.rowChartStatus),children:[(0,k.jsx)(ee.a,{variant:"bodyMedium",children:t}),(0,k.jsx)(n,{})]})},Ce=s.memo((function({uri:e,name:t,duration_ms:n,artists:s,album:i,isMOGEFRestricted:o,isExplicit:l,isPlayable:N,uid:O,index:P,contextUri:j,imgUrl:L,statusChange:R,playCount:D,usePlayContextItem:M,isCompactMode:U}){const{spec:F}=(0,_.gp)(r.C,{data:{position:P,reason:"",uri:e}}),B=(0,c.w)(),G=(0,x.m)(),{isActive:V,isPlaying:H,triggerPlay:W,togglePlay:Y}=M({uid:O,uri:e,index:P}),K=(0,y._)(e),q=(0,C.E)(e,N),{badges:Q,hasBadges:X}=(0,b.C)({downloadAvailability:K,isExplicit:l,isMOGEFRestricted:o}),$=s?.map((e=>e.name)).join(a._s.getSeparator())||"";return(0,k.jsx)(f.oL,{value:"row",index:P,children:(0,k.jsx)(le.U,{menu:(0,k.jsx)(E.k,{uri:e,albumUri:i?.uri,artists:s}),children:(0,k.jsx)(A.i,{uri:e,contextUri:j,index:P,onTriggerPlay:(e,t)=>{W({loggingParams:t})},isActive:V,ariaRowIndex:P+1,isPlayable:q,ageRestricted:o,dragMetadata:{name:t,createdBy:$},allowedDropTypes:[],spec:F,isCompactMode:U,children:B.map(((r,o)=>{const l=(0,u.C)(o,r,B);return(0,k.jsx)(l,{ariaColIndex:o,children:(()=>{switch(r){case d.y.INDEX:return(0,k.jsx)(w.ae,{uri:e,className:T.c.rowMarkerChartStatus,playAriaLabel:a._s.get("tracklist.a11y.play",t,$),onClick:(e,t)=>{Y({loggingParams:t})},isPlaying:H,isActive:V,spec:F,children:R?(0,k.jsx)(xe,{number:P+1,status:R}):(0,k.jsx)(w.iq,{children:P+1})});case d.y.TITLE_AND_ARTIST:case d.y.TITLE_AND_AUTHOR:return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(w.Oy,{src:L}),(0,k.jsxs)(w.yY,{children:[(0,k.jsx)(w.Ml,{titleText:t,children:t}),X&&(0,k.jsxs)(w.MV,{children:[Q.download&&(0,k.jsx)(p.g,{}),Q.explicit&&(0,k.jsx)(h.C,{}),Q.nineteen&&(0,k.jsx)(g.o,{className:T.c.nineteen,size:16})]}),(0,k.jsx)(w.aU,{children:(0,k.jsx)(w.ui,{artists:s,spec:F})})]})]});case d.y.TITLE:return(0,k.jsxs)(w._e,{children:[G?(0,k.jsx)(S.default,{to:e,className:T.c.rowTitle,"":"internal-track-link",children:(0,k.jsx)(w.Ml,{titleText:t,children:t})}):(0,k.jsx)(w.Ml,{titleText:t,children:t}),X&&(0,k.jsxs)(w.MV,{children:[Q.download&&(0,k.jsx)(p.g,{}),Q.explicit&&(0,k.jsx)(h.C,{}),Q.nineteen&&(0,k.jsx)(g.o,{className:T.c.nineteen,size:16}),Q.hasAssociatedVideo&&(0,k.jsx)(m.Q,{})]})]});case d.y.ARTIST:case d.y.AUTHOR:return(0,k.jsx)(w.Iz,{children:s&&(0,k.jsx)(Z.K,{artists:s,spec:F})});case d.y.PLAYS:return(0,k.jsx)(I.Y,{playcount:D});case d.y.ALBUM_OR_PODCAST:case d.y.ALBUM:return(0,k.jsx)(w.MZ,{uri:i.uri,name:i.name,creatorUri:s?.[0]?.uri,spec:F,children:i.name});case d.y.DURATION:return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(v.K,{uri:e,spec:F}),(0,k.jsx)(w.U$,{duration:n}),(0,k.jsx)(w.op,{menu:(0,k.jsx)(E.k,{uri:e,albumUri:i?.uri,artists:s}),label:a._s.get("more.label.track",t,$),spec:F})]});case d.y.ADDED_BY:case d.y.ADDED_AT:case d.y.RELEASE_DATE:case d.y.ACTIONS:case d.y.ALBUM_OR_SHOW:case d.y.EVENT_DATE:case d.y.EVENT_INFO:case d.y.CONCERT_DATE:case d.y.CONCERT_VENUE:case d.y.ADD:return null;default:(0,z.E)(r)}return null})()},`column-${o}`)}))})})})}),((e,t)=>e.uri===t.uri&&e.isCompactMode===t.isCompactMode));var Ee=n(55148),Se=n(15580),we=n(12312);const Ie=s.memo((function({uri:e,name:t,duration:n,album:s,artists:i,index:o,imgUrl:l,isPlayable:c,isExplicit:d,is19PlusOnly:u,requestId:S,isLyricsMatch:I,hasAssociatedVideo:N}){const{isActive:O,isPlaying:P,triggerPlay:j,togglePlay:L}=(0,V.I)({uri:e},{featureIdentifier:"search",referrerIdentifier:"search"}),{spec:R}=(0,_.gp)(r.C,{data:{position:o,reason:S??"",uri:e}}),D=(0,y._)(e),M=(0,C.E)(e,c),{badges:U,hasBadges:F}=(0,b.C)({downloadAvailability:D,isExplicit:d,isMOGEFRestricted:u,hasAssociatedVideo:N}),B=(i||[]).map((e=>e.name)).join(a._s.getSeparator()),G=(0,x.m)(),H=(0,Se._)(),W=G||H;return(0,k.jsx)(f.oL,{value:"row",index:o,children:(0,k.jsx)(le.U,{menu:(0,k.jsx)(E.k,{uri:e,artists:i,contextUri:e,albumUri:s?.uri}),children:(0,k.jsxs)(A.i,{uri:e,contextUri:e,index:o,ariaRowIndex:o,onTriggerPlay:(e,t)=>{j({loggingParams:t})},isActive:O,isPlayable:M,ageRestricted:u,dragMetadata:{name:t,createdBy:B},spec:R,children:[(0,k.jsxs)(w.I9,{ariaColIndex:0,children:[(0,k.jsx)(w.gh,{uri:e,src:l,onClick:(e,t)=>{L({loggingParams:t})},isLocked:!1,isPlaying:P,isActive:O,playAriaLabel:a._s.get("tracklist.a11y.play",t,B),spec:R}),(0,k.jsxs)(w.yY,{children:[(0,k.jsx)(we.a,{enabled:W,uri:e,className:T.c.rowTitle,children:(0,k.jsx)(w.Ml,{titleText:t,children:t})}),F&&(0,k.jsxs)(w.MV,{children:[U.download&&(0,k.jsx)(p.g,{}),U.explicit&&(0,k.jsx)(h.C,{}),U.nineteen&&(0,k.jsx)(g.o,{className:T.c.nineteen,size:16}),U.hasAssociatedVideo&&(0,k.jsx)(m.Q,{})]}),(0,k.jsxs)(w.aU,{children:[(0,k.jsx)(w.ui,{artists:i,spec:R}),I&&(0,k.jsx)(Ee.W,{})]})]})]}),(0,k.jsxs)(w.sP,{ariaColIndex:1,children:[(0,k.jsx)(v.K,{uri:e,spec:R}),(0,k.jsx)(w.U$,{duration:n.milliseconds}),(0,k.jsx)(w.op,{menu:(0,k.jsx)(E.k,{uri:e,artists:i,contextUri:e,albumUri:s?.uri}),label:a._s.get("more.label.track",t,B),spec:R})]})]})})})}),((e,t)=>e.uri===t.uri&&e.index===t.index)),Ae=s.memo((function({uri:e,name:t,duration:n,artists:s,album:i,isExplicit:o,is19PlusOnly:l,isPlayable:c,index:d,imgUrl:u,requestId:S,isLyricsMatch:I,hasAssociatedVideo:N}){const{isActive:O,isPlaying:P,triggerPlay:j,togglePlay:L}=(0,V.I)({uri:e},{featureIdentifier:"search",referrerIdentifier:"search"}),{spec:R}=(0,_.gp)(r.C,{data:{position:d,reason:S??"",uri:e}}),D=(0,y._)(e),M=(0,C.E)(e,c),{badges:U,hasBadges:F}=(0,b.C)({downloadAvailability:D,isExplicit:o,isMOGEFRestricted:l,hasAssociatedVideo:N}),B=s?.map((e=>e.name)).join(a._s.getSeparator())||"",G=(0,x.m)(),H=(0,Se._)(),W=G||H;return(0,k.jsx)(f.oL,{value:"row",index:d,children:(0,k.jsx)(le.U,{menu:(0,k.jsx)(E.k,{uri:e,albumUri:i?.uri,artists:s,contextUri:e}),children:(0,k.jsxs)(A.i,{uri:e,contextUri:e,onTriggerPlay:(e,t)=>{j({loggingParams:t})},isActive:O,index:d,ariaRowIndex:d+1,isPlayable:M,ageRestricted:l,dragMetadata:{name:t,createdBy:B},spec:R,children:[(0,k.jsx)(w.AB,{ariaColIndex:0,children:(0,k.jsx)(w.ae,{uri:e,playAriaLabel:a._s.get("tracklist.a11y.play",t,B),onClick:(e,t)=>{L({loggingParams:t})},isPlaying:P,isActive:O,spec:R,children:(0,k.jsx)(w.iq,{children:d+1})})}),(0,k.jsxs)(w.I9,{ariaColIndex:1,children:[(0,k.jsx)(w.Oy,{src:u}),(0,k.jsxs)(w.yY,{children:[(0,k.jsx)(we.a,{enabled:W,uri:e,className:T.c.rowTitle,children:(0,k.jsx)(w.Ml,{titleText:t,children:t})}),F&&(0,k.jsxs)(w.MV,{children:[U.download&&(0,k.jsx)(p.g,{}),U.explicit&&(0,k.jsx)(h.C,{}),U.nineteen&&(0,k.jsx)(g.o,{className:T.c.nineteen,size:16}),U.hasAssociatedVideo&&(0,k.jsx)(m.Q,{})]}),(0,k.jsxs)(w.aU,{children:[(0,k.jsx)(w.ui,{artists:s,spec:R}),I&&(0,k.jsx)(Ee.W,{})]})]})]}),(0,k.jsx)(w.sv,{ariaColIndex:2,children:(0,k.jsx)(w.MZ,{uri:i?.uri||"",name:i?.name||"",creatorUri:s?.[0]?.uri,spec:R,children:i?.name})}),(0,k.jsxs)(w.sP,{ariaColIndex:3,children:[(0,k.jsx)(v.K,{uri:e,spec:R}),(0,k.jsx)(w.U$,{duration:n.milliseconds}),(0,k.jsx)(w.op,{menu:(0,k.jsx)(E.k,{uri:e,albumUri:i?.uri,artists:s,contextUri:e}),label:a._s.get("more.label.track",t,B),spec:R})]})]})})})}),((e,t)=>e.uri===t.uri));var Te=n(84340);const ke=s.memo((function({uri:e,name:t,totalMilliseconds:n,artists:s,isPlayable:i,contentRating:o,imageUrl:l,albumUri:c,contextUri:d,index:u,playcount:N,usePlayContextItem:O,hasAssociatedVideo:P}){const{spec:j}=(0,_.gp)(r.C,{data:{position:u,reason:"",uri:e}}),{isActive:L,isPlaying:R,triggerPlay:D,togglePlay:M}=O({uri:e,index:u}),U=(0,y._)(e),F=(0,C.E)(e,i),{badges:B,hasBadges:G}=(0,b.C)({downloadAvailability:U,contentRating:o,hasAssociatedVideo:P}),V=o===Te.A7.NineteenPlus,H=s.map((e=>e.name)).join(a._s.getSeparator()),W=(0,x.m)();return(0,k.jsx)(f.oL,{value:"row",index:u,children:(0,k.jsx)(le.U,{menu:(0,k.jsx)(E.k,{uri:e,contextUri:d,albumUri:c,artists:s}),children:(0,k.jsxs)(A.i,{uri:e,onTriggerPlay:(e,t)=>{D({loggingParams:t})},isActive:L,contextUri:d,isPlayable:F,ageRestricted:V,dragMetadata:{name:t,createdBy:H},index:u,ariaRowIndex:u,spec:j,children:[(0,k.jsx)(w.AB,{ariaColIndex:0,children:(0,k.jsx)(w.ae,{uri:e,playAriaLabel:a._s.get("tracklist.a11y.play",t,H),isPlaying:R,isActive:L,onClick:(e,t)=>{M({loggingParams:t})},spec:j,children:(0,k.jsx)(w.iq,{children:u+1})})}),(0,k.jsxs)(w.I9,{ariaColIndex:1,children:[(0,k.jsx)(w.Oy,{src:l}),(0,k.jsxs)(w.yY,{children:[W?(0,k.jsx)(S.Link,{to:e,className:T.c.rowTitle,"":"internal-track-link",children:(0,k.jsx)(w.Ml,{titleText:t,children:t})}):(0,k.jsx)(w.Ml,{titleText:t,children:t}),G&&(0,k.jsxs)(w.MV,{children:[B.download&&(0,k.jsx)(p.g,{}),B.explicit&&(0,k.jsx)(h.C,{}),B.nineteen&&(0,k.jsx)(g.o,{className:T.c.nineteen,size:16}),B.hasAssociatedVideo&&(0,k.jsx)(m.Q,{separator:""})]})]})]}),(0,k.jsx)(w.sv,{ariaColIndex:2,children:(0,k.jsx)(I.Y,{playcount:N})}),(0,k.jsxs)(w.sP,{ariaColIndex:3,children:[(0,k.jsx)(v.K,{uri:e,spec:j}),(0,k.jsx)(w.U$,{duration:n}),(0,k.jsx)(w.op,{menu:(0,k.jsx)(E.k,{uri:e,albumUri:c,contextUri:d,artists:s}),label:a._s.get("more.label.track",t,H),spec:j})]})]})})})}),((e,t)=>e.uri===t.uri));var Ne=n(49612),Oe=n(40104);const Pe=s.memo((function({uid:e,uri:t,name:n,imgUrl:i,artists:o,isExplicit:l,index:c,album:d,contextUri:u,isPlayable:m,isMOGEFRestricted:I,usePlayContextItem:N,durationMs:O,shouldRenderDuration:P,internalLink:j}){const{spec:L,logger:R}=(0,_.gp)(r.C,{data:{position:c,reason:"",uri:t}}),D=(0,s.useMemo)((()=>u.replace("internal:recs:","")),[u]),M=(0,ie.w)(),{addItems:U}=(0,Oe.Q3)(D),{isActive:F,isPlaying:B,triggerPlay:G,togglePlay:V}=N({uid:e,uri:t,index:c}),H=(0,s.useCallback)((()=>{R.logInteraction(L.addButtonFactory().hitAddToPlaylist({playlist:D,itemToBeAdded:t})),U([t],{after:"end"}),M({type:"click",intent:"add-to-playlist",itemIdSuffix:"playlist/add",targetUri:D})}),[R,L,D,t,U,M]),W=(0,y._)(t),z=(0,C.E)(t,m),Y=o.map((e=>e.name)).join(a._s.getSeparator()),{badges:K,hasBadges:q}=(0,b.C)({downloadAvailability:W,isExplicit:l,isMOGEFRestricted:I}),Q=P&&O,X=o.map((e=>e.name)).join(a._s.getSeparator()),$=(0,x.m)();return(0,k.jsx)(f.oL,{value:"row",index:c,children:(0,k.jsx)(le.U,{menu:(0,k.jsx)(E.k,{uri:t,albumUri:d.uri,artists:o,contextUri:u}),children:(0,k.jsxs)(A.i,{uri:t,contextUri:u,isPlayable:z,onTriggerPlay:(e,t)=>{G({loggingParams:t})},isActive:F,ageRestricted:I,index:c,ariaRowIndex:c,dragMetadata:{name:n,createdBy:Y},spec:L,className:T.c.isRecommendedTrackListRow,children:[(0,k.jsxs)(w.I9,{ariaColIndex:0,children:[(0,k.jsx)(w.gh,{uri:t,src:i,onClick:(e,t)=>{V({loggingParams:t})},isLocked:!1,isPlaying:B,isActive:F,playAriaLabel:a._s.get("tracklist.a11y.play",n,Y),spec:L}),(0,k.jsxs)(w.yY,{children:[j&&$?(0,k.jsx)(S.default,{to:t,className:T.c.rowTitle,"":"internal-track-link",children:(0,k.jsx)(w.Ml,{titleText:n,children:n})}):(0,k.jsx)(w.Ml,{titleText:n,children:n}),q&&(0,k.jsxs)(w.MV,{children:[K.explicit&&(0,k.jsx)(h.C,{}),K.download&&(0,k.jsx)(p.g,{}),K.nineteen&&(0,k.jsx)(g.o,{className:T.c.nineteen,size:16})]}),(0,k.jsx)(w.aU,{children:(0,k.jsx)(w.ui,{artists:o,spec:L})})]})]}),(0,k.jsx)(w.sv,{ariaColIndex:1,children:(0,k.jsx)(w.MZ,{uri:d.uri,name:d.name,creatorUri:o?.[0]?.uri,spec:L,children:d.name})}),(0,k.jsx)(w.sv,{ariaColIndex:2,children:(0,k.jsx)("span",{})}),(0,k.jsxs)(w.sP,{ariaColIndex:3,children:[Q?(0,k.jsx)(v.K,{uri:t}):null,Q?(0,k.jsx)(w.U$,{duration:O,dataTestId:"render-duration"}):(0,k.jsx)(Ne.w,{size:"small",onClick:H,"aria-label":a._s.get("addToPlaylist-icon.label"),"":"add-to-playlist-button",children:a._s.get("playlist.extender.button.add")}),Q?(0,k.jsx)(w.op,{menu:(0,k.jsx)(E.k,{uri:t,albumUri:d.uri,contextUri:u,artists:o}),label:a._s.get("more.label.track",n,X)}):null]})]})})})}),((e,t)=>e.uid===t.uid&&e.uri===t.uri&&e.index===t.index)),je=s.memo((function({uid:e,uri:t,isPlayable:n,isMOGEFRestricted:i,isExplicit:r,contextUri:o,name:l,imgUrl:c,index:d,podcast:u,usePlayContextItem:m}){const _=(0,s.useMemo)((()=>o.replace("internal:recs:","")),[o]),v=(0,ie.w)(),{addItems:x}=(0,Oe.Q3)(_),{isActive:E,isPlaying:S,triggerPlay:I,togglePlay:N}=m({uid:e,uri:t,index:d}),O=(0,s.useCallback)((()=>{x([t],{after:"end"}),v({type:"click",intent:"add-to-playlist",itemIdSuffix:"playlist/add",targetUri:_})}),[x,t,v,_]),P=(0,y._)(t),j=(0,C.E)(t,n),{badges:L,hasBadges:R}=(0,b.C)({downloadAvailability:P,isExplicit:r,isMOGEFRestricted:i});return(0,k.jsx)(f.oL,{value:"row",index:d,children:(0,k.jsx)(le.U,{menu:(0,k.jsx)(q.y,{uri:t,contextUri:o}),children:(0,k.jsxs)(A.i,{uri:t,contextUri:t,isPlayable:j,onTriggerPlay:()=>{I()},isActive:E,ageRestricted:i,index:d,ariaRowIndex:d,dragMetadata:{name:l,createdBy:u.name},children:[(0,k.jsxs)(w.I9,{ariaColIndex:0,children:[(0,k.jsx)(w.gh,{uri:t,src:c,onClick:()=>{N()},isLocked:!1,isPlaying:S,isActive:E,isEpisode:!0,playAriaLabel:a._s.get("tracklist.a11y.play",l,u.name)}),(0,k.jsxs)(w.yY,{children:[(0,k.jsx)(w.Ml,{titleText:l,children:l}),R&&(0,k.jsxs)(w.MV,{children:[L.download&&(0,k.jsx)(p.g,{}),L.explicit&&(0,k.jsx)(h.C,{}),L.nineteen&&(0,k.jsx)(g.o,{className:T.c.nineteen,size:16})]})]})]}),(0,k.jsx)(w.sv,{ariaColIndex:1,children:(0,k.jsx)(w.MZ,{uri:u.uri,name:u.name,children:u.name})}),(0,k.jsx)(w.sP,{ariaColIndex:2,children:(0,k.jsx)(Ne.w,{size:"small",onClick:O,children:a._s.get("playlist.extender.button.add")})})]})})})}),((e,t)=>e.uid===t.uid&&e.uri===t.uri&&e.index===t.index));var Le=n(15368);const Re=({discNumber:e})=>(0,k.jsxs)("div",{className:ge()(T.c.trackListRowGrid,T.c.discRow),children:[(0,k.jsx)(w.AB,{ariaColIndex:0,children:(0,k.jsx)("div",{className:T.c.rowMarker,children:(0,k.jsx)(w.iq,{children:(0,k.jsx)(Le.M,{size:"small"})})})}),(0,k.jsx)(w.I9,{ariaColIndex:1,children:(0,k.jsx)(w.yY,{children:(0,k.jsx)(w.IN,{children:a._s.get("tracklist.disc-sperator.title",e)})})})]}),De=s.memo((function({uri:e,name:t,duration_ms:n,artists:s,album:i,contextUri:o,isExplicit:l,isMOGEFRestricted:c,isPlayable:d,index:u,imgUrl:m,usePlayContextItem:x}){const{spec:S}=(0,_.gp)(r.C,{data:{position:u,reason:"",uri:e}}),{isActive:I,isPlaying:N,triggerPlay:O,togglePlay:P}=x({uri:e,index:u}),j=(0,y._)(e),L=(0,C.E)(e,d),{badges:R,hasBadges:D}=(0,b.C)({downloadAvailability:j,isExplicit:l,isMOGEFRestricted:c}),M=s?.map((e=>e.name)).join(a._s.getSeparator())||"";return(0,k.jsx)(f.oL,{value:"row",index:u,children:(0,k.jsx)(le.U,{menu:(0,k.jsx)(E.k,{uri:e,albumUri:i.uri,artists:s,contextUri:o}),children:(0,k.jsxs)(A.i,{uri:e,contextUri:o,onTriggerPlay:(e,t)=>{O({loggingParams:t})},isActive:I,index:u,ariaRowIndex:u+1,isPlayable:L,ageRestricted:c,dragMetadata:{name:t,createdBy:M},spec:S,children:[(0,k.jsx)(w.AB,{ariaColIndex:0,children:(0,k.jsx)(w.ae,{uri:e,playAriaLabel:a._s.get("tracklist.a11y.play",t,M),isPlaying:N,isActive:I,onClick:(e,t)=>{P({loggingParams:t})},spec:S,children:(0,k.jsx)(w.iq,{children:u+1})})}),(0,k.jsxs)(w.I9,{ariaColIndex:1,children:[(0,k.jsx)(w.Oy,{src:m}),(0,k.jsxs)(w.yY,{children:[(0,k.jsx)(w.Ml,{titleText:t,children:t}),D&&(0,k.jsxs)(w.MV,{children:[R.download&&(0,k.jsx)(p.g,{}),R.explicit&&(0,k.jsx)(h.C,{}),R.nineteen&&(0,k.jsx)(g.o,{className:T.c.nineteen,size:16})]}),(0,k.jsx)(w.aU,{children:(0,k.jsx)(w.ui,{artists:s,spec:S})})]})]}),(0,k.jsx)(w.sv,{ariaColIndex:2,children:(0,k.jsx)(w.MZ,{uri:i.uri,name:i.name,creatorUri:s?.[0]?.uri,spec:S,children:i.name})}),(0,k.jsxs)(w.sP,{ariaColIndex:3,children:[(0,k.jsx)(v.K,{uri:e,spec:S}),(0,k.jsx)(w.U$,{duration:n}),(0,k.jsx)(w.op,{menu:(0,k.jsx)(E.k,{uri:e,albumUri:i.uri,artists:s,contextUri:o}),label:a._s.get("more.label.track",t,M),spec:S})]})]})})})}),((e,t)=>e.uri===t.uri));n(60592)},29764:(e,t,n)=>{"use strict";n.d(t,{g:()=>i,y:()=>s});let s=function(e){return e.INDEX="INDEX",e.TITLE="TITLE",e.TITLE_AND_ARTIST="TITLE_AND_ARTIST",e.ARTIST="ARTIST",e.PLAYS="PLAYS",e.ADDED_BY="ADDED_BY",e.ADDED_AT="ADDED_AT",e.RELEASE_DATE="RELEASE_DATE",e.ACTIONS="ACTIONS",e.DURATION="DURATION",e.ALBUM="ALBUM",e.ALBUM_OR_PODCAST="ALBUM_OR_PODCAST",e.ALBUM_OR_SHOW="ALBUM_OR_SHOW",e.EVENT_DATE="EVENT_DATE",e.EVENT_INFO="EVENT_INFO",e.CONCERT_DATE="CONCERT_DATE",e.CONCERT_VENUE="CONCERT_VENUE",e.TITLE_AND_AUTHOR="TITLE_AND_AUTHOR",e.AUTHOR="AUTHOR",e.ADD="ADD",e}({}),i=function(e){return e[e.NONE=0]="NONE",e[e.ASC=1]="ASC",e[e.DESC=2]="DESC",e[e.SECONDARY_ASC=3]="SECONDARY_ASC",e[e.SECONDARY_DESC=4]="SECONDARY_DESC",e}({})},63780:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});var s=n(24300),i=n(29764);const r=(e,t,n)=>{let r=s.sv;return 0===e&&t===i.y.INDEX?r=s.AB:1===e&&n[0]===i.y.INDEX||0===e?r=s.I9:e===n.length-1&&(r=s.sP),r}},21492:(e,t,n)=>{"use strict";n.d(t,{W:()=>o,Q:()=>g});var s=n(45808);let i=function(e){return e.STREAM_SIGNAL="userFraudStreamSignal",e}({});class r extends s.u{}const a=new r;function o(e,t){a.emit(i.STREAM_SIGNAL,{event:e,action:t})}var l=n(96651),c=n(3080),d=n(47020),u=n(49232),m=n(57800),p=n(15040),h=n(21712);const g=()=>{const e=(0,u.IP)(p.oR8,{loadingValue:null}),t=(0,m.mg)(),{isTrustedRef:n,isTrustedFn:s,metadataRef:r}=(0,h.S)();(0,l.useEffect)((()=>{if(!e)return;const o=({data:e})=>{const{action:i,event:a}=e;s(a).then((()=>{t.send((0,d.I)({action:i,page:location.pathname,metadata:{...r.current,"navigator.appVersion":navigator.appVersion,wd:`${navigator.webdriver}`,t:n.current?"":" "}})),n.current||t.send((0,c.V)({action:i,page:location.pathname}))}))};return a.addListener(i.STREAM_SIGNAL,o),()=>{a.removeListener(i.STREAM_SIGNAL,o)}}),[e,t,s,n,r])}},21712:(e,t,n)=>{"use strict";n.d(t,{S:()=>U});var s=n(96651),i=n(24368),r=n.n(i);function a(){return"Chrome"===r().parse(navigator.userAgent).browser.name}function o(){return"Firefox"===r().parse(navigator.userAgent).browser.name}function l(){return"Microsoft Edge"===r().parse(window.navigator.userAgent).browser.name}var c=n(11560);function d(){return"webkitRequestAnimationFrame"in window}function u(){return!!window?.CSS?.supports}function m(){return!u()||CSS.supports("-webkit-border-vertical-spacing","0")}function p(){return eval.toString().length}const h=56.1124478168614,g=56.1124478168614,f=56.1124478168614,y=56.11244781686139;function _(){return Math.hypot(-24.42,-50.519999999999925)}function b(){const{userAgent:e,appVersion:t}=navigator,n=t??"";return/headless/i.test(e)||/headless/i.test(n)}var v=n(8484),x=n(87204);function C(){return(0,v.i)()===x.I.ChromeOS}function E(){return eval.toString().length}const S=33,w=33,I=37,A=37;const T=async()=>{if(navigator.webdriver)return!1;if(b())return!1;if(a()&&!await async function(){if(!window.chrome)return!1;if(!navigator.plugins?.length)return!1;if(""===navigator.languages)return!1;if(E()!==S)return!1;const e=await navigator.permissions.query({name:"notifications"});return"denied"!==window?.Notification?.permission||"prompt"!==e.state}())return!1;if(o()&&E()!==I)return!1;if((0,c.q)()&&E()!==A)return!1;if(l()&&E()!==w)return!1;const{userAgent:e}=navigator;if(!function(e,t){if(!("platform"in t))return!0;if(C())return!0;const{platform:n}=t,s=function(e){const[t]=e.split(" "),n={MacIntel:"macOS",Win32:"Windows",Win64:"Windows",Linux:"Linux"};return t in n?n[t]:""}(n);if(!s)return!0;const{os:i}=r().parse(e);return s===i.name}(e,navigator))return!1;const t=Object.keys(document);for(const e of t)if(e.startsWith("$cdc_"))return!1;return!0};let k;const N=async()=>(k=k??await T(),k);function O(){return p()===I&&_()===y&&(!u()||CSS.supports("-moz-box-sizing","content-box"))&&"mozInnerScreenX"in window}function P(){return!(a()&&!(window.chrome&&p()===S&&_()===h&&m()&&d()))&&(!(o()&&!O())&&(!!(!(0,c.q)()||p()===A&&_()===f&&m()&&d())&&!!(!l()||p()===w&&_()===g&&m()&&d())))}async function j(){return navigator.webdriver||b()||function(){const e=Object.keys(document);for(const t of e)if(t.startsWith("$cdc_"))return!0;return!1}()||""===navigator.languages||!(!navigator.plugins||navigator.plugins.length)||await async function(){if(!("permissions"in navigator))return!1;const e=await navigator.permissions.query({name:"notifications"});return"denied"===window?.Notification?.permission&&"prompt"===e.state}()}function L(){if(!("platform"in navigator))return!0;if(C())return!0;const{platform:e}=navigator,t=function(e){const[t]=e.split(" "),n={MacIntel:"macOS",Win32:"Windows",Win64:"Windows",Linux:"Linux"};return t in n?n[t]:""}(e);if(!t)return!0;const{os:n}=r().parse(navigator.userAgent);return t===n.name}let R,D=function(e){return e.Ok="0",e.Warning="1",e.Error="2",e}({});const M=async()=>(R=R??await async function(){return{headless:await j()?D.Error:D.Ok,browser:P()?D.Ok:D.Error,os:L()?D.Ok:D.Error}}(),R);function U(){const e=(0,s.useRef)(void 0),t=(0,s.useRef)(!1),n=(0,s.useRef)(!1),i=(0,s.useRef)({}),r=(0,s.useCallback)((async s=>{i.current=await M(),s?await N()&&s.isTrusted?"click"!==s.type?e.current=!0:n.current?e.current=t.current:e.current=!0:e.current=!1:e.current=await N()}),[]);return(0,s.useEffect)((()=>{function e(){t.current=!0}function s(e){n.current="mouse"===e.pointerType}return document.addEventListener("mousemove",e),document.addEventListener("pointerdown",s),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("pointerdown",s)}}),[]),{isTrustedRef:e,isTrustedFn:r,metadataRef:i}}},52751:(e,t,n)=>{"use strict";n.d(t,{Gk:()=>a,So:()=>r,kZ:()=>o});n(41260);var s=n(4552),i=n(21396);function r(e,t,n){if(!e)return void console.error("No grid element found. Canceling moving focus");if(!(0,i.KU)(e))return;const r=e.querySelector('[tabindex="0"]'),a=n?u:d;if(t===s.w.UP){const t=a(e,r,s.w.UP);if(!t)return;(0,i.BA)(r,l(r,t))}if(t===s.w.DOWN){const t=a(e,r,s.w.DOWN);if(!t)return;(0,i.BA)(r,l(r,t))}if(t===s.w.LEFT){const t=c(r,-1);if(t)return void(0,i.BA)(r,t);const n=a(e,r,s.w.LEFT);if(!n)return;const o=n.querySelectorAll(i.A5),l=o[o.length-1];(0,i.BA)(r,l)}if(t===s.w.RIGHT){const t=c(r,1);if(t)return void(0,i.BA)(r,t);const n=a(e,r,s.w.RIGHT);if(!n)return;const o=n.querySelectorAll(i.A5)[0];(0,i.BA)(r,o)}}function a(e){const t=e.closest('[role="grid"]');if(!t)return;const n=e.querySelectorAll(i.A5)[0],s=t.querySelector('[tabindex="0"]');(0,i.BA)(s,n)}function o(e,t,n){const s=e.querySelector(`[aria-rowindex="${t}"]`);if(!s)return void e.focus({preventScroll:!0});const r=s.querySelector(`[aria-colindex="${n}"]`);if(!r)return void a(s);const o=r.querySelectorAll(i.A5)[0],l=e.querySelector('[tabindex="0"]');(0,i.BA)(l,o)}function l(e,t){const n=e.closest("[aria-colindex]"),s=Array.from(n.querySelectorAll(i.A5)).indexOf(e),r=t.querySelectorAll(i.A5);return r[s]||r[0]}function c(e,t){const n=Array.from(e.closest("[aria-colindex]").querySelectorAll(i.A5)),s=n.findIndex((t=>t===e))+t;return n[s]}function d(e,t,n){const r=t.closest("[aria-rowindex]");if(n===s.w.DOWN){const n=Array.from(e.querySelectorAll("[aria-rowindex]")),s=t.closest("[aria-colindex]").getAttribute("aria-colindex");for(let e=n.indexOf(r)+1;e<n.length;e++){const t=n[e].querySelector(`[aria-colindex="${s}"]`);if((0,i.pZ)(t))return t}}if(n===s.w.UP){const n=Array.from(e.querySelectorAll("[aria-rowindex]")),s=n.indexOf(r),a=t.closest("[aria-colindex]").getAttribute("aria-colindex");for(let e=s-1;e>=0;e--){const t=n[e].querySelector(`[aria-colindex="${a}"]`);if((0,i.pZ)(t))return t}}if(n===s.w.LEFT){const e=Array.from(r.querySelectorAll("[aria-colindex]")),n=t.closest("[aria-colindex]");for(let t=e.indexOf(n)-1;t>=0;t--){const n=e[t];if((0,i.pZ)(n))return n}}if(n===s.w.RIGHT){const e=Array.from(r.querySelectorAll("[aria-colindex]")),n=t.closest("[aria-colindex]");for(let t=e.indexOf(n)+1;t<e.length;t++){const n=e[t];if((0,i.pZ)(n))return n}}return null}function u(e,t,n){if(n===s.w.DOWN){const n=t.closest("[aria-colindex]").getAttribute("aria-colindex"),s=t.closest("[aria-rowindex]").getAttribute("aria-rowindex"),r=Array.from(t.closest('[role="grid"]').querySelectorAll("[aria-rowindex]")).map((e=>parseInt(e.getAttribute("aria-rowindex")??"0",10))),a=parseInt(s,10),o=Math.max(...r);for(let t=a+1;t<=o;t+=1){const s=t,r=e.querySelector(`[aria-colindex="${n}"][aria-rowindex="${s}"]`);if((0,i.pZ)(r))return r}}if(n===s.w.UP){const n=t.closest("[aria-colindex]").getAttribute("aria-colindex"),s=t.closest("[aria-rowindex]").getAttribute("aria-rowindex");for(let t=parseInt(s,10)-1;t>=0;t-=1){const s=t,r=e.querySelector(`[aria-colindex="${n}"][aria-rowindex="${s}"]`);if((0,i.pZ)(r))return r}}if(n===s.w.LEFT){const n=t.closest("[aria-colindex]"),s=parseInt(n.getAttribute("aria-rowindex"),10),r=parseInt(n.getAttribute("aria-colindex"),10),a=Array.from(e.querySelectorAll(`[aria-rowindex="${s}"]`));for(let e=r-2;e>=0;e--){const t=a[e];if((0,i.pZ)(t))return t}}if(n===s.w.RIGHT){const n=t.closest("[aria-colindex]"),s=parseInt(n.getAttribute("aria-rowindex"),10),r=parseInt(n.getAttribute("aria-colindex"),10),a=Array.from(e.querySelectorAll(`[aria-rowindex="${s}"]`));for(let e=r;e<a.length;e++){const t=a[e];if((0,i.pZ)(t))return t}}return null}},16228:(e,t,n)=>{"use strict";n.d(t,{wL:()=>o,m_:()=>d,__:()=>m,QJ:()=>u});var s=n(96651),i=n(4552),r=n(52751);var a=n(2488);const o=s.forwardRef((function({children:e,className:t,onKeyDown:n=(()=>{}),isFluid:o=!1,...l},c){const d=(0,s.useRef)(null);(e=>{const t=(0,s.useRef)(null);(0,s.useEffect)((()=>{const n=e.current;if(!n)return()=>{};const s=e=>{const n=e.target;if(n instanceof HTMLElement){const e=parseInt(n.closest("[aria-rowindex]")?.getAttribute("aria-rowindex")??"",10),s=parseInt(n.closest("[aria-colindex]")?.getAttribute("aria-colindex")??"",10);t.current={target:n,rowIndex:e,colIndex:s}}};return n.addEventListener("focusout",s),()=>{n.removeEventListener("focusout",s)}}),[e]),(0,s.useEffect)((()=>{if(t.current&&e.current){const{target:n,rowIndex:s,colIndex:i}=t.current,a=e.current?.contains(n);!a&&Number.isInteger(s)&&Number.isInteger(i)&&(0,r.kZ)(e.current,s,i),t.current=null}}))})(d),(0,s.useImperativeHandle)(c,(()=>d.current));const u=(0,s.useCallback)((e=>{d.current?.contains(e.target)&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.preventDefault(),"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||document.documentElement.classList.remove("no-focus-outline"),"ArrowUp"===e.key&&(0,r.So)(d.current,i.w.UP,o),"ArrowDown"===e.key&&(0,r.So)(d.current,i.w.DOWN,o),"ArrowLeft"===e.key&&(0,r.So)(d.current,i.w.LEFT,o),"ArrowRight"===e.key&&(0,r.So)(d.current,i.w.RIGHT,o),n(e))}),[n,o]);return(0,a.jsx)("div",{ref:d,role:"grid","aria-rowcount":l["aria-rowcount"],"aria-colcount":l["aria-colcount"],"aria-label":l["aria-label"],className:t,onKeyDown:u,tabIndex:0,"":l["data-testid"],children:e})}));var l=n(74764);const c=e=>{(0,s.useEffect)((()=>{if(!e.current)return;let t=e.current.parentElement;do{if(!t)return;t.getAttribute("role")||t.setAttribute("role","presentation"),t=t.parentElement}while("grid"!==t?.getAttribute("role"))}),[e])},d=({children:e,columnIndex:t,className:n,...i})=>{const r=(0,s.useRef)(null);return(0,l.U)(r),c(r),(0,a.jsx)("div",{ref:r,className:n,role:"gridcell","aria-colindex":t+1,...i,children:e})},u=({children:e,rowIndex:t,className:n,"aria-selected":i})=>{const o=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const e=o.current,t=e=>{const t=e.currentTarget;t.contains(document.activeElement)||(0,r.Gk)(t)};return e&&e.addEventListener("click",t),()=>{e&&e.removeEventListener("click",t)}}),[]),(0,a.jsx)("div",{ref:o,className:n,role:"row","aria-rowindex":t+1,"aria-selected":i,children:e})},m=({children:e,ariaSort:t,columnIndex:n,className:i})=>{const r=(0,s.useRef)(null);return(0,l.U)(r),c(r),(0,a.jsx)("div",{ref:r,className:i,role:"columnheader","aria-colindex":n+1,...t?{"aria-sort":t}:{},tabIndex:-1,children:e})}},75380:(e,t,n)=>{"use strict";n.d(t,{_:()=>a,u:()=>o});var s=n(96651),i=n(74257);const r=(0,n(15596).e)((()=>({transferKey:null,timestamp:0}))),a=(e,t)=>{r.setState({transferKey:e,timestamp:Date.now(),focusOptions:t})},o=(e,t,n=1e3)=>{const{transferKey:a,timestamp:o,focusOptions:l}=(0,i.o3)(r);(0,s.useLayoutEffect)((()=>{null!==e&&e===a&&o>Date.now()-n&&t.current?.focus(l)}),[l,t,a,n,o,e])}},52864:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var s=n(96651);class i{constructor(e={}){this.settings={level:e.level||"polite",parent:e.parent||document.body,idPrefix:e.idPrefix||"live-region-",delay:e.delay||0},this.currentRegion=document.createElement("span")}say(e,t=this.settings.delay){this.clearNode(),this.currentRegion=document.createElement("span"),this.currentRegion.id=this.settings.idPrefix+Math.floor(1e4*Math.random());const n="assertive"!==this.settings.level?"status":"alert";this.currentRegion.setAttribute("aria-live",this.settings.level),this.currentRegion.setAttribute("role",n),this.currentRegion.setAttribute("style","clip: rect(1px, 1px, 1px, 1px); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px"),this.settings.parent.appendChild(this.currentRegion),window.setTimeout((()=>{this.currentRegion.textContent=e}),t)}clearNode(){const e=this.settings.parent.querySelector(`[id^="${this.settings.idPrefix}"]`);e&&this.settings.parent.removeChild(e)}}const r=({delay:e,idPrefix:t,level:n,parent:r}={})=>{const a=(0,s.useMemo)((()=>new i({delay:e,idPrefix:t,level:n,parent:r})),[e,t,n,r]);return(0,s.useEffect)((()=>()=>{a.clearNode()}),[a]),a}},81956:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var s=n(96651);const i=e=>{const[t,n]=(0,s.useState)(null);(0,s.useEffect)((()=>{const t=e.current;if(!t)return()=>{};const s=({target:e})=>{e instanceof HTMLElement&&n(e)};return t.addEventListener("focusout",s),()=>{t.removeEventListener("focusout",s)}}),[e]),(0,s.useEffect)((()=>{const s=e.current;if(!t||!s)return;const i=s.contains(t),r=s.contains(document.activeElement);!i&&!r&&s.focus({preventScroll:!0}),n(null)}),[e,t])}},44848:e=>{e.exports={cast:{appId:"CC32E753"}}},77808:(e,t,n)=>{"use strict";n.d(t,{In:()=>a,QJ:()=>i,SO:()=>r,eY:()=>s});const s="isPlaybackBarRemainingTimeToggled",i=64,r=416,a=8},7644:(e,t,n)=>{"use strict";n.d(t,{GetAlbumDocument:()=>i,yw:()=>r});var s=n(88272);n(99972);const i=Spicetify.GraphQL.Definitions["getAlbum"]=new s.a("getAlbum","query","469874edcad37b7a379d4f22f0083a49ea3d6ae097916120d9bbe3e36ca79e9d",null),r=Spicetify.GraphQL.Definitions["queryAlbumTracks"]=new s.a("queryAlbumTracks","query","469874edcad37b7a379d4f22f0083a49ea3d6ae097916120d9bbe3e36ca79e9d",null)},73635:(e,t,n)=>{"use strict";n.d(t,{g:()=>w,Y:()=>I});var s=n(96651),i=n(12924),r=n(40468),a=n(12100),o=n(60016),l=n(66514),c=n(49812),d=n(99972),u=n(93948),m=n(8968),p=n(50060),h=n(7644),g=n(47824),f=n(13932),y=(n(73952),n(41260),n(99400),n(91372),n(43619)),_=n(52276),b=n(90128);const v=e=>({...e,uid:void 0,isSaved:!1,playcount:"0",linkedUri:e.uri}),x=e=>{switch(e){case"album":return b.s.Album;case"ep":return b.s.Ep;case"single":return b.s.Single;case"compilation":return b.s.Compilation;default:return(0,_.E)(e)}};var C=n(64852);const E=(e,t,n)=>{const{name:s}=h.GetAlbumDocument,i={uri:e,locale:t,offset:0,limit:50};return{queryKey:[s,i],queryFn:async()=>{const e=await(0,c.M)(n,h.GetAlbumDocument,i);return"Album"===e?.data?.albumUnion.__typename?(0,C.OS)(e?.data.albumUnion):null}}},S=e=>{const t=a._s.getLocaleForURLPath();return(0,g.W)({type:"link",uri:e})?`${o.Si}${t}`:""},w=e=>{const t=!(0,f.O)(),n=(0,p._)(e),i=(0,s.useContext)(u.g),[a,o]=(0,s.useState)(null),{request:c}=(0,s.useContext)(l.Q9),h=S(e),g=E(e,h,c),{data:_,isPending:b,error:C}=(0,r.U)({...g,gcTime:15*d.y,staleTime:5e3}),w=t&&n===m.If.YES;(0,s.useEffect)((()=>{w&&i.getAlbum(e).then((e=>o(e?(e=>{return{type:y.s.ALBUM,uri:e.uri,name:e.name,artists:(n=e.artists,n.map((e=>({type:y.s.ARTIST,name:e.name,images:[],uri:e.uri,id:e.uri})))),images:e.images,moreAlbumsByArtist:[],nrTracks:e.items.length,isPlayable:e.items.some((e=>e.isPlayable)),isCatalogueRestricted:!1,discs:{totalCount:0,items:[]},copyright:(t=e.copyrights,{totalCount:t.length,items:t}),albumType:x(e.albumType),duration:{durationMs:e.items.reduce(((e,t)=>e+t.duration.milliseconds),0),isEstimate:!1},releases:{totalCount:0,items:[]},extractedColors:null,courtesyLine:null,sharingInfo:null,items:e.items.map(v)};var t,n})(e):null)))}),[w,i,e]);return{loading:w?!a:b,error:C,data:w?a:_??null,canLoadOffline:w}},I=e=>{const{request:t}=(0,s.useContext)(l.Q9),n=(0,i.q$)(),r=S(e);return(0,s.useCallback)((()=>{const s=E(e,r,t);n.prefetchQuery(s)}),[n,t,r,e])}},23676:(e,t,n)=>{"use strict";n.d(t,{m:()=>s.m});var s=n(92144)},90128:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});let s=function(e){return e.Album="ALBUM",e.Audiobook="AUDIOBOOK",e.Compilation="COMPILATION",e.Ep="EP",e.Podcast="PODCAST",e.Single="SINGLE",e.Unknown="UNKNOWN",e}({})},64852:(e,t,n)=>{"use strict";n.d(t,{OS:()=>u,mI:()=>m});n(73952),n(41260),n(99400),n(91372);var s=n(84340),i=n(43619),r=n(52276),a=n(88376);const o=e=>(e||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),l=e=>{switch(e){case s.gh.Minute:case s.gh.Hour:case s.gh.Day:return"day";case s.gh.Month:return"month";case s.gh.Year:case void 0:return"year";default:return(0,r.E)(e)}},c=e=>{if(null!==e)return{date:e.isoString,precision:l(e.precision)}},d=e=>{return{type:i.s.TRACK,uid:e.uid,uri:e.track.uri,name:e.track.name,artists:(t=e.track.artists,t.items.map((e=>({uri:e.uri,name:e.profile.name})))),duration:{milliseconds:e.track.duration.totalMilliseconds},album:null,discNumber:e.track.discNumber,trackNumber:e.track.trackNumber,isPlayable:e.track.playability.playable,isLocal:!1,isExplicit:e.track.contentRating?.label===s.A7.Explicit,is19PlusOnly:e.track.contentRating?.label===s.A7.NineteenPlus,isSaved:e.track.saved,playcount:e.track.playcount??"",linkedUri:"Track"===e.track.relinkingInformation?.linkedTrack.__typename?e.track.relinkingInformation?.linkedTrack.uri:null,hasAssociatedVideo:(e.track.associations?.associatedVideos?.totalCount||0)>0};var t},u=e=>{const t={totalCount:e.discs.totalCount,items:e.discs.items.map((e=>({type:"AlbumDisc",discNumber:e.number,nrTracks:e.tracks.totalCount})))},n=e.tracks.items.map(d),r=(0,a.O)(n,t)||[];return{type:i.s.ALBUM,uri:e.uri,name:e.name,artists:(m=e.artists,m.items.map((e=>({type:i.s.ARTIST,name:e.profile.name,images:o(e.visuals.avatarImage?.sources),uri:e.uri,id:e.id})))),images:o(e.coverArt?.sources),moreAlbumsByArtist:(u=e.moreAlbumsByArtist,u?.items[0]?.discography?.popularReleasesAlbums?.items.map((e=>({type:i.s.ALBUM,uri:e.uri,albumType:e.type,name:e.name,images:o(e.coverArt?.sources),artists:[],sharingInfo:e.sharingInfo,year:e.date?.year})))),nrTracks:e.tracks.totalCount,isPlayable:e.tracks.items.some((e=>e.track.playability.playable)),isCatalogueRestricted:e.playability.reason===s.QG.CatalogueRestricted,discs:t,copyright:e.copyright,albumType:e.type,duration:(l=e.tracks,{durationMs:l.items.length>0?l.items.reduce(((e,t)=>e+t.track.duration.totalMilliseconds),0)/l.items.length*l.totalCount:0,isEstimate:l.items.length<l.totalCount}),releases:e.releases,extractedColors:e.coverArt?.extractedColors??null,courtesyLine:e.courtesyLine??null,sharingInfo:e.sharingInfo??null,release:c(e.date),items:r};var l,u,m},m=(e,t)=>{if("Album"!==e?.albumUnion?.__typename)return{items:[],totalLength:0};const n=e.albumUnion.tracks.items.map(d);return{items:(0,a.O)(n,t)||[],totalLength:(0,a.a)(t)?t.totalCount+e.albumUnion.tracks.totalCount:e.albumUnion.tracks.totalCount}}},88376:(e,t,n)=>{"use strict";n.d(t,{O:()=>i,a:()=>s});n(73952),n(99400);const s=e=>e.totalCount>=2&&e.totalCount<=10,i=(e,t)=>{if(!s(t)||!e)return e;let n=0;return e.reduce(((e,t)=>((t.trackNumber<n||1===t.trackNumber)&&e.push({type:"AlbumDisc",discNumber:t.discNumber,nrTracks:null}),e.push(t),n=t.trackNumber,e)),[])}},52112:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var s=n(49232),i=n(15040),r=n(5752),a=n(16928);function o(e){if(!(0,s.IP)(i.MdG,{loadingValue:!1}))return!1;if("string"==typeof e)return(0,r.A)(e);const t=e;return(0,a.gB)(t)||(0,a.sN)(t)}},61652:(e,t,n)=>{"use strict";n.d(t,{u:()=>s.u});var s=n(58112)},96160:(e,t,n)=>{"use strict";n.d(t,{E:()=>s.E});var s=n(52112)},13864:(e,t,n)=>{"use strict";n.d(t,{U:()=>_,I:()=>b});var s=n(96651),i=n(12924),r=n(40468),a=n(49232),o=n(12100),l=n(60016),c=n(66514),d=n(49812),u=n(99972);const m=new(n(88272).a)("queryArtistOverview","query","da986392124383827dc03cbb3d66c1de81225244b6e20f8d78f9f802cc43df6e",null);var p=n(47824),h=n(15040);const g=e=>{const t=o._s.getLocaleForURLPath();return(0,p.W)({type:"link",uri:e})?`${l.Si}${t}`:""},f=(e,t)=>[e,t],y=(e,t,n,s)=>async()=>(0,d.M)(s,m,{uri:e,locale:t,includePrerelease:n}),_=e=>{const t=g(e),{request:n}=(0,s.useContext)(c.Q9),i=(0,a.IP)(h.AVm),{data:o,isLoading:l,isFetching:d,error:m}=(0,r.U)({queryKey:f(e,t),queryFn:y(e,t,i,n),gcTime:5*u.y,staleTime:5*u.y});return{data:o?.data??null,extensions:o?.extensions,error:m??null,loading:l,fetching:d}},b=e=>{const{request:t}=(0,s.useContext)(c.Q9),n=(0,a.IP)(h.AVm),r=(0,i.q$)(),o=g(e);return(0,s.useCallback)((()=>{r.prefetchQuery({queryKey:f(e,o),queryFn:y(e,o,n,t),staleTime:5*u.y})}),[n,r,t,o,e])}},71328:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ArtistOffers:()=>_s,default:()=>zi});var s=n(96651),i=n(33220),r=n(31024),a=n(14788),o=(n(73952),n(97296),n(41260),n(10124)),l=n.n(o),c=n(12100),d=n(12980),u=n(92376),m=n(29384);const p="ZLNNoB2n5gQpMPa2h2NC",h="wy_w7LHOlNLD20lcqUCl";var g=n(64480),f=n(99972),y=n(88272);const _=Spicetify.GraphQL.Definitions["queryArtistRelatedVideos"]=new y.a("queryArtistRelatedVideos","query","eb5bde95cd8cb2aa369d6ec868c008f7e42e5e0cc810188ecc973c6c1b0e73cd",null);var b=n(42544),v=n(2488);const x=s.memo((function(){const{artistId:e=""}=(0,i.W4)(),t=(0,b.Ck)(e),{loading:n,error:s,data:r}=(a={uri:t},o={gcTime:15*f.y},(0,f.U)(_,a,o));var a,o;if(null===r||"Artist"!==r.artistUnion.__typename||"RelatedVideoPage"!==r.artistUnion.relatedVideos.__typename||s||n)return(0,v.jsx)(u.K,{hasError:null!==s,errorMessage:c._s.get("error.request-artist-related-videos")});const h=r.artistUnion.relatedVideos.items.filter((e=>"Track"===e.trackOfVideo.data.__typename));return(0,v.jsxs)("div",{className:l()("contentSpacing",p),children:[(0,v.jsx)(d.Q,{children:c._s.get("music_videos")}),(0,v.jsx)(m.y,{title:c._s.get("music_videos"),total:r.artistUnion.relatedVideos.totalCount,showAll:!0,children:h.map(((e,t)=>{if("Track"!==e.trackOfVideo.data.__typename)return null;const{data:n}=e.trackOfVideo;return(0,v.jsx)(g.MF,{title:n.name,trackUri:n.uri,artists:n.artists.items,album:n.albumOfTrack,contentRating:n.contentRating,referrerIdentifier:"other",index:t},t)}))})]})}));n(39568);var C=n(8004),E=n(92628),S=n(49232),w=n(79608),I=n(11732),A=n(40636),T=n(24544);const k="EPBWBmUPyLEpl4VJflaL",N="JFiowuVIURESjJJznyZx",O="P6CL1uHz_zTqst4gaAXQ",P="JEd1tp9FdtDLBOCRSVe0",j=e=>{const t=(0,A.Mk)(),n=(0,s.useMemo)((()=>e.spec.promoRowFactory()),[e.spec]),i=(0,A.K2)(n);return(0,v.jsxs)("div",{className:k,ref:i,children:[(0,v.jsx)(C.a,{as:"h2",variant:"bodyMediumBold",className:N,children:c._s.get("concerts.find_more")}),(0,v.jsx)(I.default,{to:"/concerts",className:O,onClick:()=>{const e=n.hitUiNavigate({destination:"spotify:app:concerts"});t.logInteraction(e)},children:(0,v.jsx)(E.a,{as:"span",selected:!0,children:c._s.get("concerts.find_nearby")})}),(0,v.jsx)("img",{className:P,alt:"",src:"https://i.scdn.co/image/ab676d63000076a07ce4a60e6015185a1c0edf08"})]})};var L=n(86524),R=n(37496);const D="xpUBYro3YQTRrHlOtDUG",M="RqzE7votb8N93rc_jcM1",U="FNDlk94hIuzTU46SX9XI",F="vy9zjnjiY17LMoE8NIXU",B="McNZLhuWvDVET5VU3isa",G="Y7ipyLdgXswfEfkyakDd",V="fPraNia968RT4uPMTi3A",H="us2rJWb_948b7dlVgBOe",W="GqNQN9feHja7Au6wOdLG",z="wjBvyzKbAJgD2BpyuHKP",Y="LkCU9WXlxfddrPDZZZ4J",K="LtyyKmwxLSSxcYCrRZJh",q="mIr00F_ZL6Nfv1NjMyzz",Q="kc6crrZKKENRmaIMtzIx",X="azrW1gfJbgz897iDaITJ",$="wYMCavuacjad59alV1BF",J="U7meWrHbAMHqpiK5oslu",Z="A6sC7UQiAsM__tCDUDW0",ee=(0,s.memo)((e=>{const{concert:t,onClick:n}=e,s=(0,L.mY)(t.startDate.localDate),i="ONLINE"===t.category,r=t.venue,a=t.location,o=i?r:`${r} • ${a}`,l=(0,S.IP)(T._m);return(0,v.jsxs)(I.Link,{to:`/concert/${t.id}`,className:F,onClick:n,"":"artist-concert-row",children:[(0,v.jsxs)("div",{className:B,"aria-hidden":!0,children:[(0,v.jsx)(C.a,{as:"span",variant:"bodySmallBold",className:G,children:(0,L.WQ)(s)}),(0,v.jsx)(C.a,{as:"span",variant:"titleSmall",className:V,children:(0,L.is)(s)})]}),(0,v.jsxs)("div",{className:H,children:[(0,v.jsxs)("div",{className:Z,children:[(0,v.jsx)(C.a,{as:"div",variant:"bodyMediumBold",className:W,"":"event-title",children:l?a:(0,R.cL)(t)}),l&&(0,v.jsx)(C.a,{as:"div",variant:"bodyMedium",className:z,children:(0,R.cL)(t)})]}),(0,v.jsxs)(C.a,{as:"span",variant:"bodyMedium",className:Y,children:[(0,L.Mb)(s)," • ",(0,L.HI)(s)]}),(0,v.jsx)(C.a,{as:"span",variant:"bodyMedium",className:K,"":"event-venue",children:l?r:o})]})]})})),te=(0,s.memo)((e=>{const{concerts:t,spec:n,locationName:i}=e,r=(0,A.Mk)(),a=(0,A.K2)(n),o=(0,s.useMemo)((()=>n.browseAllEventsButtonFactory({uri:"spotify:app:concerts"})),[n]),l=i?n.locationEventsFactory({identifier:i}):n.otherEventsFactory(),d=(0,A.K2)(o);return 0===t.length?(0,v.jsxs)("div",{className:J,children:[(0,v.jsx)(C.a,{as:"p",variant:"bodyMedium",ref:a,className:Q,children:i?c._s.get("concerts.no_events_description"):c._s.get("concerts.no_upcoming_events")}),!i&&(0,v.jsx)(I.Link,{to:"/concerts",onClick:()=>{r.logInteraction(o.hitUiNavigate({destination:"spotify:app:concerts"}))},children:(0,v.jsx)(E.a,{selected:!0,selectedColorSet:"invertedLight",ref:d,children:c._s.get("concerts.browse_all_events")})})]}):(0,v.jsx)("div",{ref:a,className:X,children:t.map(((e,t)=>{const n=`spotify:concert:${e.id}`;return(0,v.jsx)(ee,{concert:e,onClick:()=>{const e=l.eventRowFactory({position:t,uri:n}).hitUiNavigate({destination:n});r.logInteraction(e)}},e.id)}))})})),ne=te;var se=n(61984);const ie=(0,s.memo)((e=>{const{data:t,locationName:n,onSetLocation:i}=e,{artist:r,concerts:a}=t,{spec:o}=(0,A.gp)(w.w,{data:{uri:r.uri,identifier:r.id}}),d=(0,A.Mk)(),u=(0,A.K2)(o),m=(0,s.useMemo)((()=>o.headerFactory()),[o]),p=(0,s.useMemo)((()=>o.browseAllEventsButtonFactory({uri:"spotify:app:concerts"})),[o]),h=(0,A.K2)(p),{nearUser:g,otherLocations:f}=(e=>{const t={nearUser:[],otherLocations:[]};return e.forEach((e=>{e.nearUser?t.nearUser.push(e.concert):t.otherLocations.push(e.concert)})),t})(a),y=(0,S.IP)(T._m);return(0,v.jsxs)("section",{ref:u,className:U,children:[(0,v.jsx)(C.a,{as:"h1",className:M,variant:"titleLarge",semanticColor:"textBase",children:c._s.get("artist.concerts.artist_tour_dates",(0,v.jsx)(I.Link,{to:r.uri,className:D,children:r.name}))}),(0,v.jsx)("section",{children:(0,v.jsx)("div",{className:q,children:(0,v.jsx)(se.c,{handleLocationChange:e=>{e&&i(e)},locationStr:n,headerSpec:m})})}),0===t.concerts.length&&(0,v.jsxs)("div",{className:J,children:[(0,v.jsx)(C.a,{as:"h2",className:M,variant:"titleMedium",semanticColor:"textBase",children:c._s.get("concerts.no_upcoming_events")}),(0,v.jsx)(C.a,{as:"p",variant:"bodyMedium",ref:u,className:Q,children:c._s.get("artist.concerts.error.not_found")}),(0,v.jsx)(I.Link,{to:"/concerts",onClick:()=>{d.logInteraction(p.hitUiNavigate({destination:"spotify:app:concerts"}))},children:(0,v.jsx)(E.a,{selected:!0,selectedColorSet:"invertedLight",ref:h,children:c._s.get("concerts.browse_all_events")})})]}),t.concerts.length>0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("section",{children:[(0,v.jsx)(C.a,{as:"h2",className:l()(M,{[$]:0===g.length}),variant:"titleMedium",semanticColor:"textBase",children:c._s.get("concerts.near_location",n)}),(0,v.jsx)(ne,{concerts:g,spec:o,locationName:n})]}),(0,v.jsxs)("section",{children:[(0,v.jsx)(C.a,{as:"h2",className:l()(M,{[$]:0===f.length}),variant:"titleMedium",semanticColor:"textBase",children:c._s.get("concerts.header.other")}),(0,v.jsx)(ne,{concerts:f,spec:o})]})]}),y&&(0,v.jsx)("section",{children:(0,v.jsx)(j,{spec:o})})]})})),re=ie;var ae=n(40468),oe=n(86620),le=n(84264),ce=n(56872);const de=e=>{const[t,{artistId:n,geonameId:s}]=e.queryKey;return(async(e,t)=>(await(0,ce.Ce)(le.W.getInstance(),t,e)).body)(n,s)},ue=()=>{const{artistId:e=""}=(0,i.W4)(),[t,n]=(0,s.useState)(),{data:r,isLoading:a}=(e=>{const t=["artistConcerts",e];return(0,ae.U)({queryKey:t,queryFn:de,staleTime:6e5,placeholderData:oe.iq,retry:!1})})({artistId:e,geonameId:t?.geohash});return a?(0,v.jsx)(u.K,{hasError:!1,errorMessage:""}):r?(0,v.jsx)(re,{data:r,locationName:t?.location||r.userLocation||c._s.get("concerts.default_location"),onSetLocation:n}):(0,v.jsx)(u.K,{hasError:!0,errorMessage:c._s.get("concert.error.concert_not_found_title")})};var me=n(11920),pe=n(22480),he=n(3088);const ge=Spicetify.GraphQL.Definitions["queryArtistAppearsOn"]=new y.a("queryArtistAppearsOn","query","9a4bb7a20d6720fe52d7b47bc001cfa91940ddf5e7113761460b4a288d18a4c1",null),fe=s.memo((function(){const{artistId:e=""}=(0,i.W4)(),t=(0,b.Ck)(e),{loading:n,error:s,data:r}=(a={uri:t},o={gcTime:15*f.y},(0,f.U)(ge,a,o));var a,o;const h="Artist"===r?.artistUnion.__typename?r.artistUnion:null;if(null===h||s||n)return(0,v.jsx)(u.K,{hasError:null!==s,errorMessage:c._s.get("error.request-artist-appears-on")});const g=h.profile.name,y=(0,b.Md)(h.relatedContent.appearsOn.items);return(0,v.jsxs)("div",{className:l()("contentSpacing",p),children:[g?(0,v.jsx)(d.Q,{children:c._s.get("artist-page.appearson.seo.title",g)}):null,(0,v.jsx)(m.y,{title:c._s.get("artist.appears-on"),total:y.length,showAll:!0,children:y.map(((e,t)=>(0,v.jsx)(he.Q,{index:t,...(0,b.eg)(e)},e.uri)))})]})}));n(97768);const ye=Spicetify.GraphQL.Definitions["queryArtistDiscographyAlbums"]=new y.a("queryArtistDiscographyAlbums","query","9380995a9d4663cbcb5113fef3c6aabf70ae6d407ba61793fd01e2a1dd6929b0",null),_e=Spicetify.GraphQL.Definitions["queryArtistDiscographySingles"]=new y.a("queryArtistDiscographySingles","query","9380995a9d4663cbcb5113fef3c6aabf70ae6d407ba61793fd01e2a1dd6929b0",null),be=Spicetify.GraphQL.Definitions["queryArtistDiscographyCompilations"]=new y.a("queryArtistDiscographyCompilations","query","9380995a9d4663cbcb5113fef3c6aabf70ae6d407ba61793fd01e2a1dd6929b0",null),ve=Spicetify.GraphQL.Definitions["queryArtistDiscographyAll"]=new y.a("queryArtistDiscographyAll","query","9380995a9d4663cbcb5113fef3c6aabf70ae6d407ba61793fd01e2a1dd6929b0",null),xe=Spicetify.GraphQL.Definitions["queryArtistDiscographyOverview"]=new y.a("queryArtistDiscographyOverview","query","9380995a9d4663cbcb5113fef3c6aabf70ae6d407ba61793fd01e2a1dd6929b0",null);var Ce=n(66514);var Ee=n(15040),Se=n(2284),we=n(25620),Ie=n(26208),Ae=n(31128),Te=n(37116),ke=n(52588),Ne=n(84340),Oe=n(59792),Pe=n(10660),je=n(50176),Le=n(48856),Re=n(31720),De=n(25676),Me=n(1044),Ue=n(73372),Fe=n(35332),Be=n(62768),Ge=n(23676),Ve=n(6812),He=n(7296),We=n(68860),ze=n(3844),Ye=n(59476);const Ke="artist-artistDiscography-topBar",qe="artist-artistDiscography-topBarScrolled",Qe="artist-artistDiscography-artistName",Xe="artist-artistDiscography-button",$e="artist-artistDiscography-active",Je="artist-artistDiscography-tracklist",Ze="artist-artistDiscography-cardGrid",et="artist-artistDiscography-headerContainer",tt="artist-artistDiscography-firstAlbum",nt="artist-artistDiscography-headerImage",st="artist-artistDiscography-headerMetadata",it="artist-artistDiscography-headerButtons",rt="artist-artistDiscography-headerTitle",at="k_Sa6fZvlbMKvnRJB6Zu";function ot(e){switch(e){case Ne.s1.Single:return c._s.get("single");case Ne.s1.Ep:return c._s.get("ep");case Ne.s1.Compilation:return c._s.get("compilation");case Ne.s1.Album:default:return c._s.get("album")}}const lt=s.memo((function({album:e,artistUri:t,usePlayContextPage:n,pageIndex:i,setTopBarContent:r}){const a=(0,He.w)(),[o,d]=(0,ze.X)(e.uri),{titleRef:u,tracklistRef:m,displayTopBar:p}=(0,We.M)(),h=(0,s.useCallback)((async()=>{a({targetUri:e.uri,intent:o?"unsave":"save",type:"click"});try{await d(!o)}catch{}}),[a,e.uri,o,d]),{isPlaying:g,togglePlay:f,usePlayContextItem:y}=n({pageURI:e.uri,pageIndex:i}),_=(0,Ve.C)({itemUris:e.uri?[e.uri]:[],dragLabelText:e.name}),b=(0,s.useMemo)((()=>({items:[],totalCount:0})),[]),x=(0,s.useMemo)((()=>{if(p)return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Be.e,{size:"medium",onClick:()=>f(),disabled:!e.playability.playable,isPlaying:g,uri:e.uri}),(0,v.jsx)(Ue.e,{text:e.name,dragUri:e.uri,dragLabel:e.name})]})}),[e.name,e.playability.playable,e.uri,p,g,f]);(0,s.useEffect)((()=>{r(x)}),[r,x]);const{date:E,precision:S}=e?.date?(0,Ye.w3)(e.date):{date:void 0,precision:void 0};return(0,v.jsxs)(pe.y,{surface:me.g.ALBUM,uris:[e.uri],children:[(0,v.jsxs)("div",{className:l()(et,{[tt]:0===i}),children:[(0,v.jsx)(Me.iI,{className:nt,images:e.coverArt?.sources||[],name:e.name,placeholderType:"album",dragUri:e.uri}),(0,v.jsxs)("div",{className:st,children:[(0,v.jsx)(C.a,{variant:"titleMedium",semanticColor:"textBase",className:rt,draggable:!!e.uri,onDragStart:_,children:(0,v.jsx)(I.Link,{to:e.uri,children:e.name})}),(0,v.jsx)("div",{ref:u}),(0,v.jsx)(Me.E1,{releaseDate:E,releaseDatePrecision:S,totalItems:e.tracks.totalCount,albumType:ot(e.type),hasTracks:!0}),(0,v.jsxs)("div",{className:it,children:[(0,v.jsx)(Be.e,{onClick:()=>f(),disabled:!e.playability.playable,isPlaying:g,size:"small",uri:e.uri,version:Fe.eb.secondary}),(0,v.jsx)(Me.mG,{children:(0,v.jsx)(Pe.O,{isAdded:!!o,onClick:h,disabled:!1,size:Pe.o.sm})}),(0,v.jsx)(je.W,{uri:e.uri,isFollowing:!!o,onFollow:h,size:je.o.sm}),(0,v.jsx)(Re.p,{menu:(0,v.jsx)(De.k,{uri:e.uri,artistUri:t,sharingInfo:e.sharingInfo}),children:(0,v.jsx)(Le.g,{size:Le.o.sm,label:c._s.get("more.label.context",e.name)})})]})]})]}),(0,v.jsx)("div",{ref:m,className:l()("contentSpacing",Je),children:(0,v.jsx)(Ge.m,{ariaLabel:e.name,nrTracks:e.tracks.totalCount,albumUri:e.uri,discs:b,usePlayContextItem:y})})]})}));var ct=n(35156);const dt=s.memo((function(e){const{usePlayContextPage:t,pageIndex:n}=e,{isPlaying:s,togglePlay:i}=t({pageURI:e.uri,pageIndex:n});return(0,v.jsx)(ct.u,{index:n,showType:!0,...e,delegatePlayback:!0,isPlaying:s,onPlay:()=>i()})}));var ut=n(20892),mt=n(65884),pt=n(556),ht=n(43052),gt=n(41524);let ft=function(e){return e.GRID="grid",e.LIST="list",e}({});const yt=s.memo((function({artistName:e,artistUri:t,albumType:n,dropDownOptions:i,onTypeChange:r,displayMode:a,onDisplayModeChange:o,topBarContent:c}){const[d,u]=(0,s.useState)(!1),m=(0,s.useCallback)((e=>{const t=e.target.scrollTop;t>0&&!d?u(!0):0===t&&d&&u(!1)}),[d]);return(0,gt.G)(m,{executeOnceOnStart:!0}),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ht.J,{children:a!==ft.GRID?c:void 0}),(0,v.jsxs)("div",{className:l()(Ke,"contentSpacing",{[qe]:d}),children:[(0,v.jsx)(C.a,{as:"div",variant:"titleSmall",className:Qe,children:(0,v.jsx)(I.Link,{to:t,children:e})}),(0,v.jsx)(pt.W,{options:i,onSelect:r,selected:n}),(0,v.jsx)("button",{type:"button",role:"switch","aria-checked":a===ft.LIST,"aria-label":ft.LIST,className:l()(Xe,{[$e]:a===ft.LIST}),onClick:()=>o(ft.LIST),children:(0,v.jsx)(ut.i,{size:"small"})}),(0,v.jsx)("button",{type:"button",role:"switch","aria-checked":a===ft.GRID,"aria-label":ft.GRID,className:l()(Xe,{[$e]:a===ft.GRID}),onClick:()=>o(ft.GRID),children:(0,v.jsx)(mt.M,{size:"small"})})]})]})}));var _t=n(45208);const bt=(0,s.memo)((function({uri:e,name:t,dropDownOptions:n,nrAll:r,nrAlbums:o,nrSingles:c,nrCompilations:d,initialDropDownOption:u}){const[m,p]=(0,s.useState)(u),[,h]=(0,s.useState)(0),{pathname:g}=(0,i.IT)(),f=(0,i.i6)(),[y=ft.LIST,_]=(0,Te.k)("discography-page-view-mode",ft.LIST),x=(0,_t.u)(),C=(0,S.IP)(Ee.M1F)?(0,Ie._B)(Ie.AZ.ENCORE_CARDS):(0,Ie._B)(Ie.AZ.DEFAULT),[E,w]=(0,s.useState)(void 0),I=(0,s.useRef)({all:{items:[],currentOffset:0,totalCount:r},[Ne.s1.Album]:{items:[],currentOffset:0,totalCount:o},[Ne.s1.Single]:{items:[],currentOffset:0,totalCount:c},[Ne.s1.Compilation]:{items:[],currentOffset:0,totalCount:d}}),{requestAlbums:A,requestSingles:T,requestCompilations:k,requestAll:N}=(e=>{const{request:t}=(0,s.useContext)(Ce.Q9);return{requestAlbums:(0,s.useCallback)((async(n,s)=>{if(!s)return[];const i=await t(ye,{uri:e,offset:n,limit:s});return"Artist"!==i?.data?.artistUnion?.__typename?[]:(0,b.Km)(i.data.artistUnion.discography.albums.items||[])}),[e,t]),requestSingles:(0,s.useCallback)((async(n,s)=>{if(!s)return[];const i=await t(_e,{uri:e,offset:n,limit:s});return"Artist"!==i?.data?.artistUnion?.__typename?[]:(0,b.Km)(i.data.artistUnion.discography.singles.items||[])}),[e,t]),requestCompilations:(0,s.useCallback)((async(n,s)=>{if(!s)return[];const i=await t(be,{uri:e,offset:n,limit:s});return"Artist"!==i?.data?.artistUnion?.__typename?[]:(0,b.Km)(i.data.artistUnion.discography.compilations.items||[])}),[e,t]),requestAll:(0,s.useCallback)((async(n,s)=>{if(!s)return[];const i=await t(ve,{uri:e,offset:n,limit:s});return"Artist"!==i?.data?.artistUnion?.__typename?[]:(0,b.Km)(i.data.artistUnion.discography.all.items||[])}),[e,t])}})(e),O=(0,s.useCallback)((async()=>{let e=A;m.key===Ne.s1.Single&&(e=T),m.key===Ne.s1.Compilation&&(e=k),"all"===m.key&&(e=N);const t=I.current[m.key].totalCount-I.current[m.key].currentOffset,n=await e(I.current[m.key].currentOffset,Math.min(50,t));n.length>0&&(I.current[m.key].items=I.current[m.key].items.concat(n),I.current[m.key].currentOffset+=n.length),h((e=>e+1))}),[m.key,A,N,k,T]),P=(0,s.useCallback)((e=>{const t=n.find((t=>t.key===e));t&&(f(g.replace(/discography.*/,`discography/${t.key.toLowerCase()}`),{replace:!0}),p(t))}),[n,f,g]),{usePlayContextPage:j}=(0,ke.I)({uri:e,pages:I.current[m.key].items.filter((e=>(0,a.MJ)(e.uri))).map((e=>{const t=(0,a.nX)(e.uri).id;return{uri:e.uri,url:`hm://artistplaycontext/v1/page/spotify/album/${t}/km`}})),metadata:{"disable-autoplay":"true",context_description:t}},{featureIdentifier:"artist"});return(0,v.jsxs)(Ae.A,{onReachBottom:O,children:[(0,v.jsx)(yt,{artistName:t,artistUri:e,topBarContent:E,dropDownOptions:n,albumType:m,onTypeChange:P,displayMode:y,onDisplayModeChange:e=>{_(e)}}),y===ft.LIST?I.current[m.key].items.map(((t,n)=>(0,v.jsx)(lt,{album:t,artistUri:e,usePlayContextPage:j,pageIndex:n,setTopBarContent:w},t.uri))):(0,v.jsx)(we.E,{config:C,children:(0,v.jsx)(Se.C,{className:l()("contentSpacing",Ze,{[at]:x}),render:()=>I.current[m.key].items.map(((n,s)=>(0,v.jsx)(dt,{...(0,Oe.eQ)(n,e,t),usePlayContextPage:j,pageIndex:s},n.uri)))})})]})})),vt=(0,s.memo)((function(){const{artistId:e="",albumType:t}=(0,i.W4)(),n=(0,S.IP)(Ee.sQt),s=(0,b.Ck)(e),{loading:r,error:a,data:o}=(l={uri:s},m={gcTime:15*f.y},(0,f.U)(xe,l,m));var l,m;if(null===o||!o?.artistUnion||"Artist"!==o?.artistUnion.__typename||a||r)return(0,v.jsx)(u.K,{hasError:null!==a,errorMessage:c._s.get("error.request-artist-discography")});const p=o.artistUnion.profile.name,h=[];o.artistUnion.discography.all.totalCount>0&&n&&h.push({key:"all",value:c._s.get("artist-page-discography.all")}),o.artistUnion.discography.albums.totalCount>0&&h.push({key:Ne.s1.Album,value:c._s.get("artist.albums")}),o.artistUnion.discography.singles.totalCount>0&&h.push({key:Ne.s1.Single,value:c._s.get("artist.singles")}),o.artistUnion.discography.compilations.totalCount>0&&h.push({key:Ne.s1.Compilation,value:c._s.get("artist.compilations")});const g=h.find((e=>!("all"!==e.key||"all"!==t||!n)||(e.key===Ne.s1.Album&&t===Ne.s1.Album.toLowerCase()||(e.key===Ne.s1.Single&&t===Ne.s1.Single.toLowerCase()||e.key===Ne.s1.Compilation&&t===Ne.s1.Compilation.toLowerCase()))))||h[0];return(0,v.jsxs)(v.Fragment,{children:[p?(0,v.jsx)(d.Q,{children:c._s.get("artist-page.discography.seo.title",p)}):null,(0,v.jsx)(bt,{uri:s,name:p||"",dropDownOptions:h,nrAll:o.artistUnion.discography.all.totalCount,nrAlbums:o.artistUnion.discography.albums.totalCount,nrSingles:o.artistUnion.discography.singles.totalCount,nrCompilations:o.artistUnion.discography.compilations.totalCount,initialDropDownOption:g})]})}));var xt=n(73108);const Ct=Spicetify.GraphQL.Definitions["queryArtistDiscoveredOn"]=new y.a("queryArtistDiscoveredOn","query","71c2392e4cecf6b48b9ad1311ae08838cbdabcfd189c6bf0c66c2430b8dcfdb1",null),Et=s.memo((function(){const{artistId:e=""}=(0,i.W4)(),t=(0,b.Ck)(e),{loading:n,error:s,data:r}=(a={uri:t},o={gcTime:15*f.y},(0,f.U)(Ct,a,o));var a,o;if(null===r||"Artist"!==r.artistUnion.__typename||s||n)return(0,v.jsx)(u.K,{hasError:null!==s,errorMessage:c._s.get("error.request-artist-featuring")});const h=r.artistUnion.relatedContent.discoveredOnV2.items;return(0,v.jsxs)("div",{className:l()("contentSpacing",p),children:[(0,v.jsx)(d.Q,{children:c._s.get("artist-page.discovered-on")}),(0,v.jsx)(m.y,{title:c._s.get("artist-page.discovered-on"),total:h.length,showAll:!0,children:h.map(((e,t)=>{if("Playlist"!==e.data.__typename)return null;const n=e.data,s="User"===n.ownerV2.data.__typename&&n.ownerV2.data.name||n.name;return(0,v.jsx)(xt.I,{index:t,uri:n.uri,name:n.name,authorName:s,description:n.description||"",images:n.images?.items?.[0]?.sources||[]},n.uri)}))})]})})),St=Spicetify.GraphQL.Definitions["queryArtistFeaturing"]=new y.a("queryArtistFeaturing","query","20842d6d9d2d28ef945984b68cb927bb33edd00eab84a8da1667def21f1f2c54",null),wt=s.memo((function(){const{artistId:e=""}=(0,i.W4)(),t=(0,b.Ck)(e),{loading:n,error:s,data:r}=(a={uri:t},o={gcTime:15*f.y},(0,f.U)(St,a,o));var a,o;if(null===r||"Artist"!==r?.artistUnion?.__typename||s||n)return(0,v.jsx)(u.K,{hasError:null!==s,errorMessage:c._s.get("error.request-artist-featuring")});const h=r.artistUnion,{name:g}=h.profile,y=h.relatedContent.featuringV2.items;return(0,v.jsxs)("div",{className:l()("contentSpacing",p),children:[g?(0,v.jsx)(d.Q,{children:c._s.get("artist-page.featuring.seo.title",g)}):null,(0,v.jsx)(m.y,{title:c._s.get("artist-page.featuring",g),total:y.length,showAll:!0,children:y.map(((e,t)=>{if("Playlist"!==e.data.__typename)return null;const n=e.data,s="User"===n.ownerV2.data.__typename&&n.ownerV2.data.name||n.name;return(0,v.jsx)(xt.I,{index:t,uri:n.uri,name:n.name,authorName:s,description:n.description||"",images:n.images?.items?.[0]?.sources||[]},n.uri)}))})]})}));var It=n(32976),At=n(26752),Tt=n(43168),kt=n(23568),Nt=n(89364),Ot=n(90496),Pt=n(25922),jt=n(33584),Lt=n(65876),Rt=n(51300);const Dt=s.memo((function({concerts:e,artistId:t}){const{spec:n,logger:i}=(0,A.gp)(Pt.S,{data:{identifier:t,uri:`${(0,Oe.ag)(t)}`,position:0,reason:"Artist Page - On Tour"}}),r=`${(0,Oe.ag)(t)}:concerts`,a=(0,A.K2)(n);return(0,v.jsx)(s.Suspense,{fallback:null,children:(0,v.jsxs)("div",{ref:a,children:[(0,v.jsx)(jt.q,{title:c._s.get("concerts_on_tour"),seeAllLabel:c._s.get("concerts_view_all"),seeAllUri:r,onClickSeeAll:()=>{const e=n.seeAllButtonFactory({uri:r}).hitUiNavigate({destination:r});i.logInteraction(e)},hasMoreElements:!0}),(0,v.jsx)("ul",{className:Rt.c.onTourShelfGrid,children:e.slice(0,6).map(((e,t)=>(0,v.jsx)("li",{children:(0,v.jsx)(Lt.G,{concert:e,index:t,spec:n})},e.uri)))})]})})}));var Mt=n(20404),Ut=n(81604),Ft=n(36356),Bt=n(62692),Gt=n(40068),Vt=n(74712),Ht=n(66220),Wt=n(87460),zt=n(59732),Yt=n(22756);const Kt=s.memo((function(e){const{artistUri:t,name:n,bio:i,bioSource:r,images:a=[],avatarImages:o=[],worldRank:d,monthlyListeners:u,topCities:m,followers:p,externalLinks:h=[],showModal:g=!1,className:f="",spec:y}=e,[_,b]=(0,s.useState)(g),x=(0,Wt.M)(),E=(0,s.useCallback)((()=>{const e=y.hitUiReveal();x.logInteraction(e),b(!0)}),[y,x]),S=(0,s.useCallback)((()=>{b(!1)}),[]),w=a.find((e=>(e.width||0)>=(e.height||0))),I=w&&{backgroundImage:`linear-gradient(${It.AXN} 0%, ${It.O81} 100%), url(${w.url})`};return(0,v.jsxs)("div",{className:f,children:[(0,v.jsx)(C.a,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:Yt.c.heading,children:c._s.get("artist.about")}),(0,v.jsx)("div",{className:l()(Yt.c.artistGridContainer),children:(0,v.jsxs)("button",{type:"button","aria-label":n,className:l()(Yt.c.container,{[Yt.c.backgroundImage]:I}),onClick:E,style:I,children:[d>0?(0,v.jsxs)("div",{className:Yt.c.rank,children:[(0,v.jsxs)(C.a,{as:"div",variant:"titleSmall",children:["#",d]}),(0,v.jsx)(C.a,{as:"div",variant:"marginal",children:c._s.get("artist-page.world_rank")})]}):null,(0,v.jsxs)("div",{className:Yt.c.content,children:[!w&&(0,v.jsx)(Vt.C,{images:o,label:n,width:204,userIconSize:"xxlarge",className:Yt.c.avatar}),"number"==typeof u?(0,v.jsx)(C.a,{as:"div",variant:"bodyMediumBold",semanticColor:"textBase",children:c._s.get("artist.monthly-listeners-count",u)}):null,i?(0,v.jsx)(C.a,{as:"div",variant:"bodyMedium",className:Yt.c.bio,semanticColor:"textBase",dir:"auto",children:(0,v.jsx)(Ht.W,{source:i})}):null]})]})}),(0,v.jsx)(zt.q,{artistUri:t,name:n,bio:i,bioSource:r,worldRank:d,images:a,topCities:m,followers:p,externalLinks:h,isOpen:_,closeModal:S,monthlyListeners:u})]})}));var qt=n(33744),Qt=n(76736),Xt=n(82988),$t=n(83968),Jt=n(72144),Zt=n(26681),en=n(75480),tn=n(52760),nn=n(55632),sn=n(23460),rn=n(96560),an=n(76008),on=n(53848),ln=n(8992),cn=n(116),dn=n(86540);const un="WurdECaSIWEDCAelx7w5",mn="tt98tU3O5e2jDDowFL6z",pn="APTePLeQgkNrGdSs2Alg",hn="HvcHz2IVNHf5ZbDl51cs",gn="L5eh0Met537t6kO60mNQ",fn="clPmbX_PddNTEskYgCmD",yn="mMy1f_odFmYIRsmkfypf",_n="MXwdYKAc77WRko8xteYw",bn="VNuCxmZmIgPXKjfLYWpc",vn="LNdxeogS1DTFRF8I4a4K",xn="YkN2KPIwz6Dp7MQWiWkS",Cn="rsKWAzku_ny3zrfnZ5Dy",En="iIyvKzoN1NVJlt_gtzRg",Sn="Am_X_wIkQA2_gcMHrhXb",wn="nVLjPE6F7eG6vGRUizPo",In="e9BLOqb7gQobVLk7kMX2",An=({userStats:e})=>{const t=e.map(((e,t)=>(0,v.jsx)(ln.C,{className:En,children:(0,v.jsx)(cn.y,{colSpan:4,className:Sn,children:(0,v.jsxs)("div",{className:vn,children:[(0,v.jsx)("div",{className:xn,children:t+=1}),(0,v.jsx)(sn.W,{src:e.profileImg,circle:!0,imageHeight:"50px",imageWidth:"50px"}),(0,v.jsxs)("div",{className:Cn,children:[(0,v.jsx)(C.a,{as:"p",children:e.displayName}),(0,v.jsxs)(C.a,{as:"p",className:wn,children:[e.minutesPlayed,"m"]})]})]})})},t)));return(0,v.jsxs)(dn.o,{className:bn,children:[(0,v.jsxs)("colgroup",{children:[(0,v.jsx)("col",{}),(0,v.jsx)("col",{width:"50%"}),(0,v.jsx)("col",{width:"50%"})]}),(0,v.jsx)("tbody",{children:t})]})};var Tn=n(62298),kn=n(5540),Nn=n(1600),On=n(8340);const Pn="YeGMtF6vRIbGdEJu4MIu",jn="tUGhhVg39aIVc8QBnyNI",Ln="dRW8iJPl0gFGFpInjRqq",Rn="HzIF8d4fZBYLPFtcRoZm",Dn="cIScgQhFRNDKZCkEvnpz",Mn="upvnuAPOXH03rJqCkufN",Un="rZaBsXwddIq7T58BZgQ0",Fn="a7a06RGAUbQV0JT_omh_",Bn="oaV8DrzmGf70bXqNyPAd",Gn="ErPUlvL_0ZqhBOWnp9EZ",Vn="QhodJD5vJTcQNtg4wCAU",Hn=({setShowLeaderboard:e,setShowLeaderboardShareCard:t,artistInfo:n,currentUserInfo:s})=>{const{minutesPlayed:i,percentile:r,profileImg:a}=s;return(0,v.jsx)(Tn.w,{"aria-label":"Title",id:"dialogAlert",colorSet:"mutedAccent",className:Pn,body:(0,v.jsxs)("div",{className:jn,children:[(0,v.jsx)("div",{className:Ln,children:(0,v.jsx)(rn.u,{"aria-label":"close-share-card",iconOnly:kn.C,onClick:()=>t(!1)})}),(0,v.jsx)("div",{className:Rn,children:(0,v.jsx)(rn.u,{"aria-label":"close-leaderboard-dialog",iconOnly:an.K,onClick:()=>e(!1),size:"small"})}),(0,v.jsxs)("div",{className:Dn,children:[(0,v.jsxs)("div",{className:Mn,children:[(0,v.jsxs)("div",{className:Un,children:[(0,v.jsx)(sn.W,{circle:!0,imageHeight:"100px",imageWidth:"100px",src:a,className:Fn,style:{gridColumnStart:1,zIndex:1}}),(0,v.jsx)(sn.W,{circle:!0,imageHeight:"100px",imageWidth:"100px",src:n.profileImg,className:Fn,style:{gridColumnStart:4}})]}),(0,v.jsxs)(C.a,{as:"p",variant:"marginal",children:[(0,v.jsxs)("span",{className:Bn,children:[i,"M"]})," ","STREAMED THIS WEEK"]}),(0,v.jsxs)(C.a,{as:"p",variant:"titleMedium",className:Gn,children:["I'M IN THE",(0,v.jsxs)("span",{className:Bn,children:[r,"%"]})," ","OF ",(0,v.jsx)("span",{children:n.displayName.toUpperCase()})," LISTENERS THIS WEEK."]}),(0,v.jsx)("div",{className:Vn,children:(0,v.jsx)(Nn.S,{size:"large"})})]}),(0,v.jsx)(On.g,{"aria-label":"share-button",colorSet:"invertedLight",children:"Share this"})]})]})})},Wn=({setShowLeaderboard:e,artistInfo:t,currentUserInfo:n,userStats:i})=>{const[r,a]=(0,s.useState)(!1);return(0,v.jsx)(tn.O,{center:!0,withPortal:!0,children:r?(0,v.jsx)(Hn,{setShowLeaderboard:e,setShowLeaderboardShareCard:a,artistInfo:t,currentUserInfo:n}):(0,v.jsx)(nn.k,{className:un,dialogTitle:(0,v.jsxs)("div",{className:mn,children:[(0,v.jsx)(sn.W,{src:"https://i.scdn.co/image/a8f3fe2c87edf4f67acb629d832e65846c451afc",className:pn,circle:!0,imageHeight:"40px",imageWidth:"40px"}),(0,v.jsx)(sn.W,{src:t.profileImg,className:hn,circle:!0,imageHeight:"60px",imageWidth:"60px"}),(0,v.jsx)("div",{className:gn,children:(0,v.jsx)(C.a,{as:"p",children:t.displayName})}),(0,v.jsx)("div",{className:fn,children:(0,v.jsxs)(C.a,{as:"p",children:["You listened to ",t.displayName," for"," ",(0,v.jsxs)("span",{className:In,children:[n.minutesPlayed,"m"]})," ","this week, putting you in the top"," ",(0,v.jsxs)("span",{className:In,children:[n.percentile,"%"]})," ","of spotify employees."]})}),(0,v.jsx)("div",{className:yn,children:(0,v.jsx)(rn.u,{iconOnly:an.K,size:"small",semanticColor:"textSubdued",onClick:()=>e(!1)})}),(0,v.jsx)("div",{className:_n,children:(0,v.jsx)(rn.u,{iconOnly:on.Y,size:"large",onClick:()=>a(!0)})})]}),"aria-label":"Title",id:"dialogAlert",colorSet:"mutedAccent",footer:(0,v.jsx)(An,{userStats:i})})})};var zn=n(45531),Yn=n(29996),Kn=n(68792);const qn="a3Nne2VCH_BelS2gV1JL",Qn="CBCh09tJlDipZ5KZejwv",Xn="E13YocWAYgBQAfXg7Ulb",$n="BFzOQ2NMM5vmz4jwkWcG",Jn=(0,s.memo)((function({artistId:e}){const t=(0,Kn.A)(),[n,i]=(0,s.useState)(!1),[r,a]=(0,s.useState)();if((0,s.useEffect)((()=>{(async()=>{await t.get(`https://spclient.wg.spotify.com/leaderboard-artist-service/v1/leaderboardartist/${e}`).then(a)})()}),[e,t]),!r)return(0,v.jsx)(zn.y,{});const{artistInfo:o,currentUserInfo:l,userStats:c}=r,d=c.slice(0,3).map(((e,t)=>(0,v.jsx)(s.Fragment,{children:e.profileImg?(0,v.jsx)(sn.W,{circle:!0,imageHeight:"50px",imageWidth:"50px",src:e.profileImg,className:Xn,style:{gridColumnStart:t+1}}):(0,v.jsx)(Yn.O,{size:"large",className:Xn,style:{gridColumnStart:t+1}})},t)));return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("button",{onClick:()=>{i(!0)},className:qn,children:[(0,v.jsx)("div",{className:Qn,children:d}),(0,v.jsxs)("div",{className:$n,children:[(0,v.jsx)(C.a,{as:"p",variant:"bodySmallBold",semanticColor:"textBase",children:"View Employee Leaderboard"}),(0,v.jsxs)(C.a,{as:"p",children:["You're in the top ",l.percentile,"% of Listeners"]})]})]}),n?(0,v.jsx)(Wn,{setShowLeaderboard:i,artistInfo:o,currentUserInfo:l,userStats:c}):null]})}));var Zn=n(78e3),es=n(96692);const ts=s.memo((function({uri:e,togglePlay:t,isPlaying:n,isActive:i,spec:r,logger:a,backgroundColor:o,name:l,sharingInfo:d,artistId:u}){const m=(0,S.IP)(Ee.GUT),[p,h]=(0,ze.X)(e),g=(0,He.w)(),f=(0,es.Y)(),y=s.useMemo((()=>r.actionBarFactory()),[r]),_=s.useCallback((()=>{const s=(0,$t.Il)({isPlaying:n,isActive:i,spec:y.playButtonFactory(),logger:a,uri:e});t({loggingParams:s})}),[t,i,n,e,y,a]),b=(0,s.useCallback)((async()=>{g({targetUri:e,intent:p?"unsave":"save",type:"click"});const t=r.actionBarFactory().followButtonFactory().hitFollow({itemToBeFollowed:e}),n=r.actionBarFactory().followButtonFactory().hitUnfollow({itemToBeUnfollowed:e});a.logInteraction(p?n:t);try{await h(!p)}catch{}}),[g,e,p,h,r,a]),x=(0,en.u)();return(0,v.jsxs)(Jt.g,{backgroundColor:o,children:[(0,v.jsxs)(Zt.i,{children:[(0,v.jsx)(Be.e,{size:x,onClick:_,isPlaying:n,uri:e}),f&&(0,v.jsx)(A.Ud,{spec:y,children:(0,v.jsx)(Zn.I,{entityName:l,contextUri:e,activationPlacement:"bottomEnd",size:x})}),(0,v.jsx)(Qt.m,{children:(0,v.jsx)(Xt.W,{isFollowing:p,onClick:b})}),(0,v.jsx)(Re.p,{menu:(0,v.jsx)(qt.g,{uri:e,sharingInfo:d}),children:(0,v.jsx)(Le.g,{label:c._s.get("more.label.context",l),size:x})})]}),m?(0,v.jsx)(Jn,{artistId:u}):null]})})),ns="Jr6tcq7gSdKFSqofza3T",ss="gL_Gt1ojydh9xa8Hapn1";var is=n(64744);function rs(e){const t=e[0];return!(!t||!("releases"in t))}const as=({artistId:e,artistUri:t,artistName:n,discography:i,shelfIndex:r,spec:a})=>{const[o,d]=(0,s.useState)("popularReleasesAlbums"),u=(0,s.useMemo)((()=>a.discographyShelfFactory({position:r})),[a,r]),p=(0,Wt.M)(),h=(0,s.useMemo)((()=>[i.popularReleasesAlbums.totalCount>0?"popularReleasesAlbums":null,i.singles.totalCount>0?"singles":null,i.albums.totalCount>0?"albums":null,i.compilations.totalCount>0?"compilations":null].filter(Boolean)),[i]),g=(0,s.useCallback)((e=>{const t=u.chipsFactory().chipFactory({identifier:e,position:h.indexOf(e)}).hitFilter();p.logInteraction(t),d(e)}),[u,h,p]),f=(0,S.IP)(Ee.M1F),y=(0,s.useCallback)((()=>(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:l()(ns,{[ss]:!f}),children:[i.popularReleasesAlbums.totalCount>0&&(0,v.jsx)(E.a,{selected:"popularReleasesAlbums"===o,onClick:()=>g("popularReleasesAlbums"),selectedColorSet:"invertedLight",children:c._s.get("artist-page.popular")}),i.albums.totalCount>0&&(0,v.jsx)(E.a,{selected:"albums"===o,onClick:()=>g("albums"),selectedColorSet:"invertedLight",children:c._s.get("artist.albums")}),i.singles.totalCount>0&&(0,v.jsx)(E.a,{selected:"singles"===o,onClick:()=>g("singles"),selectedColorSet:"invertedLight",children:c._s.get("artist.singles")}),i.compilations.totalCount>0&&(0,v.jsx)(E.a,{selected:"compilations"===o,onClick:()=>g("compilations"),selectedColorSet:"invertedLight",children:c._s.get("artist.compilations")})]})})),[i,o,g,f]);let _=i[o];"popularReleasesAlbums"===o&&i.latest&&(_={...i[o],items:[i.latest,...i[o].items.filter((e=>e.uri!==i.latest?.uri))]});let b="all";"albums"===o?b=Ne.s1.Album.toLowerCase():"singles"===o?b=Ne.s1.Single.toLowerCase():"compilations"===o&&(b=Ne.s1.Compilation.toLowerCase());const x=`${(0,Oe.ag)(e)}:discography:${b}`,C=(0,s.useCallback)((()=>{const e=u.shelfHeaderFactory().titleFactory().hitUiNavigate({destination:x??""});p.logInteraction(e)}),[p,x,u]),w=(0,s.useCallback)((()=>{const e=u.shelfHeaderFactory().seeAllButtonFactory().hitUiNavigate({destination:x??""});p.logInteraction(e)}),[p,x,u]),I=(0,A.K2)(u),T=_.items;return(0,v.jsx)(Ut.oL,{value:"shelf/discography",children:(0,v.jsx)(m.y,{total:_.totalCount,title:c._s.get("artist-page.discography"),seeAllUri:x,alwaysShowSeeAll:!0,className:is.c.artistShelfSpacer,renderSubHeader:y,onClickShelfTitle:C,onClickShelfSeeAll:w,elementRef:I,children:(rs(T)?(0,Oe.UJ)(T):T).map(((e,s)=>(0,v.jsx)(Ut.oL,{value:"card",index:s,children:(0,v.jsx)(ct.u,{latest:e.uri===i.latest?.uri,showType:!0,...(0,Oe.eQ)(e,t,n),index:s})},e.uri)))})})};var os=n(98223),ls=n(7896),cs=n(85988),ds=n(1072);const us="artist-artistOffers-item",ms="artist-artistOffers-pic",ps="artist-artistOffers-info",hs="artist-artistOffers-name",gs="artist-artistOffers-description",fs="artist-artistOffers-icon",ys=({offer:e,index:t,spec:n,titleVariant:i})=>{const{name:r,uri:a,description:o,image:l,url:c}=e,d=(0,A.Mk)(),u=(0,s.useMemo)((()=>n.merchCardFactory({identifier:a,uri:c||"",position:t})),[c,a,n,t]),m=(0,A.K2)(u);if(!r||!c)return null;const p=e=>{e?.stopPropagation();const t=u.hitNavigateToExternalUri({destination:c});d.logInteraction(t)};return(0,v.jsxs)("div",{className:us,ref:m,onClick:()=>{p(),window.open(c,"_blank")},children:[l?.sources?.[0]?.url&&(0,v.jsx)(ds.WC,{src:l.sources[0].url,className:ms,alt:r,width:"48",height:"48",loading:"lazy"}),(0,v.jsxs)("div",{className:ps,children:[(0,v.jsx)(cs.Yl,{label:r,showDelay:cs.AL,children:(0,v.jsx)(C.a,{as:"a",href:c,target:"_blank",onClick:p,variant:i,semanticColor:"textBase",className:hs,"":"offer-name",children:r})}),(0,v.jsx)(cs.Yl,{label:o,showDelay:cs.AL,children:(0,v.jsx)(C.a,{as:"p",variant:"bodySmall",className:gs,children:o})})]}),(0,v.jsx)(ls.E,{size:"small",className:fs,"aria-hidden":"true"})]})},_s=({items:e,className:t,merchVariant:n,artistId:s="",variant:i="bodyMediumBold"})=>{const{spec:r}=(0,A.gp)(os.createDesktopMerchShelfEventFactory,{data:{identifier:s,uri:(0,Oe.Ck)(s),position:0,reason:n}});return(0,v.jsx)("ul",{className:t,children:e.map(((e,t)=>(0,v.jsx)("li",{children:(0,v.jsx)(ys,{offer:e,index:t,spec:r,titleVariant:i})},e.uri+t)))})},bs="_1CRNzNyAMFxnnS30JUo",vs="shpD56313Kzaevyqt80w",xs="o6lOM3qmit24hWlOBbw0",Cs="_GJZaoUD9ozPvCUDT2Mp",Es="wzbBvk50RY186L5jDZ8D",Ss="M_ZRz3M4W6DAmrdtrzvT",ws="A2Wpa1NZBcZzFHgAy512",Is="ydlidzq2hSQrvGXn7yni";var As=n(72032);const Ts="BxWZVeSkJYTZvJszQA00",ks="V7hhS29KAz1C2kTHrKd_",Ns=({prerelease:e,spec:t})=>{const n=e.coverArt[0],i=(0,As.E)(e.albumType),r=(0,A.Mk)(),a=(0,s.useCallback)((()=>{r.logInteraction(t.albumImageFactory().hitUiNavigate({destination:e.uri}))}),[r,e.uri,t]),o=(0,s.useCallback)((()=>{r.logInteraction(t.albumNameFactory().hitUiNavigate({destination:e.uri}))}),[r,e.uri,t]);return(0,v.jsxs)("div",{className:Ts,children:[(0,v.jsx)(I.Link,{to:e.uri,onClick:a,children:(0,v.jsx)(ds.WC,{src:n.url,alt:e.title,width:"88",height:"88",loading:"eager",radius:4})}),(0,v.jsxs)("div",{className:ks,children:[(0,v.jsx)(I.Link,{to:e.uri,onClick:o,children:(0,v.jsx)(C.a,{as:"div",variant:"bodyMediumBold",semanticColor:"textBase",children:e.title})}),(0,v.jsx)(C.a,{as:"div",variant:"bodySmall",children:i})]})]})},Os=({prerelease:e,className:t,spec:n})=>(0,v.jsxs)("div",{className:t,children:[(0,v.jsx)(C.a,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:bs,children:c._s.get("web-player.artist.upcoming-release")}),(0,v.jsx)(Ns,{prerelease:e,spec:n})]});var Ps=n(7300),js=n(62688),Ls=n(17988),Rs=n(96956),Ds=n(53048);const Ms=()=>{const e=(0,Ds.oV)();return(0,v.jsx)(Ls.c,{text:c._s.get("artist.verified"),className:l()({[h]:e===Ds.u_.SMALL})})},Us=s.memo((function({uri:e,artist:{name:t,sharingInfo:n,verified:i,monthlyListeners:r,headerImage:{sources:a,extractedColors:o},avatarImage:{sources:l,extractedColors:d}},togglePlay:u,isPlaying:m,spec:p,isActive:h}){const g=(0,A.Mk)(),f=(0,s.useMemo)((()=>p.topBarFactory()),[p]),y=(0,A.K2)(f),_=(0,s.useMemo)((()=>p.topBarFactory().playButtonFactory()),[p]),b=s.useCallback((()=>{const t=(0,$t.Il)({isPlaying:m,isActive:h,spec:_,logger:g,uri:e});u({loggingParams:t})}),[u,m,h,e,_,g]),x={backgroundColor:(0,Rs.a)(o?.colorRaw.hex||d?.colorRaw.hex||null)},C=a.length>0;return C&&(x.backgroundImages=a),(0,v.jsxs)(Me.I1,{...x,children:[(0,v.jsxs)(js.E,{ref:y,children:[(0,v.jsx)(Be.e,{size:"medium",onClick:b,isPlaying:m,uri:e}),(0,v.jsx)(Ue.e,{text:t,dragUri:e,dragLabel:t})]}),C?null:(0,v.jsx)(Ps.U,{menu:(0,v.jsx)(qt.g,{uri:e,sharingInfo:n}),children:(0,v.jsx)(Me.gR,{dragUri:e,images:(l||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),name:t,placeholderType:"artist",shape:Me.OU.CIRCLE})}),(0,v.jsxs)(Me.a8,{children:[i&&(0,v.jsx)(Ms,{}),(0,v.jsx)(Ps.U,{menu:(0,v.jsx)(qt.g,{uri:e,sharingInfo:n}),children:(0,v.jsx)(Me.on,{dragUri:e,dragLabel:t,children:t})}),(0,v.jsx)(Me.iY,{children:c._s.get("artist.monthly-listeners-count",r)})]})]})}));var Fs=n(49612),Bs=n(97192);const Gs="yBfmq8hesL_kS3haPkhg",Vs="MFGqgrafYuIqkGao5tt8",Hs="lvYe0qVaINdDD2RsAWxQ",Ws="OMZpD7ZSVqraSXPYcpg6",zs="CrtM2Dansd7c6zWmaWdc",Ys="UDmh7e8IT4UIScR2CsmX",Ks="P9u2QJN2z8Jvj0tuHTCe",qs="Q1KphyoGGEfPCkw9n3cB",Qs="eYxyC8G88x1ZCS6lP4u4",Xs="JsATn2ej01PgXNeX_UV3",$s=s.memo((function(e){const t=(0,A.Mk)(),{avatarImages:n=[],name:i,spec:r,item:a,comment:o}=e,c=a.itemV2.data,d=c.url??"",u=c.name,m=c.price,p=(0,Gt.C)(c.image?.sources,{desiredWidth:640})?.url??"",h=!!o,g=(0,s.useCallback)((()=>{const e=r.artworkFactory().hitNavigateToExternalUri({destination:d});t.logInteraction(e),window.open(d,"_blank","noopener")}),[r,t,d]),f=(0,s.useCallback)((e=>{e.stopPropagation();const n=r.linkFactory().hitNavigateToExternalUri({destination:d});t.logInteraction(n),window.open(d,"_blank","noopener")}),[r,t,d]);return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:Gs,onClick:g,"":"artist-pick-merch-container",children:[(0,v.jsx)("img",{className:l()(Hs),src:p,alt:"merch"}),(0,v.jsx)("div",{className:Vs}),(0,v.jsxs)("div",{children:[h&&(0,v.jsxs)("div",{className:l()(Xs,qs),children:[(0,v.jsx)(Vt.C,{images:n,label:i,width:24,userIconSize:"small",className:Qs}),(0,v.jsx)(C.a,{variant:"bodySmall",className:"standalone-ellipsis-one-line",title:o,"":"merch-artist-pick-comment",children:o})]}),(0,v.jsxs)("div",{className:Ws,children:[(0,v.jsx)(C.a,{as:"h1",variant:"titleSmall",className:zs,children:u}),(0,v.jsx)(C.a,{as:"p",variant:"bodySmallBold",className:Ys,children:m}),(0,v.jsx)(Fs.w,{size:"small",className:Ks,onClick:f,href:d,component:Bs.m,"":"artist-pick-merch-button-link",children:"Go to item"})]})]})]})})})),Js=["AlbumResponseWrapper","ArtistResponseWrapper","PlaylistResponseWrapper","TrackResponseWrapper","EpisodeOrChapterResponseWrapper","PreReleaseResponseWrapper","ConcertResponseWrapper","MerchResponseWrapper"];const Zs=["Album","Artist","Playlist","Track","Episode","PreRelease","Concert","Merch"];function ei(e){return t=e.itemV2,Js.includes(t.__typename)&&Zs.includes(e.itemV2.data.__typename);var t}var ti=n(4404),ni=n(78390),si=n(52276);const ii="mYvNDps8FDVgHSCzpeqC",ri="rplbHHtuuTINItmavJPi",ai="KFkFH5Ne5Wmpi2CeJ04j",oi="_J01KVkIVWXWiD__tOsv",li="DySXXNunbOQfLv1ZKezD",ci="OOmQiEAn7X_8Iy2FBVU2",di="IMdvero47nmFe0shJfyW",ui="bcQYU3hnhbKjQYonBprT",mi="N2H1mslT6i_RSEIV_C9r",pi=({artistName:e,avatarImages:t,backgroundImageUrl:n,itemImageUrl:s,itemName:i,itemType:r,itemUri:a,comment:o,handleLinkClick:c,handleArtistPickImageClick:d,onDragStart:u})=>(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("section",{className:ii,"":"artist-pick-with-background-container",draggable:!0,onDragStart:u,children:[(0,v.jsx)(ni.W,{src:n,alt:"merch",loading:"eager"}),(0,v.jsx)("div",{className:ai}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("section",{className:l()(mi,di),children:[(0,v.jsx)(Vt.C,{images:t,label:e,width:24,userIconSize:"small",className:ui}),(0,v.jsx)(C.a,{variant:"bodySmall",className:"standalone-ellipsis-one-line",title:o??"",children:o})]}),(0,v.jsxs)("section",{className:oi,children:[(0,v.jsx)("div",{children:(0,v.jsx)(ni.W,{src:s,className:li,alt:"",width:"76",height:"76",loading:"eager"})}),(0,v.jsxs)("div",{className:ci,children:[(0,v.jsx)(C.a,{as:"div",variant:"bodyMediumBold",children:(0,v.jsx)(I.default,{to:a,onClick:c,"":"artist-pick-link",children:i})}),(0,v.jsx)(C.a,{as:"div",variant:"bodySmall",children:r})]})]})]}),(0,v.jsx)("div",{onClick:d,className:ri})]})});function hi(e){const t=e?.itemV2.data;switch(t.__typename){case"Album":case"Playlist":case"Track":case"Episode":case"Merch":return t.name;case"Artist":return t.profile.name;case"PreRelease":return t.preReleaseContent?.name??"";case"Concert":return t.title;default:return(0,si.E)(t),""}}const gi=s.memo((function(e){const{avatarImages:t=[],artistName:n,item:r,className:o="",spec:d}=e,u=r.comment,m=r.itemV2.data.uri,p=hi(r),h=function(e){const t=e.itemV2.data;switch(t.__typename){case"Album":switch(t.type){case Ne.s1.Album:return c._s.get("album");case Ne.s1.Single:return c._s.get("single");case Ne.s1.Compilation:return c._s.get("compilation");case Ne.s1.Ep:return c._s.get("ep");default:return c._s.get("album")}case"Artist":return c._s.get("artist");case"Playlist":return c._s.get("playlist");case"Track":return c._s.get("song");case"Episode":return c._s.get("card.tag.episode");case"PreRelease":switch(t.preReleaseContent?.type){case"ALBUM":return c._s.get("web-player.artist.upcoming-release.album");case"EP":return c._s.get("web-player.artist.upcoming-release.ep");case"SINGLE":return c._s.get("web-player.artist.upcoming-release.single");default:return""}case"Merch":return c._s.get("web-player.merch.title");case"Concert":return"";default:return(0,si.E)(t),""}}(r),g=(0,A.Mk)(),f=(0,i.i6)(),y=(0,Ve.C)({itemUris:[m],dragLabelText:p}),_=(0,s.useCallback)((()=>{const e=(0,a.nX)(m).toURLPath(!0),t=d.artworkFactory().hitUiNavigate({destination:e});g.logInteraction(t),f(e)}),[m,d,g,f]),b=(0,s.useCallback)((()=>{const e=(0,a.nX)(m).toURLPath(!0),t=d.linkFactory().hitUiNavigate({destination:e});g.logInteraction(t)}),[m,d,g]),x=function(e){const t=e.itemV2.data;switch(t.__typename){case"Album":return t.coverArt;case"Artist":return t.visuals.avatarImage;case"Playlist":return t.images.items[0]??null;case"Track":return t.albumOfTrack?.coverArt??null;case"Episode":{const e=(0,Gt.C)(t.coverArt?.sources,{desiredHeight:300});return e?{sources:[e]}:null}case"PreRelease":{const e=(0,Gt.C)(t.preReleaseContent?.coverArt?.sources,{desiredHeight:300});return e?{sources:[e]}:null}case"Concert":case"Merch":return t.image;default:return(0,si.E)(t),null}}(r),E=x?.sources[0]?.url,S=!!u,w=u||c._s.get("acq.artist.about.attribution",{artist:n}),T=(0,Pt.S)({data:{identifier:n,uri:m,position:0,reason:"Artist pick: Concert"}});const k=function(){if(function(e){return"MerchResponseWrapper"===e.itemV2.__typename&&"Merch"===e.itemV2.data.__typename&&!!e.itemV2.data.url}(r))return(0,v.jsx)($s,{name:n,item:r,comment:u,avatarImages:t,spec:d});if(function(e){return"ConcertResponseWrapper"===e.itemV2.__typename&&"Concert"===e.itemV2.data.__typename&&!!e.itemV2.data.venue}(r)){const e=r.itemV2.data;return(0,v.jsx)(ti.G,{concert:{uri:e.uri,date:e.date,venue:e.venue,title:e.title},spec:T})}return r.backgroundImage?.sources[0].url?(0,v.jsx)(pi,{avatarImages:t,artistName:n,itemName:p,itemType:h,itemUri:m,itemImageUrl:E??"",comment:w,backgroundImageUrl:r?.backgroundImage?.sources[0].url,handleArtistPickImageClick:_,handleLinkClick:b,onDragStart:y}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{onClick:_,className:xs,onDragStart:y,draggable:!0,"":"artist-pick-image-container",children:(0,v.jsx)(ni.W,{src:E,className:Cs,alt:"",width:"88",height:"88",radius:4,loading:"eager"})}),(0,v.jsxs)("div",{onDragStart:y,draggable:!0,children:[(0,v.jsxs)("div",{className:l()({[Es]:!0,[Is]:S}),children:[(0,v.jsx)(Vt.C,{images:t,label:n,width:24,userIconSize:"small",className:Ss}),(0,v.jsx)(C.a,{variant:"bodySmall",className:"standalone-ellipsis-one-line",title:w,children:w})]}),(0,v.jsx)(C.a,{as:"div",variant:"bodyMediumBold",children:(0,v.jsx)(I.default,{to:m,onClick:b,"":"artist-pick-link",children:hi(r)})}),(0,v.jsx)(C.a,{as:"div",variant:"bodySmall",className:ws,children:h})]})]})}();return(0,v.jsxs)("div",{className:o,children:[(0,v.jsx)(C.a,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:bs,children:c._s.get("artist-page.artists-pick")}),(0,v.jsx)("div",{className:vs,children:k})]})})),fi=s.memo((function(e){const{item:t}=e;return ei(t)?(0,v.jsx)(gi,{...e,item:t}):null}));var yi=n(70664);const _i="QWAQMuWlIwVfc5Cv7hXp",bi="GTVQoci5Dn2bPcwcH0Np",vi="ljuooUtXELNQsWeYrMT2",xi="SxHlW6byhoJSUJNugaE1",Ci="Kujbn0F68QOf_o44cNxw",Ei="k6Nq7pavAmiyJlxj52QA",Si=e=>{const{uri:t,name:n,nrTracks:r,avatarImages:o=[],className:l="",spec:d}=e,u=(0,A.Mk)(),m=(0,i.i6)(),p=(0,s.useCallback)((()=>{const e=d.artistFactory().hitUiNavigate({destination:(0,a.nX)(t).toURLPath(!0)});u.logInteraction(e),m((0,a.nX)(t).toURLPath(!0))}),[d,t,u,m]),h=(0,s.useCallback)((()=>{const e=d.linkFactory().hitUiNavigate({destination:(0,a.nX)(t).toURLPath(!0)});u.logInteraction(e)}),[d,u,t]);return(0,v.jsxs)("div",{className:l,children:[(0,v.jsx)(C.a,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:_i,children:c._s.get("artist-page.saved-header")}),(0,v.jsxs)("div",{className:bi,children:[(0,v.jsxs)("div",{onClick:p,className:xi,"":"saved-tracks-avatar",children:[(0,v.jsx)(Vt.C,{images:o,label:n,width:88,userIconSize:"xxlarge"}),(0,v.jsx)("div",{className:Ci,children:(0,v.jsx)(yi.Q,{size:"xsmall",className:Ei})})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)(C.a,{as:"div",variant:"bodyMediumBold",children:(0,v.jsx)(I.default,{to:t,onClick:h,"":"saved-tracks-link",children:c._s.get("artist-page.saved-tracks-amount",r)})}),(0,v.jsx)(C.a,{as:"div",variant:"bodySmall",className:vi,children:c._s.get("artist-page.saved-by-artist",n)})]})]})]})};var wi=n(13864);function Ii(e){return null!=e}const Ai=s.memo((function(){const{artistId:e=""}=(0,i.W4)(),t=(0,Oe.Ck)(e),n=(0,S.IP)(Ee.sQt),r=(0,S.IP)(Ee.AVm),a=(0,S.IP)(Ee.MXe),o=(0,S.IP)(Ee.Wwy),{spec:m,logger:p,UBIFragment:h}=(0,A.gp)(At.U,{data:{identifier:e,uri:t}}),f=s.useMemo((()=>m.headerFactory()),[m]),y=s.useMemo((()=>m.featuredFactory().popularTracksFactory()),[m]),_=s.useMemo((()=>m.offersFactory()),[m]),{loading:x,error:E,data:w}=(0,wi.U)(t),{isPlaying:I,togglePlay:T,usePlayContextItem:k,isActive:N}=(0,ke.I)({uri:t},{featureIdentifier:"artist"}),O=(0,Ft.oJ)({offset:0,limit:1,uri:t});if(null===w||null===w.artistUnion||"Artist"!==w.artistUnion?.__typename||E||x)return(0,v.jsx)(u.K,{hasError:null!==E,errorMessage:c._s.get("error.request-artist-failure")});const P=w?.artistUnion?.profile.name,j=w.artistUnion,L=j.relatedContent.relatedArtists.items,R=j.sharingInfo,D=j.relatedContent.featuringV2.items,M=j.discography.latest,{totalCount:U,items:F}=j.discography.popularReleasesAlbums,B=F,G=U||B.length,V=(0,Oe.UJ)(j.relatedContent.appearsOn.items),H=j.discography.topTracks.items.map((e=>(0,b.ID)(e,t))),W=j.relatedContent.discoveredOnV2.items,{stats:{monthlyListeners:z,followers:Y,worldRank:K,topCities:q},preRelease:Q,profile:{name:X,verified:$,pinnedItem:J,biography:Z,externalLinks:ee,playlistsV2:te},visuals:{headerImage:ne,avatarImage:se,gallery:ie},goods:{events:re,merch:ae}}=j,oe=(le=Q)&&le.releaseDate?.isoString&&le.preReleaseContent?.name&&le.preReleaseContent.coverArt?.sources?0===le.preReleaseContent.coverArt.sources.length?null:{albumType:le.preReleaseContent.type,title:le.preReleaseContent.name,uri:le.uri,releaseDate:new Date(le.releaseDate.isoString),coverArt:le.preReleaseContent.coverArt.sources}:null;var le;const ce=r&&oe,de=O?.totalLength||ce||!!J,ue=(M?[M,...B]:B).filter(Ii).filter(((e,t,n)=>n.map((e=>e.uri)).indexOf(e.uri)===t));const me=ne?.extractedColors?.colorRaw.hex||se?.extractedColors?.colorRaw.hex||It.EFd,pe="RelatedVideoPage"===j.relatedVideos.__typename?j.relatedVideos.items.filter((e=>"Track"===e.trackOfVideo.data.__typename)):[];return(0,v.jsxs)("div",{className:is.c.overview,children:[(0,v.jsx)(d.Q,{children:(0,Bt.S2)({artistName:P})}),(0,v.jsx)(Us,{uri:t,artist:{sharingInfo:R,monthlyListeners:z||0,name:X,verified:$||!1,headerImage:ne||{sources:[],extractedColors:null},avatarImage:se||{sources:[],extractedColors:null}},togglePlay:T,isPlaying:I,isActive:N,spec:f}),(0,v.jsxs)("div",{className:is.c.artistOverviewContent,children:[(0,v.jsx)(ts,{uri:t,togglePlay:T,isPlaying:I,isActive:N,spec:m,logger:p,backgroundColor:me,name:X,sharingInfo:R,artistId:e}),(0,v.jsxs)("div",{className:"contentSpacing",children:[(0,v.jsx)("div",{children:(0,v.jsx)(Se.C,{render:({columnCount:t})=>{const n={"--column-count":t};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:l()(is.c.popularTracks,{[is.c.popularTracksBlock]:t<6||!de}),style:{...n},children:[(0,v.jsx)(C.a,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:is.c.heading,children:c._s.get("artist.popular-tracks")}),H.length?(0,v.jsx)(h,{spec:y,children:(0,v.jsx)(Nt.E,{nrTracks:H.length,initialTracks:H,usePlayContextItem:k})}):null]}),de&&(0,v.jsxs)("div",{className:l()(is.c.artistSides,{[is.c.artistSidesBlock]:t<6}),style:{...n},children:[ce&&Q?(0,v.jsx)(Os,{prerelease:oe,className:is.c.sideBlock,spec:m.featuredFactory().upcomingReleaseFactory()}):null,O?.totalLength?(0,v.jsx)(Si,{className:is.c.sideBlock,uri:`${(0,Oe.ag)(e)}:saved`,name:X,nrTracks:O.totalLength,avatarImages:se?.sources,spec:m.featuredFactory().likedSongsFactory()}):null,J?(0,v.jsx)(fi,{className:is.c.sideBlock,avatarImages:se?.sources,artistName:X,item:J,spec:m.featuredFactory().pickedFactory()}):null]})]})},className:is.c.artistOverviewContainer})}),(0,v.jsxs)(h,{spec:m,children:[(0,v.jsx)(kt.Q,{property:Ee.sQt,renderOldExperience:()=>(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Ut.oL,{value:"shelf/popular-releases",children:(0,v.jsx)(Ot.c,{total:G+(M?1:0),title:c._s.get("artist-page.popular"),className:is.c.artistShelfSpacer,index:0,id:"popular-releases",children:ue.map(((e,n)=>(0,v.jsx)(Ut.oL,{value:"card",index:n,children:(0,v.jsx)(ct.u,{index:n,latest:e.uri===M?.uri,showType:!0,...(0,Oe.eQ)(e,t,X)})},e.uri)))})}),(0,v.jsx)(Ut.oL,{value:"shelf/albums",children:(0,v.jsx)(Ot.c,{total:j.discography.albums.totalCount,title:c._s.get("artist.albums"),seeAllUri:`${(0,Oe.ag)(e)}:discography:${Ne.s1.Album.toLowerCase()}`,seeAllLabel:c._s.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:is.c.artistShelfSpacer,index:1,id:"albums",children:(0,Oe.UJ)(j.discography.albums.items).map(((e,n)=>(0,v.jsx)(Ut.oL,{value:"card",index:n,children:(0,v.jsx)(ct.u,{index:n,latest:e.uri===M?.uri,showType:!0,...(0,Oe.eQ)(e,t,X)})},e.uri)))})}),(0,v.jsx)(Ut.oL,{value:"shelf/singles-and-eps",children:(0,v.jsx)(Ot.c,{total:j.discography.singles.totalCount,title:c._s.get("artist.singles"),seeAllUri:`${(0,Oe.ag)(e)}:discography:${Ne.s1.Single.toLowerCase()}`,seeAllLabel:c._s.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:is.c.artistShelfSpacer,index:2,id:"singles-and-eps",children:(0,Oe.UJ)(j.discography.singles.items).map(((e,n)=>(0,v.jsx)(Ut.oL,{value:"card",index:n,children:(0,v.jsx)(ct.u,{index:n,latest:e.uri===M?.uri,showType:!0,...(0,Oe.eQ)(e,t,X)})},e.uri)))})}),(0,v.jsx)(Ut.oL,{value:"shelf/compilations",children:(0,v.jsx)(Ot.c,{total:j.discography.compilations.totalCount,title:c._s.get("artist.compilations"),seeAllUri:`${(0,Oe.ag)(e)}:discography:${Ne.s1.Compilation.toLowerCase()}`,seeAllLabel:c._s.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:is.c.artistShelfSpacer,index:3,id:"compilations",children:(0,Oe.UJ)(j.discography.compilations.items).map(((e,n)=>(0,v.jsx)(Ut.oL,{value:"card",index:n,children:(0,v.jsx)(ct.u,{index:n,latest:e.uri===M?.uri,showType:!0,...(0,Oe.eQ)(e,t,X)})},e.uri)))})})]}),renderNewExperience:()=>(0,v.jsx)(as,{discography:j.discography,artistId:e,artistUri:t,artistName:X,shelfIndex:0,spec:m})}),(0,v.jsx)(Ut.oL,{value:"shelf/featuring",children:(0,v.jsx)(Ot.c,{total:D.length,title:c._s.get("artist-page.featuring",X),seeAllUri:`${(0,Oe.ag)(e)}:featuring`,className:is.c.artistShelfSpacer,index:n?1:4,id:"featuring",children:D.map(((e,t)=>{if("Playlist"===e.data.__typename){const n=e.data,s="User"===n.ownerV2.data.__typename&&n.ownerV2.data.name||n.name;return(0,v.jsx)(Ut.oL,{value:"card",index:t,children:(0,v.jsx)(xt.I,{index:t,uri:n.uri,name:n.name,authorName:s,description:n.description||"",images:n.images?.items?.[0]?.sources||[]},n.uri)},n.uri)}return null}))})}),re.concerts.items&&re.concerts.items.length>0&&(0,v.jsx)(Dt,{artistId:e,total:re.concerts.totalCount,concerts:re.concerts.items}),a===Ee.szt.VARIANTB&&ae.items.length>0&&(0,v.jsx)(h,{spec:_,children:(0,v.jsx)(Mt.A,{id:e,uri:(0,Oe.Ck)(e),merchItems:ae.items,merchVariant:a})}),(0,v.jsx)(Ut.oL,{value:"shelf/fans-also-like",children:(0,v.jsx)(Ot.c,{total:L.length,title:c._s.get("artist-page.fansalsolike"),seeAllUri:`${(0,Oe.ag)(e)}:related`,className:is.c.artistShelfSpacer,index:n?2:5,id:"fans-also-like",children:L.map(((e,t)=>(0,v.jsx)(Ut.oL,{value:"card",index:t,children:(0,v.jsx)(Tt.M,{index:t,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources||[]})},e.uri)))})}),(0,v.jsx)(Ut.oL,{value:"shelf/appears-on",children:(0,v.jsx)(Ot.c,{total:V.length,title:c._s.get("artist.appears-on"),seeAllUri:`${(0,Oe.ag)(e)}:appears-on`,className:is.c.artistShelfSpacer,index:n?3:6,id:"appears-on",children:V.map(((e,t)=>(0,v.jsx)(Ut.oL,{value:"card",index:t,children:(0,v.jsx)(ct.u,{index:t,showType:!0,...(0,b.aM)(e)})},e.uri)))})}),te.items.length?(0,v.jsx)(Ut.oL,{value:"shelf/artist-playlists",children:(0,v.jsx)(Ot.c,{total:te.totalCount,title:c._s.get("artist-page.artist-playlists"),seeAllUri:`${(0,Oe.ag)(e)}:playlists`,className:is.c.artistShelfSpacer,index:n?4:7,id:"artist-playlists",children:te.items.map(((e,t)=>{if("Playlist"===e.data.__typename){const n=e.data,s="User"===n.ownerV2.data.__typename&&n.ownerV2.data.name||n.name;return(0,v.jsx)(Ut.oL,{value:"card",index:t,children:(0,v.jsx)(xt.I,{index:t,uri:n.uri,name:n.name,authorName:s,description:n.description||"",images:n.images?.items?.[0]?.sources||[]},n.uri)},n.uri)}return null}))})}):null,(0,v.jsx)(Ut.oL,{value:"shelf/discovered-on",children:(0,v.jsx)(Ot.c,{total:W.length,title:c._s.get("artist-page.discovered-on",X),seeAllUri:`${(0,Oe.ag)(e)}:discovered-on`,className:is.c.artistShelfSpacer,index:n?5:8,id:"discovered-on",children:W.map(((e,t)=>{if("Playlist"===e.data.__typename){const n=e.data,s="User"===n.ownerV2.data.__typename&&n.ownerV2.data.name||n.name;return(0,v.jsx)(Ut.oL,{value:"card",index:t,children:(0,v.jsx)(xt.I,{index:t,uri:n.uri,name:n.name,authorName:s,description:n.description||"",images:n.images?.items?.[0]?.sources||[]},n.uri)},n.uri)}return null}))})}),o&&pe.length?(0,v.jsx)(Ut.oL,{value:"shelf/related-videos",children:(0,v.jsx)(Ot.c,{total:"RelatedVideoPage"===j.relatedVideos.__typename?j.relatedVideos.totalCount:0,title:c._s.get("music_videos"),seeAllUri:`${(0,Oe.ag)(e)}:related-videos`,className:l()(is.c.artistShelfSpacer,is.c.artistShelfRelatedVideos),index:n?6:9,id:"related-videos",children:pe.map(((e,t)=>{if("Track"!==e.trackOfVideo.data.__typename)return null;const{data:n}=e.trackOfVideo;return(0,v.jsx)(Ut.oL,{value:"card",index:t,children:(0,v.jsx)(g.MF,{title:n.name,trackUri:n.uri,artists:n.artists.items,album:n.albumOfTrack,contentRating:n.contentRating,referrerIdentifier:"other",index:t})},e.uri)}))})}):null]}),(0,v.jsx)(Se.C,{render:({columnCount:t})=>(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Kt,{className:is.c.about,artistUri:j.uri,name:X,avatarImages:se?.sources.map(Ye.WG),bio:Z?.text||"",bioSource:Z?.type||Ne.Hk.Biography,images:ie.items.map((e=>{const t=e.sources.map(Ye.WG);return(0,Gt.C)(t,{desiredLabel:"large",desiredSize:600})})).filter(Ii),worldRank:K||0,monthlyListeners:z,topCities:q.items||[],followers:Y,externalLinks:ee?.items,spec:m.aboutFactory()}),a===Ee.szt.DEFAULT&&ae.items.length?(0,v.jsxs)("div",{className:l()(is.c.merch,{[is.c.merchSmall]:t<4}),children:[(0,v.jsx)(C.a,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:is.c.heading,children:c._s.get("artist-page.merch")}),(0,v.jsx)(h,{spec:_,children:(0,v.jsx)(_s,{items:ae.items,artistId:e,merchVariant:a})})]}):null]})}),a===Ee.szt.VARIANTA&&ae.items.length>0&&(0,v.jsx)(h,{spec:_,children:(0,v.jsx)("div",{className:is.c.merchShelfContent,children:(0,v.jsx)(Mt.A,{id:e,uri:(0,Oe.Ck)(e),merchItems:ae.items,merchVariant:a})})})]})]})]})})),Ti=s.memo((function(){return(0,v.jsx)(s.Suspense,{fallback:null,children:(0,v.jsx)(Ai,{})})})),ki=Spicetify.GraphQL.Definitions["queryArtistPlaylists"]=new y.a("queryArtistPlaylists","query","54f7e5a5a2af05b7dc98526df376a46c6b15c05440c8dfdc8f6cecb1a807eca7",null),Ni=s.memo((function(){const{artistId:e=""}=(0,i.W4)(),t=(0,b.Ck)(e),{loading:n,error:s,data:r}=(a={uri:t},o={gcTime:15*f.y},(0,f.U)(ki,a,o));var a,o;const h="Artist"===r?.artistUnion.__typename?r.artistUnion:null;if(null===h||s||n)return(0,v.jsx)(u.K,{hasError:null!==s,errorMessage:c._s.get("error.request-artist-playlists")});const g=h.profile.name,{items:y}=h.profile.playlistsV2,_=(0,b.s1)(y);return(0,v.jsxs)("div",{className:l()("contentSpacing",p),children:[g?(0,v.jsx)(d.Q,{children:c._s.get("artist-page.artist-playlists.seo.title",g)}):null,(0,v.jsx)(m.y,{total:_.length,title:c._s.get("artist-page.artist-playlists"),showAll:!0,children:_.map(((e,t)=>(0,v.jsx)(xt.I,{index:t,uri:e.uri,name:e.name,authorName:e.authorName||e.name,description:e.description,images:e.images},e.uri)))})]})})),Oi=Spicetify.GraphQL.Definitions["queryArtistRelated"]=new y.a("queryArtistRelated","query","3d031d6cb22a2aa7c8d203d49b49df731f58b1e2799cc38d9876d58771aa66f3",null),Pi=s.memo((function(){const{artistId:e=""}=(0,i.W4)(),t=(0,b.Ck)(e),{loading:n,error:s,data:r}=(a={uri:t},o={gcTime:15*f.y},(0,f.U)(Oi,a,o));var a,o;const h="Artist"===r?.artistUnion.__typename?r.artistUnion:null;if(null===h||s||n)return(0,v.jsx)(u.K,{hasError:null!==s,errorMessage:c._s.get("error.request-related-artists")});const g=h.profile.name,y=h.relatedContent.relatedArtists.items;return(0,v.jsxs)("div",{className:l()("contentSpacing",p),children:[g?(0,v.jsx)(d.Q,{children:c._s.get("artist-page.fansalsolike.seo.title",g)}):null,(0,v.jsx)(m.y,{title:c._s.get("artist-page.fansalsolike"),total:y.length,showAll:!0,children:y.map(((e,t)=>(0,v.jsx)(Tt.M,{index:t,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources||[]},e.uri)))})]})}));var ji=n(4564),Li=n(33912),Ri=n(37200),Di=n(14432);const Mi=Spicetify.GraphQL.Definitions["queryArtistMinimal"]=new y.a("queryArtistMinimal","query","53d3f76582c49ad0a05dc685955f20dc2a5f2209b192e5446e5e4e623ce23a48",null),Ui="Etjqlb2I2wFLmS0idcnV",Fi=[Li.yw.INDEX,Li.yw.TITLE_AND_ARTIST,Li.yw.ALBUM,Li.yw.ADDED_AT,Li.yw.DURATION],Bi=({artistUri:e,collectionUri:t})=>{const n=(0,Ft.oJ)({offset:0,limit:1,uri:e}),{error:i,data:r}=(a={uri:e},(0,f.U)(Mi,a,o));var a,o;const{usePlayContextItem:d,togglePlay:m,isPlaying:p}=(0,ke.I)({uri:t},{featureIdentifier:"your_library"}),h="Artist"===r?.artistUnion.__typename?r.artistUnion:null;return n&&h&&!i?(0,v.jsxs)("div",{className:l()("contentSpacing",Ui),children:[(0,v.jsxs)(ht.J,{children:[(0,v.jsx)(Be.e,{size:"medium",onClick:()=>m(),isPlaying:p,uri:t}),(0,v.jsx)(Ue.e,{text:c._s.get("artist-page.liked-songs-by-artist-title",h.profile.name)})]}),n.totalLength>0&&(0,v.jsx)(s.Suspense,{fallback:(0,v.jsx)(u.K,{hasError:null!==i,errorMessage:c._s.get("error.request-collection-tracks-failure")}),children:(0,v.jsx)(Ri.i,{columns:Fi,children:(0,v.jsx)(Di.m,{nrTracks:n.totalLength,collectionUri:t,uri:e,usePlayContextItem:d,initialItems:[]})})})]}):null},Gi=()=>{const{artistId:e=""}=(0,i.W4)(),t=(0,b.Ck)(e),n=(0,ji.w1)((({session:e})=>e?.user?.id))||null,s=n?(0,a.IB)(n,e).toURI():null;return n&&s?(0,v.jsx)(Bi,{artistUri:t,collectionUri:s}):null};var Vi=n(8802),Hi=n(46736);const Wi=(0,s.memo)((function(){const{artistId:e=""}=(0,i.W4)(),t=(0,b.Ck)(e),{search:n}=(0,i.IT)(),s=new URLSearchParams(n).get("pageUri"),o=(0,a.nX)(s)?s:null;return(0,v.jsx)(pe.y,{surface:me.g.ARTIST,uris:[t],children:(0,v.jsx)("section",{"":"artist-page","data-test-uri":t,children:(0,v.jsxs)(i.c5,{children:[(0,v.jsx)(i.kX,{path:"discography",element:(0,v.jsx)(Vi.I,{pageId:r.eA.ARTIST_ALBUMS,children:(0,v.jsx)(vt,{})})}),(0,v.jsx)(i.kX,{path:"discography/:albumType",element:(0,v.jsx)(Vi.I,{pageId:r.eA.ARTIST_ALBUMS,children:(0,v.jsx)(vt,{})})}),(0,v.jsx)(i.kX,{path:"featuring",element:(0,v.jsx)(Vi.I,{pageId:r.eA.ARTIST_FEATURING,children:(0,v.jsx)(wt,{})})}),(0,v.jsx)(i.kX,{path:"related",element:(0,v.jsx)(Vi.I,{pageId:r.eA.ARTIST_RELATED,children:(0,v.jsx)(Pi,{})})}),(0,v.jsx)(i.kX,{path:"appears-on",element:(0,v.jsx)(Vi.I,{pageId:r.eA.ARTIST_APPEARS_ON,children:(0,v.jsx)(fe,{})})}),(0,v.jsx)(i.kX,{path:"playlists",element:(0,v.jsx)(Vi.I,{pageId:r.eA.ARTIST_PLAYLISTS,children:(0,v.jsx)(Ni,{})})}),(0,v.jsx)(i.kX,{path:"discovered-on",element:(0,v.jsx)(Vi.I,{pageId:r.eA.ARTIST_DISCOVERED_ON,children:(0,v.jsx)(Et,{})})}),(0,v.jsx)(i.kX,{path:"saved",element:(0,v.jsx)(Vi.I,{pageId:r.eA.ARTIST_SAVED_TRACKS,children:(0,v.jsx)(Gi,{})})}),(0,v.jsx)(i.kX,{path:"related-videos",element:(0,v.jsx)(Vi.I,{pageId:r.eA.ARTIST_RELATED_VIDEOS,children:(0,v.jsx)(x,{})})}),(0,v.jsx)(i.kX,{path:"/",element:o?(0,v.jsx)(Hi.InstrumentedRedirect,{to:{search:n,pathname:"/artist/:artistId/discography"}}):(0,v.jsx)(Vi.I,{pageId:r.eA.ARTIST,children:(0,v.jsx)(Ti,{})})}),(0,v.jsx)(i.kX,{path:"concerts",element:(0,v.jsx)(Vi.I,{pageId:r.eA.ARTIST_CONCERTS,children:(0,v.jsx)(ue,{})})})]})})})}));Wi.displayName="ArtistPage";const zi=Wi},42544:(e,t,n)=>{"use strict";n.d(t,{Ck:()=>r,ID:()=>l,Km:()=>d,Md:()=>c,aM:()=>o,eg:()=>a,s1:()=>u});n(73952),n(97296),n(41260),n(99400);var s=n(84340),i=n(96768);const r=e=>`spotify:artist:${e}`,a=e=>({artists:e.artists.items.map((e=>({uri:e.uri,name:e.profile.name}))),images:e.coverArt?.sources??[],name:e.name,uri:e.uri,sharingInfo:e.sharingInfo??null}),o=e=>({artists:e.artists?.items.map((e=>({uri:e.uri,name:e.profile?.name||""})))||[],images:e.coverArt?.sources||[],name:e.name,uri:e.uri,year:e.date?.year,type:e.type,sharingInfo:e.sharingInfo??null}),l=({track:{uri:e,name:t,playcount:n,duration:{totalMilliseconds:i},contentRating:r,artists:{items:a},albumOfTrack:o,playability:{playable:l},associations:c}},d)=>({uri:e,contextUri:d,totalMilliseconds:i,name:t,contentRating:r?.label||s.A7.None,isPlayable:l,playcount:parseInt(n||"0",10),artists:a.map((e=>({uri:e.uri,name:e.profile.name}))),imageUrl:o?.coverArt?.sources?.length?o?.coverArt.sources[0].url:"",albumUri:o?.uri||"",hasAssociatedVideo:(c?.associatedVideos?.totalCount||0)>0}),c=e=>e?e.reduce(((e,t)=>(e.push(t.releases.items[0]),e)),[]):[],d=e=>e?e.reduce(((e,t)=>(e.push(t.releases.items[0]),e)),[]):[],u=e=>e.map((e=>"Playlist"!==e.data?.__typename?null:{uri:e.data.uri,name:e.data.name,description:e.data.description??"",images:e.data.images?.items?.[0]?.sources??[],authorName:"User"===e.data.ownerV2.data.__typename?e.data.ownerV2.data.name:null})).filter(i.g)},91664:(e,t,n)=>{"use strict";n.d(t,{a:()=>o,E:()=>l});var s=n(49232),i=n(15040),r=n(94192);const a="spotify:playlist:37i9dQZF1DWXkVfVmXHa7l",o="#D4000E";function l(){const e=(0,s.IP)(i.gPb,{loadingValue:!1}),{isActive:t}=(0,r.kP)(a);return e&&t}},74704:(e,t,n)=>{"use strict";n.d(t,{Su:()=>i,bS:()=>r,mE:()=>s,qi:()=>a});const s=o(120),i=o(30),r=o(60),a=o(15);function o(e){return 60*e*1e3}},94868:(e,t,n)=>{"use strict";n.d(t,{cr:()=>i,gT:()=>a,oV:()=>r});var s=n(52276);function i(e){return{url:e.url,width:e.width,height:e.height}}function r(e){if("Episode"===e.__typename){const t=e.podcastV2.data;return"Podcast"!==t.__typename?[]:t.coverArt?.sources.map(i)??[]}return[]}function a(e){switch(e.__typename){case"Artist":return e.visuals.avatarImage?.sources.map(i)??[];case"Album":case"Audiobook":case"Podcast":case"Episode":case"Chapter":return e.coverArt?.sources.map(i)??[];case"Track":return e.albumOfTrack?.coverArt?.sources.map(i)??[];case"Playlist":return e.images.items[0]?.sources.map(i)??[];case"User":return e.avatar?.sources.map(i)??[];case"Merch":return e.image?.sources.map(i)??[];case"ArtistConcerts":{const t=e.mainArtist.data;return"Artist"!==t.__typename?[]:t.visuals.avatarImage?.sources.map(i)??[]}case"GenericError":case"NotFound":case"RestrictedContent":case"BrowseExternalHref":return[];case"BrowseSectionContainer":return e.data?.cardRepresentation?.artwork?.sources.map(i)??[];case"BrowseSpacesHub":return e.artwork?.sources.map(i)??[];case"BrowseClientFeature":return e.artwork?.sources.map(i)??e.iconOverlay?.sources.map(i)??[];default:return(0,s.I)(e),[]}}},77472:(e,t,n)=>{"use strict";n.d(t,{C:()=>S,o:()=>s.o7});var s=n(86604),i=(n(41260),n(10124)),r=n.n(i),a=n(19424),o=n(49232),l=n(40636),c=n(52276),d=n(94868),u=n(82812),m=n(2488);function p(e){const t=(0,d.gT)(e);if(t.length>0)return t[0].url}function h(e,t){switch(e.content.__typename){case"BrowseXlinkResponseWrapper":case"BrowseSectionContainerWrapper":return function(e,t,n){switch(e.__typename){case"BrowseClientFeature":return(0,m.jsx)(u.I,{title:e.title?.transformedLabel??"",pageId:"search",href:e.featureUri,color:e.backgroundColor?.hex,imageUrl:p(e),ubiId:e.featureUri,index:t},e.featureUri);case"BrowseSectionContainer":return e.data?.cardRepresentation?(0,m.jsx)(u.I,{title:e.data.cardRepresentation.title?.transformedLabel??"",pageId:"search",href:(0,s.Ev)(n),color:e.data.cardRepresentation.backgroundColor?.hex,imageUrl:p(e),ubiId:n,index:t},n):null;case"BrowseSpacesHub":{const n=(0,s.gH)(e.spaceId);return(0,m.jsx)(u.I,{title:e.title?.transformedLabel??"",pageId:"search",href:n,color:e.backgroundColor?.hex,imageUrl:p(e),ubiId:n,index:t},n)}case"GenericError":case"NotFound":case"BrowseExternalHref":return null;default:return(0,c.I)(e),null}}(e.content.data,t,e.uri);case"AlbumResponseWrapper":case"ArtistResponseWrapper":case"EpisodeOrChapterResponseWrapper":case"PlaylistResponseWrapper":case"PodcastOrAudiobookResponseWrapper":case"TrackResponseWrapper":case"UserResponseWrapper":case"ConcertResponseWrapper":case"MerchResponseWrapper":case"ArtistConcertsResponseWrapper":case"NoContent":case"UnknownType":return null;default:return(0,c.I)(e.content),null}}var g=n(90496),f=n(15040),y=n(74704),_=n(88272),b=n(99972);const v=Spicetify.GraphQL.Definitions["browseAll"]=new _.a("browseAll","query","af3487db8587c7600d8415a67472679f975aea83bbc7832847ad343c97bb9174",null),x=()=>{const{data:e}=((e,t)=>(0,b.U)(v,e,t))({pagePagination:{offset:0,limit:10},sectionPagination:{offset:0,limit:99}},{gcTime:y.mE,staleTime:y.Su});return"BrowseSectionContainer"!==e?.browseStart?.__typename?[]:e.browseStart.sections?.items??[]},C="search-searchBrowse-browseAllWrapper";var E=n(4484);const S=({browseAllSpec:e})=>{const t=x(),n=(0,o.IP)(f.M1F);return(0,m.jsx)("div",{className:C,children:t.map(((t,s)=>function(e,t,n,s){if(!e.data?.__typename)return null;switch(e.data.__typename){case"BrowseGridSectionData":return(0,m.jsx)(l.Ud,{spec:t,children:(0,m.jsx)(g.c,{title:e.data?.title?.transformedLabel??"",index:n,id:e.uri,showAll:!0,rowGap:a.Gw,colGap:a.Gw,removeOffsetMargin:!0,className:r()(E.c.titleSpacing,{[E.c.topRowSpacer]:!s}),children:e.sectionItems.items.map(((e,t)=>h(e,t)))})},e.uri);case"BrowseSingleItemSectionData":case"BrowseGenericSectionData":case"BrowseRelatedSectionData":case"BrowseUnsupportedSectionData":return null;default:return(0,c.I)(e.data),null}}(t,e,s,n)))})}},4404:(e,t,n)=>{"use strict";n.d(t,{G:()=>s.G});var s=n(65876)},86524:(e,t,n)=>{"use strict";n.d(t,{HI:()=>u,Mb:()=>r,Ow:()=>m,QD:()=>c,WQ:()=>a,eC:()=>h,eI:()=>d,eM:()=>l,iW:()=>p,is:()=>o,mY:()=>i});var s=n(12100);const i=e=>new Date(e.substring(0,16)),r=e=>s._s.formatDate(e,{weekday:"short",month:"short",day:"numeric"}),a=e=>s._s.formatDate(e,{month:"short"}),o=e=>s._s.formatDate(e,{day:"numeric"}),l=e=>s._s.formatDate(e,{weekday:"short"}),c=e=>s._s.formatDate(e,{month:"short",day:"numeric"}),d=e=>s._s.formatDate(e,{weekday:"short",hour:"numeric",minute:"numeric"}),u=e=>s._s.formatDate(e,{hour:"numeric",minute:"numeric"}),m=(e,t)=>{if(e.toDateString()===t.toDateString())return r(e);if(e.getMonth()===t.getMonth()){return`${s._s.formatDate(e,{day:"numeric",month:"short"})}–${s._s.formatDate(t,{day:"numeric"})}`}return`${s._s.formatDate(e,{day:"numeric",month:"short"})}–${s._s.formatDate(t,{day:"numeric",month:"short"})}`},p=e=>{if(!e)return!1;const t=new Date(e);return new Date>t},h=e=>{if(!e)return!1;const t=new Date(e);return new Date<t}},37496:(e,t,n)=>{"use strict";n.d(t,{GG:()=>i,MD:()=>a,ML:()=>d,_0:()=>o,_C:()=>l,cL:()=>c,iQ:()=>u});n(73952),n(97296),n(41260);var s=n(12100);const i=(e,t,n)=>!!e&&(t||!n.length),r=e=>e.artists.map((e=>e.name)),a=e=>1===e.length?s._s.get("concert.header.upcoming_concert_title_1",...e):2===e.length?s._s.get("concert.header.upcoming_concert_title_2",...e):3===e.length?s._s.get("concert.header.upcoming_concert_title_3",...e):4===e.length?s._s.get("concert.header.upcoming_concert_title_4",...e):e.length>4?s._s.get("concert.header.upcoming_concert_title_more",...e):"",o=e=>{const t=r(e);return i(e.title,e.festival,t)?e.title:a(t)},l=e=>1===e.length?s._s.get("concert.header.entity_title_1",...e):2===e.length?s._s.get("concert.header.entity_title_2",...e):3===e.length?s._s.get("concert.header.entity_title_3",...e):4===e.length?s._s.get("concert.header.entity_title_4",...e):e.length>4?s._s.get("concert.header.entity_title_more",...e):"",c=e=>{const t=r(e);return i(e.title,e.festival,t)?e.title:l(t)},d=({name:e,city:t,region:n,country:i})=>[e,t,n,i].filter((e=>!!e&&"unknown"!==e.toLowerCase())).join(s._s.getSeparator()),u=e=>{if(!e.artists||0===e.artists.items.length)return e.title;if(e.festival)return e.title;const t=e.artists.items.map((e=>e.profile.name));return l(t)}},52376:(e,t,n)=>{"use strict";n.d(t,{A:()=>s.Aj,S:()=>s.Sk});var s=n(57472)},57472:(e,t,n)=>{"use strict";n.d(t,{Aj:()=>b,C8:()=>x,Q5:()=>E,Sk:()=>v,eu:()=>C,kJ:()=>S});var s=n(50632),i=n(28528),r=n(76920),a=n(98208),o=n(38272),l=n(40968),c=n(96368),d=n(59888),u=n(70976),m=n(48144),p=n(47448),h=n(54632),g=n(9840),f=n(37176),y=n(12100),_=n(15563);function b(e){return e===_.KQ.CAST_AUDIO||e===_.KQ.CAST_VIDEO}function v(e,t){let n=s.y;switch(t?"multispeaker":e){case _.KQ.COMPUTER:case _.KQ.CHROMEBOOK:n=i.Y;break;case _.KQ.TABLET:n=r.W;break;case _.KQ.SMARTPHONE:n=a.o;break;case _.KQ.SPEAKER:case _.KQ.CAST_AUDIO:case _.KQ.AUDIO_DONGLE:case _.KQ.HomeThing:n=o.S;break;case _.KQ.TV:case _.KQ.STB:case _.KQ.CAST_VIDEO:n=l.g;break;case _.KQ.AVR:n=c.u;break;case _.KQ.GAME_CONSOLE:n=d.Q;break;case _.KQ.SMARTWATCH:n=u.I;break;case _.KQ.CarThing:case _.KQ.AUTOMOBILE:n=m.k;break;case"multispeaker":n=p.E}return n}function x(e,t="disconnected"){return b(e)?"connected"===t?h.A:g.q:f.M}function C(e,t){let n;switch(e){case _.O8.PREMIUM_REQUIRED:n=y._s.get("web-player.connect.device-picker.get-premium");break;case _.O8.NOT_INSTALLED:n=y._s.get("web-player.connect.device-picker.install-spotify");break;case _.O8.UNSUPPORTED_URI:n=y._s.get("web-player.connect.device-picker.unsupported-uri");break;case _.O8.INCOMPATIBLE:n=y._s.get("web-player.connect.device-picker.update-device");break;case _.O8.NOT_AUTHORIZED:n=t?y._s.get("web-player.connect.device-picker.playstation-unauthorized"):y._s.get("web-player.connect.device-picker.device-unavailable");break;case _.O8.UNAVAILABLE:n=y._s.get("web-player.connect.device-picker.device-unavailable");break;case _.O8.AD_PLAYING:n=y._s.get("web-player.connect.device-picker.ad-playing");break;case _.O8.NARRATION:n=y._s.get("web-player.connect.device-picker.tts-playing");break;case _.O8.WAKING_UP:n=y._s.get("web-player.connect.device-picker.wakingup-device");break;case _.O8.TIMED_OUT_WAKEUP:n=y._s.get("web-player.connect.device-picker.wakeup-timeout");break;case _.O8.UNKNOWN:default:n=y._s.get("web-player.connect.device-picker.restart-device")}return{helpText:n,tooltip:undefined}}function E(e){return void 0!==e&&2===e.available.length&&e.available.includes("cast")&&e.available.includes("connect")}function S(e,t){return e===_.KQ.GAME_CONSOLE&&("ps5"===t||"ps4"===t)}},21448:(e,t,n)=>{"use strict";n.d(t,{U:()=>m});var s=n(96651),i=n(50508);n(73952),n(97768),n(39568),n(41260);let r=function(e){return e[e.POPUP=0]="POPUP",e[e.FLOATING=1]="FLOATING",e}({});function a(e){return e instanceof Node&&"STYLE"===e.nodeName}function o(e){return e instanceof Node&&"LINK"===e.nodeName}function l({nodeName:e,attributes:t}){return`${e}${Array.from(t).map((({name:e,value:t})=>`[${e}="${t}"]`)).join("")}`}function c(e){const t=window.open("about:blank",function(e){const{name:t,type:n}=e;switch(n){case r.POPUP:default:return t;case r.FLOATING:return`${t}@auxiliary`}}(e),function(e){const{position:{x:t,y:n},size:{width:s,height:i}}=e;return`left=${t},top=${n},width=${s},height=${i}`}(e));if(null!==t){n=window.document,(s=t.document).head.querySelectorAll("style, link[rel=stylesheet]").forEach((e=>{s.head.removeChild(e)})),Array.from(n.styleSheets).forEach((e=>{if(e.href){const t=n.createElement("link");t.rel="stylesheet",t.href=e.href,s.head.appendChild(t)}else try{if(e.cssRules){const t=s.createElement("style");Array.from(e.cssRules).forEach((e=>{t.appendChild(s.createTextNode(e.cssText))})),s.head.appendChild(t)}}catch(t){console.warn("Failed to read `styleSheet.cssRules` - possibly a CORS issue?!",e)}})),function(e,t){const n=e.createElement("base");n.setAttribute("href",t),e.head.appendChild(n)}(t.document,`${window.location.protocol}//${window.location.hostname}/`);let i=null;i=new MutationObserver((e=>{for(const n of e)n.addedNodes.forEach((e=>{(o(e)||a(e))&&t.document.head.appendChild(e.cloneNode(!0))})),n.removedNodes.forEach((e=>{if(o(e))t.document.head.querySelector(l(e))?.remove();else if(a(e)){const n=e.textContent;Array.from(t.document.head.querySelectorAll(l(e))).find((({textContent:e})=>e===n))?.remove()}}))})),i.observe(window.document.head,{childList:!0}),t.addEventListener("pagehide",(()=>{null!==i&&(i.disconnect(),i=null),e.onClose?.(t)}))}var n,s;return t}function d(e,t){window.updateAuxiliaryWindow(e.name,t)}const u={name:"debug-window",type:r.POPUP,position:{x:200,y:200},size:{width:1200,height:800}};function m(){const{handle:e,open:t,close:n}=function(e){const[t,n]=(0,i.od)(),a=(0,s.useRef)(e),o=e.type===r.FLOATING,l=t.get(e.name);a.current=e;const u=(0,s.useCallback)((()=>{null!==l&&(l.close(),n((0,i.CS)(a.current.name)))}),[n,l]),m=(0,s.useCallback)((()=>{if(null!==l)return;const e=c({...a.current,onClose:e=>{a.current.onClose?.(e),n((0,i.CS)(a.current.name))}});null!==e&&(o&&d(e,a.current),n((0,i.O4)(a.current.name,e)))}),[n,o,l]),p=(0,s.useCallback)((e=>{null!==l&&o&&d(l,e)}),[o,l]);return(0,s.useEffect)((()=>(window.addEventListener("pagehide",u),()=>{window.removeEventListener("pagehide",u)})),[u]),{handle:l,open:m,close:u,update:p}}(u);return{handle:e,show:t,hide:n}}},61392:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var s=n(96651),i=n(4564),r=n(4732),a=n(808);function o(){const e=(0,a.o)(),t=(0,i.OY)();return(0,s.useCallback)(((n,s)=>new Promise((i=>t((0,r.kf)(n,(()=>e.removeDownload(n,s).then((()=>i(!0)))),(()=>i(!1)),s))))),[t,e])}},58916:(e,t,n)=>{"use strict";n.d(t,{E:()=>r.E,O:()=>i});var s=n(33220);function i(e){const{search:t}=(0,s.IT)();return new URLSearchParams(t).get("feature-activation")===e}var r=n(7748)},7748:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});let s=function(e){return e.SmartShuffle="smart-shuffle",e.GroupSessions="group-sessions",e.Blend="blend",e.CollaborativePlaylists="collaborative-playlists",e.Dj="dj",e.VeryHighQualityAudio="very-high-quality-audio",e.LiveEvents="live-events",e}({})},45208:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var s=n(49232),i=n(15040);const r=()=>{const e=(0,s.IP)(i.ct1);return e===i.c$p.HOME_NEXT_TO_NAVIGATION||e===i.c$p.HOME_NEXT_TO_SEARCH}},39628:(e,t,n)=>{"use strict";n.d(t,{Kq:()=>d,g1:()=>m,kP:()=>c,ys:()=>u});var s=n(88272),i=n(99972);const r=Spicetify.GraphQL.Definitions["home"]=new s.a("home","query","670984c8806dabf714260ff51e12e434c5a795c8843928c2e0ac601a02cf5e8b",null),a=Spicetify.GraphQL.Definitions["homeFeedChips"]=new s.a("homeFeedChips","query","670984c8806dabf714260ff51e12e434c5a795c8843928c2e0ac601a02cf5e8b",null),o=Spicetify.GraphQL.Definitions["homeSubfeed"]=new s.a("homeSubfeed","query","670984c8806dabf714260ff51e12e434c5a795c8843928c2e0ac601a02cf5e8b",null),l=Spicetify.GraphQL.Definitions["homeSection"]=new s.a("homeSection","query","670984c8806dabf714260ff51e12e434c5a795c8843928c2e0ac601a02cf5e8b",null),c=(e,t)=>(0,i.U)(r,e,t),d=(e,t)=>(0,i.U)(a,e,t),u=(e,t)=>(0,i.U)(o,e,t),m=(e,t)=>(0,i.U)(l,e,t)},89291:(e,t,n)=>{"use strict";n.d(t,{gT:()=>d,kQ:()=>h,ms:()=>p,oV:()=>c,s7:()=>u});var s=n(14788),i=n(31396),r=n(33896),a=n(84340),o=n(52276);function l(e){return{url:e.url,width:e.width,height:e.height}}function c(e){if("Episode"===e.__typename){const t=e.podcastV2.data;return"Podcast"!==t.__typename?[]:t.coverArt?.sources.map(l)??[]}return[]}function d(e){switch(e.__typename){case"Artist":return e.visuals.avatarImage?.sources.map(l)??[];case"Album":case"Audiobook":case"Podcast":case"Episode":case"Chapter":return e.coverArt?.sources.map(l)??[];case"Track":return e.albumOfTrack?.coverArt?.sources.map(l)??[];case"Playlist":return e.images.items[0]?.sources.map(l)??[];case"User":return e.avatar?.sources.map(l)??[];case"GenericError":case"NotFound":case"RestrictedContent":return[];default:return(0,o.I)(e),[]}}function u(e){switch(e.__typename){case"Artist":return(0,r.y_)(e.visuals.avatarImage?.extractedColors);case"Album":case"Audiobook":case"Podcast":case"Episode":case"Chapter":return(0,r.y_)(e.coverArt?.extractedColors);case"Track":return(0,r.y_)(e.albumOfTrack?.coverArt?.extractedColors);case"Playlist":return(0,r.y_)(e.images.items[0]?.extractedColors);case"User":return(0,r.y_)(e.avatar?.extractedColors);case"GenericError":case"NotFound":case"RestrictedContent":return;default:return void(0,o.I)(e)}}function m(e){return{uri:e??"",name:"",images:[],error:!0}}function p(e){const t=function(e){if("UnknownType"===e.content.__typename){const t=(0,s.nX)(e.uri);if((0,s.W8)(e.uri)||t?.id===s.cH.COLLECTION)return e.uri.endsWith("your-episodes")?(0,i.SG)(t?.username):e.uri.endsWith("local-files")?(0,i.qw)():(0,i.a0)(t?.username)}return null}(e);return null!==t?t:function(e){if(null===e||"UnknownType"===e.content.__typename)return m(e?.uri??null);const t=e.content.data;if(!t)return m(e?.uri??null);switch(t.__typename){case"Artist":return{uri:e.uri,name:t.profile.name??"",images:d(t)};case"Album":case"Audiobook":case"Podcast":case"Track":case"User":return{uri:e.uri,name:t.name??"",images:d(t)};case"Playlist":return{uri:e.uri,name:t.name??"",images:d(t),formatListAttributes:t.attributes??[]};case"Episode":return{uri:e.uri,name:t.name??"",images:d(t),release_date:t.releaseDate?.isoString,resume_point:{resume_position_ms:t.playedState.playPositionMilliseconds,fully_played:t.playedState.state===a.QF.Completed},podcast:"Podcast"===t.podcastV2.data.__typename?{uri:t.podcastV2.data.uri,name:t.podcastV2.data.name,images:d(t.podcastV2.data)}:void 0,duration_ms:t.duration.totalMilliseconds};case"Chapter":return"Audiobook"===t.audiobookV2.data.__typename?{uri:t.audiobookV2.data.uri,name:t.audiobookV2.data.name??"",images:d(t.audiobookV2.data)}:{uri:e.uri,name:t.name??"",images:d(t)};case"GenericError":case"NotFound":case"RestrictedContent":return m(e.uri);default:return(0,o.I)(t),m(e?.uri??null)}}(e)}function h(e){return function(e){if(!e||"UnknownTypeWrapper"===e.__typename)return m(e?._uri??null);if("GenreResponseWrapper"===e.__typename||"ConcertResponseWrapper"===e.__typename||"MerchResponseWrapper"===e.__typename||"PreReleaseResponseWrapper"===e.__typename)return m(null);const t=e?.data;switch(t.__typename){case"Artist":return{uri:t.uri,name:t.profile.name??"",images:d(t)};case"Album":case"Audiobook":case"Podcast":case"Track":case"User":return{uri:t.uri,name:t.name??"",images:d(t)};case"Playlist":return{uri:t.uri,name:t.name??"",images:d(t),formatListAttributes:t.attributes??[]};case"Episode":return{uri:t.uri,name:t.name??"",images:d(t),release_date:t.releaseDate?.isoString,resume_point:{resume_position_ms:t.playedState.playPositionMilliseconds,fully_played:t.playedState.state===a.QF.Completed},podcast:"Podcast"===t.podcastV2.data.__typename?{uri:t.podcastV2.data.uri,name:t.podcastV2.data.name,images:d(t.podcastV2.data)}:void 0,duration_ms:t.duration.totalMilliseconds};case"Chapter":return"Audiobook"===t.audiobookV2.data.__typename?{uri:t.audiobookV2.data.uri,name:t.audiobookV2.data.name??"",images:d(t.audiobookV2.data)}:{uri:t.uri,name:t.name??"",images:d(t)};case"GenericError":case"NotFound":case"RestrictedContent":return m(null);default:return(0,o.I)(t),m(null)}}(e)}},72544:(e,t,n)=>{"use strict";function s(e,t){return{...e,data:t}}n.d(t,{g:()=>s})},41264:(e,t,n)=>{"use strict";function s(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone??""}n.d(t,{AD:()=>r,NJ:()=>s,QR:()=>i});const i=18e5,r=3e5},79504:(e,t,n)=>{"use strict";n.d(t,{M:()=>u,k:()=>W});var s=n(96651),i=n(49612),r=n(53880),a=n(12100),o=n(39772),l=n(8508);const c="Ka2HOvFsfXcLu7He0nTD";var d=n(2488);const u=()=>{const e=a._s.getLocaleForTranslation(),t=o.ob[e]??o.ob.en,n=(0,l.h3)(),u=(0,s.useCallback)((()=>{n({type:"OPEN"})}),[n]);return(0,d.jsx)("div",{className:c,children:(0,d.jsx)(i.w,{iconLeading:r.a,size:"small",onClick:u,"":"language-selection-button",children:t.displayName})})};n(41260);var m=n(66112),p=n(4564),h=n(8004),g=n(19424),f=n(80676),y=n(5948),_=n(62572),b=n(10156);var v=n(88004),x=n(14788),C=n(60016),E=n(54584),S=n(47824);const w="Gf_hXbIvfUvlnE_jnkw8",I=({children:e,locale:t,onClick:n,type:s="button"})=>{const i=t===C.Qb,r=(0,v.au)(window.location.pathname),a=(0,x.nX)(window.location.pathname),o=(0,S.W)({type:"route",uri:r?"":a?.toURI()}),l={className:w,id:t,onClick:e=>(e=>{if("button"===s){e.preventDefault();const t=new URL(window.location.href);window.location.href.includes("locale")&&t.searchParams.delete("locale"),window.location.href=t.href}n(t)})(e),"":`language-option-${t}`};if("link"===s){const n=(0,E.Qd)(window.location.pathname,!i),s=(0,E.oP)(n,(0,f.kH)(t).baseName),r=o?s:window.location.pathname,a=(e=>e.endsWith("/")?e.slice(0,-1):e)(`${window.location.origin}${r}`);return(0,d.jsx)("a",{href:a,...l,children:e})}return(0,d.jsx)("button",{...l,children:e})},A="QN6q7D8yep8_vpem9h9t",T=({style:e,children:t})=>(0,d.jsx)("div",{className:A,style:e,children:t});var k=n(10124),N=n.n(k),O=n(49232),P=n(15040);const j="zR8QNf_xkSN8l2nrr7qn",L="XOuJWoOqDoKhvu3tpsf1",R="VdanMHKK5Onw77cpKNJo",D="biCYmK3d8L8l7A_xC_Ge",M="uzrPPSY_Qq9u4Yos40TQ",U="VtOVn196CnZ8321SwK5W",F=({onClose:e,children:t})=>{const n=(0,s.useRef)(null),{isOpen:i}=(0,l.gz)(),r=(0,O.IP)(P.Sw);return(0,d.jsx)("div",{"":"language-selection-modal",className:N()(j,"encore-dark-theme","encore-layout-themes",{"vertical-metrics":r,[L]:i}),onClick:t=>{t.target===n.current&&e()},role:"presentation",ref:n,children:t})},B=({ariaDescribedBy:e,ariaLabelledBy:t,children:n})=>{const{isOpen:s}=(0,l.gz)();return(0,d.jsx)("div",{className:R,role:"dialog",hidden:!s,"aria-modal":!0,"aria-labelledby":t,"aria-describedby":e,children:n})};var G=n(76008);const V=({onClose:e})=>(0,d.jsx)("button",{"":"close-button",className:U,onClick:()=>{e()},children:(0,d.jsx)(G.K,{size:"small","aria-label":a._s.get("close")})});var H=n(32848);const W=({languageSelectionModalRef:e})=>{const t=(0,s.useRef)(null),[n,i]=(0,s.useState)("0"),r=(0,l.h3)(),c=(0,p.w1)(H.Y3),u=(0,s.useCallback)((()=>{r({type:"CLOSE"})}),[r]),{isOpen:x}=(0,l.gz)(),C=(0,s.useCallback)((()=>{t.current&&i(`${t.current.getBoundingClientRect().height}px`)}),[i]),E=e=>{var t;(0,b.y)({name:"sp_locale",value:e,domain:(t="open.spotify.com",t.substring(t.indexOf("."))),days:365}),u()};var S;if(S=u,(0,s.useEffect)((()=>{const e=e=>{"Escape"===e.key&&S()};return window.addEventListener("keyup",e,!1),()=>window.removeEventListener("keyup",e)})),(0,_.m)({refOrElement:t,observeOnly:"height",onResize:C}),!e.current)return null;const w="language-selection-title",A="language-selection-subtitle",k={"--header-height":n};return(0,m.createPortal)((0,d.jsx)(y.W,{active:x,children:(0,d.jsx)("div",{children:(0,d.jsx)(F,{onClose:u,children:(0,d.jsxs)(B,{ariaLabelledBy:w,ariaDescribedBy:A,children:[(0,d.jsxs)("div",{className:D,ref:t,children:[(0,d.jsxs)("div",{className:M,children:[(0,d.jsx)(h.a,{as:"h1",variant:"titleSmall",semanticColor:"textBase",id:w,paddingBottom:g.q,children:a._s.get("i18n.language-selection.title")}),(0,d.jsx)(h.a,{as:"p",variant:"bodyMedium",semanticColor:"textBase",id:A,paddingBottom:g.gm,children:a._s.get("i18n.language-selection.subtitle")})]}),(0,d.jsx)(V,{onClose:u})]}),(0,d.jsx)(T,{style:{...k},children:o.wl.map((e=>{const t=(0,f.kH)(e).baseName,n=(0,v.QZ)({localeFeatureFlag:c,urlLocale:t,type:"locale"});return(0,d.jsxs)(I,{onClick:E,locale:e,type:n?"link":"button",children:[(0,d.jsx)(h.a,{semanticColor:"textBase",children:o.ob[e].displayName}),(0,d.jsx)(h.a,{children:o.ob[e].displayNameEn})]},e)}))})]})})})}),e.current)}},17456:(e,t,n)=>{"use strict";n.d(t,{_W:()=>se,aV:()=>re,WO:()=>z,cj:()=>te});var s=n(96651),i=n(10124),r=n.n(i),a=n(33220),o=n(8196),l=n(52e3),c=n(46432),d=n(8004),u=n(58024),m=n(75628),p=n(47676),h=n(12100),g=n(85988),f=n(58136),y=n(13932),_=n(81040),b=n(40636),v=n(49232),x=n(15040),C=n(37116),E=n(46236);const S="JLo1AK5KamqWiQCqUcMw";var w=n(2488);const I=({children:e})=>{const[t,n]=(0,C.k)("search-callout-seen",!1),i=(0,a.IT)(),r=(0,s.useCallback)((()=>{n(!0)}),[n]);return(0,s.useEffect)((()=>{i.pathname.startsWith("/search")&&r()}),[i,r]),(0,w.jsx)(E.g,{title:h._s.get("navbar.search.callout-title"),description:h._s.get("navbar.search.callout-description"),id:"searchCallout",visible:!t,onHide:r,onPrimaryButtonClick:()=>{},showButtons:!1,hideOnClickOutside:!1,placement:"left-start",tippyClassName:S,children:e})},A=({children:e})=>(0,v.IP)(x.i0e)===x._gx.CALLOUT?(0,w.jsx)(I,{children:e}):(0,w.jsx)(w.Fragment,{children:e}),T=({children:e})=>{const t=e??null;return(0,w.jsx)(s.Suspense,{fallback:t,children:(0,w.jsx)(A,{children:e})})};var k=n(11732),N=n(76872),O=n(92280),P=n(15700);const j="main-yourLibraryX-navItems",L="g1yJy2c8BZoVHosYM8W9",R="FhYyy6QP2zu_ImcCjKWg",D="main-yourLibraryX-navItem",M="main-yourLibraryX-navLink",U="main-yourLibraryX-navItemOffline",F="main-yourLibraryX-navLinkActive",B=()=>{const{spec:e,logger:t}=(0,b.gp)(p.G,{}),n=(0,f.aM)(),s=(0,a.IT)(),i=!(0,y.O)(),v=(0,_.Iz)(),x=(0,P.m)(),C=(0,O.A)(),E="/"===s.pathname||"/home"===s.pathname;return(0,w.jsxs)(w.Fragment,{children:[x&&C&&(0,w.jsx)("div",{className:L,children:(0,w.jsx)(k.default,{to:"/",className:R,children:(0,w.jsx)(o.k,{height:"24"})})}),(0,w.jsxs)("ul",{className:j,children:[(0,w.jsx)("li",{className:r()(D,"InvalidDropTarget"),children:(0,w.jsx)(g.Yl,{label:n?h._s.get("view.web-player-home"):null,disabled:!n,placement:"right",children:(0,w.jsxs)(N.A,{to:"/",referrer:"home",className:r()("link-subtle",M,{[F]:E}),"aria-label":h._s.get("view.web-player-home"),onClick:()=>{const n=e.homeButtonFactory().hitUiNavigate({destination:"spotify:app:home"});E?v.current?.scrollTo({top:0,behavior:"smooth"}):t.logInteraction(n)},children:[(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(l.C,{className:"home-icon","aria-hidden":"true"}),(0,w.jsx)(c.Y,{className:"home-active-icon","aria-hidden":"true"})]}),!n&&(0,w.jsx)(d.a,{variant:"bodyMediumBold",children:h._s.get("view.web-player-home")})]})})}),(0,w.jsx)("li",{className:r()(D,"InvalidDropTarget"),children:(0,w.jsx)(g.Yl,{label:i?h._s.get("offline.feedback-text"):h._s.get("navbar.search"),disabled:!i&&!n,placement:n?"right":"top",children:(0,w.jsxs)(N.A,{to:"/search",referrer:"search",className:r()("link-subtle",M,{[F]:s.pathname.startsWith("/search")||"search"===s.state?.pageId,[U]:i}),onClick:n=>{const r=e.searchButtonFactory().hitUiNavigate({destination:"spotify:app:search"});i&&n.preventDefault(),s.pathname.startsWith("/search")||t.logInteraction(r)},"aria-label":h._s.get("navbar.search"),children:[(0,w.jsx)(u.O,{className:"search-icon","aria-hidden":"true"}),(0,w.jsx)(m.w,{className:"search-active-icon","aria-hidden":"true"}),!n&&(0,w.jsx)(T,{children:(0,w.jsx)(d.a,{variant:"bodyMediumBold",children:h._s.get("navbar.search")})})]})})})]})]})};var G=n(45208);const V="main-yourLibraryX-entryPoints",H="main-yourLibraryX-library",W=(0,s.lazy)((async()=>{const{YourLibraryX:e}=await Promise.resolve().then(n.bind(n,63972));return{default:e}})),z=()=>{const e=(0,G.u)();return(0,w.jsxs)(w.Fragment,{children:[!e&&(0,w.jsx)("div",{className:V,children:(0,w.jsx)(B,{})}),(0,w.jsx)("div",{className:r()(V,H),children:(0,w.jsx)(s.Suspense,{fallback:null,children:(0,w.jsx)(W,{})})})]})};var Y=n(4564),K=n(93328),q=n(60016),Q=n(99640);const X="NPU6LmfFDlgTJ7QeeYaK",$="ii8I2whaOzTr7LiAc8I3",J=()=>{const[e,t]=(0,s.useState)(!1),n=(0,O.A)(),i=(0,Y.w1)(Q.SS);(0,s.useEffect)((()=>{const e=setTimeout((()=>{t(!0)}),1100);return()=>{t(!1),clearTimeout(e)}}),[]);const r=(0,Y.w1)(Q.y4);return n&&e?(0,w.jsx)(K.YX,{language:h._s.getLocaleForSmartling(),market:i.toLowerCase(),children:(0,w.jsxs)("div",{className:X,"":"left-sidebar-legal-links",children:[(0,w.jsx)(K.ey,{}),(0,w.jsx)("a",{draggable:!1,href:q.EP,target:"_blank",rel:"noopener",className:$,children:(0,w.jsx)(d.a,{variant:"marginal",children:h._s.get("cookies")})}),r&&(0,w.jsx)("a",{draggable:!1,href:q.YN,target:"_blank",rel:"noopener",className:$,children:(0,w.jsx)(d.a,{variant:"marginal",children:"Форма для Ваших обращений"})})]})}):null};var Z=n(79504);const ee="i4nABk12gLqZuh9Jbdw1",te=(0,s.memo)((function({isAnonymous:e}){return(0,w.jsx)("div",{className:ee,"":"left-sidebar-footer",children:e&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(J,{}),(0,w.jsx)(Z.M,{})]})})}));var ne=n(53e3);const se="createPlaylist",ie={getTitle:()=>h._s.get("action-trigger.create-playlist"),getDescription:()=>h._s.get("action-trigger.login-playlist")},re=({children:e,renderInline:t})=>(0,w.jsx)(ne.e,{id:se,options:{...ie,renderInline:t},children:e})},47212:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var s=n(60328),i=n(96275),r=n(55356);const a={[r.k.ADDED_AT]:i.Sy.ADDED_AT,[r.k.ADDED_BY]:null,[r.k.ALBUM]:i.Sy.ALBUM_NAME,[r.k.ARTIST]:i.Sy.ARTIST_NAME,[r.k.DURATION]:null,[r.k.TITLE]:i.Sy.NAME},o=e=>{const t=(0,s.Qn)(e);if(!t)return;const n=a[t.field],i=t.order;return n&&i?{field:n,order:i}:void 0}},67324:(e,t,n)=>{"use strict";n.d(t,{w:()=>f});var s=n(12100),i=n(72312),r=n(92236),a=n(52588),o=n(38484),l=n(18656),c=n(31396),d=n(4564),u=n(68964),m=n(36356),p=n(90332);var h=n(2488);const g=({metadata:e,index:t})=>{const{isPlaying:n,togglePlay:l}=(0,a.I)({uri:e.uri},{featureIdentifier:"your_library"}),{name:c,images:d}=e;return(0,h.jsx)(i.M,{index:t,delegatePlayback:!0,delegateLogging:!0,isPlaying:n,featureIdentifier:"your_library",onPlay:(e,t)=>l({loggingParams:t}),headerText:c,uri:e.uri,renderCardImage:()=>(0,h.jsx)(r.y,{images:d}),renderSubHeaderContent:()=>(0,h.jsx)(o.C,{children:s._s.get("tracklist-header.songs-counter",e.totalLength)})})},f=({index:e})=>{const t=function(){const e=(0,m.oJ)({offset:0,limit:1}),{user:t}=(0,d.w1)(u.cx);if(null===e||null===t)return null;const n=(0,c.a0)(t.id);return n?{uri:n.uri,name:n.name,images:n.images,totalLength:e?.totalLength,unfilteredTotalLength:e.unfilteredTotalLength,owner:(0,p.G)(t)}:null}();return t?(0,h.jsx)(g,{metadata:t,index:e}):(0,h.jsx)(l.O,{cardImage:(0,h.jsx)(r.y,{images:c.Sc}),isLoading:!0})}},14660:(e,t,n)=>{"use strict";n.d(t,{G:()=>i,M:()=>s});const s=18e5,i=6e5},53660:(e,t,n)=>{"use strict";n.d(t,{w:()=>y});var s=n(40468),i=n(49232),r=n(14788),a=n(19872),o=n(24544),l=n(14660),c=n(53412),d=n(56556),u=(n(41260),n(62984)),m=n(33896),p=n(43368);function h(e,t,n){const{startTimeMs:s,words:i}=e,r=n[t+1];return{start:s||0,end:r&&r.startTimeMs?r.startTimeMs:1/0,text:i}}function g(e){return m.gC.fromInt(e).toCSS(m.wt.RGB)}const f={hasLyrics:!1},y=(e,t)=>{const n=(0,a.u)(t||void 0,{desiredLabel:"large",desiredSize:600})??t?.[0]?.url??"",m=(0,d.G)(),y=(0,i.IP)(o.Ed,{loadingValue:o.au.CONTROL}),_={[o.au.CONTROL]:void 0,[o.au.SYSTEM_LANGUAGE]:navigator.language,[o.au.ALL_LANGUAGES]:"all"}[y],b=["lyrics",{uri:e,image:n,vocalRemoval:m}],{hasLyrics:v,isLoading:x}=(0,c.o)(e),{data:C,isLoading:E,isError:S}=(0,s.U)({queryKey:b,queryFn:async()=>{if(!e||!n||!(0,r._Z)(e))return f;const t=await async function(e,t,n,s){try{const a=await(0,p.c)(e,t,n,s);return{hasLyrics:!0,isTimeSynced:(r=a.lyrics.syncType,"LINE_SYNCED"===r||"SYLLABLE_SYNCED"===r),syncType:a.lyrics.syncType,lyrics:a.lyrics.lines.map(h),colors:(i=a.colors,{text:g(i.text),activeText:g(i.highlightText),background:g(i.background)}),provider:a.lyrics.provider,providerDisplayName:a.lyrics.providerDisplayName,providerLyricsId:a.lyrics.providerLyricsId,hasVocalRemoval:a.hasVocalRemoval??!1,showUpsell:a.lyrics.showUpsell??!1,alternatives:a.lyrics.alternatives}}catch(e){if(e instanceof u.S&&404===e.status)return{hasLyrics:!1};throw e}var i,r}(e,n,m,_);return t},gcTime:l.M,staleTime:l.G,enabled:v}),w=x||E;let I=null;return w||(I=v?C??null:f),{data:I,loading:w,error:S}}},53412:(e,t,n)=>{"use strict";n.d(t,{o:()=>l});var s=n(40468),i=n(86620),r=n(14788),a=n(14660),o=n(43368);const l=e=>{const t=!!e&&(0,r._Z)(e),{data:n,isLoading:l}=(0,s.U)({queryKey:["useLyricsAvailability",e],queryFn:async()=>!!e&&await(0,o.Q)(e),gcTime:a.M,staleTime:a.G,enabled:t,placeholderData:i.iq});return{isLoading:l,hasLyrics:!!t&&(n??!1)}}},56556:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});var s=n(49232),i=n(15040),r=n(81284);const a=()=>{const e=(0,r.o)(),{isSupported:t}=e.getCapabilities();return(0,s.IP)(i.Cyy,{loadingValue:!1})&&t}},76504:(e,t,n)=>{"use strict";n.d(t,{w:()=>s.w});var s=n(53660)},75128:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});var s=n(96651),i=n(4564),r=n(26072),a=n(74356),o=n(40188),l=n(6640),c=n(58136),d=n(61732),u=n(65996),m=n(80876);function p(){const e=(0,i.w1)(u.O),t=(0,i.OY)(),{setYlxSidebarState:n}=(0,c.iu)(),{mainLandmarkRef:p,lyricsCinemaRef:h}=(0,a.k5)(),{panelSend:g,isActive:f}=(0,l.au)(r.s.NowPlayingView);return{mode:e,setMode:(0,s.useCallback)((e=>{e===o.ch.cinema&&f?(h.current?.classList.add(m.c.lyricsCinemaVisible),p.current?.classList.add(m.c.nonDisplayedArea),n(c.MT.COLLAPSED),g(l.s7.NPV_BUTTON_CLICK)):(h.current?.classList.remove(m.c.lyricsCinemaVisible),p.current?.classList.remove(m.c.nonDisplayedArea),f||g(l.s7.NPV_BUTTON_CLICK)),t((0,d.qY)(e))}),[t,g,f,h,p,n])}}},61732:(e,t,n)=>{"use strict";n.d(t,{XF:()=>s,Yx:()=>r,qY:()=>i});let s=function(e){return e.SET_LYRICS_MODE="SET_LYRICS_MODE",e.SET_LYRICS_TRANSLATION_LANGUAGE="SET_LYRICS_ALTERNATIVE_LANGUAGE",e}({});const i=e=>({type:s.SET_LYRICS_MODE,mode:e}),r=e=>({type:s.SET_LYRICS_TRANSLATION_LANGUAGE,language:e})},65996:(e,t,n)=>{"use strict";n.d(t,{G:()=>i,O:()=>s});const s=e=>e.ui.lyrics.mode,i=e=>e.ui.lyrics.translationLanguage},43368:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o,c:()=>a});var s=n(14788),i=n(84264),r=n(76404);const a=async(e,t,n,a)=>{const o=(0,s.nX)(e).id,l=i.W.getInstance(),c={format:"json",vocalRemoval:n};a&&(c.clientLanguage=a);return(await l.build().withHost(r.Ef).withPath(`/track/${encodeURIComponent(o)}/image/${encodeURIComponent(t)}`).withQueryParameters(c).withEndpointIdentifier("/track/{trackId}").send()).body},o=async e=>{const t=(0,s.GC)((0,s.nX)(e)?.id);if(!t)return!1;const n=i.W.getInstance(),a=await n.build().withHost(r._y).withPath(`/track/${encodeURIComponent(t)}`).withEndpointIdentifier("/track/{trackId}").send();return a.body?.has_lyrics||!1}},8802:(e,t,n)=>{"use strict";n.d(t,{I:()=>d});var s=n(33220),i=n(68016),r=n(73360),a=n(8496),o=n(96651);var l=n(2488);const c=({children:e,navigationalRoot:t,pageId:n,entityUri:c})=>{const d=(0,r.i)(),u=t??d,m=(0,s.IT)();return function({pageId:e,navigationalRoot:t,entityUri:n}){const s=(0,r.u)();(0,o.useEffect)((()=>{s&&e&&s.reportPageView({pageId:e,navigationalRoot:t,entityUri:n})}),[e,s,t,n])}({pageId:n,navigationalRoot:u,entityUri:(0,i.e)(c??m.pathname)}),(0,l.jsx)(a.o,{value:u,children:e})};function d({children:e,pageId:t,navigationalRoot:n,entityUri:s}){return(0,l.jsx)(c,{navigationalRoot:n,pageId:t,entityUri:s,children:e})}},46736:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InstrumentedRedirect:()=>l});var s=n(33220),i=n(96244),r=n(40636),a=n(68016);var o=n(2488);const l=({to:e,state:t})=>{const n=(0,s.W4)(),l=function(){const e=(0,s.IT)(),t=(0,r.Mk)(),n=e.state?.interactionId;return n??t.getInteractionId((0,a.e)(e.pathname))}();return"string"==typeof e?(0,o.jsx)(s.YX,{to:(0,i.Yz)(e,n),state:{...t,interactionId:l},replace:!0}):(0,o.jsx)(s.YX,{to:{...e,pathname:(0,i.Yz)(e.pathname,n)},state:{...t,interactionId:l},replace:!0})}},77724:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});n(41260);var s=n(12100),i=n(16928),r=n(52276);function a(e){if((0,i.gB)(e)||(0,i.u_)(e)){let t=e.name;const n=e.artists.map((e=>e.name)).join(s._s.getSeparator());return n&&(t=`${t} • ${n} `),t}return(0,i.sN)(e)?`${e.name} • ${e.show.name}`:(0,i.Q9)(e)||(0,i.UZ)(e)?(console.error(e.uri,"is not draggable"),""):(0,r.E)(e)}},97608:(e,t,n)=>{"use strict";n.d(t,{K:()=>o,U:()=>a});n(41260);var s=n(12100),i=n(16928),r=n(52276);function a(e){return(0,i.gB)(e)?s._s.get("playback-control.now-playing-label",e.name,e.artists.map((({name:e})=>e)).join(s._s.getSeparator())):(0,i.sN)(e)?s._s.get("playback-control.now-playing-label",e.name,e.show.name):(0,i.Q9)(e)?s._s.get("playback-control.now-playing-label",e.name,e.book.name):(0,i.UZ)(e)?s._s.get("ad-formats.advertisement"):(0,i.u_)(e)?void 0:(0,r.E)(e)}function o(e){let t=a(e);return t||(t=s._s.get("queue.now-playing")),t}},68992:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var s=n(16928);function i(e){return(0,s.gB)(e)||(0,s.sN)(e)}},3036:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var s=n(72001),i=n(3990);function r(e,t){return null===e||null===t?e===t:e.context.uri===t.context.uri&&e.item?.uri===t.item?.uri&&e.item?.mediaType===t.item?.mediaType&&(0,i.c)(e.item?.metadata,t.item?.metadata)&&e.index.itemIndex===t.index.itemIndex&&e.index.pageIndex===t.index.pageIndex&&e.index.pageURI===t.index.pageURI}function a(){const e=(0,s.o)((e=>e),r);if(null===e)return null;const{context:t,item:n,index:i}=e;return null===n?null:{context:t,item:n,index:i}}},18500:(e,t,n)=>{"use strict";n.d(t,{E:()=>s.E});var s=n(83096)},86068:(e,t,n)=>{"use strict";n.d(t,{K:()=>s.K});var s=n(56864)},40820:(e,t,n)=>{"use strict";n.d(t,{CR:()=>a.C,am:()=>i.a,au:()=>s.a,me:()=>o.m,q4:()=>l.q,sM:()=>c.s,ww:()=>d.w,yG:()=>r.y});var s=n(58096),i=n(12028),r=n(89032),a=n(86224),o=n(4272),l=n(64137),c=n(15504),d=n(69108)},3108:(e,t,n)=>{"use strict";n.d(t,{A:()=>s.A,o:()=>s.o});var s=n(87816)},23616:(e,t,n)=>{"use strict";n.d(t,{z:()=>s.z});var s=n(3036)},73219:(e,t,n)=>{"use strict";n.d(t,{k$:()=>qr,mY:()=>na,iG:()=>ce.i,EN:()=>ce.E,sx:()=>Rr,Er:()=>kr,S6:()=>ia});var s=n(96651),i=n(10124),r=n.n(i),a=n(48304),o=n(87644),l=n(12100),c=n(16e3),d=n(23616),u=n(32976),m=n(49232),p=n(15040),h=n(32476),g=n(29152),f=n(1032);const y={context:null,item:null};var _=n(77640),b=n(93900),v=n(55504),x=n(26072),C=n(68604),E=n(81040),S=n(53048),w=n(11920),I=n(22480),A=n(16928),T=n(40636),k=n(28628),N=n(2488);const O=()=>(0,N.jsx)(N.Fragment,{}),P=()=>(0,N.jsx)(N.Fragment,{});var j=n(94231),L=n(7296),R=n(15700),D=n(13932),M=n(6912),U=n(94192),F=n(72001),B=n(38356),G=n(80420),V=n(86852),H=n(43619),W=(n(73952),n(97296),n(41260),n(38992)),z=n(84400),Y=n(31128),K=n(82960),q=n(8004),Q=n(76172),X=n(19872);const $=({title:e,isActive:t,isPlaying:n,timestamp:i,onClick:r})=>{const a=(0,s.useCallback)((()=>{r(i)}),[r,i]);return(0,N.jsx)(K.U,{variant:"naked",id:e,hoverBackgroundColor:"backgroundTintedHighlight",activeBackgroundColor:"backgroundTintedBase",title:(0,N.jsxs)(q.a,{variant:"bodyMedium",semanticColor:t?"textBrightAccent":"textBase",className:"standalone-ellipsis-one-line",children:[n&&t&&(0,N.jsx)(Q.W,{animated:t})," ",e]}),subtitle:(0,X.A)(i),onClick:a})};var J=n(15868),Z=n(59448);function ee(e,t){if(!e)return null;const n=(0,Z.E)(e);return null===n?null:t.findIndex((e=>(e.seekStart?.milliseconds??0)<=n&&(e.seekStop?.milliseconds??1/0)>=n))}var te=n(63192),ne=n(66514),se=n(49812);const ie=12e5,re=6e5;var ae=n(88272),oe=n(99972);const le=Spicetify.GraphQL.Definitions["queryNpvEpisodeChapters"]=new ae.a("queryNpvEpisodeChapters","query","367f0e93a0d219ae6f5874bcc460201db0a43467ae94f16298931a704ac62ea6",null);var ce=n(14656);const de="Xh1TBgSrJAYVdjRM8zFV",ue="XtrKVBpPjO52Dsuh7Sl3",me="Ebrqn7sM1CfWaEig2gQW",pe=(0,s.memo)((({chapters:e,episodeUri:t,nextOffset:n,limit:i,isPlaying:r})=>{const a=(0,M.Q)(),{logger:o,spec:c}=(0,T.gp)(W.u,{}),{chapters:d,fetchNextPage:u}=(({uri:e,startOffset:t=0,pageSize:n,autoFetchOnMount:i=!0})=>{const{request:r}=(0,s.useContext)(ne.Q9),{data:a,isLoading:o,error:l,fetchNextPage:c}=(0,te.S)({queryKey:["npv","episode-chapters",e,{startOffset:t,limit:n}],queryFn:({pageParam:t})=>(0,se.M)(r,le,function(e,t,n){return{offset:t,limit:n,uri:e}}(e,t,n)),staleTime:re,gcTime:ie,enabled:i,initialPageParam:t,getNextPageParam:e=>{if("Episode"!==e?.data?.episodeUnionV2.__typename)return;const t=e.data.episodeUnionV2.displaySegments;return t?.displaySegments.pagingInfo.nextOffset&&t.displaySegments.pagingInfo.nextOffset>0?t.displaySegments.pagingInfo.nextOffset:void 0}}),d=(0,s.useCallback)((async()=>{await c()}),[c]);return{chapters:(0,s.useMemo)((()=>a?.pages.flatMap((e=>"Episode"===e?.data?.episodeUnionV2.__typename&&e.data.episodeUnionV2.displaySegments?.displaySegments.items?e.data.episodeUnionV2.displaySegments.displaySegments.items:[]))??[]),[a?.pages]),error:l,loading:o,fetchNextPage:d}})({uri:t,pageSize:i??10,startOffset:n??e.length,autoFetchOnMount:!1}),m=(0,s.useMemo)((()=>(d.length>0?[...e,...d]:e).filter(he)),[e,d]),p=(e=>{const t=(0,M.Q)(),[n,i]=(0,s.useState)((()=>ee(t.getState(),e)));return(0,J.f)((()=>{const s=ee(t.getState(),e);s!==n&&i(s)}),500),n})(m),h=(0,s.useCallback)((e=>{a.seekTo(e),o.logInteraction(c.chapterRowFactory().hitSeekToTime({msToSeekTo:e})),a.getState()?.isPaused&&(a.resume(),o.logInteraction(c.chapterRowFactory().hitResume({itemToBeResumed:t})))}),[t,o,a,c]);return m.length?(0,N.jsxs)(ce.i,{className:de,children:[(0,N.jsx)(ce.E,{children:l._s.get("web-player.now-playing-view.chapters")}),(0,N.jsx)(Y.A,{onReachBottom:u,triggerOnInitialLoad:!1,className:ue,children:(0,N.jsx)(z.e,{"aria-label":l._s.get("web-player.now-playing-view.chapters"),className:me,children:m.map(((e,t)=>{if(!e.title||"number"!=typeof e.seekStart?.milliseconds)return null;const n=t===p;return(0,N.jsx)(z.c,{children:(0,N.jsx)($,{onClick:h,timestamp:e.seekStart.milliseconds,title:e.title,isActive:n,isPlaying:r})},e.seekStart.milliseconds)}))})})]}):null}));function he(e){return"TalkDisplaySegment"===e.__typename}const ge=Spicetify.GraphQL.Definitions["queryNpvEpisode"]=new ae.a("queryNpvEpisode","query","d336450eff069941d44152a5aa1488b6df0fbd8ee5830548f3f16926955e1ffd",null),fe=e=>"Episode"===e?.__typename,ye=e=>"__typename"in e&&"Podcast"===e.__typename,_e=e=>!!e&&"__typename"in e&&"Episode"===e.__typename;var be=n(44492),ve=n(80676),xe=n(39772),Ce=n(74048),Ee=n(71464),Se=n(52588),we=n(33220),Ie=n(19424),Ae=n(45008),Te=n(67316),ke=n(74844),Ne=n(14788),Oe=n(7300),Pe=n(85988),je=n(11732),Le=n(88840),Re=n(6812),De=n(24392),Me=n(44616),Ue=n(17556),Fe=n(41436),Be=n(57148);const Ge="YdLiRQVNwEQzUNR44QuY",Ve="VVxt7MTKoKdOCVIWYfHn",He="c21KEAgelRvfiGswmHy9",We=({images:e,contentRating:t,contextTitle:n,contextUri:s,menu:i,position:r=0,title:a,type:o,uri:c,usePlayContextItem:d})=>{const u=(0,we.i6)(),m=(0,Re.C)(),p=(0,Ne.nX)(c)?.toURLPath(!0),h=s&&(0,Ne.nX)(s)?.toURLPath(!0),g=(0,S.oV)(),{badges:f}=(0,Be.C)({contentRating:t}),{isPlaying:y,togglePlay:_}=d({uri:c}),{spec:b,logger:v}=(0,T.gp)(ke.S,{data:{uri:c,position:r}}),x=(0,N.jsx)(Pe.Yl,{label:a,children:(0,N.jsx)(Ae.Y,{lineClamp:g===S.u_.MEDIUM?1:2,children:p?(0,N.jsx)(je.default,{to:p,onClick:e=>{if(e.stopPropagation(),e.preventDefault(),p){const e=b.trackContainerFactory().trackInformationFactory().nameLinkFactory().hitUiNavigate({destination:p});v.logInteraction(e),u(p)}},children:a}):a})}),C=(0,N.jsxs)(Te.A,{lineClamp:1,children:[f.explicit&&(0,N.jsx)(Ue.C,{}),f.nineteen&&(0,N.jsx)(Fe.o,{}),o,h&&n&&(0,N.jsxs)(N.Fragment,{children:[" • ",(0,N.jsx)(Pe.Yl,{label:n,children:(0,N.jsx)(je.default,{to:h,onClick:e=>{if(e.stopPropagation(),e.preventDefault(),h){const e=b.trackContainerFactory().trackInformationFactory().contextLinkFactory({uri:s}).hitUiNavigate({destination:h});v.logInteraction(e),u(h)}},children:(0,N.jsx)(q.a,{semanticColor:"textSubdued",children:n})})})]})]});return(0,N.jsx)(Oe.U,{menu:i,children:(0,N.jsx)(K.U,{activeBackgroundColor:"backgroundTintedPress",className:He,draggable:!0,hoverBackgroundColor:"backgroundTintedHighlight",id:c,layout:"regular",onClick:e=>{if(e.stopPropagation(),e.preventDefault(),p){const e=b.hitUiNavigate({destination:p});v.logInteraction(e),u(p)}},onDragStart:e=>{if(e.target!==e.currentTarget)return;m(e,{itemUris:[c],dragLabelText:`${a}${n?` • ${n}`:""}`,contextUri:s})},variant:"naked",title:x,subtitle:g===S.u_.MEDIUM&&C,body:g!==S.u_.MEDIUM&&C,paddingInlineStart:Ie.q,paddingInlineEnd:Ie.q,media:(0,N.jsxs)("div",{className:Ge,children:[(0,N.jsx)(Le.a,{className:Ve,isPlaying:y,isLocked:!1,onClick:e=>{e.stopPropagation();const t=b.trackContainerFactory().coverArtFactory().hitPlay({itemToBePlayed:c});v.logInteraction(t),_()},playAriaLabel:l._s.get("tracklist.a11y.play",a,n)}),(0,N.jsx)(De.i,{type:H.s.EPISODE,title:a,shape:De.O.ROUNDED_CORNERS,size:Me.fm.SIZE_48,images:e})]})})})},ze=({episode:e,position:t})=>{const n=e.podcastV2.data,s=ye(n)?n.uri:void 0,i=ye(n)?n.name:void 0,{usePlayContextItem:r}=(0,Se.I)({uri:s??e.uri},{featureIdentifier:"episode_ai_dubbing"});return(0,N.jsx)(We,{contentRating:e.contentRating?.label,contextTitle:i,contextUri:s,images:e.coverArt?.sources,menu:(0,N.jsx)(Ee.y,{uri:e.uri}),position:t,title:e.name,type:l._s.get("card.tag.episode"),uri:e.uri,usePlayContextItem:r},e.uri)},Ye=e=>(0,N.jsx)(q.a,{...e,as:"div",variant:"bodySmall"});var Ke=n(31624);const qe="KJEbbXyTy0gbIalPPwjP",Qe=e=>(0,N.jsx)(Ke._,{className:qe,...e}),Xe="dmEFRgvLS6M2o8rmoX6v",$e=({description:e,episodes:t,title:n,...s})=>(0,N.jsxs)(ce.i,{...s,className:Xe,children:[(0,N.jsx)(ce.E,{icon:(0,N.jsx)(Ce.J,{size:"small"}),tooltipLabel:n,children:n}),(0,N.jsx)(Ye,{children:e}),(0,N.jsx)(Qe,{children:t.map(((e,t)=>(0,N.jsx)(ze,{episode:e,position:t},e.uri)))})]});function Je({episode:e}){const t=(e=>e.aiDubbedEpisodes?.items?e.aiDubbedEpisodes.items.map((e=>e.data)).filter((t=>_e(t)&&t.uri!==e.uri)):[])(e),{spec:n}=(0,T.gp)(be.d,{});if(t.length<=0)return null;const s=(0,ve._e)(t[0]?.language?.code),i=t.length>1&&ve._s.get("web-player.now-playing-view.dubbed-episodes.title-multiple")||s&&ve._s.get("web-player.now-playing-view.dubbed-episodes.title-single-with-language",{language:(0,xe.iC)(s)})||ve._s.get("web-player.now-playing-view.dubbed-episodes.title-single"),r=t.length>1?ve._s.get("web-player.now-playing-view.dubbed-episodes.description-multiple"):ve._s.get("web-player.now-playing-view.dubbed-episodes.description-single");return(0,N.jsx)(T.Ud,{spec:n.episodeListFactory(),children:(0,N.jsx)($e,{description:r,episodes:t,title:i})})}var Ze=n(49352);function et({episode:e}){const t=(e=>fe(e)&&e.originalEpisode&&_e(e.originalEpisode?.data)?e.originalEpisode.data:void 0)(e),{spec:n}=(0,T.gp)(Ze.Q,{});if(!t)return null;const s=(0,ve._e)(t.language?.code),i=s?ve._s.get("web-player.now-playing-view.original-episode.title-with-language",{language:(0,xe.iC)(s)}):ve._s.get("web-player.now-playing-view.original-episode.title"),r=s?ve._s.get("web-player.now-playing-view.original-episode.description-with-language",{language:(0,xe.iC)(s)}):ve._s.get("web-player.now-playing-view.original-episode.description");return(0,N.jsx)(T.Ud,{spec:n,children:(0,N.jsx)($e,{description:r,episodes:[t],title:i})})}var tt=n(8451),nt=n(71916);const st="YC6K2bFUeJkdE4cCvbD3",it="vHQbygDcvOQ4Ls0W6vb1",rt="Ku9l84_lLCFE3crS1Y8B",at="TortsxZeDfI28luc5Dac",ot="XHpZHlxCiVHe8qTVVskT",lt="lu9_R5Kw07YEWlq8eKs9",ct="RypbYIkqqlUkhxg_RwYm",dt=(0,s.memo)((function({transcriptSections:e,onTimeStampClick:t,episodeUri:n}){const{spec:s,logger:i}=(0,T.gp)(tt.G,{data:{uri:n}}),{isPlaying:r}=(0,Se.I)({uri:n},{featureIdentifier:"episode"}),a=s.timestampLinkFactory();return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:it,children:[(0,N.jsx)("div",{className:at,children:(0,N.jsx)(q.a,{as:"p",variant:"marginal",semanticColor:"textSubdued",children:l._s.get("web-player.episode.transcript.disclaimer")})}),e.map(((e,s)=>{const o=`transcript-section-${s}`;return(0,N.jsxs)("div",{className:rt,children:[(0,N.jsx)("button",{className:ot,onClick:()=>{t(e.startMs,o),i.logInteraction(r?a.hitSeekToTime({msToSeekTo:e.startMs}):a.hitPlay({itemToBePlayed:n}))},children:(0,N.jsx)(nt.s,{id:o,targetURI:(0,Ne.nX)(n),fadeOut:!0,children:(0,N.jsx)(q.a,{variant:"marginalBold",semanticColor:"textSubdued",className:lt,children:(0,X.A)(e.startMs)})})}),e.content.map(((e,t)=>(0,N.jsx)(q.a,{variant:"bodySmall",semanticColor:"textBase",className:ct,dir:"auto",children:e},`transcript-text-${t}`)))]},o)}))]})})}));var ut=n(8340),mt=n(4608),pt=n(44003),ht=n(34592);const gt="uxKTZMjYP1tWWkU4Spn5",ft="evmIIOpBLE4j_C4MCgMp",yt="KzEZhy_zZun2fioSJqHq",_t="VUt1oa6nEp0L0r_0NnIq",bt="QFgEcTUQpWx4WfwIbWaA",vt="SzbJlfigXX46j1pKcIdi",xt="PcDAReXFqvmfIChQTs2v",Ct="vsmvWZqpgMpZy4KICsCp",Et="tuPDKoSqIPRDaduWwxGF",St="lC7mxfvBm3xJwr3Er1Gg",wt="d1wwSupO2FrM9raEr0Ck",It=e=>{switch(e){case S.u_.SMALL:return"titleSmall";case S.u_.LARGE:return"titleMedium";case S.u_.XLARGE:return"titleLarge";default:return"titleSmall"}},At=({readAlongSection:e,readAlongIndex:t,index:n,activeIndex:i,onActiveSectionChange:a,breakpoint:o})=>{const l=(0,s.useRef)(!0),c=(0,s.useRef)(null);return(0,s.useEffect)((()=>{n===i&&a?(l.current&&a({sectionRef:c}),l.current=!1):l.current=!0}),[i,n,a]),void 0===e.text?.sentence?.text?null:(0,N.jsx)("div",{ref:c,className:r()(_t,{[bt]:n<i},o?.toLowerCase()),children:(0,N.jsx)(q.a,{as:"p",className:ft,variant:o?It(o):"titleSmall",children:t>0?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("span",{className:Ct,children:e.text.sentence.text.substring(0,t)}),(0,N.jsx)("span",{children:e.text.sentence.text.substring(t)})]}):e.text.sentence.text})})};var Tt=n(40188),kt=n(5256);const Nt=(e,t)=>{let n=0;if(0===e.length)return 0;for(let s=0;s<e.length&&!(t<e[s].startMs);s++)n+=e[s].numChars;return n};var Ot=n(40468),Pt=n(84264),jt=n(76404);const Lt=e=>{const t=["transcript",{uri:e}],{data:n,isLoading:s,isError:i}=(0,Ot.U)({queryKey:t,queryFn:async()=>{if(e&&(0,Ne.QB)(e))return(async e=>{const t=(0,Ne.nX)(e).id,n=Pt.W.getInstance(),s=await n.build().withHost(jt.op).withPath(`/episode/${encodeURIComponent(t)}`).withEndpointIdentifier("/episode/{episodeId}").withoutMarket().withoutGlobalHeaders().withQueryParameters({format:"json"}).send();if(200!==s.status)throw new Error("failed to get read-along transcript");return s.body})(e)},gcTime:18e5,staleTime:6e5});return{data:n,loading:s,error:i}},Rt={[S.u_.SMALL]:0,[S.u_.LARGE]:792,[S.u_.XLARGE]:1448},Dt=({startMs:e,onTimestampClick:t})=>(0,N.jsx)("button",{className:vt,onClick:()=>{t(e)},children:(0,N.jsx)(q.a,{className:xt,variant:"bodyMedium",children:(0,X.A)(e)})}),Mt=({hidden:e,onClick:t})=>(0,N.jsx)("div",{className:r()(Et,{[St]:e}),children:(0,N.jsx)(ut.g,{colorSet:"invertedLight",size:"small",onClick:t,iconLeading:mt.s,"aria-label":l._s.get("web-player.read-along-transcript.sync.button"),children:l._s.get("web-player.read-along-transcript.sync.button")})}),Ut=({episodeURI:e,mode:t})=>{const{data:n,loading:i,error:a}=Lt(e),{spec:o,logger:l}=(0,T.gp)(pt.O,{data:{uri:e}}),c=n?.section??[],d=o.timestampLinkFactory(),[u,m]=(0,s.useState)(!0),[p,h]=(0,s.useState)(!1),g=(0,M.Q)(),f=(0,F.o)((e=>e?.isPaused??void 0)),y=(0,s.useRef)(null),_=(0,s.useRef)(!1),b=(0,s.useRef)(null),v=(0,s.useRef)(null),x=(0,s.useRef)(null);(0,ht.m)(x);const{breakpoint:C}=(0,S.CA)(Rt,v),{highlightedSentenceIndex:E,shouldAnimateScroll:w,readAlongIndex:I}=((e,t)=>{const n=(0,s.useRef)(0),[i]=(0,kt.Q)(100,(t=>t?.item?.uri===e));let r=t.findIndex((e=>e.text?.sentence?.text)),a=0;for(let e=0;e<t.length;e++){const n=t[e];if(i>=n.startMs&&(e===t.length-1||i<t[e+1].startMs)){r=e,n.text?.sentence&&(a=Nt(n.text.sentence.highlight,i));break}}const o=Math.abs(n.current-(r??0))<=3;return n.current=r??0,{shouldAnimateScroll:o,highlightedSentenceIndex:r,readAlongIndex:a}})(e,c),A=(0,s.useCallback)((()=>{if(!v.current||!y.current)return;const e=y.current?.offsetTop-v.current?.offsetTop-24;void 0!==e&&(v.current?.scrollTo({top:e,behavior:w?"smooth":"auto"}),h(!1))}),[w]),k=(0,s.useCallback)((()=>{if(!v.current||!y.current)return;const e=y.current?.offsetTop-v.current?.offsetTop-24,t=y.current?.clientHeight;if(void 0===e)return;const n=e>=v.current.scrollTop&&e+t<=v.current.scrollTop+v.current.clientHeight;h(!n),m(n)}),[]),O=(0,s.useCallback)((t=>{g.seekTo(t).then((()=>setTimeout((()=>m(!0)),300))),f?(g.resume(),l.logInteraction(d.hitPlay({itemToBePlayed:e}))):l.logInteraction(d.hitSeekToTime({msToSeekTo:t}))}),[g,l,d,e,f]),P=(0,s.useCallback)((()=>{_.current=!0,b.current&&clearTimeout(b.current),b.current=setTimeout((()=>{_.current=!1}),500),k()}),[k]),j=(0,s.useCallback)((()=>{k(),_.current||u&&A()}),[u,k,A]);return i||a||0===c.length?null:(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(S.yM.Provider,{value:C,children:[(0,N.jsx)("div",{className:r()(gt,{[yt]:t===Tt.G8.npv}),ref:v,onWheel:P,children:(0,N.jsx)("div",{className:wt,ref:x,children:(0,N.jsx)("div",{children:c.map(((e,t)=>e.title?(0,N.jsx)(Dt,{onTimestampClick:O,startMs:e.startMs},t):(0,N.jsx)(At,{index:t,activeIndex:E,readAlongSection:e,readAlongIndex:E===t?I:0,onActiveSectionChange:({sectionRef:e})=>{y.current=e.current,j()},breakpoint:C},t)))})})}),(0,N.jsx)(Mt,{hidden:!!f||!p,onClick:()=>{l.logInteraction(o.syncButtonFactory().hitQuickScroll()),m(!0),A()}})]})})},Ft=({mode:e})=>{const t=(0,F.o)((e=>e?.item),((e,t)=>e?.uri===t?.uri));return t?.uri&&(0,Ne.QB)(t.uri)?(0,N.jsx)(Ut,{mode:e,episodeURI:t.uri}):null};var Bt=n(33896),Gt=n(4564);let Vt=function(e){return e.SET_TRANSCRIPT_UI_FLAG="SET_TRANSCRIPT_UI_FLAG",e}({});var Ht=n(9999);const Wt=e=>e.ui?.transcript?.mode??Tt.G8.none,zt=e=>e.ui?.transcript?.uiFlags??Ht.E9,Yt="B_wut2Bw4HwLr3w8rNfM",Kt=({episode:e})=>{const{transcriptMode:t}=(()=>{const e=(0,Gt.OY)(),t=(0,Gt.w1)(zt);return{transcriptMode:(0,Gt.w1)(Wt),setTranscriptUIFlag:(0,s.useCallback)(((t,n)=>{e({type:Vt.SET_TRANSCRIPT_UI_FLAG,key:t,value:n})}),[e]),transcriptUIFlags:t}})(),{data:n}=Lt(e.uri),i=n?.colourData,r={"--transcript-color-background":i?Bt.gC.fromInt(i.background).toCSS(Bt.wt.HEX):u.Ks6,"--transcript-color-text":Bt.gC.fromInt(i?.text??0).toCSS(Bt.wt.HEX),"--transcript-color-highlightText":Bt.gC.fromInt(i?.highlightText??-1).toCSS(Bt.wt.HEX)},{spec:a}=(0,T.gp)(pt.O,{data:{uri:e.uri}}),o=(0,T.K2)(a);return(0,N.jsxs)(ce.i,{className:Yt,style:r,ref:o,children:[(0,N.jsx)(ce.E,{children:l._s.get("web-player.read-along-transcript.now-playing-view.read-along")}),t===Tt.G8.npv&&(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(Ft,{mode:Tt.G8.npv})})]})};var qt=n(45268);function Qt(e){return!!(0,qt.W)().getCapabilities().isSupported&&function(e){const t=e.metadata?.["parent_episode.uri"];return!!t&&(0,Ne.QB)(t)}(e)}var Xt=n(18648),$t=n(40384),Jt=n(30700),Zt=n(85704),en=n(20469),tn=n(43476),nn=n(60016);var sn=n(18500);const rn="_QEMUk5U16U3CQn0wvbD",an="mbkl2P60JUhDqc9qGvp9",on="Xh6dG3pzi2SS7v4cvZzG",ln="sOdoW26RUwggLToa7xDt",cn="B_TcBcc1BM2yLgvXbh66",dn="tRnhyUQiKOxA3z8mUD_U",un="_shxqlkLuB52H1iCh_OQ",mn="hAwePVlxumRNpdOSpwyV";const pn=s.forwardRef((function({className:e="",segment:t,onClickPlay:n,isPlaying:i},a){const{label:o,Icon:c}=(0,s.useMemo)((()=>function(e){if("TALK"===e.type)return{Icon:$t.s,label:l._s.get("playlist.a11y.play",e.title)};const t=e.track.artists?.map((e=>e.name)).join(l._s.getSeparator())||"";return{Icon:Jt.S,label:l._s.get("tracklist.a11y.play",e.track.name,t)}}(t)),[t]),d=(0,s.useCallback)((()=>{n()}),[n]);return(0,N.jsxs)("div",{className:r()(un,e),children:[i?(0,N.jsx)(Q.W,{className:dn,animated:!0}):(0,N.jsx)("span",{className:dn,children:(0,N.jsx)(c,{iconSize:16,"aria-hidden":"true"})}),(0,N.jsx)(Le.a,{className:cn,iconClassName:mn,onClick:d,isPlaying:i,isLocked:!1,playAriaLabel:o,ref:a})]})})),hn=({children:e,onTriggerPlay:t,episodeUri:n,index:s})=>{const{spec:i,logger:r}=(0,T.gp)(Zt.m,{}),a=(0,L.w)(),o=(0,Xt.yK)((()=>{a({intent:"play",type:"double-click"});const e=r.logInteraction(i.segmentItemFactory({uri:n,position:s||0}).doubleHitPlay({itemToBePlayed:n}));t(e)}),nn.cT,{leading:!0,trailing:!1});return(0,N.jsx)("div",{className:ln,onDoubleClick:o,children:e})},gn=({segment:e,episodeUri:t,index:n})=>{const{spec:i,logger:r}=(0,T.gp)(Zt.m,{}),{isActive:a,isPlaying:o,onClick:l}=(0,tn.y)({episodeUri:t,start:e.start,stop:e.stop}),c={uri:t},d=function(e){const t=[{url:e.track.album.image}];return{type:H.s.TRACK,uri:e.uri,uid:null,provider:null,images:t,name:e.track.name,mediaType:"audio",duration:{milliseconds:0},album:{type:H.s.ALBUM,uri:e.track.album.uri,name:e.track.album.name,images:t},artists:e.track.artists.map((e=>({type:H.s.ARTIST,name:e.name,uri:e.uri})))}}(e),u=i.segmentItemFactory({uri:t,position:n||0}).playbackButtonFactory(),m=(0,s.useCallback)((()=>{l({}),a&&o?r.logInteraction(u.hitPause({itemToBePaused:t})):a&&!o?r.logInteraction(u.hitResume({itemToBeResumed:t})):r.logInteraction(u.hitPlay({itemToBePlayed:t}))}),[t,a,o,r,l,u]);return(0,N.jsxs)(hn,{onTriggerPlay:l,episodeUri:t,children:[(0,N.jsx)(pn,{segment:e,isActive:a,isPlaying:o,onClickPlay:()=>{m()}}),(0,N.jsx)(sn.E,{context:c,item:d,titleTypeVariant:"bodyMedium",subtitleTypeVariant:"bodySmall",onTitleClick:e=>{r.logInteraction(i.segmentItemFactory({uri:t,position:n||0}).albumLinkFactory({uri:c.uri}).hitUiNavigate({destination:e||""}))},onSubtitleClick:e=>{r.logInteraction(i.segmentItemFactory({uri:t,position:n||0}).artistLinkFactory({uri:e||"",position:0}).hitUiNavigate({destination:e||""}))}})]})},fn=({segment:e,episodeUri:t,index:n})=>{const{spec:i,logger:r}=(0,T.gp)(Zt.m,{}),{isActive:a,isPlaying:o,onClick:l}=(0,tn.y)({episodeUri:t,start:e.start,stop:e.stop}),c=function(e){const t=[];return{type:H.s.UNKNOWN,uri:e.uri,uid:null,provider:null,images:t,name:e.title,mediaType:"audio",duration:{milliseconds:0},album:{type:H.s.ALBUM,uri:e.show.uri,name:e.show.name,images:t},artists:[]}}(e),d=i.segmentItemFactory({uri:t,position:n||0}).playbackButtonFactory(),u=(0,s.useCallback)((()=>{l({}),a&&o?r.logInteraction(d.hitPause({itemToBePaused:t})):a&&!o?r.logInteraction(d.hitResume({itemToBeResumed:t})):r.logInteraction(d.hitPlay({itemToBePlayed:t}))}),[t,a,o,r,l,d]);return(0,N.jsxs)(hn,{onTriggerPlay:l,episodeUri:t,children:[(0,N.jsx)(pn,{segment:e,isActive:a,isPlaying:o,onClickPlay:()=>{u()}}),(0,N.jsx)(en.m,{children:(0,N.jsx)(q.a,{variant:"bodyMedium",semanticColor:"textBase",children:c.name})},c.name)]})},yn=({item:e})=>{const t=e.metadata?.["parent_episode.uri"],n=function(e){const t=(0,qt.W)();return(0,s.useCallback)((async(n,s)=>{if(!e)return[];try{return await t.getSegments(e,n,s)}catch(e){return[]}}),[e,t])}(t),[i,r]=(0,s.useState)([]),a=(0,s.useRef)(!1),o=(0,s.useRef)(0),c=(0,s.useCallback)((()=>{const e=o.current;null!==e&&(a.current||(a.current=!0,n(e,10).then((e=>{r((t=>{const n=t.concat(e);return o.current=n.length+1,n})),a.current=!1}))))}),[n]);return(0,s.useEffect)((()=>{r([])}),[e.uri]),t?(0,N.jsxs)(ce.i,{className:rn,children:[(0,N.jsx)(ce.E,{className:an,children:l._s.get("music_and_talk.in_this_episode")}),(0,N.jsx)("div",{className:on,children:(0,N.jsx)(Y.A,{onReachBottom:c,triggerOnInitialLoad:!0,children:i.map(((e,n)=>"MUSIC"===e.type?(0,N.jsx)(gn,{segment:e,episodeUri:t},`${e.uri}-${n}`):(0,N.jsx)(fn,{segment:e,episodeUri:t},`${e.uri}-${n}`)))})})]}):null};var _n=n(96560),bn=n(74059),vn=n(87832),xn=n(89352),Cn=n(92280),En=n(23760),Sn=n(57024);const wn="main-nowPlayingView-queue",In="main-nowPlayingView-queueItem",An="main-nowPlayingView-playNextButton",Tn="main-nowPlayingView-playNextIcon",kn="main-nowPlayingView-playNext",Nn="main-nowPlayingView-openQueue",On="main-nowPlayingView-playNextButtonIcon",Pn="main-nowPlayingView-queueItemEntityImage";const jn=s.forwardRef((function({className:e="",item:t,onClickPlay:n},i){const a=(0,M.Q)(),{label:o,Icon:c}=(0,s.useMemo)((()=>function(e){if((0,A.sN)(e))return{Icon:$t.s,label:l._s.get("tracklist.a11y.play",e.name,e.show.name)};if((0,A.Q9)(e))return{Icon:Sn.K,label:l._s.get("tracklist.a11y.play",e.name,e.book.name)};if((0,A.gB)(e)||(0,A.u_)(e)){const t=e.artists?.map((e=>e.name)).join(l._s.getSeparator())||"";return{Icon:Jt.S,label:l._s.get("tracklist.a11y.play",e.name,t)}}return{Icon:Jt.S,label:l._s.get("play")}}(t)),[t]),d=(0,s.useCallback)((()=>(n(),a.skipToNext({uri:t.uri,uid:t.uid}))),[a,t,n]);return(0,N.jsxs)("div",{className:r()(kn,e),"":"play-next-button",children:[(0,N.jsx)("span",{className:Tn,children:(0,N.jsx)(c,{size:"small","aria-hidden":"true"})}),(0,N.jsx)(Le.a,{className:An,iconClassName:On,onClick:d,isPlaying:!1,isLocked:!1,playAriaLabel:o,ref:i})]})}));var Ln=n(73216),Rn=n(77724),Dn=n(68992),Mn=n(51776),Un=n(6640),Fn=n(99279),Bn=n(1952),Gn=n(49612);const Vn=({children:e,...t})=>(0,N.jsx)(Hn,{size:"small",...t,$_css:u.Y3h,children:e});var Hn=(0,Bn.cp)(Gn.w).withConfig({displayName:"ButtonSecondary___StyledEncoreButtonSecondary",componentId:"sc-1nxt2rd-0"})((e=>({borderColor:e.$_css})));const Wn="/search",zn="/queue",Yn=()=>(0,N.jsxs)(ce.i,{className:wn,children:[(0,N.jsx)(ce.E,{children:l._s.get("web-player.your-dj.npv.queue.title")}),(0,N.jsx)(q.a,{as:"div",semanticColor:"textSubdued",children:l._s.get("web-player.your-dj.npv.queue.description")})]}),Kn=({isContextAd:e})=>{const{nextUp:t,queued:n}=(0,En.i)(),i=(0,M.Q)(),r=(0,we.i6)(),a=(0,Mn.sN)(),o=(0,m.IP)(p.imM),c=(0,d.z)(),{spec:u,logger:h}=(0,T.gp)(bn.g,{}),g=(0,T.K2)(u),f=()=>(0,N.jsxs)(ce.i,{className:wn,ref:g,children:[(0,N.jsx)(ce.E,{children:l._s.get("web-player.now-playing-view.empty-queue")}),(0,N.jsx)(je.default,{to:Wn,children:(0,N.jsx)(Vn,{onClick:()=>{const e=u.searchButtonFactory().hitUiNavigate({destination:Wn});h.logInteraction(e)},children:l._s.get("web-player.now-playing-view.empty-queue-cta")})})]}),y=(0,s.useCallback)((()=>{const e=u.openQueueButtonFactory().hitUiNavigate({destination:zn});h.logInteraction(e),o?a(Un.s7.QUEUE_BUTTON_CLICK):r(zn)}),[r,a,o,u,h]),_=n[0]||t[0],b=(0,Re.C)();if(c?.context?.uri&&(0,Fn.Uv)(c.context))return(0,N.jsx)(Yn,{});if(!c||!_)return(0,N.jsx)(f,{});const{context:v}=c;return(0,N.jsxs)(ce.i,{className:wn,ref:g,children:[(0,N.jsx)(ce.E,{action:(0,N.jsx)(_n.u,{size:"small",condensed:!0,onClick:y,className:Nn,semanticColor:"textSubdued",children:l._s.get("web-player.now-playing-view.open-queue")}),children:l._s.get("queue.next-in-queue")}),(0,N.jsx)(vn.UF,{menu:(0,N.jsx)(Ln.g,{context:v,item:_}),children:(0,N.jsxs)("div",{className:In,draggable:(0,Dn.Q)(_),onDragStart:e=>{e.target===e.currentTarget&&_.uri&&b(e,{itemUris:[_.uri],dragLabelText:(0,Rn.k)(_)})},children:[!e&&(0,N.jsx)(jn,{item:_,onClickPlay:()=>{const e=i.getState();if(!e)return;const t=u.playButtonFactory({uri:_.uri}).hitSkipToNext({itemToBeSkipped:e.item?.uri||"",positionMs:(0,Z.E)(e)??-1,totalContentMs:e.duration??-1});h.logInteraction(t)}}),(0,N.jsx)(xn.A,{item:_,size:46,desiredLabel:"small",className:Pn}),(0,N.jsx)(sn.E,{context:v,item:_,titleTypeVariant:"bodyMedium",subtitleTypeVariant:"bodySmall",onTitleClick:()=>{const e=u.titleFactory({uri:_.uri}).hitUiNavigate({destination:_.uri});h.logInteraction(e)},onSubtitleClick:()=>{const e=u.artistFactory({uri:_.uri}).hitUiNavigate({destination:_.uri});h.logInteraction(e)}})]})})]})},qn=e=>(0,Cn.A)()?null:(0,N.jsx)(Kn,{...e});var Qn=n(54948),Xn=n(81472),$n=n(82988),Jn=n(66220),Zn=n(3844);const es="_mPIDSVjofNyCLhlaXuL",ts="WbtcAaLN1SQCr16tuZXv",ns="mqlmYaGITrdEQC40rEOI",ss="KEb8GSQPHsSmLCes_O07",is="Lkuf447h9WU9AaYHTsu7",rs="VU8VpmUxiLG5anxsH03k",as="JO8KMTdQoJAPhSpBlaqE",os="oKZq5I1c9_xWl3NWP1SU",ls=({coverArt:e,description:t,name:n,publisher:i,uri:a})=>{const o=(0,S.oV)(),c=(0,Re.C)({itemUris:[a],dragLabelText:n}),[d,u]=(0,Zn.X)(a),m=!(0,D.O)(),p=(0,we.i6)(),{spec:h,logger:g,UBIFragment:f}=(0,T.gp)(Qn.v,{}),y=(0,s.useRef)(null),_=(0,s.useCallback)((()=>{const e=h.artworkFactory().hitUiNavigate({destination:a});g.logInteraction(e)}),[g,h,a]),b=(0,s.useCallback)((()=>{const e=h.titleFactory().hitUiNavigate({destination:a});g.logInteraction(e)}),[g,h,a]),v=(0,s.useCallback)((()=>{const e=h.podcastDescriptionFactory().hitUiNavigate({destination:a});g.logInteraction(e),p((0,Ne.nX)(a).toURLPath(!0))}),[g,p,h,a]),x=(0,s.useCallback)((()=>{const e=h.followButtonFactory().hitFollow({itemToBeFollowed:a}),t=h.followButtonFactory().hitUnfollow({itemToBeUnfollowed:a});g.logInteraction(d?t:e),u(!d)}),[d,g,u,h,a]);return(0,N.jsxs)(ce.i,{className:es,children:[(0,N.jsx)(ce.E,{children:l._s.get("web-player.now-playing-view.podcast-about.title")}),(0,N.jsx)("div",{children:(0,N.jsx)("button",{type:"button","":"description-button",className:ts,onClick:v,children:(0,N.jsx)(q.a,{as:"div",ref:y,variant:"bodySmall",className:ns,children:(0,N.jsx)(Jn.W,{source:t})})})}),(0,N.jsxs)("div",{className:r()(ss,{[is]:o!==S.u_.MEDIUM}),children:[(0,N.jsx)(f,{spec:h,children:(0,N.jsx)(K.U,{contentAlign:!0,id:"aboutPodcastNPV",className:as,media:(0,N.jsx)(vn.UF,{menu:(0,N.jsx)(Xn.Q,{uri:a}),children:(0,N.jsx)(je.default,{draggable:!0,onDragStart:c,to:a,onClick:_,children:(0,N.jsx)(De.i,{className:os,type:H.s.SHOW,title:n,images:e?.sources,size:Me.fm.SIZE_48})})}),title:(0,N.jsx)(Ae.Y,{lineClamp:1,children:(0,N.jsx)(vn.UF,{menu:(0,N.jsx)(Xn.Q,{uri:a}),children:(0,N.jsx)(je.default,{draggable:!0,onDragStart:c,to:a,onClick:b,children:n})})}),subtitle:(0,N.jsx)(Te.A,{lineClamp:1,variant:"mesto",children:i})})}),(0,N.jsx)($n.W,{isFollowing:d,onClick:x,disabled:m,className:rs})]})]})};var cs=n(23482);const ds="f6_Fu_ei4TIJWR0wzvTk",us="TLmzadNIdvV8sYzTuXRg",ms="MT9De6UrCVQ8Qo6o3ikA",ps=s.memo((()=>(0,N.jsx)("div",{className:ds,"aria-hidden":!0,children:(0,N.jsxs)("div",{className:us,children:[(0,N.jsx)(cs.O,{as:"div",variant:"bodyMediumBold",className:ms,charCount:8,isLoading:!0}),[20,50,25].map(((e,t)=>(0,N.jsx)(cs.O,{as:"div",variant:"bodySmall",className:ms,charCount:e,isLoading:!0},t)))]})})));var hs=n(48256);const gs="m3pzWNRu8xGY36YIaCY1",fs=({topics:e,logTopicNavigation:t})=>!e||e.length<1?null:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(ce.E,{children:l._s.get("web-player.now-playing-view.discover-more")}),(0,N.jsx)(hs.A,{topics:e,onClick:t,className:gs})]}),ys=({item:e,spec:t})=>{const n=(0,s.useCallback)((()=>{}),[]),i=(0,F.o)((e=>e?.isPaused??void 0)),r=(0,M.Q)(),{isPlaying:a,isActive:o}=(0,U.Cu)(e.uri),c=(0,m.IP)(p.G_1),d=(0,m.IP)(p.e46),u=(0,m.IP)(p.ExF),h=(0,m.IP)(p.ieB),g=(0,L.w)(),f=(0,R.m)(),y=(0,B.a)(e.uri)?.episodeOrChapter,_=Qt(e),b=(0,s.useCallback)(((t,n,s,l)=>{let c="play";!a||0!==t&&n||(c="pause"),g({intent:c,targetUri:e.uri,type:"click",itemIdSuffix:t>0?"podcast-description-timestamp":"button"}),y&&f?j.F.set((()=>({triggerId:s||"activation-trigger-mme",triggerAction:null}))):o&&!n?i?(l?.("resume"),r.resume()):(l?.("pause"),r.pause()):r.seekTo(t)}),[a,g,e.uri,y,f,o,i,r]),v=(0,s.useCallback)(((e,t)=>{b(e,!0,t)}),[b]),{loading:x,error:C,data:E}=(S={uri:e.uri,includeChapters:u,includeAIDubbedEpisodes:h,numberOfChapters:10},w={staleTime:re,gcTime:ie},(0,oe.U)(ge,S,w));var S,w;const[I,A]=(0,s.useState)(null),k=(0,s.useCallback)((async e=>{const t=await(0,G.Q)(e);A(t)}),[]);if((0,s.useEffect)((()=>{y&&!(0,V.c)(y)&&y.transcript&&y.transcript.length>0&&k(y.transcript[0].cdnUrl)}),[k,y]),x&&e.uri&&!C)return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(ps,{}),(0,N.jsx)(ps,{})]});const O=(P=E?.episodeUnionV2,fe(P)?P:void 0);var P;const D=(e=>{return fe(e)&&(t=e.podcastV2.data,"Podcast"===t?.__typename)?e.podcastV2.data:void 0;var t})(E?.episodeUnionV2);if(!e.uri||!O||x||C)return null;const{chapters:W,nextOffset:z,limit:Y}=function(e){if("DisplaySegments"===e.displaySegments?.__typename)return{chapters:e.displaySegments.displaySegments.items,nextOffset:e.displaySegments.displaySegments.pagingInfo.nextOffset,limit:e.displaySegments.displaySegments.pagingInfo.limit};return{chapters:[],nextOffset:0,limit:0}}(O),K=W.length>0;return(0,N.jsxs)(T.Ud,{spec:t,children:[h&&!O.originalEpisode&&(0,N.jsx)(Je,{episode:O}),h&&(0,N.jsx)(et,{episode:O}),K&&!_&&(0,N.jsx)(pe,{chapters:W,episodeUri:e.uri,nextOffset:z,limit:Y,isPlaying:a}),d&&D&&(0,N.jsx)(ls,{coverArt:D.coverArt||void 0,description:D.htmlDescription||"",name:D.name,publisher:D.publisher?.name,uri:D.uri}),y&&y.type===H.s.EPISODE&&y.transcript&&y.transcript.length>0&&(c?(0,N.jsx)(Kt,{episode:e}):(0,N.jsxs)(ce.i,{className:st,children:[(0,N.jsx)(ce.E,{children:l._s.get("web-player.now-playing-view.transcript")}),I&&(0,N.jsx)(dt,{transcriptSections:I||[],onTimeStampClick:v,episodeUri:e.uri})]})),_&&(0,N.jsx)(yn,{item:e}),(0,N.jsx)(fs,{topics:D?.topics.items??[],logTopicNavigation:n}),(0,N.jsx)(qn,{})]})},_s=({item:e,spec:t})=>(0,D.O)()?(0,N.jsx)(ys,{item:e,spec:t}):(0,N.jsx)(N.Fragment,{});const bs=()=>(0,N.jsx)(N.Fragment,{}),vs=Spicetify.GraphQL.Definitions["queryNpvArtist"]=new ae.a("queryNpvArtist","query","4ec4ae302c609a517cab6b8868f601cd3457c751c570ab12e988723cc036284f",null);n(39568),n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256);var xs=n(26020),Cs=n(56528),Es=n(4732),Ss=n(74712),ws=n(17988),Is=n(47824),As=n(59476),Ts=n(40068),ks=n(54584);const Ns="main-nowPlayingView-aboutArtist",Os="main-nowPlayingView-aboutArtistContent",Ps="main-nowPlayingView-aboutArtistButton",js="main-nowPlayingView-aboutArtistHasImage",Ls="main-nowPlayingView-aboutArtistBio",Rs="main-nowPlayingView-aboutArtistTextContent",Ds="main-nowPlayingView-aboutArtistPlaceholderWrapper",Ms=new Set(["spotify:artist:5UUG83KSlqPhrBssrducWV"]),Us=({artistUri:e,artist:t,visuals:n,stats:i,externalLinks:a=[]})=>{const o=(0,Gt.OY)(),{gallery:c,avatarImage:d}=n,{monthlyListeners:m}=i,p=(0,Ne.nX)(e).toURLPath(!0),h=(0,Is.W)({uri:e,type:"locale"})?(0,ks.oP)(p):p,{spec:g,logger:f}=(0,T.gp)(Cs.G,{}),y=(0,we.i6)(),_=(0,s.useCallback)((()=>{if(t&&e){const s=g.hitUiReveal();f.logInteraction(s),o((0,Es.OC)({artistUri:e,artist:t,stats:i,visuals:n,externalLinks:a})),y(h)}}),[g,f,h,o,y,e,t,i,n,a]);if(Ms.has(e)||!t.biography?.text)return null;const b=[];c.items.forEach((e=>{const t=e.sources.map(As.WG),n=(0,Ts.C)(t,{desiredLabel:"large",desiredSize:600});n&&b.push(n)}));const v=b.find((e=>(e.width||0)>=(e.height||0))),x=[];d?.sources.forEach((e=>{const t=(0,As.WG)(e);t&&x.push(t)}));const C=v&&{backgroundImage:`linear-gradient(${u.Izi} 0%, ${u.O81} 100%), url(${v.url})`},E=t.verified&&!v&&x.length>0||!t.verified&&!v;return(0,N.jsx)(ce.i,{className:Ns,children:(0,N.jsx)("button",{type:"button","aria-label":t.name,className:r()(Ps,{[js]:!!C}),onClick:_,style:C,"":"npv-artist-bio-button",children:(0,N.jsxs)("div",{className:r()(Os),children:[t.verified&&(0,N.jsx)(ws.c,{text:l._s.get("artist.verified")}),E&&(0,N.jsx)(Ss.C,{images:x,label:t.name,width:80,userIconSize:"large",testID:"npv-artist-bio-avatar",customPlaceholder:(0,N.jsx)("div",{className:Ds,"":"npv-artist-bio-placeholder-wrapper",children:(0,N.jsx)(xs.s,{size:"large"})})}),(0,N.jsxs)("div",{className:Rs,children:[(0,N.jsx)(q.a,{as:"div",variant:"bodyMedium",children:!!m&&l._s.get("artist.monthly-listeners-count",m)}),(0,N.jsx)("div",{children:(0,N.jsx)(q.a,{as:"span",variant:"bodySmall",className:Ls,children:(0,N.jsx)(Jn.W,{source:t.biography.text})})})]})]})})})};var Fs=n(72199);const Bs="main-nowPlayingView-aboutArtistV2",Gs="main-nowPlayingView-aboutArtistV2Button",Vs="main-nowPlayingView-aboutArtistV2Title",Hs="main-nowPlayingView-aboutArtistV2HasImage",Ws="main-nowPlayingView-aboutArtistV2ImageContainer",zs="main-nowPlayingView-aboutArtistV2Image",Ys="main-nowPlayingView-aboutArtistV2TextContent",Ks="main-nowPlayingView-aboutArtistV2Name",qs="main-nowPlayingView-aboutArtistV2Listeners",Qs="main-nowPlayingView-aboutArtistV2ListenersCount",Xs="main-nowPlayingView-aboutArtistV2FollowButton",$s="main-nowPlayingView-aboutArtistV2Bio",Js="main-nowPlayingView-aboutArtistV2PlaceholderWrapper",Zs="main-nowPlayingView-aboutArtistV2Avatar",ei=new Set(["spotify:artist:5UUG83KSlqPhrBssrducWV"]),ti=({artistUri:e,artist:t,visuals:n,stats:i,externalLinks:a=[]})=>{const o=(0,Gt.OY)(),{gallery:c,avatarImage:d}=n,{monthlyListeners:m}=i,p=(0,Ne.nX)(e).toURLPath(!0),h=(0,Is.W)({uri:e,type:"locale"})?(0,ks.oP)(p):p,[g,f]=(0,Zn.X)(e),{spec:y,logger:_}=(0,T.gp)(Cs.G,{}),b=(0,s.useCallback)((()=>{if(t&&e){const s=y.hitUiReveal();_.logInteraction(s),o((0,Es.OC)({artistUri:e,artist:t,stats:i,visuals:n,externalLinks:a}))}}),[y,_,o,e,t,i,n,a]),v=(0,s.useCallback)((t=>{t.stopPropagation();const n=y.artistNameFactory().hitUiNavigate({destination:e});_.logInteraction(n)}),[y,e,_]),x=(0,s.useCallback)((async t=>{t.preventDefault(),t.stopPropagation();const n=y.followButtonFactory().hitFollow({itemToBeFollowed:e}),s=y.followButtonFactory().hitUnfollow({itemToBeUnfollowed:e});_.logInteraction(g?s:n);try{await f(!g)}catch{}}),[e,g,_,f,y]),C=(0,s.useCallback)((e=>{if("Enter"===e.key)return x(e)}),[x]);if(ei.has(e)||!t.biography?.text)return null;const E=[];c.items.forEach((e=>{const t=e.sources.map(As.WG),n=(0,Ts.C)(t,{desiredLabel:"large",desiredSize:600});n&&E.push(n)}));const S=E.find((e=>(e.width||0)>=(e.height||0))),w=[];d?.sources.forEach((e=>{const t=(0,As.WG)(e);t&&w.push(t)}));const I=S&&{backgroundImage:`linear-gradient(${u.Ujm} 0%, ${u.AXN} 50%), url(${S.url})`},A=!S&&w.length>0,k=!S&&0===w.length;return(0,N.jsx)(ce.i,{className:Bs,children:(0,N.jsxs)("button",{type:"button","aria-label":t.name,className:r()(Gs),onClick:b,tabIndex:0,"":"npv-artist-bio-button",children:[(0,N.jsxs)("div",{className:r()(Ws,{[zs]:S}),style:I,children:[(0,N.jsx)("div",{className:r()(Vs,{[Hs]:S}),children:(0,N.jsx)(ce.E,{children:l._s.get("web-player.now-playing-view.artist-about.title")})}),k&&(0,N.jsx)("div",{className:r()(Js),"":"npv-artist-bio-placeholder-wrapper",children:(0,N.jsx)(xs.s,{size:"xxlarge"})}),A&&(0,N.jsx)(Ss.C,{images:w,label:t.name,width:80,userIconSize:"large",testID:"npv-artist-bio-avatar",className:Zs})]}),(0,N.jsxs)("div",{className:Ys,children:[(0,N.jsx)("div",{className:Ks,children:(0,N.jsx)(Fs.cH,{to:h,onClick:v,"":"npv-artist-link",children:(0,N.jsx)(q.a,{as:"span",variant:"bodyMediumBold",dir:"auto",children:t.name})})}),(0,N.jsxs)("div",{className:qs,children:[(0,N.jsx)(q.a,{as:"div",variant:"bodyMedium",className:Qs,children:!!m&&l._s.get("artist.monthly-listeners-count",m)}),(0,N.jsx)(Gn.w,{as:"div",size:"small",className:Xs,onClick:x,onKeyDown:C,tabIndex:0,children:g?l._s.get("unfollow"):l._s.get("follow")})]}),(0,N.jsx)(q.a,{as:"span",variant:"bodySmall",className:$s,children:(0,N.jsx)(Jn.W,{LinkComponent:Fs.cH,source:t.biography.text,onLinkClick:e=>{e.stopPropagation()}})})]})]})})};n(99400);var ni=n(89320);const si=({artistUri:e,spec:t,logger:n})=>{const[i,r]=(0,Zn.X)(e),a=(0,s.useCallback)((async()=>{if(!t||!n)return;const s=t.hitFollow({itemToBeFollowed:e}),a=t.hitUnfollow({itemToBeUnfollowed:e});n.logInteraction(i?a:s);try{await r(!i)}catch{}}),[e,i,n,r,t]),o=i?l._s.get("unfollow"):l._s.get("follow");return(0,N.jsx)($n.W,{isFollowing:i,onClick:a,buttonText:o})},ii=({artistName:e,roles:t,spec:n,logger:i,linkable:r=!1})=>{const a=t[0].artistUri,o=t.map((e=>e.role)).join(l._s.getSeparator()),c=(0,Ne.nX)(a).toURLPath(!0),d=(0,Is.W)({uri:a,type:"locale"})?(0,ks.oP)(c):c,u=(0,s.useCallback)((e=>{if(e.stopPropagation(),!n||!i)return;const t=n.artistNameFactory().hitUiNavigate({destination:a});i.logInteraction(t)}),[n,a,i]);return(0,N.jsx)(K.U,{title:r?(0,N.jsx)(je.default,{to:d,onClick:u,"":"artist-row-credits-link",children:(0,N.jsx)(q.a,{variant:"bodyMedium",children:e})}):(0,N.jsx)(q.a,{variant:"bodyMedium",children:e}),size:"sm",paddingInlineStart:"0",paddingInlineEnd:"0",subtitle:(0,N.jsx)(q.a,{variant:"bodySmall",semanticColor:"textSubdued",style:{textTransform:"capitalize"},"":"artist-row-role",children:o}),"":"credits-artist-row",variant:"naked",id:a,trailing:r&&(0,N.jsx)(si,{artistUri:a,spec:n?.followToggleButtonFactory(),logger:i})},e)};let ri=function(e){return e.MainArtist="main artist",e.FeaturedArtist="featured artist",e.Remixer="remixer",e.Actor="actor",e.Composer="composer",e.Orchestra="orchestra",e.Writer="writer",e.Producer="producer",e.Performer="performer",e.Lyricist="lyricist",e.Conductor="conductor",e.Author="author",e.Editor="editor",e.Arranger="arranger",e.EnsembleOrchestra="ensemble orchestra",e}({});const ai=(0,s.memo)((({data:e,limit:t})=>{const{spec:n,logger:s}=(0,T.gp)(ni.I,{}),i=e.reduce(((e,t)=>{const{artistName:n}=t,s=e.get(n)??[];return s.push(t),e.set(n,s),e}),new Map),r=Array.from(i,(([e,t],i)=>(0,N.jsx)(ii,{artistName:e,roles:t.sort(((e,t)=>e.role.toLowerCase()===ri.MainArtist?-1:t.role.toLowerCase()===ri.MainArtist?1:0)),spec:n.creditsRowFactory({position:i}),logger:s,linkable:t.filter((e=>e.isArtistUriLinkable)).length>0},e))).slice(0,t);return(0,N.jsx)(N.Fragment,{children:r})})),oi="main-nowPlayingView-credits",li="main-nowPlayingView-creditsShowAll",ci=({data:e,trackUri:t})=>{const n=(0,Gt.OY)(),i=(0,s.useCallback)((()=>{n((0,Es.H5)(!0,t))}),[n,t]);return 0===e.length?null:(0,N.jsxs)(ce.i,{className:oi,children:[(0,N.jsx)(ce.E,{action:(0,N.jsx)(_n.u,{size:"small",condensed:!0,onClick:i,className:li,semanticColor:"textSubdued",children:l._s.get("web-player.now-playing-view.show-all")}),children:l._s.get("web-player.now-playing-view.credits")}),(0,N.jsx)(ai,{data:e,limit:3})]})};var di=n(31476),ui=n(95408),mi=n(76504),pi=n(16880),hi=n(76008),gi=n(85660),fi=n(75128);const yi="main-nowPlayingView-sectionHeaderSpacing",_i="main-nowPlayingView-lyricsTitle",bi="main-nowPlayingView-lyricsControls",vi="main-nowPlayingView-lyricsGradient",xi="main-nowPlayingView-lyricsContent",Ci=()=>{const{spec:e,logger:t}=(0,T.gp)(di.e,{}),{setMode:n}=(0,fi.O)();return(0,N.jsxs)("div",{className:bi,children:[(0,N.jsx)(gi.u,{label:l._s.get("web-player.now-playing-view.lyrics.cinema-mode"),onClick:()=>{n(Tt.ch.cinema),t.logInteraction(e.cinemaModeButtonFactory().hitUiReveal()),t.logImpression(e.cinemaModeButtonFactory().impression())},children:(0,N.jsx)(pi.s,{size:"small"})}),(0,N.jsx)(gi.u,{label:l._s.get("web-player.now-playing-view.close.lyrics"),onClick:()=>{n(Tt.ch.none),t.logInteraction(e.closeLyricsButtonFactory().hitUiHide())},children:(0,N.jsx)(hi.K,{size:"small"})})]})},Ei=({item:e})=>{const{spec:t,logger:n}=(0,T.gp)(di.e,{}),i=(0,s.useRef)(null),{mode:a,setMode:o}=(0,fi.O)(),c=(0,s.useRef)(null),d=(0,s.useRef)(0),{data:m}=(0,mi.w)(e.uri,e?.images),p=(0,F.o)((e=>e?.nextItems?.[0]),((e,t)=>e?.uri===t?.uri));(0,mi.w)(p?.uri,p?.images);const h=(0,s.useCallback)((()=>{d.current=Date.now()}),[]),g=(0,s.useCallback)((({lineRef:e,isActiveLine:t,shouldAnimateScroll:n,activeLineIndex:s,isFirstLine:r})=>{if(!i.current||!c.current)return;let a;if(e.current&&t?a=e.current?.offsetTop-c.current?.offsetTop-16:r&&s<0&&(a=0),void 0===a)return;const o=c.current?.scrollTop,l=Math.abs(o-a),u=i.current.clientHeight,m=Date.now()-d.current<2e3,p=d.current>0&&l>1*u;if(m||p)return;d.current=0;const h="visible"===document.visibilityState&&n?"smooth":"auto";c.current?.scrollTo({top:a,behavior:h})}),[]);if((0,s.useLayoutEffect)((()=>{d.current=0,c.current?.scrollTo({top:0,behavior:"auto"})}),[e.uri]),!m?.hasLyrics)return null;if(a===Tt.ch.npv){const t=m?.hasLyrics&&!m.isTimeSynced,n={"--lyrics-color-active":t?u.WKt:m.colors.activeText,"--lyrics-color-inactive":m.colors.text,"--lyrics-color-passed":Bt.gC.fromCSS(m.colors.activeText,.7).toCSS(Bt.wt.RGBA),"--lyrics-color-background":m.colors.background};return(0,N.jsxs)(ce.i,{className:r()(yi,vi),style:n,ref:i,children:[(0,N.jsx)(ce.E,{action:(0,N.jsx)(Ci,{}),className:_i,children:l._s.get("web-player.lyrics.title")}),(0,N.jsxs)("div",{className:xi,ref:c,onWheel:h,onScroll:h,children:[t&&(0,N.jsx)(q.a,{as:"p",variant:"bodySmall",dir:"auto",style:{color:m.colors.text},children:l._s.get("web-player.lyrics.unsynced")}),(0,N.jsx)(ui.q,{trackUri:e.uri,data:m,format:"card",onActiveLineChange:g})]})]})}return(0,N.jsx)(ce.i,{className:yi,children:(0,N.jsx)(ce.E,{action:(0,N.jsx)(Vn,{onClick:()=>{o(Tt.ch.npv),n.logInteraction(t.showLyricsButtonFactory().hitUiReveal()),n.logImpression(t.showLyricsButtonFactory().impression())},children:l._s.get("web-player.now-playing-view.show.lyrics")}),className:_i,children:l._s.get("web-player.lyrics.title")})})};var Si=n(24544),wi=n(71328);const Ii="main-nowPlayingView-merch",Ai=({artistId:e,merch:t})=>!t||t.length<1?null:(0,N.jsxs)(ce.i,{className:Ii,children:[(0,N.jsx)(ce.E,{children:l._s.get("web-player.now-playing-view.npv-merch")}),(0,N.jsx)(wi.ArtistOffers,{items:t,artistId:e,merchVariant:Si.sz.VARIANTA,variant:"bodyMedium"})]});n(35272);var Ti=n(25922),ki=n(4404),Ni=n(59792);const Oi="main-nowPlayingView-artistOnTour",Pi="main-nowPlayingView-artistOnTourItem",ji="main-nowPlayingView-artistOnTourShowAll",Li=({artistId:e,data:t,variant:n="bodyMedium"})=>{const s=(0,Ni.ag)(e),i=(0,we.i6)(),{spec:r,logger:a}=(0,T.gp)(Ti.S,{data:{identifier:e,uri:s,position:0,reason:"NPV - On Tour"}}),o=(0,T.K2)(r),c={items:t.items.map((e=>({...e,artists:{items:e.artistsV2.items.flatMap((e=>"Artist"===e.data.__typename?e.data:[]))}}))),totalCount:t.totalCount};return c.items.length?(0,N.jsxs)(ce.i,{className:Oi,ref:o,children:[(0,N.jsx)(ce.E,{action:c.items.length!==c.totalCount&&(0,N.jsx)(_n.u,{size:"small",condensed:!0,className:ji,onClick:()=>{(()=>{const e=r.seeAllButtonFactory({uri:s}).hitUiNavigate({destination:`${s}:concerts`});a.logInteraction(e);const t=(0,Ne.nX)(`${s}:concerts`).toURLPath(!0);i(t)})()},semanticColor:"textSubdued",children:l._s.get("web-player.now-playing-view.show-all")}),children:l._s.get("web-player.now-playing-view.on-tour")}),c.items.map(((e,t)=>(0,N.jsx)("div",{className:Pi,children:(0,N.jsx)(ki.G,{concert:e,index:t,spec:r,condensed:!0,elevatedDate:!0,titleVariant:n})},e.uri)))]}):null};var Ri=n(87056),Di=n(5540),Mi=n(35528),Ui=n(75512),Fi=n(64480),Bi=n(79488),Gi=n(44772),Vi=n(62572);const Hi="TIoJv8dV373UyvBWRDav",Wi="xn9l3L0D_ZzL886N4J_5",zi="P8bNOGKtEtIZXnWEw61V",Yi="PpQWFsG9yJRfPFiERSti",Ki="chgeyo_c9jfrfuEJg5sk",qi="MLbUPrgOa58_qsGikfRG",Qi="l7B1SCkbYm9oU2tO9mOW",Xi="kT3XHoiG64bhNORLJv09",$i=16,Ji=({relatedVideos:e,contextUri:t})=>{const n=l._s.get("npv.related-videos.title"),i=l._s.get("npv.related-videos.prev"),a=l._s.get("npv.related-videos.next"),{spec:o,logger:c}=(0,T.gp)(Ui.O,{data:{uri:t,identifier:Bi.q.npv}}),d=(0,Mi.o)({data:{identifier:"related-videos",position:0,uri:t},parentAbsoluteLocation:o.getAbsoluteLocation()}),u=(0,s.useRef)(null),[m,p]=(0,s.useState)(0),[h,g]=(0,s.useState)(0),[f,y]=(0,s.useState)("auto"),_=(0,S.oV)(),b=(0,Gi.k)();(0,s.useLayoutEffect)((()=>{const e=u.current;e&&g(e.clientWidth)}),[]),(0,Vi.m)({onResize:e=>{g(e.width),_===S.u_.MEDIUM&&p(0)},refOrElement:u});const v=_===S.u_.MEDIUM?2:1,x=Math.ceil(e.length/v)-1,C=_===S.u_.MEDIUM?(h-$i*v)/v:85*h/100,E=v*C+$i*v,w=(0,s.useCallback)((()=>{const t=m*E;return m===x&&t>0&&2===v?e.length%2==0?t+$i*v:t-C+$i:t}),[m,C,E,x,e.length,v]),I=(0,s.useMemo)((()=>{const t=2===e.length&&2===v?C+8:C,n=w();return{pointerEvents:f,"--video-flex-basis":`${t}px`,transform:`translateX(-${n}px)`}}),[e.length,v,C,w,f]);(0,s.useEffect)((()=>{const e=u?.current?.children[0],t=()=>{y("auto")};return e?.addEventListener("transitionend",t),()=>{e?.removeEventListener("transitionend",t)}}),[]);const A=(0,s.useCallback)((e=>{p(m+e),y("none"),e>0&&b||e<0&&!b?c.logInteraction(d.shelfHeaderFactory().shelfCarouselControlsFactory().shelfCarouselControlsPreviousFactory().hitUiReveal()):(e<0&&b||e>0&&!b)&&c.logInteraction(d.shelfHeaderFactory().shelfCarouselControlsFactory().shelfCarouselControlsNextFactory().hitUiReveal())}),[m,b,c,d]),k=(0,T.K2)(d);return(0,N.jsx)(ce.i,{className:Hi,ref:k,children:(0,N.jsxs)(T.Ud,{spec:o,children:[(0,N.jsx)(ce.E,{children:n}),(0,N.jsxs)("div",{className:Wi,style:{"--container-gap":"16px"},children:[0!==m&&(0,N.jsx)("button",{type:"button","aria-label":i,onClick:()=>A(-1),className:r()(zi,Yi),children:b?(0,N.jsx)(Ri.U,{}):(0,N.jsx)(Di.C,{})}),m<x&&(0,N.jsx)("button",{type:"button","aria-label":a,onClick:()=>A(1),className:r()(zi,Ki),children:b?(0,N.jsx)(Di.C,{}):(0,N.jsx)(Ri.U,{})}),(0,N.jsx)("ul",{ref:u,className:qi,dir:"auto",children:e.map((({trackOfVideo:e},t,n)=>{if("Track"!==e.data.__typename)return null;const{uri:s,name:i,albumOfTrack:r,artists:a,contentRating:o}=e.data;return(0,N.jsx)("li",{className:1===n.length?Xi:Qi,style:I,children:(0,N.jsx)(T.Ud,{spec:d,children:(0,N.jsx)(Fi.MF,{title:i,trackUri:s,artists:a.items,album:r,contentRating:o,referrerIdentifier:"now_playing_panel",index:t,hoverBackgroundColor:"backgroundTintedHighlight",contentAlign:!0,size:"sm"})})},s)}))})]})]})})},Zi=({item:e,spec:t})=>{const n=(0,m.IP)(p.Wwy),s=(0,m.IP)(p.ofi),{loading:i,error:r,data:a}=(o={artistUri:e.artists[0].uri,trackUri:e.uri,enableCredits:s,enableRelatedVideos:n},l={gcTime:ie,staleTime:re},(0,oe.U)(vs,o,l));var o,l;const c=(0,m.IP)(p._Oo),d=Qt(e),u=(0,m.IP)(p.O8K)?ti:Us;if(i&&e.uri&&!r)return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(ps,{}),(0,N.jsx)(ps,{}),(0,N.jsx)(ps,{})]});if(!e.uri||"Artist"!==a?.artistUnion.__typename||"Track"!==a?.trackUnion.__typename||i||r)return null;const{profile:h,stats:g,visuals:f,profile:{externalLinks:y}}=a.artistUnion,{credits:_}=a.trackUnion;return(0,N.jsxs)(N.Fragment,{children:[c&&(0,N.jsx)(Ei,{item:e}),(0,N.jsxs)(T.Ud,{spec:t,children:[a.trackUnion.relatedVideos&&"RelatedVideoPage"===a.trackUnion.relatedVideos.__typename&&a.trackUnion.relatedVideos.items.length>0&&(0,N.jsx)(Ji,{contextUri:e.uri,relatedVideos:a.trackUnion.relatedVideos.items}),(0,N.jsx)(u,{artistUri:a.artistUnion.uri,artist:h,stats:g,visuals:f,externalLinks:y.items}),s&&_&&(0,N.jsx)(ci,{data:_,trackUri:e.uri}),(0,N.jsx)(Li,{artistId:a.artistUnion.id,data:a.artistUnion.goods.events.concerts}),(0,N.jsx)(Ai,{artistId:a.artistUnion.id,artistUri:a.artistUnion.uri,merch:a.trackUnion.merch.items}),d&&(0,N.jsx)(yn,{item:e})]})]})},er=({item:e,spec:t})=>(0,D.O)()&&e.artists[0].uri?(0,N.jsx)(Zi,{item:e,spec:t}):(0,N.jsx)(N.Fragment,{}),tr=({item:e,spec:t})=>(0,k.g)(e)&&!e.isLocal?(0,N.jsx)(er,{item:e,spec:t}):(0,k.g)(e)&&e.isLocal?(0,N.jsx)(bs,{}):(0,A.sN)(e)?(0,N.jsx)(_s,{item:e,spec:t}):(0,A.Q9)(e)?(0,N.jsx)(P,{}):(0,A.UZ)(e)?(0,N.jsx)(O,{}):null;var nr=n(36608),sr=n(2748),ir=n(53788),rr=n(10660),ar=n(48856),or=n(5260),lr=n(97336),cr=n(61652),dr=n(96160),ur=n(32508),mr=n(96800),pr=n(52276),hr=n(47352),gr=n(96692);const fr="main-nowPlayingView-nowPlayingWidget",yr="T5_sYfKJ2efL3n3dFNuN",_r="main-nowPlayingView-nowPlayingGrid",br="main-nowPlayingView-contextItemInfo",vr="main-nowPlayingView-coverArtContainer",xr="main-nowPlayingView-trackInfo",Cr=({item:e,spec:t})=>{const n=(0,T.Mk)(),i=(0,s.useCallback)((s=>{const i=s?t.heartButtonFactory().hitLike({itemToBeLiked:e.uri}):t.heartButtonFactory().hitRemoveLike({itemNoLongerLiked:e.uri});n.logInteraction(i)}),[e.uri,n,t]);return(0,dr.E)(e)?(0,N.jsx)(cr.u,{uri:e.uri,size:"small"}):(0,A.gB)(e)&&!e.isLocal?(0,N.jsx)(lr.s,{uri:e.uri,size:rr.o.xs,onClick:i}):(0,A.sN)(e)?(0,N.jsx)(or.Q,{uri:e.uri,size:rr.o.xs,onClick:i}):null};function Er(e){return(0,A.gB)(e)||(0,A.u_)(e)||(0,A.sN)(e)||(0,A.Q9)(e)?e.name:(0,A.UZ)(e)?"":(0,pr.E)(e)}const Sr=({context:e,item:t})=>{const{spec:n,logger:s}=(0,T.gp)(o.M,{}),{spec:i}=(0,T.gp)(ir.OC,{data:{identifier:ir.ye.DESKTOP}}),a=(0,gr.Y)();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(hr.c,{context:e,item:t,className:r()(yr),onClick:()=>{s.logInteraction(i.hideButtonFactory().hitRemoveRecommendation({recommendedItemUri:t.uri,contextUri:e.uri}))}}),a&&(0,mr.c)(t)?(0,N.jsx)(T.Ud,{spec:n,children:(0,N.jsx)(ur.W,{contextUri:t.metadata?.context_uri??e.uri,id:t.uid??void 0,uri:t.uri,isActive:!0})}):(0,N.jsx)(Cr,{item:t,spec:n}),(0,N.jsx)(vn.pD,{menu:(0,N.jsx)(Ln.g,{context:e,item:t}),children:(0,N.jsx)(ar.g,{size:ar.o.xs,label:l._s.get("more.label.context",Er(t)),onClick:()=>{s.logInteraction(n.contextMenuButtonFactory().hitUiReveal())}})})]})};var wr=n(1552),Ir=n(86068),Ar=n(41148);const Tr="main-nowPlayingView-coverArt",kr=({context:e,item:t,index:n})=>{const{spec:s,logger:i}=(0,T.gp)(o.M,{}),r=(0,Re.C)();return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(vn.UF,{menu:(0,N.jsx)(Ln.g,{context:e,item:t}),children:(0,N.jsx)("div",{draggable:(0,A.gB)(t)||(0,A.sN)(t),onDragStart:e=>{r(e,{itemUris:[t.uri],dragLabelText:(0,Rn.k)(t)})},children:(0,N.jsx)(Ar.G,{uri:e.uri,owner:e.metadata?.context_owner,children:(0,N.jsx)(Ir.K,{context:t.type===H.s.TRACK?t.album:e,item:t,index:n,isVisible:!0,onClick:()=>{i.logInteraction(s.coverArtFactory({uri:t.uri}).hitUiNavigate({destination:t.type===H.s.TRACK?t.album.uri:t.uri}))},adEventReason:wr.W.COVER_ART,children:(0,N.jsx)(xn.A,{className:Tr,item:t,maxSize:384,desiredLabel:"xlarge"})})})})})})};var Nr=n(71830);const Or="Gb1JMFdg4daTtBu44mJ_",Pr=()=>{const{setVideoPlayerUIFlag:e}=(0,nr.a)(),{close:t}=(0,Nr.s)(),n=(0,s.useCallback)((()=>{e(Bi.Z.documentPip,!1),t()}),[t,e]);return(0,N.jsx)("div",{children:(0,N.jsxs)("div",{className:Or,children:[(0,N.jsx)(q.a,{variant:"bodySmall",children:l._s.get("web-player.now-playing-view.video.playing-in-pip")}),(0,N.jsx)(Gn.w,{onClick:n,size:"small",children:l._s.get("web-player.now-playing-view.video.return-playback")})]})})};var jr=n(15563);const Lr=()=>{const{connectionStatus:e,remoteDevice:t}=(0,sr.w)(),n=t?.name;let s="";return n&&e===jr.UD.CONNECTING?s=l._s.get("web-player.connect.bar.connecting-state",{device_name:t.name}):n&&e===jr.UD.CONNECTED&&(s=l._s.get("web-player.connect.bar.connected-state",{device_name:t.name})),(0,N.jsx)("div",{children:(0,N.jsx)("div",{className:Or,children:(0,N.jsx)(q.a,{variant:"bodySmall",children:s})})})},Rr=()=>{const{setVideoPlayerUIFlag:e}=(0,nr.a)(),t=(0,Un.sH)();return(0,s.useEffect)((()=>(e(Bi.Z.npv,!0),()=>{e(Bi.Z.npv,!1)})),[t,e]),(0,N.jsx)("div",{id:"VideoPlayerNpv_ReactPortal"})},Dr=(0,s.lazy)((()=>n.e(8192).then(n.bind(n,18192)))),Mr=(0,s.lazy)((()=>n.e(3640).then(n.bind(n,3640))));var Ur=function(e){return e[e.NONE=0]="NONE",e[e.COVER_ART=1]="COVER_ART",e[e.VIDEO_OVER_PIP_PLACEHOLDER=2]="VIDEO_OVER_PIP_PLACEHOLDER",e[e.VIDEO_OVER_CONNECT_PLACEHOLDER=3]="VIDEO_OVER_CONNECT_PLACEHOLDER",e}(Ur||{});const Fr=({hideContextItemInfo:e=!1})=>{const{size:t}=(0,Mn.wT)(),n=(0,d.z)(),i=(()=>{const e=(0,d.z)(),{isPlayingRemotely:t}=(0,sr.w)(),{videoPlayerMode:n}=(0,nr.a)(),{isSongVideo:s,isSongVideoPlayingVideo:i}=(0,Fi.cD)(),r=(0,Gt.w1)((e=>e.ads?.vto));if(!e)return Ur.NONE;const{item:a}=e;return n===Bi.q.documentPip||n===Bi.q.pip?Ur.VIDEO_OVER_PIP_PLACEHOLDER:a?.type===H.s.AD&&r?.isMinimized&&"audio"!==a?.mediaType?Ur.NONE:a?.type!==H.s.EPISODE||"video"!==a?.mediaType&&"mixed"!==a?.mediaType?s&&i?t?Ur.VIDEO_OVER_CONNECT_PLACEHOLDER:Ur.NONE:Ur.COVER_ART:t?Ur.VIDEO_OVER_CONNECT_PLACEHOLDER:Ur.NONE})(),{spec:a,logger:l}=(0,T.gp)(o.M,{}),{isSongVideo:c}=(0,Fi.cD)();if(null===n)return null;const{context:u,item:m,index:p}=n,h="isPodcastAd"in m&&m.isPodcastAd&&m.metadata?.["podcast_ads.buttonMessage"]&&m.metadata?.["podcast_ads.tagline"];return(0,N.jsxs)("div",{className:fr,children:[(0,N.jsxs)("div",{className:_r,children:[(0,N.jsxs)("div",{className:vr,style:{minHeight:t-32},children:[i===Ur.COVER_ART&&(0,N.jsx)(kr,{context:u,item:m,index:p}),i===Ur.VIDEO_OVER_PIP_PLACEHOLDER&&(0,N.jsx)(Pr,{}),i===Ur.VIDEO_OVER_CONNECT_PLACEHOLDER&&(0,N.jsx)(Lr,{}),(0,N.jsx)(Rr,{})]}),c&&(0,N.jsx)(Fi.Oc,{}),e?null:(0,N.jsxs)("div",{className:br,children:[(0,N.jsx)(sn.E,{isNowPlayingView:!0,className:r()(xr),context:u,item:m,titleTypeVariant:"titleSmall",subtitleTypeVariant:"bodyMedium",onTitleClick:e=>{l.logInteraction(a.titleFactory({uri:m.uri}).hitUiNavigate({destination:e||""}))},onSubtitleClick:e=>{l.logInteraction(a.artistFactory({uri:m.uri}).hitUiNavigate({destination:e||""}))}}),(0,A.UZ)(m)?h?null:(0,N.jsx)(s.Suspense,{fallback:!0,children:(0,N.jsx)(Dr,{item:m,onCtaClick:e=>{l.logInteraction(a.titleFactory({uri:m.uri}).hitUiNavigate({destination:e||""}))}})}):(0,N.jsx)(Sr,{context:u,item:m})]})]}),h&&(0,N.jsx)(s.Suspense,{fallback:!0,children:(0,N.jsx)(Mr,{item:m,onCtaClick:e=>{l.logInteraction(a.titleFactory({uri:m.uri}).hitUiNavigate({destination:e||""}))}})})]})};var Br=n(5508);const Gr="main-nowPlayingView-content",Vr="main-nowPlayingView-gradient",Hr="main-nowPlayingView-panelOpenDiv",Wr=(0,s.lazy)((()=>Promise.all([n.e(8596),n.e(3532)]).then(n.bind(n,3532)))),zr=({item:e,spec:t})=>{const{ref:n,breakpoint:s}=(0,S.CA)({[S.u_.XSMALL]:0,[S.u_.SMALL]:280,[S.u_.MEDIUM]:320});return(0,N.jsx)("div",{className:Hr,"":"NPV_Panel_OpenDiv",ref:n,children:e&&(0,N.jsxs)(S.yM.Provider,{value:s,children:[(0,N.jsx)(Fr,{}),(0,N.jsx)(tr,{item:e,spec:t}),!(0,A.sN)(e)&&(0,N.jsx)(qn,{})]})})},Yr=({context:e,item:t,spec:n,currentPanel:i})=>{const r=(0,E.Iz)();(0,s.useEffect)((()=>{r.current&&(r.current.scrollTop=0)}),[t?.uri,r]);return i===x.s.NowPlayingView?(0,Fn.wE)(e,t)?(0,N.jsx)(Br.sh,{spec:n}):(0,N.jsx)(zr,{currentPanel:i,context:e,item:t,spec:n}):(0,N.jsx)("div",{"":"NPV_Panel_ClosedDiv"})},Kr=({context:e,item:t,title:n,link:i,spec:r,currentPanel:a,onClose:o})=>{const l=(0,s.useRef)(null);return(0,s.useEffect)((()=>{null!==l.current&&l.current.focus()}),[]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(v._,{title:n,link:i,panelLinkRef:l,panel:x.s.NowPlayingView,onClose:o,item:t}),(0,N.jsx)(Yr,{currentPanel:a,context:e,item:t,spec:r})]})},qr=({currentPanel:e})=>{const{context:t,item:n,index:i}=(0,d.z)()||{context:null,item:null,index:null},{spec:v,UBIFragment:x}=(0,T.gp)(a.c,{data:{uri:n?n.uri:""}}),S=(0,c.q)(n),A=(0,T.K2)(v),{title:k,link:O}=(0,C.O)(),P=(()=>{const{item:e}=(0,d.z)()||y,{isYourDJNarrator:t}=(0,f.Wm)(),n=(0,m.IP)(p.WCY),s=(0,h.s)(e?.images?.[0]?.url,u.EFd,"colorDark");return t?g.c5:n?s:void 0})(),j={"--background-base":P,"--section-background-base":P?"var(--background-tinted-base)":"var(--background-elevated-base)"},L=(0,T.Mk)(),R=(0,s.useMemo)((()=>(0,o.M)()),[]);return(0,N.jsx)(I.y,{surface:w.g.NOW_PLAYING,children:(0,N.jsx)(E.Ck.Provider,{value:"now_playing_panel",children:(0,N.jsx)(_.g,{label:l._s.get("web-player.now-playing-view.label"),style:j,itemUri:n?.uri?n.uri:"","":"now-playing-view-container",children:(0,N.jsx)(x,{spec:v,children:(0,N.jsx)(b.u,{className:r()(Gr,{[Vr]:void 0!==P}),ref:A,children:S?(0,N.jsx)(Wr,{item:n,context:t,index:i,currentPanel:e}):(0,N.jsx)(Kr,{spec:v,currentPanel:e,context:t,item:n,link:O,onClose:()=>{const e=R.closeButtonFactory().hitUiHide();L.logInteraction(e)},title:k})})})})})})};var Qr=n(94539),Xr=n.n(Qr),$r=n(22716),Jr=n(37116);const Zr="Cffu0OWzcoGaMWSXoGsq",ea="L5PLOiBhdFNjs4FEu8ln",ta=Date.now()-6912e5,na=s.memo((function({children:e}){const[t,n]=(0,s.useState)(!1),[i,r]=(0,Jr.k)("npv-onboarding-dismissed-time",ta),[a,o]=(0,Jr.k)("npv-onboarding-never-show-again",!1),c=(0,s.useCallback)((()=>{j.F.set((()=>({triggerId:null,triggerAction:null}))),r(Date.now()),o(t)}),[t,r,o]),d=(0,s.useCallback)((e=>{const t=e.currentTarget.checked;n(t)}),[]),u=Xr()(l._s.get("web-player.now-playing-view.onboarding.description"),{transform:{b:e=>(0,N.jsx)(q.a,{variant:"bodyMediumBold",semanticColor:"textBase",children:e.children})}});return(0,N.jsx)($r.Y,{id:"npv-onboarding",className:Zr,options:{isCTA:!0,getTitle:()=>l._s.get("web-player.now-playing-view.onboarding.title"),getDescription:()=>u,primaryButtonText:()=>l._s.get("web-player.now-playing-view.onboarding.dismiss"),checkboxText:()=>l._s.get("web-player.now-playing-view.onboarding.do-not-show-again"),placement:"top-end",tippyWrapperClassName:ea,shouldHideOnOutsideClick:()=>!1},onPrimaryButtonClick:c,onCheckboxClick:d,children:e})}));const sa=Date.now()-6912e5,ia=()=>{const e=function(){const[e,t]=(0,s.useState)(!1),n=(0,Un.sH)(),i=(0,s.useRef)(x.s.Disabled);return(0,s.useEffect)((()=>{n!==x.s.NowPlayingView&&i.current===x.s.NowPlayingView?t(!0):t(!1),i.current=n}),[n]),e}(),t=!(0,D.O)(),[n,i]=(0,Jr.k)("npv-onboarding-dismissed",!1),[r]=(0,Jr.k)("npv-onboarding-dismissed-time",sa),[a]=(0,Jr.k)("npv-onboarding-never-show-again",!1),o=(Date.now()-r)/36e5<24,l=(0,s.useMemo)((()=>!a&&(!t&&((!n||!o)&&!!e))),[o,e,n,a,t]);(0,s.useEffect)((()=>{let e=null;return l&&(e=setTimeout((()=>{j.F.set((()=>({triggerId:"npv-onboarding",triggerAction:null}))),i(!0)}),500)),()=>{null!==e&&clearTimeout(e)}}),[i,l])}},35096:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r,_:()=>a});var s=n(96651),i=n(2488);const r=(0,s.createContext)({online:!0});const a=({children:e,initialStatus:t})=>{const[n,a]=(0,s.useState)((()=>t??globalThis.navigator.onLine));(0,s.useEffect)((()=>{const e=()=>{a(!0)},t=()=>{a(!1)};return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}),[]);const o=(0,s.useMemo)((()=>({online:n})),[n]);return(0,i.jsx)(r.Provider,{value:o,children:e})}},36712:(e,t,n)=>{"use strict";n.d(t,{Vp:()=>r,_I:()=>s,sJ:()=>a,yw:()=>i});const s=280,i=420,r="panel-width",a="--panel-width"},68607:(e,t,n)=>{"use strict";n.d(t,{w:()=>d});var s=n(49232),i=n(57200),r=n(77808),a=n(71508),o=n(37116),l=n(15040),c=n(36712);function d(){const[e,t]=(0,o.k)(c.Vp,Math.max(c._I,Math.min(Math.round(.23*innerWidth),c.yw))),n=(0,s.IP)(l.MF0,{loadingValue:!1}),{minWidth:d}=(0,i.Pi)(),u=(0,a.y)();let m=c.yw;if(n){const e=u-d-r.SO-4*r.In;m=Math.min(Math.max(0,e),m)}return{size:e,setSize:t,min:c._I,max:m}}},6640:(e,t,n)=>{"use strict";n.d(t,{O0:()=>s.O0,Sg:()=>s.Sg,au:()=>s.au,s7:()=>i.s,sH:()=>s.sH});var s=n(88236),i=n(89876)},51776:(e,t,n)=>{"use strict";n.d(t,{YV:()=>i.YV,sH:()=>i.sH,sN:()=>i.sN,wT:()=>s.w});var s=n(68607),i=n(88236)},26072:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});let s=function(e){return e.NowPlayingView="now_playing_view",e.BuddyFeed="buddy_feed",e.Puffin="puffin",e.PuffinActivation="puffin_activation",e.Queue="queue",e.DevicePicker="device_picker",e.Disabled="disabled",e}({})},89876:(e,t,n)=>{"use strict";n.d(t,{C:()=>u,s:()=>d});n(73952),n(41260),n(99400),n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256);var s=n(82708),i=n(26072),r=n(16928),a=n(77620),o=n(43619),l=n(52276),c=n(88236);let d=function(e){return e.NPV_BUTTON_CLICK="npv_button_click",e.BUDDY_FEED_BUTTON_CLICK="buddy_feed_button_click",e.PUFFIN_BUTTON_CLICK="puffin_button_click",e.PUFFIN_START_ACTIVATION="puffin_start_activation",e.PUFFIN_FINISH_ACTIVATION="puffin_finish_activation",e.QUEUE_BUTTON_CLICK="queue_button_click",e.JAM_CONNECT_BAR_CLICK="jam_connect_bar_click",e.DEVICE_PICKER_BUTTON_CLICK="device_picker_button_click",e.PANEL_CLOSE_CLICK="panel_close_click",e.PLAYBACK_AUTOPLAY="playback_autoplay",e.PLAY_CLICK="play_click",e}({});function u(e,t,n,u,m){const{isAutoToggleNPVEnabled:p,isPuffinEnabled:h,isQueueOnRightPanelEnabled:g,isDevicePickerSidePanelEnabled:f}=u;function y(t){const n=e.getState()?.context;switch(t){case i.s.BuddyFeed:return!m;case i.s.NowPlayingView:return!m&&(0,a.A)(n);case i.s.PuffinActivation:case i.s.Puffin:return!m&&h;case i.s.Queue:return g;case i.s.DevicePicker:return!m&&f;case i.s.Disabled:return!0;default:return(0,l.E)(t),!1}}function _(e){const t=e&&(0,r.sN)(e)&&("video"===e.mediaType||"mixed"===e.mediaType);return Boolean(t)}function b(e,t){const n=t.playerState?.item;return _(n)}function v(e){return e.playerState?.item?.type===o.s.AD}function x(e,t){return v(t)}function C(t){return e.getState()?.item?.type!==o.s.AD}const E=new Set(["buddy_feed"]),S=new Set([...E,"queue","history"]);function w(e,t){const n=t.playerState?.item;return!!_(n)||!function(e){return g?S.has(e.action.origin.featureIdentifier):E.has(e.action.origin.featureIdentifier)}(t)&&!(!p||!function(e){return e.action.context.uri!==e.playerState?.context.uri}(t))}function I(e){return e.type===d.PLAYBACK_AUTOPLAY&&!v(e)}const A=new Set([d.BUDDY_FEED_BUTTON_CLICK,d.PUFFIN_BUTTON_CLICK,d.DEVICE_PICKER_BUTTON_CLICK,d.PANEL_CLOSE_CLICK,d.NPV_BUTTON_CLICK,d.PLAY_CLICK,d.QUEUE_BUTTON_CLICK,d.JAM_CONNECT_BAR_CLICK]);function T(e){return I(e)||function(e){return"xstate.init"!==e.type&&A.has(e.type)}(e)}function k(e){return function(n,s){m||t.setItem(c.YJ,e),T(s)&&(n.preAdsPanelState=e)}}function N(e){return function(t,n){return!(!I(n)||e!==t.preAdsPanelState)}}const O=(0,s.U9)({id:"RightPanelState",context:{preAdsPanelState:null,devicePicker:null},initial:function(){const e=t.getItem(c.YJ);return function(e){return Object.values(i.s).includes(e)}(e)&&y(e)?e:i.s.Disabled}(),states:{[i.s.Disabled]:{entry:[k(i.s.Disabled)],on:{[d.NPV_BUTTON_CLICK]:{target:i.s.NowPlayingView},[d.PUFFIN_BUTTON_CLICK]:{target:i.s.Puffin},[d.PUFFIN_START_ACTIVATION]:{target:i.s.PuffinActivation},[d.BUDDY_FEED_BUTTON_CLICK]:{target:i.s.BuddyFeed},[d.QUEUE_BUTTON_CLICK]:{target:i.s.Queue},[d.JAM_CONNECT_BAR_CLICK]:[{target:i.s.Queue}],[d.DEVICE_PICKER_BUTTON_CLICK]:{target:i.s.DevicePicker},[d.PLAYBACK_AUTOPLAY]:[{target:i.s.NowPlayingView,cond:b},{target:i.s.NowPlayingView,cond:x}],[d.PLAY_CLICK]:[{target:i.s.NowPlayingView,cond:w}]}},[i.s.NowPlayingView]:{entry:[k(i.s.NowPlayingView)],on:{[d.NPV_BUTTON_CLICK]:{target:i.s.Disabled,cond:C},[d.PANEL_CLOSE_CLICK]:{target:i.s.Disabled,cond:C},[d.PUFFIN_BUTTON_CLICK]:{target:i.s.Puffin,cond:C},[d.BUDDY_FEED_BUTTON_CLICK]:{target:i.s.BuddyFeed,cond:C},[d.QUEUE_BUTTON_CLICK]:{target:i.s.Queue,cond:C},[d.JAM_CONNECT_BAR_CLICK]:{target:i.s.Queue,cond:C},[d.DEVICE_PICKER_BUTTON_CLICK]:{target:i.s.DevicePicker,cond:C},[d.PLAYBACK_AUTOPLAY]:[{target:i.s.BuddyFeed,cond:N(i.s.BuddyFeed)},{target:i.s.Disabled,cond:N(i.s.Disabled)},{target:i.s.DevicePicker,cond:N(i.s.DevicePicker)},{target:i.s.Disabled,cond:function(e,t){if(t.type===d.PLAYBACK_AUTOPLAY){const e=t.playerState?.context;if(!(0,a.A)(e))return!0}return!1}}]}},[i.s.BuddyFeed]:{entry:[k(i.s.BuddyFeed)],on:{[d.BUDDY_FEED_BUTTON_CLICK]:{target:i.s.Disabled},[d.PANEL_CLOSE_CLICK]:{target:i.s.Disabled},[d.PUFFIN_BUTTON_CLICK]:{target:i.s.Puffin},[d.QUEUE_BUTTON_CLICK]:{target:i.s.Queue},[d.JAM_CONNECT_BAR_CLICK]:{target:i.s.Queue},[d.NPV_BUTTON_CLICK]:{target:i.s.NowPlayingView},[d.DEVICE_PICKER_BUTTON_CLICK]:{target:i.s.DevicePicker},[d.PLAYBACK_AUTOPLAY]:[{target:i.s.NowPlayingView,cond:b},{target:i.s.NowPlayingView,cond:x}],[d.PLAY_CLICK]:[{target:i.s.NowPlayingView,cond:w}]}},[i.s.Queue]:{entry:[k(i.s.Queue)],on:{[d.QUEUE_BUTTON_CLICK]:{target:i.s.Disabled},[d.JAM_CONNECT_BAR_CLICK]:{target:i.s.Disabled},[d.BUDDY_FEED_BUTTON_CLICK]:{target:i.s.BuddyFeed},[d.PANEL_CLOSE_CLICK]:{target:i.s.Disabled},[d.PUFFIN_BUTTON_CLICK]:{target:i.s.Puffin},[d.NPV_BUTTON_CLICK]:{target:i.s.NowPlayingView},[d.DEVICE_PICKER_BUTTON_CLICK]:{target:i.s.DevicePicker},[d.PLAYBACK_AUTOPLAY]:[{target:i.s.NowPlayingView,cond:b},{target:i.s.NowPlayingView,cond:x}],[d.PLAY_CLICK]:[{target:i.s.NowPlayingView,cond:w}]}},[i.s.Puffin]:{entry:[k(i.s.Puffin)],on:{[d.PUFFIN_BUTTON_CLICK]:{target:i.s.Disabled},[d.PUFFIN_START_ACTIVATION]:{target:i.s.PuffinActivation},[d.PANEL_CLOSE_CLICK]:{target:i.s.Disabled},[d.BUDDY_FEED_BUTTON_CLICK]:{target:i.s.BuddyFeed},[d.QUEUE_BUTTON_CLICK]:{target:i.s.Queue},[d.JAM_CONNECT_BAR_CLICK]:{target:i.s.Queue},[d.NPV_BUTTON_CLICK]:{target:i.s.NowPlayingView},[d.DEVICE_PICKER_BUTTON_CLICK]:{target:i.s.DevicePicker},[d.PLAYBACK_AUTOPLAY]:[{target:i.s.NowPlayingView,cond:b},{target:i.s.NowPlayingView,cond:x}],[d.PLAY_CLICK]:{target:i.s.NowPlayingView,cond:w}}},[i.s.DevicePicker]:{entry:[k(i.s.DevicePicker),(0,s.yU)({devicePicker:(e,t)=>t.type===d.DEVICE_PICKER_BUTTON_CLICK&&t.interactionId?{interactionId:t.interactionId}:null})],exit:[(0,s.yU)({devicePicker:null})],on:{[d.DEVICE_PICKER_BUTTON_CLICK]:{target:i.s.Disabled},[d.PANEL_CLOSE_CLICK]:{target:i.s.Disabled},[d.BUDDY_FEED_BUTTON_CLICK]:{target:i.s.BuddyFeed},[d.QUEUE_BUTTON_CLICK]:{target:i.s.Queue},[d.JAM_CONNECT_BAR_CLICK]:{target:i.s.Queue},[d.NPV_BUTTON_CLICK]:{target:i.s.NowPlayingView},[d.PUFFIN_BUTTON_CLICK]:{target:i.s.Puffin},[d.PLAYBACK_AUTOPLAY]:[{target:i.s.NowPlayingView,cond:b},{target:i.s.NowPlayingView,cond:x}],[d.PLAY_CLICK]:{target:i.s.NowPlayingView,cond:w}}},[i.s.PuffinActivation]:{entry:[],on:{[d.PUFFIN_BUTTON_CLICK]:{target:i.s.Disabled},[d.PUFFIN_FINISH_ACTIVATION]:{target:i.s.Puffin},[d.PANEL_CLOSE_CLICK]:{target:i.s.Disabled},[d.PLAYBACK_AUTOPLAY]:[{target:i.s.NowPlayingView,cond:x}]}}}});for(const e of Object.values(O.config.states))e.on=Object.entries(e.on||{}).reduce(((e={},[t,n])=>{const s=Array.isArray(n)?n:[n];return e[t]=Object.values(s).map((e=>{const t="string"==typeof e?{target:e}:e,n="function"==typeof t.cond?t.cond:()=>!0;return t.cond=(e,s)=>{const i=n;return y(t.target)&&i(e,s)},t})),e}),{});return O}},73888:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var s=n(96651),i=n(96196),r=n(33996);const a=({uri:e,permissionLevel:t})=>{const n=(0,r.g)(),{onCopyLink:a}=(0,i.M)({uri:e,interactionData:{intent:"share",type:"click"}});return{onCopyLink:(0,s.useCallback)((async()=>{const s=await n.getPermissionGrant(e,t),i=new URLSearchParams;return s.token&&i.set("pt",s.token),a(i)}),[e,t,n,a])}}},53612:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var s=n(96651),i=n(49232),r=n(60328),a=n(15040);const o=(e,t)=>{const n=(0,i.IP)(a.UHG);return(0,s.useMemo)((()=>({metadataOptions:{decorateFormatListData:!0,withSync:!0,hydrateCollaboratorsWithMembers:n},contentsOptions:{offset:0,limit:25,sort:(0,r.Qn)(e),filter:t}})),[n,e,t])}},98308:(e,t,n)=>{"use strict";n.d(t,{o:()=>s.o});var s=n(73888)},89740:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ze,usePremiumRoutes:()=>nt,useSessionStorage:()=>st});var s=n(96651),i=n(82504),r=n(51704),a=n(12100),o=n(40636),l=(n(41260),n(8004)),c=n(36773),d=n(21824),u=n(87523);const m="f5vy3em7itFZHcN1c5th",p="OR_t_SZVUS3Y_45yOmwn",h="vuCT4MFMmKdF5nxhZc7T",g="AHUVWX0zIaijh6s_qErs",f="N7M8xoW29qf92UJIW43C";var y=n(2488);const _=({data:e})=>{const{spec:t}=(0,o.gp)(r.E,{data:{identifier:"benefitsEducation",reason:`${e.campaignId}:${e.userEligibility}`}}),n=(0,s.useMemo)((()=>t.educationListContainerFactory()),[t]),i=(0,o.K2)(n);return(0,y.jsx)("div",{className:m,ref:i,"":"benefit-education-list",children:(0,y.jsxs)("div",{className:p,children:[(0,y.jsx)(l.a,{as:"h2",size:24,variant:"titleSmall",color:"var(--spice-text)",semanticColor:"textBase",children:e.header}),(0,y.jsx)("div",{className:h,children:(0,y.jsx)(c.S,{as:"ul",listStyleReset:!1,className:g,"aria-label":"premium-benefits",children:e.benefits.map(((e,t)=>(0,y.jsxs)("div",{className:f,children:[(0,y.jsx)(d.k,{}),(0,y.jsx)(u.e,{"":"premium-benefit-item",className:f,color:"var(--spice-text)",condensed:!0,style:{marginLeft:"4px"},children:e},t)]},t)))})})]})})};n(73952),n(97768);var b=n(10124),v=n.n(b),x=n(73488),C=n(35044);const E="POL2MEn4kYvvhOfLsg0r",S="tGegSRxI7iLscjOezFfw",w="cVkF9UmUxF_89Q1pcUFS",I="RUQ0KeNlKc47sIZUr2ED",A="dLo0jrUD6hWn4kzbBOFm",T="oNgy3yKSOHI7KTpQJ1xJ",k="vTyWYlhrqCiKKKiGcTo8",N="WNzIvGMAnUhnZVlXsJJW",O="FGbrgB0DUj2wsUM9ACxp",P="ShjUoZcnXBRAwzptB42a",j="NRAlsO_QA8qpg_K2hswA",L="eCiEDXVKutfSeGT8XqGT",R="ZH4_Li3IiGysnYCQtQdW",D="wUrmLCaGCvSO51jcjHhe",M="u7oKAIw5c11Ss7QxopQx",U="PREMIUM_TIER",F=({tiers:e,benefitLabel:t})=>(0,y.jsx)("thead",{className:k,children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:v()(P,j),children:t}),e.map(((e,t)=>(0,y.jsx)("th",{className:P,children:(0,y.jsx)("div",{className:v()(I,e.id===U?T:A),dangerouslySetInnerHTML:{__html:e.name}})},t)))]})}),B=({benefit:e,index:t,tierBenefit:n})=>{const[i,r]=(0,s.useState)(!1);return(0,y.jsxs)("tr",{className:N,style:{"--animationDelay":100*t+"ms"},onMouseOver:()=>r(!0),onMouseLeave:()=>r(!1),onFocus:()=>r(!0),onBlur:()=>r(!1),children:[(0,y.jsxs)("td",{className:v()(L),children:[(0,y.jsx)("span",{children:e.name}),(0,y.jsx)("div",{className:v()(M,{[S]:i}),children:i&&(0,y.jsx)(x.o,{colorSet:"invertedLight",dangerouslySetInnerHTML:{__html:e?.explanation}})})]}),n.map((e=>(0,y.jsx)("td",{className:R,children:(0,y.jsx)("div",{className:v()(D,{[O]:e.id===U}),children:e.isBenefitPresent?(0,y.jsx)(C.W,{className:w,size:"large"}):"-"})},e.id)))]})},G=({tableData:e,spec:t})=>{const{ref:n,inView:r}=(0,i.cD)({triggerOnce:!0}),a=(0,s.useCallback)((t=>e.comparison.find((e=>e.benefitId===t))),[e.comparison]),l=(0,s.useMemo)((()=>t?.comparisonTableFactory()),[t]),c=(0,o.K2)(l);return(0,y.jsx)("div",{className:v()(E,{[S]:r}),ref:n,"":"comparison-table",children:(0,y.jsxs)("table",{ref:c,children:[(0,y.jsx)(F,{tiers:e.tier,benefitLabel:e.benefitLabelText}),(0,y.jsx)("tbody",{children:e.benefit.map(((e,t)=>{const n=a(e.benefitId);return n?(0,y.jsx)(B,{index:t,benefit:e,tierBenefit:n.tierBenefit},e.name):null}))})]})})};var V=n(8340),H=n(49612),W=n(94384),z=n(27892),Y=n(404);const K=(e,t)=>{const n=new URL(e);return n.searchParams.set("ref",t),n.toString()},q=e=>K(e,"desktop_app_native_pdp"),Q="akdMqUKXxdAp0FCJzDCT",X="mLrfUuFeF2k3BIxJimkY",$="RpNlq57TSskxD3Ra6Yfg",J="AzZBnbf197O9XdTTmoi3",Z="_vt32jjXyqbFifhAeVbS",ee="YQQwMcVNQIqsmNu0DgMW",te="dpOre1_sqBw8b5hkncRz",ne="e9N7EGzB6fHRDyLK5zyP",se="ZdjlISWA7IbMSmfth0KY",ie=({data:e,refToStorefront:t,locale:n})=>{const i=q(e.cta[0].link),{spec:a,logger:c}=(0,o.gp)(r.E,{data:{identifier:"hero",reason:`${e.campaignId}:${e.offerTypeId}`}}),d=(0,s.useMemo)((()=>a.heroContainerFactory({identifier:"hero",reason:`${e.campaignId}:${e.userEligibility}`})),[a,e.campaignId,e.userEligibility]),u=(0,o.K2)(d),{openURLWithSessionTransfer:m}=(0,z.W)(),p=(0,s.useCallback)((t=>{m(i,"_blank"),t.preventDefault(),c.logInteraction(d.heroCheckoutButtonFactory({reason:`${e.campaignId}:${e.offerTypeId}`}).hitNavigateToExternalUri({destination:i}))}),[d,c,m,e.campaignId,e.offerTypeId,i]),h=(0,s.useCallback)((e=>{setTimeout((()=>{t.current&&t?.current.scrollIntoView({behavior:"smooth",block:"start"})}),500),e.preventDefault(),c.logInteraction(d.heroViewPlansButtonFactory().hitQuickScroll())}),[d,c,t]),g=e.showCountdownTimer?((e,t,n)=>{const s=new Date;s.setHours(0,0,0,0);const i=new Date(e);i.setHours(0,0,0,0);const r=i.getTime()-s.getTime(),a=Math.round(r/864e5);return 0===a?t.offerEndsToday:1===a?t.offerEndsTomorrow:new Y.cp(t.offerEndsInXDays,n).format({0:a})})(e.offerEndDate,e.countdownTimer,n):"",f={margin:e.showCountdownTimer?"16px 0 24px":"24px 0"};return(0,y.jsxs)("div",{className:Q,ref:u,children:[(0,y.jsx)("div",{className:X,"":"premium-hero-badge",children:(0,y.jsx)(l.a,{as:"p",color:"var(--spice-text)",semanticColor:"textBase",dangerouslySetInnerHTML:{__html:e.currentPlanText}})}),(0,y.jsx)("div",{className:$,children:(0,y.jsxs)("div",{className:J,"":"premium-hero",children:[(0,y.jsx)(l.a,{as:"h1",variant:"titleMedium",color:"var(--spice-text)",semanticColor:"textBase",style:{paddingBottom:"8px"},children:(0,y.jsx)("span",{dangerouslySetInnerHTML:{__html:e.header}})}),(0,y.jsx)(l.a,{as:"p",variant:"marginal",color:"var(--spice-text)",semanticColor:"textBase",style:{fontSize:"18px"},children:e.subheader&&e.subheader.map(((e,t)=>(0,y.jsx)("span",{dangerouslySetInnerHTML:{__html:`${e}&nbsp;`}},t)))}),e.showCountdownTimer&&g&&(0,y.jsx)("div",{className:ne,children:(0,y.jsxs)("div",{className:se,children:[(0,y.jsx)(W.a,{size:"small",semanticColor:"textAnnouncement"}),(0,y.jsx)(l.a,{as:"p",variant:"bodySmall",color:"var(--spice-text)",semanticColor:"textBase",children:g})]})}),(0,y.jsxs)("div",{className:ee,style:f,children:[(0,y.jsx)(V.g,{colorSet:"invertedLight",className:te,onClick:p,"aria-label":e.cta[0].accessibilityText,children:e.cta[0].text}),(0,y.jsx)(H.w,{style:{borderColor:"white"},className:te,onClick:h,"aria-label":e.cta[1].accessibilityText,children:e.cta[1].text})]}),(0,y.jsx)(l.a,{as:"p",variant:"marginal",color:"var(--spice-text)",semanticColor:"textBase",children:(0,y.jsx)("span",{className:Z,"":"hero-terms-link",dangerouslySetInnerHTML:{__html:e?.legalDisclaimer}})})]})})]})},re="rIr7OeKkui9SUxj6bVW3",ae="Bt928dYonYz5W2vgEIIl",oe="iAKDMVP59vaf3hITxb6_",le="uZNZ0UbPWUiDzVew6ZZH",ce="APxQRf3FKrjzAE9dR3Si",de="CPu99Lyu7u3opG537cQ0",ue=({data:e})=>{const t=e?[...e]:[];let n,s=[],i=[];const r={additionalPaymentMethods:"+ %REMAINING% more"};t.length>5?(s=t.slice(0,4),i=t.slice(s.length,t.length),n=r?.additionalPaymentMethods.replace("%REMAINING%",i.length.toString())):s=t||[];const a={"grid-template-columns":`repeat(${i.length<4?i.length:4}, 1fr)`};return(0,y.jsxs)("div",{className:re,children:[(0,y.jsx)("ul",{className:ae,children:s.map((({url:e,label:t},n)=>(0,y.jsx)("li",{className:oe,children:(0,y.jsx)("img",{className:le,src:e,"aria-label":t})},`icon-${n}`)))}),i.length>0&&(0,y.jsx)("div",{className:ce,children:(0,y.jsxs)("div",{children:[(0,y.jsx)("span",{children:n}),(0,y.jsx)("ul",{className:de,style:a,children:i.map((({url:e,label:t},n)=>(0,y.jsx)("li",{className:oe,children:(0,y.jsx)("img",{className:le,src:e,"aria-label":t})},`icon-${n}`)))})]})})]})},me="kvWzzEutUy3QUwNkLAWw",pe="vubSV9N3n3DEITzpjM5o",he=({testid:e,data:t})=>(0,y.jsx)("div",{className:me,"":e,children:(0,y.jsxs)("div",{className:pe,children:[(0,y.jsx)(l.a,{as:"h1",variant:"titleMedium",color:"var(--spice-text)",semanticColor:"textBase",children:t.headline}),(0,y.jsx)(l.a,{as:"p",variant:"marginal",color:"var(--spice-text)",size:18,semanticColor:"textBase",style:{fontSize:"18px"},children:t.text})]})});n(39568);var ge=n(32976),fe=n(6356);const ye="IZbYUcZE0Mk_DK4fD3lB",_e="y3ViSrLgazMO2TJM_RRP",be="iwnDAWn4XCD3paXyyG3w",ve="lEWa4uiYRfyznoBF7fw4",xe="WwjSjhuSCfCNDBzR8ThQ",Ce="thJLqvkbCD4zGMAFZfv5",Ee="ilZ6KPPc158pStt57eRw",Se="cZiltr0t3M3NuH87VTBb",we="sF9VpdCb5DPX5wa_NkG8",Ie="O3TPI7qQQWvSvj__anxQ",Ae="ygV3ht3A2_OY7RFbsJof",Te="o5J9jdR1W3KSHeLWkWdu",ke="CeQ2AnwGQeUIsFqZNhdn",Ne={premium:ge.wHU,premiumDuo:ge.uRH,premiumFamily:ge.WAl,premiumMini:ge.URj,premiumStudent:ge.oVP},Oe=({text:e})=>(0,y.jsx)("div",{className:ve,children:e}),Pe=({benefits:e})=>(0,y.jsx)("ul",{className:Ae,children:e.map((e=>(0,y.jsx)("li",{children:e},e)))}),je=({planName:e,priceText:t,duration:n})=>(0,y.jsxs)("div",{className:Ce,children:[(0,y.jsx)(l.a,{as:"h3",variant:"titleSmall",className:Ee,children:e}),(0,y.jsxs)("div",{className:Se,children:[(0,y.jsx)(l.a,{as:"div",variant:"bodyMediumBold",className:we,children:t}),(0,y.jsx)("div",{className:Ie,children:n})]})]}),Le=({children:e,data:t,cardIndex:n,spec:i,noPills:r})=>{const a=(0,o.Mk)(),l=(c=t.encoreColorSetName,Ne[c]||Ne.premium);var c;const d=q(t.checkoutUrl),{openURLWithSessionTransfer:u}=(0,z.W)(),m=i?.planCardFactory({identifier:t.planId,reason:`${t.offerTypeId}`,position:n}),p=(0,o.K2)(m),h=(0,s.useCallback)((()=>{m&&a.logInteraction(m.planCardButtonFactory({position:0}).hitNavigateToExternalUri({destination:d})),u(d)}),[u,a,d,m]);return(0,y.jsxs)("div",{"":"plan-card",ref:p,style:{"--theme-color":l},className:be,children:[t.description&&(0,y.jsx)(Oe,{text:t.description}),!t.description&&!r&&(0,y.jsx)("span",{className:xe}),(0,y.jsx)(je,{planName:t.planName,priceText:t.priceText,duration:t.durationText}),(0,y.jsx)(Pe,{benefits:t.benefit}),(0,y.jsx)(V.g,{onClick:h,fullWidth:!0,UNSAFE_colorSet:(0,fe.En)(l),className:Te,"aria-label":t.checkoutAccessibilityText,children:t.checkoutUrlText}),e]})},Re=(0,s.forwardRef)((({text:e},t)=>(0,y.jsx)("div",{ref:t,className:ke,dangerouslySetInnerHTML:{__html:e}}))),De=(0,s.forwardRef)((({data:e,spec:t},n)=>{const i=(0,s.useMemo)((()=>t?.storefrontContainerFactory({identifier:"Storefront"})),[t]),r=(0,o.K2)(i),a=(0,s.useRef)([]),l=e=>t=>{a.current[e]=t};(0,s.useEffect)((()=>{(()=>{let e=0;a.current.forEach((t=>{t&&t.offsetHeight>e&&(e=t.offsetHeight)})),a.current.forEach((t=>{t&&(t.style.height=`${e}px`)}))})()}),[e?.planCard]);let c=!0;return e?.planCard.forEach((e=>{e.description&&(c=!1)})),(0,y.jsx)("div",{ref:r,className:ye,"":"storefront",children:(0,y.jsx)("div",{className:_e,ref:n,children:e?.planCard?.map(((e,t)=>(0,y.jsx)(Le,{data:e,cardIndex:t,spec:i,noPills:c,children:(0,y.jsx)(Re,{ref:l(t),text:e.legalDisclaimer})},e.planId)))})})}));var Me=n(92376),Ue=n(4564),Fe=n(68964);var Be=n(40468),Ge=n(84264);const Ve=`${n(76404).Yl}/premium-marketing`,He=(e,t,n)=>{const{data:s,isLoading:i,isError:r}=(0,Be.U)({queryKey:["premium-page"],queryFn:async()=>{const s=await(async(e,t,n)=>{const s=Ge.W.getInstance(),i=await s.build().withHost(Ve).withMethod("GET").withoutMarket().withPath("/marketingPage").withQueryParameters(((e,t,n)=>""!==t&&""!==n?{locale:e,userEligibility:t,dateTimeOverride:n}:""!==t?{locale:e,userEligibility:t}:""!==n?{locale:e,dateTimeOverride:n}:{locale:e})(e,t,n)).withJsonContentType().withEndpointIdentifier("/marketingPage").send();return i.body})(e,t,n);return s.marketingPage},gcTime:18e5,staleTime:6e5});return{data:s??null,loading:i,error:r}},We="sLpDWrR7vJhfTSMmieRI",ze=()=>{const e=function(){const e=(0,Ue.w1)(Fe.cx);return e?.locale??""??a.u2.en}(),t=sessionStorage.getItem("eligibility")||"",n=sessionStorage.getItem("datetime")||"",l=decodeURIComponent(n),{loading:c,data:d}=He(e,t,l),u=(0,s.useRef)(null);let m="premium_page:native_pdp";m="premium_page:desktop_app_native_pdp";const{spec:p,logger:h}=(0,o.gp)(r.E,{data:{identifier:m,reason:`${d?.campaignId}:${d?.userEligibility}`}}),{ref:g,inView:f}=(0,i.cD)({fallbackInView:!0,triggerOnce:!0});return(0,s.useEffect)((()=>{f&&h.logImpression(p.impression())}),[f,h,p]),!c&&d?(0,y.jsxs)("div",{ref:g,className:We,"":"premium-page",children:[(0,y.jsx)(ie,{data:{campaignId:d.campaignId,userEligibility:d.userEligibility,...d.hero},refToStorefront:u,locale:e}),(0,y.jsx)(he,{testid:"benefit-education-header",data:{headline:d.benefitEducation.header,text:d.benefitEducation.subheader}}),d.storefront.paymentIcon&&(0,y.jsx)(ue,{data:d.storefront.paymentIcon}),(0,y.jsx)(_,{data:{header:d.benefitEducation.benefitListHeader,benefits:d.benefitEducation.benefit,userEligibility:d.userEligibility,campaignId:d.campaignId}}),(0,y.jsx)("div",{ref:u,children:(0,y.jsx)(De,{data:d.storefront,spec:p})}),(0,y.jsx)(he,{testid:"comparison-table-header",data:{headline:d.comparisonTable.header,text:d.comparisonTable.subheader}}),(0,y.jsx)(G,{tableData:d.comparisonTable,spec:p})]}):(0,y.jsx)(Me.K,{hasError:!1,errorMessage:a._s.get("error.not_found.title.page")})};var Ye=n(33220),Ke=n(31024),qe=n(8802),Qe=n(46736),Xe=n(30348),$e=n(43619),Je=n(54584),Ze=n(88004),et=n(32848),tt=n(60156);const nt=()=>{const e=a._s.getLocaleForURLPath(),t=(0,Ue.w1)(et.Y3),n=(0,Ue.w1)(et.Oq),s=(0,Ze.QZ)({localeFeatureFlag:t,entityFeatureFlag:n,urlLocale:e,entity:$e.s.PREMIUM,type:"link"})?(0,Je.oP)("/premium"):"/premium";return(0,tt.I)()?(0,y.jsx)(Ye.kX,{path:s,element:(0,y.jsx)(qe.I,{navigationalRoot:Xe.Y.EXPLORE_PREMIUM,pageId:Ke.eA.PREMIUM,entityUri:"spotify:app:premium",children:(0,y.jsx)(ze,{})})}):(0,y.jsx)(Ye.kX,{path:(0,Je.oP)("/"),element:(0,y.jsx)(Qe.InstrumentedRedirect,{to:"/"})})};function st(e){const[t,n]=(0,s.useState)("");return(0,s.useEffect)((()=>{sessionStorage.setItem(e,t)}),[e,t]),{value:t,setValue:n,clearStoredKeyValue:()=>{sessionStorage.removeItem(e)},clearSessionStorage:()=>{sessionStorage.clear()}}}},60156:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});var s=n(49232),i=n(15040);const r=()=>(0,s.IP)(i.ghs)},40748:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});let s=function(e){return e[e.NowPlaying=0]="NowPlaying",e[e.NextInQueue=1]="NextInQueue",e[e.NextUp=2]="NextUp",e}({})},23756:(e,t,n)=>{"use strict";n.d(t,{G:()=>a,Y:()=>r});n(73952),n(97296);var s=n(23760),i=n(95928);function r(e){return"autoplay"===e?.provider}function a(){const{uri:e,description:t}=(0,i.c)(),{current:n,nextUp:a,queued:o}=(0,s.i)(),l=a.filter((e=>r(e)?e:"autoplay"!==e.provider)),c=!!o?.length,d=!!l?.length;return{uri:e,description:t,current:n,nextUp:l,queued:o,isEmpty:!1===(n||c||d),hasQueuedTracks:c,hasNextTracks:d}}},50024:(e,t,n)=>{"use strict";n.d(t,{S:()=>i,k:()=>r});var s=n(37116);let i=function(e){return e.QUEUE="queue",e.HISTORY="history",e.PARTICIPANT_LIST="participant_list",e}({});const r=()=>{const[e,t]=(0,s.k)("queue-view",i.QUEUE);return{currentQueueView:e,setQueueView:t}}},22676:(e,t,n)=>{"use strict";n.d(t,{S:()=>s.S,k:()=>s.k});var s=n(50024)},31800:(e,t,n)=>{"use strict";n.d(t,{G:()=>m});var s=n(96651),i=n(33220),r=n(49232),a=n(6640),o=n(26072),l=n(15040),c=n(50024),d=n(75380);const u=a.s7.QUEUE_BUTTON_CLICK,m=()=>{const e=(0,r.IP)(l.imM),t=(0,i.i6)(),{isActive:n,panelSend:m}=(0,a.au)(o.s.Queue),{setQueueView:p}=(0,c.k)(),h=(0,s.useCallback)(((s=c.S.QUEUE)=>{e?n||(m(a.s7.QUEUE_BUTTON_CLICK),p(s)):t("/queue")}),[e,n,t,m,p]);return{toggleQueue:(0,s.useCallback)((()=>{e?(m(u),(0,d._)("QUEUE-HISTORY-PANEL")):h()}),[e,h,m]),openQueue:h}}},9999:(e,t,n)=>{"use strict";n.d(t,{E9:()=>i,yF:()=>r});var s=n(40188);const i={fullscreen:!1,cinema:!1,npv:!1,transcriptAvailable:!1},r=(e={uiFlags:i,mode:s.G8.none},t)=>{const{key:n,value:r}=t,a={...e.uiFlags,[n]:r};return{...e,mode:(o=a,o.fullscreen?s.G8.fullscreen:o.cinema?s.G8.cinema:s.G8.npv),uiFlags:a};var o}},66748:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RECENTLY_PLAYED_VIEW_ID:()=>k,RecentlyPlayed:()=>O,default:()=>P});n(41260);var s=n(10124),i=n.n(s),r=n(8004),a=n(49232),o=n(12100),l=n(3088),c=n(43168),d=n(25800),u=n(73108),m=n(48028),p=n(28972),h=n(90496),g=n(67324),f=n(32200),y=n(15040),_=n(2284),b=n(81604),v=n(252),x=n(96651),C=n(28020),E=n(3420);var S=n(52276);const w="uFQUpbITgGovaKRr6I_g",I="tN2Nze_nZSCw6gyzZcNA",A="AKksNlfz_QuQjE1FPwYG";var T=n(2488);const k="recently-played",N=(e,t)=>{const n=e.uri;switch(e.type){case C.eu.LIKED_SONGS:return(0,T.jsx)(g.w,{index:t},n);case C.eu.YOUR_EPISODES:return(0,T.jsx)(f.C,{index:t},n);case C.eu.ALBUM:return(0,T.jsx)(l.Q,{index:t,name:e.name,uri:e.uri,images:e.images,artists:e.artists,sharingInfo:null},n);case C.eu.ARTIST:return(0,T.jsx)(c.M,{index:t,name:e.name,uri:e.uri,images:e.images},n);case C.eu.PLAYLIST:return(0,T.jsx)(u.I,{index:t,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:e.owner.displayName,isPlayable:!(0,v.Y)(e.attributes)},n);case C.eu.SHOW:return(0,T.jsx)(m.E,{index:t,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null},n);case C.eu.AUDIOBOOK:return(0,T.jsx)(d.M,{index:t,name:e.name,uri:e.uri,images:e.images,authorName:e.authors?.[0]??"",signifierText:e.signifierText},n);case C.eu.TRACK:return(0,T.jsx)(p.y,{index:t,name:e.name,uri:e.uri,images:e.images,is19PlusOnly:e.isMOGEFRestricted,artists:e.artists,album:null,isExplicit:e.isExplicit,sharingInfo:null},n);default:return(0,S.I)(e),null}},O=({title:e,showAll:t=!1,index:n=0})=>{const s=e??o._s.get("view.recently-played"),l=function(e=!0){const t=(0,E.e)(),[n,s]=(0,x.useState)((()=>t.getContexts()));return(0,x.useEffect)((()=>{if(!e)return;const n=({data:e})=>s(e),i=t.getEvents();return i.addListener(C.iI.UPDATE,n),()=>{i.removeListener(C.iI.UPDATE,n)}}),[t,e]),n}(!0),c=(0,a.IP)(y.ct1);return null===l?null:t?(0,T.jsxs)("section",{className:i()("contentSpacing",w,{[I]:c}),children:[(0,T.jsx)(r.a,{as:"h1",variant:"titleSmall",className:A,semanticColor:"textBase",children:s}),(0,T.jsx)(b.oL,{value:"EntitiesGrid",children:(0,T.jsx)(_.C,{render:()=>l.map(((e,t)=>(0,T.jsx)(b.oL,{value:"card",index:t,children:N(e,t)},e?.uri)))})})]}):(0,T.jsx)(h.c,{id:"recently-played",index:n,total:l.length,seeAllUri:`/genre/${k}`,pageId:"home",title:s,children:l.map(((e,t)=>N(e,t)))})},P=O},16704:(e,t,n)=>{"use strict";n.d(t,{_:()=>s._8,i:()=>s.iS});var s=n(28544)},1464:(e,t,n)=>{"use strict";n.d(t,{cd:()=>r,iQ:()=>i,sn:()=>a});var s=n(12100);const i=["artists","albums","episodes","genres","playlists","podcasts","audiobooks","tracks","users","topResults","podcastAndEpisodes"],r={artists:()=>s._s.get("search.title.artists"),albums:()=>s._s.get("search.title.albums"),playlists:()=>s._s.get("search.title.playlists"),podcasts:()=>s._s.get("search.title.shows"),episodes:()=>s._s.get("search.title.episodes"),audiobooks:()=>s._s.get("search.title.audiobooks"),users:()=>s._s.get("search.title.profiles"),genres:()=>s._s.get("search.title.genres-and-moods"),tracks:()=>s._s.get("search.title.tracks"),podcastAndEpisodes:()=>s._s.get("search.title.podcast-and-shows"),topResults:()=>s._s.get("search.row.top-results")},a=["artists","albums","playlists","podcasts","episodes","audiobooks","users","genres"]},34872:(e,t,n)=>{"use strict";n.d(t,{C:()=>r,y:()=>a});n(73952),n(97296);var s=n(96651),i=n(37116);const r="fusionSearchHistory",a=()=>{const[e,t]=(0,i.k)(r,[]),n=(0,s.useCallback)((e=>{t(function(e){const t={},n=[];for(let s=0;s<e.length;s++)e[s].uri in t||(n.push(e[s]),t[e[s].uri]=!0);return n.splice(50),n}(e))}),[t]);return{searchHistory:e,setSearchHistory:n,clearSearchHistory:n=>{let s=[];n&&(s=e.filter((e=>e.uri!==n))),t(s)}}}},2568:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});n(73952),n(97768);var s=n(96651),i=n(33220),r=n(1464);const a=e=>r.iQ.find((t=>t===e));function o(){const e=(0,i.i6)(),t=(0,i.SC)("/search/:query"),n=(0,i.SC)("/search/:query/:category"),r=(0,s.useCallback)((function(t,n,s,i){const r=i?{interactionId:i,preventMoveFocus:!0}:{preventMoveFocus:!0},a=["/search"];t&&(a.push(encodeURIComponent(t)),n&&a.push(n));const o=a.join("/");e(o,s?{state:r}:{state:r,replace:!0})}),[e]);return[{query:function(e){try{return decodeURIComponent(e)}catch{return e}}(t?.params.query??n?.params?.query??""),category:a(n?.params.category)},r]}},55148:(e,t,n)=>{"use strict";n.d(t,{W:()=>l});var s=n(8004),i=n(12100),r=n(23568),a=n(15040),o=n(2488);const l=()=>(0,o.jsx)(r.Q,{property:a.KY,renderNewExperience:()=>(0,o.jsxs)(o.Fragment,{children:[" • ",(0,o.jsx)(s.a,{variant:"bodySmall",semanticColor:"textBase",dir:"auto",as:"span",children:i._s.get("search.lyrics-match")})]})})},15580:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var s=n(49232),i=n(15040);const r=()=>(0,s.IP)(i.qaN)===i.eWF.VARIANT},3912:(e,t,n)=>{"use strict";n.d(t,{OG:()=>i,Y1:()=>s,kr:()=>r,qo:()=>a});let s=function(e){return e[e.QUIET=0]="QUIET",e[e.NORMAL=1]="NORMAL",e[e.LOUD=2]="LOUD",e}({}),i=function(e){return e.MINIMIZED="minimized",e.NORMAL="normal",e.OFF="off",e}({}),r=function(e){return e[e.AUTOMATIC=0]="AUTOMATIC",e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.HIGH=3]="HIGH",e[e.VERY_HIGH=4]="VERY_HIGH",e[e.HIFI=5]="HIFI",e}({}),a=function(e){return e[e.STANDARD=0]="STANDARD",e[e.VERY_HIGH=1]="VERY_HIGH",e[e.LOSSLESS=2]="LOSSLESS",e}({})},27852:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var s=n(70684);class i extends s.u{}},90780:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var s=n(64728);function i(){return(0,s.UL)()}},86476:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var s=n(96651),i=n(12924),r=n(40468),a=n(24759),o=n(27852);function l(e){const t=(0,s.useMemo)((()=>["useSettingsValue",e.key]),[e.key]),n=(0,i.q$)(),l=(0,r.U)({queryKey:t,queryFn:async()=>await e.getValue(),gcTime:36e5,staleTime:6e5,retry:(e,t)=>!(t instanceof o.i)&&e<3}),c=(0,a.c)({mutationFn:async t=>{await e.setValue(t)},onMutate:async e=>{await n.cancelQueries({queryKey:t});const s=n.getQueryData(t);return n.setQueryData(t,e),{prevState:s,newState:e}},onError:(s,i,r)=>{s instanceof o.i||console.error(`Error setting ${e.key}`,s),n.setQueryData(t,r?.prevState)}});return(0,s.useEffect)((()=>e.subValue((e=>{n.setQueryData(t,e)}))),[n,t,e]),[l,c]}},26768:(e,t,n)=>{"use strict";n.d(t,{GK:()=>a,Su:()=>r,eU:()=>i});var s=n(3912);function i(e){if(void 0===e)return null;const t=Number(e);return t>=s.kr.AUTOMATIC&&t<=s.kr.HIFI?t:null}function r(e){if(void 0===e)return null;const t=parseInt(e,10);return t>=s.qo.STANDARD&&t<=s.qo.LOSSLESS?t:null}function a(e){if(void 0===e)return null;const t=Number(e);return t>=s.Y1.QUIET&&t<=s.Y1.LOUD?t:null}},75160:(e,t,n)=>{"use strict";n.d(t,{G:()=>i,M:()=>r});var s=n(37116);const i=()=>(0,s.k)("toggleNowPlayingView",!0),r=()=>{const[e]=i();return e}},2788:(e,t,n)=>{"use strict";n.d(t,{_:()=>f});n(73952),n(97296),n(41260);var s=n(96651),i=n(56036),r=n(36836),a=n(11988),o=n(56508),l=n(23208);function c(){return new r.ae((0,o.Y)())}const d=[{enumKey:"quiet",enumValue:0},{enumKey:"normal",enumValue:1},{enumKey:"loud",enumValue:2}],u=[{enumKey:"minimized",enumValue:"minimized"},{enumKey:"normal",enumValue:"normal"},{enumKey:"off",enumValue:"off"}];let m=function(e){return e[e.Automatic=0]="Automatic",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High",e[e.VeryHigh=4]="VeryHigh",e[e.Hifi=5]="Hifi",e[e.Unknown=6]="Unknown",e}({});const p=e=>{switch(e){case 0:return m.Automatic;case 1:return m.Low;case 2:return m.Medium;case 3:return m.High;case 4:return m.VeryHigh;case 5:return m.Hifi;default:return m.Unknown}},h=["filter-explicit-content","publish-playlist","publish-activity","public-toplist","autoplay","dsa-mode-enabled","dsa-mode-available"],g=["incognito-enabled"],f=()=>{const e=(0,s.useRef)((0,i.K6)((0,o.Y)())),{isPrivateSession:t,setPrivateSession:n}=(0,a.G)(),[m,f]=(0,s.useState)({formats:[],values:{"incognito-enabled":t},autoStart:u,loudness:d}),y=e=>"string"==typeof e?{string:e}:"boolean"==typeof e?{bool:e}:{number:BigInt(e)},_=e=>Object.fromEntries(Object.entries(e.entries).map((([e,{string:t,bool:n,number:s}])=>[e,t??n??Number(s)]))),b=(0,s.useCallback)((async(t,s)=>{h.includes(t)?await c().putValues(r.Q$.fromPartial({pairs:{[t]:s}})):g.includes(t)?n(Boolean(s)):await e.current.set({entries:{[t]:y(s)}})}),[n]);return(0,s.useEffect)((()=>{f((e=>({...e,values:{...e.values,"incognito-enabled":t}})))}),[t]),(0,s.useEffect)((()=>{new l.eC((0,o.Y)()).getFormats({}).then((e=>{const t=[{enumKey:"automatic",enumValue:0,supported:!0},...e.formats.filter((e=>e.supported))].map((e=>({supported:e.supported,quality:p(e.enumValue)})));f((e=>({...e,formats:t})))}));const t=c().subValues(r.Mx.fromPartial({}),(e=>{f((t=>({...t,values:{...t.values,...e.pairs}})))})),n=e.current.subAll({},(e=>{f((t=>({...t,values:{...t.values,..._(e)}})))}));return()=>{n.cancel(),t.cancel()}}),[]),{settings:m,setValue:b}}},30808:(e,t,n)=>{"use strict";n.d(t,{y:()=>l,a:()=>c});var s=n(96651),i=n(66472),r=n(25283),a=n(57904),o=n(58916);const l={playlistActionBar:"playlist-action-bar"},c=(e,t,n,c)=>{const{seen:d,setSeen:u}=(0,a.o)(),[m,p]=(0,s.useState)(!d),[h,g]=(0,s.useState)(!1),{toggleActivationVisible:f}=(0,i.S)(),y=(0,o.O)(o.E.SmartShuffle),_=m&&!!e?.includes(r.u.SMART_SHUFFLE)&&!f&&n;return(0,s.useLayoutEffect)((()=>{_&&u(!0),y&&t===l.playlistActionBar&&c===r.u.OFF&&g(!0)}),[_,u,y,t,g,c]),[_,p,h,g]}},36480:(e,t,n)=>{"use strict";n.d(t,{Yn:()=>a});var s=n(49232),i=n(24544);let r=function(e){return e[e.DISABLED=0]="DISABLED",e[e.ENABLED=1]="ENABLED",e}({});const a=(e=!1)=>((e=!1)=>(0,s.IP)(i.Fq,e?void 0:{loadingValue:!1})?r.ENABLED:r.DISABLED)(e)===r.ENABLED},92460:(e,t,n)=>{"use strict";n.d(t,{U:()=>_});var s=n(96651),i=n(12100),r=n(6912),a=n(94192),o=n(95928),l=n(40104),c=n(84496),d=n(65164),u=n(52316),m=n(56112),p=n(66556),h=n(18508),g=n(2488);var f=n(13932),y=n(92292);const _=({uri:e,uid:t=e,contextUri:n,onAddRecommendation:_,onRemoveRecommendation:b,onUndo:v})=>{const x=(0,s.useContext)(l.Iv),C=(0,r.Q)(),{enqueueSnackbar:E,closeSnackbar:S}=(0,y.u)(),w=(0,s.useRef)(),[I,A]=(0,s.useState)(!1),T=(0,s.useRef)(),k=!(0,f.O)(),{isActive:N}=(0,a.Cu)(e),{description:O}=(0,o.c)(),P=function(e){const{enqueueCustomSnackbar:t}=(0,h.I)();return(0,s.useCallback)((()=>t((0,g.jsx)(c.Y,{children:(0,g.jsx)(m.g,{center:(0,g.jsx)(u.q,{children:i._s.get("web-player.smart-shuffle.removed-from-recommendations-feedback")}),trailing:(0,g.jsx)(d.W,{ctaText:i._s.get("web-player.smart-shuffle.removed-from-recommendations-feedback-undo"),onCtaClick:e})})}),{autoHideDuration:p.Y,preventDuplicate:!1,identifier:i._s.get("web-player.smart-shuffle.removed-from-recommendations-feedback")})),[t,e])}((0,s.useCallback)((()=>{clearTimeout(w.current),E(i._s.get("web-player.smart-shuffle.removed-from-recommendations-feedback-undone")),A(!1),v?.()}),[E,v])),j=(0,s.useCallback)((async()=>{I||(N&&C.skipToNext(),k?E(i._s.get("web-player.smart-shuffle.offline-remove-recommendation-feedback")):(A(!0),T.current=P(),w.current=setTimeout((async()=>{try{await x.sendItemSignal(n,t,"minus")}catch(e){S(T.current),E(i._s.get("error-dialog.generic.header"))}A(!1)}),3e3),b?.()))}),[S,n,P,E,N,k,b,C,x,t,I]);return{addRecommendation:(0,s.useCallback)((async()=>{if(I)return;if(k)return void E(i._s.get("web-player.smart-shuffle.offline-add-recommendation-feedback"));A(!0);let e=O?i._s.get("web-player.smart-shuffle.add-to-playlist-feedback",O):i._s.get("web-player.smart-shuffle.add-to-playlist-feedback-fallback");try{await x.sendItemSignal(n,t,"plus")}catch(t){e=i._s.get("error-dialog.generic.header")}E(e),A(!1),_?.()}),[n,O,E,k,_,x,t,I]),removeRecommendation:j}}},57904:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var s=n(37116);const i=()=>{const[e,t]=(0,s.k)("smart-shuffle-seen",!1);return{seen:e,setSeen:t}}},78e3:(e,t,n)=>{"use strict";n.d(t,{I:()=>s.I});var s=n(46892)},32508:(e,t,n)=>{"use strict";n.d(t,{W:()=>C});var s=n(96651),i=n(10124),r=n.n(i),a=n(96560),o=n(99392),l=n(92232),c=n(48892),d=n(14788),u=n(12100),m=n(85988),p=n(95928),h=n(40104),g=n(40636),f=n(92460);const y="tubnN0aXZcYc6MeCfARg";var _=n(2488);const b=({contextUri:e="",uri:t,id:n=t,className:i,canAdd:d})=>{const{description:h}=(0,p.c)(),b=(0,g.Mk)(),{spec:v}=(0,g.gp)(c.t,{data:{uri:e}}),x=(0,s.useCallback)((()=>{b.logInteraction(v.undoButtonFactory({uri:t}).hitUiHide())}),[b,v,t]),C=(0,s.useCallback)((()=>{b.logInteraction(v.removeRecommendationButtonFactory({uri:t}).hitRemoveRecommendation({recommendedItemUri:t,contextUri:e}))}),[e,b,v,t]),E=(0,s.useCallback)((()=>{b.logInteraction(v.addRecommendationButtonFactory({uri:t}).hitAddToPlaylist({playlist:e,itemToBeAdded:t}))}),[e,b,v,t]),{removeRecommendation:S,addRecommendation:w}=(0,f.U)({uri:t,uid:n,contextUri:e,onUndo:x,onRemoveRecommendation:C,onAddRecommendation:E}),I=(0,s.useCallback)((()=>h?u._s.get("web-player.smart-shuffle.add-to-playlist-button",h):u._s.get("web-player.smart-shuffle.add-to-playlist-button-fallback")),[h]);return(0,_.jsxs)("div",{className:r()(y,i),children:[(0,_.jsx)(m.Yl,{label:u._s.get("web-player.smart-shuffle.removed-from-recommendations-button"),children:(0,_.jsx)(a.u,{onClick:S,iconOnly:o._,size:"small","aria-label":u._s.get("web-player.smart-shuffle.removed-from-recommendations-button"),condensedAll:!0})}),d&&(0,_.jsx)(m.Yl,{label:I(),children:(0,_.jsx)(a.u,{onClick:w,iconOnly:l.u,size:"small","aria-label":I(),condensedAll:!0})})]})},v=e=>{const t=(0,h.mY)(e.contextUri);return(0,_.jsx)(b,{...e,canAdd:t?.canAdd??!1})},x=e=>(0,_.jsx)(b,{...e,canAdd:!0}),C=e=>e.contextUri&&(0,d.mS)(e.contextUri)?(0,_.jsx)(v,{...e,contextUri:e.contextUri}):e.contextUri&&(0,d.W8)(e.contextUri)?(0,_.jsx)(x,{...e,contextUri:e.contextUri}):(0,_.jsx)(b,{...e,canAdd:!1})},3016:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var s=n(14788),i=n(50799),r=n(25283);function a(e,t,n){e.getEvents().addListener(i.AU.ACTION,(async a=>{if(a.data.action===i.ye.PLAY&&(0,s.mS)(a.data.context.uri)&&a.data.options.skipTo?.uid&&await n.getContextualShuffleMode(a.data.context.uri)===r.u.SMART_SHUFFLE)try{await t.sendItemSignal(a.data.context.uri,a.data.options.skipTo.uid,"tap"),await e.refreshCurrentContext()}catch(e){}}))}},96800:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s=e=>"enhanced_recommendation"===e?.metadata?.provider&&"queue"!==e?.provider},96692:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s.Yn});var s=n(36480)},66556:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});const s=7e3},94808:(e,t,n)=>{"use strict";function s({prefix:e="id"}={}){return`${e}-${`${(new Date).getTime()}${Math.random()}`}`}n.d(t,{S:()=>s})},18508:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});var s=n(96651),i=n(67716),r=n(94808);function a(){const{enqueueSnackbar:e,closeSnackbar:t}=(0,i.uU)();return{enqueueCustomSnackbar:(0,s.useCallback)(((t,n)=>{const s=function(e){return"keyPrefix"in e}(n);if(s){const{keyPrefix:s,...i}=n,a=(0,r.S)({prefix:s});return e(a,{variant:"headless",children:t,key:a,...i})}const{identifier:i,...a}=n;return e(i,{variant:"headless",children:t,...a})}),[e]),closeSnackbar:t}}},59368:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var s=n(96651),i=n(41576);function r(){return(0,s.useContext)(i.O)}},92292:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});var s=n(96651),i=n(67716),r=n(94808);function a(){const{enqueueSnackbar:e,closeSnackbar:t}=(0,i.uU)();return{enqueueSnackbar:(0,s.useCallback)(((t,n)=>{if(!n)return e(t,{variant:"default"});if(function(e){return"keyPrefix"in e}(n)){const{keyPrefix:s,...i}=n;return e(t,{variant:"default",key:(0,r.S)({prefix:s}),...i})}return e(t,{variant:"default",...n})}),[e]),closeSnackbar:t}}},84388:(e,t,n)=>{"use strict";n.d(t,{W:()=>h});n(41260);var s=n(96651),i=n(10124),r=n.n(i),a=n(8004),o=n(12100),l=n(74712);const c="w0kwPDoelauN3C9dVoVe",d="xzLZD9uD3b4u9wecXAJY",u="DaFhhSm73r7rNpomErhI";var m=n(2488);const p=({children:e})=>(0,m.jsx)(m.Fragment,{children:e}),h=(0,s.forwardRef)((function({users:e,maxSlots:t=3,size:n,withoutOverflowBadge:s=!1,dropShadow:i=!1,AvatarWrapper:h=p},g){const f=Math.max(2,t),y=e.length>f?e.length-f+1:0,_=e.slice(0,f),{userIconSize:b,width:v,smallFontSize:x,largeFontSize:C}=(e=>{switch(e){case"xxlarge":return{userIconSize:"xlarge",width:64,smallFontSize:24,largeFontSize:32};case"xlarge":return{userIconSize:"large",width:48,smallFontSize:18,largeFontSize:24};case"large":return{userIconSize:"medium",width:32,smallFontSize:12,largeFontSize:16};case"medium":default:return{userIconSize:"small",width:24,smallFontSize:9,largeFontSize:12};case"small":return{userIconSize:"xsmall",width:16,smallFontSize:7,largeFontSize:9}}})(n),E=y>9?x:C,S=(0,m.jsx)("span",{className:r()(d,"encore-inverted-light-set"),style:{width:v,height:v},role:"presentation",children:(0,m.jsx)(a.a,{variant:"bodyMediumBold",style:{fontSize:E},semanticColor:"textBase",children:`+${y}`})});return(0,m.jsx)("div",{className:r()(c),ref:g,children:_.map(((e,t)=>!s&&y>0&&t===f-1?(0,m.jsx)(h,{index:t,children:(0,m.jsx)(l.C,{images:[],userIconSize:b,label:o._s.get("web-player.social-connect.facepile.and-others",y),width:v,piled:!0,customPlaceholder:S})},"others"):(0,m.jsx)(h,{index:t,user:e,children:(0,m.jsx)(l.C,{images:e.images,userIconSize:b,label:e.displayName,displayName:e.displayName,username:e.username,width:v,piled:t>0,imageClassName:i?u:void 0})},e.displayName)))})}))},38412:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,m:()=>a});n(73952),n(97296),n(97768),n(41260);var s=n(14788);const i=e=>({url:e}),r=e=>{const t=[];return e.largeImageUrl?t.push(i(e.largeImageUrl)):e.imageUrl&&t.push(i(e.imageUrl)),{displayName:e.displayName,images:t,username:e.username,uri:(0,s.oh)(e.username).toURI()}},a=(e,t,n)=>{const s=[],i=e.sessionMembers.find((({id:t})=>t===e.sessionOwnerId));i&&s.push(i);const a=e.isSessionOwner?void 0:e?.sessionMembers.find((({username:e})=>e===t));a&&(n?.userFirst?s.unshift(a):s.push(a));const o=e.sessionMembers.filter((({username:n,id:s})=>s!==e.sessionOwnerId&&n!==t));return[...s,...o].map(r)}},232:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});const s={PARTICIPANTS_PAGE:"/socialsession/participant-list"}},64736:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var s=n(89940),i=n(2084),r=n(59636),a=n(89832);const o=()=>{const e=(0,s.y)(),t=(0,a.U)();return e.getEnabled()===i.x.ENABLED&&t===r.C.PREMIUM}},92:(e,t,n)=>{"use strict";n.d(t,{q:()=>u});var s=n(96651),i=n(4260),r=n(2748),a=n(51760),o=n(11508),l=n(57800),c=n(31800),d=n(20860);function u(){const{createSession:e}=(0,a.O)(),t=(0,o.E)(),{openQueue:n}=(0,c.G)(),u=(0,l.mg)(),{remoteDevice:m}=(0,r.w)();return(0,s.useCallback)((async()=>{const s=await e();if(!s)throw new Error("Failed to create Jam");u.send((0,i.i)({session_id:s.sessionId,device_type:m?.type,tech_type:m?.isLocal?d.aG.LOCAL:d.aG.CONNECT,session_uri:s.joinSessionUri,session_type:d.wb.REMOTE})),t(),n()}),[t,e,u,n,m?.isLocal,m?.type])}},89832:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var s=n(89940);function i(){return(0,s.y)().getJamExperience()}},95596:(e,t,n)=>{"use strict";n.d(t,{c:()=>f});var s=n(4564),i=n(45276),r=n(12100),a=n(4732),o=n(90484),l=n(40188),c=n(52588),d=n(51760),u=n(40636),m=n(64736),p=n(92),h=n(2488);const g=({skipToUri:e,uri:t,spec:n})=>{const m=(0,u.Mk)(),{currentSession:g}=(0,d.O)(),{triggerPlay:f,isActive:y}=(0,c.I)({uri:t},{featureIdentifier:"group_session_context_menu"}),_=(0,s.OY)(),b=(0,p.q)();return g?.active?null:(0,h.jsx)(o.I,{role:"menuitem",onClick:async()=>{const s=n.createJamButtonFactory().hitUiNavigate({destination:t});s&&m.logInteraction(s);try{await b(),y||f({...e&&{skipTo:{uri:e}}})}catch(e){_((0,a.Ar)(l.SI.ERROR))}},leadingIcon:(0,h.jsx)(i.Q,{semanticColor:"textSubdued",size:"small"}),children:r._s.get("web-player.social-connect.menu-action.title")})},f=e=>(0,m.y)()?(0,h.jsx)(g,{...e}):null},20860:(e,t,n)=>{"use strict";n.d(t,{IT:()=>s,aG:()=>r,qY:()=>a,wb:()=>i});let s=function(e){return e.QUEUE_END_SESSION_BUTTON="end_session_queue_button_pressed",e.QUEUE_LEAVE_SESSION_BUTTON="leave_session_queue_button_pressed",e.INVITATION_MODAL_CANCEL_BUTTON="invitation_modal_cancel_button_pressed",e}({}),i=function(e){return e.REMOTE="REMOTE",e.IN_PERSON="IN_PERSON",e}({}),r=function(e){return e.LOCAL="LOCAL",e.CONNECT="CONNECT",e}({}),a=function(e){return e.DEEPLINK="deeplink",e}({})},64480:(e,t,n)=>{"use strict";n.d(t,{Ar:()=>ae,Oc:()=>J,MF:()=>R,mu:()=>ce,cD:()=>oe});var s=n(96651),i=n(10124),r=n.n(i),a=n(33644),o=n(8004),l=n(73628),c=n(23460),d=n(49232),u=n(71992),m=n(12100),p=n(48856),h=n(87832),g=n(38580),f=n(85988),y=n(11732),_=n(15040),b=n(17556),v=n(41436),x=n(6912),C=n(40636),E=n(43619),S=n(57148);const w="J4G4movvFPl2jO5FU4DS",I="H0r_KpY4v6pEzGIzdHPZ",A="qE1Wj2QdfIN88IqJJ0Zm",T="LZoiVy3tbWWRCz7HpjnC",k="hyWgYPqF_zPgqtnnP5xi",N="rYS937TYaQIbosonYMnZ",O="k2cKNmu9glqx1ZjUiQ1I",P="sYP5I9VnoUQP7aisb30p",j="UO4IL9BXX1RFGq8JfBib";var L=n(2488);const R=({className:e,title:t,trackUri:n,artists:i,album:R,contentRating:D,index:M,hoverBackgroundColor:U,contentAlign:F,size:B})=>{const G=(0,x.Q)(),[V,H]=(0,s.useState)(!1),W=(0,u.q)({data:{position:M,uri:n,reason:"related-videos-card"}}),z=(0,C.Mk)(),{badges:Y,hasBadges:K}=(0,S.C)({contentRating:D?.label}),q=(0,s.useCallback)((()=>{const e=W.cardPlayButtonFactory().hitPlay({itemToBePlayed:n});return z.logInteraction(e),G.playAsNextInQueue([{uri:n,type:E.s.TRACK,uid:null,provider:""}])}),[z,G,W,n]),Q=(0,s.useCallback)((()=>{const e=W.cardLinkFactory({position:0}).hitUiNavigate({destination:i[0].uri});z.logInteraction(e)}),[i,z,W]),X=(0,C.K2)(W),$=(0,d.IP)(_.M1F),J=B||($?"md":"sm");return(0,L.jsx)(a.M,{contentAlign:F,className:r()(N,e),variant:"naked",id:t,size:J,hoverBackgroundColor:U,onMouseEnter:()=>{H(!0)},onMouseLeave:()=>{H(!1)},title:(0,L.jsx)(f.Yl,{label:t,showDelay:f.AL,children:(0,L.jsx)(o.a,{variant:"bodyMedium",className:O,children:t})}),subtitle:(0,L.jsxs)("div",{className:P,children:[K&&(0,L.jsxs)(L.Fragment,{children:[Y.explicit&&(0,L.jsx)(b.C,{className:j}),Y.nineteen&&(0,L.jsx)(v.o,{className:j})]}),(0,L.jsx)(f.Yl,{label:i[0].profile.name,showDelay:f.AL,children:(0,L.jsx)(y.default,{to:i[0].uri,onClick:Q,children:(0,L.jsx)(o.a,{semanticColor:"textSubdued",variant:"bodySmall",className:O,children:i[0].profile.name})})})]}),media:(0,L.jsxs)("div",{className:k,children:[(0,L.jsx)("div",{className:r()(I,{[A]:V}),children:(0,L.jsx)("div",{className:r()(T),children:(0,L.jsx)(l.Y,{size:"large",width:36})})}),(0,L.jsx)(c.W,{src:R?.coverArt?.sources[0].url,className:w})]}),onClick:q,trailing:V&&(0,L.jsx)(h.pD,{menu:(0,L.jsx)(g.G,{uri:n,albumUri:R?.uri,artists:[{name:i[0].profile.name,uri:i[0].uri}]}),children:(0,L.jsx)(p.g,{size:p.o.xs,label:m._s.get("more.label.context",t)})}),ref:X})};var D=n(62459),M=n(46360),U=n(75512),F=n(79488),B=n(72001),G=n(16928);const V="dcSY8Zom_VXgK71Lbym_",H="nnFPIbw3IAGJZGqI4NqD",W="wyd6QhFOJ2Z05gOCbsiE",z="lKGbdh7pkRv2AcabYSy6",Y="a5FAjheOpWkqsE2by0mD",K="RxYeristNjK4Ih8_s058",q="Rkf_Pdsq1f6cGK9QHcWK",Q="ZCq05NqW5PjXZXaY4XEK",X=(0,s.memo)((()=>(0,L.jsx)(D.O,{size:"small"}))),$=(0,s.memo)((()=>(0,L.jsx)(M.I,{size:"small"}))),J=()=>{const e=m._s.get("npv.song-videos.switch-to-video"),t=m._s.get("npv.song-videos.switch-to-audio"),n=m._s.get("page.loading"),[i,a]=(0,s.useState)(!1),l=(0,x.Q)(),{signals:c,loading:u,uri:p}=(0,B.o)((e=>({signals:e?.signals,loading:e?.isBuffering&&!e.isPaused,uri:e?.item?.uri}))),{spec:h,logger:g}=(0,C.gp)(U.O,{data:{uri:p??"",identifier:F.q.npv}}),f=(0,s.useCallback)((()=>{i?(l.sendSignal(G.m0.SWITCH_TO_AUDIO),g.logInteraction(h.toggleAudioVideoButtonFactory({identifier:"switch_to_audio"}).hitPlay({itemToBePlayed:p??""}))):(l.sendSignal(G.m0.SWITCH_TO_VIDEO),g.logInteraction(h.toggleAudioVideoButtonFactory({identifier:"switch_to_video"}).hitPlay({itemToBePlayed:p??""}))),a((e=>!e))}),[i,l,g,h,p]);(0,s.useEffect)((()=>{l.canSendSignal(G.m0.SWITCH_TO_VIDEO)?a(!1):l.canSendSignal(G.m0.SWITCH_TO_AUDIO)&&a(!0)}),[l,c]);const y=(0,C.K2)(h.toggleAudioVideoButtonFactory({identifier:i?"switch_to_audio":"switch_to_video"})),b=(0,d.IP)(_.Ier,{loadingValue:!1}),v=i?t:e;return b?(0,L.jsx)(s.Suspense,{fallback:!0,children:(0,L.jsxs)("div",{className:V,ref:y,children:[(0,L.jsxs)("div",{"aria-label":n,className:r()(H,z,{[Y]:i&&u}),"aria-hidden":!0,children:[(0,L.jsx)("div",{className:q}),(0,L.jsx)(o.a,{as:"span",variant:"bodySmall",children:n})]}),(0,L.jsxs)("button",{"aria-label":v,className:r()(H,W,{[K]:i&&u}),onClick:f,disabled:u,children:[i?(0,L.jsx)($,{}):(0,L.jsx)(X,{}),(0,L.jsx)(o.a,{as:"span",variant:"bodySmallBold",children:v})]})]})}):null};var Z=n(96560),ee=n(53788),te=n(51776),ne=n(6640),se=n(26072),ie=n(36608);const re=(0,s.memo)((()=>(0,L.jsx)(D.O,{size:"xsmall"}))),ae=(0,s.memo)((({size:e="xsmall",className:t,separator:n="•",variant:i="marginal"})=>{const r=(0,x.Q)(),a=m._s.get("npv.song-videos.switch-to-video"),{signals:l,uri:c}=(0,B.o)((e=>({signals:e?.signals,uri:e?.item?.uri}))),{videoPlayerMode:u}=(0,ie.a)(),{spec:p,logger:h}=(0,C.gp)(ee.OC,{data:{identifier:u===F.q.cinema?ee.ye.CINEMA:ee.ye.DESKTOP}}),g=p.musicVideoLabelFactory({uri:c||""}),{isActive:f,panelSend:y}=(0,ne.au)(se.s.NowPlayingView),b=(0,te.YV)(ne.s7.NPV_BUTTON_CLICK),v=(0,s.useCallback)((()=>{h.logInteraction(g.hitPlay({itemToBePlayed:c||""})),r.sendSignal(G.m0.SWITCH_TO_VIDEO),!f&&b&&y(ne.s7.NPV_BUTTON_CLICK)}),[b,f,h,y,r,g,c]),E=(0,d.IP)(_.Wwy);return null!==l&&null!==c&&l?.includes(G.m0.SWITCH_TO_VIDEO)&&E?(0,L.jsxs)("div",{className:Q,children:[(0,L.jsx)(Z.k,{onClick:v,iconLeading:"xsmall"===e?re:D.O,size:"small",style:{padding:"0",transform:"none"},className:t,"aria-label":a,as:"div",tabIndex:-1,children:(0,L.jsx)(o.a,{as:"span",variant:i,children:m._s.get("card.tag.video")})}),(0,L.jsx)(o.a,{as:"span",variant:i,children:n})]}):null})),oe=()=>{const e=(0,B.o)((e=>e?.signals)),t=Boolean(e?.includes(G.m0.SWITCH_TO_VIDEO)),n=Boolean(e?.includes(G.m0.SWITCH_TO_AUDIO)),i=n||t,r=n;return(0,s.useMemo)((()=>({isSongVideo:i,isSongVideoPlayingVideo:r})),[i,r])};var le=n(23616);const ce=e=>{const t=(0,le.z)(),n=t?.item?.metadata?.["save_track.uri"],s=t?.item?.uri;return n&&s===e?n:e}},16904:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});let s=function(e){return e.HOME="home",e.COLLECTION="collection",e.CREATE_PLAYLIST="create-playlist",e.LIKED_SONGS="liked-songs",e.YOUR_EPISODES="your-episodes",e.SEARCH="search",e.SETTINGS="settings",e.PLAYLISTS_SIDEBAR="playlists-sidebar",e.NOW_PLAYING_BAR="now-playing-bar",e.BUDDY_FEED="buddy-feed",e.PROFILE="profile",e.DEEP_LINK="deep-link",e.MAKE_MUSIC="make-music",e.NOW_PLAYING_PANEL="now_playing_panel",e.WHATS_NEW_PANEL="whats_new_panel",e.UNKNOWN="unknown",e.EXPLORE_PREMIUM="explore-premium",e}({})},73360:(e,t,n)=>{"use strict";n.d(t,{i:()=>o,u:()=>a});var s=n(96651),i=n(8496),r=n(51643);const a=()=>(0,s.useContext)(r.E),o=()=>(0,s.useContext)(i.C)},30348:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s.Y});var s=n(16904)},33708:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var s=n(96651),i=n(4564),r=n(70592),a=n(2832);const o=()=>{const e=(0,i.OY)(),t=(0,i.w1)(r._);return{videoPlayerMode:(0,i.w1)(r.U),setVideoPlayerUIFlag:(0,s.useCallback)(((t,n)=>{e((0,a.F6)(t,n))}),[e]),videoPlayerUIFlags:t}}},36608:(e,t,n)=>{"use strict";n.d(t,{a:()=>s.a});var s=n(33708)},70592:(e,t,n)=>{"use strict";n.d(t,{U:()=>s.U,_:()=>s._});var s=n(24616)},79488:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,q:()=>i});let s=function(e){return e.videoAvailable="videoAvailable",e.fullscreen="fullscreen",e.cinema="cinema",e.npv="npv",e.pip="pip",e.documentPip="documentPip",e.nowPlayingBar="nowPlayingBar",e}({}),i=function(e){return e.none="none",e.npv="npv",e.cinema="cinema",e.pip="pip",e.documentPip="documentPip",e.fullscreen="fullscreen",e.nowPlayingBar="nowPlayingBar",e}({})},2832:(e,t,n)=>{"use strict";n.d(t,{F6:()=>r,cz:()=>i,uy:()=>s});let s=function(e){return e.SET_VIDEO_MODE="SET_VIDEO_MODE",e.SET_VIDEO_UI_FLAG="SET_VIDEO_UI_FLAG",e}({});const i=e=>({type:s.SET_VIDEO_MODE,mode:e}),r=(e,t)=>({type:s.SET_VIDEO_UI_FLAG,key:e,value:t})},58760:(e,t,n)=>{"use strict";n.d(t,{oT:()=>r,q4:()=>a});var s=n(2832),i=n(79488);const r={fullscreen:!1,cinema:!1,npv:!1,pip:!1,videoAvailable:!1,documentPip:!1,nowPlayingBar:!1},a=(e={isSubtitlesEnabled:!1,uiFlags:r,mode:i.q.none},t)=>{switch(t.type){case s.uy.SET_VIDEO_MODE:return{...e,mode:t.mode};case s.uy.SET_VIDEO_UI_FLAG:{const{key:s,value:r}=t,a={...e.uiFlags,[s]:r};return{...e,mode:(n=a,n.videoAvailable?n.fullscreen?i.q.fullscreen:n.cinema?i.q.cinema:n.pip?i.q.pip:n.documentPip?i.q.documentPip:n.npv?i.q.npv:n.nowPlayingBar?i.q.nowPlayingBar:i.q.none:i.q.none),uiFlags:a}}default:return e}var n}},24616:(e,t,n)=>{"use strict";n.d(t,{U:()=>r,_:()=>a});var s=n(58760),i=n(79488);const r=e=>e.ui?.videoPlayer?.mode??i.q.none,a=e=>e.ui?.videoPlayer?.uiFlags??s.oT},60112:(e,t,n)=>{"use strict";n.d(t,{ew:()=>h,Q7:()=>u,ug:()=>c});var s=n(33868),i=n(20892),r=n(12100);let a=function(e){return e.LIST="list",e.COMPACT="compact",e}({});var o=n(2488);const l=[a.COMPACT,a.LIST],c=[{value:a.COMPACT,text:()=>r._s.get("web-player.your-library-x.sort-and-view-picker.compact"),icon:()=>(0,o.jsx)(s.p,{size:"small"})},{value:a.LIST,text:()=>r._s.get("web-player.your-library-x.sort-and-view-picker.list"),icon:()=>(0,o.jsx)(i.i,{size:"small"})}];var d=n(37116);const u=()=>{const[e,t]=(0,d.k)("view-mode",a.LIST);let n=e;return l.includes(n)||(n=a.LIST),{viewMode:n,isCompactMode:n===a.COMPACT,setViewMode:t}};n(41260);var m=n(63824),p=n(90484);const h=({onSelect:e})=>{const{viewMode:t,setViewMode:n}=u();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Y,{children:r._s.get("web-player.your-library-x.sort-and-view-picker.view-as")}),c.map((({value:s,icon:i,text:r},a)=>(0,o.jsx)(p.I,{role:"menuitemradio","aria-checked":t===s,divider:a===c.length-1?"after":void 0,autoClose:!1,leadingIcon:i(),onClick:()=>{n(s),e?.(s)},children:r()},s)))]})}},29152:(e,t,n)=>{"use strict";n.d(t,{c5:()=>a,e:()=>s,kX:()=>r,mO:()=>i});const s="37i9dQZF1EYkqdzj48dyYq",i=`spotify:playlist:${s}`,r=["37i9dQZF1EYkqdzj8OSOas","37i9dQZF1EYkqdzjdvy3mw","37i9dQZF1EYkqdzjicdiyA","37i9dQZF1EYkqdzjmSSxKE","37i9dQZF1EYkqdzjrzxMWI"],a="#0A59B8"},76232:(e,t,n)=>{"use strict";n.d(t,{Uv:()=>r,gH:()=>i,wE:()=>a});n(41260);var s=n(29152);const i=e=>e===s.mO||s.kX.map((e=>`spotify:playlist:${e}`)).includes(e),r=e=>"your_dj"===e?.metadata?.lexicon_set_type,a=(e,t)=>r(e)&&"true"===t?.metadata?.is_narration},79180:(e,t,n)=>{"use strict";n.d(t,{U:()=>o,o:()=>a});var s=n(29152),i=n(52588),r=n(40104);const a=()=>{const e=(0,r.mY)(s.mO,{decorateFormatListData:!0}),t=e?.formatListData?.attributes.lexicon_context_url;return{metadata:e,lexiconContextUrl:t}},o=e=>{const{featureIdentifier:t="unknown",referrerIdentifier:n}=e||{},{lexiconContextUrl:r}=a();return(0,i.I)({uri:s.mO,url:r},{featureIdentifier:t,referrerIdentifier:n})}},94952:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var s=n(49232),i=n(55904),r=n(15040);const a=()=>{const e=(0,i.G$)(),t=(0,s.IP)(r.m5c,{loadingValue:!1});return e&&t}},72704:(e,t,n)=>{"use strict";n.d(t,{g:()=>d});var s=n(96651),i=n(49232),r=n(43264),a=n(15040),o=n(3844),l=n(37116),c=n(29152);const d=()=>{const e=(0,i.IP)(a.ymn,{loadingValue:!1}),[t,n]=(0,o.X)(c.mO,!1),[d,u]=(0,l.k)(r.E,!1),[m,p]=(0,l.k)("dj.addedToLibraryOnce",!1),h=(0,s.useCallback)((()=>{m||t||e&&(u(!0),p(!0),n(!0))}),[m,t,n,p,e,u]),g=(0,s.useCallback)((()=>{n(!0)}),[n]),f=(0,s.useCallback)((()=>{n(!1)}),[n]);return{isDJInLibrary:t,setDJAddedToLibraryOnceLocalStorage:p,maybeAddDJToLibrary:h,addDJToLibrary:g,removeDJFromLibrary:f}}},81796:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var s=n(76232),i=n(72001);const r=()=>{const e=(0,i.o)((e=>e),((e,t)=>null===e||null===t?e===t:e.context.uri===t.context.uri&&e.item?.uri===t.item?.uri&&e.isPaused===t.isPaused));if(!e)return{isYourDJContext:!1,isPlaying:!1,isYourDJNarrator:!1,isNarrating:!1};const t=(0,s.Uv)(e.context),n=(0,s.wE)(e.context,e.item);return{isYourDJContext:t,isPlaying:t&&!e.isPaused,isYourDJNarrator:n,isNarrating:n&&!e.isPaused}}},5508:(e,t,n)=>{"use strict";n.d(t,{QT:()=>y,EV:()=>Qe,UF:()=>Z,_:()=>pe,yi:()=>Re,sh:()=>fe,MF:()=>He,cr:()=>De.c});var s=n(49232),i=n(33584),r=n(96651),a=n(10124),o=n.n(a),l=n(8004),c=n(71992),d=n(12100),u=n(48856),m=n(87832),p=n(34328),h=n(44488),g=n(95e3),f=n(2488);const y=r.memo((()=>(0,f.jsx)(h.i,{children:(0,f.jsx)(g._H,{divider:"before"})})));var _=n(82504);const b=e=>e/2-e/2*22*2/169,v=e=>22*e/169,x=[{name:"rear",color:"#1E95D7",loudnessAnimation:{multiplier:.1},idleAnimation:null},{name:"middle",color:"#1ED7BC",loudnessAnimation:{multiplier:.4},idleAnimation:{xScale:.95,yScale:1.05,clockwise:!1,beginTime:1800,duration:3600}},{name:"fore",color:"#19E68C",loudnessAnimation:{multiplier:1},idleAnimation:{xScale:1.05,yScale:.95,clockwise:!0,beginTime:0,duration:2*Math.PI/3*1e3}}],C=({animateSource:e,repeatCount:t="indefinite"})=>(0,f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",width:"300",height:"300",viewBox:"0 0 300 300",style:{width:"100%",height:"100%"},children:[e&&(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("defs",{children:[(0,f.jsx)("animate",{repeatCount:t,dur:"1.9833333s",begin:"0s",xlinkHref:`#${e}_R_G_L_2_G_D_0_P_0`,fill:"freeze",attributeName:"d",attributeType:"XML",from:"M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",to:"M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",keyTimes:"0;0.0504202;0.092437;0.1344538;0.1764706;0.2184874;0.2605042;0.302521;0.3445378;0.3865546;0.4285714;0.4705882;0.512605;0.5546218;0.5966387;0.6386555;0.6806723;0.7226891;0.7647059;0.8067227;0.8487395;0.8907563;0.9327731;0.9747899;1",values:"M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 36.95,-78.5 57.25,-58.51 C77.98,-38.1 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 41.11,-81.16 61.42,-61.17 C82.15,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 51.11,-91.16 71.42,-71.17 C92.15,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 34.11,-74.66 54.42,-54.67 C75.15,-34.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 42.61,-81.16 62.92,-61.17 C83.65,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.61,-91.16 70.92,-71.17 C91.65,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.61,-91.16 70.92,-71.17 C91.65,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 26.61,-70.66 46.92,-50.67 C67.65,-30.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 37.11,-78.16 57.42,-58.17 C78.15,-37.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 40.11,-80.66 60.42,-60.67 C81.15,-40.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 42.11,-81.16 62.42,-61.17 C83.15,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 41.61,-83.66 61.92,-63.67 C82.65,-43.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.11,-90.66 70.42,-70.67 C91.15,-50.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.11,-91.16 70.42,-71.17 C91.15,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{repeatCount:t,dur:"1.9833333s",begin:"0s",xlinkHref:`#${e}_R_G_L_2_G_D_1_P_0`,fill:"freeze",attributeName:"d",attributeType:"XML",from:"M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",to:"M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",keyTimes:"0;0.0504202;0.092437;0.1344538;0.1764706;0.2184874;0.2605042;0.302521;0.3445378;0.3865546;0.4285714;0.4705882;0.512605;0.5546218;0.5966387;0.6386555;0.6806723;0.7226891;0.7647059;0.8067227;0.8487395;0.8907563;0.9327731;0.9747899;1",values:"M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 36.95,-78.5 57.25,-58.51 C77.98,-38.1 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 41.11,-81.16 61.42,-61.17 C82.15,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 51.11,-91.16 71.42,-71.17 C92.15,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 34.11,-74.66 54.42,-54.67 C75.15,-34.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 42.61,-81.16 62.92,-61.17 C83.65,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.61,-91.16 70.92,-71.17 C91.65,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.61,-91.16 70.92,-71.17 C91.65,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 26.61,-70.66 46.92,-50.67 C67.65,-30.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 37.11,-78.16 57.42,-58.17 C78.15,-37.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 40.11,-80.66 60.42,-60.67 C81.15,-40.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 42.11,-81.16 62.42,-61.17 C83.15,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 41.61,-83.66 61.92,-63.67 C82.65,-43.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.11,-90.66 70.42,-70.67 C91.15,-50.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.11,-91.16 70.42,-71.17 C91.15,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{repeatCount:t,dur:"1.9833333s",begin:"0s",xlinkHref:`#${e}_R_G_L_1_G_D_0_P_0`,fill:"freeze",attributeName:"d",attributeType:"XML",from:"M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",to:"M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",keyTimes:"0;0.0252101;0.0672269;0.1092437;0.1512605;0.1932773;0.2352941;0.2773109;0.3193277;0.3613445;0.4033613;0.4453782;0.487395;0.5294118;0.5714286;0.6134454;0.6554622;0.697479;0.7394958;0.7815126;0.8235294;0.8655462;0.907563;0.9495798;1",values:"M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 36.95,-78.5 57.25,-58.51 C77.98,-38.1 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 41.11,-81.16 61.42,-61.17 C82.15,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 51.11,-91.16 71.42,-71.17 C92.15,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 34.11,-74.66 54.42,-54.67 C75.15,-34.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 42.61,-81.16 62.92,-61.17 C83.65,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.61,-91.16 70.92,-71.17 C91.65,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.61,-91.16 70.92,-71.17 C91.65,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 26.61,-70.66 46.92,-50.67 C67.65,-30.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 37.11,-78.16 57.42,-58.17 C78.15,-37.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 40.11,-80.66 60.42,-60.67 C81.15,-40.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 42.11,-81.16 62.42,-61.17 C83.15,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 41.61,-83.66 61.92,-63.67 C82.65,-43.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.11,-90.66 70.42,-70.67 C91.15,-50.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.11,-91.16 70.42,-71.17 C91.15,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{repeatCount:t,dur:"1.9833333s",begin:"0s",xlinkHref:`#${e}_R_G_L_1_G_D_1_P_0`,fill:"freeze",attributeName:"d",attributeType:"XML",from:"M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",to:"M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",keyTimes:"0;0.0252101;0.0672269;0.1092437;0.1512605;0.1932773;0.2352941;0.2773109;0.3193277;0.3613445;0.4033613;0.4453782;0.487395;0.5294118;0.5714286;0.6134454;0.6554622;0.697479;0.7394958;0.7815126;0.8235294;0.8655462;0.907563;0.9495798;1",values:"M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 36.95,-78.5 57.25,-58.51 C77.98,-38.1 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 41.11,-81.16 61.42,-61.17 C82.15,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 51.11,-91.16 71.42,-71.17 C92.15,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 34.11,-74.66 54.42,-54.67 C75.15,-34.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 42.61,-81.16 62.92,-61.17 C83.65,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.61,-91.16 70.92,-71.17 C91.65,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.61,-91.16 70.92,-71.17 C91.65,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 26.61,-70.66 46.92,-50.67 C67.65,-30.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 37.11,-78.16 57.42,-58.17 C78.15,-37.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 40.11,-80.66 60.42,-60.67 C81.15,-40.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 42.11,-81.16 62.42,-61.17 C83.15,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 41.61,-83.66 61.92,-63.67 C82.65,-43.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.11,-90.66 70.42,-70.67 C91.15,-50.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.11,-91.16 70.42,-71.17 C91.15,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{repeatCount:t,dur:"1.9833333s",begin:"0s",xlinkHref:`#${e}_R_G_L_0_G_D_0_P_0`,fill:"freeze",attributeName:"d",attributeType:"XML",from:"M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",to:"M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",keyTimes:"0;0.0420168;0.0840336;0.1260504;0.1680672;0.210084;0.2521008;0.2941176;0.3361345;0.3781513;0.4201681;0.4621849;0.5042017;0.5462185;0.5882353;0.6302521;0.6722689;0.7142857;0.7563025;0.7983193;0.8403361;0.8823529;0.9243697;1",values:"M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 36.95,-78.5 57.25,-58.51 C77.98,-38.1 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 41.11,-81.16 61.42,-61.17 C82.15,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 51.11,-91.16 71.42,-71.17 C92.15,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 34.11,-74.66 54.42,-54.67 C75.15,-34.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 42.61,-81.16 62.92,-61.17 C83.65,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.61,-91.16 70.92,-71.17 C91.65,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.61,-91.16 70.92,-71.17 C91.65,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 26.61,-70.66 46.92,-50.67 C67.65,-30.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 37.11,-78.16 57.42,-58.17 C78.15,-37.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 40.11,-80.66 60.42,-60.67 C81.15,-40.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 42.11,-81.16 62.42,-61.17 C83.15,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 41.61,-83.66 61.92,-63.67 C82.65,-43.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.11,-90.66 70.42,-70.67 C91.15,-50.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.11,-91.16 70.42,-71.17 C91.15,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{repeatCount:t,dur:"1.9833333s",begin:"0s",xlinkHref:`#${e}_R_G_L_0_G_D_1_P_0`,fill:"freeze",attributeName:"d",attributeType:"XML",from:"M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",to:"M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",keyTimes:"0;0.0420168;0.0840336;0.1260504;0.1680672;0.210084;0.2521008;0.2941176;0.3361345;0.3781513;0.4201681;0.4621849;0.5042017;0.5462185;0.5882353;0.6302521;0.6722689;0.7142857;0.7563025;0.7983193;0.8403361;0.8823529;0.9243697;1",values:"M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 36.95,-78.5 57.25,-58.51 C77.98,-38.1 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 41.11,-81.16 61.42,-61.17 C82.15,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 51.11,-91.16 71.42,-71.17 C92.15,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 34.11,-74.66 54.42,-54.67 C75.15,-34.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 42.61,-81.16 62.92,-61.17 C83.65,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.61,-91.16 70.92,-71.17 C91.65,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.61,-91.16 70.92,-71.17 C91.65,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 26.61,-70.66 46.92,-50.67 C67.65,-30.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 37.11,-78.16 57.42,-58.17 C78.15,-37.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 40.11,-80.66 60.42,-60.67 C81.15,-40.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 42.11,-81.16 62.42,-61.17 C83.15,-40.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 41.61,-83.66 61.92,-63.67 C82.65,-43.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.11,-90.66 70.42,-70.67 C91.15,-50.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 50.11,-91.16 70.42,-71.17 C91.15,-50.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ;M0 -112.5 C30.75,-112.5 58.61,-98.66 78.92,-78.67 C99.65,-58.27 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z ",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{attributeType:"XML",attributeName:"opacity",dur:"2s",from:"0",to:"1",xlinkHref:`#${e}_time_group`})]})}),(0,f.jsxs)("g",{id:"_R_G",children:[(0,f.jsxs)("g",{id:"_R_G_L_2_G",transform:" translate(150, 150) translate(0, 0)",children:[(0,f.jsx)("path",{id:`${e}_R_G_L_2_G_D_0_P_0`,fill:"#000000",fillOpacity:"0",fillRule:"nonzero",d:" M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z "}),(0,f.jsx)("path",{id:`${e}_R_G_L_2_G_D_1_P_0`,stroke:"#1e95d7",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:"14",strokeOpacity:"1",d:" M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z "})]}),(0,f.jsxs)("g",{id:"_R_G_L_1_G",transform:" translate(150, 150) translate(0, 0)",children:[(0,f.jsx)("path",{id:`${e}_R_G_L_1_G_D_0_P_0`,fill:"#000000",fillOpacity:"0",fillRule:"nonzero",d:" M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z "}),(0,f.jsx)("path",{id:`${e}_R_G_L_1_G_D_1_P_0`,stroke:"#1ed7bc",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:"14",strokeOpacity:"1",d:" M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z "})]}),(0,f.jsxs)("g",{id:"_R_G_L_0_G",transform:" translate(150, 150) translate(0, 0)",children:[(0,f.jsx)("path",{id:`${e}_R_G_L_0_G_D_0_P_0`,fill:"#000000",fillOpacity:"0",fillRule:"nonzero",d:" M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z "}),(0,f.jsx)("path",{id:`${e}_R_G_L_0_G_D_1_P_0`,stroke:"#19e68c",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:"14",strokeOpacity:"1",d:" M0 -112.5 C30.75,-112.5 58.61,-100.16 78.92,-80.17 C99.65,-59.77 112.5,-31.39 112.5,0 C112.5,31 99.96,59.08 79.68,79.42 C59.31,99.86 31.13,112.5 0,112.5 C-31.38,112.5 -59.77,99.65 -80.17,78.92 C-100.16,58.62 -112.5,30.75 -112.5,0 C-112.5,-31.25 -99.75,-59.53 -79.18,-79.92 C-58.85,-100.06 -30.88,-112.5 0,-112.5z "})]})]}),(0,f.jsx)("g",{id:`#${e}_time_group`})]});var E=n(81040),S=n(28892),w=n(62572);class I{constructor(e,t){this.x=e,this.y=t}static fromRadiusAndAngle(e,t){return new I(e*Math.cos(t),e*Math.sin(t))}static sum(e,t){return new I(e.x+t.x,e.y+t.y)}static mul(e,t){return new I(e*t.x,e*t.y)}controlPoint(e,t){return I.sum(this,I.fromRadiusAndAngle(e,t))}}var A=n(91404);const T=18.5/169;function k(e,t,n,s){const i=new I(e.x,e.y);if(s){const e=t/2*T*s.xScale,r=t/2*T*s.yScale,a=(n-s.beginTime)/s.duration,o=(s.clockwise?1:-1)*a*2*Math.PI;i.x+=e*Math.cos(o),i.y+=r*Math.sin(o)}const r=new Path2D;return r.arc(i.x,i.y,t,0,2*Math.PI),r}const N=({forceAlwaysInView:e})=>{const t=(0,r.useRef)(null),n=(0,r.useRef)(null),s=(0,r.useRef)(0),i=(0,r.useRef)(0),a=(0,E.Iz)(),{ref:o,inView:l}=(0,_.cD)({root:a.current,initialInView:!1}),c=(0,r.useCallback)((()=>{const e=performance.now();s.current=s.current||e;const n=e-s.current,i=t.current?.getContext("2d");if(t.current&&i){const e=t.current.width/window.devicePixelRatio;i.clearRect(0,0,t.current.width,t.current.height),function(e,t,n){const s=new I(t/2,t/2),i=b(t),r=v(i);e.lineWidth=r;for(const{color:t,idleAnimation:r}of x)e.strokeStyle=t,e.stroke(k(s,i,n,r))}(i,e,n)}}),[]),d=(0,r.useCallback)((()=>{t.current&&(i.current=requestAnimationFrame((()=>{c(),d()})))}),[c]),u=(0,r.useCallback)((()=>{if(!t.current)return;const{offsetWidth:e,offsetHeight:n}=t.current,s=Math.min(e,n),i=window.devicePixelRatio||1,r=s*i;t.current.width=r,t.current.height=r,t.current.style.width=`${s}px`,t.current.style.height=`${s}px`;const a=t.current.getContext("2d");a?.scale(i,i)}),[]);(0,w.m)({onResize:(0,A.C)(u)(200),refOrElement:n});const m=(0,r.useCallback)((()=>(u(),(l||e)&&d(),()=>{cancelAnimationFrame(i.current)})),[u,d,l,e]);return(0,r.useEffect)((()=>()=>{cancelAnimationFrame(i.current)}),[]),(0,f.jsx)("div",{ref:n,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:(0,f.jsx)("canvas",{style:{width:"100%",height:"100%"},ref:e=>{o(e),t.current=e,m()}})})},O=e=>(0,S.C)()?(0,f.jsx)(C,{animateSource:!1}):(0,f.jsx)(N,{...e});var P=n(79180),j=n(72704),L=n(15040),R=n(40636);const D="yhzmVjWVTHexH4wxeqvT",M="vwSnTIt8eOJPkhYq9dak",U="Ir5UGUEEjrNjtod7oLqd",F="d4FrTI5j_rkDgPjTTT1g",B="wez8Kfu5KSb_sIZzlzPT",G="TlD22XrL2WvV1os5qj7m",V="eiVSI329ZuShN8wyhVQV",H="ClUmjcSm1A7KMvK0creR",W="uF4BQ3gf_0OJxlnhbQ6V",z="xXKSW30i_31R06jHF43q",Y=({uri:e,title:t,description:n,forceAlwaysInView:i})=>{const a=(0,s.IP)(L.M1F),{maybeAddDJToLibrary:h}=(0,j.g)(),{togglePlay:g,isActive:_,isPlaying:b}=(0,P.U)({featureIdentifier:"your_dj_home_card",referrerIdentifier:"home"}),v=(0,f.jsx)(y,{}),{spec:x,logger:C}=(0,R.gp)(c.q,{data:{uri:e,position:0,reason:""}}),E=(0,r.useCallback)((()=>{let t;_?t=b?x.cardPlayButtonFactory().hitPause({itemToBePaused:e}):x.cardPlayButtonFactory().hitResume({itemToBeResumed:e}):(t=x.cardPlayButtonFactory().hitPlay({itemToBePlayed:e}),h());const n=C.logInteraction(t);g({loggingParams:n})}),[g,_,b,C,x,e,h]),S=(0,r.useCallback)((e=>{"Enter"===e.code&&g()}),[g]),w=(0,R.K2)(x);return(0,f.jsx)(m.UF,{menu:v,children:(0,f.jsx)("div",{className:o()(W,{[z]:a}),children:(0,f.jsxs)("div",{className:D,onClick:E,onKeyDown:S,tabIndex:0,role:"button",ref:w,children:[(0,f.jsx)("div",{className:M,children:(0,f.jsx)("div",{className:U,children:(0,f.jsx)(O,{forceAlwaysInView:i})})}),(0,f.jsxs)("div",{className:F,children:[(0,f.jsxs)("div",{className:B,children:[(0,f.jsx)(l.a,{variant:"titleLarge",semanticColor:"textBase",children:t}),(0,f.jsx)("span",{className:V,children:"BETA"})]}),(0,f.jsx)(l.a,{variant:"bodySmall",className:G,children:n}),(0,f.jsxs)("div",{className:H,onClick:e=>{e.stopPropagation()},children:[(0,f.jsx)(p.O,{onClick:E,version:p.e.secondary,isPlaying:b,size:"small"}),(0,f.jsx)(m.pD,{menu:v,children:(0,f.jsx)(u.g,{size:u.o.xs,label:d._s.get("more.label.context",t)})})]})]})]})})})};var K=n(36172),q=n(25620),Q=n(26208);const X="DpP6uINGzQh5Y3kvqPiW",$="iDmoFdvmJuT1BU8JyIK_",J=()=>3,Z=({uri:e,shelfTitle:t,title:n,description:r})=>{const a=(0,s.IP)(L.M1F),o=a?Q.AZ.ENCORE_CARDS:Q.AZ.DEFAULT,l=(0,Q._B)(o);return(0,f.jsx)(q.E,{config:l,children:(0,f.jsxs)(K.G,{getSpanColumns:J,className:X,areEncoreCardsEnabled:a,children:[(0,f.jsx)("div",{className:$,children:(0,f.jsx)(i.q,{title:t})}),(0,f.jsx)(Y,{uri:e,title:n,description:r})]})})};var ee=n(18500),te=n(23616),ne=n(80620),se=n(6912);function ie(e,t,n){return(1-e)*t+e*n}const re=e=>e-Math.PI,ae=Math.PI/2,oe=e=>e+ae,le=.67,ce=4/3*Math.PI;function de(e,t,n,s,i,r,a,o=1,l=1){const c=I.sum(e,I.fromRadiusAndAngle((1-o*l*le)*r,t)),d=oe(t)-o*(4*Math.PI/9),u=n.controlPoint(a,oe(ce)),m=c.controlPoint(a,re(d)),p=c.controlPoint(a,d),h=s.controlPoint(a,re(oe(i))),g=new Path2D;return g.moveTo(n.x,n.y),g.bezierCurveTo(u.x,u.y,m.x,m.y,c.x,c.y),g.bezierCurveTo(p.x,p.y,h.x,h.y,s.x,s.y),g.arc(e.x,e.y,r,i,ce,!1),g}function ue(e,t,n){const s=new I(t/2,t/2),i=b(t),r=v(i),a=ce+2*Math.PI/2,o=ie(.5,ce,a),l=I.sum(s,I.fromRadiusAndAngle(i,ce)),c=I.sum(s,I.fromRadiusAndAngle(i,a)),d=i*(u=4,4/3*Math.tan(Math.PI/(2*u)));var u;e.lineWidth=r;for(const{loudnessAnimation:t,color:r}of x){e.strokeStyle=r;const u=de(s,o,l,c,a,i,d,n,t?.multiplier||0);e.stroke(u)}}const me=()=>{const e=(0,r.useRef)(null),t=(0,r.useRef)(null),n=(0,se.Q)(),s=(0,r.useRef)(0),i=(0,r.useRef)(0),a=(0,r.useRef)(0),o=(0,r.useRef)(0),l=(0,r.useRef)(0),c=(0,r.useRef)(0),d=(0,r.useRef)(0),u=(0,r.useRef)(-1),m=(0,r.useRef)(!1),p=(0,r.useRef)(0),h=(0,r.useCallback)((()=>{const t=performance.now(),r=n.getState();s.current=s.current||t;const p=t-s.current;r.isPaused?(i.current=i.current||p,a.current=p-i.current):(o.current+=a.current,a.current=0,i.current=0);const h=p-a.current-o.current,g=1-Math.max(0,Math.min(1,(d.current-p)/80)),f=ie(g,l.current,c.current);if(m.current||u.current!==f){const t=e.current?.getContext("2d");if(e.current&&t){u.current=f,m.current=!1;const n=e.current.width/window.devicePixelRatio;t.clearRect(0,0,e.current.width,e.current.height),ue(t,n,u.current)}}if(1===g){if(l.current=c.current,r.isPaused)c.current=0;else{const e=(0,ne.MN)(r.playbackId,h);c.current=e??0}d.current=p+80}}),[n]),g=(0,r.useCallback)((()=>{e.current&&(p.current=requestAnimationFrame((()=>{h(),g()})))}),[h]),y=(0,r.useCallback)((()=>{if(!e.current)return;const{offsetWidth:t,offsetHeight:n}=e.current.parentElement,s=Math.min(t,n),i=window.devicePixelRatio||1,r=s*i;e.current.style.width=`${s}px`,e.current.style.height=`${s}px`,e.current.width=r,e.current.height=r;const a=e.current.getContext("2d");a?.scale(i,i),m.current=!0}),[]);(0,w.m)({onResize:(0,A.C)(y)(200),refOrElement:t});const _=(0,r.useCallback)((()=>{y(),g()}),[y,g]);return(0,r.useEffect)((()=>()=>{cancelAnimationFrame(p.current)}),[]),(0,f.jsx)("div",{ref:t,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:(0,f.jsx)("canvas",{ref:t=>{e.current=t,m.current=!0,_()}})})},pe=()=>(0,S.C)()?(0,f.jsx)(C,{animateSource:!1}):(0,f.jsx)(me,{}),he="VeV6wzYXNcjC3phqDklt",ge="XgWqIQWTisOJ3u2NzYFK",fe=({spec:e})=>{const t=(0,te.z)()||{item:null,context:null},{item:n,context:s}=t;return(0,f.jsx)(R.Ud,{spec:e,children:(0,f.jsxs)("div",{className:he,children:[(0,f.jsx)("div",{className:ge,children:(0,f.jsx)(pe,{})}),s&&n?(0,f.jsx)(ee.E,{context:s,item:n,titleTypeVariant:"titleSmall",subtitleTypeVariant:"bodyMedium"}):null]})})};var ye=n(33348),_e=n(85988),be=n(46236),ve=n(72001);function xe(){return(0,ve.o)((e=>e?.nextItems.find((e=>e.metadata?.jump_track))??e?.nextItems.find((e=>e.metadata?.["narration.intro.ssml"]||e.metadata?.["narration.jump.ssml"]))),((e,t)=>e?.uri===t?.uri))}var Ce=n(37116),Ee=n(50799),Se=n(81740),we=n(81796);const Ie="yourdj.tiredofset.tooltipshown",Ae={status:"inactive",skippedCount:0},Te=({children:e,onTooltipShown:t,api:n})=>{const[s,i]=(0,r.useState)(!1),a=(0,r.useCallback)((()=>{i(!1)}),[]);(0,r.useImperativeHandle)(n,(()=>({visible:s,hide:()=>{a()}})));const[o,l]=(0,Ce.k)(Ie,!1),c=(0,r.useCallback)((e=>{o||(t?.(e),l(!0),i(!0))}),[o,t,l]);return((e,t,n)=>{const s=(0,r.useRef)("inactive"),{isPlaying:i}=(0,we.W)(),a=xe();(0,r.useEffect)((()=>{i&&a?"inactive"===s.current&&(s.current="dj_active"):(s.current="inactive",n())}),[i,a,n]),(0,r.useEffect)((()=>{const n=()=>{"dj_active_then_blurred"===s.current&&(s.current="executed",r(),setTimeout((()=>{t("blur_then_focus")}),1e3))},i=()=>{"dj_active"===s.current&&(s.current="dj_active_then_blurred")};function r(){e||(window.removeEventListener("focus",n),window.removeEventListener("blur",i))}return e||(window.addEventListener("focus",n),window.addEventListener("blur",i)),r}),[i,t,e])})(o,c,a),((e,t,n)=>{const s=(0,r.useRef)(Ae),{isPlaying:i}=(0,we.W)(),a=xe();(0,r.useEffect)((()=>{i&&a?"inactive"===s.current.status&&(s.current.status="dj_active"):(s.current=Ae,n())}),[i,a,n]),(0,Se.S)(Ee.AU.ACTION,(n=>{e||n.data.action===Ee.ye.SKIP_TO_NEXT&&("dj_active"!==s.current.status&&"dj_active_then_skipped"!==s.current.status||(s.current.skippedCount+=1,2===s.current.skippedCount&&(s.current.status="executed",t("multiple_skips"))))}))})(o,c,a),(0,f.jsx)(be.g,{title:d._s.get("web-player.your-dj.jumpbutton.tooltip.title"),description:d._s.get("web-player.your-dj.jumpbutton.tooltip.desc"),visible:s,id:Ie,showButtons:!1,hideOnClickOutside:!1,onSecondaryButtonClick:i.bind(null,!1),children:e})},ke="QCOTHVeqFuzk48jXWgZo",Ne="FfFBnd1uDEw1InxHQ0qH",Oe="gz2GniKBjqOxz_h42OyW",Pe="YbyAOAYxlcOzbTRzrkQB",je="MF5w3CEK1IlPav2WFWEv";let Le=function(e){return e[e.xs=16]="xs",e[e.sm=24]="sm",e[e.md=32]="md",e}({});const Re=({onClick:e})=>{const t=(0,r.useRef)(null),n=xe(),s=(0,se.Q)(),{isYourDJContext:i,isYourDJNarrator:a}=(0,we.W)(),l=(0,r.useCallback)((()=>{n&&(s.skipTo(n),t.current?.hide(),e?.(n.uri))}),[s,n,e]);return i?a?null:n?(0,f.jsx)(Te,{api:t,children:(0,f.jsx)(_e.Yl,{label:d._s.get("web-player.your-dj.jumpbutton.tooltip.hover"),disabled:!n,children:(0,f.jsx)("button",{className:o()(ke,{[je]:!n}),onClick:l,children:(0,f.jsx)("div",{className:o()(Ne),children:(0,f.jsx)(ye.U,{iconSize:Le.xs,className:o()(Oe,{[Pe]:!n})})})})})}):null:null};var De=n(43264),Me=n(4564),Ue=n(33220),Fe=n(4732),Be=n(15708),Ge=n(60016),Ve=n(27892);const He=()=>{const e=(0,s.IP)(L.ikI,{loadingValue:!1}),t=((0,s.IP)(L.sxW,{loadingValue:!1}),(0,Me.OY)()),n=(0,Ue.i6)(),{openURLWithSessionTransfer:i}=(0,Ve.W)(),a=(0,r.useCallback)((()=>{t((0,Fe.mi)())}),[t]);return e?(0,f.jsx)(Be.c,{onClose:a,onConfirm:()=>{i(`${Ge.u6}&ref=desktop_dj`,"_blank"),a()},"aria-label":d._s.get("web-player.your-dj.upsell.premium.title"),titleText:d._s.get("web-player.your-dj.upsell.premium.title"),descriptionText:d._s.get("web-player.your-dj.upsell.premium.description"),confirmText:d._s.get("web-player.your-dj.upsell.premium.yes"),confirmLabel:"confirmLabel",cancelText:d._s.get("web-player.your-dj.upsell.premium.no")}):(0,f.jsx)(Be.c,{onClose:a,onConfirm:()=>{n(Ge.CI),a()},"aria-label":d._s.get("web-player.your-dj.upsell.notavailable.title"),titleText:d._s.get("web-player.your-dj.upsell.notavailable.title"),descriptionText:d._s.get("web-player.your-dj.upsell.notavailable.description"),confirmText:d._s.get("web-player.your-dj.upsell.notavailable.gotolink"),confirmLabel:"confirmLabel",cancelText:d._s.get("web-player.your-dj.upsell.notavailable.notnow")})};var We=n(8340),ze=n(29152),Ye=n(94952);const Ke="jX8Pj_YbmV67VCzIBeu8",qe="Nm6czFDGTSIZ0saTDdL4",Qe=()=>{const{isDJInLibrary:e,maybeAddDJToLibrary:t,addDJToLibrary:n,removeDJFromLibrary:s}=(0,j.g)(),i=(0,P.o)(),r=(0,P.U)(),a=(0,Ye.Q)(),o=(0,Me.OY)();return(0,f.jsxs)("div",{className:Ke,children:[(0,f.jsx)("h1",{children:"DJ Debug Window"}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{children:"Library"}),(0,f.jsxs)("h3",{children:["In Library: ",(0,f.jsx)("code",{children:e.toString()})]}),(0,f.jsx)(We.g,{size:"small",className:qe,onClick:()=>{t()},children:"Maybe add DJ to Library"}),(0,f.jsx)(We.g,{size:"small",className:qe,onClick:()=>{n()},children:"Add DJ to Library (forced)"}),(0,f.jsx)(We.g,{size:"small",className:qe,onClick:()=>{s()},children:"Remove DJ from Library (forced)"}),(0,f.jsx)(We.g,{size:"small",className:qe,onClick:()=>{o((0,Fe.S)())},children:"Trigger Upsell"})]}),(0,f.jsx)("hr",{}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{children:"Playback"}),(0,f.jsx)(We.g,{size:"small",className:qe,onClick:()=>{r.togglePlay()},children:"Toggle Play"})]}),(0,f.jsx)("hr",{}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{children:"Home Card"}),(0,f.jsx)(Y,{uri:ze.mO,title:i.metadata?.name||"",description:i.metadata?.description||"",forceAlwaysInView:!0})]}),(0,f.jsx)("hr",{}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{children:"Metadata"}),(0,f.jsxs)("p",{children:["Metadata: ",(0,f.jsx)("code",{children:JSON.stringify(i)})]}),(0,f.jsxs)("p",{children:["RemoteConfig: ",(0,f.jsx)("code",{children:a.toString()})]}),(0,f.jsxs)("p",{children:["isPlaying: ",(0,f.jsx)("code",{children:r.isPlaying.toString()})]}),(0,f.jsxs)("p",{children:["isActive: ",(0,f.jsx)("code",{children:r.isActive.toString()})]})]}),(0,f.jsx)("hr",{})]})}},99279:(e,t,n)=>{"use strict";n.d(t,{Uv:()=>s.Uv,gH:()=>s.gH,wE:()=>s.wE});var s=n(76232)},1032:(e,t,n)=>{"use strict";n.d(t,{aw:()=>v,Ut:()=>c.U,ol:()=>c.o,Q$:()=>f.Q,gb:()=>_.g,Wm:()=>y.W,kV:()=>g});var s=n(96651),i=n(4564),r=n(33220),a=n(4732),o=n(46736),l=n(33096),c=n(79180),d=n(29152),u=n(2488);const m=`/playlist/${d.e}`,p=()=>{const{lexiconContextUrl:e,metadata:t}=(0,c.o)(),{triggerPlay:n,isPlaying:r}=(0,c.U)(),o=(0,i.OY)();return(0,s.useCallback)((()=>{e&&t?r||n():o((0,a.S)())}),[e,r,n,o,t])},h=()=>{const e=p();return(0,s.useEffect)((()=>{e()}),[e]),(0,u.jsx)(o.InstrumentedRedirect,{to:"/"})},g=()=>{const e=p();return(0,l.h)((t=>t.pathname===m&&(e(),!0)),[e]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(r.kX,{path:m,element:(0,u.jsx)(h,{})},m)})};var f=n(94952),y=n(81796),_=n(72704),b=n(72544);function v(){const e=(0,f.Q)();return function(t,n){if(!e)return!1;const s=(0,b.g)(t,n).sectionItems.items[0];return"PlaylistResponseWrapper"===s.content.__typename&&"Playlist"===s.content.data.__typename}}},80620:(e,t,n)=>{"use strict";n.d(t,{MN:()=>l,Up:()=>o});var s=n(42504),i=n(56508);const r=new Map;let a=null;const o=()=>a||(a=new s.k((0,i.Y)()),a.subLoudness({},(e=>{r.has(e.playbackId)||(r.clear(),r.set(e.playbackId,[]));const t=r.get(e.playbackId),n=Math.min(1,Math.max(0,e.loudness[0]/80));t[Math.floor(Number(e.position/BigInt(40)))]=n})),a),l=(e,t)=>{if(!e)return;const n=r.get(e),s=Math.floor(t/40);return!n||s>=n.length?void 0:n[s]}},92136:(e,t,n)=>{"use strict";n.d(t,{I:()=>c});var s=n(4564),i=n(14788),r=n(12100),a=n(68964),o=n(36356),l=n(90332);function c(){const e=(0,o.iQ)({offset:0,limit:1}),{user:t}=(0,s.w1)(a.cx);if(null===e||!t?.id)return null;return{uri:(0,i.ML)(t.id,"your-episodes").toURI(),name:r._s.get("sidebar.your_episodes"),images:[],totalLength:e?.totalLength,owner:(0,l.G)(t)}}},32200:(e,t,n)=>{"use strict";n.d(t,{C:()=>h});var s=n(12100),i=n(72312),r=n(92236),a=n(52588),o=n(47668),l=n(38484),c=n(18656),d=n(92136),u=n(41768),m=n(2488);const p=({metadata:e,index:t})=>{const{isPlaying:n,togglePlay:c}=(0,a.I)({uri:e.uri},{featureIdentifier:"your_library"}),{name:d,images:p}=e;return(0,m.jsx)(i.M,{index:t,delegatePlayback:!0,delegateLogging:!0,isPlaying:n,featureIdentifier:"your_library",onPlay:(e,t)=>c({loggingParams:t}),headerText:d,uri:e.uri,renderCardImage:()=>(0,m.jsx)(r.y,{images:p,FallbackComponent:o.G}),renderSubHeaderContent:()=>(0,m.jsx)(l.C,{children:s._s.get("tracklist-header.episodes-counter",e.totalLength)}),className:u.c.yourEpisodesCard})},h=({index:e})=>{const t=(0,d.I)();return t?(0,m.jsx)(p,{metadata:t,index:e}):(0,m.jsx)(c.O,{cardImage:(0,m.jsx)(r.y,{FallbackComponent:o.G}),isLoading:!0})}},94672:(e,t,n)=>{"use strict";n.d(t,{w:()=>o,y:()=>l});var s=n(49232),i=n(37116),r=n(97876),a=n(15040);let o=function(e){return e[e.LIST=0]="LIST",e[e.GRID=1]="GRID",e}({});const l=()=>{const e=(0,r.QV)(),t=(0,s.IP)(a.WIf),[n,l]=(0,i.k)("items-view",o.LIST);return{itemsView:n,setItemsView:l,isGridView:n===o.GRID&&(t||e===r.MT.EXPANDED)&&e!==r.MT.COLLAPSED}}},97876:(e,t,n)=>{"use strict";n.d(t,{MT:()=>c,QV:()=>u,aM:()=>m,iu:()=>p});var s=n(96651),i=n(57200),r=n(77808),a=n(92280),o=n(81044),l=n(37116);let c=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.COLLAPSED=1]="COLLAPSED",e[e.EXPANDED=2]="EXPANDED",e}({});function d(){return(0,l.k)("ylx-sidebar-state",c.DEFAULT)}function u(){return d()[0]}function m(){return d()[0]===c.COLLAPSED}function p(){const e=(0,a.A)(),[t,n]=d(),l=(0,s.useRef)(c.DEFAULT);(0,s.useEffect)((()=>{t!==c.COLLAPSED&&(l.current=t)}),[t]);const u=!e,m=(0,o.Y)(`(min-width: ${i.ot.EXPANDED_MIN+3*r.In+r.SO}px)`)&&!e,p=(0,s.useCallback)((e=>{e===c.COLLAPSED&&!u||e===c.EXPANDED&&!m||n(e)}),[n,u,m]);return{ylxSidebarState:t,setYlxSidebarState:p,isCollapsed:t===c.COLLAPSED,isExpanded:t===c.EXPANDED,canCollapse:u,canExpand:m,lastUncollapsedYlxSidebarState:l.current}}},63972:(e,t,n)=>{"use strict";n.d(t,{c:()=>gr,YourLibraryX:()=>Da,a:()=>fr});n(73952),n(97296);var s=n(96651),i=n(10124),r=n.n(i),a=n(19240),o=n(4564),l=n(18648),c=n(71796),d=n(49232),u=n(50940),m=n(87832),p=n(44488),h=n(81604),g=n(47724),f=n(97120),y=n(95e3),_=n(2488);const b=s.memo((function({folderUri:e,onCreateCallback:t}){const n=e?{after:{uri:e}}:{before:"start"},{spec:s}=(0,f.A)(e??g.k1);return(0,_.jsx)(h.oL,{value:"folder",children:(0,_.jsxs)(p.i,{children:[(0,_.jsx)(y.Cq,{position:n,onCreateCallback:t,spec:s}),(0,_.jsx)(y.Sc,{position:n,onCreateCallback:t,spec:s})]})})}));var v=n(73670),x=n(49404),C=n.n(x),E=n(8708),S=n(66364),w=n(97876),I=n(44772),A=n(93948),T=n(43619);var k=n(47300),N=n(11816),O=n(35132),P=n(53044),j=n(87668);n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256);const L=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock","Hyper","Super","Enter","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Backspace","Clear","Copy","CrSel","Cut","Delete","EraseEof","ExSel","Insert","Paste","Redo","Undo","Accept","Again","Attn","Cancel","ContextMenu","Escape","Execute","Find","Help","Pause","Play","Props","Select","ZoomIn","ZoomOut","BrightnessDown","BrightnessUp","Eject","LogOff","Power","PowerOff","PrintScreen","Hibernate","Standby","WakeUp","AllCandidates","Alphanumeric","CodeInput","Compose","Convert","Dead","FinalMode","GroupFirst","GroupLast","GroupNext","GroupPrevious","ModeChange","NextCandidate","NonConvert","PreviousCandidate","Process","SingleCandidate","HangulMode","HanjaMode","JunjaMode","Eisu","Hankaku","Hiragana","HiraganaKatakana","KanaMode","KanjiMode","Katakana","Romaji","Zenkaku","ZenkakuHankaku","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Soft1","Soft2","Soft3","Soft4","ChannelDown","ChannelUp","Close","MailForward","MailReply","MailSend","MediaClose","MediaFastForward","MediaPause","MediaPlay","MediaPlayPause","MediaRecord","MediaRewind","MediaStop","MediaTrackNext","MediaTrackPrevious","New","Open","Print","Save","SpellCheck","Key11","Key12","AudioBalanceLeft","AudioBalanceRight","AudioBassBoostDown","AudioBassBoostToggle","AudioBassBoostUp","AudioFaderFront","AudioFaderRear","AudioSurroundModeNext","AudioTrebleDown","AudioTrebleUp","AudioVolumeDown","AudioVolumeUp","AudioVolumeMute","MicrophoneToggle","MicrophoneVolumeDown","MicrophoneVolumeUp","MicrophoneVolumeMute","SpeechCorrectionList","SpeechInputToggle","LaunchApplication1","LaunchApplication2","LaunchCalendar","LaunchContacts","LaunchMail","LaunchMediaPlayer","LaunchMusicPlayer","LaunchPhone","LaunchScreenSaver","LaunchSpreadsheet","LaunchWebBrowser","LaunchWebCam","LaunchWordProcessor","BrowserBack","BrowserFavorites","BrowserForward","BrowserHome","BrowserRefresh","BrowserSearch","BrowserStop","AppSwitch","Call","Camera","CameraFocus","EndCall","GoBack","GoHome","HeadsetHook","LastNumberRedial","Notification","MannerMode","VoiceDial","TV","TV3DMode","TVAntennaCable","TVAudioDescription","TVAudioDescriptionMixDown","TVAudioDescriptionMixUp","TVContentsMenu","TVDataService","TVInput","TVInputComponent1","TVInputComponent2","TVInputComposite1","TVInputComposite2","TVInputHDMI1","TVInputHDMI2","TVInputHDMI3","TVInputHDMI4","TVInputVGA1","TVMediaContext","TVNetwork","TVNumberEntry","TVPower","TVRadioService","TVSatellite","TVSatelliteBS","TVSatelliteCS","TVSatelliteToggle","TVTerrestrialAnalog","TVTerrestrialDigital","TVTimer","AVRInput","AVRPower","ColorF0Red","ColorF1Green","ColorF2Yellow","ColorF3Blue","ColorF4Grey","ColorF5Brown","ClosedCaptionToggle","Dimmer","DisplaySwap","DVR","Exit","FavoriteClear0","FavoriteClear1","FavoriteClear2","FavoriteClear3","FavoriteRecall0","FavoriteRecall1","FavoriteRecall2","FavoriteRecall3","FavoriteStore0","FavoriteStore1","FavoriteStore2","FavoriteStore3","Guide","GuideNextDay","GuidePreviousDay","Info","InstantReplay","Link","ListProgram","LiveContent","Lock","MediaApps","MediaAudioTrack","MediaLast","MediaSkipBackward","MediaSkipForward","MediaStepBackward","MediaStepForward","MediaTopMenu","NavigateIn","NavigateNext","NavigateOut","NavigatePrevious","NextFavoriteChannel","NextUserProfile","OnDemand","Pairing","PinPDown","PinPMove","PinPToggle","PinPUp","PlaySpeedDown","PlaySpeedReset","PlaySpeedUp","RandomToggle","RcLowBattery","RecordSpeedNext","RfBypass","ScanChannelsToggle","ScreenModeNext","Settings","SplitScreenToggle","STBInput","STBPower","Subtitle","Teletext","VideoModeNext","Wink","ZoomToggle"]);function R(e,t){const[n,i]=(0,s.useState)(""),r=(0,s.useRef)(n);r.current=n;const a=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const n=e.current;if(!n||!t)return i(""),()=>{};const s=e=>{const t="Backspace"===e.key,n=" "===e.key,s=e.metaKey||e.ctrlKey,o=e.target instanceof HTMLElement&&e.target?.matches("input, textarea, [contenteditable]"),l=e.isComposing||229===e.keyCode,c=(d=e.key,L.has(d)&&!t);var d;const u=n&&!r.current,m=t&&!r.current;if(s||o||l||c||u||m)return;(t&&r.current||n)&&(e.preventDefault(),e.stopPropagation()),i((n=>t?n.slice(0,-1):n+e.key)),a.current&&clearTimeout(a.current),a.current=setTimeout((()=>i("")),1e3)};return n.addEventListener("keydown",s,!0),()=>{n.removeEventListener("keydown",s,!0),a.current&&clearTimeout(a.current)}}),[e,t]),n}const D=(0,s.createContext)({setTypeaheadResult:({uid:e,str:t})=>{if(e||t)throw new Error("setTypeaheadResult must be used within a TypeaheadProvider")},typeaheadResult:{uid:null,str:""}}),M=({children:e,containerRef:t,findMatchingTypeaheadUid:n,isEnabled:i=!0})=>{const[r,a]=(0,s.useState)({uid:null,str:""}),o=(0,s.useMemo)((()=>({typeaheadResult:r,setTypeaheadResult:a})),[r,a]),l=R(t,i),c=(0,s.useRef)(l);c.current=l;const d=(0,s.useRef)(n);return d.current=n,(0,s.useEffect)((()=>{l&&i?d.current(l).then((e=>{l===c.current&&a({uid:e,str:l})})):a({uid:null,str:""})}),[i,l,a]),(0,_.jsx)(D.Provider,{value:o,children:e})},U="Vf3ww2_My5QuwUnbpzhu";var F=n(71624);const B=()=>{const{typeaheadResult:{str:e}}=(0,s.useContext)(D);return e?(0,_.jsx)(F.wR,{className:U,children:e}):null};var G=n(40636),V=n(8004),H=n(21212),W=n(12100),z=n(85988),Y=n(11732);const K="rLYEzyB9ic23aMurRbCh",q="NDD4b43wDJs8ZEk8nE0N",Q="/preferences",X=({spec:e})=>{const t=(0,w.aM)(),n=(0,G.Mk)(),i=W._s.get("web-player.your-library-x.dsa-message",W._s.get("web-player.your-library-x.dsa-message-link")),r=(0,s.useCallback)((()=>{n.logInteraction(e.dsaMessageSettingsLinkFactory().hitUiNavigate({destination:Q}))}),[n,e]);return(0,_.jsx)("div",{className:K,children:t?(0,_.jsx)(z.Yl,{label:(0,_.jsx)(V.a,{children:i}),placement:"right",showDelay:0,children:(0,_.jsx)("div",{className:q,children:(0,_.jsx)(H.i,{"aria-label":i})})}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{children:(0,_.jsx)(H.i,{size:"small"})}),(0,_.jsx)(V.a,{as:"p",semanticColor:"textSubdued",children:W._s.get("web-player.your-library-x.dsa-message",(0,_.jsx)(Y.default,{to:Q,onClick:r,search:"?highlight=dsa",children:W._s.get("web-player.your-library-x.dsa-message-link")}))})]})})},$="wW9brXu3G3dR9CQ77Tyk",J="sgpkGFrp4dcnre_TJtaI",Z=({className:e})=>(0,_.jsx)("section",{className:r()($,e),children:(0,_.jsxs)("div",{className:J,children:[(0,_.jsx)(V.a,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:W._s.get("web-player.your-library-x.empty-state-folder-title")}),(0,_.jsx)(V.a,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:W._s.get("web-player.your-library-x.empty-state-folder-subtitle")})]})});var ee=n(85712),te=n(8340),ne=n(97192);const se="xi3ytXbuSuzCYy5LwjFu",ie="OcOr6YadMDDeh_NPgClX",re="eL94fWmhg6WbrdKZfGEW",ae=(0,s.memo)((function(e){const{message:t,title:n,linkTitle:s,linkTo:i,onClick:a,className:o}=e;return(0,_.jsxs)("section",{className:r()(se,o),children:[(0,_.jsxs)("div",{className:ie,children:[(0,_.jsx)(V.a,{variant:"bodyMediumBold",semanticColor:"textBase",children:n}),(0,_.jsx)(V.a,{variant:"bodySmall",semanticColor:"textBase",children:t})]}),(0,_.jsx)("div",{className:re,children:s&&(i||a)&&(0,_.jsx)(te.g,{className:re,as:a?"button":void 0,colorSet:"invertedLight",href:i,onClick:a,component:ne.m,size:"small",children:s})})]})}));var oe=n(17456);const le=({className:e})=>{const{createPlaylist:t}=(0,ee.c)(),n=(0,s.useCallback)((()=>{t()}),[t]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(oe.aV,{renderInline:!1,children:(0,_.jsx)(ae,{onClick:n,linkTitle:W._s.get("web-player.your-library-x.empty-state-playlists-cta"),title:W._s.get("web-player.your-library-x.empty-state-playlists-title"),message:W._s.get("web-player.your-library-x.empty-state-playlists-subtitle"),className:e})}),(0,_.jsx)(ae,{linkTo:"/genre/podcasts-web",linkTitle:W._s.get("web-player.your-library-x.empty-state-podcasts-browse"),title:W._s.get("web-player.your-library-x.empty-state-podcasts-to-follow"),message:W._s.get("web-player.your-library-x.empty-state-podcasts-keep-you-updated"),className:e})]})},ce="JouuH90_RNAdTj0ZjcCA",de="YtlFVHxvaGSz4vJdDdEa",ue="spFG_i1jkxOkxb1_SaLJ",me="_8ZKfG3dOxfcr9Yyy5cv",pe=({query:e,className:t})=>(0,_.jsxs)("div",{className:r()(ce,t),"":"no-search-results-view",children:[(0,_.jsx)(V.a,{as:"h1",variant:"bodyMediumBold",className:de,children:W._s.get("web-player.your-library-x.empty-results-title-short",(0,_.jsx)("span",{className:ue,children:(0,_.jsx)("span",{className:me,children:e})}))}),(0,_.jsx)(V.a,{as:"h2",variant:"bodySmall",children:W._s.get("web-player.your-library-x.empty-results-text-short")})]});var he=n(99070);const ge="yrUQENj0tMcKDW5v0mfb",fe="jsT0vJ8rWXPMeoFsMdNK",ye=({onClick:e})=>(0,_.jsxs)("div",{className:ge,children:[(0,_.jsx)("div",{className:"icon",children:(0,_.jsx)(he.x,{size:"xlarge",semanticColor:"textBase"})}),(0,_.jsxs)("div",{className:fe,children:[(0,_.jsx)(V.a,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:W._s.get("web-player.your-library-x.error-title")}),(0,_.jsx)(V.a,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:W._s.get("web-player.your-library-x.error-body")})]}),(0,_.jsx)("div",{children:(0,_.jsx)(te.g,{onClick:e,colorSet:"invertedLight",size:"small",children:W._s.get("web-player.your-library-x.error-button")})})]}),_e=(0,s.createContext)(null);var be=n(37116);const ve=({children:e})=>{const t=function(){const[e,t]=(0,be.k)("ylx-expanded-folders",[]),n=(0,s.useCallback)((t=>e.includes(t)),[e]),i=(0,s.useCallback)(((n,s)=>{const i=e.indexOf(n);if(s){if(-1!==i)return;t([...e,n])}else{if(-1===i)return;t(e.filter((e=>e!==n)))}}),[e,t]);return{expandedFolders:e,getIsFolderExpanded:n,setIsFolderExpanded:i}}();return(0,_.jsx)(_e.Provider,{value:t,children:e})},xe="main-yourLibraryX-listItemGroup",Ce="main-yourLibraryX-listItemGroupCompact",Ee="Ks_qLLEMUQzP7ejeQCwQ",Se="main-yourLibraryX-listRowIconWrapper",we="vR1zUcAr6PBeHIvA_K13",Ie="main-yourLibraryX-isFlattened",Ae="main-yourLibraryX-rowCover",Te="Pns6F5g4OEwEpdmOWTLg",ke="gOCoOAfYUiOq2RlMCOjr",Ne="eldivguzYznZgQoShJbe",Oe="rTLczxlwElfe8CeNpuh6",Pe="main-yourLibraryX-libraryItem",je="pFmiujkSoJU4nVLZNO32",Le="raKUx1vRBRjpm8xR2bIV",Re="jNqzRycGQMLmnhgQNqxy",De="Q955MS3fMIZGQAtvDYCq",Me="cVy6fGx6QtJbCnID7XdB",Ue="main-yourLibraryX-listItem",Fe="IKhOc8pMvjcJEY5EP8GW",Be=({isScrolled:e})=>(0,_.jsxs)("div",{className:r()(Pe,Le,{[Re]:e}),children:[(0,_.jsx)(V.a,{variant:"marginalBold",semanticColor:"textSubdued",children:W._s.get("web-player.your-library-x.expanded-list-header.title")}),(0,_.jsx)(V.a,{variant:"marginalBold",semanticColor:"textSubdued",children:W._s.get("web-player.your-library-x.expanded-list-header.date-added")}),(0,_.jsx)(V.a,{variant:"marginalBold",semanticColor:"textSubdued",children:W._s.get("web-player.your-library-x.expanded-list-header.played-at")})]});n(41260);var Ge=n(30948),Ve=n(91128),He=n(21396),We=n(92628),ze=n(3844),Ye=n(97976);const Ke="main-yourLibraryX-libraryOnDrop",qe="as7TWnIA1jnumFte_u0R",Qe="main-yourLibraryX-libraryBeforeDrop",Xe="main-yourLibraryX-libraryAfterDrop",$e="V57QBvW1q79gFmT8NBvz",Je={marginBlockEnd:0,willChange:"transform, opacity"},Ze=({filterId:e,isPrimaryFilter:t,isPlaceholder:n,resetFilterIds:i,toggleFilterId:a,allowedDropTargetMimeTypes:o=Ye.qq,className:l,ChipComponent:c=We.a,innerRef:d,index:u=0,spec:m,...p})=>{const h=(0,G.Mk)(),g=(0,ze.u)(),f=p.selected,y=e?g.getFilterLabel(e):"",b=(0,s.useCallback)((()=>{!e||f&&t?(i(),f&&t&&e?h.logInteraction(m.filterChipFactory({identifier:y,position:u}).hitClearFilter()):h.logInteraction(m.clearButtonFactory().hitClearFilter())):(a(e),f?h.logInteraction(m.filterChipFactory({identifier:y,position:u}).hitClearFilter()):h.logInteraction(m.filterChipFactory({identifier:y,position:u}).hitFilter()))}),[e,y,f,t,i,a,u,h,m]),v=(0,s.useCallback)((e=>{e.detail>1||n||b()}),[n,b]),{className:x,dropPosition:C,...E}=(0,Ye.eE)({allowedMimeTypesByDropPosition:{[Ye.Ab.ON]:o},onLongDragOver:b});return(0,_.jsx)(c,{...p,"aria-label":p["aria-label"],...E,...C===Ye.Ab.ON?{selectedColorSet:"base"}:void 0,className:r()(l,x,{[qe]:C===Ye.Ab.ON,[$e]:n}),onClick:v,selectedColorSet:C===Ye.Ab.ON?"invertedDark":"invertedLight",secondary:f&&!t,style:Je,ref:d,tabIndex:-1})},et=[{id:"p1",name:"Playlists"},{id:"p2",name:"Podcasts & Shows"},{id:"p3",name:"Artists"},{id:"p4",name:"Albums"}],tt=(0,s.memo)((function({availableFilters:e,selectedFilters:t,toggleFilterId:n,resetFilterIds:i,className:r,spec:a}){const o=!(t||e),l=o?et:[...t??[],...e??[]],c=(0,s.useRef)(null),d=(0,s.useCallback)((()=>{(0,He.BA)(c.current,c.current?.nextElementSibling instanceof HTMLElement?c.current?.nextElementSibling:null),i()}),[i]);return 0===l.length?null:(0,_.jsxs)(Ve.E,{className:r,ariaLabel:W._s.get("web-player.your-library-x.filter_options"),children:[!!t?.length&&(0,_.jsx)(Ze,{resetFilterIds:d,toggleFilterId:n,allowedDropTargetMimeTypes:ja,ChipComponent:Ge.E,"aria-label":W._s.get("web-player.your-library-x.clear_filters"),innerRef:c,spec:a}),l.map(((e,s)=>{const r=t?.includes(e),l=0===s;return(0,_.jsx)(Ze,{filterId:e.id,isPrimaryFilter:l,isPlaceholder:o,resetFilterIds:i,toggleFilterId:n,selected:r,spec:a,index:s,children:e.name},e.id)}))]})}));var nt=n(78808);const st="",it=(0,s.createContext)({openedFolderUri:st,pushFolder:()=>{},popFolder:()=>{},resetFolder:()=>{},change:"PUSH"}),rt=({children:e})=>{const{setFilter:t}=(0,s.useContext)(nt.on),[n,i]=(0,be.k)("opened-folder-uri",st),r=(0,s.useRef)([n??st]),a=(0,s.useRef)("PUSH"),o=(0,s.useCallback)((e=>{i(e),t(st)}),[i,t]),l=(0,s.useCallback)((e=>{r.current.push(e),a.current="PUSH",o(r.current.at(-1))}),[o]),c=(0,s.useCallback)((()=>{r.current.pop();const e=r.current.at(-1);return a.current="POP",o(e),e}),[o]),d=(0,s.useCallback)((()=>{r.current=[st],o(st)}),[o]);return(0,_.jsx)(it.Provider,{value:{openedFolderUri:n,pushFolder:l,popFolder:c,resetFolder:d,change:a.current},children:e})};var at=n(25620),ot=n(26208),lt=n(2284);n(39568);const ct=({span:e,onInView:t,marginBottom:n,marginTop:i})=>{const r=(0,s.useRef)(null);return(0,s.useEffect)((()=>{if(!window.IntersectionObserver)return()=>{};const e=new window.IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&t()}))}));return r.current&&e.observe(r.current),()=>{e.disconnect()}}),[t]),e<=0?null:(0,_.jsx)("div",{style:{gridColumn:"1/-1",gridRow:`span ${e}`,marginBottom:n,marginTop:i},ref:r,"data-type":"sentinel"},"topSentinel")},dt=({renderItems:e,nrItems:t,estimatedItemMaxHeight:n,scrollNodeRef:i,nrRowsOverscan:r=5,initalNrRows:a=5,onGridResize:o})=>{const[l,c]=(0,s.useState)({firstRowToRender:0,nrRows:a+r}),d=(0,s.useRef)(0),u=(0,s.useRef)(null),m=(0,s.useRef)(n),p=(0,at.m)(),h=(0,s.useCallback)((()=>{const e=u.current?.querySelector(':scope > *:not([data-type="sentinel"])');m.current=e?e.getBoundingClientRect().height+p.COLUMN_GRID_GAP:m.current}),[p]),g=(0,s.useCallback)((()=>{const e=i.current;if(!e)return;h();const t=Math.floor((e.scrollTop-d.current)/m.current),n=Math.max(t-r,0),s=Math.ceil(e.offsetHeight/m.current)+2*r;n===l.firstRowToRender&&s===l.nrRows||c({firstRowToRender:n,nrRows:s})}),[r,l,i,h]),f=(0,s.useCallback)((({columnCount:n})=>{if(n<=0)return[null];o&&o(n,m.current);const s=Math.ceil(t/n),i=l.firstRowToRender*n,a=l.firstRowToRender+l.nrRows-1,c=Math.min(t-1,(a+1)*n-1),d=m.current*(r-2);return[(0,_.jsx)(ct,{span:l.firstRowToRender,onInView:g,marginBottom:`-${d}px`},`topSentinel-${l.firstRowToRender}`),e(i,c,n),(0,_.jsx)(ct,{span:s-a,onInView:g,marginTop:`-${d}px`},"bottomSentinel-"+(s-a))]}),[t,r,o,g,e,l]);return(0,s.useEffect)((()=>{const e=u.current,t=i.current;e&&t&&(d.current=e.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop)}),[i]),(0,_.jsx)(lt.C,{useUniformRowHeight:!0,ref:u,render:f,onLayoutChange:h})};var ut=n(70396),mt=n(52276),pt=n(4732),ht=n(25676),gt=n(7004),ft=n(94768),yt=n(52588),_t=n(94192),bt=n(33644),vt=n(19424),xt=n(14788),Ct=n(93320),Et=n(28080),St=n(65368);const wt=({iconSize:e="small"})=>(0,_.jsx)("span",{className:we,children:(0,_.jsx)(St.Q,{size:e,semanticColor:"textBrightAccent",className:Se})});var It=n(24544),At=n(5508),Tt=n(99279);const kt=({children:e,title:t,subtitleSlot:n,isPlaying:s})=>{const i=(0,d.IP)(It.Sw);return(0,_.jsx)(z.Yl,{label:(0,_.jsxs)("div",{className:r()("encore-dark-theme","encore-layout-themes",{"vertical-metrics":i},Oe),children:[(0,_.jsxs)("div",{children:[t,n]}),s&&(0,_.jsx)(wt,{})]}),placement:"right",showDelay:0,children:e})},Nt=e=>{const t=(0,s.useRef)(null);return(0,Tt.gH)(e.uri)?(0,_.jsx)(At.cr,{parentRef:e.parentRef,api:t,children:(0,_.jsx)(kt,{...e})}):(0,_.jsx)(kt,{...e})};var Ot=n(67316),Pt=n(6128),jt=n(91844);const Lt=({leading:e,subtitle:t,uri:n})=>{const s=`listrow-subtitle-${n}`;return(0,_.jsx)("div",{className:jt.c.subtitle,children:(0,_.jsxs)(Ot.A,{lineClamp:1,className:jt.c.link,id:s,dir:"auto",children:[(0,_.jsx)("span",{className:jt.c.subtitleLeadingWrapper,children:e}),t]})})},Rt=({leading:e,subtitle:t,uri:n})=>{const s=`card-subtitle-${n}`;return(0,_.jsx)("div",{className:jt.c.subtitle,children:(0,_.jsxs)(Pt.w,{lineClamp:1,className:jt.c.link,id:s,role:"gridcell",dir:"auto",children:[(0,_.jsx)("span",{className:jt.c.subtitleLeadingWrapper,children:e}),t]})})};var Dt=n(33220),Mt=n(45008),Ut=n(14868),Ft=n(7300),Bt=n(47824);var Gt=n(54584);const Vt={state:{referrer:"your_library",preventMoveFocus:!0}};function Ht(e,t,n,i){const{filter:r}=(0,s.useContext)(nt.on),{isActive:a}=(0,_t.kP)(e),o=function(e){const{typeaheadResult:{uid:t,str:n}}=(0,s.useContext)(D);return t===e?n:null}(e),l=!!o,c=(0,Bt.W)({uri:e,type:"link"})?(0,Gt.oP)(t):t,d=(0,s.useRef)(null),u=(0,Dt.i6)(),m=(0,s.useCallback)((e=>{e.preventDefault(),i?i():c&&u(c,Vt)}),[i,u,c]);(0,s.useLayoutEffect)((()=>{l&&d.current?.closest('[role="row"], [role="listitem"]')?.querySelector("button")?.focus({preventScroll:!0})}),[l]);return{isActive:a,onClick:m,contents:r||o?(0,_.jsx)("span",{ref:d,children:(0,_.jsx)(ft.S,{autoEscape:!0,searchWords:[r.trim(),...o?.split(" ")??""],textToHighlight:n})}):n}}const Wt=({uri:e,playbackUri:t=e,title:n,menu:s,to:i=(0,xt.nX)(e)?.toURLPath(!0)||"",handleNavigate:a})=>{const{isActive:o,contents:l}=Ht(t,i,n,a),c=`listrow-title-${e}`;return(0,_.jsx)(Ft.U,{menu:s,children:(0,_.jsx)(Mt.Y,{id:c,lineClamp:1,className:r()(jt.c.link,jt.c.titleLink),semanticColor:o?"textBrightAccent":"textBase",dir:"auto",children:l})})},zt=({uri:e,playbackUri:t=e,title:n,menu:s,to:i=(0,xt.nX)(e)?.toURLPath(!0)||"",handleNavigate:a})=>{const{isActive:o,onClick:l,contents:c}=Ht(t,i,n,a);return(0,_.jsx)(Ft.U,{menu:s,children:(0,_.jsx)(Ut.O,{lineClamp:1,className:r()(jt.c.link,jt.c.titleLink),semanticColor:o?"textBrightAccent":"textBase",href:i,onClick:l,role:"gridcell",dir:"auto",children:c})})};var Yt=n(62528),Kt=n(6812);const qt=[Yt.__.ALBUMS,Yt.__.ARTISTS,Yt.__.PLAYLISTS_V2,Yt.__.SHOWS,Yt.__.FOLDERS,Yt.__.PSEUDO_PLAYLISTS],Qt=[Yt.__.PLAYLISTS_V2,Yt.__.FOLDERS];var Xt=n(75552),$t=(n(91372),n(16824)),Jt=n(15708);const Zt=({isConfirmationForPlaylist:e,onConfirm:t,onClose:n})=>{const s=e?W._s.get("web-player.your-library-x.unpin-confirmation-dialog.title-playlist"):W._s.get("web-player.your-library-x.unpin-confirmation-dialog.title-folder");return(0,_.jsx)(Jt.c,{"aria-label":s,titleText:s,descriptionText:e?W._s.get("web-player.your-library-x.unpin-confirmation-dialog.message-playlist"):W._s.get("web-player.your-library-x.unpin-confirmation-dialog.message-folder"),onConfirm:t,onClose:n,confirmText:W._s.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-text"),confirmLabel:e?W._s.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-label-playlist"):W._s.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-label-folder"),cancelText:W._s.get("web-player.your-library-x.unpin-confirmation-dialog.cancel-button-text"),allowHTML:!0})};function en({onApplyDrop:e,spec:t,isDropTargetPinned:n}){const i=(0,ze.u)(),{contains:r}=(0,$t.U)("ylpin"),[a,o]=(0,s.useState)(null),l=(0,s.useCallback)((async(t,s)=>{if(n)return void e(t,s);const{[Yt.__.PLAYLISTS_V2]:i=[],[Yt.__.FOLDERS]:a=[]}=t,l=[...i,...a];if(!!l.length&&(await r(...l)).some(Boolean)){if(l.length>1)throw new Error("Reordering multiple pinned items at once is not supported");o({dropData:t,dropPosition:s})}else e(t,s)}),[n,r,e]),c=(0,G.Mk)();return{applyDropWithUnpinConfirmation:l,unpinConfirmationDialog:a?(0,_.jsx)(Zt,{isConfirmationForPlaylist:!a.dropData[Yt.__.FOLDERS]?.length,onClose:()=>o(null),onConfirm:async()=>{const{[Yt.__.PLAYLISTS_V2]:n=[],[Yt.__.FOLDERS]:s=[]}=a.dropData;await i.unpin([...n,...s][0]),t?.dragUnpinItem&&c.logInteraction(t.dragUnpinItem({itemToUnpin:[...n,...s][0]})),e(a.dropData,a.dropPosition),o(null)}}):null}}var tn=n(43460);function nn(){const{dropOriginUri:e,sectionId:t}=(0,s.useContext)(tn.gT);return{dropOriginIsYLX:e===g.k1,entityIsInFolder:t>0}}function sn(){const e=(0,P.Y)(),{dropOriginIsYLX:t}=nn();return(0,s.useCallback)((async(n,s)=>{const i=await e.contains(n);if(1!==new Set(i).size)throw new Error("Dropping a mix of newly added and moved playlists is not supported");if(i[0]){if(n.length>1)throw new Error("Moving multiple playlists at once is not supported");t?await e.move({uri:n[0]},s):await e.move({uri:n[0]},s,!0)}else await e.add(n,s)}),[t,e])}function rn({dropTargetUri:e,spec:t,isDropTargetPinned:n}){const i=(0,P.Y)(),r=(0,s.useContext)(A.g),a=(0,G.Mk)(),o=sn(),l=(0,s.useCallback)((async(s,l)=>{const{[Yt.__.PLAYLISTS_V2]:c=[],[Yt.__.FOLDERS]:[d]=[]}=s,u=l===Ye.Ab.BEFORE?{before:{uri:e}}:{after:{uri:e}};if(n){const e=s[Object.keys(s)[0]][0];if((0,xt.mS)(e)||(0,xt.Gm)(e)){const t=an((await i.getContents()).items,e);-1===t?await i.add([e],{before:"start"}):t>0&&((0,xt.mS)(e)?await i.move({uri:e},{before:"start"}):await i.moveFolder({uri:e},{before:"start"}))}else if(!(0,xt.W8)(e)){const[t]=await r.contains(e);t||await r.add({uris:[e]})}await r.pin(e,u),a.logInteraction(t.dragPinItem({itemToPin:e}))}else d?await i.moveFolder({uri:d},u):c.length&&await o(c,u);a.logInteraction(t.dragSort())}),[e,n,r,a,t,i,o]),{unpinConfirmationDialog:c,applyDropWithUnpinConfirmation:d}=en(n?{onApplyDrop:l,spec:t,isDropTargetPinned:n}:{onApplyDrop:l});return{handleDropBeforeOrAfterRootlistItem:(0,s.useCallback)((async(e,t)=>{const{[Yt.__.PLAYLISTS_V2]:n=[],[Yt.__.FOLDERS]:s=[]}=e;if(n.length&&s.length)throw new Error("Dropping a mix of playlists and folders is not supported");if(s.length>1)throw new Error("Dropping multiple folders is not supported");d(e,t)}),[d]),unpinConfirmationDialog:c}}function an(e,t,n=0){for(const s of e)if((0,Xt.Yb)(s)||(0,Xt.u4)(s)){if((0,xt.mG)(s.uri,t))return n;if((0,Xt.u4)(s)){const e=an(s.items,t,n+1);if(-1!==e)return e}}return-1}const on={state:{referrer:"your_library",preventMoveFocus:!0}};function ln({uri:e,to:t=(0,xt.nX)(e)?.toURLPath(!0)||"",type:n,handleNavigate:i,dragLabel:r,isPinned:a,canReorder:o,allowedDropTargetDropOnMimeTypes:l=[],onDropTargetDropOn:c,onLongDragOver:d,openDeleteDialog:u,togglePlay:m,isItemInGrid:p,playInsteadOfNavigating:h=!1,isPlaying:f,isActive:y,spec:_,folderDepth:b}){const v=(0,Bt.W)({uri:e,type:"link"})?(0,Gt.oP)(t):t,x=(0,Dt.i6)(),C=(0,Dt.IT)(),E=(0,s.useCallback)((()=>{x(v,on)}),[x,v]),S=(0,G.Mk)(),w=(0,s.useRef)(0),I=(0,s.useRef)(null),A=(0,s.useCallback)((({target:e})=>e instanceof HTMLElement&&!I.current?.contains(e)),[]),T=(0,s.useCallback)((t=>{if(!A(t)){if(t.preventDefault(),t.currentTarget.scrollIntoView({block:"nearest"}),h){if(w.current>Date.now())return;return w.current=Date.now()+300,void(f||(m?.(),S.logInteraction(_.yourLibraryItemFactory().hitPlay({itemToBePlayed:e}))))}i?i():v&&x(v,{...on,replace:v===C.pathname}),S.logInteraction(_.yourLibraryItemFactory().hitUiNavigate({destination:e}))}}),[A,h,i,v,S,_,e,m,f,x,C.pathname]),k=(0,s.useCallback)((t=>{h||A(t)||m&&(y?f?S.logInteraction(_.yourLibraryItemFactory().doubleHitPause({itemToBePaused:e})):S.logInteraction(_.yourLibraryItemFactory().doubleHitResume({itemToBeResumed:e})):S.logInteraction(_.yourLibraryItemFactory().doubleHitPlay({itemToBePlayed:e})),m?.())}),[A,h,m,y,f,S,_,e]),N=(0,s.useCallback)((()=>{S.logInteraction(_.yourLibraryItemFactory().secondaryHitUiReveal())}),[S,_]),O=(0,Kt.C)({itemUris:[e],itemMimeTypes:[(0,Yt.Mb)(n)],dragLabelText:r,sectionId:b??0,dropOriginUri:g.k1});let P=[];a?P=qt:o&&(P=Qt);const j={[Ye.Ab.ON]:l,[Ye.Ab.BEFORE]:P,[Ye.Ab.AFTER]:P},{handleDropBeforeOrAfterRootlistItem:L,unpinConfirmationDialog:R}=rn({dropTargetUri:e,spec:_,isDropTargetPinned:a}),D=(0,s.useCallback)(((e,t)=>{t===Ye.Ab.ON?c?.(e,t):t!==Ye.Ab.BEFORE&&t!==Ye.Ab.AFTER||L(e,t)}),[c,L]),{dropPosition:M,className:U,...F}=(0,Ye.eE)({uri:e,allowedMimeTypesByDropPosition:j,onDrop:D,onLongDragOver:d??E,reorderDirection:p?"horizontal":"vertical"}),B=(0,s.useCallback)((t=>{t.repeat||A(t)||("Backspace"!==t.key&&"Delete"!==t.key||!u||u(),"Enter"===t.key&&t.shiftKey&&m&&(t.preventDefault(),m()),"Enter"===t.key&&S.logInteraction(_.yourLibraryItemFactory().keyStrokeUiNavigate({destination:e})))}),[A,S,u,_,m,e]),V=(0,xt.nX)(C.pathname,{parseUnknown:!0})?.toURI();return{onClick:T,onDoubleClick:k,draggable:!!r,onDragStart:O,onKeyDown:B,unpinConfirmationDialog:R,dropPosition:M,dropTargetClassName:U,logRightClick:N,isViewActive:!!V&&(0,xt.mG)(e,V),itemRef:I,...F}}const cn=e=>{switch(e){case T.s.ALBUM:return W._s.get("web-player.your-library-x.type-album");case T.s.ARTIST:return W._s.get("web-player.your-library-x.type-artist");case T.s.FOLDER:return W._s.get("web-player.your-library-x.type-folder");case T.s.AUDIOBOOK:return W._s.get("web-player.your-library-x.type-audiobook");case T.s.YOUR_EPISODES:case T.s.LOCAL_FILES:case T.s.LIKED_SONGS:case T.s.PLAYLIST:return W._s.get("web-player.your-library-x.type-playlist");case T.s.SHOW:return W._s.get("web-player.your-library-x.type-show");case T.s.PRE_RELEASE:return W._s.get("web-player.your-library-x.type-prerelease-album");default:return(0,mt.E)(e)}},dn=e=>{switch(e){case T.s.YOUR_EPISODES:case T.s.LIKED_SONGS:case T.s.LOCAL_FILES:return T.s.PLAYLIST;default:return e}};var un=n(6836);const mn=s.createContext(!1),pn=({children:e,isCompact:t})=>(0,_.jsx)(mn.Provider,{value:t,children:e}),hn=()=>(0,s.useContext)(mn),gn="eB4weTwpV1CJo1Ycry5o",fn="TaQop0j2CNkuRamIFPJm",yn="XbKq21A9yavQTZY4fYcy",_n="DHzyoCWhWjunaSpGo3fm",bn="R7bnv14gXI2ndBOqFvCf",vn="eYs_j7mhACuywEjr6wf4",xn="IyHaBob4EvHvpR1d0aMt",Cn=({uri:e,to:t=(0,xt.nX)(e)?.toURLPath(!0)||"",handleNavigate:n,dragLabel:i,name:a,subtitle:o,cover:l,type:c,downloadButton:d,canReorder:u,allowedDropTargetDropOnMimeTypes:p,onDropTargetDropOn:h,onLongDragOver:g,menu:f,leading:y,openDeleteDialog:b,togglePlay:v,isPinned:x,shouldShowType:C,playbackUri:E,isPlaying:S,isActive:w,playInsteadOfNavigating:I,spec:A,index:T,animateClassName:k="",animateState:N})=>{const{onClick:O,onDoubleClick:P,draggable:j,onDragStart:L,onKeyDown:R,dropPosition:D,dropTargetClassName:M,unpinConfirmationDialog:U,logRightClick:F,isViewActive:B,itemRef:G,...V}=ln({uri:e,to:t,handleNavigate:n,dragLabel:i,isPinned:x,canReorder:u,allowedDropTargetDropOnMimeTypes:p,onDropTargetDropOn:h,openDeleteDialog:b,onLongDragOver:g,togglePlay:v,isItemInGrid:!0,isPlaying:S,isActive:w,spec:A,playInsteadOfNavigating:I}),H=(0,_.jsx)(zt,{uri:e,title:a,menu:f,handleNavigate:n,playbackUri:E}),W=(0,_.jsx)(Rt,{leading:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(un.i,{pinned:x}),d]}),subtitle:(0,_.jsxs)(_.Fragment,{children:[C&&cn(c),!!o&&C&&" • ",o]}),uri:e}),z=(0,s.useRef)(null),Y=hn();let K=(0,_.jsx)(m.UF,{menu:f,onShow:F,children:(0,_.jsx)(Et.P,{uri:e,trigger:Et.m.OnMouseDown,children:(0,_.jsx)(bt.M,{id:e,title:H,subtitle:W,media:l,size:"sm",leading:y,className:r()(gn,{[k]:N}),variant:B?"tinted":void 0,onClick:O,onDoubleClick:P,padding:vt.Uk,...V})})});return Y&&(K=(0,_.jsx)(Nt,{title:H,subtitleSlot:W,uri:e,isPlaying:S,parentRef:z,children:(0,_.jsx)("div",{children:(0,_.jsx)(m.UF,{menu:f,onShow:F,children:(0,_.jsx)(Et.P,{uri:e,trigger:Et.m.OnMouseDown,children:(0,_.jsx)(bt.M,{id:e,title:void 0,media:l,size:"sm",className:r()(gn,fn,{[k]:N}),variant:B?"tinted":void 0,onClick:O,onDoubleClick:P,padding:vt.yC,ref:z,...V})})})})})),(0,_.jsxs)(_.Fragment,{children:[U,(0,_.jsx)(Ct.I,{draggable:j,onDragStart:L,onKeyDown:R,className:r()(M,{[Ke]:D===Ye.Ab.ON,[Qe]:D===Ye.Ab.BEFORE,[Xe]:D===Ye.Ab.AFTER}),"aria-selected":w,innerRef:G,"aria-posinset":T,children:K})]})};var En=n(92236),Sn=n(24392),wn=n(44616),In=n(76892),An=n(62572),Tn=n(45176),kn=n(34328);const Nn=({name:e,uri:t,togglePlay:n,spec:i,isActive:a,isPlaying:o,size:l})=>{const c=(0,G.Mk)(),d=(0,s.useCallback)((()=>{a?o?c.logInteraction(i.yourLibraryItemFactory().doubleHitPause({itemToBePaused:t})):c.logInteraction(i.yourLibraryItemFactory().doubleHitResume({itemToBeResumed:t})):c.logInteraction(i.yourLibraryItemFactory().doubleHitPlay({itemToBePlayed:t})),n()}),[a,o,c,i,n,t]);return(0,_.jsx)("div",{className:r()(bn,{[xn]:o,[vn]:"small"===l}),role:"gridcell",children:(0,_.jsx)(kn.O,{isPlaying:o,onClick:d,ariaPlayLabel:W._s.get("playlist.a11y.play",e),ariaPauseLabel:W._s.get("playlist.a11y.pause",e),size:l})})},On=(0,s.memo)((function({title:e,type:t,images:n,isCircular:s,color:i,animateState:a,animateClassName:o=""}){const l=(0,Tn.S0)();return(0,_.jsx)(Sn.i,{fadeIn:!0,images:l(n,48),shape:s?Sn.O.CIRCLE:Sn.O.ROUNDED_CORNERS,size:wn.fm.SIZE_48,iconSize:"medium",type:t,title:e,className:r()(jt.c.entityImage,{[o]:a}),color:i,loadingMode:"eager"})})),Pn=(0,s.memo)((function({title:e,type:t,uri:n,images:i,isCircular:r,togglePlay:a,color:o,spec:l,isActive:c,isPlaying:u}){const m=(0,d.IP)(It.WI),p=hn(),h=(0,Tn.S0)(),[g,f]=(0,s.useState)("medium"),y=(0,s.useRef)(null);return(0,An.m)({onResize:({width:e})=>{f(e<90?"small":"medium")},refOrElement:y}),(0,_.jsx)("div",{className:_n,ref:y,children:(0,_.jsx)(En.y,{images:h(i,hi),FallbackComponent:e=>(0,_.jsx)(In.Y,{semanticColor:"textSubdued",type:t,size:"xxlarge",className:m?yn:"",...e}),isCircular:r,color:o,loadingMode:"eager",children:a&&!p&&(0,_.jsx)(Nn,{name:e,uri:n,togglePlay:a,spec:l,isActive:c,isPlaying:u,size:g})})})}));var jn=n(84400);const Ln="_ymJNIfklFmogab9uWY1",Rn=({folderDepth:e=0})=>(0,_.jsx)("li",{className:Ln,style:{"--ylx-folder-depth":e}}),Dn=e=>{const{RowVariantComponent:t,uri:n,to:i=(0,xt.nX)(n)?.toURLPath(!0)||"",handleNavigate:a,folderDepth:o,className:l,dragLabel:c,isPinned:d,canReorder:u,allowedDropTargetDropOnMimeTypes:m,onDropTargetDropOn:p,onLongDragOver:h,style:g,openDeleteDialog:f,togglePlay:y,isPlaying:b,isActive:v,type:x,menu:C,name:E,subtitle:S,downloadButton:w,expandFolderButton:I,cover:A,alt:T,addedAt:k,lastPlayedAt:N,shouldShowType:O,playbackUri:P,playInsteadOfNavigating:j,spec:L,nrValidItems:R,index:D,lockedIcon:M,onKeyDown:U,...F}=e,{onClick:B,onDoubleClick:G,onDragStart:V,onKeyDown:H,dropPosition:W,dropTargetClassName:z,draggable:Y,unpinConfirmationDialog:K,logRightClick:q,isViewActive:Q,itemRef:X,...$}=ln({uri:n,to:i,type:x,handleNavigate:a,dragLabel:c,isPinned:d,canReorder:u,allowedDropTargetDropOnMimeTypes:m,onDropTargetDropOn:p,onLongDragOver:h,openDeleteDialog:f,togglePlay:y,isPlaying:b,isActive:v,playInsteadOfNavigating:j,spec:L,folderDepth:o}),J=(0,s.useCallback)((e=>{H(e),U?.(e)}),[H,U]);return(0,_.jsxs)(_.Fragment,{children:[K,W===Ye.Ab.BEFORE&&(0,_.jsx)(Rn,{folderDepth:o}),(0,_.jsx)(jn.c,{style:{"--ylx-folder-depth":o,...g},draggable:Y,onDragStart:V,onDoubleClick:G,className:r()(l,z,Ue,{[Ke]:W===Ye.Ab.ON}),...F,...$,onKeyDown:J,innerRef:X,"aria-setsize":R,"aria-posinset":D+1,children:(0,_.jsx)(t,{...e,to:i,isActive:v,isViewActive:Q,onClick:B,logRightClick:q,playInsteadOfNavigating:j,parentRef:X})}),W===Ye.Ab.AFTER&&(0,_.jsx)(Rn,{folderDepth:o})]})};function Mn(e){const{uri:t,artists:n}=e,{filter:i}=(0,s.useContext)(nt.on),{isPlaying:r,isActive:a}=(0,_t.kP)(t),l=(0,o.OY)(),c=(0,s.useCallback)((()=>{l((0,pt.ED)(t))}),[l,t]),{togglePlay:d}=(0,yt.I)({uri:t},{featureIdentifier:"album",referrerIdentifier:"your_library"});return{isPlaying:r,isActive:a,openDeleteDialog:c,togglePlay:d,menu:(0,_.jsx)(ht.k,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),subtitleText:(0,_.jsx)(ft.S,{searchWords:[i.trim()],textToHighlight:n.at(0)?.name??""}),downloadButton:(0,_.jsx)(gt.g,{uri:t,size:"xsmall",className:jt.c.icon,as:"span"})}}const Un=({libraryItem:e,shouldShowType:t=!1,RowVariantComponent:n,spec:s,nrValidItems:i,index:r})=>{const{uri:a,images:o,name:l,pinned:c,type:d,addedAt:u,lastPlayedAt:m,color:p}=e,{isPlaying:h,isActive:g,openDeleteDialog:f,togglePlay:y,menu:b,subtitleText:v,downloadButton:x}=Mn(e),C=(0,_.jsx)(On,{title:l,type:d,images:o,color:p});return(0,_.jsx)(Dn,{RowVariantComponent:n,uri:a,cover:C,name:l,subtitle:v,downloadButton:x,alt:l,type:d,dragLabel:l,menu:b,togglePlay:y,openDeleteDialog:f,addedAt:u,lastPlayedAt:m,isPinned:c,isPlaying:h,isActive:g,shouldShowType:t,spec:s,nrValidItems:i,index:r})},Fn=({libraryItem:e,shouldShowType:t=!1,spec:n,index:s})=>{const{uri:i,images:r,name:a,pinned:o,type:l,color:c}=e,{togglePlay:d,menu:u,subtitleText:m,downloadButton:p,openDeleteDialog:h,isPlaying:g,isActive:f}=Mn(e),y=(0,_.jsx)(Pn,{title:a,type:l,images:r,uri:i,togglePlay:d,color:c,spec:n,isActive:f,isPlaying:g});return(0,_.jsx)(Cn,{uri:i,name:a,subtitle:m,menu:u,dragLabel:a,cover:y,downloadButton:p,type:l,togglePlay:d,isPinned:o,shouldShowType:t,openDeleteDialog:h,isPlaying:g,isActive:f,spec:n,index:s})};var Bn=n(33744);function Gn(e){const{uri:t}=e,n=(0,o.OY)(),{togglePlay:i}=(0,yt.I)({uri:t},{featureIdentifier:"artist",referrerIdentifier:"your_library"}),{isPlaying:r,isActive:a}=(0,_t.kP)(t);return{togglePlay:i,isPlaying:r,isActive:a,openDeleteDialog:(0,s.useCallback)((()=>{n((0,pt.ED)(t))}),[n,t]),menu:(0,_.jsx)(Bn.g,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0})}}const Vn=({libraryItem:e,shouldShowType:t,RowVariantComponent:n,spec:s,nrValidItems:i,index:r})=>{const{uri:a,images:o,name:l,type:c,addedAt:d,lastPlayedAt:u,pinned:m,color:p}=e,{togglePlay:h,isPlaying:g,isActive:f,openDeleteDialog:y,menu:b}=Gn(e),v=(0,_.jsx)(On,{title:l,type:c,images:o,isCircular:!0,color:p});return(0,_.jsx)(Dn,{RowVariantComponent:n,uri:a,cover:v,name:l,type:c,alt:l,dragLabel:l,menu:b,togglePlay:h,openDeleteDialog:y,addedAt:d,lastPlayedAt:u,isPlaying:g,isActive:f,isPinned:m,shouldShowType:t,spec:s,nrValidItems:i,index:r})},Hn=({libraryItem:e,shouldShowType:t,spec:n,index:s})=>{const{uri:i,images:r,name:a,type:o,pinned:l,color:c}=e,{togglePlay:d,menu:u,openDeleteDialog:m,isPlaying:p,isActive:h}=Gn(e),g=(0,_.jsx)(Pn,{title:a,type:o,images:r,uri:i,togglePlay:d,isCircular:!0,color:c,spec:n,isActive:h,isPlaying:p});return(0,_.jsx)(Cn,{uri:i,name:a,menu:u,dragLabel:a,cover:g,type:o,togglePlay:d,isPinned:l,shouldShowType:t,openDeleteDialog:m,isPlaying:p,isActive:h,spec:n,index:s})};var Wn=n(65076),zn=n(13080);const Yn=({locked:e})=>e?(0,_.jsx)(zn.i,{semanticColor:"textSubdued",title:W._s.get("mwp.header.content.unavailable"),className:jt.c.icon,size:"xsmall"}):null;function Kn(e){const{uri:t,authorName:n}=e,{filter:i}=(0,s.useContext)(nt.on),r=(0,o.OY)(),{isPlaying:a,isActive:l}=(0,_t.kP)(t);return{isPlaying:a,isActive:l,openDeleteDialog:(0,s.useCallback)((()=>{r((0,pt.ED)(t))}),[r,t]),menu:(0,_.jsx)(Wn.y,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),subtitleText:(0,_.jsx)(ft.S,{searchWords:[i.trim()],textToHighlight:n}),downloadButton:(0,_.jsx)(gt.g,{uri:t,size:"xsmall",className:jt.c.icon,as:"span"})}}const qn=({libraryItem:e,shouldShowType:t,RowVariantComponent:n,spec:s,nrValidItems:i,index:r})=>{const{uri:a,images:o,name:l,type:c,pinned:d,addedAt:u,lastPlayedAt:m,color:p}=e,{isPlaying:h,isActive:g,openDeleteDialog:f,menu:y,subtitleText:b,downloadButton:v}=Kn(e),x=(0,_.jsx)(On,{title:l,type:c,images:o,color:p}),C=(0,_.jsx)(Yn,{locked:e.isLocked});return(0,_.jsx)(Dn,{RowVariantComponent:n,uri:a,cover:x,name:l,subtitle:b,alt:l,dragLabel:l,menu:y,openDeleteDialog:f,addedAt:u,lastPlayedAt:m,isPlaying:h,isActive:g,isPinned:d,shouldShowType:t,type:c,spec:s,nrValidItems:i,lockedIcon:C,index:r,downloadButton:v})},Qn=({libraryItem:e,shouldShowType:t,spec:n,index:s})=>{const{uri:i,images:r,name:a,type:o,pinned:l,color:c}=e,{menu:d,subtitleText:u,openDeleteDialog:m,isPlaying:p,isActive:h,downloadButton:g}=Kn(e),f=(0,_.jsx)(Pn,{title:a,type:o,images:r,uri:i,color:c,spec:n,isActive:h,isPlaying:p});return(0,_.jsx)(Cn,{uri:i,name:a,subtitle:u,menu:d,dragLabel:a,cover:f,isPinned:l,shouldShowType:t,type:o,openDeleteDialog:m,isPlaying:p,isActive:h,spec:n,index:s,downloadButton:g})};var Xn=n(96560),$n=n(71912),Jn=n(89592),Zn=n(25272),es=n(79368),ts=n(73628),ns=n(90484);const ss=({uri:e,spec:t})=>{const{togglePlay:n,isPlaying:i,isActive:r}=(0,yt.I)({uri:e},{featureIdentifier:"folder"}),a=(0,G.Mk)(),o=(0,s.useCallback)((()=>{n(),t&&a&&(i?a.logInteraction(t.playButtonFactory({uri:e}).hitPause({itemToBePaused:e})):r?a.logInteraction(t.playButtonFactory({uri:e}).hitResume({itemToBeResumed:e})):a.logInteraction(t.playButtonFactory({uri:e}).hitPlay({itemToBePlayed:e})))}),[r,i,a,t,n,e]);return(0,_.jsx)(ns.I,{role:"menuitem",onClick:o,leadingIcon:i?(0,_.jsx)(es.A,{semanticColor:"textSubdued",size:"small"}):(0,_.jsx)(ts.Y,{semanticColor:"textSubdued",size:"small"}),children:i?W._s.get("pause"):W._s.get("play")})},is=s.memo((function(e){return(0,_.jsx)(h.oL,{value:"create-folder",children:(0,_.jsx)(ss,{...e})})}));var rs=n(60056);const as=({uri:e,name:t,divider:n,spec:i,handleRename:r})=>{const a=(0,G.Mk)(),l=(0,o.OY)(),c=(0,s.useCallback)((()=>{i&&a.logInteraction(i.editButtonFactory({uri:e}).hitUiReveal()),l((0,pt.qI)(t,r))}),[l,a,t,r,i,e]);return(0,_.jsx)(ns.I,{role:"menuitem",divider:n,onClick:c,leadingIcon:(0,_.jsx)(rs.G,{semanticColor:"textSubdued",size:"small"}),children:W._s.get("contextmenu.rename")})},os=s.memo((function(e){return(0,_.jsx)(h.oL,{value:"rename",children:(0,_.jsx)(as,{...e})})})),ls=s.memo((function({reference:e,name:t="",onRename:n,onCreateCallback:s=(()=>{}),onDeleteCallback:i,canPin:r=g.yu.NO,isPinned:a=!1}){const{spec:o}=(0,f.A)(e.uri);return(0,_.jsx)(h.oL,{value:"folder",children:(0,_.jsxs)(p.i,{children:[(0,_.jsx)(os,{spec:o,uri:e.uri,name:t,handleRename:n}),(0,_.jsx)(y.ol,{uri:e.uri,divider:"after",onDeleteCallback:i}),(r!==g.yu.NO||a)&&(0,_.jsx)(Zn.e,{uri:e.uri,canPin:r,isPinned:a,type:T.s.FOLDER,spec:o}),(0,_.jsx)(y.Cq,{position:{after:e},onCreateCallback:s,spec:o}),(0,_.jsx)(y.Sc,{position:{after:e},onCreateCallback:s,spec:o}),(0,_.jsx)(Jn.a,{uriToBeAdded:e.uri,isInLibrary:!0,spec:o}),(0,_.jsx)(is,{uri:e.uri,spec:o})]})})}));var cs=n(51528),ds=n(30140),us=n(13748),ms=n(37292),ps=n(29684),hs=n(51696);const gs=({uri:e})=>{const[t,n]=(0,s.useState)(!1),i=(0,s.useCallback)((()=>{n(!0),setTimeout((()=>{n(!1)}),500)}),[]);return(0,ds.l)(cs.Wg.OPERATION_COMPLETE,(t=>{"add"===t.data.operation&&"liked-songs"===e&&i()})),(0,ms.w)(us.Yh.OPERATION_COMPLETE,(t=>{"add"===t.data.operation&&e===t.data.uri&&i()})),(0,ps.e)(hs.KB.OPERATION_COMPLETE,(t=>{"remove"!==t.data.operation&&"end"!==t.data.position?.after&&t.data.position.after?.uri===e&&(0,xt.Gm)(e)&&i()})),{animateState:t,animateClassName:jt.c.pulse}};var fs=n(40104),ys=n(96768),_s=n(7228);function bs(e,t){const{createPlaylistFromAlbum:n,createPlaylistFromTracks:i}=(0,ee.c)(),r=(0,G.Mk)(),a=(0,P.Y)(),o=sn(),l=(0,s.useCallback)((n=>{if(!t)return;const{[Yt.__.PLAYLISTS_V2]:s=[],[Yt.__.FOLDERS]:i=[]}=n,l={after:{uri:t}};s.length&&(o(s,l),r.logInteraction(e.dragSort())),i.length&&(a.moveFolder({uri:i[0]},l),r.logInteraction(e.dragSort()))}),[o,r,a,e,t]),{unpinConfirmationDialog:c,applyDropWithUnpinConfirmation:d}=en({onApplyDrop:l});return{unpinConfirmationDialog:c,handleDropOnFolder:(0,s.useCallback)((async s=>{if(!t)return;const{[Yt.__.TRACKS]:a=[],[Yt.__.LOCAL_TRACKS]:o=[],[Yt.__.ALBUMS]:l=[],[Yt.__.EPISODES]:c=[],[Yt.__.PLAYLISTS_V2]:u=[],[Yt.__.FOLDERS]:m=[]}=s,p={after:{uri:t}};u.length||m.length?d(s,_s.Ab.ON):l.length?(n(l[0],p),r.logInteraction(e.yourLibraryItemFactory().dragCreatePlaylist())):(a.length||o.length||c.length)&&(i([...a,...o,...c],p),r.logInteraction(e.yourLibraryItemFactory().dragCreatePlaylist()))}),[t,d,n,r,e,i])}}const vs=[Yt.__.TRACKS,Yt.__.LOCAL_TRACKS,Yt.__.ALBUMS,Yt.__.EPISODES,Yt.__.PLAYLISTS_V2,Yt.__.FOLDERS];function xs(e,t){const{uri:n,name:i,numberOfFolders:r,numberOfPlaylists:a,pinned:l}=e,{isPlaying:c,isActive:d}=(0,_t.kP)(n),{pushFolder:u}=(0,s.useContext)(it),m=(0,o.OY)(),{togglePlay:p}=(0,yt.I)({uri:n},{featureIdentifier:"folder",referrerIdentifier:"your_library"}),h=(0,o.w1)((e=>e.platform.isDesktop)),{handleDropOnFolder:g,unpinConfirmationDialog:f}=bs(t,n),{renameFolder:y}=(0,fs.io)(),b=g,v=[a>0||!r?W._s.get("web-player.your-library-x.rows.folder.number-of-playlists",a):null,r>0?W._s.get("web-player.your-library-x.rows.folder.number-of-folders",r):null].filter(ys.g).join(W._s.getSeparator()),x=(0,s.useCallback)(((t="")=>{y(e,t)}),[e,y]),C=(0,s.useCallback)((()=>{u(e.uri)}),[e.uri,u]);return{openDeleteDialog:(0,s.useCallback)((()=>{m((0,pt.C2)(n))}),[m,n]),togglePlay:h?p:void 0,menu:(0,_.jsx)(ls,{reference:{uri:n},name:i,canPin:e.canPin,isPinned:l,onRename:x}),subtitleText:v,onDropTargetDropOn:b,handleNavigate:C,dropOnFolderUnpinConfirmationDialog:f,isPlaying:c,isActive:d}}const Cs=({libraryItem:e,RowVariantComponent:t,spec:n,nrValidItems:i,index:a})=>{const{uri:o,folderDepth:l,name:c,type:d,isFlattened:u,pinned:m,canReorder:p}=e,{openDeleteDialog:h,togglePlay:g,menu:f,subtitleText:y,onDropTargetDropOn:b,handleNavigate:v,dropOnFolderUnpinConfirmationDialog:x,isPlaying:C,isActive:E}=xs(e,n),[S,w]=function(e){const{getIsFolderExpanded:t,setIsFolderExpanded:n}=(0,s.useContext)(_e);return[(0,s.useMemo)((()=>t(e)),[t,e]),(0,s.useCallback)((t=>{n(e,t)}),[n,e])]}(o),I=(0,G.Mk)(),A=(0,s.useCallback)((()=>{w(!0),I.logInteraction(n.yourLibraryItemFactory().dragUiReveal())}),[I,w,n]),T=(0,s.useCallback)((e=>{e.stopPropagation()}),[]),k=(0,s.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),w(!S),S?I.logInteraction(n.yourLibraryItemFactory().toggleFolderButtonFactory().hitUiHide()):I.logInteraction(n.yourLibraryItemFactory().toggleFolderButtonFactory().hitUiReveal())}),[w,S,I,n]),N=(0,s.useCallback)((e=>{"ArrowLeft"===e.key?w(!1):"ArrowRight"===e.key&&w(!0)}),[w]),O=!u&&(0,_.jsx)(Xn.u,{"data-skip-in-keyboard-nav":!0,"aria-label":S?W._s.get("web-player.your-library-x.collapse-folder"):W._s.get("web-player.your-library-x.expand-folder"),iconOnly:$n.a,size:"small",condensedAll:!0,onClick:k,onDoubleClick:T,tabIndex:-1,className:r()(we,Ie,{[Me]:!S})}),{animateState:P,animateClassName:j}=gs({uri:o}),L=(0,_.jsx)(On,{title:c,type:d,animateState:P,animateClassName:j});return(0,_.jsxs)(_.Fragment,{children:[x,(0,_.jsx)(Dn,{onKeyDown:N,RowVariantComponent:t,uri:o,to:`/folder/${(0,xt.nX)(o)?.id??""}`,handleNavigate:v,folderDepth:l,cover:L,name:c,subtitle:y,alt:c,dragLabel:c,menu:f,canReorder:p,allowedDropTargetDropOnMimeTypes:vs,onDropTargetDropOn:b,onLongDragOver:A,togglePlay:g,openDeleteDialog:h,addedAt:e.addedAt,lastPlayedAt:e.lastPlayedAt,isPinned:m,shouldShowType:!1,type:d,isPlaying:C,isActive:E,expandFolderButton:O,spec:n,nrValidItems:i,index:a})]})},Es=({libraryItem:e,spec:t,index:n})=>{const{uri:s,name:i,type:r,pinned:a,canReorder:o}=e,{togglePlay:l,menu:c,subtitleText:d,onDropTargetDropOn:u,handleNavigate:m,openDeleteDialog:p,isPlaying:h,isActive:g}=xs(e,t),{animateState:f,animateClassName:y}=gs({uri:s}),b=(0,_.jsx)(Pn,{title:i,type:r,uri:s,togglePlay:l,spec:t,isActive:g,isPlaying:h});return(0,_.jsx)(Cn,{uri:s,to:`/folder/${(0,xt.nX)(s)?.id??""}`,handleNavigate:m,cover:b,name:i,subtitle:d,menu:c,dragLabel:i,canReorder:o,allowedDropTargetDropOnMimeTypes:vs,onLongDragOver:m,onDropTargetDropOn:u,togglePlay:l,isPinned:a,shouldShowType:!1,type:r,openDeleteDialog:p,isPlaying:h,isActive:g,spec:t,index:n,animateState:f,animateClassName:y})},Ss=s.memo((function({uri:e,canPin:t,isPinned:n,downloadUri:s}){const{spec:i}=(0,f.A)(e);return(0,_.jsx)(h.oL,{value:"generic",children:(0,_.jsxs)(p.i,{children:[s?(0,_.jsx)(y.YD,{spec:i,uri:s}):null,t!==g.yu.NO&&(0,_.jsx)(Zn.e,{uri:e,canPin:t,isPinned:n,type:T.s.PLAYLIST,spec:i})]})})}));var ws=n(68964);const Is=[Yt.__.TRACKS,Yt.__.LOCAL_TRACKS];function As(e){const{numberOfSongs:t}=e,n="spotify:collection:tracks",{user:i}=(0,o.w1)(ws.cx),r=(0,xt.ML)(i?.id).toURI(),a=r,l=r,{togglePlay:c}=(0,yt.I)({uri:a},{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),d=(0,s.useContext)(A.g),{isPlaying:u,isActive:m}=(0,_t.kP)(a),p=(0,s.useCallback)((e=>{const{[Yt.__.TRACKS]:t=[],[Yt.__.LOCAL_TRACKS]:n=[]}=e,s=[...t,...n];s?.length&&d?.add({uris:s})}),[d]);return{isPlaying:u,isActive:m,togglePlay:c,menu:(0,_.jsx)(Ss,{uri:n,canPin:e.canPin,isPinned:e.pinned,downloadUri:l}),downloadButton:(0,_.jsx)(gt.g,{uri:l,size:"xsmall",className:jt.c.icon,as:"span"}),subtitleText:(0,_.jsx)(_.Fragment,{children:W._s.get("web-player.your-library-x.rows.liked-songs.subtitle",t)}),onDropTargetDropOn:p,playbackUri:a,uri:n}}const Ts=({libraryItem:e,shouldShowType:t,RowVariantComponent:n,spec:s,nrValidItems:i,index:r})=>{const{images:a,name:o,type:l,pinned:c,addedAt:d,lastPlayedAt:u,color:m}=e,{isPlaying:p,isActive:h,togglePlay:g,menu:f,subtitleText:y,onDropTargetDropOn:b,playbackUri:v,uri:x,downloadButton:C}=As(e),{animateState:E,animateClassName:S}=gs({uri:"liked-songs"}),w=(0,_.jsx)(On,{title:o,type:l,images:a,color:m,animateState:E,animateClassName:S});return(0,_.jsx)(Dn,{RowVariantComponent:n,uri:x,cover:w,name:o,subtitle:y,alt:o,dragLabel:o,menu:f,allowedDropTargetDropOnMimeTypes:Is,onDropTargetDropOn:b,togglePlay:g,addedAt:d,lastPlayedAt:u,isPlaying:p,isActive:h,isPinned:c,shouldShowType:t,type:l,playbackUri:v,downloadButton:C,spec:s,nrValidItems:i,index:r})},ks=({libraryItem:e,shouldShowType:t,spec:n,index:s})=>{const{images:i,name:r,type:a,pinned:o,color:l}=e,{togglePlay:c,menu:d,subtitleText:u,onDropTargetDropOn:m,playbackUri:p,uri:h,downloadButton:g,isPlaying:f,isActive:y}=As(e),{animateState:b,animateClassName:v}=gs({uri:"liked-songs"}),x=(0,_.jsx)(Pn,{title:r,type:a,images:i,uri:p,togglePlay:c,color:l,spec:n,isActive:y,isPlaying:f});return(0,_.jsx)(Cn,{uri:h,name:r,subtitle:u,menu:d,dragLabel:r,allowedDropTargetDropOnMimeTypes:Is,onDropTargetDropOn:m,cover:x,togglePlay:c,isPinned:o,shouldShowType:t,type:a,playbackUri:p,downloadButton:g,isPlaying:f,isActive:y,spec:n,index:s,animateState:b,animateClassName:v})};var Ns=n(43756),Os=n(36332),Ps=n(31396),js=n(33876);function Ls(e){const{numberOfFiles:t}=e,n=js.d,s=(0,Ps.qw)().uri,{isPlaying:i,isActive:r}=(0,_t.kP)(n);return{playbackUri:n,uri:s,isPlaying:i,isActive:r,menu:(0,_.jsx)(Ss,{uri:s,canPin:e.canPin,isPinned:e.pinned}),downloadButton:(0,_.jsx)(Ns.E,{size:"xsmall",className:jt.c.icon,semanticColor:"textBrightAccent"}),subtitleText:W._s.get("web-player.your-library-x.rows.local-files.subtitle",t)}}const Rs=({libraryItem:e,shouldShowType:t,RowVariantComponent:n,spec:s,nrValidItems:i,index:r})=>{const{name:a,addedAt:o,lastPlayedAt:l,type:c,pinned:d}=e,{playbackUri:u,uri:m,isPlaying:p,menu:h,subtitleText:g,downloadButton:f,isActive:y}=Ls(e),b=(0,_.jsx)("div",{className:Ae,children:(0,_.jsx)(Os.u,{iconSize:24,title:a})});return(0,_.jsx)(Dn,{RowVariantComponent:n,uri:m,name:a,subtitle:g,alt:a,dragLabel:a,menu:h,addedAt:o,lastPlayedAt:l,isPinned:d,isPlaying:p,isActive:y,shouldShowType:t,playbackUri:u,downloadButton:f,cover:b,type:c,spec:s,nrValidItems:i,index:r})},Ds=({libraryItem:e,shouldShowType:t,spec:n,index:s})=>{const{name:i,images:r,type:a,pinned:o}=e,{playbackUri:l,uri:c,menu:u,downloadButton:m,subtitleText:p,isPlaying:h,isActive:g}=Ls(e),f=(0,d.IP)(It.WI),y=(0,_.jsx)("div",{className:_n,children:(0,_.jsx)(En.y,{images:r,FallbackComponent:e=>(0,_.jsx)(Os.u,{size:"xxlarge",className:f?yn:"",...e})})});return(0,_.jsx)(Cn,{uri:c,name:i,subtitle:p,menu:u,cover:y,type:a,playbackUri:l,downloadButton:m,isPinned:o,shouldShowType:t,isPlaying:h,isActive:g,spec:n,index:s})};var Ms=n(16228);const Us=({index:e,type:t})=>{const n=(0,d.IP)(It.WI),s=hn();return(0,_.jsx)(Ms.m_,{columnIndex:0,children:(0,_.jsx)(bt.M,{className:r()(gn,{[fn]:s}),media:(0,_.jsx)(En.y,{images:[],FallbackComponent:()=>(0,_.jsx)(In.Y,{type:t,size:"xxlarge",className:n?yn:"",semanticColor:"textSubdued"}),isCircular:t===T.s.ARTIST}),variant:"naked",id:e,title:"",padding:s?vt.yC:vt.Uk})})};var Fs=n(61540),Bs=n(23308),Gs=n(47132),Vs=n(31732),Hs=n(47876),Ws=n(95596),zs=n(94812),Ys=n(21844);const Ks=s.memo((function({reference:e,isPublished:t,canPin:n=g.yu.NO,isPinned:s=!1,useDialogForUnfollow:i=!1,isInLibrary:r}){const{uri:a}=e,o=(0,fs.mY)(a),l=!!o?.permissions?.isPrivate,c=(0,Gs.Q)(a)??o?.isPublished??t,{spec:d}=(0,f.A)(a),u=o?.hasSpotifyAudiobooks;return o&&(0,_.jsx)(h.oL,{value:"playlist",children:(0,_.jsxs)(p.i,{children:[!u&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(y.O0,{spec:d,uris:[a]}),(0,_.jsx)(Ws.c,{uri:a,spec:d})]}),!l&&(0,_.jsx)(y.TF,{spec:d,divider:o.isOwnedBySelf?"after":"both",uri:a,isPublished:c}),o.isOwnedBySelf&&(0,_.jsx)(y.QW,{spec:d,uri:a,name:o.name,description:o.description,image:o.images[0]}),!o.isOwnedBySelf&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(y.wD,{spec:d,uri:a}),(0,_.jsx)(Bs.Oq,{uri:a,useDialog:i,initialState:r})]}),o.isOwnedBySelf&&(0,_.jsx)(y.oG,{spec:d,uri:a}),!u&&(0,_.jsx)(y.YD,{spec:d,uri:a}),(0,_.jsx)(y.Cq,{position:{after:e},divider:"before",spec:d}),(0,_.jsx)(y.Sc,{position:{after:e},spec:d}),o.permissions?.canAdministratePermissions&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(y._Q,{spec:d,divider:"before",uri:a,isPrivate:l}),!u&&(0,_.jsx)(zs.w,{uri:a,spec:d})]}),o.permissions?.canCancelMembership&&(0,_.jsx)(Ys.g,{spec:d,divider:"before",uri:a}),(0,_.jsx)(y.Nw,{spec:d,uri:a}),(0,_.jsx)(Jn.a,{uriToBeAdded:a,isInLibrary:!0,spec:d}),!u&&(0,_.jsx)(Vs.y,{spec:d,uris:[a],isPlaylist:!0}),(n!==g.yu.NO||s)&&(0,_.jsx)(Zn.e,{uri:a,canPin:n,isPinned:s,type:T.s.PLAYLIST,spec:d}),(o.isOwnedBySelf||!l)&&(0,_.jsxs)(Hs.O,{divider:"before",children:[(0,_.jsx)(y.wZ,{spec:d,uri:a,displayText:W._s.get("contextmenu.share.copy-playlist-link"),isPrivatePlaylist:l}),(0,_.jsx)(y.o$,{spec:d,uri:a,type:T.s.PLAYLIST})]})]})})})),qs=s.memo((function({reference:e,canPin:t=g.yu.NO,isPinned:n=!1}){const{uri:s}=e,{spec:i}=(0,f.A)(s);return(0,_.jsx)(h.oL,{value:"playlist",children:(0,_.jsxs)(p.i,{children:[(0,_.jsx)(y.Cq,{position:{after:e},divider:"before",spec:i}),(0,_.jsx)(y.Sc,{position:{after:e},spec:i}),t!==g.yu.NO&&(0,_.jsx)(Zn.e,{uri:s,canPin:t,isPinned:n,type:T.s.PLAYLIST,spec:i})]})})}));var Qs=n(84944);const Xs=()=>(0,s.useContext)(Qs.I).getCapabilities();function $s(e,t){const{uri:n,isLoading:i,owner:r,pinned:a}=e,l=(0,s.useContext)(fs.Iv),{filter:c}=(0,s.useContext)(nt.on),{canAddAudiobooks:d}=Xs(),u=[Yt.__.TRACKS,Yt.__.LOCAL_TRACKS,Yt.__.ALBUMS,Yt.__.EPISODES],m=d?[Yt.__.AUDIOBOOKS]:[];(0,s.useEffect)((()=>{i&&l.resync(n)}),[l,n,i]);const{togglePlay:h}=(0,yt.I)({uri:n},{featureIdentifier:"playlist",referrerIdentifier:"your_library"}),{isPlaying:g,isActive:f}=(0,_t.kP)(n),y=(0,o.OY)(),b=(0,G.Mk)();let v,x=[];const C=(0,s.useCallback)((async e=>{const{[Yt.__.TRACKS]:s=[],[Yt.__.LOCAL_TRACKS]:i=[],[Yt.__.ALBUMS]:r=[],[Yt.__.EPISODES]:a=[],[Yt.__.AUDIOBOOKS]:o=[]}=e,l=[...s,...i,...r,...a,...o];y((0,Fs.gZ)(n,l)),b.logInteraction(t.yourLibraryItemFactory().dragAddToPlaylist({itemToBeAdded:l.at(0)??"",playlist:n}))}),[y,b,t,n]);e.canAddTo&&(x=e.isEmpty?[...m,...u]:e.isBooklist?m:u,v=C);const E=(0,s.useCallback)((()=>{y((0,pt.em)(n))}),[y,n]),S=(0,Tt.gH)(n),w=i&&!e.name;let I;I=S?(0,_.jsx)(qs,{reference:e,canPin:e.canPin,isPinned:a}):w?(0,_.jsx)(p.i,{children:(0,_.jsx)(Bs.Oq,{uri:n,initialState:!0})}):(0,_.jsx)(Ks,{reference:e,canPin:e.canPin,isPinned:a,useDialogForUnfollow:!0,isInLibrary:!0});const A=(0,_.jsx)(gt.g,{uri:n,size:"xsmall",className:jt.c.icon,as:"span"}),T=(0,Tt.gH)(n)?(0,_.jsx)(_.Fragment,{children:W._s.get("ylx.clicktoplay")}):(r.uri,(0,_.jsx)(ft.S,{searchWords:[c.trim()],textToHighlight:r.name}));return{openDeleteDialog:E,togglePlay:e.isBooklist?void 0:h,isPlaying:g,isActive:f,menu:I,downloadButton:A,subtitleText:T,allowedDropTargetDropOnMimeTypes:x,onDropTargetDropOn:v}}const Js=({libraryItem:e,shouldShowType:t,RowVariantComponent:n,spec:s,nrValidItems:i,index:r})=>{const{uri:a,images:o,folderDepth:l,name:c,type:d,pinned:u,addedAt:m,lastPlayedAt:p,color:h,canReorder:g}=e,{openDeleteDialog:f,togglePlay:y,isPlaying:b,isActive:v,menu:x,downloadButton:C,subtitleText:E,allowedDropTargetDropOnMimeTypes:S,onDropTargetDropOn:w}=$s(e,s),{animateState:I,animateClassName:A}=gs({uri:a}),T=(0,_.jsx)(On,{title:c,type:d,images:o,color:h,animateState:I,animateClassName:A});return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(Dn,{RowVariantComponent:n,uri:a,folderDepth:l,cover:T,name:c,subtitle:E,alt:c,dragLabel:c,menu:x,canReorder:g,allowedDropTargetDropOnMimeTypes:S,onDropTargetDropOn:w,togglePlay:y,openDeleteDialog:f,addedAt:m,lastPlayedAt:p,isPlaying:b,isActive:v,isPinned:u,shouldShowType:t,type:d,downloadButton:C,spec:s,playInsteadOfNavigating:(0,Tt.gH)(a),nrValidItems:i,index:r})})},Zs=({libraryItem:e,shouldShowType:t,spec:n,index:s})=>{const{uri:i,images:r,name:a,type:o,pinned:l,color:c,canReorder:d}=e,{togglePlay:u,menu:m,downloadButton:p,subtitleText:h,onDropTargetDropOn:g,allowedDropTargetDropOnMimeTypes:f,openDeleteDialog:y,isPlaying:b,isActive:v}=$s(e,n),{animateState:x,animateClassName:C}=gs({uri:i}),E=(0,_.jsx)(Pn,{title:a,type:o,images:r,uri:i,togglePlay:u,color:c,spec:n,isActive:v,isPlaying:b});return(0,_.jsx)(Cn,{uri:i,name:a,subtitle:h,menu:m,dragLabel:a,canReorder:d,allowedDropTargetDropOnMimeTypes:f,onDropTargetDropOn:g,cover:E,togglePlay:u,isPinned:l,shouldShowType:t,type:o,downloadButton:p,openDeleteDialog:y,isPlaying:b,isActive:v,spec:n,playInsteadOfNavigating:(0,Tt.gH)(i),index:s,animateState:x,animateClassName:C})};var ei=n(89520);function ti(e){const{uri:t,artists:n,canPin:i,pinned:r}=e,{filter:a}=(0,s.useContext)(nt.on),l=(0,o.OY)(),c=(0,s.useCallback)((()=>{l((0,pt.ED)(t))}),[l,t]),d=n.at(0);return{openDeleteDialog:c,menu:(0,_.jsx)(ei.u,{uri:t,artistUri:d?.uri,canPin:i,isPinned:r,canRemove:!0}),subtitleText:(0,_.jsx)(ft.S,{searchWords:[a.trim()],textToHighlight:d?.name??""})}}const ni=({libraryItem:e,shouldShowType:t=!1,RowVariantComponent:n,spec:s,nrValidItems:i,index:r})=>{const{uri:a,images:o,name:l,pinned:c,type:d,addedAt:u,lastPlayedAt:m,color:p}=e,{openDeleteDialog:h,menu:g,subtitleText:f}=ti(e),y=(0,_.jsx)(On,{title:l,type:d,images:o,color:p});return(0,_.jsx)(Dn,{RowVariantComponent:n,uri:a,cover:y,name:l,subtitle:f,alt:l,type:d,dragLabel:l,menu:g,openDeleteDialog:h,addedAt:u,lastPlayedAt:m,isPinned:c,isPlaying:!1,isActive:!1,shouldShowType:t,spec:s,nrValidItems:i,index:r})},si=({libraryItem:e,shouldShowType:t=!1,spec:n,index:s})=>{const{uri:i,images:r,name:a,pinned:o,type:l,color:c}=e,{menu:d,subtitleText:u,openDeleteDialog:m}=ti(e),p=(0,_.jsx)(Pn,{title:a,type:l,images:r,uri:i,color:c,spec:n,isActive:!1,isPlaying:!1});return(0,_.jsx)(Cn,{uri:i,name:a,subtitle:u,menu:d,dragLabel:a,cover:p,type:l,isPinned:o,shouldShowType:t,openDeleteDialog:m,isPlaying:!1,isActive:!1,spec:n,index:s})};var ii=n(81472);function ri(e){const{uri:t,publisher:n}=e,{filter:i}=(0,s.useContext)(nt.on),r=(0,o.OY)(),{togglePlay:a}=(0,yt.I)({uri:t},{featureIdentifier:"show",referrerIdentifier:"your_library"}),{isPlaying:l,isActive:c}=(0,_t.kP)(t);return{isPlaying:l,isActive:c,openDeleteDialog:(0,s.useCallback)((()=>{r((0,pt.ED)(t))}),[r,t]),togglePlay:a,menu:(0,_.jsx)(ii.Q,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),downloadButton:(0,_.jsx)(gt.g,{uri:t,size:"xsmall",className:jt.c.icon,as:"span"}),subtitleText:(0,_.jsx)(ft.S,{autoEscape:!0,searchWords:[i.trim()],textToHighlight:n})}}const ai=({libraryItem:e,shouldShowType:t,RowVariantComponent:n,spec:s,nrValidItems:i,index:r})=>{const{uri:a,images:o,name:l,type:c,addedAt:d,lastPlayedAt:u,pinned:m,color:p}=e,{isPlaying:h,isActive:g,openDeleteDialog:f,togglePlay:y,menu:b,downloadButton:v,subtitleText:x}=ri(e),C=(0,_.jsx)(On,{title:l,type:c,images:o,color:p});return(0,_.jsx)(Dn,{RowVariantComponent:n,uri:a,cover:C,name:l,subtitle:x,alt:l,dragLabel:l,menu:b,togglePlay:y,openDeleteDialog:f,addedAt:d,lastPlayedAt:u,isPlaying:h,isActive:g,isPinned:m,shouldShowType:t,type:c,downloadButton:v,spec:s,nrValidItems:i,index:r})},oi=({libraryItem:e,shouldShowType:t,spec:n,index:s})=>{const{uri:i,images:r,name:a,type:o,pinned:l,color:c}=e,{togglePlay:d,menu:u,downloadButton:m,subtitleText:p,openDeleteDialog:h,isPlaying:g,isActive:f}=ri(e),y=(0,_.jsx)(Pn,{title:a,type:o,images:r,uri:i,togglePlay:d,color:c,spec:n,isActive:f,isPlaying:g});return(0,_.jsx)(Cn,{uri:i,name:a,subtitle:p,menu:u,dragLabel:a,cover:y,togglePlay:d,isPinned:l,shouldShowType:t,type:o,downloadButton:m,openDeleteDialog:h,isPlaying:g,isActive:f,spec:n,index:s})},li=[Yt.__.EPISODES];function ci(e){const{numberOfDownloadedEpisodes:t}=e,{user:n}=(0,o.w1)(ws.cx),i=(0,xt.ML)(n?.id,"your-episodes").toURI(),r=g.ql,{togglePlay:a}=(0,yt.I)({uri:i},{featureIdentifier:"episode",referrerIdentifier:"your_library"}),{isPlaying:l,isActive:c}=(0,_t.kP)(i),d=(0,s.useContext)(A.g),u=(0,s.useCallback)((e=>{const{[Yt.__.EPISODES]:t=[]}=e;t?.length&&d?.add({uris:t})}),[d]);return{isPlaying:l,isActive:c,togglePlay:a,menu:(0,_.jsx)(Ss,{uri:r,canPin:e.canPin,isPinned:e.pinned}),downloadButton:t?(0,_.jsx)(Ns.E,{size:"xsmall",className:jt.c.icon,semanticColor:"textBrightAccent"}):null,subtitleText:W._s.get("web-player.your-library-x.subtitle-your-episodes"),onDropTargetDropOn:u,playbackUri:i,uri:r}}const di=({libraryItem:e,RowVariantComponent:t,spec:n,nrValidItems:s,index:i})=>{const{images:r,name:a,type:o,pinned:l,lastPlayedAt:c,addedAt:d,color:u}=e,{isPlaying:m,isActive:p,togglePlay:h,menu:g,downloadButton:f,subtitleText:y,onDropTargetDropOn:b,playbackUri:v,uri:x}=ci(e),C=(0,_.jsx)(On,{title:a,type:o,images:r,color:u});return(0,_.jsx)(Dn,{RowVariantComponent:t,uri:x,cover:C,name:a,subtitle:y,alt:a,dragLabel:a,menu:g,allowedDropTargetDropOnMimeTypes:li,onDropTargetDropOn:b,togglePlay:h,addedAt:d,lastPlayedAt:c,isPlaying:m,isActive:p,isPinned:l,shouldShowType:!1,type:o,downloadButton:f,playbackUri:v,spec:n,nrValidItems:s,index:i})},ui=({libraryItem:e,spec:t,index:n})=>{const{images:s,name:i,type:r,pinned:a,color:o}=e,{togglePlay:l,menu:c,downloadButton:d,subtitleText:u,onDropTargetDropOn:m,playbackUri:p,uri:h,isPlaying:g,isActive:f}=ci(e),y=(0,_.jsx)(Pn,{title:i,type:r,images:s,uri:h,togglePlay:l,color:o,spec:t,isActive:f,isPlaying:g});return(0,_.jsx)(Cn,{uri:h,name:i,subtitle:u,menu:c,dragLabel:i,allowedDropTargetDropOnMimeTypes:li,onDropTargetDropOn:m,cover:y,togglePlay:l,playbackUri:p,downloadButton:d,isPinned:a,shouldShowType:!1,type:r,isPlaying:g,isActive:f,spec:t,index:n})};var mi=n(15040);function pi(){const e=(0,d.IP)(mi.WIf),[t,n]=(0,be.k)("ylx-grid-scale",1);return{gridScale:e?t:1,setGridScale:n}}const hi=250,gi=(0,ut.Q)(T.s),fi=(0,s.memo)((function({item:e,primaryFilter:t,spec:n,index:s}){const i={shouldShowType:!(0,Tt.gH)(e.uri)&&dn(e.type)!==t,spec:n,index:s},r=(0,d.IP)(mi.OSC);switch(e.type){case T.s.FOLDER:return(0,_.jsx)(Es,{libraryItem:e,...i});case T.s.ALBUM:return(0,_.jsx)(Fn,{libraryItem:e,...i});case T.s.ARTIST:return(0,_.jsx)(Hn,{libraryItem:e,...i});case T.s.AUDIOBOOK:return(0,_.jsx)(Qn,{libraryItem:e,...i});case T.s.SHOW:return(0,_.jsx)(oi,{libraryItem:e,...i});case T.s.PLAYLIST:return(0,_.jsx)(Zs,{libraryItem:e,...i});case T.s.LIKED_SONGS:return(0,_.jsx)(ks,{libraryItem:e,...i});case T.s.YOUR_EPISODES:return(0,_.jsx)(ui,{libraryItem:e,...i});case T.s.LOCAL_FILES:return(0,_.jsx)(Ds,{libraryItem:e,...i});case T.s.PRE_RELEASE:return r?(0,_.jsx)(si,{libraryItem:e,...i}):null;default:(0,mt.E)(e)}})),yi=({getItems:e,scrollNodeRef:t,primaryFilter:n,nrValidItems:i,spec:r})=>{const{gridScale:a}=pi(),o=(0,ot._B)(ot.u0.NEW_CARDS,a),l=(0,s.useRef)({}),c=function(){const{gridScale:e}=pi();return!!(0,d.IP)(mi.WIf)&&e<.8}(),u=(0,s.useCallback)((e=>(0,_.jsx)(Us,{index:e,type:gi(n)?n:void 0},e)),[n]),m=(0,s.useCallback)(((t,s)=>e(t,s).map(((e,s)=>e?(0,_.jsx)(fi,{item:e,spec:r,primaryFilter:n,index:t+s},e.uri):u(`${t+s}`)))),[e,n,u,r]),p=(0,s.useCallback)(((e,t)=>{l.current={numColumns:e,rowHeight:t}}),[]);return(0,_.jsx)(at.E,{config:o,children:(0,_.jsx)(pn,{isCompact:c,children:(0,_.jsx)(Ct.w,{firstInteractiveIsWrapper:!0,"aria-label":W._s.get("web-player.your-library-x.your-library"),"aria-rowcount":Math.round(i/(l.current.numColumns??1)),"aria-colcount":l.current.numColumns,children:(0,_.jsx)(dt,{renderItems:m,nrItems:i,estimatedItemMaxHeight:hi,scrollNodeRef:t,onGridResize:p})})})})};var _i=n(38848),bi=n(49828);const vi="main-yourLibraryX-header",xi="U2UDsqt0mNj27p4bm85K",Ci="main-yourLibraryX-collapseButtonWrapper",Ei="main-yourLibraryX-headerContent",Si="main-yourLibraryX-collapseButtonIsCollapsed",wi="main-yourLibraryX-collapseButton",Ii="main-yourLibraryX-button",Ai="ha4xXmMVP7gCvKZh9Ipf",Ti="main-yourLibraryX-iconOnly",ki="main-yourLibraryX-headerIsCollapsed",Ni="WYU7SXdABSulyirnmIYb",Oi="DF8qJeKP7CRNb13tJeJg",Pi=({folderUri:e,dropTargetClassName:t,spec:n})=>{const{isCollapsed:i,ylxSidebarState:a,setYlxSidebarState:o,lastUncollapsedYlxSidebarState:l}=(0,w.iu)(),c=(0,G.Mk)(),d=(0,s.useCallback)((()=>{const e=a===w.MT.COLLAPSED?l:w.MT.COLLAPSED;o(e),c.logInteraction(n.hitToggleState({stateBeforeToggle:null!==a?w.MT[a].toLowerCase():"",stateAfterToggle:w.MT[e].toLowerCase()}))}),[a,l,o,c,n]),u=i?_i.Y:bi.Y;return(0,_.jsx)(z.Yl,{label:i?W._s.get("web-player.your-library-x.expand-your-library"):W._s.get("web-player.your-library-x.collapse-your-library"),placement:i?"right":void 0,children:(0,_.jsx)(Xn.u,{"aria-label":i?W._s.get("web-player.your-library-x.expand-your-library"):W._s.get("web-player.your-library-x.collapse-your-library"),onClick:d,className:r()(Ci,Ii,t),condensed:!0,iconLeading:e||i?void 0:u,iconOnly:e||i?u:void 0,children:!e&&!i&&W._s.get("web-player.your-library-x.your-library")})})};var ji=n(48576),Li=n(6156);const Ri=({dropTargetClassName:e,spec:t})=>{const{ylxSidebarState:n,setYlxSidebarState:s}=(0,w.iu)(),i=n===w.MT.DEFAULT,a=(0,G.Mk)();return(0,_.jsx)(z.Yl,{label:i?W._s.get("web-player.your-library-x.show-more"):W._s.get("web-player.your-library-x.show-less"),children:(0,_.jsx)(Xn.u,{className:r()(Ii,Ti,e),iconOnly:i?ji.J:Li.A,"aria-label":i?W._s.get("web-player.your-library-x.enlarge-your-library"):W._s.get("web-player.your-library-x.reduce-your-library"),onClick:()=>{s(i?w.MT.EXPANDED:w.MT.DEFAULT),a.logInteraction(t.hitToggleState({stateBeforeToggle:i?"default":"expanded",stateAfterToggle:i?"expanded":"default"}))},size:"small"})})};var Di=n(48064);const Mi=({folderMenu:e,folderName:t,dropTargetClassName:n})=>(0,_.jsx)(m.pD,{menu:e,children:(0,_.jsx)("span",{children:(0,_.jsx)(z.Yl,{label:W._s.get("more.label.context",t),children:(0,_.jsx)(Xn.u,{className:r()(Ii,Ti,n),iconOnly:Di.U,"aria-haspopup":"menu","aria-label":W._s.get("more.label.context",t),size:"small"})})})});var Ui=n(20892),Fi=n(65884),Bi=n(94672);const Gi=({dropTargetClassName:e,spec:t})=>{const{isGridView:n,setItemsView:s}=(0,Bi.y)(),i=(0,G.Mk)();return(0,_.jsx)(z.Yl,{label:n?W._s.get("web-player.your-library-x.list-view"):W._s.get("web-player.your-library-x.grid-view"),children:(0,_.jsx)(Xn.u,{className:r()(Ii,e),iconOnly:n?Ui.i:Fi.M,"aria-label":n?W._s.get("web-player.your-library-x.list-view"):W._s.get("web-player.your-library-x.grid-view"),onClick:()=>{s(n?Bi.w.LIST:Bi.w.GRID),i.logInteraction(t.hitToggleState({stateBeforeToggle:n?"grid":"list",stateAfterToggle:n?"list":"grid"}))},size:"small"})})};var Vi=n(83216),Hi=n(7076),Wi=n(41712),zi=n(92280);const Yi=function({folderUri:e,spec:t}){const{createPlaylist:n}=(0,ee.c)(),{createFolder:s}=(0,fs.io)(),i=(0,G.Mk)(),r=(0,zi.A)(),a=e?{after:{uri:e}}:{before:"start"};return(0,_.jsxs)(p.i,{children:[(0,_.jsx)(ns.I,{onClick:()=>{n(void 0,a),i.logInteraction(t.createPlaylistOptionFactory().hitCreatePlaylist())},role:"menuitem",leadingIcon:(0,_.jsx)(Hi.Y,{size:"small"}),children:W._s.get("web-player.your-library-x.create.create-a-new-playlist")}),!r&&(0,_.jsx)(ns.I,{onClick:()=>{s(W._s.get("web-player.your-library-x.default_folder_name"),a),i.logInteraction(t.createFolderOptionFactory().hitCreateFolder({uri:""}))},role:"menuitem",leadingIcon:(0,_.jsx)(Wi.s,{size:"small"}),children:W._s.get("web-player.your-library-x.create.create-a-playlist-folder")})]})},Ki=({className:e="",folderUri:t,tooltipPlacement:n,spec:i})=>{const a=W._s.get("web-player.your-library-x.create.button-label"),o=(0,G.Mk)(),{canAddAudiobooks:l}=Xs(),{createPlaylistFromAlbum:c,createPlaylistFromTracks:d,createPlaylistFromPlaylist:u}=(0,ee.c)(),{className:p,dropPosition:h,...g}=(0,Ye.eE)({allowedMimeTypesByDropPosition:{[Ye.Ab.ON]:[Yt.__.TRACKS,Yt.__.EPISODES,Yt.__.ALBUMS,Yt.__.PLAYLISTS_V2,...l?[Yt.__.AUDIOBOOKS]:[]]},onDrop:(0,s.useCallback)((e=>{const{[Yt.__.TRACKS]:n=[],[Yt.__.LOCAL_TRACKS]:s=[],[Yt.__.EPISODES]:i=[],[Yt.__.AUDIOBOOKS]:r=[],[Yt.__.ALBUMS]:a=[],[Yt.__.PLAYLISTS_V2]:o=[]}=e,l=t?{after:{uri:t}}:{before:"start"},m=[...n,...s,...i];r.length>0?d(r,l):m.length?d(m,l):a.length>0?c(a[0],l):o.length>0&&u(o[0],l)}),[c,u,d,t])});return(0,_.jsx)(m.SM,{renderInline:!0,menu:(0,_.jsx)(Yi,{folderUri:t,spec:i.createMenuFactory()}),preventScrollingWhileOpen:!1,children:(t,s,l)=>(0,_.jsx)(z.Yl,{label:a,placement:n,children:(0,_.jsx)(Xn.u,{ref:l,iconOnly:Vi.S,className:r()(e,p,{[qe]:h===Ye.Ab.ON}),"aria-label":a,onClick:e=>{s(e),o.logInteraction(i.hitUiReveal())},size:"small",...g})})})};var qi=n(5540);const Qi=({handleNavigateBack:e,parentFolderUri:t,spec:n})=>{const{handleDropBeforeOrAfterRootlistItem:s}=rn({dropTargetUri:t,spec:n}),{dropPosition:i,className:a,...o}=(0,Ye.eE)({allowedMimeTypesByDropPosition:{[Ye.Ab.ON]:ja},onDrop:async e=>{s(e,Ye.Ab.BEFORE)},onLongDragOver:e});return(0,_.jsx)(z.Yl,{label:W._s.get("web-player.your-library-x.navigate-back-folder"),children:(0,_.jsx)(Xn.u,{className:r()(Ii,Ai,a,{[qe]:i===Ye.Ab.ON}),"aria-label":W._s.get("web-player.your-library-x.navigate-back-folder"),onClick:e,iconOnly:qi.C,size:"small",...o})})},Xi=(0,s.forwardRef)((function({folderUri:e,folderName:t,folderMenu:n,onRename:i,spec:a,className:l},c){const{isActive:d}=(0,_t.kP)(e??"not-a-folder"),u=(0,o.OY)(),p=(0,G.Mk)(),h=(0,s.useCallback)((()=>{u((0,pt.qI)(t,i)),p.logInteraction(a.hitRenameFolder({uri:e}))}),[u,t,e,p,i,a]);return(0,_.jsx)(z.Yl,{label:t,showDelay:z.AL,children:(0,_.jsx)("div",{className:r()(Ni,l),children:(0,_.jsx)(m.UF,{menu:n,children:(0,_.jsx)(Xn.u,{"aria-label":t,onClick:h,size:"small",condensed:!0,className:r()(Ii),ref:c,children:(0,_.jsx)(V.a,{variant:"bodyMediumBold",semanticColor:d?"textBrightAccent":void 0,className:Oi,children:t})})})})})}));var $i=n(1968),Ji=n(85784),Zi=n(16064);const er="_4JcTGCbNeqSDgdBfKdfy",tr="wB8ig1vfWJiTattGsxKX",nr=()=>{const{syncing:e,percentage:t,currentItem:n,totalItems:i}=function(){const[e,t]=(0,s.useState)({syncing:!1,percentage:0,totalItems:0,currentItem:0}),n=Ji.k.UPDATE_TOTAL_PROGRESS,i=(0,s.useCallback)((e=>t(e.data.progress)),[]);return(0,Zi.W)(n,i),e}();return e?(0,_.jsxs)("div",{className:er,children:[(0,_.jsxs)("div",{className:tr,children:[(0,_.jsx)(V.a,{variant:"bodySmallBold",semanticColor:"textBase",children:W._s.get("web-player.your-library-x.download-progress-title")}),(0,_.jsx)(V.a,{variant:"bodySmallBold",semanticColor:"textBase",children:W._s.get("web-player.your-library-x.download-progress-count-out-of-total",n,i)})]}),(0,_.jsx)($i.c,{value:t})]}):null};var sr=n(45208);const ir=({parentDropTargetClassName:e,isLibraryCompletelyEmpty:t,folderUri:n,folderName:i,spec:a})=>{const{isCollapsed:o,ylxSidebarState:l,canExpand:u}=(0,w.iu)(),{renameFolder:m}=(0,fs.io)(),{popFolder:p}=(0,s.useContext)(it),h=(0,s.useCallback)(((e="")=>{n&&m({uri:n},e)}),[n,m]),g=(0,s.useCallback)((()=>{p()}),[p]),f=n?(0,_.jsx)(ls,{reference:{uri:n},name:i,onRename:h,onDeleteCallback:g}):null,{dropOriginIsYLX:y}=nn(),b=!o&&n&&void 0!==i,v=(0,s.useRef)(null),x=(0,s.useRef)(null),C=(0,s.useRef)(null);!function(e,t,n,...i){const r=(0,c.Y1)((()=>{if(e.current)if(t.current instanceof HTMLElement){e.current.style.display="block";const{scrollWidth:n,offsetWidth:s}=t.current,i=n>s;e.current.style.display=i?"none":"block"}else e.current.style.display="block"}),[i]);(0,s.useLayoutEffect)(r,[r]),(0,An.m)({refOrElement:n,observeOnly:"width",onResize:r})}(C,(0,s.useMemo)((()=>({get current(){return x.current?.firstElementChild instanceof HTMLElement?x.current?.firstElementChild:null}})),[]),v,i,b);const E=(0,d.IP)(mi.WIf),S=(0,sr.u)(),I=!o||t&&o;return(0,_.jsxs)("header",{className:r()(vi,{[xi]:S,[ki]:o}),ref:v,children:[!o&&(0,_.jsx)(nr,{}),(0,_.jsxs)("div",{className:r()(Ei,{[Si]:o}),children:[(0,_.jsxs)("div",{className:r()(wi,{[Si]:o}),children:[(0,_.jsx)(Pi,{folderUri:n,dropTargetClassName:e,spec:a.toggleCollapsedModeButtonFactory({identifier:""})}),n&&(0,_.jsx)(Qi,{handleNavigateBack:g,parentFolderUri:n,spec:a.folderBackButtonFactory()}),b&&(0,_.jsx)(Xi,{folderUri:n,folderName:i,folderMenu:f,onRename:h,spec:a.folderTitleFactory(),className:y?e:void 0,ref:x},n)]}),I&&(0,_.jsx)("span",{ref:C,children:(0,_.jsx)(Ki,{className:r()(Ii,Ti),folderUri:n,tooltipPlacement:o?"right":void 0,spec:a.createMenuButtonFactory()})}),n&&!o&&(0,_.jsx)(Mi,{folderName:i,folderMenu:f,dropTargetClassName:e}),l===w.MT.EXPANDED&&!E&&(0,_.jsx)(Gi,{dropTargetClassName:e,spec:a.viewDensityToggleFactory({identifier:""})}),(l===w.MT.DEFAULT&&u||l===w.MT.EXPANDED)&&(0,_.jsx)(Ri,{dropTargetClassName:e,spec:a.toggleExpandedModeButtonFactory({identifier:""})})]})]})};var rr=n(99992),ar=n(82960),or=n(58912);const lr=({date:e})=>(0,_.jsx)(V.a,{variant:"bodySmall",semanticColor:"textSubdued",className:je,children:e&&W._s.formatRelativeDate(new Date(e),{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"})}),cr=e=>{const t=e.handleNavigate,n=(0,_.jsx)(Wt,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:t,playbackUri:e.playbackUri}),s=e.expandFolderButton??(e.isPlaying&&(0,_.jsx)(wt,{})),i=(0,_.jsx)(Lt,{leading:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(un.i,{pinned:e.isPinned}),e.downloadButton,e.lockedIcon]}),subtitle:(0,_.jsxs)(_.Fragment,{children:[e.shouldShowType&&cn(e.type),!!e.subtitle&&e.shouldShowType&&" • ",e.subtitle]}),uri:e.uri}),r=e.logRightClick,a=(0,_.jsx)(m.UF,{menu:e.menu,onShow:r,children:(0,_.jsx)(Et.P,{uri:e.uri,trigger:Et.m.OnMouseDown,children:(0,_.jsx)(ar.U,{className:xe,media:e.cover,title:n,subtitle:i,trailing:s,id:e.uri,variant:e.isViewActive?"tinted":void 0,padding:vt.q,onClick:e.onClick,hoverAnimationDuration:"0ms"})})});return(0,Tt.gH)(e.uri)?(0,_.jsx)(At.cr,{parentRef:e.parentRef,children:a}):a},dr=e=>{const t=e.handleNavigate,n=(0,_.jsx)(Wt,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:t,playbackUri:e.playbackUri}),s=(0,_.jsx)(Lt,{leading:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(un.i,{pinned:e.isPinned}),e.downloadButton,e.lockedIcon]}),subtitle:(0,_.jsxs)(_.Fragment,{children:[e.shouldShowType&&cn(e.type),!!e.subtitle&&e.shouldShowType&&" • ",e.subtitle]}),uri:e.uri}),i=e.logRightClick;return(0,_.jsx)(Nt,{...e,title:n,subtitleSlot:s,parentRef:e.parentRef,children:(0,_.jsxs)("div",{children:[(0,_.jsx)(m.UF,{menu:e.menu,onShow:i,children:(0,_.jsx)(Et.P,{uri:e.uri,trigger:Et.m.OnMouseDown,children:(0,_.jsx)(ar.U,{className:r()(xe,Ee),media:e.cover,id:e.uri,padding:vt.q,onClick:e.onClick,variant:void 0,title:void 0,hoverAnimationDuration:"0ms"})})}),(0,_.jsxs)("span",{className:Fe,children:[n," ",s]})]})})},ur=e=>{const t=(0,s.useRef)(null),n=e.logRightClick;return(0,_.jsx)(m.UF,{menu:e.menu,onShow:n,children:(0,_.jsxs)("div",{className:Pe,ref:t,children:[(0,_.jsx)(cr,{...e,parentRef:t}),(0,_.jsx)(lr,{date:e.addedAt}),(0,_.jsx)(lr,{date:e.lastPlayedAt})]})})},mr=e=>{const t=e.handleNavigate,n=(0,_.jsxs)("div",{className:De,children:[(0,_.jsx)(Wt,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:t,playbackUri:e.playbackUri}),e.shouldShowType&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(or.y,{children:"•"}),(0,_.jsx)(or.y,{lineClamp:1,children:cn(e.type)})]}),(!e.shouldShowType&&e.type===T.s.ALBUM||(0,Tt.gH)(e.uri))&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(or.y,{children:"•"}),(0,_.jsx)(Lt,{leading:null,uri:e.uri,subtitle:e.subtitle})]})]}),s=(0,_.jsx)(un.i,{pinned:e.isPinned}),i=e.expandFolderButton??(e.isPlaying?(0,_.jsx)(wt,{iconSize:"xsmall"}):(0,_.jsxs)(_.Fragment,{children:[e.downloadButton&&(0,_.jsx)("div",{className:we,children:e.downloadButton}),e.lockedIcon&&(0,_.jsx)("div",{className:we,children:e.lockedIcon})]})),a=e.logRightClick;return(0,_.jsx)(m.UF,{menu:e.menu,onShow:a,children:(0,_.jsx)(Et.P,{uri:e.uri,trigger:Et.m.OnMouseDown,children:(0,_.jsx)(ar.U,{className:r()(xe,Ce),title:n,leading:e.isPinned?s:void 0,trailing:i,id:e.uri,variant:e.isViewActive?"tinted":void 0,padding:`${vt.yC} ${vt.q}`,onClick:e.onClick,size:"sm",hoverAnimationDuration:"0ms"})})})},pr=e=>{const t=e.logRightClick;return(0,_.jsx)(m.UF,{menu:e.menu,onShow:t,children:(0,_.jsxs)("div",{className:Pe,children:[(0,_.jsx)(mr,{...e}),(0,_.jsx)(lr,{date:e.addedAt}),(0,_.jsx)(lr,{date:e.lastPlayedAt})]})})},hr=({height:e,isCompact:t,primaryFilter:n})=>(0,_.jsx)(jn.c,{className:r()({[Te]:!t,[Ne]:t,[ke]:n===T.s.ARTIST}),style:{height:e}});let gr=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.COMPACT=1]="COMPACT",e}({});const fr=()=>{const[e,t]=(0,be.k)("library-row-mode",gr.DEFAULT),n=(0,w.QV)();return{libraryRowMode:e,setLibraryRowMode:t,rowHeight:e===gr.DEFAULT||n===w.MT.COLLAPSED?64:32}},yr=(0,s.memo)((function({item:e,primaryFilter:t,RowVariantComponent:n,spec:s,nrValidItems:i,index:r}){const a={shouldShowType:!(0,Tt.gH)(e.uri)&&dn(e.type)!==t,RowVariantComponent:n,spec:s,nrValidItems:i,index:r},o=(0,d.IP)(mi.OSC);switch(e.type){case T.s.FOLDER:return(0,_.jsx)(Cs,{libraryItem:e,...a});case T.s.ALBUM:return(0,_.jsx)(Un,{libraryItem:e,...a});case T.s.ARTIST:return(0,_.jsx)(Vn,{libraryItem:e,...a});case T.s.AUDIOBOOK:return(0,_.jsx)(qn,{libraryItem:e,...a});case T.s.SHOW:return(0,_.jsx)(ai,{libraryItem:e,...a});case T.s.PLAYLIST:return(0,_.jsx)(Js,{libraryItem:e,...a});case T.s.LIKED_SONGS:return(0,_.jsx)(Ts,{libraryItem:e,...a});case T.s.YOUR_EPISODES:return(0,_.jsx)(di,{libraryItem:e,...a});case T.s.LOCAL_FILES:return(0,_.jsx)(Rs,{libraryItem:e,...a});case T.s.PRE_RELEASE:return o?(0,_.jsx)(ni,{libraryItem:e,...a}):null;default:(0,mt.E)(e)}})),_r=({getItems:e,scrollNodeRef:t,primaryFilter:n,nrValidItems:i,spec:r})=>{const a=(0,w.QV)(),{rowHeight:o,libraryRowMode:l}=fr(),c=l===gr.COMPACT,d=((e,t)=>{switch(e){case w.MT.COLLAPSED:return dr;case w.MT.DEFAULT:return t?mr:cr;case w.MT.EXPANDED:return t?pr:ur;default:(0,mt.E)(e)}})(a,c),u=(0,s.useCallback)(((e,t)=>(0,_.jsx)(hr,{height:e,isCompact:c,primaryFilter:n},t)),[c,n]),m=(0,s.useCallback)(((t,s)=>e(t,s).map(((e,s)=>e?(0,_.jsx)(yr,{item:e,spec:r,RowVariantComponent:d,primaryFilter:n,nrValidItems:i,index:t+s},e.uri):u(`${o}px`,`${t+s}`)))),[d,e,n,u,o,r,i]);return(0,_.jsx)(jn.e,{circular:!1,allowsMultipleInteractiveChildrenInItem:!0,"aria-label":W._s.get("web-player.your-library-x.your-library"),children:(0,_.jsx)(rr.C,{renderRows:m,nrRows:i,rowHeight:o,scrollNodeRef:t,renderPlaceholder:u})})};n(97768);var br=n(556),vr=n(66112),xr=n(76008),Cr=n(58060);const Er="oszTUDKpXrPHyeWPs276",Sr="cKHK53VIATgkMZYQDfol",wr="QMGfkFWtxrVkgNgFXDyw",Ir=function({title:e,bodyText:t,children:n,root:i,show:r,childrenWrapperClassName:a,onHide:o}){const[l,c]=(0,s.useState)(null),[u,m]=(0,s.useState)(null),p=(0,d.IP)(mi.q8O),h=(0,s.useCallback)((()=>{o()}),[o]);(0,s.useEffect)((()=>{if(!r)return()=>{};const e=e=>{"Escape"===e.key&&h()};return window.addEventListener("keydown",e,!0),()=>{window.removeEventListener("keydown",e,!0)}}),[h,u,r]);const g=l?.getBoundingClientRect();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("span",{ref:c,className:a,children:n}),g&&r&&p&&(0,vr.createPortal)((0,_.jsx)("div",{className:Er,style:{top:g?.top??0,left:g?.left??0,width:g?.width,height:g?.height},ref:m,children:(0,_.jsxs)(Cr._,{popoverTitle:e,arrow:Cr._.left,colorSet:"announcement",className:Sr,children:[(0,_.jsx)(V.a,{as:"p",dangerouslySetInnerHTML:{__html:t||""}}),(0,_.jsx)(Xn.u,{size:"small",onClick:h,iconOnly:xr.K,"aria-label":W._s.get("close"),className:wr})]})}),i||document.body)]})};var Ar=n(33868),Tr=n(63824),kr=n(90196),Nr=n(4552);const Or=(e,t,n)=>{const s=t.closest('li[role="presentation"]'),i=e.parentElement?.querySelectorAll('ul[role="menu"]');if(n===Nr.w.UP){const n=i?.[i.length-1],r=e.previousElementSibling,a=s?.previousElementSibling?.previousElementSibling;if(t instanceof HTMLUListElement||!a){if(r&&r instanceof HTMLUListElement)return r;if(n&&n instanceof HTMLUListElement)return n}}else{const t=s?.nextElementSibling;if(!t){const t=e.nextElementSibling;return t&&t instanceof HTMLUListElement?t:i?.[0]}}},Pr="main-yourLibraryX-librarySort",jr="main-yourLibraryX-librarySortWrapper",Lr="rrv_gS6m_YN8K1nsq47l",Rr="mdvwJxMDgGjicVAZoBAw",Dr="VrBEyt4oriSVpJPs1Dmw",Mr=[{itemsViewState:Bi.w.LIST,compactModeState:gr.COMPACT},{itemsViewState:Bi.w.LIST,compactModeState:gr.DEFAULT},{itemsViewState:Bi.w.GRID,compactModeState:gr.DEFAULT}],Ur=(e,t,n)=>Math.round((e+t)*n)/n,Fr=e=>e.itemsViewState===Bi.w.GRID?W._s.get("web-player.your-library-x.sort-and-view-picker.grid"):e.compactModeState===gr.COMPACT?W._s.get("web-player.your-library-x.sort-and-view-picker.compact"):W._s.get("web-player.your-library-x.sort-and-view-picker.list"),Br=({selectedSort:e,selectedView:t,onSortSelect:n,onViewSelect:i,sortOptions:r,spec:a,id:o})=>{const l=(0,G.Mk)(),c=(0,s.useCallback)((e=>e.itemsViewState===Bi.w.GRID?(0,_.jsx)(Fi.M,{size:"small"}):e.compactModeState===gr.COMPACT?(0,_.jsx)(Ar.p,{size:"small"}):(0,_.jsx)(Ui.i,{size:"small"})),[]),{gridScale:d,setGridScale:u}=pi(),m=e=>{const t=Ur(e,.5,100);u(t),l.logInteraction(a.gridDensitySliderFactory().dragSetSliderPosition({position:t}))},h=(0,s.useCallback)((e=>{u(e),l.logInteraction(a.gridDensitySliderFactory().hitSetSliderPosition({position:e}))}),[l,u,a]),g=e=>e?.parentElement?.querySelector("ul"),f=(0,s.useRef)(null);return(0,_.jsxs)("div",{id:o,className:Lr,ref:f,children:[(0,_.jsxs)(p.i,{"aria-label":W._s.get("web-player.your-library-x.sort_by"),onFocusVerticalItem:Or,getInitialFocusElement:g,children:[(0,_.jsx)(Tr.Y,{children:W._s.get("web-player.your-library-x.sort_by")}),r.map((({key:t,value:s},i)=>(0,_.jsx)(ns.I,{role:"menuitemradio","aria-checked":t===e.key,onClick:()=>n(t,i),divider:i===r.length-1?"after":void 0,autoClose:!1,children:s},t)))]}),(0,_.jsxs)(p.i,{"aria-label":W._s.get("web-player.your-library-x.sort-and-view-picker.view-as"),onFocusVerticalItem:Or,getInitialFocusElement:g,children:[(0,_.jsx)(Tr.Y,{children:W._s.get("web-player.your-library-x.sort-and-view-picker.view-as")}),Mr.map((e=>{const n=Fr(e),s=e.itemsViewState===t.itemsViewState&&e.compactModeState===t.compactModeState;return(0,_.jsx)(ns.I,{role:"menuitemradio","aria-checked":s,onClick:()=>i(e),leadingIcon:c(e),autoClose:!1,children:n},n)})),Bi.w.GRID===t.itemsViewState&&(0,_.jsx)("li",{role:"presentation",children:(0,_.jsx)("div",{role:"menuitem",className:Dr,children:(0,_.jsx)(kr.cH,{labelText:W._s.get("web-player.your-library-x.sort-and-view-picker.grid-density-label"),value:Ur(d,-.5,100),max:1,step:.1,onDragStart:m,onDragMove:m,onDragEnd:m,onStepBackward:()=>h(Ur(d,-.1,10)),onStepForward:()=>h(Ur(d,.1,10)),forceActiveStyles:!0,"data-roving-interactive":"1"})})})]})]})};var Gr=n(96480);const Vr=(e,t=!0)=>{const[n,i]=(0,be.k)("onboarding-dismissed:ylx-playlist-ordering",!1),[r,a]=(0,be.k)("onboarding-dismissed-amount:ylx-playlist-ordering",0),[o,l]=(0,s.useState)(!1),{dropOriginIsYLX:c}=nn(),{draggingIsInProgress:d}=(0,s.useContext)(tn.gT);(0,s.useEffect)((()=>{d&&c&&l(!0)}),[d,c]);const u=(0,s.useCallback)((()=>{i(!0),l(!1),a(r+1)}),[r,a,i]);return{show:e&&r<3&&(!n||o)&&(t||o),onHide:u}},Hr=({sortOptions:e,selectedSort:t,onSortSelect:n,root:i,showReorderingOnboarding:r,scrollNodeRef:a,spec:o})=>{const{itemsView:l,setItemsView:c}=(0,Bi.y)(),{libraryRowMode:d,setLibraryRowMode:u}=fr(),p=(0,G.Mk)(),h=(0,s.useCallback)((()=>{p.logInteraction(o.hitUiReveal())}),[p,o]),g=(0,s.useMemo)((()=>l===Bi.w.GRID?{itemsViewState:Bi.w.GRID,compactModeState:gr.DEFAULT}:d===gr.COMPACT?{itemsViewState:Bi.w.LIST,compactModeState:gr.COMPACT}:{itemsViewState:Bi.w.LIST,compactModeState:gr.DEFAULT}),[l,d]),f=(0,s.useCallback)((e=>{let t=o.viewAsOptionFactory({identifier:"grid",position:3}).hitUiElementToggle();e.itemsViewState===Bi.w.GRID?c(Bi.w.GRID):e.compactModeState===gr.COMPACT?(t=o.viewAsOptionFactory({identifier:"compact",position:1}).hitUiElementToggle(),c(Bi.w.LIST),u(gr.COMPACT)):(t=o.viewAsOptionFactory({identifier:"list",position:2}).hitUiElementToggle(),c(Bi.w.LIST),u(gr.DEFAULT)),p.logInteraction(t)}),[p,c,u,o]),y=(0,s.useRef)(null),b=(0,Gr.K)(a,"0px 0px 0px 0px",.75,y),[v,x]=(0,be.k)("sort-view-picker-onboarding-seen",!1),{show:C,onHide:E}=Vr(v&&r,!b),S=(0,s.useCallback)((()=>{h(),x(!0)}),[h,x]);return(0,_.jsx)(Ir,{bodyText:W._s.get("web-player.your-library-x.sort-and-view-picker.view-onboarding"),root:i,show:!v&&!b,childrenWrapperClassName:jr,onHide:()=>x(!0),children:(0,_.jsx)(Ir,{bodyText:W._s.get("web-player.your-library-x.custom-ordering-onboarding-text"),root:i,show:C,childrenWrapperClassName:jr,onHide:E,children:(0,_.jsx)(m.pD,{menu:(0,_.jsx)(Br,{selectedSort:t,selectedView:{itemsViewState:g.itemsViewState??Bi.w.LIST,compactModeState:g.compactModeState??gr.DEFAULT},sortOptions:e,onSortSelect:n,onViewSelect:f,spec:o,id:"sort-and-view-picker"}),placement:"bottom-end",children:(0,_.jsx)(Xn.u,{"aria-label":W._s.get("web-player.your-library-x.sort-and-view-picker.button-aria-label",t.value,Fr(g)),onClick:S,size:"small",iconTrailing:(w=g,w.itemsViewState===Bi.w.GRID?Fi.M:w.compactModeState===gr.COMPACT?Ar.p:Ui.i),ref:y,role:"combobox","aria-controls":"sort-and-view-picker",children:(0,_.jsx)(V.a,{variant:"bodySmall",className:Rr,children:t.value})})})})});var w},Wr=({sortOrders:e,activeSortOrderId:t,setActiveSortOrderId:n,root:i,showReorderingOnboarding:r,spec:a,scrollNodeRef:o})=>{const l=(0,s.useMemo)((()=>a.sortMenuButtonFactory()),[a]),c=(0,s.useMemo)((()=>a.sortbyViewasMenuButtonFactory()),[a]),u=(0,G.Mk)(),m=(0,ze.u)(),p=e.find((e=>e.id===t))??e?.at(0),h=(0,s.useRef)(null),g=(0,d.IP)(mi.WIf),f=(0,s.useCallback)(((e,t)=>{n(e);const s=m.getSortOrderLabel(e);g?u.logInteraction(c.sortOptionFactory({identifier:s,position:t}).hitSort()):u.logInteraction(l.sortMenuFactory().sortOptionFactory({identifier:s,position:t}).hitSort())}),[m,u,n,c,l,g]),{show:y,onHide:b}=Vr(r);return g?(0,_.jsx)(Hr,{sortOptions:e.map((({id:e,name:t})=>({key:e,value:t}))),selectedSort:{key:p?.id??"",value:p?.name??""},onSortSelect:f,root:i,showReorderingOnboarding:r,scrollNodeRef:o,spec:c}):(0,_.jsx)("div",{className:Pr,ref:h,children:(0,_.jsx)(Ir,{bodyText:W._s.get("web-player.your-library-x.custom-ordering-onboarding-text"),root:i,show:y,childrenWrapperClassName:jr,onHide:b,children:(0,_.jsx)(br.W,{options:e.map((({id:e,name:t})=>({key:e,value:t}))),onClick:()=>{u.logInteraction(l.hitUiReveal())},onSelect:f,selected:{key:p?.id??"",value:p?.name??""},heading:W._s.get("web-player.your-library-x.sort_by"),ariaLabel:W._s.get("web-player.your-library-x.sort_by")})})})};var zr=n(37535),Yr=n(60078);const Kr=({clearOnEscapeInElementRef:e,primaryFilter:t,spec:n})=>{const i=(0,ze.u)(),r=(0,G.Mk)(),a=function(e){switch(e){case T.s.PRE_RELEASE:case T.s.ALBUM:return W._s.get("web-player.your-library-x.text-filter.albums-placeholder");case T.s.ARTIST:return W._s.get("web-player.your-library-x.text-filter.artists-placeholder");case T.s.PLAYLIST:return W._s.get("web-player.your-library-x.text-filter.playlists-placeholder");case T.s.SHOW:return W._s.get("web-player.your-library-x.text-filter.shows-placeholder");case T.s.AUDIOBOOK:return W._s.get("web-player.your-library-x.text-filter.audiobooks-placeholder");case"downloaded":return W._s.get("web-player.your-library-x.text-filter.downloaded-placeholder");case void 0:return W._s.get("web-player.your-library-x.text-filter.generic-placeholder");default:return void(0,mt.I)(e)}}(t),o=(0,s.useCallback)((()=>(r.logInteraction(n.searchButtonFactory().hitUiReveal()),!0)),[r,n]),l=(0,s.useCallback)((()=>(r.logInteraction(n.textFilterFactory().keyStrokeClearFilter()),!0)),[r,n]);return(0,_.jsx)(zr.Q,{placeholder:a,clearOnEscapeInElementRef:e,debounceFilterChangeTimeout:i?.getCapabilities().canTextFilterContentsInRealtime?0:void 0,expandDirection:"right",onActivate:o,onClear:l,useExpandCallback:e=>{(0,Yr.M)(E.Yj.FOCUS_YLX_TEXT_FILTER,e)}})};var qr=n(2052),Qr=n(12444),Xr=n(77808),$r=n(51776),Jr=n(26072),Zr=n(58136),ea=n(71508),ta=n(57200),na=n(6640);const sa=1248,ia=800,ra=(0,ut.Q)(Jr.s),aa=(0,ut.Q)(Zr.MT),oa=()=>(function(){const{size:e,setSize:t,minWidth:n,maxWidth:i,ylxCollapsedStateNavbarWidth:r,ylxDefaultStateNavbarWidth:o,ylxExpandedStateNavbarWidth:l}=(0,ta.Pi)(),{ylxSidebarState:c,setYlxSidebarState:d,canCollapse:u}=(0,Zr.iu)(),m=(0,na.sH)(),p=(0,$r.sN)(),{min:h,max:g,size:f,setSize:y}=(0,$r.wT)(),_=(0,ea.y)(),b=(0,s.useRef)(null),v=(0,s.useRef)(null),x=(0,s.useRef)(null);(0,s.useLayoutEffect)((()=>{const s=_-e-3*Xr.In-(m!==Jr.s.Disabled?f+Xr.In:0),C={leftSidebarWidth:e,leftSidebarMinWidth:n,leftSidebarMaxWidth:i,ylxSidebarState:c,ylxSidebarStateRestoreTarget:b.current,rightSidebarWidth:f,rightSidebarMinWidth:h,rightSidebarMaxWidth:g,rightSidebarPanel:m,rightSidebarPanelRestoreTarget:v.current,storedCollapsedYLXWidth:r,storedDefaultYLXWidth:o,storedExpandedYLXWidth:l,clientWidth:_,mainContentWidth:s,canCollapse:u},E=x.current;if((0,a.Q)(C,E))return;const S=function(e,t){if(!e)return{};let{leftSidebarWidth:n=0,rightSidebarWidth:s=0}=t;const{mainContentWidth:i=0,leftSidebarMinWidth:r=0,leftSidebarMaxWidth:a=0,ylxSidebarState:o,ylxSidebarStateRestoreTarget:l,rightSidebarMinWidth:c=0,rightSidebarMaxWidth:d=0,rightSidebarPanel:u,rightSidebarPanelRestoreTarget:m,storedCollapsedYLXWidth:p=0,storedDefaultYLXWidth:h=0,storedExpandedYLXWidth:g=0,clientWidth:f=0,canCollapse:y=!0}=t,_={},b=u!==Jr.s.Disabled,v=void 0!==e.leftSidebarWidth&&n>e.leftSidebarWidth,x=void 0!==e.rightSidebarWidth&&s>e.rightSidebarWidth,C=void 0===e.clientWidth?0:f-e.clientWidth,E=C<0,S=f>0,w=i<Xr.SO?Xr.SO-i:0;let I=E?-1*C:0;i>sa?I=Math.max(0,I-(i-sa)):w&&(I=w);const A=o===Zr.MT.EXPANDED&&e.ylxSidebarState!==Zr.MT.EXPANDED,T=o===Zr.MT.DEFAULT&&e.ylxSidebarState!==Zr.MT.DEFAULT;let k=n-r;v&&(k=A?n-ta.ot.EXPANDED_MIN:T?n-ta.ot.DEFAULT_MIN:0);let N=x?0:s-c;const O=I<=k+N;if(i<Xr.SO&&!O)b&&(v||E&&(o===Zr.MT.COLLAPSED||!y))?(_.rightSidebarPanel=Jr.s.Disabled,_.rightSidebarPanelRestoreTarget=t.rightSidebarPanel,I-=s,N=0):(o===Zr.MT.EXPANDED&&i+(n-ta.ot.DEFAULT_MIN)>Xr.SO?(_.ylxSidebarState=Zr.MT.DEFAULT,I-=n-h,k=h-ta.ot.DEFAULT_MIN):(_.ylxSidebarState=Zr.MT.COLLAPSED,I-=n-p,k=0),_.ylxSidebarStateRestoreTarget=t.ylxSidebarState);else if(u===Jr.s.Disabled&&m!==Jr.s.Disabled&&ra(m)&&u!==e.rightSidebarPanelRestoreTarget&&i-s-Xr.In>=Xr.SO)_.rightSidebarPanel=m,_.rightSidebarPanelRestoreTarget=null;else if(o===Zr.MT.DEFAULT&&l===Zr.MT.EXPANDED&&i-(g-n)>=Xr.SO)_.ylxSidebarState=Zr.MT.EXPANDED,_.ylxSidebarStateRestoreTarget=null;else if(o===Zr.MT.COLLAPSED&&l===Zr.MT.DEFAULT&&i-(h-n)>=Xr.SO)_.ylxSidebarState=Zr.MT.DEFAULT,_.ylxSidebarStateRestoreTarget=null;else if(S&&i>=ia){let e=a-n,t=d-s;const i=Math.min(C,e+t);for(let r=0;r<i;r++)n<s&&n<a&&e>0?(n++,e--):s<d&&t>0&&(s++,t--)}o!==e.ylxSidebarState&&aa(l)&&l===e.ylxSidebarStateRestoreTarget&&(_.ylxSidebarStateRestoreTarget=null);u!==e.rightSidebarPanel&&ra(m)&&m===e.rightSidebarPanelRestoreTarget&&(_.rightSidebarPanelRestoreTarget=null);if(I>0&&I<=k+N)for(let e=0;e<I;e++)n>s&&n>r&&k>0?(n--,k--):s>c&&N>0&&(s--,N--);n&&n!==t.leftSidebarWidth&&(_.leftSidebarWidth=n);s&&s!==t.rightSidebarWidth&&(_.rightSidebarWidth=s);return _}(E,C);void 0!==S.leftSidebarWidth&&t(S.leftSidebarWidth),aa(S.ylxSidebarState)&&d(S.ylxSidebarState),void 0!==S.ylxSidebarStateRestoreTarget&&(b.current=S.ylxSidebarStateRestoreTarget),void 0!==S.rightSidebarWidth&&y(S.rightSidebarWidth),void 0!==S.rightSidebarPanel&&p((0,na.O0)(S.rightSidebarPanel)),void 0!==S.rightSidebarPanelRestoreTarget&&(v.current=S.rightSidebarPanelRestoreTarget),x.current=C}),[e,n,i,t,c,f,h,g,y,m,r,o,l,d,p,_,u])}(),null),la=()=>(0,d.IP)(mi.MF0,{loadingValue:!1})?(0,_.jsx)(oa,{}):null;var ca=n(66852),da=n(13932);var ua=n(2364);var ma=n(90016);function pa(){const[e,t]=(0,s.useState)(null);if((0,ds.l)(cs.Wg.UPDATE_PIN_ERROR,(e=>{t(e.data)})),void 0===e?.reason)return null;switch(e.reason){case cs.uJ.TOO_MANY_PINS:return(0,_.jsx)(ma.G,{animated:!0,headingMessage:W._s.get("web-player.your-library-x.pin-error.title"),message:W._s.get("web-player.your-library-x.pin-error.message",e.maximumPinnedItems),buttonLabel:W._s.get("web-player.your-library-x.pin-error.ok"),isOpen:!0,onDismissDialog:()=>t(null)});case cs.uJ.NO_PIN_IN_FOLDER:return(0,_.jsx)(ma.G,{animated:!0,headingMessage:W._s.get("web-player.your-library-x.pin-error.no-pin-in-folder.title"),message:W._s.get("web-player.your-library-x.pin-error.no-pin-in-folder.message"),buttonLabel:W._s.get("web-player.your-library-x.pin-error.ok"),isOpen:!0,onDismissDialog:()=>t(null)});default:return(0,mt.I)(e),null}}var ha=n(15712),ga=n(48348),fa=n(89960);const ya={[cs.K.ALBUMS]:T.s.ALBUM,[cs.K.ARTISTS]:T.s.ARTIST,[cs.K.BOOKS]:T.s.AUDIOBOOK,[cs.K.EPISODES]:T.s.EPISODE,[cs.K.SHOWS]:T.s.SHOW,[cs.K.TRACKS]:T.s.TRACK};function _a(e,t){const n=(0,s.useCallback)((({data:{list:n}})=>{ba(e,ya[n])&&t()}),[e,t]);(0,ds.l)(cs.Wg.UPDATE,n),(0,ds.l)(cs.Wg.UPDATE_PIN,t);const i=(0,s.useCallback)((()=>{ba(e,T.s.PLAYLIST)&&t()}),[e,t]);(0,fs.wv)(i),function(e){(0,fa.Qb)("hm://collection/ylpin/",!0,e)}(t),function(e){const t=(0,s.useContext)(ga.E),n=t.getEvents();(0,s.useEffect)((()=>(n.addListener(ha.g.UPDATE,e),()=>{n.removeListener(ha.g.UPDATE,e)})),[t,n,e])}(t)}function ba(e,t){switch(e){case T.s.ALBUM:case T.s.ARTIST:case T.s.AUDIOBOOK:case T.s.SHOW:return e===t;case T.s.PLAYLIST:switch(t){case T.s.TRACK:case T.s.PLAYLIST:case T.s.EPISODE:return!0;default:return!1}default:return!0}}const va="main-yourLibraryX-libraryContainer",xa="main-yourLibraryX-libraryFilter",Ca="RcGCSu8qHUle68BTwF73",Ea="main-yourLibraryX-libraryItemContainer",Sa="main-yourLibraryX-libraryRootlist",wa="main-yourLibraryX-libraryIsCollapsed",Ia="glUVqQHA9VNQp0CHUTAs",Aa="main-yourLibraryX-filters",Ta="HUFl7FOi5oAlMEZNCBf4",ka="main-yourLibraryX-isScrolled",Na="main-yourLibraryX-filterArea",Oa={items:[],totalLength:0},Pa=5e4,ja=[Yt.__.TRACKS,Yt.__.LOCAL_TRACKS,Yt.__.ALBUMS,Yt.__.ARTISTS,Yt.__.PLAYLISTS_V2,Yt.__.SHOWS,Yt.__.AUDIOBOOKS,Yt.__.EPISODES,Yt.__.FOLDERS],La=[Yt.__.TRACKS,Yt.__.LOCAL_TRACKS,Yt.__.ALBUMS,Yt.__.EPISODES,Yt.__.PLAYLISTS_V2,Yt.__.FOLDERS],Ra=()=>{const{filter:e}=(0,s.useContext)(nt.on),[t,n]=(0,s.useState)(null),{filtersPickedByUserRef:i,selectedFilterIds:o,resetFilterIds:p,resetAndToggleRootFilter:h,toggleFilterId:f}=function(e){const{openedFolderUri:t=st,change:n,resetFolder:i}=(0,s.useContext)(it),r=(0,s.useRef)(t),[a,o]=(0,be.k)("ylx-active-filter-ids",{[t]:[]}),l=(0,s.useRef)(!0),d=(0,c.Y1)(((n,s=!0)=>{const i=new Set(e);i.has(n)?i.delete(n):i.add(n),l.current=s,o({...a,[t]:Array.from(i)})}),[e,o,t]),u=(0,s.useCallback)((()=>o({...a,[t]:[]})),[t,a,o]),m=(0,s.useCallback)((e=>{t&&i(),o({...a,[st]:e?[e]:[]})}),[t,i,a,o]);return(0,s.useLayoutEffect)((()=>{t!==r.current&&t!==st&&"PUSH"===n&&o({...a,[t]:a[r.current]}),r.current=t}),[n,t,a,o]),{filtersPickedByUserRef:l,selectedFilterIds:a[t],resetFilterIds:u,resetAndToggleRootFilter:m,toggleFilterId:d}}(t?.selectedFilters?.map((e=>e.id))??[]),y=o?.[0],{selectedSortOrderId:v,setSelectedSortOrderId:x}=function(e){const t=(0,ze.u)().getContentsPrimaryFilterId(T.s.PLAYLIST),{openedFolderUri:n=""}=(0,s.useContext)(it),[i,r]=(0,be.k)("ylx-active-sort-order-by-filter-id",{}),a=`${n&&t?t:e}`;return{selectedSortOrderId:i[a],setSelectedSortOrderId:(0,s.useCallback)((e=>{r({...i,[a]:e})}),[a,i,r])}}(y),L=(0,s.useRef)(null),R=(0,s.useRef)(null),D=(0,s.useRef)(null),{expandedFolders:U}=(0,s.useContext)(_e),{openedFolderUri:F,resetFolder:V}=(0,s.useContext)(it),H=(0,ca.w)(),W=(0,O.C)(),z=(0,s.useContext)(A.g),Y=(0,P.Y)(),K=sn(),[q,Q]=(0,s.useState)(!1),{isCollapsed:$,isExpanded:J,setYlxSidebarState:ee}=(0,w.iu)();(e=>{const t=(0,s.useContext)(A.g),{isCollapsed:n,setYlxSidebarState:i,lastUncollapsedYlxSidebarState:r}=(0,w.iu)(),a=(0,I.k)();(0,s.useEffect)((()=>(C().bind(a?E.Yj.TOGGLE_NPV_SIDEBAR:E.Yj.TOGGLE_YLX_SIDEBAR,(0,S.J)((()=>{const e=n?r:w.MT.COLLAPSED;i(e)}))),()=>{C().unbind(a?E.Yj.TOGGLE_NPV_SIDEBAR:E.Yj.TOGGLE_YLX_SIDEBAR)})),[n,a,r,i]),(0,s.useEffect)((()=>(C().bind(E.Yj.GO_TO_LIBRARY,(0,S.J)((()=>{e(null),n&&i(r)}))),()=>{C().unbind(E.Yj.GO_TO_LIBRARY)})),[n,r,e,i]),(0,s.useEffect)((()=>(C().bind(E.Yj.GO_TO_PLAYLISTS,(0,S.J)((()=>{e(t.getContentsPrimaryFilterId(T.s.PLAYLIST)),n&&i(r)}))),()=>{C().unbind(E.Yj.GO_TO_PLAYLISTS)})),[n,r,t,e,i]),(0,s.useEffect)((()=>(C().bind(E.Yj.GO_TO_PODCASTS,(0,S.J)((()=>{e(t.getContentsPrimaryFilterId(T.s.SHOW)),n&&i(r)}))),()=>{C().unbind(E.Yj.GO_TO_PODCASTS)})),[n,r,t,e,i]),(0,s.useEffect)((()=>(C().bind(E.Yj.GO_TO_ARTISTS,(0,S.J)((()=>{e(t.getContentsPrimaryFilterId(T.s.ARTIST)),n&&i(r)}))),()=>{C().unbind(E.Yj.GO_TO_ARTISTS)})),[n,r,t,e,i]),(0,s.useEffect)((()=>(C().bind(E.Yj.GO_TO_ALBUMS,(0,S.J)((()=>{e(t.getContentsPrimaryFilterId(T.s.ALBUM)),n&&i(r)}))),()=>{C().unbind(E.Yj.GO_TO_ALBUMS)})),[n,r,t,e,i]),(0,s.useEffect)((()=>(C().bind(E.Yj.GO_TO_AUDIOBOOKS,(0,S.J)((()=>{e(t.getContentsPrimaryFilterId(T.s.AUDIOBOOK)),n&&i(r)}))),()=>{C().unbind(E.Yj.GO_TO_AUDIOBOOKS)})),[n,r,t,e,i])})(h);const{isGridView:te}=(0,Bi.y)(),{libraryRowMode:ne}=fr(),se=ne===gr.COMPACT,{spec:ie,UBIFragment:re}=(0,G.gp)(u.I,{data:{identifier:"yourlibraryx"}});let ae;ae=$?"collapsed":te?J?"expanded_grid":"default_grid":se?J?"expanded_compact":"default_compact":J?"expanded_list":"default_list";const oe=(0,s.useMemo)((()=>ie.sidebarFactory({uri:F??st,identifier:ae})),[ie,F,ae]),ce=(0,G.K2)(oe),de=(0,s.useMemo)((()=>oe.headerFactory()),[oe]),ue=(0,s.useMemo)((()=>de.filtersFactory()),[de]),me=(0,s.useMemo)((()=>de.searchBarFactory()),[de]),he=(0,s.useMemo)((()=>oe.listFactory()),[oe]),ge=(0,G.Mk)();!function(e=[],t=[],n){const i=(0,da.O)(),r=(0,s.useContext)(A.g).getContentsPrimaryFilterId("downloaded"),a=(0,s.useRef)(e);a.current=e;const o=(0,s.useRef)(t);o.current=t;const l=(0,s.useRef)(n);l.current=n;const d=(0,s.useRef)(!1);(0,s.useEffect)((()=>{if(!r)return;const e=o.current.includes(r),t=a.current.includes(r),n=o.current.length>1,s=!i&&!n&&!e&&t,c=i&&e&&d.current;(s||c)&&(s&&(d.current=!0),l.current(r,!1))}),[r,i]);const u=(0,s.useRef)(t);(0,c.c5)((()=>{r&&(t.includes(r)&&!u.current.includes(r)&&d.current||(d.current=!1),u.current=t)}),[r,t])}(t?.availableFilters?.map((e=>e.id)),t?.selectedFilters?.map((e=>e.id)),f);const{handleDropOnFolder:fe,unpinConfirmationDialog:ve}=bs(he,F),{dropOriginIsYLX:xe,entityIsInFolder:Ce}=nn(),{setDraggingIsInProgress:Ee}=(0,s.useContext)(tn.gT);(0,Qr.o)(L);const Se=F?La:ja,we=Ce&&!t?.reorderAllowed?[Yt.__.PLAYLISTS_V2,Yt.__.FOLDERS]:[],{dropPosition:Ie,className:Ae,...Te}=(0,Ye.eE)({allowedMimeTypesByDropPosition:{[Ye.Ab.ON]:xe?we:Se},onDrop:(0,s.useCallback)((async e=>{if(F)fe(e);else{const{[Yt.__.TRACKS]:t=[],[Yt.__.LOCAL_TRACKS]:n=[],[Yt.__.ALBUMS]:s,[Yt.__.ARTISTS]:i,[Yt.__.EPISODES]:r,[Yt.__.SHOWS]:a,[Yt.__.PLAYLISTS_V2]:o=[],[Yt.__.FOLDERS]:l}=e,c=[...t,...n];c.length&&(z?.add({uris:c}),ge.logInteraction(he.dragCreatePlaylist())),s?.length&&(z?.add({uris:s}),ge.logInteraction(he.dragLike({itemToBeLiked:s.at(0)??""}))),i?.length&&(z?.add({uris:i}),ge.logInteraction(he.dragLike({itemToBeLiked:i.at(0)??""}))),r?.length&&(z?.add({uris:r}),ge.logInteraction(he.dragLike({itemToBeLiked:r.at(0)??""}))),a?.length&&(z?.add({uris:a}),ge.logInteraction(he.dragLike({itemToBeLiked:a.at(0)??""}))),o.length&&(K(o,{before:"start"}),xe?ge.logInteraction(he.dragSort()):ge.logInteraction(he.dragLike({itemToBeLiked:o.at(0)??""}))),l?.length&&(Y.moveFolder({uri:l[0]},{before:"start"}),ge.logInteraction(he.dragSort()))}}),[F,fe,z,ge,he,K,xe,Y]),onLongDragOver:(0,s.useCallback)((()=>{$&&ee(w.MT.DEFAULT)}),[$,ee])}),ke=(0,s.useMemo)((()=>({filters:o,sortOrder:v,textFilter:e,includeLocalFiles:W,includeYourEpisodes:!0,includeLikedSongs:!0,expandedFolders:$||te?[]:U,filtersPickedByUser:i.current,folderUri:F})),[U,i,W,te,$,F,o,v,e]),Ne=(0,s.useCallback)((async(e,t)=>{try{const s=await z.getContents({offset:e,limit:t,...ke}),{offset:i,limit:r,items:o,...l}=s;return Q(!1),{fetchedId:ke.folderUri,onCacheSuccess:()=>{n((e=>(0,a.Q)(l,e)?e:l))},...s}}catch(e){return e instanceof g.oJ?(p(),Oa):e instanceof g.wS?(x(void 0),Oa):e instanceof g.im?(V(),Oa):((0,j.W8)(e),Q(!0),Oa)}}),[ke,z,p,V,x]),Oe=!1===t?.hasUnfilteredItems,Pe=t?.hasTextFilter&&0===t.totalLength&&""!==e,{setFilter:je}=(0,s.useContext)(nt.on);(0,s.useEffect)((()=>{Pe&&$&&je("")}),[Pe,$,je]);const Le=0===t?.totalLength&&t.selectedFilters.length>0&&!t.passedFolderUri&&!t.hasTextFilter;(0,c.c5)((()=>{const e=t?.selectedFilters.at(-1);Le&&e&&f(e.id,!1)}),[Le,t?.selectedFilters]);const Re=(0,d.IP)(mi.EvA,{loadingValue:!1})&&z?.getCapabilities().canFetchAllItems,{fetchedId:De,getItems:Me,nrValidItems:Ue,invalidateCache:Fe}=(0,N.W)({nrItems:50,fetch:Ne,limit:50,cacheAllOnInvalidation:Re,cacheAllLimit:Pa}),Ge=(0,l.yK)(Fe,200,{leading:!0,trailing:!0,maxWait:1e3});_a(t?.primaryFilter,Ge);const Ve=!F&&!De||F===De;((e,t="")=>{const n=(0,s.useRef)({});(0,s.useLayoutEffect)((()=>{if(!e.current)return()=>{};const s=e.current,i=n.current[t];s.scrollTop=i??0;const r=()=>{n.current[t]=s.scrollTop};return s?.addEventListener("scroll",r),()=>{s?.removeEventListener("scroll",r)}}),[e,t])})(L,De);const He=(0,s.useCallback)((()=>{Fe(),Q(!1)}),[Fe]),We=(0,Gr.K)(L),qe=!!t?.openedFolderName,Qe=(0,d.IP)(mi.UxD,{loadingValue:!1})&&Re,Xe=function(e,t,n){const{isGridView:i}=(0,Bi.y)(),{rowHeight:r}=fr();return(0,s.useCallback)((async s=>{let a=r,o=1;if(i){const t=e.current?.querySelector('li[role="row"]');a=t?.getBoundingClientRect().height??0,t?.parentElement&&(o=getComputedStyle(t.parentElement).getPropertyValue("grid-template-columns").split(" ").length)}if(!a)return null;const l=n(0,Pa,{cachedOnly:!0}),c=l.find((e=>e?.name&&(0,ua.w)(s,e.name))),d=c?l.indexOf(c):-1;return-1!==d&&t.current&&function(e,t,n,s){if(!e)return;const{scrollTop:i,offsetHeight:r}=e,a=t&&e?t.getBoundingClientRect().top+i-e.getBoundingClientRect().top:0;if(a+n<i||a+n+s>i+r){const t=n-r/2+a+s/2;e.scrollTop=t}}(t.current,e.current,Math.floor(d/o)*a,a),c?.uri??null}),[e,t,r,n,i])}(D,L,Me),$e=q?(0,_.jsx)(ye,{onClick:He}):null;let Je;(0,s.useEffect)((()=>{q&&$&&ee(w.MT.DEFAULT)}),[q,$,ee]),Oe&&!$&&(Je=qe?(0,_.jsx)(Z,{className:Ae}):(0,_.jsx)(le,{className:Ae}));const Ze=Pe?(0,_.jsx)(pe,{query:e,className:Ae}):null,et=(0,d.IP)(mi.WIf),rt=!$&&!Je&&(0,_.jsxs)("div",{className:r()(xa,Ae,{[Ca]:et}),children:[(0,_.jsx)(Kr,{clearOnEscapeInElementRef:R,primaryFilter:t?.primaryFilter,spec:me},F),(0,_.jsx)(Wr,{sortOrders:t?.availableSortOrders??[],activeSortOrderId:t?.selectedSortOrder?.id,setActiveSortOrderId:x,root:R.current,showReorderingOnboarding:t?.primaryFilter===T.s.PLAYLIST&&!t?.reorderAllowed,spec:de,scrollNodeRef:L})]}),at=q&&!t,ot=J&&!te&&!$e&&!Je;return(0,_.jsx)(M,{containerRef:R,findMatchingTypeaheadUid:Xe,isEnabled:Qe,children:(0,_.jsxs)(re,{spec:ie,children:[(0,_.jsx)(la,{}),(0,_.jsx)(m.UF,{menu:(0,_.jsx)(b,{folderUri:F}),children:(0,_.jsxs)("div",{className:r()(va,{[Ke]:Ie===Ye.Ab.ON,[wa]:$}),ref:e=>{R.current=e,ce(e)},...Te,tabIndex:-1,onDragStart:()=>Ee(!0),onDragEnd:()=>Ee(!1),children:[ve,(0,_.jsxs)("div",{className:r()({[ka]:We}),children:[(0,_.jsx)(ir,{parentDropTargetClassName:Ae,isLibraryCompletelyEmpty:Oe,folderUri:t?.passedFolderUri,folderName:t?.openedFolderName,spec:de.titleRowFactory()}),!H&&(0,_.jsx)(X,{spec:de}),!$&&!at&&(0,_.jsxs)("div",{className:Na,children:[(0,_.jsx)(tt,{selectedFilters:t?.selectedFilters,availableFilters:t?.availableFilters,toggleFilterId:f,resetFilterIds:p,className:r()(Aa,{[Ta]:!Ve}),scrollNodeRef:L,spec:ue},De),J&&rt]}),ot&&(0,_.jsx)(Be,{isScrolled:We})]}),(0,_.jsx)(qr.G,{className:Ea,ref:e=>{e&&!L.current&&(L.current=e.osInstance().getElements().viewport)},children:(0,_.jsx)(k.A,{containerRef:R,children:(0,_.jsxs)("div",{className:r()(Sa,{[Ta]:!q&&!Ve,[wa]:$,[Ia]:ot}),children:[!J&&rt,$e||Je||Ze,(0,_.jsx)("div",{ref:D,children:te?(0,_.jsx)(yi,{getItems:Me,scrollNodeRef:L,primaryFilter:t?.primaryFilter,nrValidItems:Ue,spec:he}):(0,_.jsx)(_r,{getItems:Me,scrollNodeRef:L,primaryFilter:t?.primaryFilter,nrValidItems:Ue,spec:he})})]})})}),pa(),(0,_.jsx)(B,{})]})})]})})},Da=()=>{const{isAnonymous:e}=(0,o.w1)((e=>e.session));return(0,_.jsx)(v.a,{onError:e=>{(0,j.gh)(e,"YourLibraryX")},children:(0,_.jsx)(nt.WC,{uri:g.k1,children:(0,_.jsx)(ve,{children:(0,_.jsxs)(rt,{children:[(0,_.jsx)(Ra,{}),(0,_.jsx)(oe.cj,{isAnonymous:e})]})})})})}},58136:(e,t,n)=>{"use strict";n.d(t,{MT:()=>s.MT,QV:()=>s.QV,aM:()=>s.aM,iu:()=>s.iu});var s=n(97876)},75480:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var s=n(53048);const i=()=>{const e=(0,s.oV)();return e===s.u_.SMALL||e===s.u_.XSMALL?"medium":"large"}},71508:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var s=n(96651);function i(){const[e,t]=(0,s.useState)(document.body.clientWidth);return(0,s.useLayoutEffect)((()=>{const e=()=>{t(document.body.clientWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),document.body.clientWidth}},68604:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});n(73952),n(97296);var s=n(4564),i=n(14788),r=n(12100),a=n(31396),o=n(68964),l=n(33876),c=n(72001),d=n(16928),u=n(99279);const m=e=>(0,i.nX)(e)?.toURLPath(!0)??"",p=e=>{const{user:t}=(0,s.w1)(o.cx),{item:n,context:i}=(0,c.o)((e=>({item:e?.item,context:e?.context})),((e,t)=>e.item?.uri===t.item?.uri));if(!n||!i)return{title:null,link:null};const p=(0,a.qw)();if(i.uri===p.uri||i.uri===l.d)return{title:p.name,link:m(l.d)};if((0,d.UZ)(n)&&!e)return{title:r._s.get("ad-formats.advertisement"),link:null};if("queue"===n.provider&&!e)return{title:r._s.get("playback-control.queue"),link:m("spotify:app:queue")};const h=(0,a.a0)(t?.id);if(i.uri===h?.uri)return{title:h?.name,link:m(h?.uri)};const g=(0,a.SG)(t?.id);return i.uri===g?.uri?{title:g?.name,link:m(g?.uri)}:(0,u.Uv)(i)?{title:[n.metadata?.station_title,n.metadata?.station_subtitle].filter(Boolean).join(" • "),link:null}:{title:i.metadata?.context_description??n?.name??"",link:m(i.uri)??m(n.uri)??""}}},32223:(e,t,n)=>{"use strict";n.d(t,{i:()=>r,o:()=>s});n(73952),n(97296),n(41260);const s={SMALL:192,BIG:232},i={small:{width:64,height:64},standard:{width:300,height:300},large:{width:640,height:640},xlarge:{width:1280,height:1280}};function r(e){const t=function(e=[]){const t=e.map(a),n=t.filter((e=>e.width>=s.SMALL&&e.url)).sort(((e,t)=>e.width-t.width));return n.length?n:t}(e),[n]=t,i=n?.url||null;if(!i)return[];return[i,t.filter((({url:e,width:t})=>e&&t)).map((({url:e,width:t})=>`${e} ${t/2}w, ${e} ${t}w`)).join(", "),`(min-width: 1280px) ${s.BIG}px, ${s.SMALL}px`]}function a(e){if(!e.label)return e;const{width:t,height:n}=i[e.label];return{url:e.url,width:t,height:n}}},33096:(e,t,n)=>{"use strict";n.d(t,{g:()=>a,h:()=>o});var s=n(96651),i=n(6060);const r=new Map,a=()=>{const e=(0,i.K)();(0,s.useEffect)((()=>e.block(((e,t)=>{for(const[n]of r)if(n(e,t))return!1}))),[e])},o=(e,t=[])=>{(0,s.useEffect)((()=>(r.set(e,!0),()=>{r.delete(e)})),[...t,e])}},6060:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var s=n(57800);const i=()=>{const e=(0,s.eq)();if(null===e)throw new Error("Trying to use 'PlatformContext' without 'PlatformProvider'!");return e.getHistory()}},7296:(e,t,n)=>{"use strict";n.d(t,{w:()=>c});var s=n(96651),i=n(4564),r=n(33220),a=n(81040);n(73952),n(97296);const o=(e,t)=>n=>{const{intent:s,type:i,targetUri:r,itemIdSuffix:a,pathNameOverride:o}=n,l=a?`${t}/${a}`:t,c=o||e;return{page:c.split(/\//).filter((e=>""!==e)).shift(),view_uri:c,action_intent:s,action_type:i,target_uri:r,item_id:l}};var l=n(52720);function c(){const e=(0,s.useContext)(a.wj),t=(0,i.OY)(),{pathname:n}=(0,r.IT)();return(0,s.useCallback)((s=>{const i=o(n,e);t((0,l.A)(i(s)))}),[t,n,e])}},15868:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});var s=n(96651);const i=(e,t)=>{const n=(0,s.useRef)(e);(0,s.useEffect)((()=>{n.current=e}),[e]),(0,s.useEffect)((()=>{let e;function s(){e&&clearInterval(e)}if(null!==t)return e=setInterval((function(){n.current(s)}),t),s}),[t])}},92280:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var s=n(4564),i=n(68964);const r=()=>{const e=(0,s.w1)(i.cx);return e?.isAnonymous??!1}},15700:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var s=n(4564);const i=()=>(0,s.w1)((e=>e.platform?.isBrowser))},66852:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var s=n(72888);const i=()=>"1"!==(0,s.o)("dsa-mode-enabled")},59604:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var s=n(4564),i=n(49232),r=n(15040),a=n(68964);const o=()=>{const e=(0,i.IP)(r.G2b,{loadingValue:!1}),t=(0,s.w1)(a.SM);return e&&t}},52184:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});var s=n(13932),i=n(8968),r=n(50060);function a(e,t=!0,n=!1,a=!1){const o=(0,r._)(e),l=(0,s.O)(),c=o===i.If.YES;return t&&(l||c||n)&&!a}},44772:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var s=n(4564);function i(){return(0,s.w1)((e=>e.ui?.textDirection?.isRTL))}},96480:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});n(73952),n(39568);var s=n(96651);function i(e,t="-100% 0px 0px 0px",n=0,i){const[r,a]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{if(!window.IntersectionObserver)return()=>{};const s=new window.IntersectionObserver((e=>{e.forEach((e=>{a(!e.isIntersecting)}))}),{root:e.current,rootMargin:t,threshold:n});return i?.current?s.observe(i.current):e.current?.firstElementChild&&s.observe(e.current.firstElementChild),()=>{s.disconnect()}}),[i,t,e,n]),r&&!!e.current?.scrollTop}},3932:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var s=n(96651),i=n(33220),r=n(14788);function a(e){const t=(0,r.nX)(e);let n="";return t&&(n=t.toURLPath(!0)),function(e){const t=(0,i.i6)();return(0,s.useCallback)((()=>{""!==e&&t(e)}),[e,t])}(n)}},38292:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var s=n(4564),i=n(14788),r=n(3844),a=n(13932),o=n(68964);const l=e=>{const[t]=(0,r.X)(e),n=(0,a.O)(),l=(0,s.w1)(o.Yf);return!n&&t?(0,i.YH)(l,(0,i.nX)(e)?.id).toURI():e}},13932:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var s=n(96651),i=n(35096);const r=()=>{const e=(0,s.useContext)(i.Y);if(null===e)throw new Error("Trying to use 'OfflineContext' without 'OfflineStatusProvider'!");return e.online}},5864:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});n(73952),n(97296),n(39568);var s=n(96651);function i(e){return(0,s.useCallback)((t=>{null!==t&&void 0!==t.getAnimations&&t.getAnimations({subtree:!0}).filter((t=>t instanceof CSSAnimation&&t.animationName===e&&"running"===t.playState)).forEach((e=>e.startTime=0))}),[e])}},18612:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});var s=n(96651),i=n(4564);function r(e){const{isDesktop:t,isBrowser:n}=(0,i.w1)((e=>e.platform));return(0,s.useCallback)((s=>{const i=new URL(s);return t?i.searchParams.set("ref",`desktop_${e}`):n&&i.searchParams.set("ref",`web_${e}`),i.toString()}),[t,n,e])}},10484:(e,t,n)=>{"use strict";n.d(t,{o:()=>o,y:()=>a});var s=n(96651),i=n(33220),r=n(6912);const a=()=>{const e=(0,i.IT)(),t=(0,r.Q)();e.state?.referrer?t.setReferrer(e.state?.referrer):e.state={...e.state,referrer:t.getReferrer()}},o=e=>{const t=(0,r.Q)(),n=(0,i.IT)();(0,s.useEffect)((()=>{t.setReferrer(e),n.state={..."object"==typeof n.state?n.state:{},referrer:e}}),[n,t,e])}},87712:(e,t,n)=>{"use strict";n.d(t,{CI:()=>r,GC:()=>u,K0:()=>o,MB:()=>l,OG:()=>a,Yz:()=>c,_m:()=>i,aW:()=>d,w$:()=>s});const s={DISMISS_IN_APP_MESSAGE:"DISMISS_IN_APP_MESSAGE",PREVIEW_IN_APP_MESSAGE:"PREVIEW_IN_APP_MESSAGE",SET_IN_APP_MESSAGING_ENV:"SET_IN_APP_MESSAGING_ENV",SHOW_IN_APP_MESSAGE:"SHOW_IN_APP_MESSAGE",SHOW_PREVIEW_TOOL:"SHOW_PREVIEW_TOOL",TRIGGER_APP_START_IN_APP_MESSAGE:"TRIGGER_APP_START_IN_APP_MESSAGE",TRIGGER_CONTEXT_START_IN_APP_MESSAGE:"TRIGGER_CONTEXT_START_IN_APP_MESSAGE",TRIGGER_JAMMABLE_CONTEXT_START_IN_APP_MESSAGE:"TRIGGER_JAMMABLE_CONTEXT_START_IN_APP_MESSAGE"};function i(){return{type:s.TRIGGER_APP_START_IN_APP_MESSAGE}}function r(){return{type:s.TRIGGER_CONTEXT_START_IN_APP_MESSAGE}}function a(){return{type:s.TRIGGER_JAMMABLE_CONTEXT_START_IN_APP_MESSAGE}}function o(e){return{type:s.SHOW_IN_APP_MESSAGE,message:e}}function l(){return{type:s.DISMISS_IN_APP_MESSAGE}}function c(e,t){return{type:s.PREVIEW_IN_APP_MESSAGE,creativeId:e,appUri:t}}function d(e){return{type:s.SET_IN_APP_MESSAGING_ENV,env:e}}function u(e){return{type:s.SHOW_PREVIEW_TOOL,show:e}}},80060:(e,t,n)=>{"use strict";n.d(t,{Jt:()=>r,us:()=>i,xx:()=>s,y4:()=>a});const s="player.play",i="library.add",r="rootlist.add",a="follow.user"},33672:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s=e=>"spotify:artist:0LyfQWJT6nXafLPZqxe9Of"!==e.uri},10928:(e,t,n)=>{"use strict";n.d(t,{IB:()=>s.IB,O6:()=>r.O,aR:()=>i.a});var s=n(94904),i=n(96956),r=n(72232)},96956:(e,t,n)=>{"use strict";n.d(t,{a:()=>a,m:()=>o});var s=n(96651),i=n(32976),r=n(94904);function a(e,t=i.EFd){const[,n]=(0,r.IB)();return(0,s.useEffect)((()=>(e&&n((0,r.K3)(e)),()=>{n((0,r.ai)())})),[e,n]),e||t}const o=({color:e,fallbackColor:t})=>(a(e,t),null)},72232:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var s=n(96651),i=n(32976),r=n(32476),a=n(94904);function o(e=null,t=i.EFd){const[{backgroundColor:n},o]=(0,a.IB)(),l=(0,r.s)(e);return(0,s.useEffect)((()=>(o((0,a.K3)(l)),()=>{o((0,a.ai)())})),[l,o]),n||t}},15060:(e,t,n)=>{"use strict";n.d(t,{kH:()=>a,s$:()=>p,Mx:()=>b,qI:()=>f});var s=n(96651),i=n(2488);const r=(0,s.createContext)({copy:()=>{}}),a=({instance:e,children:t})=>(0,i.jsx)(r.Provider,{value:e,children:t});var o=n(18648),l=n(76361),c=n(60078);const d=50,u=["meta+c"],m=["meta+shift+c"];function p(e){const t=(0,s.useContext)(r),n=(0,o.yK)((()=>{e((e=>t.copy(e)),!1)}),d,{leading:!0,trailing:!1}),i=(0,o.yK)((()=>{e((e=>t.copy(e)),!0)}),d,{leading:!0,trailing:!1});(0,c.M)(u,n),(0,c.M)(m,i),(0,l.GU)(l.ak.COPY,n),(0,l.GU)(l.ak.COPY_ADVANCED,i)}const h=500,g=["meta+v"];function f(e){const t=(0,s.useContext)(r),n=(0,o.yK)((()=>{t.paste().then((t=>e(t)))}),h,{leading:!0,trailing:!1});(0,c.M)(g,n),(0,l.GU)(l.ak.PASTE,n)}const y=50,_=["meta+x"];function b(e){const t=(0,s.useContext)(r),n=(0,o.yK)((()=>{e((e=>t.copy(e)))}),y,{leading:!0,trailing:!1});(0,c.M)(_,n),(0,l.GU)(l.ak.CUT,n)}},42972:(e,t,n)=>{"use strict";n.d(t,{I5:()=>a,WB:()=>r,i2:()=>o});var s=n(45808);const i=["artist","artistban","ban","collection","enhanced","ignoreinrecs","listenlater","show","ylpin","prerelease"];function r(e){return i.includes(e)}let a=function(e){return e.ADDED="added",e.REMOVED="removed",e}({});class o extends s.u{}},16824:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var s=n(96651),i=n(75292);function r(e){const t=(0,i.k)();return{add:(0,s.useCallback)(((...n)=>t.add(e,n)),[t,e]),remove:(0,s.useCallback)(((...n)=>t.remove(e,n)),[t,e]),contains:(0,s.useCallback)(((...n)=>t.contains(e,n)),[t,e]),useContains:(0,s.useCallback)((function(...n){const[i,r]=(0,s.useState)([]);return(0,s.useEffect)((()=>{r((e=>e.length?[]:e));return t.subscribeContains(e,n,r)}),n),i}),[t,e])}}},35660:(e,t,n)=>{"use strict";n.d(t,{M:()=>s,y:()=>i});const s="macOS"===(0,n(51160).k)()?42:40,i=64},90912:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var s=n(74992);class i extends s._w{}},22876:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,o:()=>a});const s=["ar","az","bg","cs_CZ","da","de","ee","el","en","es","es_mx","fi","fp","fr","fr_ca","he","hu","id","it","ja","ko","lt","lv","ms","mt","nb","nl","pl","pt","pt_br","ro","ru","sk","sl","sv","th_TH","tr","vi_VN","zh_HANS","zh_HANT"],i=["af","ar","am","az","be","bg","bn","bs","ca","cr","cs_CZ","da","de","el","en","es","es_419","et","eu","fa","fi","fp","fr","fr_ca","gl","gu","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","nb","ne","nl","pa","pl","pt","pt_br","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th_TH","tr","ua","ur","uz","vi_VN","zh_HANS","zh_HANT","zh_hk","zu"],r=e=>`images/download-badges/apple/${s.includes(e)?e:"int"}.svg`,a=e=>`images/download-badges/google/${i.includes(e)?e:"int"}.svg`},44203:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});n(73952),n(39568);var s=n(92116),i=n(75220),r=n(39352);class a{constructor(e){this.localStorageAPI=e,this.filters=JSON.parse(JSON.stringify(this.getPreset().filters))}subscribeToEnabledState(e){throw new Error("subscribeToEnabledState not yet implemented")}setEnabledState(e){throw new Error("setEnabledState not yet implemented")}async setFilterGain(e,t){throw new Error("setFilterGain not yet implemented")}async getFilters(){throw new Error("getFilters not yet implemented")}isSupported(){throw new Error("isSupported not yet implemented")}setPreset(e){const t="string"==typeof e?r.Ex[e]:e;this.localStorageAPI.setItem(i.Q,t),t.filters.forEach((e=>{this.setFilterGain(e.key,e.gain)}))}getPreset(){const e=this.localStorageAPI.getItem(i.Q);return e instanceof Error?r.Ex.flat:e}subscribeToPresetChange(e){const t=this.localStorageAPI.getEvents(),n=t=>{if(t.data.key===i.Q){const n=t.data.value;e(n)}};return t.addListener(s.s.UPDATE,n),()=>{t.removeListener(s.s.UPDATE,n)}}}},75220:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,Q:()=>i});const s="audio.equalizer.enabled",i="audio.equalizer.saved_preset"},39352:(e,t,n)=>{"use strict";n.d(t,{Ex:()=>o,gr:()=>i,iA:()=>l});n(73952),n(41260),n(99400);var s=n(12100);const i=12,r=[{type:"lowshelf",frequency:60,key:"audio.equalizer.low_shelf_gain_v2",gain:0},{type:"peaking",frequency:150,key:"audio.equalizer.low_peak_gain_v2",gain:0},{type:"peaking",frequency:400,key:"audio.equalizer.low_mid_peak_gain_v2",gain:0},{type:"peaking",frequency:1e3,key:"audio.equalizer.high_mid_peak_gain_v2",gain:0},{type:"peaking",frequency:2400,key:"audio.equalizer.high_peak_gain_v2",gain:0},{type:"highshelf",frequency:15e3,key:"audio.equalizer.high_shelf_gain_v2",gain:0}],a={flat:{gains:[0,0,0,0,0,0],get displayName(){return s._s.get("equalizer.preset.flat")}},acoustic:{gains:[4.9,3.95,2.15,1.75,3.5,2.15],get displayName(){return s._s.get("equalizer.preset.acoustic")}},bassBooster:{gains:[4.25,3.5,1.25,0,0,0],get displayName(){return s._s.get("equalizer.preset.bassBooster")}},bassReducer:{gains:[-4.25,-3.5,-1.25,0,0,0],get displayName(){return s._s.get("equalizer.preset.bassReducer")}},classical:{gains:[3.75,3,-1.5,-1.5,0,3.75],get displayName(){return s._s.get("equalizer.preset.classical")}},dance:{gains:[6.55,4.99,1.92,3.65,5.15,0],get displayName(){return s._s.get("equalizer.preset.dance")}},deep:{gains:[3.55,1.75,2.85,2.5,1.45,-2.15,-3.55,-4.6],get displayName(){return s._s.get("equalizer.preset.deep")}},electronic:{gains:[3.8,1.2,-2.15,2.25,.85,4.8],get displayName(){return s._s.get("equalizer.preset.electronic")}},hiphop:{gains:[4.25,1.5,-1,-1,1.5,3],get displayName(){return s._s.get("equalizer.preset.hiphop")}},jazz:{gains:[3,1.5,-1.5,-1.5,0,3.75],get displayName(){return s._s.get("equalizer.preset.jazz")}},latin:{gains:[3,0,-1.5,-1.5,-1.5,4.5],get displayName(){return s._s.get("equalizer.preset.latin")}},loudness:{gains:[4,0,-2,0,-1,1],get displayName(){return s._s.get("equalizer.preset.loudness")}},lounge:{gains:[-1.5,-.5,4,2.5,0,1],get displayName(){return s._s.get("equalizer.preset.lounge")}},piano:{gains:[2,0,3,1.5,3.5,3.5],get displayName(){return s._s.get("equalizer.preset.piano")}},pop:{gains:[-1,0,4,4,2,-1.5],get displayName(){return s._s.get("equalizer.preset.pop")}},rnb:{gains:[6.92,5.65,-2.19,-1.5,2.32,3.75],get displayName(){return s._s.get("equalizer.preset.rnb")}},rock:{gains:[4,3,-.5,-1,.5,4.5],get displayName(){return s._s.get("equalizer.preset.rock")}},smallSpeakers:{gains:[4.25,3.5,1.25,0,-1.25,-4.25],get displayName(){return s._s.get("equalizer.preset.smallSpeakers")}},spokenWord:{gains:[-.47,0,3.46,4.61,4.84,0],get displayName(){return s._s.get("equalizer.preset.spokenWord")}},trebleBooster:{gains:[0,0,0,1.25,2.5,5.5],get displayName(){return s._s.get("equalizer.preset.trebleBooster")}},trebleReducer:{gains:[0,0,0,-1.25,-2.5,-5.5],get displayName(){return s._s.get("equalizer.preset.trebleReducer")}},vocalBooster:{gains:[-3,-3,3.75,3.75,3,-1.5],get displayName(){return s._s.get("equalizer.preset.vocalBooster")}}},o=Object.entries(a).reduce(((e,[t,n])=>({...e,[t]:{filters:r.map(((e,t)=>Object.freeze({...e,gain:n.gains[t]}))),key:t,get displayName(){return n.displayName}}})),{});function l(e){return{key:"custom",displayName:s._s.get("equalizer.preset.manual"),filters:e.map(((e,t)=>({frequency:o.flat.filters[t].frequency,key:o.flat.filters[t].key,type:o.flat.filters[t].type,gain:e})))}}},49672:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,w:()=>r});var s=n(45808);let i=function(e){return e.CONNECTION_STATE_CHANGE="connection_state_change",e}({});class r extends s.u{}},97852:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,_:()=>i});var s=n(96651);const i=(0,s.createContext)(null);function r(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use FacebookContext without FacebookProvider!");return e}},25972:(e,t,n)=>{"use strict";n.d(t,{If:()=>a,gz:()=>r,nv:()=>i});var s=n(45808);let i=function(e){return e.FOLLOW_USER="follow_user",e.UNFOLLOW_USER="unfollow_user",e.IS_FOLLOWING_USER="is_following_user",e}({}),r=function(e){return e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete",e}({});class a extends s.u{emitOperationSync(e,t){return this.emitSync(r.OPERATION,{operation:e,uris:t}).defaultPrevented}emitOperationComplete(e,t,n=null){this.emit(r.OPERATION_COMPLETE,{operation:e,uris:t,error:n})}}},94668:(e,t,n)=>{"use strict";n.d(t,{U:()=>m});n(73952),n(39568);var s=n(14788),i=n(47752),r=(n(41260),n(42444)),a=n(88272);n(99972);const o=Spicetify.GraphQL.Definitions["isFollowingUsers"]=new a.a("isFollowingUsers","query","c00e0cb6c7766e7230fc256cf4fe07aec63b53d1160a323940fce7b664e95596",null),l=Spicetify.GraphQL.Definitions["followUsers"]=new a.a("followUsers","mutation","c00e0cb6c7766e7230fc256cf4fe07aec63b53d1160a323940fce7b664e95596",null),c=Spicetify.GraphQL.Definitions["unfollowUsers"]=new a.a("unfollowUsers","mutation","c00e0cb6c7766e7230fc256cf4fe07aec63b53d1160a323940fce7b664e95596",null);var d=n(25972);const u=Symbol();class m{constructor(e,t){this._events=new d.If,this._cache=t??new i.uK,this._loader=e}getEvents(){return this._events}async isFollowing(e){const t={},n=[];if(this._validateURIs(e),e.forEach((e=>{const s=this._cache.get(e);void 0!==s?t[e]=s:n.push(e)})),n.length>0){const e=await this.executeOperation(d.nv.IS_FOLLOWING_USER,n,(()=>async function(e,t){const n=[];if(t.length>0){const s=await e(o,{uris:t});s?.data?.users?.forEach((e=>{"User"===e.__typename?n.push({uri:e.uri,isFollowing:e.following}):"NotFound"===e.__typename&&n.push({uri:e.uri,isFollowing:!1})}))}return n}(this._loader,n)));e!==u?e.forEach((e=>{this._cache.set(e.uri,e.isFollowing),t[e.uri]=e.isFollowing})):n.forEach((e=>{t[e]=!1}))}return t}async followUsers(e){this._validateURIs(e);const t=await this.executeOperation(d.nv.FOLLOW_USER,e,(()=>async function(e,t){const n=[];if(t.length>0){const i=await e(l,{usernames:t.map((e=>(0,r.w)(e)))});i?.data?.followUsers.responses.forEach((e=>{if("FollowUserResult"===e.__typename&&e.result){const t=(0,s.oh)(e.username).toURI();n.push({uri:t,isFollowing:!0})}}))}return n}(this._loader,e)));t!==u&&t.forEach((e=>{this._cache.set(e.uri,e.isFollowing)}))}async unfollowUsers(e){this._validateURIs(e);const t=await this.executeOperation(d.nv.UNFOLLOW_USER,e,(()=>async function(e,t){const n=[];if(t.length>0){const i=await e(c,{usernames:t.map((e=>(0,r.w)(e)))});i?.data?.unfollowUsers.responses.forEach((e=>{if("UnfollowUserResult"===e.__typename&&e.result){const t=(0,s.oh)(e.username).toURI();n.push({uri:t,isFollowing:!1})}}))}return n}(this._loader,e)));t!==u&&t.forEach((e=>{this._cache.set(e.uri,e.isFollowing)}))}async executeOperation(e,t,n){if(this._events.emitOperationSync(e,t))return u;try{const s=await n();return this._events.emitOperationComplete(e,t),s}catch(n){throw this._events.emitOperationComplete(e,t,n instanceof Error?n:new Error("Unknown error object")),n}}_validateURIs(e){e.forEach((e=>{if(!(0,s.I9)(e))throw new Error(`Expected a profile URI, but got ${e}!`)}))}}},5736:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var s=n(96651),i=n(70392);const r=(e,t)=>{const n=(0,i.s)();(0,s.useEffect)((()=>{const s=n.getEvents();return s.addListener(e,t),()=>{s.removeListener(e,t)}}),[e,n,t])}},27748:(e,t,n)=>{"use strict";function s(e,t,n,s){try{if(!e)return n;const i=getComputedStyle(e);if(!i)return n;const r=i.getPropertyValue(t),a=parseInt(r.replace(s,""),10);return isNaN(a)?n:a}catch(e){return n}}n.d(t,{m:()=>s})},60078:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var s=n(96651),i=n(49404),r=n.n(i);const a=new Map;function o(e,t){const n=function(e){const t=a.get(e.toString());if(t)return t;const n=[];return r().bind(e,(()=>n.forEach((e=>e())))),a.set(e.toString(),n),n}(e);(0,s.useEffect)((()=>(n.push(t),()=>{n.splice(n.indexOf(t),1)})),[n,t])}},71830:(e,t,n)=>{"use strict";n.d(t,{s:()=>m});var s=n(96651),i=n(4957),r=n(2748),a=n(72001),o=n(16928),l=n(81947);var c=n(36608),d=n(79488),u=n(13932);const m=()=>{const e=(0,l.I)(),{isPlayingRemotely:t}=(0,r.w)(),n=(0,u.O)(),m=(0,i.c)(),p=(0,a.o)((e=>e),((e,t)=>e?.hasContext===t?.hasContext&&e?.isPaused===t?.isPaused&&e?.item?.uri===t?.item?.uri)),h=e.getCapabilities(),[g,f]=(0,s.useState)((()=>"open"===e.getCurrentState())),{setVideoPlayerUIFlag:y}=(0,c.a)();((e,t)=>{const n=(0,l.I)(),i=(0,s.useRef)(t);i.current=t,(0,s.useEffect)((()=>{const t=n.getEvents(),s=i.current;return t.addListener(e,s),()=>{t.removeListener(e,s)}}),[n,e])})("visibility_change",(({data:e})=>{!1===e&&y(d.Z.documentPip,e),f(e)})),(0,s.useEffect)((()=>{g&&e.syncWithPlayerState(p)}),[e,g,p]),(0,s.useEffect)((()=>{!e.isAllowed(p,m)&&g&&e.close()}),[e,m,g,p]);const _=p?.item,b=_&&(0,o.sN)(_)&&("video"===_.mediaType||"mixed"===_.mediaType),v=_&&(0,o.UZ)(_),x=!b||h.supportsVideo,C=!v||h.supportsAds,E=!t||h.supportsConnect,S=n||h.supportsOffline,w=h.isEnabled&&x&&C&&E&&S,I=(0,s.useCallback)((async()=>{await e.open(p)}),[e,p]),A=(0,s.useCallback)((()=>{e.close()}),[e]);return{capabilities:h,isOpen:g,open:I,close:A,canOpen:w}}},17500:(e,t,n)=>{"use strict";n.d(t,{e:()=>d});var s=n(96651),i=n(27136),r=n(7296),a=n(40636),o=n(71830);var l=n(36608),c=n(79488);const d=({item:e,onClick:t})=>{const n=(0,r.w)(),{capabilities:{isEnabled:d},isOpen:u,close:m,open:p,canOpen:h}=(0,o.s)(),{videoPlayerMode:g}=(0,l.a)(),{spec:f,logger:y}=(0,a.gp)(i.E9,{data:{identifier:g===c.q.cinema?i.ye.CINEMA:i.ye.DESKTOP}}),_=(0,s.useCallback)((()=>{let s;d&&(u?(m(),e?.uri&&y.logInteraction(f.pipButtonFactory({uri:e.uri}).hitUiHide()),s="close-picture-in-picture"):(p(),e?.uri&&(({spec:e,logger:t,uri:n})=>{const s=window.documentPictureInPicture;if(!s)return;const i=r=>{setTimeout((()=>{const s=r.window?.innerWidth,i=r.window?.innerHeight;if(!s||!i)return;const a=e.pipButtonFactory({uri:n}).hitUiOpenWindow({widthPx:s,heightPx:i});t.logInteraction(a)}),100),s.removeEventListener("enter",i)};s.addEventListener("enter",i)})({spec:f,logger:y,uri:e.uri}),s="show-picture-in-picture"),t?.(!u,e?.uri),n({type:"click",intent:s,targetUri:e?.uri,itemIdSuffix:"picture-in-picture-toggle"}))}),[m,d,u,e?.uri,y,t,n,p,f]);return{showButton:h,isActive:u,onClick:_}}},39908:(e,t,n)=>{"use strict";n.d(t,{L:()=>He});var s={};n.r(s),n.d(s,{getAlbum:()=>Pe});var i={};n.r(i),n.d(i,{getArtist:()=>je,getArtistAlbums:()=>Le});var r={};n.r(r),n.d(r,{getOnDemandPlaylists:()=>De,getPlaylist:()=>Re,getPlaylistPermissionForUser:()=>Me});var a={};n.r(a),n.d(a,{getTrack:()=>Fe});n(41260);class o{constructor(e,t,n){this.spotifyTransport=e,this.endpoints=t,this.imageSelection=n}getAlbum(e){return this.endpoints.Album.getAlbum(this.spotifyTransport,e).then(this.mapDefaultData)}getArtist(e){return this.endpoints.Artist.getArtist(this.spotifyTransport,e).then(this.mapDefaultData)}getEpisode(e){return this.endpoints.Show.getEpisode(this.spotifyTransport,e).then(this.mapDefaultData).then(this.mapEpisode)}getPlaylist(e){return this.endpoints.Playlist.getPlaylist(this.spotifyTransport,e).then(this.mapDefaultData)}getShow(e){return this.endpoints.Show.getShow(this.spotifyTransport,e).then(this.mapDefaultData)}getTrack(e){return this.endpoints.Track.getTrack(this.spotifyTransport,e).then(this.mapDefaultData).then(this.mapTrack)}mapEpisode=e=>({...e,episodeShowUri:e.show.uri});mapTrack=e=>({...e,smallImage:this.imageSelection(e.album.images||[],{desiredSize:210})});mapDefaultData=({body:e})=>({...e,smallImage:this.imageSelection(e.images||[],{desiredSize:210}),name:e.name,artists:e.artists?e.artists.map((({name:e,uri:t})=>({name:e,uri:t}))):[]})}class l{enabled=!1;inStreamAdsSubscription=null;inStreamAd=null;constructor(e){this.adsCoreConnector=e}enable(){this.enabled||(this.enabled=!0,this.inStreamAdsSubscription=this.adsCoreConnector.subscribeToInStreamAds(this.onInStreamAdMessage.bind(this)))}disable(){this.enabled=!1,this.inStreamAd=null}subscribeToInStreamAds(){return this.inStreamAdsSubscription?this.inStreamAdsSubscription:this.adsCoreConnector.subscribeToInStreamAds(this.onInStreamAdMessage)}getInStreamAd(){return this.inStreamAd}onInStreamAdMessage(e){const{ad:t}=e;t&&(this.inStreamAd=t)}}class c{constructor(e){this.cosmosConnector=e}postEvent(e,t,n){return this.cosmosConnector.postEvent(e,t,n)}subscribeToSlotType(e,t){return this.cosmosConnector.subscribeToSlotType(e,t)}}var d=n(77220),u=n(17148);class m{enabled=!1;subscriptions=[];constructor(e,t,n,s){this.audioApi=e,this.getContextAdInfo=t,this.inStreamApi=n,this.isNewAdsNpvEnabled=s}async enable(e){this.enabled=!0,this.onInfoCallback=e,this.isNewAdsNpvEnabled&&this.inStreamApi.enable(),this.subscriptions.push(this.audioApi.subscribeToSlotType("stream",this.onAdMessage)),this.isNewAdsNpvEnabled&&this.subscriptions.push(this.inStreamApi.subscribeToInStreamAds())}async disable(){this.enabled=!1,this.resetSubscriptions(),this.isNewAdsNpvEnabled&&this.inStreamApi.disable()}async logClick(e,t){if(!this.enabled)throw new Error("You have to enable the manager before calling logEvent");const n=await this.getContextAdInfo();if(null===n)return;const{positionMs:s,adId:i}=n;null!==i&&this.audioApi.postEvent(i,"clicked",null!==s?{playback_position:Math.round(s),...e&&{reason:e},...t&&{source:t}}:{})}onAdMessage=e=>{if("audio"===e.format&&"play"===e.event){const t="Play"===e.ad?.metadata?.featuredAction,n={buttonMessage:e.ad?.metadata?.buttonMessage,clickUrl:(0,u.W)(e.ad.click_url),isFeaturedActionPlay:t,skippableAdDelaySeconds:parseInt(e.ad?.metadata?.skippable_ad_delay,10)||0};this.onInfoCallback&&this.onInfoCallback(n)}};resetSubscriptions(){for(const e of this.subscriptions)e.cancel();this.subscriptions=[]}getEnabled(){return this.enabled}}function p(e,t,n){return new m(new c(d.U),e,t,n)}class h{constructor(e){this.cosmosConnector=e}addNewSlot(e,t){return this.cosmosConnector.addNewSlot(e,t)}getSlotConfiguration(e,t){return this.cosmosConnector.getSlotConfiguration(e,t)}patchTargeting(e,t){return this.cosmosConnector.patchTargeting(e,t)}postEvent(e,t,n){return this.cosmosConnector.postEvent(e,t,n)}postToSlot(e,t){return this.cosmosConnector.postToSlot(e,t)}subscribeToSlotType(e,t){return this.cosmosConnector.subscribeToSlotType(e,t)}triggerSlotClearAll(e){return this.cosmosConnector.triggerSlotClearAll(e)}}n(73952),n(97296),n(39568);class g{static listeners=[];static intervalId=null;static previousFocus=!1;static kPollTimeout=500;static reset(){g.listeners=[],g.previousFocus=!1,g.intervalId&&(clearInterval(g.intervalId),g.intervalId=null)}static maybeStartPolling(){null===g.intervalId&&(g.intervalId=setInterval(g.checkFocusState,g.kPollTimeout))}static maybeStopPolling(){g.intervalId&&0===g.listeners.length&&(clearInterval(g.intervalId),g.intervalId=null)}static addFocusListener(e){e.onFocusChanged(document.hasFocus()),g.listeners.push(e),g.maybeStartPolling()}static removeFocusListener(e){g.listeners=g.listeners.filter((t=>t!==e)),g.maybeStopPolling()}static checkFocusState=()=>{const e=document.hasFocus();e!==g.previousFocus&&(g.previousFocus=e,g.listeners.forEach((t=>{t.onFocusChanged(e)})))}}class f{constructor(){this.listeners=[]}addFocusListener(e){this.listeners.push(e),g.addFocusListener(e)}removeFocusListener(e){this.listeners=this.listeners.filter((t=>t!==e)),g.removeFocusListener(e)}removeAllFocusListeners(){this.listeners.forEach((e=>g.removeFocusListener(e))),this.listeners=[]}hasFocus(){return document.hasFocus()}}const y=!0,_=!1,b=[];function v(e,t){const n=w(t);if(-1===n)b.push({fn:t,msInactive:e,isActive:!1});else{const t=b[n];t.msInactive=e,clearTimeout(t.inactiveTimeout),t.inactiveTimeout=setTimeout(t.fn.bind(null,_),t.msInactive)}return x.bind(null,t)}function x(e){const t=w(e);return-1!==t&&(b.splice(t,1),!0)}function C(e){return e.addEventListener("mousemove",S),e.addEventListener("mouseup",S),e.addEventListener("keydown",S),e.addEventListener("scroll",S,!0),E.bind(null,e)}function E(e){e.removeEventListener("mousemove",S),e.removeEventListener("mouseup",S),e.removeEventListener("keydown",S),e.removeEventListener("scroll",S,!0)}function S(){b.forEach((e=>{e.isActive||(e.isActive=!0,e.fn(y)),clearTimeout(e.inactiveTimeout),e.inactiveTimeout=setTimeout((()=>{e.isActive=!1,e.fn(_)}),e.msInactive)}))}function w(e){let t=-1;return b.some(((n,s)=>n.fn===e&&(t=s,!0))),t}const I="billboard",A="foregrounded",T="backgrounded";class k{enabled=!1;activating=!1;viewedTimestamp=0;constructor(e,t){this.billboardApi=e,this.focusState=t}async enable(e){return this.enabled||(this.enabled=!0,this.listener=e,this.focusState.addFocusListener(this),this.disableWindow=C(window),this.activitySubscription=v(18e4,this.onActivity),await this.billboardApi.addNewSlot(I,"video"),this.subscription=this.billboardApi.subscribeToSlotType(I,this.onAdMessage)),null}async disable(){this.enabled&&(this.resetState(),this.enabled=!1,this.listener=void 0,this.subscription&&this.subscription.cancel(),this.activitySubscription&&this.activitySubscription(),this.disableWindow&&this.disableWindow(),this.focusState.removeAllFocusListeners())}minimize(){clearInterval(this.focusMinimizeTimeoutId),clearInterval(this.minimizeTimeoutId),this.minimizeTimeoutId=window.setTimeout(this.finish,3e4),this.logEvent("collapsed",{msSinceViewed:String((new Date).getTime()-this.viewedTimestamp)})}adClick(){this.logEvent("clicked")}onRender(){this.logEvent(this.focusState.hasFocus()?A:T)}onError(){this.handleDiscard()}onFinish(){this.finish()}onFocusChanged(e){return e?this.handleApplicationGainedFocus():this.handleApplicationLostFocus()}onActivity=async e=>{e?this.focusState.hasFocus()&&this.triggerAutoMinimizeIfPossible():await this.displayBillboard()};onAdMessage=e=>{if(this.isPreviewServiceAd(e.ad.metadata))this.handlePreview(e);else if(this.listener)switch(e.event){case"available":this.adId=e&&e.ad?e.ad.id:void 0,this.listener.canShow()?this.listener.create(this.mapBillboardData(e)):this.clearSlot();break;case"play":break;case"discard":this.handleDiscard();break;default:throw new Error(`[Billboard] Unsupported event type: ${e.event}`)}};handleDiscard(){if(clearInterval(this.retryDfpTimoutId),this.listener){const e=!this.listener.isActive();this.listener.isActive()&&this.logEvent("terminated"),this.resetState(),this.listener.destroy().then((()=>{e&&(this.retryDfpTimoutId=window.setTimeout(this.displayBillboard,1e4))}))}}handlePreview(e){if(this.listener)switch(e.event){case"available":this.adId=e&&e.ad?e.ad.id:void 0,this.listener.create(this.mapBillboardData(e)),this.billboardApi.postToSlot(I,"now");break;case"play":break;case"discard":this.handleDiscard();break;default:throw new Error(`Unknown core event from ${I} slot: ${e.event}`)}}isPreviewServiceAd(e){return e&&"true"===e.is_preview}resetState(){clearInterval(this.displayTimeoutId),clearInterval(this.retryTimoutId),clearInterval(this.retryDfpTimoutId),clearInterval(this.focusMinimizeTimeoutId),clearInterval(this.minimizeTimeoutId),this.adId=void 0,this.viewedTimestamp=0,this.focusMinimizeTimeoutId=void 0}focusMinimize=()=>{clearInterval(this.focusMinimizeTimeoutId),this.listener&&this.listener.isActive()&&(this.listener.minimize(),this.minimize())};finish=()=>{clearInterval(this.minimizeTimeoutId),this.listener&&this.listener.isActive()&&(this.listener.destroy(),this.logEvent("ended"),this.resetState())};triggerAutoMinimizeIfPossible=()=>{this.listener&&this.listener.isActive()&&!this.focusMinimizeTimeoutId&&(this.focusMinimizeTimeoutId=window.setTimeout(this.focusMinimize,3e4),this.viewedTimestamp=(new Date).getTime(),this.logEvent("viewed"))};async handleApplicationGainedFocus(){if(clearTimeout(this.displayTimeoutId),clearTimeout(this.retryTimoutId),this.listener&&!this.activating){if(this.listener.isActive())return this.logEvent(A),void this.triggerAutoMinimizeIfPossible();this.activating=!0;try{await this.billboardApi.patchTargeting("focus","true"),await this.billboardApi.postToSlot(I,"now")}catch(e){}finally{this.activating=!1}}}async handleApplicationLostFocus(){if(this.listener&&this.listener.isActive())return void this.logEvent(T);clearTimeout(this.displayTimeoutId);const e=await this.getFocusTimeoutMs();this.displayTimeoutId=window.setTimeout(this.displayBillboard,e)}displayBillboard=async()=>{clearTimeout(this.displayTimeoutId),clearTimeout(this.retryTimoutId),this.listener&&this.listener.isActive()||(this.listener&&this.listener.canShow()?(await this.clearSlot(),await this.billboardApi.postToSlot(I,"fetch")):this.retryTimoutId=window.setTimeout((()=>{this.displayBillboard()}),5e3))};async getFocusTimeoutMs(){const e=await this.billboardApi.getSlotConfiguration(I,"display_time_interval").catch((()=>null));return e&&e>0?1e3*e:18e4}logEvent(e,t={}){this.adId&&this.billboardApi.postEvent(this.adId,e,{event_data:{clientReportedUserAgent:navigator.userAgent,...t}})}clearSlot(){return this.billboardApi.triggerSlotClearAll(I)}mapBillboardData(e){const t=e.ad.metadata||{},n={accountUpgrade:t.accountUpgrade,accountUpgradeTracking:t.accountUpgradeTracking,clickUrl:(0,u.W)(e.ad.click_url),companionSrc:"",creativeId:t.creative_id,dummy:e.ad.dummy,id:e.ad.id,isAdaptive:!1,isPreview:"true"===t.is_preview,isValid:!0,lineItemId:t.lineitem_id,mediaSrc:""};switch(e.ad.format){case"banner":n.companionSrc=e.ad.companion_ad&&e.ad.companion_ad.url||"",n.mediaSrc=e.ad.images&&e.ad.images[0]&&e.ad.images[0].url||"";break;case"dummy":break;default:n.isValid=!1}return n}}n(97768);var N=n(16120),O=n(14788),P=n(92109);class j{constructor(e,t,n,s){this.cosmosConnector=e,this.webApi=t,this.previewParser=n,this.eventSender=s}getSlot(e){return this.cosmosConnector.fetchAdForSlot(e).then((e=>{const t=e.display.find((e=>"text/html"===e.mime_type));if(!t)throw Error("No template");return{adPlaybackId:e.ad_playback_id,...t}}))}async logEvent(e){try{await this.eventSender.send(e)}catch(e){}}getAlgoPlaylistInfo(e){return new Promise((t=>{Object.prototype.hasOwnProperty.call(P.U,e)?this.cosmosConnector.getSponsoredUris().then((({sponsorships:n})=>{for(let s=0;s<n.length;s++){const i=n[s].spotifyUri.split(":");if((0,O.GC)(i[i.length-1])?.includes(P.U[e]))return void t({uri:n[s].spotifyUri,playBtnUri:n[s].spotifyUri,uriType:O.cH.PLAYLIST})}(0,N.U)({error_message:"HPTO Sponsored Playlist from GAM not in sponsorships list.",request_type:"hpto"}),t()})):t()}))}getAlbum(e){return this.webApi.getAlbum(e)}getArtist(e){return this.webApi.getArtist(e)}getEpisode(e){return this.webApi.getEpisode(e)}getPlaylist(e){return this.webApi.getPlaylist(e)}getShow(e){return this.webApi.getShow(e)}getTrack(e){return this.webApi.getTrack(e)}async subscribeToPreview(e){return await this.cosmosConnector.addNewSlot("hpto","banner"),await this.cosmosConnector.enableSlot("hpto"),this.cosmosConnector.subscribeToSlot("sp://ads/v1/slots/hpto",(async t=>{if("available"===t.event&&this.previewParser.isPreviewServiceAd(t.ad)){const n=this.previewParser.parsePreview(t);e({...n})}}))}}class L{parsePreview({metadata:e,display:t,requestId:n}){const{creative_id:s,gid:i}=e,r={creativeId:parseInt(s,10),gid:i,hpto:JSON.parse(t[0]&&t[0].text||"")},a=r.hpto||r;let o=null;const l=a.html&&-1!==a.html.search(/id="native-elements"/),c=!a.html&&"html"===a["banner-mode"];if(l?o=this.handleNativeEl(a):c&&(o=this.renameImageBannerField(a)),o=o||a,o.bannerMode=o["banner-mode"],!o.bannerMode)throw new TypeError("hpto data looks invalid");const d=this.createInteractiveIframe(o.html);return{...o,adPlaybackId:n,loaderFrame:d}}isPreviewServiceAd({metadata:e}){return!!e&&"true"===e.is_preview}getKeyByValue(e,t){return Object.keys(t).find((n=>t[n]===e))||""}renameImageBannerField(e){return delete e[this.getKeyByValue("html",e)],Object.assign({},e,{"banner-mode":"image"})}handleNativeEl(e){const t=document.implementation.createHTMLDocument("");t.documentElement.innerHTML=e.html;let n="";const s=t.getElementById("native-elements"),i=this.getKeyByValue("html",e);return["data-is-spotlight","data-is-exclusive","data-is-sponsored"].some((e=>(s&&s.hasAttribute(e)&&(n=e),n))),n=n.split("-").pop()||"",delete e[i],Object.assign({},e,{version:2,badge:n,"banner-mode":"native",blurb:s&&s.getAttribute("data-blurb"),"target-uri":s&&s.getAttribute("data-uri"),playBtnUri:s&&s.getAttribute("data-track-override")})}createInteractiveIframe(e){const t=encodeURIComponent(e),n=document.createElement("iframe");return n.className="ad-iframe",n.src=`data:text/html;charset=utf-8,${t}`,n.srcdoc=e,n.scrolling="no",n.marginWidth="0",n.marginHeight="0",n}}var R=n(71368);const D="hpto";class M{constructor(e,t,n,s){this.adsCoreConnector=e,this.webApi=t,this.esperantoPreviewParser=n,this.eventSender=s}async getSlot(e){const t=await this.adsCoreConnector.fetchAdForSlot(e),n=t.display.find((e=>"text/html"===e.mimeType));if(!n)throw Error("No template");return{id:t.adId,adPlaybackId:t.requestId,media:n.text,"mime-type":n.mimeType,height:n.height,width:n.width,bitrate:n.bitrate,duration:n.duration}}async logEvent(e){try{await this.eventSender.send(e)}catch(e){}}subscribeToPreview(e){return this.adsCoreConnector.addNewSlot(D),this.adsCoreConnector.enableSlot(D),this.adsCoreConnector.subscribeToSlot(D,(t=>{const n=t.adSlotEvent;if(n?.eventType===R.Kc.AVAILABLE&&this.esperantoPreviewParser.isPreviewServiceAd(n.ad)){const t=this.esperantoPreviewParser.parsePreview(n.ad);e({...t})}}))}async getAlgoPlaylistInfo(e){let t;if(e in P.U&&(t=e),!t)return;const{sponsorships:n}=await this.adsCoreConnector.getSponsoredUris(),s=n.find((e=>{const n=e.spotifyUri.split(":").at(-1);return(0,O.GC)(n)?.includes(t)}));if(s)return{uri:s.spotifyUri,playBtnUri:s.spotifyUri,uriType:O.cH.PLAYLIST};this.eventSender.send((0,N.U)({error_message:"HPTO Sponsored Playlist from GAM not in sponsorships list.",request_type:"hpto"}))}getAlbum(e){return this.webApi.getAlbum(e)}getArtist(e){return this.webApi.getArtist(e)}getEpisode(e){return this.webApi.getEpisode(e)}getPlaylist(e){return this.webApi.getPlaylist(e)}getShow(e){return this.webApi.getShow(e)}getTrack(e){return this.webApi.getTrack(e)}}class U{parsePreview(e){const t=e.ad,{creative_id:n,id:s,display:i}=t,r={creativeId:parseInt(n,10),gid:s,hpto:JSON.parse(i[0]&&i[0].media||"")},a=r.hpto||r;let o=null;const l=a.html&&-1!==a.html.search(/id="native-elements"/),c=!a.html&&"html"===a["banner-mode"];if(l?o=this.handleNativeEl(a):c&&(o=this.renameImageBannerField(a)),o=o||a,o.bannerMode=o["banner-mode"],!o.bannerMode)throw new TypeError("hpto data looks invalid");const d=this.createInteractiveIframe(o.html);return{...o,adPlaybackId:t.ad_playback_id,loaderFrame:d}}isPreviewServiceAd(e){return e.metadata&&"true"===e.metadata.is_preview}getKeyByValue(e,t){return Object.keys(t).find((n=>t[n]===e))||""}renameImageBannerField(e){return delete e[this.getKeyByValue("html",e)],Object.assign({},e,{"banner-mode":"image"})}handleNativeEl(e){const t=document.implementation.createHTMLDocument("");t.documentElement.innerHTML=e.html;let n="";const s=t.getElementById("native-elements"),i=this.getKeyByValue("html",e);return["data-is-spotlight","data-is-exclusive","data-is-sponsored"].some((e=>(s&&s.hasAttribute(e)&&(n=e),n))),n=n.split("-").pop()||"",delete e[i],Object.assign({},e,{version:2,badge:n,"banner-mode":"native",blurb:s&&s.getAttribute("data-blurb"),"target-uri":s&&s.getAttribute("data-uri"),playBtnUri:s&&s.getAttribute("data-track-override")})}createInteractiveIframe(e){const t=encodeURIComponent(e),n=document.createElement("iframe");return n.className="ad-iframe",n.src=`data:text/html;charset=utf-8,${t}`,n.srcdoc=e,n.scrolling="no",n.marginWidth="0",n.marginHeight="0",n}}const F="visible_unknown",B={root:null,rootMargin:"",thresholds:[],observe(){},disconnect(){},takeRecords:()=>[],unobserve(){}};class G{constructor(e={threshold:[0,.5,1]}){this.currentState=F,this.intersectionObserver=B,IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver(this.onObservation,e))}onObservation=e=>{const t=e[0].intersectionRatio;let n=F;1===t?n="visible_100":t>=.5?n="visible_50":t<.5&&(n="visible_0"),n!==this.currentState&&(this.currentState=n,this.callback&&this.callback(this.currentState))};observe(e,t){this.callback=t,this.intersectionObserver.observe(e)}disconnect(){this.intersectionObserver.disconnect()}}var V=n(46752);const H="hpto";class W{timeOfLastViewUpdate=0;refreshCallback=()=>{};visibilityState="";constructor(e,t,n,s,i){this.hptoApi=e,this.focusState=t,this.visibilityObserver=n,this.offlineObserver=s,this.appStartupId=i,this.trackingPixelDiv=document.createElement("div"),this.trackingPixelDiv.setAttribute("id","ad-tracking-pixel"),this.trackingPixelDiv.style.display="none",document.body.appendChild(this.trackingPixelDiv),this.appStartupId=i}subscribeToPreview(e){this.hptoApi.subscribeToPreview((async t=>{const n=await this.mapData(t);e(n)}))}onRefresh(e){this.refreshCallback=e}fetchTemplate(){return this.hptoApi.getSlot(H).catch((e=>{throw this.logErrorEvent(`fetch template error: ${e}`),this.logAdEventError("template fetch from ARS failed"),e}))}fetchCreative(e){return new Promise(((t,n)=>{window.addEventListener("message",(function s(i){if("object"==typeof i.data&&"string"==typeof i.data.type){const r=i.data.type.split(":");if("ads"!==r[0]||"hpto"!==r[1])return;if("error"===r[2]||"no-ad"===r[2])n(r[2]);else if("init"===r[2]){const n={...i.data.data.data,loaderFrame:undefined,adPlaybackId:e.adPlaybackId};t(n)}else n("unsupported hpto message");window.removeEventListener("message",s)}}))})).then(this.mapData).catch((e=>{throw"no-ad"===e?this.logAdEventError(e):(this.logErrorEvent(`fetch creative error: ${e}`),this.logAdEventError("creative fetch from GAM failed")),e}))}logEvent(e,t=""){this.log(e,t),"event_clicked"===e&&this.trackPixelClicked()}logErrorEvent(e){const t=(0,N.U)({request_type:H,error_message:e});this.hptoApi.logEvent(t)}createTrackingPixelImage=(e,t)=>{const n=document.createElement("img");return n.src=e,n.alt="",n.style.display="none",n.style.height="1px",n.style.width="1px",n.classList.add("pixel",t),n};trackPixelClicked(){if(!this.currentAd)return;const e=this.currentAd.click,t=this.handleTrackingUrl(e);if(t){this.trackingPixelDiv.innerHTML="";const e=this.createTrackingPixelImage(t,"event_clicked");this.trackingPixelDiv.appendChild(e)}}trackPixelViewed(){if(!this.currentAd)return;this.trackingPixelDiv.innerHTML="";const e=this.currentAd["tracking-urls"],t=this.currentAd["tracking-url"],{creativeId:n,lineItemId:s,advertiserId:i,campaignId:r,adEventTrackerViewUrls:a}=this.currentAd;this.createTrackingList({trackingUrls:e,trackingUrl:t,adEventTrackerViewUrls:a,adTrackingInfo:{creativeId:n,lineItemId:s,advertiserId:i,campaignId:r}}).map((e=>this.createTrackingPixelImage(e,"view-tracking"))).forEach((e=>{this.trackingPixelDiv.appendChild(e)}))}logViewed(){this.timeOfLastViewUpdate=Date.now(),this.log("event_viewed"),this.trackPixelViewed()}maybeTriggerRefresh(){if(!this.offlineObserver.getOnlineStatus())return;Date.now()-this.timeOfLastViewUpdate>=18e5&&this.focusState.hasFocus()&&("visible_50"===this.visibilityState||"visible_100"===this.visibilityState)&&this.refreshCallback?.()}viewRendered(e){this.timeOfLastViewUpdate=Date.now(),this.focusState.removeAllFocusListeners(),this.focusState.addFocusListener(this),this.visibilityObserver.observe(e,this.onVisibilityChanged)}viewDestroyed(){this.focusState.removeAllFocusListeners(),this.visibilityObserver.disconnect(),this.log("event_unload"),this.currentAd=null}onFocusChanged(e){e?(this.maybeTriggerRefresh(),this.log("event_foregrounded")):this.log("event_backgrounded")}onVisibilityChanged=e=>{const t=this.visibilityState;this.visibilityState=e;"visible_0"===t&&("visible_50"===e||"visible_100"===e)&&this.maybeTriggerRefresh(),this.log(`event_${e}`)};log=(e,t="")=>{if(this.currentAd){const n=(0,V._)({slot:H,app_startup_id:this.appStartupId,event:e,lineitem_id:String(this.currentAd.lineItemId),creative_id:String(this.currentAd.creativeId),ad_id:String(this.currentAd.creativeId),format:`hpto ${this.currentAd.bannerMode}`,request_id:String(this.currentAd.adPlaybackId),event_source:t?`client-${t}`:"client"});this.hptoApi.logEvent(n)}};logAdEventError=e=>{const t=(0,V._)({slot:H,app_startup_id:this.appStartupId,event:"event_error",event_reason:e,event_source:"client"});this.hptoApi.logEvent(t)};mapData=async e=>{this.currentAd={...e};let t=e["target-uri"],n=(0,O.nX)(t)?.type,s={episodeShowUri:""},i=e.playBtnUri||t;if("native"===e.bannerMode){const e=await this.hptoApi.getAlgoPlaylistInfo(t);e&&(t=e.uri,i=e.playBtnUri,n=e.uriType),s=await this.getNativeData(t,n)}const r=e.blurb,a=(e.badge||"").toLowerCase(),o=e["background-color"],l=o&&"#"===o[0]?o:`#${o}`,c=e["background-image"],d=(0,u.W)(e["background-url"]),m=d&&d.replace(/&amp;/g,"&"),p="sponsored"===e.nativeHptoType;return{...e,...s,isSponsored:p,uri:s.episodeShowUri||t,uriType:n,badgeType:a,playBtnUri:i,backgroundColor:l,backgroundUrl:d,backgroundImage:c,clickThroughUrl:m,description:r}};maybeModifyUrl(e,t){let n=e;const s=["adeventtracker.spotify.com","adeventtrackermonitoring.spotify.com"];try{const e=new URL(n);if(s.includes(e.host)){const s=e.searchParams;Object.keys(t).forEach((e=>{const n=t[e];s.append(e,n)})),n=e.toString()}}catch(t){const n=(0,N.U)({error_type:"malformedAdEventTrackerUrl",lineitem_id:this.currentAd?.lineItemId,error_message:`cannot parse ad event tracker url: ${e}`});this.hptoApi.logEvent(n)}return n}createTrackingList({trackingUrls:e,trackingUrl:t,adEventTrackerViewUrls:n=[],adTrackingInfo:s={}}){let i=n.map((e=>this.maybeModifyUrl(e,s)));if(e){const t=e.map(this.handleTrackingUrl).filter(Boolean);i=i.concat(t)}else t&&i.concat(this.handleTrackingUrl(t));return i}handleTrackingUrl=e=>{if(!e)return"";try{return decodeURIComponent(e.replace(/&amp;/g,"&"))}catch(t){if(t instanceof URIError&&"URI malformed"===t.message){const t=(0,N.U)({error_type:"malformedTrackingUrl",lineitem_id:this.currentAd?.lineItemId,error_message:`url is malformed: ${e}`});return this.hptoApi.logEvent(t),""}return""}};getNativeData(e,t){if(!e||!t)return Promise.reject(`error when getting native data: uri: ${e} uriType: ${t}`);const n=e.split(":").pop();if(!n)return Promise.reject("error when getting native data: id not found");switch(t){case O.cH.SHOW:return this.hptoApi.getShow(n);case O.cH.TRACK:return this.hptoApi.getTrack(n);case O.cH.ALBUM:return this.hptoApi.getAlbum(n);case O.cH.PLAYLIST:case O.cH.PLAYLIST_V2:return this.hptoApi.getPlaylist(n);case O.cH.EPISODE:return this.hptoApi.getEpisode(n);default:return Promise.reject(`error when getting native data ${e} is not valid`)}}}class z{constructor({initialStatus:e,onOnlineStatusChange:t}){this.isOnline=e||!0,window.addEventListener("online",(()=>{this.isOnline=!0,t?.(!0)})),window.addEventListener("offline",(()=>{this.isOnline=!1,t?.(!1)})),window.addEventListener("visibilitychange",(()=>{if(document.hidden)return;const e=navigator.onLine;this.isOnline=e,t?.(e)}))}getOnlineStatus(){return this.isOnline}}function Y({webHptoApi:e},t,n,s,i){return new W(i?new M(s,e,new L,t):new j(d.U,e,new U,t),new f,new G,new z({}),n)}var K=n(30260),q=n(84264);const Q=2e4,X={displayTimeIntervalMs:Q,timeInViewThresholdMs:15e3};class ${constructor(e){this.cosmosConnector=e}async addSlot(e){return await this.cosmosConnector.addNewSlot(e,"banner"),await this.cosmosConnector.enableSlot(e)}async getConfig(){try{const e=await this.cosmosConnector.getAdSlotConfig("leaderboard");return this.normalizeConfig(e)}catch(e){if(!(e instanceof Error))throw e;if("DUPLICATE_REQUEST_ERROR"!==e.name)throw e;return X}}normalizeConfig(e){if(e){const t={displayTimeIntervalMs:Q,timeInViewThresholdMs:15e3};return Object.prototype.hasOwnProperty.call(e,"display_time_interval")&&(t.displayTimeIntervalMs=1e3*e.display_time_interval),t}return X}async getSlot(e){try{const t=await this.cosmosConnector.fetchAdForSlot(e),n=t.display.find((e=>"text/html"===e.mime_type));return{html:n?n.media:t.html,adDisplay:n}}catch(e){throw Error(`Slot Request failed ${e}`)}}subscribeToSlotType(e,t){return this.cosmosConnector.subscribeToSlotType(e,t)}}var J=n(55780),Z=n.n(J),ee=n(88240);const te="leaderboard";class ne{useIframeSrcDoc=!1;fetching=!1;enabled=!1;currentAd={creativeId:null,lineitemId:null};constructor(e={},t,n,s,i,r,a){this.appStartupId=a,this.frameSrc=e.frameSrc,this.useIframeSrcDoc=e.useIframeSrcDoc||!1,this.focusState=s,this.leaderboardApi=t,this.refreshDecisioner=n,this.refreshDecisioner.setRefreshDelegate(this),this.leaderboardWrapper=null,this.eventSender=i,this.history=r,this.appStartupId=a,this.offlineObserver=new z({onOnlineStatusChange:e=>this.refreshDecisioner.onlineStateChanged(e)})}enableLeaderboard(){this.enabled=!0,this.enableLeaderboardMessageHandler(),this.refreshDecisioner.onLeaderboardEnabled(),this.subscription=this.leaderboardApi.subscribeToSlotType(te,this.onAdMessage)}setLeaderboardElement(e){this.domTarget=e}onNavigationChanged(){this.refreshDecisioner.onNavigationChanged()}enableLeaderboardMessageHandler(){window.removeEventListener("message",this.handleLeaderboardMessage),window.addEventListener("message",this.handleLeaderboardMessage)}disableLeaderboardMessageHandler(){window.removeEventListener("message",this.handleLeaderboardMessage)}handleLeaderboardMessage=e=>{switch(this.currentAd.lineitemId=String(e.data?.data?.lineItemId||""),this.currentAd.creativeId=String(e.data?.data?.creativeId||""),e.data&&e.data.type){case"ads-leaderboard-rendered":""!==this.currentAd.lineitemId&&null!==this.currentAd.creativeId&&this.logLeaderboardEvent("event_viewed");break;case"ads-leaderboard-failed":this.logLeaderboardEvent("event_errored"),this.handleBadLeaderboard()}};logLeaderboardEvent(e){this.eventSender.send((0,ee.M)({ad_playback_id:this.adPlaybackId,view_uri:this.history.location.pathname,event:e}));const t=(0,V._)({event:e,slot:"leaderboard",format:"banner",app_startup_id:this.appStartupId,request_id:this.adPlaybackId,lineitem_id:this.currentAd.lineitemId,creative_id:this.currentAd.creativeId,ad_id:this.currentAd.creativeId,in_focus:document.hasFocus?document.hasFocus():null,event_source:"client"});this.eventSender.send(t)}async requestConfig(){return this.cachedConfig?Promise.resolve(this.cachedConfig):(this.cachedConfig=await this.leaderboardApi.getConfig(),this.cachedConfig)}requestSlot(e){return this.leaderboardApi.getSlot(e).then((e=>(this.adPlaybackId=Z().create().hex,e))).catch((e=>{throw new Error(`LeaderboardManager: cant get slot. ${e}`)}))}async fetchAndDisplayLeaderboard(){if(!this.frameSrc)throw new Error("LeaderboardManager: frameSrc must be specified in options. Point it to a blank page on the same domain.");this.domTarget&&(this.fetching||this.enabled&&(this.fetching=!0,this.requestSlot(te).then((e=>{const t=e.html,n=e.adDisplay&&e.adDisplay.width?e.adDisplay.width:"728",s=e.adDisplay&&e.adDisplay.height?e.adDisplay.height:"90";return this.fetching=!1,this.renderLeaderboard(t,n,s)})).catch((e=>{throw this.fetching=!1,Error(`Slot Request and display failed: ${e}`)}))))}onAdMessage=e=>{if(this.isPreviewServiceAd(e.ad.metadata)){if(!e.ad.display||e.ad.display.length<1)throw new Error(`Unknown core event from ${te} slot: ${e.event}`);const t=e.ad.display[0],n=t.media,s=t&&t.width?t.width:"728",i=t&&t.height?t.height:"90";this.renderLeaderboard(n,s,i)}};isPreviewServiceAd(e){return e&&"true"===e.is_preview}renderLeaderboard(e,t,n){const s=document.createElement("iframe");s.addEventListener("load",this.adFrameLoaded.bind(this,e,s)),s.setAttribute("sandbox",["allow-top-navigation-by-user-activation","allow-forms","allow-modals","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-scripts",/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?"":"allow-presentation"].join(" ")),s.setAttribute("width",t),s.setAttribute("height",n),s.setAttribute("id","leaderboard-ad-element"),s.setAttribute("src",this.frameSrc),this.useIframeSrcDoc&&s.setAttribute("srcdoc",e),s.setAttribute("tab-index","-1"),this.leaderboardWrapper=document.createElement("div"),this.leaderboardWrapper.setAttribute("aria-hidden","true"),this.leaderboardWrapper.appendChild(s),this.domTarget.innerHTML="",this.domTarget.appendChild(this.leaderboardWrapper)}adFrameLoaded(e,t,n){const s=n.composedPath&&n.composedPath()&&n.composedPath()[0].contentWindow||t.contentWindow;this.refreshDecisioner.onViewLoaded(),this.focusState.addFocusListener(this),this.useIframeSrcDoc||s.postMessage({type:"html",html:e},this.getFrameSrcOrigin());const i=()=>{this.logLeaderboardEvent("event_unload"),this.refreshDecisioner.onViewUnloaded(),this.focusState.removeFocusListener(this),s.removeEventListener("unload",i)};s.addEventListener("unload",i)}getFrameSrcOrigin(){return this.frameSrc.indexOf("http")>-1?this.frameSrc.slice(0,this.frameSrc.indexOf("/",8)):location.origin}disableLeaderboard(){this.enabled=!1,this.disableLeaderboardMessageHandler(),this.refreshDecisioner.onLeaderboardDisabled(),this.focusState.removeFocusListener(this),this.subscription&&this.subscription.cancel(),this.leaderboardWrapper&&this.leaderboardWrapper.firstChild&&this.leaderboardWrapper.removeChild(this.leaderboardWrapper.firstChild),this.leaderboardWrapper&&this.leaderboardWrapper.parentNode&&this.leaderboardWrapper.parentNode.removeChild(this.leaderboardWrapper),this.leaderboardWrapper=null}handleBadLeaderboard(){this.currentAd.creativeId=null,this.currentAd.lineitemId=null,this.domTarget&&(this.domTarget.innerHTML="")}onFocusChanged(e){this.logLeaderboardEvent("event_"+(e?"foregrounded":"backgrounded"))}refreshLeaderboard(){this.fetchAndDisplayLeaderboard()}}const se={displayTimeIntervalMs:2e4,timeInViewThresholdMs:15e3};class ie{constructor(e){this.adsCoreConnector=e}subscribeToSlotType(e,t){return this.adsCoreConnector.subscribeToSlot(e,(e=>{const n=e.adSlotEvent;n&&t(n)}))}async addSlot(e){return await this.adsCoreConnector.addNewSlot(e,"banner"),await this.adsCoreConnector.enableSlot(e)}async getConfig(){try{const e=await this.adsCoreConnector.getSlotSettings(te);return this.normalizeConfig(e)}catch(e){if(!(e instanceof Error))throw e;if("DUPLICATE_REQUEST_ERROR"!==e.name)throw e;return se}}async getSlot(e){return(e=>{const t=e.display?.find((e=>"text/html"===e.mimeType));if(!t||!t.text)throw Error("No template");return{html:t.text,adDisplay:{width:t.width.toString(),height:t.height.toString()}}})(await this.adsCoreConnector.fetchAdForSlot(e))}normalizeConfig(e){const t=e?.slotSettings[0].displayTimeInterval;return{...se,...t?{displayTimeIntervalMs:1e3*Number(t)}:null}}}const re={"Spotify-App-Version":"WebPlayer","App-Platform":"1.0.0"};class ae{constructor(e,t){this.adsApi=e,this.spotifyTransport=t}addSlot(){return Promise.resolve()}getConfig(){return this.adsApi.getAdsManagerConfig(this.spotifyTransport,re).then((e=>e&&e.ok&&e.body?this.normalizeConfig(e.body.leaderboard):X),(e=>{if("DUPLICATE_REQUEST_ERROR"!==e.name)throw e;return X}))}normalizeConfig(e){if(e){const t={displayTimeIntervalMs:Q,timeInViewThresholdMs:15e3};return Object.prototype.hasOwnProperty.call(e,"focus_time_elapsed_ms")&&(t.displayTimeIntervalMs=e.focus_time_elapsed_ms),t}return X}getSlot(e){return this.adsApi.getAdsManagerSlot(this.spotifyTransport,e,re).then((t=>{if(t&&t.ok&&t.body)return t.body.pod[e][0];throw Error("Slot Request failed")})).then((e=>{const t=e.display.find((e=>"text/html"===e.mimetype));return{html:e.html,displayAd:t}}))}logEvent(){return Promise.resolve()}subscribeToSlotType(){return{cancel:()=>{}}}}class oe{viewTimer=0;lastOnlineStatus=!0;constructor(e){this.focusState=e}setRefreshDelegate(e){this.delegate=e}async onViewLoaded(){const e=await this.delegate.requestConfig();this.viewTimer=e.displayTimeIntervalMs,this.timeOfLastViewUpdate=Date.now(),this.focusState.addFocusListener(this),this.startRefreshTimer()}onViewUnloaded(){this.focusState.removeFocusListener(this),clearTimeout(this.refreshTimeout)}onLeaderboardEnabled(){this.triggerRefresh()}onLeaderboardDisabled(){this.onViewUnloaded()}onNavigationChanged(){return this.updateViewTimer()}onlineStateChanged(e){e!==this.lastOnlineStatus&&(this.lastOnlineStatus=e,e&&this.triggerRefresh())}onFocusChanged(e){e?(this.timeOfLastViewUpdate=Date.now(),this.notifyRefreshIfPossible(),this.startRefreshTimer()):(this.updateViewTimer(),clearTimeout(this.refreshTimeout))}async updateViewTimer(){null===this.timeOfLastViewUpdate&&(this.timeOfLastViewUpdate=Date.now());const e=Date.now()-this.timeOfLastViewUpdate;return this.viewTimer=this.viewTimer-e,this.timeOfLastViewUpdate=Date.now(),this.notifyRefreshIfPossible()}isPastViewThreshold(){return this.delegate.requestConfig().then((e=>e.displayTimeIntervalMs-this.viewTimer>e.timeInViewThresholdMs))}async notifyRefreshIfPossible(){const e=await this.isPastViewThreshold();return e&&this.triggerRefresh(),e}startRefreshTimer(){clearTimeout(this.refreshTimeout),this.refreshTimeout=setTimeout(this.triggerRefresh.bind(this),this.viewTimer)}triggerRefresh(){document.hasFocus()&&this.delegate&&this.delegate.refreshLeaderboard()}}class le{constructor(){this.bindedVisibilityHandler=this.handleAppVisibilityChange.bind(this)}onNavigationChanged(){}onlineStateChanged(){}setRefreshDelegate(e){this.delegate=e}async onViewLoaded(){await this.scheduleRefresh(),document.addEventListener("visibilitychange",this.bindedVisibilityHandler)}onViewUnloaded(){document.removeEventListener("visibilitychange",this.bindedVisibilityHandler),this.disableRefresh()}onLeaderboardEnabled(){this.triggerRefresh()}onLeaderboardDisabled(){this.onViewUnloaded()}async handleAppVisibilityChange(e){("function"==typeof e.composedPath&&e.composedPath()&&e.composedPath()[0]||document).hidden?this.disableRefresh():await this.scheduleRefresh()}scheduleRefresh(){return this.delegate.requestConfig().then((e=>{clearTimeout(this.refreshTimeout),this.refreshTimeout=setTimeout(this.triggerRefresh.bind(this),e.displayTimeIntervalMs)}))}disableRefresh(){clearTimeout(this.refreshTimeout)}triggerRefresh(){this.delegate&&this.delegate.refreshLeaderboard()}}function ce(e,t,n,s,i,r){const a=new f,o=e?r?new ie(i):new $(d.U):new ae(K,q.W.getInstance()),l=e?new oe(a):new le;return new ne({frameSrc:e?"/blank.html":"/blank",useIframeSrcDoc:e},o,l,a,t,n,s)}var de=n(76404);const ue=()=>q.W.getInstance().build().withHost(de.If).withPath("/sponsored").withEndpointIdentifier("/sponsored").send();class me{constructor(e,t){this.eventSender=e,this.adsCoreConnector=t}async getSponsoredUris(){return(await ue()).body.sponsorships}async getSponsorshipAd(e){try{return(await(0,K.getSponsoredPlaylistAd)(e)).body}catch(e){throw this.eventSender.send((0,N.U)({request_type:"sponsored",error_message:JSON.stringify({err:e})})),e}}async subscribeToPreview(e){const t="sponsored-playlist";try{this.adsCoreConnector.addNewSlot(t)}catch(e){this.eventSender.send((0,N.U)({request_type:"sponsored playlist",error_message:JSON.stringify({error:e})}))}return this.adsCoreConnector.subscribeToSlot(t,(n=>{const s=new DOMParser,i=n.adSlotEvent?.ad?.display[0]?.text;if(i){const n=s.parseFromString(i,"text/html"),r=JSON.parse(n.querySelector(`[data-template="${t}"]`).innerText);e({...r.sponsoredPlaylist,logoUrl:r.sponsoredPlaylist.logo})}}))}async logEvent({event:e,ad_format:t,lineitem_id:n,creative_id:s,ad_id:i}){this.eventSender.send((0,V._)({event:e,format:t,lineitem_id:n,creative_id:s,ad_id:i,event_source:"client"}))}}class pe{constructor(e){this.eventSender=e}async getSponsoredUris(){return(await ue()).body.sponsorships}async getSponsorshipAd(e){try{return(await K.getSponsoredPlaylistAd(e)).body}catch(e){throw this.eventSender.send((0,N.U)({request_type:"sponsored",error_message:JSON.stringify({err:e})})),e}}async subscribeToPreview(e){const t="sponsored-playlist";return await d.U.addNewSlot(t).catch((e=>{this.eventSender.send((0,N.U)({request_type:"sponsored playlist",error_message:JSON.stringify({error:e})}))})),d.U.subscribeToSlot(`sp://ads/v1/slots/${t}`,(t=>{const n=(new DOMParser).parseFromString(t.ad.display[0].media,"text/html"),s=JSON.parse(n.querySelector('[data-template="sponsored-playlist"]').innerText);e({...s.sponsoredPlaylist,logoUrl:s.sponsoredPlaylist.logo})}))}async logEvent({event:e,ad_format:t,lineitem_id:n,creative_id:s,ad_id:i}){this.eventSender.send((0,V._)({event:e,format:t,lineitem_id:n,creative_id:s,ad_id:i,event_source:"client"}))}}class he{constructor(e){this.eventSender=e}async getSponsoredUris(){return(await ue()).body.sponsorships}async getSponsorshipAd(e){return(await K.getSponsoredPlaylistAd(e)).body}logEvent(e){return this.eventSender.send((0,V._)({...e,format:e.ad_format}))}async subscribeToPreview(){return{cancel:()=>{}}}}class ge{enabled=!1;constructor(e){this.sponsoredPlaylistApi=e}async enable(e){this.enabled=!0,this.subscription=await this.sponsoredPlaylistApi.subscribeToPreview(e)}disable(){this.enabled=!1,this.subscription&&(this.subscription.cancel(),this.subscription=void 0)}async requestSponsoredPlaylists(){if(!this.enabled)throw new Error("You have to enable the manager before calling requestSponsoredPlaylists");return this.sponsoredPlaylistApi.getSponsoredUris()}async requestSponsoredPlaylistAd(e){if(!this.enabled)throw new Error("You have to enable the manager before calling requestSponsoredPlaylistAd");return this.sponsoredPlaylistApi.getSponsorshipAd(e)}async logEvent(e){if(!this.enabled)throw new Error("You have to enable the manager before calling logEvent");return this.sponsoredPlaylistApi.logEvent(e)}}function fe(e,t,n,s){let i;return i=e?s?new me(t,n):new pe(t):new he(t),new ge(i)}class ye{constructor(e){this.cosmosConnector=e}patchTargeting(e,t){return this.cosmosConnector.patchTargeting(e,t)}subscribeToSlotType(e,t){return this.cosmosConnector.subscribeToSlotType(e,t)}postEvent(e,t,n){return this.cosmosConnector.postEvent(e,t,n)}}class _e{constructor(e,t){this.vastEventsTracker=e,this.vtoTracker=t}onStarted(){this.vtoTracker.onStarted(),this.vastEventsTracker.onStarted()}onResumed(){this.vastEventsTracker.onResumed()}onPaused(){this.vastEventsTracker.onPaused()}onVolumeChanged(e){this.vtoTracker.onVolumeChanged(e),this.vastEventsTracker.onVolumeChanged(e)}onPlaybackEnded(e){this.vtoTracker.onPlaybackEnded(e),this.vastEventsTracker.onPlaybackEnded(e)}onDurationChanged(e){this.vtoTracker.onDurationChanged(e),this.vastEventsTracker.onDurationChanged(e)}onPlaybackCreated(e){this.vtoTracker.onPlaybackCreated(e),this.vastEventsTracker.onPlaybackCreated(e)}onReady(){this.vtoTracker.onReady()}onSeeking(){}onSubtitleChanged(){}onVideoFormatChanged(){}}var be=n(13376);let ve=function(e){return e.STARTED="started",e.RESUMED="resumed",e.PAUSED="paused",e.MUTED="muted",e.UNMUTED="unmuted",e.FIRST_QUARTILE="first_quartile",e.MIDPOINT="midpoint",e.THIRD_QUARTILE="third_quartile",e.ENDED="ended",e.SKIPPED="skipped",e.ERRORED="errored",e.EVENTS="EVENTS",e.VOLUME_CHANGE="volume_change",e}({});class xe{constructor(e){this.trackingCallback=e,this.lastLadderPosition=0,this.isMuted=!1,this.isPaused=!1,this.volume=-1,this.duration=-1,this.position=-1}getVastEventLadderPosition(e){switch(e){case ve.STARTED:return 1;case ve.FIRST_QUARTILE:return 2;case ve.MIDPOINT:return 3;case ve.THIRD_QUARTILE:return 4;case ve.SKIPPED:case ve.ENDED:case ve.ERRORED:return 5;default:return null}}createPayload(){return{volume:this.volume,duration:this.duration,position:this.position}}processEvent(e){const t=this.getVastEventLadderPosition(e);t?t>this.lastLadderPosition&&(this.lastLadderPosition=t,this.trackingCallback(e,this.createPayload())):this.trackingCallback(e,this.createPayload())}onStarted(){this.processEvent(ve.STARTED)}onResumed(){this.isPaused&&(this.isPaused=!1,this.processEvent(ve.RESUMED))}onPaused(){this.isPaused=!0,this.processEvent(ve.PAUSED)}onVolumeChanged({volume:e}){this.volume=e,this.processEvent(ve.VOLUME_CHANGE),e>0&&this.isMuted?(this.isMuted=!1,this.processEvent(ve.UNMUTED)):0!==e||this.isMuted||(this.isMuted=!0,this.processEvent(ve.MUTED))}onPlaybackEnded({reason:e}){switch(e){case be.Yr.REQUESTED:this.processEvent(ve.SKIPPED);break;case be.Yr.FATAL_ERROR:case be.Yr.NETWORK_ERROR:this.processEvent(ve.ERRORED);break;case be.Yr.PLAYED_TO_END:this.processEvent(ve.ENDED)}}onDurationChanged({duration:e}){this.duration=e}onPlaybackCreated({initialConfiguration:e,timeObservable:t}){this.position=e.position,this.volume=e.volume,this.isMuted=0===this.volume,t.addObserverForPeriodicEvents(.4,(e=>{this.position=e})),t.addObserverForMediaPositions([.25,.5,.75],(e=>{e>=.25&&this.processEvent(ve.FIRST_QUARTILE),e>=.5&&this.processEvent(ve.MIDPOINT),e>=.75&&this.processEvent(ve.THIRD_QUARTILE)}))}}class Ce{constructor(e,t){this.listener=e,this.adId=t,this.firstReadyDone=!1,this.volume=-1,this.duration=-1,this.position=-1}createPayload(){return{adId:this.adId,volume:this.volume,duration:this.duration,position:this.position}}onStarted(){this.listener.onStarted(this.createPayload())}onVolumeChanged({volume:e}){this.volume=e,this.listener.onStateUpdate(this.createPayload())}onDurationChanged({duration:e}){this.duration=e,this.listener.onStateUpdate(this.createPayload())}onPlaybackCreated({initialConfiguration:e,timeObservable:t}){this.position=e.position,this.volume=e.volume,t.addObserverForPeriodicEvents(.4,(e=>{this.position=e,this.listener.onStateUpdate(this.createPayload())})),this.listener.onCreated(this.createPayload())}onPlaybackEnded({reason:e}){this.listener.onEnded(this.createPayload(),e)}onReady(){this.firstReadyDone||this.listener.onReady(),this.firstReadyDone=!0}}const Ee=e=>(t,n)=>d.U.postEvent(e,t,{event_data:{clientReportedUserAgent:navigator.userAgent,volume:n.volume.toString(),duration:n.duration.toString()},playback_position:Math.floor(1e3*n.position)});var Se=n(93504);function we(e,t){const n=new Se.mc(new f,new ye(d.U),e,t);return{manager:n,factories:[(s=Ee,i=n,e=>"true"===e.metadata?.is_advertisement?new _e(new xe(s(e.metadata.ad_id)),new Ce(i,e.metadata.ad_id)):null)]};var s,i}class Ie{constructor(e,t,n){this.focusState=t,this.setAdStateKey=e,this.focusState.addFocusListener(this),this.history=n,this.history.listen((e=>{this.setAdStateKey("view_uri",e.pathname)}))}onFocusChanged(e){this.setAdStateKey("focus",e?"true":"false")}}function Ae(e){return new Ie(d.U.setAdStateKey,new f,e)}const Te=new(n(61648).e2),ke=(e,{webHptoApi:t},n,s,i,r,a,o,c,u)=>()=>{const m=new l(Te);return{audio:p(i,m,o),vto:we(m,o),hpto:Y({webHptoApi:t},s,r,Te,a),billboard:new k(new h(d.U),new f),leaderboard:ce(e,s,n,r,Te,u),sponsoredPlaylist:fe(e,s,Te,c),inStreamApi:m,...e?{adStateReporter:Ae(n)}:{}}};var Ne=n(89240),Oe=n(15040);function Pe(e,t){return e.build().withHost(de.UD).withPath(`/albums/${t}`).withEndpointIdentifier("/albums/{albumId}").send()}function je(e,t){return e.build().withHost(de.UD).withPath(`/artists/${t}`).withoutMarket().withEndpointIdentifier("/artists/{artistId}").send()}function Le(e,t,n={}){return e.build().withHost(de.UD).withPath(`/artists/${t}/albums`).withQueryParameters(n).withoutMarket().withEndpointIdentifier("/artists/{artistId}/albums").send()}function Re(e,t,n={additional_types:"track"}){return e.build().withHost(de.UD).withPath(`/playlists/${t}`).withQueryParameters(n).withEndpointIdentifier("/playlists/{playlistId}").send()}function De(e){return e.build().withHost(de.Sq).withPath("/select-ondemand-set?format=json").withEndpointIdentifier("/select-ondemand-set").withJsonContentType().withoutMarket().send()}function Me(e,t){return e.build().withHost(de.km).withMethod("GET").withPath(`/playlist/${t}/capabilities`).withEndpointIdentifier("/playlist/{id}/capabilities").withoutMarket().send()}var Ue=n(22607);function Fe(e,t){return e.build().withHost(de.UD).withPath(`/tracks/${t}`).withEndpointIdentifier("/tracks/{trackId}").send()}var Be=n(16928),Ge=n(59448),Ve=n(19872);function He({container:e,history:t,eventSender:n,appStartupId:l,playerAPI:c,resolver:d}){const u=d.getValue(Oe.oZY),m=d.getValue(Oe.kdo),p=d.getValue(Oe.U71),h=d.getValue(Oe.OJ0);return ke(e===Ne.q.Desktop,{webHptoApi:new o(q.W.getInstance(),{Album:s,Artist:i,Playlist:r,Track:a,Show:Ue},Ve.u)},t,n,(async()=>{const e=c.getState(),t=e?.item??void 0;return null!==e&&(0,Be.UZ)(t)?{positionMs:(0,Ge.E)(e),adId:t.id}:null}),l,u,m,p,h)()}},29168:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});var s=n(84264),i=n(71128);function r(e,t,n,r){(0,i.s)(e),s.W.setLocale(t.locale),s.W.setMarket(t.market),s.W.setSession(t),s.W.setGlobalRequestHeaders([["App-Platform",r],["Spotify-App-Version",n]])}},38432:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var s=n(96651),i=n(32228);const r=()=>(0,s.useContext)(i.Q)},42942:(e,t,n)=>{"use strict";n.d(t,{w:()=>Gc,_:()=>Uc});n(73952),n(39568);var s=n(86816),i=n(59300),r=n(62148),a=n(87691),o=n(23208),l=n(56036),c=n(36836),d=n(48620),u=n(6556),m=n(46064),p=n(64620),h=n(8186),g=n(12100),f=n(77220),y=n(3016),_=n(80620);class b{cleanActions(){}triggerActions(){}storeAction(){}}class v{constructor(e){this._cosmos=e}async copy(e){await this._cosmos.put("sp://desktop/v1/clipboard",e)}async paste(){const e=await this._cosmos.get("sp://desktop/v1/clipboard");return e?.data}}var x=n(93440),C=n(42972);const E={artist:x.iE.FOLLOWED_ARTISTS,artistban:x.iE.BANNED_ARTISTS,ban:x.iE.BAN,collection:x.iE.COLLECTION,enhanced:x.iE.ENHANCED,ignoreinrecs:x.iE.IGNOREINRECS,listenlater:x.iE.LISTENLATER,show:x.iE.SHOW,ylpin:x.iE.PINNED_YOUR_LIBRARY,prerelease:x.iE.PRERELEASE};class S{events=new C.i2;constructor(e){this._service=e}getEvents(){return this.events}async add(e,t){await this._service.add(x.yK.fromPartial({set:E[e],items:t})),this.events.emit(C.I5.ADDED,{set:e,uris:t,source:"client"})}async remove(e,t){await this._service.remove(x.yK.fromPartial({set:E[e],items:t})),this.events.emit(C.I5.REMOVED,{set:e,uris:t,source:"client"})}async contains(e,t){const n=await this._service.contains(x.yK.fromPartial({set:E[e],items:t}));return n.contains?n.contains.found:new Array(t.length).fill(!1)}subscribeContains(e,t,n){return this._service.streamContains(x.yK.fromPartial({set:E[e],items:t}),(({contains:e})=>{n(e?e.found:new Array(t.length).fill(!1))})).cancel}}var w=n(35660),I=n(90912);class A extends I.Y{_numListeners=0;_subscriptions=[];constructor(e,t){super(),this._cosmos=e,this._endpoints=t,this.onAddListener("message",this.onListenerAdded.bind(this)),this.onRemoveListener("message",this.onListenerRemoved.bind(this))}onListenerAdded(){if(++this._numListeners,0===this._subscriptions.length)for(const e of this._endpoints){const t=this._cosmos.sub(e,(e=>{this.emit("message",e)}),(()=>{}));this._subscriptions.push(t)}}onListenerRemoved(){0==--this._numListeners&&this._subscriptions.length>0&&(this._subscriptions.forEach((e=>e.cancel())),this._subscriptions=[])}}class T{constructor(e){this._cosmos=e}async enableMenuItem(e){await this._cosmos.post("sp://messages/v1/container/control",{type:"update_menu_state",[e]:!0})}async disableMenuItem(e){await this._cosmos.post("sp://messages/v1/container/control",{type:"update_menu_state",[e]:!1})}async setTitlebarHeight(e){await this._cosmos.post("sp://messages/v1/container/control",{type:"update_titlebar",height:e})}async notifyUsableStateReached(e){await this._cosmos.post("sp://messages/v1/container/control",{type:"loaded_initial_state",name:e})}async notifyReadyStateReached(){await this._cosmos.post("sp://messages/v1/container/control",{type:"ready"})}async notifyViewLoaded(e){await this._cosmos.post("sp://messages/v1/container/control",{type:"view_loaded",name:e})}getEvents(){return function(e){return new A(e,["sp://messages/v1/container/control","sp://desktop/v1/navigation"])}(this._cosmos)}}n(41260);var k=n(44203),N=n(39352);const O=2**31-1,P=e=>BigInt(Math.round(e/N.gr*O));class j extends k.A{constructor(e,t){super(t),this.prefs=e}subscribeToEnabledState(e){return this.prefs.sub({key:"audio.equalizer_v2"},(t=>{const n=!!t.entries["audio.equalizer_v2"].bool;e(n)})).cancel}setEnabledState(e){this.prefs.set({entries:{"audio.equalizer_v2":{bool:e}}})}async setFilterGain(e,t){await this.prefs.set({entries:{[e]:{number:P(t)}}}),this.filters[this.filters.findIndex((t=>t.key===e))].gain=t}async getFilters(){const e=await Promise.all(this.filters.map((e=>this.prefs.get({key:e.key}))));for(let t=0;t<this.filters.length;t++){const n=e[t],s=this.filters[t],i=n.entries[s.key].number;i&&(this.filters[t].gain=Number(i)/O*N.gr)}return this.filters}isSupported(){return!0}}var L=n(49672);const R="sp://facebook/v1/connection";class D extends L.w{_numListeners=0;_subscription=null;constructor(e){super(),this._cosmos=e,this.onAddListener(L.I.CONNECTION_STATE_CHANGE,(()=>{this._numListeners++,null===this._subscription&&(this._subscription=this._cosmos.sub(R,(e=>{this.emit(L.I.CONNECTION_STATE_CHANGE,e)})))})),this.onRemoveListener(L.I.CONNECTION_STATE_CHANGE,(()=>{this._numListeners--,null!==this._subscription&&0===this._numListeners&&(this._subscription.cancel(),this._subscription=null)}))}connect(e){return this._cosmos.put(R,e)}disconnect(){return this._cosmos.del(R)}}var M=n(94668),U=n(39908),F=n(29168),B=n(85288);const G=(e,t)=>{const n=e.event_sender_context_information;return[(0,B._i)({version_code:n.client_version_int,version_string:n.client_version_string}),(0,B.SQ)(t),(0,B.UZ)(n.installation_id),(0,B.WU)({device_id:n.device_id,device_manufacturer:n.device_manufacturer,device_model:n.device_model,os_version:n.os_version,platform_type:n.platform_type})]},V=(e,t,n,s,i,r)=>(0,B.qy)({transport:t,suppressPersist:false,context:G(e,n),storagePrefix:i,ownerProvider:s,useOptimizedESS2NA:r});var H=n(68792);const W=(0,H.A)();async function z(){try{const e=await W.get("sp://remote-config-overrides/v1/values");return m.E3.fromJSON(e["desktop-ui"]||{})}catch(e){return console.warn(e),m.E3.builder().build()}}const Y=/Spotify\/(?<version>.+)\s/;var K=n(51160),q=n(49320);const Q={"Master Build":"(master)","Release Build":"(release)","PR Build":"(pull request)","Local Build":"(local development)"};class X{constructor(e){this._cosmos=e}async getVersionInfo(){const e=await this._cosmos.get("sp://desktop/v1/version"),t=Q[e.buildType]||"Spotify (unknown)";return{containerVersion:e.version,containerBuildType:t,containerPlatform:e.platform,uiVersion:"xpui_2024-02-23_1708709925614_4c6498b",cefVersion:e.cefVersion,cefRuntime:e.cefRuntime}}subscribe(e){return this._cosmos.sub("sp://desktop/v1/upgrade/status",(t=>{void 0!==t.pending?e({state:q.y.UPDATE_AVAILABLE,version:t.pending.version}):void 0!==t.downloading?e({state:q.y.UPDATE_PROCESSING,version:t.downloading.version}):void 0!==t.prepared?e({state:q.y.UPDATE_READY,version:t.prepared.version}):e({state:q.y.UPDATE_NONE,version:null})}))}async prepareUpdate(){await this._cosmos.post("sp://desktop/v1/upgrade/download")}async applyUpdate(){await this._cosmos.post("sp://desktop/v1/restart")}}var $=n(55028),J=n(47752),Z=(n(97296),n(14788)),ee=n(58088),te=n(43619);async function ne(e,t,n){const s=n.tracks.filter((e=>!!e.uri)).slice(1).map((e=>function(e){return(0,Z._Z)(e.uri)||(0,Z.UF)(e.uri)?{type:te.s.TRACK,uri:e.uri,name:e.metadata.title,duration:{milliseconds:parseInt(e.metadata.duration,10)},isExplicit:"true"===e.metadata.is_explicit,isLocal:"true"===e.metadata.is_local,images:[{url:e.metadata.image_url}],album:{type:te.s.ALBUM,uri:e.metadata.album_uri??"",name:e.metadata.album_title,images:[{url:e.metadata.image_url}]},artists:[{type:te.s.ARTIST,uri:e.metadata.artist_uri??"",name:e.metadata.artist_name??""}],mediaType:"audio",provider:null,uid:null}:(0,Z.QB)(e.uri)?{type:te.s.EPISODE,uri:e.uri,name:e.metadata.title,duration:{milliseconds:parseInt(e.metadata.duration,10)},images:[{url:e.metadata.image_url}],show:{type:te.s.SHOW,uri:e.metadata.album_uri??"",name:e.metadata.album_title,images:[{url:e.metadata.image_url}]},mediaType:"audio",provider:null,uid:null}:null}(e))).filter((e=>null!==e));try{await(0,ee.Uv)(e,t,s)}catch(e){console.error(e)}return{items:s.map((e=>t.get(e.uri)??e))}}var se=n(91404),ie=n(33084);class re extends ie._{_subscriptions={[ie.Y.UPDATE]:null};constructor(e,t,n){super(),this._loader=t,this._cache=n,this._player=new $.OA(e)}startListening(){null===this._subscriptions[ie.Y.UPDATE]&&(this._subscriptions[ie.Y.UPDATE]=this._player.getPlayHistory({},(0,se.C)((async e=>{this.emit(ie.Y.UPDATE,await ne(this._loader,this._cache,e))}))(100,true)))}stopListening(){const e=this._subscriptions[ie.Y.UPDATE];null!==e&&(e.cancel(),this._subscriptions[ie.Y.UPDATE]=null)}}class ae{_cache=new J.K8(36e5,3e5);constructor(e,t){this._loader=t,this._player=new $.OA(e),this._events=new re(e,this._loader,this._cache)}async getContents(){const e=await new Promise((e=>{const t=this._player.getPlayHistory({},(n=>{e(n),t.cancel()}))}));return ne(this._loader,this._cache,e)}getEvents(){return this._events}getCapabilities(){return{isSupported:!0}}}class oe{constructor(e){this._scrobble=e}subscribeToPrivateSession(e){const t=this._scrobble.subIncognitoMode(p.c9.fromPartial({}),(t=>{e(t.incognitoMode)}));return()=>{t.cancel()}}async setPrivateSession(e){await this._scrobble.putIncognitoMode(p.K2.fromPartial({incognitoMode:e}))}getCapabilities(){return{isSupported:!0}}}var le=n(71680);class ce{constructor(e,t){this._productState=e,this._playlistAPI=t}async getReportURL(e,t){const n=(await this._productState.getValues(c.AH.fromPartial({}))).pairs["ugc-abuse-report-url"],s=new URL(n.replace("{uri}",e));return s.searchParams.append("platform","desktop"),s.searchParams.append("version","1.2.32.997.g4c6498b6"),t&&s.searchParams.append("playback_timestamp",""+t/1e3),s.href}isURIReportable(e){return(0,le.E)(e)}canReportPlaylist(e,t){return(0,le.Q)(this._playlistAPI,e,t)}}var de=n(11156),ue=(n(97768),n(52276));function me(e){return!!e?.uri}async function pe(e,t){const n=await e.getDisplaySegments(function(e){return de.c7.fromPartial({episodeUris:[e],segmentsPolicy:{playback:!0},trackDecorationPolicy:{trackPolicy:{name:!0,length:!0,playable:!0},albumPolicy:{name:!0,link:!0,covers:!0},artistsPolicy:{name:!0,link:!0}},episodeDecorationPolicy:{episodePolicy:{isMusicAndTalk:!0},showDecorationPolicy:{name:!0,link:!0}}})}(t));if(!n||!n.success||!n.episodeSegments)return[];const s=n.episodeSegments.find((e=>e.episodeUri===t));return s?.segments.map((e=>{switch(e.type){case de.wl.MUSIC:return function(e){const t=e.startMs??0;if(!e.trackMetadata?.album||!e.trackMetadata.artist)return null;return{type:"MUSIC",uri:e.uri,start:t,stop:e.stopMs,duration:e.stopMs-t,track:{playable:e.trackMetadata.playable,name:e.trackMetadata.name,album:{uri:e.trackMetadata.album.link,name:e.trackMetadata.album.name,image:e.trackMetadata.album.covers?.standardLink||""},artists:e.trackMetadata.artist.map((e=>({uri:e.link,name:e.name})))}}}(e);case de.wl.TALK:return function(e){const t=e.startMs??0;if(!e.episodeMetadata?.show)return null;return{type:"TALK",uri:e.uri,start:t,stop:e.stopMs,duration:e.stopMs-t,title:e.title,subtitle:e.subtitle,show:{uri:e.episodeMetadata.show.link,name:e.episodeMetadata.show.name}}}(e);case de.wl.UPSELL:case de.wl.UNKNOWN:case de.wl.UNRECOGNIZED:return null;default:return(0,ue.I)(e.type),null}})).filter(me)||[]}class he{constructor(e){this._client=new de.CS(e)}getCapabilities(){return{isSupported:!0}}async getSegments(e,t,n){return(await pe(this._client,e)).splice(t,n)}async getArtists(){return await async function(){return[]}()}}class ge{incognito=!1;constructor(e){this.scrobble=e,this.scrobble.subIncognitoMode(p.c9.fromPartial({}),(e=>{this.incognito=e.incognitoMode}))}isIncognito(){return this.incognito}}class fe{constructor(e){this.productStateClient=e,this.rules="",this.productStateClient.subValues(c.Mx.fromPartial({}),(e=>{this.rules=e.pairs["streaming-rules"]}))}streamingRules(){return this.rules}}var ye=n(65679),_e=n(94180),be=n(7612),ve=n(55644);const xe=JSON.parse('{"type":"record","name":"EndVideo","namespace":"com.spotify.Message","doc":"Information about a video played by the client","fields":[{"name":"message_name","type":"string"},{"name":"message_version","type":"int"},{"name":"sequence_number","type":["null","long"],"doc":"Sequence number of message","default":null},{"name":"sequence_id","type":["null","string"],"doc":"Sequence ID the sequence number belongs to. Combined from cache-id and device-id.","default":null},{"name":"video_session_id","type":["null","string"],"doc":"ID of the video playback session","default":null},{"name":"file_id","type":["null","bytes"],"doc":"ID of the video manifest","default":null},{"name":"playback_id","type":["null","bytes"],"doc":"ID of the unique playback","default":null},{"name":"feature_identifier","type":["null","string"],"doc":"The identifier of the feature that started playback","default":null},{"name":"feature_version","type":["null","string"],"doc":"The version of the feature that started playback","default":null},{"name":"view_uri","type":["null","string"],"doc":"The URI of the view that started playback","default":null},{"name":"reason_start","type":["null","string"],"doc":"Why the video was started","default":null},{"name":"reason_end","type":["null","string"],"doc":"Why the video ended (trackdone, trackerror, etc.)","default":null},{"name":"ms_played","type":["null","long"],"doc":"Total milliseconds played, including overlapping time ranges","default":null},{"name":"ms_nominal_played","type":["null","long"],"doc":"Milliseconds played (amount of time that media would have been outputted, if played in 1x speed, nominal time)","default":null},{"name":"ms_total_est","type":["null","long"],"doc":"Duration of the video in milliseconds (constant if VOD, variable if live)","default":null},{"name":"live","type":["null","boolean"],"doc":"Is the video being streamed live?","default":null},{"name":"ms_manifest_latency","type":["null","long"],"doc":"The time it took to fetch the manifest in milliseconds (may be 0 if cached or prefetched)","default":null},{"name":"n_seekback","type":["null","long"],"doc":"Number of times user seeked backwards","default":null},{"name":"ms_seekback","type":["null","long"],"doc":"The total amount of milliseconds jumped when performing seekbacks throughout playback.","default":null},{"name":"n_seekfwd","type":["null","long"],"doc":"Number of times user seeked forwards","default":null},{"name":"ms_seekfwd","type":["null","long"],"doc":"The total amount of milliseconds jumped when performing seek forwards throughout playback.","default":null},{"name":"ms_latency","type":["null","long"],"doc":"Time from initiating video playback to first frame ready to play in milliseconds","default":null},{"name":"ui_latency","type":["null","long"],"doc":"Time from UI interaction to first frame ready to play in milliseconds (may be -1 if not user-initiated)","default":null},{"name":"start_offset_ms","type":["null","long"],"doc":"The offset at which the video started playing in milliseconds","default":null},{"name":"ms_initial_buffering","type":["null","long"],"doc":"Time between first segment load and first frame ready to play in milliseconds","default":null},{"name":"ms_seek_rebuffering","type":["null","long"],"doc":"Total time spent re-buffering from a seek in milliseconds","default":null},{"name":"ms_stalled","type":["null","long"],"doc":"Total time where playback stalled in milliseconds (excluding initial buffering and seek rebuffering)","default":null},{"name":"max_ms_seek_rebuffering","type":["null","long"],"doc":"Maximum time spent re-buffering from a single seek","default":null},{"name":"max_ms_stalled","type":["null","long"],"doc":"Maximum time stalled from a single stall","default":null},{"name":"n_stalls","type":["null","long"],"doc":"Number of times playback was stopped because of empty buffer (excluding initial buffering and seek rebuffering)","default":null},{"name":"shuffle","type":["null","boolean"],"doc":"If playback was initiated while in shuffle mode","default":null},{"name":"max_continous","type":["null","long"],"doc":"Maximum continuous time range played in milliseconds","default":null},{"name":"union_played","type":["null","long"],"doc":"Union of all played time ranges in milliseconds (cannot exceed duration)","default":null},{"name":"play_context","type":["null","string"],"doc":"The context from which this track was played (spotify URI)","default":null},{"name":"audiocodec","type":["null","string"],"doc":"The primarily played audio codec (in RFC6381 notation)","default":null},{"name":"videocodec","type":["null","string"],"doc":"The primarily played video codec (in RFC6381 notation)","default":null},{"name":"play_track","type":["null","string"],"doc":"Spotify URI for the track (ex. spotify:episode:abc)","default":null},{"name":"incognito_mode","type":["null","boolean"],"doc":"Whether playback was initiated in incognito mode","default":null},{"name":"provider","type":["null","string"],"doc":"The playback rule that provided the video, e.g., \\"mft/inject_random_track\\" or \\"queue\\"","default":null},{"name":"referrer","type":["null","string"],"doc":"Either a remote site or a spotify app which initiated the request","default":null},{"name":"referrer_version","type":["null","string"],"doc":"The version of the referrer, where applicable","default":null},{"name":"referrer_vendor","type":["null","string"],"doc":"The vendor of the referrer, where applicable","default":null},{"name":"streaming_rule","type":["null","string"],"doc":"The streaming rule in effect for this track","default":null},{"name":"gaia_dev_id","type":["null","string"],"doc":"Remote control that started the playback. Same as \\"dev-id\\" in \\"Gaia\\" messages sent by that device. \\"none\\" if non-Gaia playback.","default":null},{"name":"start_bitrate","type":["null","long"],"doc":"Bitrate at which playback started (bits/s)","default":null},{"name":"full_screen","type":["null","long"],"doc":"Milliseconds played while video is in a modal or fullscreen state","default":null},{"name":"time_weighted_bitrate","type":["null","long"],"doc":"Average bitrate weighted by the amount of time video played at each bitrate","default":null},{"name":"prefetched_bytes","type":["null","long"],"doc":"Total number of bytes prefetched for the selected content","default":null},{"name":"prefetched_bytes_loaded","type":["null","long"],"doc":"Total number of prefetched bytes played back","default":null},{"name":"key_system","type":["null","string"],"doc":"The DRM key system","default":null},{"name":"ms_key_latency","type":["null","long"],"doc":"The time it took to fetch and install the DRM key in milliseconds.","default":null},{"name":"total_bytes","type":["null","long"],"doc":"The total segment bytes downloaded","default":null},{"name":"local_time_ms","type":["null","long"],"doc":"The local time at which playback was initiated (Unix timestamp in milliseconds)","default":null},{"name":"connection_type_start","type":["null","string"],"doc":"connection type (i.e. wifi, 3G) at the start of the stream","default":null},{"name":"connection_type_end","type":["null","string"],"doc":"connection type (i.e. wifi, 3G) at the end of the stream","default":null},{"name":"ms_played_background","type":["null","long"],"doc":"Milliseconds played in background (audio-only). Always subset of ms-played.","default":null},{"name":"page_instance_id","type":["null","string"],"doc":"ID of the page where the user triggered this video to play.","default":null},{"name":"interaction_id","type":["null","string"],"doc":"ID of the interaction that triggered this video to play.","default":null},{"name":"core_version","type":"long","doc":"The core version this message was sent from in the form of xxxxyyyyzzzzwwwwwww (major, minor, micro, tiny)","default":0},{"name":"ms_played_video","type":["null","long"],"doc":"Milliseconds played with video rendering enabled, in wall-clock time. Always a subset of ms-played.","default":null},{"name":"feature_uuid","type":["null","string"],"doc":"UUID of a feature that uniquely identifies the feature.","default":null},{"name":"media_type","type":["null","string"],"doc":"The media type of content played, e.g. video or audio","default":null},{"name":"decision_id","type":["null","string"],"doc":"Identifier for the decision to add the track to the played context. Used to identify recommendations and join with external datasets containing decision related data.","default":null},{"name":"play_context_decision_id","type":["null","string"],"doc":"Same as decision_id, but for the played context. E.g. a decision that was made to add the card for the played playlist in Home section.","default":null}],"schema_version":17}');var Ce=n(31144);let Ee,Se=!1;function we(e){if(!Se){if(Ee=n(59880),we.enable=Ee.enable.bind(Ee),we.disable=Ee.disable.bind(Ee),"undefined"!=typeof window&&window.frameElement){const e=window.frameElement.getAttribute("data-debug");e&&we.enable(e)}const e="undefined"!=typeof __spotify&&__spotify.product_state?__spotify.product_state:{},t=e.debugEnable||e.debugenable;t&&Ee.enable(t),"undefined"!=typeof __spotify&&__spotify.product_state&&"1"===__spotify.product_state["ta-environment"]&&(Ee.useColors=()=>!1,Ee.formatters.o=e=>{try{return JSON.stringify(e)}catch(e){return(0,Ce.Kk)("Unable to stringify object",e),""}}),Se=!0}return Ee(e)}var Ie=n(87597).Sn;function Ae({type:e,name:t},n){if(Array.isArray(e)){const s=n[t];if(null===s)return;n[t]={};const i=e.filter((e=>"null"!==e))[0];"object"==typeof i?(n[t]={[i.type]:s},Ae(i,n[t])):n[t][i]="bytes"===i?Ie.from(s):s}else"bytes"===e&&(n[t]=Ie.from(n[t]))}function Te(e,t){we(`logger:${e.name}`);const n=t.message_name,s=t.message_version,i=Object.assign({},t);if(s!==e.schema_version)throw new Error(`Invalid message version: received Message with message_version ${s} but the Schema requires version ${e.schema_version}`);return{message:n,version:s,fields:e.fields.map((e=>{const t=i[e.name];return void 0===t?e.default:(Ae(e,i),t)})).slice(2)}}const ke=(0,H.A)();const Ne={schema:xe,create:function({name:e,schema_version:t},n){const s={message_name:e,version:t};ke.post("",s).then((e=>{e.sequence_number?e.sequence_id?n(null,e.sequence_number,e.sequence_id):n(new Error("pendingLog: sequence_id not present"),null):n(new Error("pendingLog: sequence_number not present"),null)})).catch((e=>{(0,Ce.Kk)("create error",e,s),n(e,null)}))}.bind(null,xe),update:function(e,t,n,s){const i=function(e,t){const n=Te(e,Object.assign({},{message_name:e.name,message_version:e.schema_version},t));return n.fields=n.fields.map((e=>"string"==typeof e?e:null===e?"":JSON.stringify(e))),n}(e,n);i.sequence_number=t,ke.post("",i).then((()=>{s(null)})).catch((e=>{(0,Ce.Kk)("update error",e,i),s(e)}))}.bind(null,xe),send:function({name:e},t){const n={sequence_number:t,message_name:e};ke.post("",n).catch((e=>{(0,Ce.Kk)("send error",e,n)}))}.bind(null,xe)};var Oe=n(24544);const Pe="video.subtitles";class je{_hasSubtitleSupport=!1;_hasMinimizeBitrateSupport=!1;_hasPipSupport=!1;_events=new ve.y;_subtitleLanguages=[];_pictureInPictureState=!1;_videoCoordinator=null;_offlineCoordinator=null;constructor(e,t,n,s,i,r,a,o,l,c){this._cosmos=e,this._showService=t,this._productStateService=n,this._scrobbleService=s,this._playbackService=i,this._pendingEventsService=r,this._prefsClient=a,this._resolver=o,this._eventSender=l,this._factories=c,this.initialize()}async initialize(){ye.Mn.installAll(),this._hasSubtitleSupport=this._resolver.getValue(Oe.Ar),this._hasMinimizeBitrateSupport=this._resolver.getValue(Oe.wB),this._hasPipSupport=this._resolver.getValue(Oe.s1);const e=await this.createPlayerConfiguration();[this._videoCoordinator,this._offlineCoordinator]=await Promise.all([this.createVideoCoordinator(e),this.createOfflineCoordinator(e)])}async createPlayerConfiguration(){const e=this._resolver.getValue(Oe.C2),t=this._resolver.getValue(Oe.Ar),n=this._resolver.getValue(Oe.ob),s=this._resolver.getValue(Oe.oP),i=this._resolver.getValue(Oe.k2),r=this._resolver.getValue(Oe.AD),a=this._resolver.getValue(Oe.qU),o=this._resolver.getValue(Oe.gR),l=this._resolver.getValue(Oe.o9),c=this._resolver.getValue(Oe.sr),d=this._resolver.getValue(Oe.Yb),u=this._resolver.getValue(Oe.It);return{containerElementClass:"VideoPlayer__container",streaming:{rebufferingGoal:i,autoplayVideoOnLoad:l},adaptiveBitrate:{initialLowBitrate:c,surfaceBasedResolutionCap:d,maxBitrate:0===u?void 0:u},drm:{vmpEnabled:a},subtitles:{enabled:t},offline:{enabled:e,targetBitrate:n},retry:{attempts:r},minimizeBitrate:{bufferMargin:o},experimental:{filterNegativeDuration:this._resolver.getValue(Oe.G4),autoSeekToBufferedStartPositionOnLoad:this._resolver.getValue(Oe.Oq)},analytics:{mux:{enabled:s,token:"2qbjhhcl4u87btjbo7dh8vi2n",appName:"Desktop-X",playerName:"betamax-player-desktop-x"}}}}async getAccessToken(){return this._cosmos.get("sp://auth/v2/token")}async getProductState(){return this._productStateService.getValues(c.AH.fromPartial({})).then((e=>{const t={"video-manifest-url":"","streaming-rules":"","widevine-license-url":""};return e.pairs["video-manifest-url"]&&(t["video-manifest-url"]=e.pairs["video-manifest-url"]),e.pairs["streaming-rules"]&&(t["streaming-rules"]=e.pairs["streaming-rules"]),e.pairs["widevine-license-url"]&&(t["widevine-license-url"]=e.pairs["widevine-license-url"]),t}))}async createVideoCoordinator(e){const t={videoOnVideoSaiEnabled:this._resolver.getValue(Oe.mC)},n=this._resolver.getValue(Oe.u0),s=this._resolver.getValue(Oe.CA),i=this._resolver.getValue(Oe.e0),r=this.getAccessToken.bind(this),a=this._productStateService,o=this._scrobbleService,l=this._playbackService,c=this._pendingEventsService,d={factories:[()=>this,...this._factories]},u=this._resolver.getValue(Oe.gp),m=this._resolver.getValue(Oe.MF),p=this._resolver.getValue(Oe.qC),h=await this.getProductState(),g={ads:t,playerConfiguration:e,boomboxAudioSync:u,cosmos:this._cosmos,eventSenderProvider:()=>Promise.resolve(this._eventSender),endVideoLogger:Ne,getToken:r,playerDependencies:d,productState:h,productStateService:a,widevineVersionSupported:n,scrobbleService:o,playbackService:l,pendingEventsService:c,playerPool:{enabled:m,size:p},logging:{usePendingStorage:s},experimental:{seekToAd:i}},f=new _e.e(g);return await f.initialize(),f}async createOfflineCoordinator(e){const t={cosmos:this._cosmos,productState:await this.getProductState(),playerConfiguration:e,networkConfiguration:{getAuthorizationHeader:async()=>{const{accessToken:e,tokenType:t}=await this.getAccessToken();return`${t} ${e}`}},show_service:this._showService},n=new be.G(t);return n.initialize(),n}onManifestLoaded({availableSubtitles:e}){const t=e.map((e=>e.languageTag));this.setSubtitleLanguages(t)}onPictureInPictureChanged({pictureInPicture:e}){this._pictureInPictureState=e,this._events.emit(ve.E.PICTURE_IN_PICTURE_CHANGED,e)}getPictureInPictureState(){return this._pictureInPictureState}setSubtitleLanguages(e){this._subtitleLanguages=e,this._events.emit(ve.E.SUBTITLE_LANGUAGES_CHANGED,e)}getCapabilities(){return{hasSubtitleSupport:this._hasSubtitleSupport,hasMinimizeBitrateSupport:this._hasMinimizeBitrateSupport,hasPipSupport:this._hasPipSupport}}getEvents(){return this._events}async getSubtitleLanguages(){return this._subtitleLanguages}async getPreferredSubtitleLanguage(){try{const{entries:e}=await this._prefsClient.get({key:Pe}),t=e[Pe]?.string;return t&&t.length>0?t:null}catch(e){return null}}async setPreferredSubtitleLanguage(e){await this._prefsClient.set({entries:{[Pe]:{string:e??""},"video.subtitles_cc":{bool:e?.endsWith("-cc")??!1}}})}reportVideoMode(e){this._videoCoordinator?.reportSurface(this.videoModeToSurface(e))}videoModeToSurface(e){return"npv"===e?"now-playing-view":"nowPlayingBar"===e?"now-playing-bar":"pip"===e||"documentPip"===e?"picture-in-picture":"none"!==e?e:void 0}setMinimizeBitrate(e){this._videoCoordinator?.setMinimizeBitrate(e)}setFullscreen(e){this._videoCoordinator?.setFullscreen(e)}setPip(e){return this._videoCoordinator?.setPip(e)??Promise.resolve(null)}setWindow(e){this._videoCoordinator?.setWindow(e)}}var Le=n(15040),Re=n(84264),De=n(97380),Me=n(48844),Ue=n(32308),Fe=n(49743),Be=n(83772),Ge=n(34468);const Ve="isTokenUnavailable",He={baseTime:200,ceiling:9e5,curve:"exponential",jitter:!0};class We{name="desktop-lifecycle-plugin";_authCounter=new Be.k(He);_authAttempts=0;_authTimeoutId=null;constructor(e,t){this._transport=e,this._onAuthenticationFailed=t,this.onConnected=this.onConnected.bind(this),this.onDisconnected=this.onDisconnected.bind(this),this.onAuthenticated=this.onAuthenticated.bind(this),this.onAuthenticationFailed=this.onAuthenticationFailed.bind(this),this.onBeforeProcessRequest=this.onBeforeProcessRequest.bind(this),this.onBeforeSendRequest=this.onBeforeSendRequest.bind(this)}tryAuthenticate(){this._transport.isAuthenticated()||(null!==this._authTimeoutId&&(window.clearTimeout(this._authTimeoutId),this._authTimeoutId=null),this._transport.authenticate())}onConnected(){this._transport.isAuthenticated()||this._transport.authenticate()}onDisconnected(){this._transport.connect()}onAuthenticated(){this._authAttempts=0}onAuthenticationFailed(){this._authAttempts++;const e=this._authCounter.getTime(this._authAttempts),t=new Date(Date.now()+e);this._onAuthenticationFailed(this._authAttempts,t),console.log("Transport authentication failed, retrying in %.2d seconds...",e/1e3),this._authTimeoutId=window.setTimeout((()=>{this._authTimeoutId=null,this._transport.authenticate()}),e)}onBeforeProcessRequest(e){const{data:t}=e,n=t.options?.metadata?.noRequestTransform;if(n)return;if(this._transport.isAuthenticated())return;this._authAttempts>0&&(t.options?.authorize&&(t.context[Ve]=!0),t.options=(0,Ge.i)(t.options,{authorize:!1}))}onBeforeSendRequest(e){if(e.data.context[Ve])throw new Error("Token is currently unavailable.")}attach(e,t){e.addListener(Fe.TransportEvent.CONNECTED,this.onConnected),e.addListener(Fe.TransportEvent.DISCONNECTED,this.onDisconnected),e.addListener(Fe.TransportEvent.AUTHENTICATED,this.onAuthenticated),e.addListener(Fe.TransportEvent.AUTHENTICATION_FAILED,this.onAuthenticationFailed),t.addListener(Fe.PluginEvent.TRANSPORT_BEFORE_PROCESS_REQUEST,this.onBeforeProcessRequest),t.addListener(Fe.PluginEvent.TRANSPORT_BEFORE_SEND_REQUEST,this.onBeforeSendRequest)}detach(e,t){e.removeListener(Fe.TransportEvent.CONNECTED,this.onConnected),e.removeListener(Fe.TransportEvent.DISCONNECTED,this.onDisconnected),e.removeListener(Fe.TransportEvent.AUTHENTICATED,this.onAuthenticated),e.removeListener(Fe.TransportEvent.AUTHENTICATION_FAILED,this.onAuthenticationFailed),t.removeListener(Fe.PluginEvent.TRANSPORT_BEFORE_PROCESS_REQUEST,this.onBeforeProcessRequest),t.removeListener(Fe.PluginEvent.TRANSPORT_BEFORE_SEND_REQUEST,this.onBeforeSendRequest)}}function ze(e,t){return(0,Ue.m)((async()=>{try{const t=await e.get("sp://auth/v2/token");return function(e){return Object.prototype.hasOwnProperty.call(e,"error")}(t)?null:{accessToken:t.accessToken,accessTokenExpirationTimestampMs:t.expiresAtTime,isAnonymous:!1}}catch(e){return null}}),t)}var Ye=n(36680),Ke=n(44260);class qe{_events=new Ye.u;_state=Ke.S;_plugin=null;constructor(e){this._cosmos=e,this._tokenProvider=ze(e,this.onTokenChanged.bind(this))}createTransportPlugin(e){return this._plugin=new We(e,this.onAuthenticationFailed.bind(this)),this._plugin}onTokenChanged(e){this._state={isAuthorized:null!==e&&!(0,Ue.W)(e),token:e,retryAttempt:null,retryAt:null},this._events.emit(Ye.C.UPDATE,this._state)}onAuthenticationFailed(e,t){this._state={isAuthorized:!1,token:null,retryAttempt:e,retryAt:t},this._events.emit(Ye.C.UPDATE,this._state)}getCapabilities(){return{canGetSessionTransferURL:!0}}getEvents(){return this._events}getState(){return this._state}getTokenProvider(){return this._tokenProvider}tryAuthorize(){null!==this._plugin&&this._plugin.tryAuthenticate()}async getSessionTransferURL(e){const{accessToken:t}=await this._cosmos.get(`sp://auth/v1/session_transfer_token?url=${encodeURIComponent(e)}`);return`https://accounts.spotify.com/login/ott/v2#token=${encodeURIComponent(t)}`}}var Qe=n(46924),Xe=n(15563);function $e(e){switch(e){case"computer":return Xe.KQ.COMPUTER;case"tablet":return Xe.KQ.TABLET;case"smartphone":return Xe.KQ.SMARTPHONE;case"speaker":return Xe.KQ.SPEAKER;case"tv":return Xe.KQ.TV;case"avr":return Xe.KQ.AVR;case"stb":return Xe.KQ.STB;case"audio_dongle":return Xe.KQ.AUDIO_DONGLE;case"game_console":return Xe.KQ.GAME_CONSOLE;case"cast_video":return Xe.KQ.CAST_VIDEO;case"cast_audio":return Xe.KQ.CAST_AUDIO;case"automobile":return Xe.KQ.AUTOMOBILE;case"smartwatch":return Xe.KQ.SMARTWATCH;case"chromebook":return Xe.KQ.CHROMEBOOK;case"carthing":return Xe.KQ.CarThing;case"homething":return Xe.KQ.HomeThing;default:return Xe.KQ.UNKNOWN}}function Je(e){switch(e){case"incompatible":return Xe.O8.INCOMPATIBLE;case"unavailable":return Xe.O8.UNAVAILABLE;case"premium_required":return Xe.O8.PREMIUM_REQUIRED;case"not_installed":return Xe.O8.NOT_INSTALLED;case"unsupported_uri":return Xe.O8.UNSUPPORTED_URI;case"not_authorized":return Xe.O8.NOT_AUTHORIZED;case"ad_playing":return Xe.O8.AD_PLAYING;case"narration":return Xe.O8.NARRATION;case"waking_up":return Xe.O8.WAKING_UP;case"timed_out_wakeup":return Xe.O8.TIMED_OUT_WAKEUP;default:return}}function Ze(e){switch(e){case"connecting":return Xe.i0.CONNECTING;case"logged_in":return Xe.i0.LOGGED_IN;case"not_logged_in":return Xe.i0.NOT_LOGGED_IN;case"sleeping":return Xe.i0.SLEEPING;case"not_loaded":return Xe.i0.NOT_LOADED;case"unknown":return Xe.i0.UNKNOWN;default:return Je(e)}}const et=65535;function tt(e){switch(e){case a.CI.CAST:return"cast";case a.CI.CONNECT:return"connect";default:return"unrecognized"}}function nt(e){const t=[];let n;for(const s of e){const e=tt(s.loginType);(0,Xe.Q1)(e)&&(t.push(e),s.preferred&&(n=e))}return{preferred:n,available:t}}function st(e){const{localIdentifier:t,connectStateIdentifier:n,name:s,type:i,isGroup:r,isSelf:a,isActive:o,isBeingActivated:l,isDisabled:c,volume:d,hifi:u,brandDisplayName:m,modelDisplayName:p,license:h,state:g,isLocal:f,isZeroconf:y,isWebapp:_,supportsLogout:b,incarnations:v,supportsDj:x}=e;return{id:t,connectStateId:n,name:s??"",type:$e(i),isGroup:r,isLocal:a,isActive:o,isConnecting:l,isDisabled:c,disabledReason:Je(g),volume:d/et,hifiSupport:{fullySupported:!!u?.fullySupported,deviceSupported:!!u?.deviceSupported,userEligible:!!u?.userEligible},brandDisplayName:m,modelDisplayName:p,license:h,currentState:Ze(g),isLocalNetwork:f,isZeroconf:y,isWebApp:_,supportsLogout:(C=a,E=b,S=m,w=p,!C&&("spotify"!==S||"web_player"!==w&&"mobile_web_player"!==w)&&E),incarnation:v?nt(v):void 0,supportsDJNarration:x};var C,E,S,w}function it(e,t){return t?Xe.UD.CONNECTING:e&&!e.isLocal?Xe.UD.CONNECTED:Xe.UD.NOT_CONNECTED}function rt(e){return{success:e.status===a.sD.OK}}class at extends Qe.d{constructor(e){super(),this.connectServiceClient=e,this.connectServiceClient.state(a.oB.fromPartial({includeLocalDevice:!0,showOfflineDevicesInCore:!0,showOfflineAmazonDevicesAsOnline:!0}),(({devices:e})=>{e&&e.length>0&&this.emit(Qe.U.UPDATE,function(e){let t;t=e?e.map(st):[];let n=t.find((e=>e.isActive));if(!n){const e=t.findIndex((e=>e.isLocal));-1!==e&&(n={...t[e],isActive:!0},t[e]=n)}const s=t.find((e=>e.isConnecting&&!e.isActive));return{connectionStatus:it(n,s),activeDevice:n??null,connectingDevice:s??null,devices:t}}(e))}))}}class ot{state=null;constructor(e){this.connectServiceClient=e,this.events=new at(this.connectServiceClient),this.events.addListener(Qe.U.UPDATE,(({data:e})=>{this.state=e})),this.initiateLocalDiscovery()}getCapabilities(){return{supportsLocalDiscovery:!0}}getState(){return this.state}getEvents(){return this.events}async initiateLocalDiscovery(){await this.connectServiceClient.startDiscovery({})}async discoverDevices(){await this.connectServiceClient.forceDiscover({})}createLoggingParams(e){return {interactionIds:null,pageInstanceIds:null};return a.yg.fromPartial({interactionIds:[e.interactionId],pageInstanceIds:e.pageInstanceId?[e.pageInstanceId]:void 0})}async pullToLocal(e){await this.connectServiceClient.pull(a.Y3.fromPartial({loggingParams:this.createLoggingParams(e)}))}async transferToRemote(e,t){await this.connectServiceClient.transfer(a.qg.fromPartial({connectDeviceIdentifier:e,loggingParams:this.createLoggingParams(t)}))}async transferPlayback(e,t){await("local_device"===e?this.pullToLocal(t):this.transferToRemote(e,t))}checkDeviceId=e=>{if(0===e.length)throw new Error("missing device id")};async logout(e){this.checkDeviceId(e);return rt(await this.connectServiceClient.logout(a.YL.fromPartial({connectDeviceIdentifier:e})))}mapIncarnationToLoginType=e=>"cast"===e?a.CI.CAST:"connect"===e?a.CI.CONNECT:a.CI.UNRECOGNIZED;async setPreferredIncarnation(e,t){this.checkDeviceId(e);const n=this.mapIncarnationToLoginType(t);return rt(await this.connectServiceClient.setPreferredZeroconf(a.WA.fromPartial({deviceId:e.replace("cluster_",""),preferredLoginType:n})))}}var lt=n(26132);const ct="sp://internal/v1/latest_messages";function dt(e){n.g.window.getCosmosMessages||(n.g.window.getCosmosMessages=()=>async function(e){return await e.get(ct)??[]}(e))}var ut=n(9600),mt=n(52264),pt=n(55563),ht=n(3136);class gt extends ht.S{streamIsCuratedCancellable=null;constructor(e,t){super(t),this._your_library=e}async onCuratedBatchChanged(e){if(null!==this.streamIsCuratedCancellable&&this.streamIsCuratedCancellable.cancel(),0===e.size)return;const t=Array.from(e.keys());this.streamIsCuratedCancellable=this._your_library.streamIsCurated({uri:t,updateThrottling:0,contextUri:""},(e=>{this.emitUpdateCuratedItems(t,e.item.map((e=>e.isCurated)))}))}}var ft=n(7696);var yt=n(44736);class _t{cache=new Map;constructor(e,t,n){this._your_library=e,this._libraryAPI=t,this._playlistAPI=n,this.events=new gt(e,this.cache)}getEvents(){return this.events}async getCurationContexts(e){const{curatedItemUri:t,offset:n=0,limit:s,textFilter:i="",folderUri:r}=e,a=await this._libraryAPI.getContents({offset:n,limit:s,filters:[mt.cf.PLAYLIST.toString(),mt.cf.WRITABLE.toString()],textFilter:i,sortOrder:mt.Cu.RECENTLY_PLAYED_OR_ADDED.toString(),itemToCheckCurationFor:[t],includeYourEpisodes:(0,Z.QB)(t),includeLikedSongs:(0,Z._Z)(t)||(0,Z.UF)(t),folderUri:r});return{...a,items:a.items.filter(ut.y)}}async curateItems(e,t,n){if(this.events.emitOperationSync(pt.Oi.CURATE_ITEMS,e,t,n))return null;const s=[],i=[];for(const n of t){let t;t=(0,Z.W8)(n)?this._libraryAPI.add({uris:[e],silent:!0}):(0,Z.mS)(n)?this._playlistAPI.add(n,[e],{after:"end"},!0):Promise.reject(`Unsupported uri: "${n}"`),s.push(t)}for(const t of n){let n;n=(0,Z.W8)(t)?this._libraryAPI.remove({uris:[e],silent:!0}):(0,Z.mS)(t)?this._playlistAPI.remove(t,[{uri:e,uid:""}],!0):Promise.reject(`Unsupported uri: "${t}"`),i.push(n)}s.length&&!this.isCuratedSync(e)&&(this.events.emitUpdateCuratedItems([e],!0),Promise.any(s).catch((async()=>{this.isCurated(e).then((t=>{this.events.emitUpdateCuratedItems([e],t)}))})));const r=await Promise.allSettled(s),a=await Promise.allSettled(i),o=t.filter(((e,t)=>"fulfilled"===r.at(t)?.status)),l=t.filter(((e,t)=>"rejected"===r.at(t)?.status)),c=n.filter(((e,t)=>"fulfilled"===a.at(t)?.status)),d=n.filter(((e,t)=>"rejected"===a.at(t)?.status));if((o.length||c.length)&&this.events.emitOperationComplete(pt.Oi.CURATE_ITEMS,e,o,c),l.length||d.length){const s=function({curatedItemUri:e,addedCurationContextUris:t,removedCurationContextUris:n,settledAddCurationContextPromises:s,settledRemoveCurationContextPromises:i}){for(const n of[...s])if("rejected"===n.status){const i=t.at(s.indexOf(n));return new ft.u(`Failed curating "${e}" into "${i}"`,{cause:n.reason})}for(const t of[...i])if("rejected"===t.status){const s=n.at(i.indexOf(t));return new ft.u(`Failed uncurating "${e}" from "${s}"`,{cause:t.reason})}return new ft.u(e)}({curatedItemUri:e,addedCurationContextUris:t,removedCurationContextUris:n,settledAddCurationContextPromises:r,settledRemoveCurationContextPromises:a});throw this.events.emitOperationComplete(pt.Oi.CURATE_ITEMS,e,l,d,s),s}return!!o.length||(await this.isCurated(e))?.[0]}getDefaultCurationContextUri=yt.A;async curateDefault(e){const t=this.getDefaultCurationContextUri(e);if(this.events.emitOperationSync(pt.Oi.CURATE_ITEMS,e,[t],[]))return;let n=!1;try{this.isCuratedSync(e)||(n=!0,this.events.emitUpdateCuratedItems([e],!0)),await this._libraryAPI.add({uris:[e],silent:!0}),this.events.emitOperationComplete(pt.Oi.CURATE_ITEMS,e,[t],[])}catch(s){n&&this.isCurated(e).then((t=>{this.events.emitUpdateCuratedItems([e],t)}));const i=new ft.u(`Failed curating "${e}" into default context`,{cause:s});throw this.events.emitOperationComplete(pt.Oi.CURATE_ITEMS,e,[t],[],i),i}}async isCurated(...e){return(await this._your_library.isCurated({uri:e,updateThrottling:0,contextUri:""})).item.map((e=>(this.cache.set(e.uri,e.isCurated),e.isCurated)))}isCuratedSync(e){return this.cache.get(e)}}var bt=n(56508),vt=n(66514),xt=n(54008),Ct=n(51528),Et=n(24036),St=n(30832),wt=n(65208);function It(e){switch(e){case Ct.K.ALBUMS:return mt.cf.ALBUM;case Ct.K.ARTISTS:return mt.cf.ARTIST;case Ct.K.SHOWS:return mt.cf.SHOW;case Ct.K.BOOKS:return mt.cf.BOOK;default:throw Error("Invalid library filter!")}}class At extends Et.k{_cancellables={[Ct.K.ALBUMS]:null,[Ct.K.ARTISTS]:null,[Ct.K.SHOWS]:null,[Ct.K.TRACKS]:null,[Ct.K.EPISODES]:null,[Ct.K.BOOKS]:null};_containsCancellable=null;constructor(e,t,n,s){super(s),this._your_library=e,this._collection=t,this._listen_later=n}subscribeToUpdates(){for(const e of Object.values(Ct.K))if(e===Ct.K.EPISODES){let t;this._cancellables[e]=this._listen_later.streamEpisodes(St.Mp.fromPartial({updateThrottling:100}),(n=>{t!==n.unfilteredLength&&(this.emit(Ct.Wg.UPDATE,{list:e}),t=n.unfilteredLength)}))}else if(e===Ct.K.TRACKS){let t;this._cancellables[e]=this._collection.streamTrackListMetadata(wt.cv.fromPartial({updateThrottling:100}),(n=>{t!==n.metadata?.unfilteredLength&&(this.emit(Ct.Wg.UPDATE,{list:e}),t=n.metadata?.unfilteredLength)}))}else{const t=It(e);this._cancellables[e]=this._your_library.streamAll(mt.SK.fromPartial({updateThrottling:100,header:{allPlaylists:!1,totalCount:!0,filters:{filter:[t]}}}),(()=>{this.emit(Ct.Wg.UPDATE,{list:e})}))}}unsubscribeFromUpdates(){for(const e of Object.values(Ct.K)){const t=this._cancellables[e];null!==t&&(t.cancel(),this._cancellables[e]=null)}}async onBatchChanged(e){if(null!==this._containsCancellable&&this._containsCancellable.cancel(),0===e.size)return;const t=Array.from(e.keys());this._containsCancellable=this._collection.streamContains(wt.gz.fromPartial({uri:t}),(e=>this.emitUpdateItems(t,e.found)))}}n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256);var Tt=n(88168),kt=n(47724);let Nt=function(e){return e[e.UNKNOWN_EXTENSION=0]="UNKNOWN_EXTENSION",e[e.CANVAZ=1]="CANVAZ",e[e.STORYLINES=2]="STORYLINES",e[e.PODCAST_TOPICS=3]="PODCAST_TOPICS",e[e.PODCAST_SEGMENTS=4]="PODCAST_SEGMENTS",e[e.AUDIO_FILES=5]="AUDIO_FILES",e[e.TRACK_DESCRIPTOR=6]="TRACK_DESCRIPTOR",e[e.PODCAST_COUNTER=7]="PODCAST_COUNTER",e[e.ARTIST_V4=8]="ARTIST_V4",e[e.ALBUM_V4=9]="ALBUM_V4",e[e.TRACK_V4=10]="TRACK_V4",e[e.SHOW_V4=11]="SHOW_V4",e[e.EPISODE_V4=12]="EPISODE_V4",e[e.PODCAST_HTML_DESCRIPTION=13]="PODCAST_HTML_DESCRIPTION",e[e.PODCAST_QUOTES=14]="PODCAST_QUOTES",e[e.USER_PROFILE=15]="USER_PROFILE",e[e.CANVAS_V1=16]="CANVAS_V1",e[e.SHOW_V4_BASE=17]="SHOW_V4_BASE",e[e.SHOW_V4_EPISODES_ASSOC=18]="SHOW_V4_EPISODES_ASSOC",e[e.TRACK_DESCRIPTOR_SIGNATURES=19]="TRACK_DESCRIPTOR_SIGNATURES",e[e.PODCAST_AD_SEGMENTS=20]="PODCAST_AD_SEGMENTS",e[e.EPISODE_TRANSCRIPTS=21]="EPISODE_TRANSCRIPTS",e[e.PODCAST_SUBSCRIPTIONS=22]="PODCAST_SUBSCRIPTIONS",e[e.EXTRACTED_COLOR=23]="EXTRACTED_COLOR",e[e.PODCAST_VIRALITY=24]="PODCAST_VIRALITY",e[e.IMAGE_SPARKLES_HACK=25]="IMAGE_SPARKLES_HACK",e[e.PODCAST_POPULARITY_HACK=26]="PODCAST_POPULARITY_HACK",e[e.AUTOMIX_MODE=27]="AUTOMIX_MODE",e[e.CUEPOINTS=28]="CUEPOINTS",e[e.PODCAST_POLL=29]="PODCAST_POLL",e[e.EPISODE_ACCESS=30]="EPISODE_ACCESS",e[e.SHOW_ACCESS=31]="SHOW_ACCESS",e[e.PODCAST_QNA=32]="PODCAST_QNA",e[e.CLIPS=33]="CLIPS",e[e.SHOW_V5=34]="SHOW_V5",e[e.EPISODE_V5=35]="EPISODE_V5",e[e.PODCAST_CTA_CARDS=36]="PODCAST_CTA_CARDS",e[e.PODCAST_RATING=37]="PODCAST_RATING",e[e.DISPLAY_SEGMENTS=38]="DISPLAY_SEGMENTS",e[e.GREENROOM=39]="GREENROOM",e[e.USER_CREATED=40]="USER_CREATED",e[e.SHOW_DESCRIPTION=41]="SHOW_DESCRIPTION",e[e.SHOW_HTML_DESCRIPTION=42]="SHOW_HTML_DESCRIPTION",e[e.SHOW_PLAYABILITY=43]="SHOW_PLAYABILITY",e[e.EPISODE_DESCRIPTION=44]="EPISODE_DESCRIPTION",e[e.EPISODE_HTML_DESCRIPTION=45]="EPISODE_HTML_DESCRIPTION",e[e.EPISODE_PLAYABILITY=46]="EPISODE_PLAYABILITY",e[e.SHOW_EPISODES_ASSOC=47]="SHOW_EPISODES_ASSOC",e[e.CLIENT_CONFIG=48]="CLIENT_CONFIG",e[e.PLAYLISTABILITY=49]="PLAYLISTABILITY",e[e.AUDIOBOOK_V5=50]="AUDIOBOOK_V5",e[e.CHAPTER_V5=51]="CHAPTER_V5",e[e.AUDIOBOOK_SPECIFICS=52]="AUDIOBOOK_SPECIFICS",e[e.EPISODE_RANKING=53]="EPISODE_RANKING",e[e.HTML_DESCRIPTION=54]="HTML_DESCRIPTION",e[e.CREATOR_CHANNEL=55]="CREATOR_CHANNEL",e[e.AUDIOBOOK_PROVIDERS=56]="AUDIOBOOK_PROVIDERS",e[e.PLAY_TRAIT=57]="PLAY_TRAIT",e[e.CONTENT_WARNING=58]="CONTENT_WARNING",e[e.IMAGE_CUE=59]="IMAGE_CUE",e[e.STREAM_COUNT=60]="STREAM_COUNT",e[e.AUDIO_ATTRIBUTES=61]="AUDIO_ATTRIBUTES",e[e.NAVIGABLE_TRAIT=62]="NAVIGABLE_TRAIT",e[e.NEXT_BEST_EPISODE=63]="NEXT_BEST_EPISODE",e[e.AUDIOBOOK_PRICE=64]="AUDIOBOOK_PRICE",e[e.EXPRESSIVE_PLAYLISTS=65]="EXPRESSIVE_PLAYLISTS",e[e.DYNAMIC_SHOW_EPISODE=66]="DYNAMIC_SHOW_EPISODE",e[e.LIVE=67]="LIVE",e[e.SKIP_PLAYED=68]="SKIP_PLAYED",e[e.AD_BREAK_FREE_PODCASTS=69]="AD_BREAK_FREE_PODCASTS",e[e.ASSOCIATIONS=70]="ASSOCIATIONS",e[e.PLAYLIST_EVALUATION=71]="PLAYLIST_EVALUATION",e[e.CACHE_INVALIDATIONS=72]="CACHE_INVALIDATIONS",e[e.LIVESTREAM_ENTITY=73]="LIVESTREAM_ENTITY",e[e.SINGLE_TAP_REACTIONS=74]="SINGLE_TAP_REACTIONS",e[e.USER_COMMENTS=75]="USER_COMMENTS",e[e.CLIENT_RESTRICTIONS=76]="CLIENT_RESTRICTIONS",e[e.PODCAST_GUEST=77]="PODCAST_GUEST",e[e.PLAYABILITY=78]="PLAYABILITY",e[e.COVER_IMAGE=79]="COVER_IMAGE",e[e.SHARE_TRAIT=80]="SHARE_TRAIT",e[e.INSTANCE_SHARING=81]="INSTANCE_SHARING",e[e.ARTIST_TOUR=82]="ARTIST_TOUR",e[e.AUDIOBOOK_GENRE=83]="AUDIOBOOK_GENRE",e[e.CONCEPT=84]="CONCEPT",e[e.ORIGINAL_VIDEO=85]="ORIGINAL_VIDEO",e[e.SMART_SHUFFLE=86]="SMART_SHUFFLE",e[e.LIVE_EVENTS=87]="LIVE_EVENTS",e[e.AUDIOBOOK_RELATIONS=88]="AUDIOBOOK_RELATIONS",e[e.HOME_POC_BASECARD=89]="HOME_POC_BASECARD",e[e.AUDIOBOOK_SUPPLEMENTS=90]="AUDIOBOOK_SUPPLEMENTS",e[e.PAID_PODCAST_BANNER=91]="PAID_PODCAST_BANNER",e[e.FEWER_ADS=92]="FEWER_ADS",e[e.WATCH_FEED_SHOW_EXPLORER=93]="WATCH_FEED_SHOW_EXPLORER",e[e.TRACK_EXTRA_DESCRIPTORS=94]="TRACK_EXTRA_DESCRIPTORS",e[e.TRACK_EXTRA_AUDIO_ATTRIBUTES=95]="TRACK_EXTRA_AUDIO_ATTRIBUTES",e[e.TRACK_EXTENDED_CREDITS=96]="TRACK_EXTENDED_CREDITS",e[e.SIMPLE_TRAIT=97]="SIMPLE_TRAIT",e[e.AUDIO_ASSOCIATIONS=98]="AUDIO_ASSOCIATIONS",e[e.VIDEO_ASSOCIATIONS=99]="VIDEO_ASSOCIATIONS",e[e.PLAYLIST_TUNER=100]="PLAYLIST_TUNER",e[e.ARTIST_VIDEOS_ENTRYPOINT=101]="ARTIST_VIDEOS_ENTRYPOINT",e[e.ALBUM_PRERELEASE=102]="ALBUM_PRERELEASE",e[e.CONTENT_ALTERNATIVES=103]="CONTENT_ALTERNATIVES",e[e.SNAPSHOT_SHARING=105]="SNAPSHOT_SHARING",e[e.DISPLAY_SEGMENTS_COUNT=106]="DISPLAY_SEGMENTS_COUNT",e[e.PODCAST_FEATURED_EPISODE=107]="PODCAST_FEATURED_EPISODE",e[e.PODCAST_SPONSORED_CONTENT=108]="PODCAST_SPONSORED_CONTENT",e[e.PODCAST_EPISODE_TOPICS_LLM=109]="PODCAST_EPISODE_TOPICS_LLM",e[e.PODCAST_EPISODE_TOPICS_KG=110]="PODCAST_EPISODE_TOPICS_KG",e[e.EPISODE_RANKING_POPULARITY=111]="EPISODE_RANKING_POPULARITY",e[e.MERCH=112]="MERCH",e[e.COMPANION_CONTENT=113]="COMPANION_CONTENT",e[e.WATCH_FEED_ENTITY_EXPLORER=114]="WATCH_FEED_ENTITY_EXPLORER",e[e.ANCHOR_CARD_TRAIT=115]="ANCHOR_CARD_TRAIT",e[e.AUDIO_PREVIEW_PLAYBACK_TRAIT=116]="AUDIO_PREVIEW_PLAYBACK_TRAIT",e[e.VIDEO_PREVIEW_STILL_TRAIT=117]="VIDEO_PREVIEW_STILL_TRAIT",e[e.PREVIEW_CARD_TRAIT=118]="PREVIEW_CARD_TRAIT",e[e.SHORTCUTS_CARD_TRAIT=119]="SHORTCUTS_CARD_TRAIT",e[e.VIDEO_PREVIEW_PLAYBACK_TRAIT=120]="VIDEO_PREVIEW_PLAYBACK_TRAIT",e[e.COURSE_SPECIFICS=121]="COURSE_SPECIFICS",e[e.CONCERT=122]="CONCERT",e[e.CONCERT_LOCATION=123]="CONCERT_LOCATION",e[e.CONCERT_MARKETING=124]="CONCERT_MARKETING",e[e.CONCERT_PERFORMERS=125]="CONCERT_PERFORMERS",e[e.TRACK_PAIR_TRANSITION=126]="TRACK_PAIR_TRANSITION",e[e.CONTENT_TYPE_TRAIT=127]="CONTENT_TYPE_TRAIT",e[e.NAME_TRAIT=128]="NAME_TRAIT",e[e.ARTWORK_TRAIT=129]="ARTWORK_TRAIT",e[e.RELEASE_DATE_TRAIT=130]="RELEASE_DATE_TRAIT",e[e.CREDITS_TRAIT=131]="CREDITS_TRAIT",e[e.RELEASE_URI_TRAIT=132]="RELEASE_URI_TRAIT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});var Ot=n(62924),Pt=n(78200),jt=n.n(Pt);const Lt={isPaywalled:!1,isUserSubscribed:!1,userExplanation:0},Rt={encode:(e,t=jt().Writer.create())=>(!0===e.isPaywalled&&t.uint32(8).bool(e.isPaywalled),!0===e.isUserSubscribed&&t.uint32(16).bool(e.isUserSubscribed),0!==e.userExplanation&&t.uint32(24).int32(e.userExplanation),t),decode(e,t){const n=e instanceof jt().Reader?e:new(jt().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={...Lt};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:i.isPaywalled=n.bool();break;case 2:i.isUserSubscribed=n.bool();break;case 3:i.userExplanation=n.int32();break;default:n.skipType(7&e)}}return i},fromPartial(e){const t={...Lt};return void 0!==e.isPaywalled&&null!==e.isPaywalled?t.isPaywalled=e.isPaywalled:t.isPaywalled=!1,void 0!==e.isUserSubscribed&&null!==e.isUserSubscribed?t.isUserSubscribed=e.isUserSubscribed:t.isUserSubscribed=!1,void 0!==e.userExplanation&&null!==e.userExplanation?t.userExplanation=e.userExplanation:t.userExplanation=0,t}};jt().util.Long!==Ot.c&&(jt().util.Long=Ot.c,jt().configure());var Dt=n(78040);const Mt={encode:(e,t=jt().Writer.create())=>("0"!==e.seconds&&t.uint32(8).int64(e.seconds),0!==e.nanos&&t.uint32(16).int32(e.nanos),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={seconds:"0",nanos:0};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;i.seconds=n.int64().toString();continue;case 2:if(16!==e)break;i.nanos=n.int32();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({seconds:Ut(e.seconds)?String(e.seconds):"0",nanos:Ut(e.nanos)?Number(e.nanos):0}),toJSON(e){const t={};return void 0!==e.seconds&&(t.seconds=e.seconds),void 0!==e.nanos&&(t.nanos=Math.round(e.nanos)),t},create:e=>Mt.fromPartial(e??{}),fromPartial(e){const t={seconds:"0",nanos:0};return t.seconds=e.seconds??"0",t.nanos=e.nanos??0,t}};function Ut(e){return null!=e}jt().util.Long!==Ot.c&&(jt().util.Long=Ot.c,jt().configure());const Ft={encode:(e,t=jt().Writer.create())=>(""!==e.uri&&t.uint32(10).string(e.uri),void 0!==e.credits&&Bt.encode(e.credits,t.uint32(18).fork()).ldelim(),""!==e.edition&&t.uint32(26).string(e.edition),"0"!==e.duration_ms&&t.uint32(32).int64(e.duration_ms),void 0!==e.publish_date&&Mt.encode(function(e){const t=Math.trunc(e.getTime()/1e3).toString(),n=e.getTime()%1e3*1e6;return{seconds:t,nanos:n}}(e.publish_date),t.uint32(42).fork()).ldelim(),""!==e.main_title&&t.uint32(50).string(e.main_title),""!==e.subtitle&&t.uint32(58).string(e.subtitle),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={uri:"",credits:void 0,edition:"",duration_ms:"0",publish_date:void 0,main_title:"",subtitle:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.uri=n.string();continue;case 2:if(18!==e)break;i.credits=Bt.decode(n,n.uint32());continue;case 3:if(26!==e)break;i.edition=n.string();continue;case 4:if(32!==e)break;i.duration_ms=n.int64().toString();continue;case 5:if(42!==e)break;i.publish_date=Wt(Mt.decode(n,n.uint32()));continue;case 6:if(50!==e)break;i.main_title=n.string();continue;case 7:if(58!==e)break;i.subtitle=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({uri:Yt(e.uri)?String(e.uri):"",credits:Yt(e.credits)?Bt.fromJSON(e.credits):void 0,edition:Yt(e.edition)?String(e.edition):"",duration_ms:Yt(e.duration_ms)?String(e.duration_ms):"0",publish_date:Yt(e.publish_date)?zt(e.publish_date):void 0,main_title:Yt(e.main_title)?String(e.main_title):"",subtitle:Yt(e.subtitle)?String(e.subtitle):""}),toJSON(e){const t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.credits&&(t.credits=e.credits?Bt.toJSON(e.credits):void 0),void 0!==e.edition&&(t.edition=e.edition),void 0!==e.duration_ms&&(t.duration_ms=e.duration_ms),void 0!==e.publish_date&&(t.publish_date=e.publish_date.toISOString()),void 0!==e.main_title&&(t.main_title=e.main_title),void 0!==e.subtitle&&(t.subtitle=e.subtitle),t},create:e=>Ft.fromPartial(e??{}),fromPartial(e){const t={uri:"",credits:void 0,edition:"",duration_ms:"0",publish_date:void 0,main_title:"",subtitle:""};return t.uri=e.uri??"",t.credits=void 0!==e.credits&&null!==e.credits?Bt.fromPartial(e.credits):void 0,t.edition=e.edition??"",t.duration_ms=e.duration_ms??"0",t.publish_date=e.publish_date??void 0,t.main_title=e.main_title??"",t.subtitle=e.subtitle??"",t}};const Bt={encode(e,t=jt().Writer.create()){for(const n of e.publishers)Gt.encode(n,t.uint32(18).fork()).ldelim();for(const n of e.authors)Vt.encode(n,t.uint32(26).fork()).ldelim();for(const n of e.narrators)Ht.encode(n,t.uint32(34).fork()).ldelim();return t},decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={publishers:[],authors:[],narrators:[]};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 2:if(18!==e)break;i.publishers.push(Gt.decode(n,n.uint32()));continue;case 3:if(26!==e)break;i.authors.push(Vt.decode(n,n.uint32()));continue;case 4:if(34!==e)break;i.narrators.push(Ht.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({publishers:Array.isArray(e?.publishers)?e.publishers.map((e=>Gt.fromJSON(e))):[],authors:Array.isArray(e?.authors)?e.authors.map((e=>Vt.fromJSON(e))):[],narrators:Array.isArray(e?.narrators)?e.narrators.map((e=>Ht.fromJSON(e))):[]}),toJSON(e){const t={};return e.publishers?t.publishers=e.publishers.map((e=>e?Gt.toJSON(e):void 0)):t.publishers=[],e.authors?t.authors=e.authors.map((e=>e?Vt.toJSON(e):void 0)):t.authors=[],e.narrators?t.narrators=e.narrators.map((e=>e?Ht.toJSON(e):void 0)):t.narrators=[],t},create:e=>Bt.fromPartial(e??{}),fromPartial(e){const t={publishers:[],authors:[],narrators:[]};return t.publishers=e.publishers?.map((e=>Gt.fromPartial(e)))||[],t.authors=e.authors?.map((e=>Vt.fromPartial(e)))||[],t.narrators=e.narrators?.map((e=>Ht.fromPartial(e)))||[],t}};const Gt={encode:(e,t=jt().Writer.create())=>(""!==e.name&&t.uint32(18).string(e.name),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={name:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 2:if(18!==e)break;i.name=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({name:Yt(e.name)?String(e.name):""}),toJSON(e){const t={};return void 0!==e.name&&(t.name=e.name),t},create:e=>Gt.fromPartial(e??{}),fromPartial(e){const t={name:""};return t.name=e.name??"",t}};const Vt={encode:(e,t=jt().Writer.create())=>(""!==e.name&&t.uint32(18).string(e.name),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={name:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 2:if(18!==e)break;i.name=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({name:Yt(e.name)?String(e.name):""}),toJSON(e){const t={};return void 0!==e.name&&(t.name=e.name),t},create:e=>Vt.fromPartial(e??{}),fromPartial(e){const t={name:""};return t.name=e.name??"",t}};const Ht={encode:(e,t=jt().Writer.create())=>(""!==e.name&&t.uint32(18).string(e.name),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={name:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 2:if(18!==e)break;i.name=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({name:Yt(e.name)?String(e.name):""}),toJSON(e){const t={};return void 0!==e.name&&(t.name=e.name),t},create:e=>Ht.fromPartial(e??{}),fromPartial(e){const t={name:""};return t.name=e.name??"",t}};function Wt(e){let t=1e3*(Number(e.seconds)||0);return t+=(e.nanos||0)/1e6,new Date(t)}function zt(e){return e instanceof Date?e:"string"==typeof e?new Date(e):Wt(Mt.fromJSON(e))}function Yt(e){return null!=e}jt().util.Long!==Ot.c&&(jt().util.Long=Ot.c,jt().configure());const Kt={encode:(e,t=jt().Writer.create())=>(""!==e.cardHeaderText&&t.uint32(10).string(e.cardHeaderText),""!==e.cardBodyText&&t.uint32(18).string(e.cardBodyText),""!==e.buttonText&&t.uint32(26).string(e.buttonText),""!==e.buttonTarget&&t.uint32(34).string(e.buttonTarget),t),decode(e,t){const n=e instanceof jt().Reader?e:new(jt().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={cardHeaderText:"",cardBodyText:"",buttonText:"",buttonTarget:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:i.cardHeaderText=n.string();break;case 2:i.cardBodyText=n.string();break;case 3:i.buttonText=n.string();break;case 4:i.buttonTarget=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({cardHeaderText:qt(e.cardHeaderText)?String(e.cardHeaderText):"",cardBodyText:qt(e.cardBodyText)?String(e.cardBodyText):"",buttonText:qt(e.buttonText)?String(e.buttonText):"",buttonTarget:qt(e.buttonTarget)?String(e.buttonTarget):""}),toJSON(e){const t={};return void 0!==e.cardHeaderText&&(t.cardHeaderText=e.cardHeaderText),void 0!==e.cardBodyText&&(t.cardBodyText=e.cardBodyText),void 0!==e.buttonText&&(t.buttonText=e.buttonText),void 0!==e.buttonTarget&&(t.buttonTarget=e.buttonTarget),t},fromPartial(e){const t={cardHeaderText:"",cardBodyText:"",buttonText:"",buttonTarget:""};return t.cardHeaderText=e.cardHeaderText??"",t.cardBodyText=e.cardBodyText??"",t.buttonText=e.buttonText??"",t.buttonTarget=e.buttonTarget??"",t}};function qt(e){return null!=e}jt().util.Long!==Ot.c&&(jt().util.Long=Ot.c,jt().configure());const Qt={},Xt={encode(e,t=jt().Writer.create()){for(const n of e.topics)Jt.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof jt().Reader?e:new(jt().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={...Qt};for(i.topics=[];n.pos<s;){const e=n.uint32();if(e>>>3==1)i.topics.push(Jt.decode(n,n.uint32()));else n.skipType(7&e)}return i},fromJSON(e){const t={...Qt};if(t.topics=[],void 0!==e.topics&&null!==e.topics)for(const n of e.topics)t.topics.push(Jt.fromJSON(n));return t},toJSON(e){const t={};return e.topics?t.topics=e.topics.map((e=>e?Jt.toJSON(e):void 0)):t.topics=[],t},fromPartial(e){const t={...Qt};if(t.topics=[],void 0!==e.topics&&null!==e.topics)for(const n of e.topics)t.topics.push(Jt.fromPartial(n));return t}},$t={uri:"",title:""},Jt={encode:(e,t=jt().Writer.create())=>(""!==e.uri&&t.uint32(10).string(e.uri),""!==e.title&&t.uint32(18).string(e.title),t),decode(e,t){const n=e instanceof jt().Reader?e:new(jt().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={...$t};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:i.uri=n.string();break;case 2:i.title=n.string();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t={...$t};return void 0!==e.uri&&null!==e.uri?t.uri=String(e.uri):t.uri="",void 0!==e.title&&null!==e.title?t.title=String(e.title):t.title="",t},toJSON(e){const t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.title&&(t.title=e.title),t},fromPartial(e){const t={...$t};return void 0!==e.uri&&null!==e.uri?t.uri=e.uri:t.uri="",void 0!==e.title&&null!==e.title?t.title=e.title:t.title="",t}},Zt={htmlDescription:""},en={encode:(e,t=jt().Writer.create())=>(void 0!==e.header&&nn.encode(e.header,t.uint32(10).fork()).ldelim(),""!==e.htmlDescription&&t.uint32(18).string(e.htmlDescription),t),decode(e,t){const n=e instanceof jt().Reader?e:new(jt().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={...Zt};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:i.header=nn.decode(n,n.uint32());break;case 2:i.htmlDescription=n.string();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t={...Zt};return void 0!==e.header&&null!==e.header?t.header=nn.fromJSON(e.header):t.header=void 0,void 0!==e.htmlDescription&&null!==e.htmlDescription?t.htmlDescription=String(e.htmlDescription):t.htmlDescription="",t},toJSON(e){const t={};return void 0!==e.header&&(t.header=e.header?nn.toJSON(e.header):void 0),void 0!==e.htmlDescription&&(t.htmlDescription=e.htmlDescription),t},fromPartial(e){const t={...Zt};return void 0!==e.header&&null!==e.header?t.header=nn.fromPartial(e.header):t.header=void 0,void 0!==e.htmlDescription&&null!==e.htmlDescription?t.htmlDescription=e.htmlDescription:t.htmlDescription="",t}},tn={},nn={encode:(e,t=jt().Writer.create())=>t,decode(e,t){const n=e instanceof jt().Reader?e:new(jt().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={...tn};for(;n.pos<s;){const e=n.uint32();n.skipType(7&e)}return i},fromJSON:e=>({...tn}),toJSON:e=>({}),fromPartial:e=>({...tn})};jt().util.Long!==Ot.c&&(jt().util.Long=Ot.c,jt().configure());let sn=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.TALK=1]="TALK",e[e.MUSIC=2]="MUSIC",e[e.UPSELL=3]="UPSELL",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});const rn={episodeUri:"",canUpsell:!1,albumMosaicUri:"",artists:"",durationMs:0},an={encode(e,t=jt().Writer.create()){""!==e.episodeUri&&t.uint32(10).string(e.episodeUri);for(const n of e.playbackSegments)ln.encode(n,t.uint32(18).fork()).ldelim();for(const n of e.embeddedSegments)dn.encode(n,t.uint32(26).fork()).ldelim();!0===e.canUpsell&&t.uint32(32).bool(e.canUpsell),""!==e.albumMosaicUri&&t.uint32(42).string(e.albumMosaicUri);for(const n of e.artists)t.uint32(50).string(n);return 0!==e.durationMs&&t.uint32(56).int32(e.durationMs),t},decode(e,t){const n=e instanceof jt().Reader?e:new(jt().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={...rn};for(i.playbackSegments=[],i.embeddedSegments=[],i.artists=[];n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:i.episodeUri=n.string();break;case 2:i.playbackSegments.push(ln.decode(n,n.uint32()));break;case 3:i.embeddedSegments.push(dn.decode(n,n.uint32()));break;case 4:i.canUpsell=n.bool();break;case 5:i.albumMosaicUri=n.string();break;case 6:i.artists.push(n.string());break;case 7:i.durationMs=n.int32();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t={...rn};return t.episodeUri=void 0!==e.episodeUri&&null!==e.episodeUri?String(e.episodeUri):"",t.playbackSegments=(e.playbackSegments??[]).map((e=>ln.fromJSON(e))),t.embeddedSegments=(e.embeddedSegments??[]).map((e=>dn.fromJSON(e))),t.canUpsell=void 0!==e.canUpsell&&null!==e.canUpsell&&Boolean(e.canUpsell),t.albumMosaicUri=void 0!==e.albumMosaicUri&&null!==e.albumMosaicUri?String(e.albumMosaicUri):"",t.artists=(e.artists??[]).map((e=>String(e))),t.durationMs=void 0!==e.durationMs&&null!==e.durationMs?Number(e.durationMs):0,t},toJSON(e){const t={};return void 0!==e.episodeUri&&(t.episodeUri=e.episodeUri),e.playbackSegments?t.playbackSegments=e.playbackSegments.map((e=>e?ln.toJSON(e):void 0)):t.playbackSegments=[],e.embeddedSegments?t.embeddedSegments=e.embeddedSegments.map((e=>e?dn.toJSON(e):void 0)):t.embeddedSegments=[],void 0!==e.canUpsell&&(t.canUpsell=e.canUpsell),void 0!==e.albumMosaicUri&&(t.albumMosaicUri=e.albumMosaicUri),e.artists?t.artists=e.artists.map((e=>e)):t.artists=[],void 0!==e.durationMs&&(t.durationMs=e.durationMs),t},fromPartial(e){const t={...rn};return t.episodeUri=e.episodeUri??"",t.playbackSegments=(e.playbackSegments??[]).map((e=>ln.fromPartial(e))),t.embeddedSegments=(e.embeddedSegments??[]).map((e=>dn.fromPartial(e))),t.canUpsell=e.canUpsell??!1,t.albumMosaicUri=e.albumMosaicUri??"",t.artists=(e.artists??[]).map((e=>e)),t.durationMs=e.durationMs??0,t}},on={uri:"",startMs:0,stopMs:0,durationMs:0,type:0,title:"",subtitle:"",imageUrl:"",actionUrl:"",isAbridged:!1},ln={encode:(e,t=jt().Writer.create())=>(""!==e.uri&&t.uint32(10).string(e.uri),0!==e.startMs&&t.uint32(16).int32(e.startMs),0!==e.stopMs&&t.uint32(24).int32(e.stopMs),0!==e.durationMs&&t.uint32(32).int32(e.durationMs),0!==e.type&&t.uint32(40).int32(e.type),""!==e.title&&t.uint32(50).string(e.title),""!==e.subtitle&&t.uint32(58).string(e.subtitle),""!==e.imageUrl&&t.uint32(66).string(e.imageUrl),""!==e.actionUrl&&t.uint32(74).string(e.actionUrl),!0===e.isAbridged&&t.uint32(80).bool(e.isAbridged),t),decode(e,t){const n=e instanceof jt().Reader?e:new(jt().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={...on};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:i.uri=n.string();break;case 2:i.startMs=n.int32();break;case 3:i.stopMs=n.int32();break;case 4:i.durationMs=n.int32();break;case 5:i.type=n.int32();break;case 6:i.title=n.string();break;case 7:i.subtitle=n.string();break;case 8:i.imageUrl=n.string();break;case 9:i.actionUrl=n.string();break;case 10:i.isAbridged=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t={...on};return t.uri=void 0!==e.uri&&null!==e.uri?String(e.uri):"",t.startMs=void 0!==e.startMs&&null!==e.startMs?Number(e.startMs):0,t.stopMs=void 0!==e.stopMs&&null!==e.stopMs?Number(e.stopMs):0,t.durationMs=void 0!==e.durationMs&&null!==e.durationMs?Number(e.durationMs):0,t.type=void 0!==e.type&&null!==e.type?function(e){switch(e){case 0:case"UNKNOWN":return sn.UNKNOWN;case 1:case"TALK":return sn.TALK;case 2:case"MUSIC":return sn.MUSIC;case 3:case"UPSELL":return sn.UPSELL;default:return sn.UNRECOGNIZED}}(e.type):0,t.title=void 0!==e.title&&null!==e.title?String(e.title):"",t.subtitle=void 0!==e.subtitle&&null!==e.subtitle?String(e.subtitle):"",t.imageUrl=void 0!==e.imageUrl&&null!==e.imageUrl?String(e.imageUrl):"",t.actionUrl=void 0!==e.actionUrl&&null!==e.actionUrl?String(e.actionUrl):"",t.isAbridged=void 0!==e.isAbridged&&null!==e.isAbridged&&Boolean(e.isAbridged),t},toJSON(e){const t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.startMs&&(t.startMs=e.startMs),void 0!==e.stopMs&&(t.stopMs=e.stopMs),void 0!==e.durationMs&&(t.durationMs=e.durationMs),void 0!==e.type&&(t.type=function(e){switch(e){case sn.UNKNOWN:return"UNKNOWN";case sn.TALK:return"TALK";case sn.MUSIC:return"MUSIC";case sn.UPSELL:return"UPSELL";default:return"UNKNOWN"}}(e.type)),void 0!==e.title&&(t.title=e.title),void 0!==e.subtitle&&(t.subtitle=e.subtitle),void 0!==e.imageUrl&&(t.imageUrl=e.imageUrl),void 0!==e.actionUrl&&(t.actionUrl=e.actionUrl),void 0!==e.isAbridged&&(t.isAbridged=e.isAbridged),t},fromPartial(e){const t={...on};return t.uri=e.uri??"",t.startMs=e.startMs??0,t.stopMs=e.stopMs??0,t.durationMs=e.durationMs??0,t.type=e.type??0,t.title=e.title??"",t.subtitle=e.subtitle??"",t.imageUrl=e.imageUrl??"",t.actionUrl=e.actionUrl??"",t.isAbridged=e.isAbridged??!1,t}},cn={uri:"",absoluteStartMs:0,absoluteStopMs:0},dn={encode:(e,t=jt().Writer.create())=>(""!==e.uri&&t.uint32(10).string(e.uri),0!==e.absoluteStartMs&&t.uint32(16).int32(e.absoluteStartMs),0!==e.absoluteStopMs&&t.uint32(24).int32(e.absoluteStopMs),t),decode(e,t){const n=e instanceof jt().Reader?e:new(jt().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={...cn};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:i.uri=n.string();break;case 2:i.absoluteStartMs=n.int32();break;case 3:i.absoluteStopMs=n.int32();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t={...cn};return t.uri=void 0!==e.uri&&null!==e.uri?String(e.uri):"",t.absoluteStartMs=void 0!==e.absoluteStartMs&&null!==e.absoluteStartMs?Number(e.absoluteStartMs):0,t.absoluteStopMs=void 0!==e.absoluteStopMs&&null!==e.absoluteStopMs?Number(e.absoluteStopMs):0,t},toJSON(e){const t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.absoluteStartMs&&(t.absoluteStartMs=e.absoluteStartMs),void 0!==e.absoluteStopMs&&(t.absoluteStopMs=e.absoluteStopMs),t},fromPartial(e){const t={...cn};return t.uri=e.uri??"",t.absoluteStartMs=e.absoluteStartMs??0,t.absoluteStopMs=e.absoluteStopMs??0,t}};jt().util.Long!==Ot.c&&(jt().util.Long=Ot.c,jt().configure());const un={encode(e,t=jt().Writer.create()){""!==e.episodeUri&&t.uint32(10).string(e.episodeUri);for(const n of e.transcripts)mn.encode(n,t.uint32(18).fork()).ldelim();return t},decode(e,t){const n=e instanceof jt().Reader?e:new(jt().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={episodeUri:"",transcripts:[]};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:i.episodeUri=n.string();break;case 2:i.transcripts.push(mn.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({episodeUri:pn(e.episodeUri)?String(e.episodeUri):"",transcripts:Array.isArray(e?.transcripts)?e.transcripts.map((e=>mn.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.episodeUri&&(t.episodeUri=e.episodeUri),e.transcripts?t.transcripts=e.transcripts.map((e=>e?mn.toJSON(e):void 0)):t.transcripts=[],t},fromPartial(e){const t={episodeUri:"",transcripts:[]};return t.episodeUri=e.episodeUri??"",t.transcripts=e.transcripts?.map((e=>mn.fromPartial(e)))||[],t}};const mn={encode:(e,t=jt().Writer.create())=>(""!==e.uri&&t.uint32(10).string(e.uri),""!==e.language&&t.uint32(18).string(e.language),!0===e.curated&&t.uint32(24).bool(e.curated),""!==e.cdnUrl&&t.uint32(34).string(e.cdnUrl),t),decode(e,t){const n=e instanceof jt().Reader?e:new(jt().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={uri:"",language:"",curated:!1,cdnUrl:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:i.uri=n.string();break;case 2:i.language=n.string();break;case 3:i.curated=n.bool();break;case 4:i.cdnUrl=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({uri:pn(e.uri)?String(e.uri):"",language:pn(e.language)?String(e.language):"",curated:!!pn(e.curated)&&Boolean(e.curated),cdnUrl:pn(e.cdnUrl)?String(e.cdnUrl):""}),toJSON(e){const t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.language&&(t.language=e.language),void 0!==e.curated&&(t.curated=e.curated),void 0!==e.cdnUrl&&(t.cdnUrl=e.cdnUrl),t},fromPartial(e){const t={uri:"",language:"",curated:!1,cdnUrl:""};return t.uri=e.uri??"",t.language=e.language??"",t.curated=e.curated??!1,t.cdnUrl=e.cdnUrl??"",t}};function pn(e){return null!=e}jt().util.Long!==Ot.c&&(jt().util.Long=Ot.c,jt().configure());const hn={encode:(e,t=Pt.Writer.create())=>(""!==e.userId&&t.uint32(10).string(e.userId),""!==e.showUri&&t.uint32(18).string(e.showUri),0!==e.rating&&t.uint32(24).int32(e.rating),void 0!==e.ratedAt&&Mt.encode(yn(e.ratedAt),t.uint32(34).fork()).ldelim(),t),decode(e,t){const n=e instanceof Pt.Reader?e:new Pt.Reader(e);let s=void 0===t?n.len:n.pos+t;const i={userId:"",showUri:"",rating:0,ratedAt:void 0};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:i.userId=n.string();break;case 2:i.showUri=n.string();break;case 3:i.rating=n.int32();break;case 4:i.ratedAt=_n(Mt.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({userId:vn(e.userId)?String(e.userId):"",showUri:vn(e.showUri)?String(e.showUri):"",rating:vn(e.rating)?Number(e.rating):0,ratedAt:vn(e.ratedAt)?bn(e.ratedAt):void 0}),toJSON(e){const t={};return void 0!==e.userId&&(t.userId=e.userId),void 0!==e.showUri&&(t.showUri=e.showUri),void 0!==e.rating&&(t.rating=Math.round(e.rating)),void 0!==e.ratedAt&&(t.ratedAt=e.ratedAt.toISOString()),t},fromPartial(e){const t={userId:"",showUri:"",rating:0,ratedAt:void 0};return t.userId=e.userId??"",t.showUri=e.showUri??"",t.rating=e.rating??0,t.ratedAt=e.ratedAt??void 0,t}};const gn={encode:(e,t=Pt.Writer.create())=>(0!==e.average&&t.uint32(9).double(e.average),"0"!==e.totalRatings&&t.uint32(16).int64(e.totalRatings),!0===e.showAverage&&t.uint32(24).bool(e.showAverage),t),decode(e,t){const n=e instanceof Pt.Reader?e:new Pt.Reader(e);let s=void 0===t?n.len:n.pos+t;const i={average:0,totalRatings:"0",showAverage:!1};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:i.average=n.double();break;case 2:i.totalRatings=n.int64().toString();break;case 3:i.showAverage=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({average:vn(e.average)?Number(e.average):0,totalRatings:vn(e.totalRatings)?String(e.totalRatings):"0",showAverage:!!vn(e.showAverage)&&Boolean(e.showAverage)}),toJSON(e){const t={};return void 0!==e.average&&(t.average=e.average),void 0!==e.totalRatings&&(t.totalRatings=e.totalRatings),void 0!==e.showAverage&&(t.showAverage=e.showAverage),t},fromPartial(e){const t={average:0,totalRatings:"0",showAverage:!1};return t.average=e.average??0,t.totalRatings=e.totalRatings??"0",t.showAverage=e.showAverage??!1,t}};const fn={encode:(e,t=Pt.Writer.create())=>(void 0!==e.averageRating&&gn.encode(e.averageRating,t.uint32(10).fork()).ldelim(),void 0!==e.rating&&hn.encode(e.rating,t.uint32(18).fork()).ldelim(),!0===e.canRate&&t.uint32(24).bool(e.canRate),t),decode(e,t){const n=e instanceof Pt.Reader?e:new Pt.Reader(e);let s=void 0===t?n.len:n.pos+t;const i={averageRating:void 0,rating:void 0,canRate:!1};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:i.averageRating=gn.decode(n,n.uint32());break;case 2:i.rating=hn.decode(n,n.uint32());break;case 3:i.canRate=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({averageRating:vn(e.averageRating)?gn.fromJSON(e.averageRating):void 0,rating:vn(e.rating)?hn.fromJSON(e.rating):void 0,canRate:!!vn(e.canRate)&&Boolean(e.canRate)}),toJSON(e){const t={};return void 0!==e.averageRating&&(t.averageRating=e.averageRating?gn.toJSON(e.averageRating):void 0),void 0!==e.rating&&(t.rating=e.rating?hn.toJSON(e.rating):void 0),void 0!==e.canRate&&(t.canRate=e.canRate),t},fromPartial(e){const t={averageRating:void 0,rating:void 0,canRate:!1};return t.averageRating=void 0!==e.averageRating&&null!==e.averageRating?gn.fromPartial(e.averageRating):void 0,t.rating=void 0!==e.rating&&null!==e.rating?hn.fromPartial(e.rating):void 0,t.canRate=e.canRate??!1,t}};function yn(e){return{seconds:Math.trunc(e.getTime()/1e3).toString(),nanos:e.getTime()%1e3*1e6}}function _n(e){let t=1e3*Number(e.seconds);return t+=e.nanos/1e6,new Date(t)}function bn(e){return e instanceof Date?e:"string"==typeof e?new Date(e):_n(Mt.fromJSON(e))}function vn(e){return null!=e}Pt.util.Long!==Ot.c&&(Pt.util.Long=Ot.c,Pt.configure());var xn=n(95992);const Cn={encode:(e,t=jt().Writer.create())=>(!0===e.enabled&&t.uint32(8).bool(e.enabled),""!==e.uri&&t.uint32(18).string(e.uri),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={enabled:!1,uri:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;i.enabled=n.bool();continue;case 2:if(18!==e)break;i.uri=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>Cn.fromPartial(e??{}),fromPartial(e){const t={enabled:!1,uri:""};return t.enabled=e.enabled??!1,t.uri=e.uri??"",t}};const En={encode:(e,t=jt().Writer.create())=>(""!==e.language&&t.uint32(10).string(e.language),""!==e.value&&t.uint32(18).string(e.value),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={language:"",value:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.language=n.string();continue;case 2:if(18!==e)break;i.value=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>En.fromPartial(e??{}),fromPartial(e){const t={language:"",value:""};return t.language=e.language??"",t.value=e.value??"",t}};function Sn(){return{gid:new Uint8Array,name:"",localizedName:[],description:"",deprecatedPopularity:0,publisher:"",language:"",explicit:!1,coverImage:void 0,episode:[],copyright:[],restriction:[],keyword:[],mediaType:0,consumptionOrder:1,interpretRestrictionUsingGeoip:!1,salePeriod:[],availability:[],countryOfOrigin:"",categories:[],passthrough:0,employeeOnly:!1,trailerUri:"",isAudiobook:!1,isCreatorChannel:!1}}const wn={encode(e,t=jt().Writer.create()){0!==e.gid.length&&t.uint32(10).bytes(e.gid),""!==e.name&&t.uint32(18).string(e.name);for(const n of e.localizedName)En.encode(n,t.uint32(234).fork()).ldelim();""!==e.description&&t.uint32(514).string(e.description),0!==e.deprecatedPopularity&&t.uint32(520).sint32(e.deprecatedPopularity),""!==e.publisher&&t.uint32(530).string(e.publisher),""!==e.language&&t.uint32(538).string(e.language),!0===e.explicit&&t.uint32(544).bool(e.explicit),void 0!==e.coverImage&&jn.encode(e.coverImage,t.uint32(554).fork()).ldelim();for(const n of e.episode)An.encode(n,t.uint32(562).fork()).ldelim();for(const n of e.copyright)Ln.encode(n,t.uint32(570).fork()).ldelim();for(const n of e.restriction)Rn.encode(n,t.uint32(578).fork()).ldelim();for(const n of e.keyword)t.uint32(586).string(n);0!==e.mediaType&&t.uint32(592).int32(e.mediaType),1!==e.consumptionOrder&&t.uint32(600).int32(e.consumptionOrder),!0===e.interpretRestrictionUsingGeoip&&t.uint32(608).bool(e.interpretRestrictionUsingGeoip);for(const n of e.salePeriod)Fn.encode(n,t.uint32(618).fork()).ldelim();for(const n of e.availability)Dn.encode(n,t.uint32(626).fork()).ldelim();""!==e.countryOfOrigin&&t.uint32(634).string(e.countryOfOrigin);for(const n of e.categories)Mn.encode(n,t.uint32(642).fork()).ldelim();return 0!==e.passthrough&&t.uint32(648).int32(e.passthrough),!0===e.employeeOnly&&t.uint32(656).bool(e.employeeOnly),""!==e.trailerUri&&t.uint32(666).string(e.trailerUri),!0===e.isAudiobook&&t.uint32(712).bool(e.isAudiobook),!0===e.isCreatorChannel&&t.uint32(720).bool(e.isCreatorChannel),t},decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i=Sn();for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.gid=n.bytes();continue;case 2:if(18!==e)break;i.name=n.string();continue;case 29:if(234!==e)break;i.localizedName.push(En.decode(n,n.uint32()));continue;case 64:if(514!==e)break;i.description=n.string();continue;case 65:if(520!==e)break;i.deprecatedPopularity=n.sint32();continue;case 66:if(530!==e)break;i.publisher=n.string();continue;case 67:if(538!==e)break;i.language=n.string();continue;case 68:if(544!==e)break;i.explicit=n.bool();continue;case 69:if(554!==e)break;i.coverImage=jn.decode(n,n.uint32());continue;case 70:if(562!==e)break;i.episode.push(An.decode(n,n.uint32()));continue;case 71:if(570!==e)break;i.copyright.push(Ln.decode(n,n.uint32()));continue;case 72:if(578!==e)break;i.restriction.push(Rn.decode(n,n.uint32()));continue;case 73:if(586!==e)break;i.keyword.push(n.string());continue;case 74:if(592!==e)break;i.mediaType=n.int32();continue;case 75:if(600!==e)break;i.consumptionOrder=n.int32();continue;case 76:if(608!==e)break;i.interpretRestrictionUsingGeoip=n.bool();continue;case 77:if(618!==e)break;i.salePeriod.push(Fn.decode(n,n.uint32()));continue;case 78:if(626!==e)break;i.availability.push(Dn.decode(n,n.uint32()));continue;case 79:if(634!==e)break;i.countryOfOrigin=n.string();continue;case 80:if(642!==e)break;i.categories.push(Mn.decode(n,n.uint32()));continue;case 81:if(648!==e)break;i.passthrough=n.int32();continue;case 82:if(656!==e)break;i.employeeOnly=n.bool();continue;case 83:if(666!==e)break;i.trailerUri=n.string();continue;case 89:if(712!==e)break;i.isAudiobook=n.bool();continue;case 90:if(720!==e)break;i.isCreatorChannel=n.bool();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>wn.fromPartial(e??{}),fromPartial(e){const t=Sn();return t.gid=e.gid??new Uint8Array,t.name=e.name??"",t.localizedName=e.localizedName?.map((e=>En.fromPartial(e)))||[],t.description=e.description??"",t.deprecatedPopularity=e.deprecatedPopularity??0,t.publisher=e.publisher??"",t.language=e.language??"",t.explicit=e.explicit??!1,t.coverImage=void 0!==e.coverImage&&null!==e.coverImage?jn.fromPartial(e.coverImage):void 0,t.episode=e.episode?.map((e=>An.fromPartial(e)))||[],t.copyright=e.copyright?.map((e=>Ln.fromPartial(e)))||[],t.restriction=e.restriction?.map((e=>Rn.fromPartial(e)))||[],t.keyword=e.keyword?.map((e=>e))||[],t.mediaType=e.mediaType??0,t.consumptionOrder=e.consumptionOrder??1,t.interpretRestrictionUsingGeoip=e.interpretRestrictionUsingGeoip??!1,t.salePeriod=e.salePeriod?.map((e=>Fn.fromPartial(e)))||[],t.availability=e.availability?.map((e=>Dn.fromPartial(e)))||[],t.countryOfOrigin=e.countryOfOrigin??"",t.categories=e.categories?.map((e=>Mn.fromPartial(e)))||[],t.passthrough=e.passthrough??0,t.employeeOnly=e.employeeOnly??!1,t.trailerUri=e.trailerUri??"",t.isAudiobook=e.isAudiobook??!1,t.isCreatorChannel=e.isCreatorChannel??!1,t}};function In(){return{gid:new Uint8Array,name:"",duration:0,audio:[],localizedName:[],description:"",number:0,publishTime:void 0,deprecatedPopularity:0,coverImage:void 0,language:"",explicit:!1,show:void 0,video:[],videoPreview:[],audioPreview:[],restriction:[],freezeFrame:void 0,keyword:[],interpretRestrictionUsingGeoip:!1,suppressMonetization:!1,salePeriod:[],allowBackgroundPlayback:!1,availability:[],externalUrl:"",originalAudio:void 0,employeeOnly:!1,rssGuid:"",type:0,seasonNumber:0,episodeNumber:0,isAudiobookChapter:!1}}const An={encode(e,t=jt().Writer.create()){0!==e.gid.length&&t.uint32(10).bytes(e.gid),""!==e.name&&t.uint32(18).string(e.name),0!==e.duration&&t.uint32(56).sint32(e.duration);for(const n of e.audio)Gn.encode(n,t.uint32(98).fork()).ldelim();for(const n of e.localizedName)En.encode(n,t.uint32(186).fork()).ldelim();""!==e.description&&t.uint32(514).string(e.description),0!==e.number&&t.uint32(520).sint32(e.number),void 0!==e.publishTime&&Nn.encode(e.publishTime,t.uint32(530).fork()).ldelim(),0!==e.deprecatedPopularity&&t.uint32(536).sint32(e.deprecatedPopularity),void 0!==e.coverImage&&jn.encode(e.coverImage,t.uint32(546).fork()).ldelim(),""!==e.language&&t.uint32(554).string(e.language),!0===e.explicit&&t.uint32(560).bool(e.explicit),void 0!==e.show&&wn.encode(e.show,t.uint32(570).fork()).ldelim();for(const n of e.video)Hn.encode(n,t.uint32(578).fork()).ldelim();for(const n of e.videoPreview)Hn.encode(n,t.uint32(586).fork()).ldelim();for(const n of e.audioPreview)Gn.encode(n,t.uint32(594).fork()).ldelim();for(const n of e.restriction)Rn.encode(n,t.uint32(602).fork()).ldelim();void 0!==e.freezeFrame&&jn.encode(e.freezeFrame,t.uint32(610).fork()).ldelim();for(const n of e.keyword)t.uint32(618).string(n);!0===e.interpretRestrictionUsingGeoip&&t.uint32(624).bool(e.interpretRestrictionUsingGeoip),!0===e.suppressMonetization&&t.uint32(632).bool(e.suppressMonetization);for(const n of e.salePeriod)Fn.encode(n,t.uint32(642).fork()).ldelim();!0===e.allowBackgroundPlayback&&t.uint32(648).bool(e.allowBackgroundPlayback);for(const n of e.availability)Dn.encode(n,t.uint32(658).fork()).ldelim();return""!==e.externalUrl&&t.uint32(666).string(e.externalUrl),void 0!==e.originalAudio&&kn.encode(e.originalAudio,t.uint32(674).fork()).ldelim(),!0===e.employeeOnly&&t.uint32(680).bool(e.employeeOnly),""!==e.rssGuid&&t.uint32(690).string(e.rssGuid),0!==e.type&&t.uint32(696).int32(e.type),0!==e.seasonNumber&&t.uint32(704).int32(e.seasonNumber),0!==e.episodeNumber&&t.uint32(712).int32(e.episodeNumber),!0===e.isAudiobookChapter&&t.uint32(768).bool(e.isAudiobookChapter),t},decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i=In();for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.gid=n.bytes();continue;case 2:if(18!==e)break;i.name=n.string();continue;case 7:if(56!==e)break;i.duration=n.sint32();continue;case 12:if(98!==e)break;i.audio.push(Gn.decode(n,n.uint32()));continue;case 23:if(186!==e)break;i.localizedName.push(En.decode(n,n.uint32()));continue;case 64:if(514!==e)break;i.description=n.string();continue;case 65:if(520!==e)break;i.number=n.sint32();continue;case 66:if(530!==e)break;i.publishTime=Nn.decode(n,n.uint32());continue;case 67:if(536!==e)break;i.deprecatedPopularity=n.sint32();continue;case 68:if(546!==e)break;i.coverImage=jn.decode(n,n.uint32());continue;case 69:if(554!==e)break;i.language=n.string();continue;case 70:if(560!==e)break;i.explicit=n.bool();continue;case 71:if(570!==e)break;i.show=wn.decode(n,n.uint32());continue;case 72:if(578!==e)break;i.video.push(Hn.decode(n,n.uint32()));continue;case 73:if(586!==e)break;i.videoPreview.push(Hn.decode(n,n.uint32()));continue;case 74:if(594!==e)break;i.audioPreview.push(Gn.decode(n,n.uint32()));continue;case 75:if(602!==e)break;i.restriction.push(Rn.decode(n,n.uint32()));continue;case 76:if(610!==e)break;i.freezeFrame=jn.decode(n,n.uint32());continue;case 77:if(618!==e)break;i.keyword.push(n.string());continue;case 78:if(624!==e)break;i.interpretRestrictionUsingGeoip=n.bool();continue;case 79:if(632!==e)break;i.suppressMonetization=n.bool();continue;case 80:if(642!==e)break;i.salePeriod.push(Fn.decode(n,n.uint32()));continue;case 81:if(648!==e)break;i.allowBackgroundPlayback=n.bool();continue;case 82:if(658!==e)break;i.availability.push(Dn.decode(n,n.uint32()));continue;case 83:if(666!==e)break;i.externalUrl=n.string();continue;case 84:if(674!==e)break;i.originalAudio=kn.decode(n,n.uint32());continue;case 85:if(680!==e)break;i.employeeOnly=n.bool();continue;case 86:if(690!==e)break;i.rssGuid=n.string();continue;case 87:if(696!==e)break;i.type=n.int32();continue;case 88:if(704!==e)break;i.seasonNumber=n.int32();continue;case 89:if(712!==e)break;i.episodeNumber=n.int32();continue;case 96:if(768!==e)break;i.isAudiobookChapter=n.bool();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>An.fromPartial(e??{}),fromPartial(e){const t=In();return t.gid=e.gid??new Uint8Array,t.name=e.name??"",t.duration=e.duration??0,t.audio=e.audio?.map((e=>Gn.fromPartial(e)))||[],t.localizedName=e.localizedName?.map((e=>En.fromPartial(e)))||[],t.description=e.description??"",t.number=e.number??0,t.publishTime=void 0!==e.publishTime&&null!==e.publishTime?Nn.fromPartial(e.publishTime):void 0,t.deprecatedPopularity=e.deprecatedPopularity??0,t.coverImage=void 0!==e.coverImage&&null!==e.coverImage?jn.fromPartial(e.coverImage):void 0,t.language=e.language??"",t.explicit=e.explicit??!1,t.show=void 0!==e.show&&null!==e.show?wn.fromPartial(e.show):void 0,t.video=e.video?.map((e=>Hn.fromPartial(e)))||[],t.videoPreview=e.videoPreview?.map((e=>Hn.fromPartial(e)))||[],t.audioPreview=e.audioPreview?.map((e=>Gn.fromPartial(e)))||[],t.restriction=e.restriction?.map((e=>Rn.fromPartial(e)))||[],t.freezeFrame=void 0!==e.freezeFrame&&null!==e.freezeFrame?jn.fromPartial(e.freezeFrame):void 0,t.keyword=e.keyword?.map((e=>e))||[],t.interpretRestrictionUsingGeoip=e.interpretRestrictionUsingGeoip??!1,t.suppressMonetization=e.suppressMonetization??!1,t.salePeriod=e.salePeriod?.map((e=>Fn.fromPartial(e)))||[],t.allowBackgroundPlayback=e.allowBackgroundPlayback??!1,t.availability=e.availability?.map((e=>Dn.fromPartial(e)))||[],t.externalUrl=e.externalUrl??"",t.originalAudio=void 0!==e.originalAudio&&null!==e.originalAudio?kn.fromPartial(e.originalAudio):void 0,t.employeeOnly=e.employeeOnly??!1,t.rssGuid=e.rssGuid??"",t.type=e.type??0,t.seasonNumber=e.seasonNumber??0,t.episodeNumber=e.episodeNumber??0,t.isAudiobookChapter=e.isAudiobookChapter??!1,t}};function Tn(){return{uuid:new Uint8Array}}const kn={encode:(e,t=jt().Writer.create())=>(0!==e.uuid.length&&t.uint32(10).bytes(e.uuid),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i=Tn();for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.uuid=n.bytes();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>kn.fromPartial(e??{}),fromPartial(e){const t=Tn();return t.uuid=e.uuid??new Uint8Array,t}};const Nn={encode:(e,t=jt().Writer.create())=>(0!==e.year&&t.uint32(8).sint32(e.year),0!==e.month&&t.uint32(16).sint32(e.month),0!==e.day&&t.uint32(24).sint32(e.day),0!==e.hour&&t.uint32(32).sint32(e.hour),0!==e.minute&&t.uint32(40).sint32(e.minute),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={year:0,month:0,day:0,hour:0,minute:0};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;i.year=n.sint32();continue;case 2:if(16!==e)break;i.month=n.sint32();continue;case 3:if(24!==e)break;i.day=n.sint32();continue;case 4:if(32!==e)break;i.hour=n.sint32();continue;case 5:if(40!==e)break;i.minute=n.sint32();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>Nn.fromPartial(e??{}),fromPartial(e){const t={year:0,month:0,day:0,hour:0,minute:0};return t.year=e.year??0,t.month=e.month??0,t.day=e.day??0,t.hour=e.hour??0,t.minute=e.minute??0,t}};function On(){return{fileId:new Uint8Array,size:0,width:0,height:0}}const Pn={encode:(e,t=jt().Writer.create())=>(0!==e.fileId.length&&t.uint32(10).bytes(e.fileId),0!==e.size&&t.uint32(16).int32(e.size),0!==e.width&&t.uint32(24).sint32(e.width),0!==e.height&&t.uint32(32).sint32(e.height),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i=On();for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.fileId=n.bytes();continue;case 2:if(16!==e)break;i.size=n.int32();continue;case 3:if(24!==e)break;i.width=n.sint32();continue;case 4:if(32!==e)break;i.height=n.sint32();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>Pn.fromPartial(e??{}),fromPartial(e){const t=On();return t.fileId=e.fileId??new Uint8Array,t.size=e.size??0,t.width=e.width??0,t.height=e.height??0,t}};const jn={encode(e,t=jt().Writer.create()){for(const n of e.image)Pn.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={image:[]};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.image.push(Pn.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>jn.fromPartial(e??{}),fromPartial(e){const t={image:[]};return t.image=e.image?.map((e=>Pn.fromPartial(e)))||[],t}};const Ln={encode:(e,t=jt().Writer.create())=>(0!==e.type&&t.uint32(8).int32(e.type),""!==e.text&&t.uint32(18).string(e.text),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={type:0,text:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;i.type=n.int32();continue;case 2:if(18!==e)break;i.text=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>Ln.fromPartial(e??{}),fromPartial(e){const t={type:0,text:""};return t.type=e.type??0,t.text=e.text??"",t}};const Rn={encode(e,t=jt().Writer.create()){t.uint32(10).fork();for(const n of e.catalogue)t.int32(n);t.ldelim(),void 0!==e.countriesAllowed&&t.uint32(18).string(e.countriesAllowed),void 0!==e.countriesForbidden&&t.uint32(26).string(e.countriesForbidden),0!==e.type&&t.uint32(32).int32(e.type);for(const n of e.catalogueStr)t.uint32(42).string(n);return t},decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={catalogue:[],countriesAllowed:void 0,countriesForbidden:void 0,type:0,catalogueStr:[]};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(8===e){i.catalogue.push(n.int32());continue}if(10===e){const e=n.uint32()+n.pos;for(;n.pos<e;)i.catalogue.push(n.int32());continue}break;case 2:if(18!==e)break;i.countriesAllowed=n.string();continue;case 3:if(26!==e)break;i.countriesForbidden=n.string();continue;case 4:if(32!==e)break;i.type=n.int32();continue;case 5:if(42!==e)break;i.catalogueStr.push(n.string());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>Rn.fromPartial(e??{}),fromPartial(e){const t={catalogue:[],countriesAllowed:void 0,countriesForbidden:void 0,type:0,catalogueStr:[]};return t.catalogue=e.catalogue?.map((e=>e))||[],t.countriesAllowed=e.countriesAllowed??void 0,t.countriesForbidden=e.countriesForbidden??void 0,t.type=e.type??0,t.catalogueStr=e.catalogueStr?.map((e=>e))||[],t}};const Dn={encode(e,t=jt().Writer.create()){for(const n of e.catalogueStr)t.uint32(10).string(n);return void 0!==e.start&&Nn.encode(e.start,t.uint32(18).fork()).ldelim(),t},decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={catalogueStr:[],start:void 0};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.catalogueStr.push(n.string());continue;case 2:if(18!==e)break;i.start=Nn.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>Dn.fromPartial(e??{}),fromPartial(e){const t={catalogueStr:[],start:void 0};return t.catalogueStr=e.catalogueStr?.map((e=>e))||[],t.start=void 0!==e.start&&null!==e.start?Nn.fromPartial(e.start):void 0,t}};const Mn={encode(e,t=jt().Writer.create()){""!==e.name&&t.uint32(10).string(e.name);for(const n of e.subcategories)Un.encode(n,t.uint32(18).fork()).ldelim();return t},decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={name:"",subcategories:[]};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.name=n.string();continue;case 2:if(18!==e)break;i.subcategories.push(Un.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>Mn.fromPartial(e??{}),fromPartial(e){const t={name:"",subcategories:[]};return t.name=e.name??"",t.subcategories=e.subcategories?.map((e=>Un.fromPartial(e)))||[],t}};const Un={encode:(e,t=jt().Writer.create())=>(""!==e.name&&t.uint32(10).string(e.name),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={name:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.name=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>Un.fromPartial(e??{}),fromPartial(e){const t={name:""};return t.name=e.name??"",t}};const Fn={encode(e,t=jt().Writer.create()){for(const n of e.restriction)Rn.encode(n,t.uint32(10).fork()).ldelim();return void 0!==e.start&&Nn.encode(e.start,t.uint32(18).fork()).ldelim(),void 0!==e.end&&Nn.encode(e.end,t.uint32(26).fork()).ldelim(),t},decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={restriction:[],start:void 0,end:void 0};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.restriction.push(Rn.decode(n,n.uint32()));continue;case 2:if(18!==e)break;i.start=Nn.decode(n,n.uint32());continue;case 3:if(26!==e)break;i.end=Nn.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>Fn.fromPartial(e??{}),fromPartial(e){const t={restriction:[],start:void 0,end:void 0};return t.restriction=e.restriction?.map((e=>Rn.fromPartial(e)))||[],t.start=void 0!==e.start&&null!==e.start?Nn.fromPartial(e.start):void 0,t.end=void 0!==e.end&&null!==e.end?Nn.fromPartial(e.end):void 0,t}};function Bn(){return{fileId:new Uint8Array,format:0}}const Gn={encode:(e,t=jt().Writer.create())=>(0!==e.fileId.length&&t.uint32(10).bytes(e.fileId),0!==e.format&&t.uint32(16).int32(e.format),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i=Bn();for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.fileId=n.bytes();continue;case 2:if(16!==e)break;i.format=n.int32();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>Gn.fromPartial(e??{}),fromPartial(e){const t=Bn();return t.fileId=e.fileId??new Uint8Array,t.format=e.format??0,t}};function Vn(){return{fileId:new Uint8Array}}const Hn={encode:(e,t=jt().Writer.create())=>(0!==e.fileId.length&&t.uint32(10).bytes(e.fileId),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i=Vn();for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.fileId=n.bytes();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>Hn.fromPartial(e??{}),fromPartial(e){const t=Vn();return t.fileId=e.fileId??new Uint8Array,t}};jt().util.Long!==Ot.c&&(jt().util.Long=Ot.c,jt().configure());let Wn=function(e){return e[e.PLAYABILITY_VERDICT_UNSPECIFIED=0]="PLAYABILITY_VERDICT_UNSPECIFIED",e[e.PLAYABILITY_VERDICT_PLAYABLE=1]="PLAYABILITY_VERDICT_PLAYABLE",e[e.PLAYABILITY_VERDICT_COUNTRY_RESTRICTED=2]="PLAYABILITY_VERDICT_COUNTRY_RESTRICTED",e[e.PLAYABILITY_VERDICT_CATALOGUE_RESTRICTED=3]="PLAYABILITY_VERDICT_CATALOGUE_RESTRICTED",e[e.PLAYABILITY_VERDICT_UNAVAILABLE=4]="PLAYABILITY_VERDICT_UNAVAILABLE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});const zn={encode:(e,t=jt().Writer.create())=>(!0===e.isPlayable&&t.uint32(8).bool(e.isPlayable),0!==e.reason&&t.uint32(16).int32(e.reason),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={isPlayable:!1,reason:0};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;i.isPlayable=n.bool();continue;case 2:if(16!==e)break;i.reason=n.int32();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>zn.fromPartial(e??{}),fromPartial(e){const t={isPlayable:!1,reason:0};return t.isPlayable=e.isPlayable??!1,t.reason=e.reason??0,t}};const Yn={encode(e,t=jt().Writer.create()){for(const n of e.coverImages)qn.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={coverImages:[]};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.coverImages.push(qn.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>Yn.fromPartial(e??{}),fromPartial(e){const t={coverImages:[]};return t.coverImages=e.coverImages?.map((e=>qn.fromPartial(e)))||[],t}};function Kn(){return{fileId:new Uint8Array,size:0,width:0,height:0}}const qn={encode:(e,t=jt().Writer.create())=>(0!==e.fileId.length&&t.uint32(10).bytes(e.fileId),0!==e.size&&t.uint32(16).int32(e.size),0!==e.width&&t.uint32(24).int32(e.width),0!==e.height&&t.uint32(32).int32(e.height),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i=Kn();for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.fileId=n.bytes();continue;case 2:if(16!==e)break;i.size=n.int32();continue;case 3:if(24!==e)break;i.width=n.int32();continue;case 4:if(32!==e)break;i.height=n.int32();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>qn.fromPartial(e??{}),fromPartial(e){const t=Kn();return t.fileId=e.fileId??new Uint8Array,t.size=e.size??0,t.width=e.width??0,t.height=e.height??0,t}};n(99400);const Qn={encode:(e,t=jt().Writer.create())=>(""!==e.id&&t.uint32(10).string(e.id),""!==e.contextualName&&t.uint32(18).string(e.contextualName),0!==e.depth&&t.uint32(24).int32(e.depth),""!==e.parentId&&t.uint32(34).string(e.parentId),""!==e.destinationUri&&t.uint32(42).string(e.destinationUri),""!==e.shortName&&t.uint32(50).string(e.shortName),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={id:"",contextualName:"",depth:0,parentId:"",destinationUri:"",shortName:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.id=n.string();continue;case 2:if(18!==e)break;i.contextualName=n.string();continue;case 3:if(24!==e)break;i.depth=n.int32();continue;case 4:if(34!==e)break;i.parentId=n.string();continue;case 5:if(42!==e)break;i.destinationUri=n.string();continue;case 6:if(50!==e)break;i.shortName=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>Qn.fromPartial(e??{}),fromPartial(e){const t={id:"",contextualName:"",depth:0,parentId:"",destinationUri:"",shortName:""};return t.id=e.id??"",t.contextualName=e.contextualName??"",t.depth=e.depth??0,t.parentId=e.parentId??"",t.destinationUri=e.destinationUri??"",t.shortName=e.shortName??"",t}};const Xn={encode(e,t=jt().Writer.create()){for(const n of e.genres)Qn.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={genres:[]};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.genres.push(Qn.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>Xn.fromPartial(e??{}),fromPartial(e){const t={genres:[]};return t.genres=e.genres?.map((e=>Qn.fromPartial(e)))||[],t}};const $n={encode:(e,t=jt().Writer.create())=>(""!==e.sameBookUri&&t.uint32(10).string(e.sameBookUri),0!==e.action&&t.uint32(16).int32(e.action),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={sameBookUri:"",action:0};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.sameBookUri=n.string();continue;case 2:if(16!==e)break;i.action=n.int32();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},create:e=>$n.fromPartial(e??{}),fromPartial(e){const t={sameBookUri:"",action:0};return t.sameBookUri=e.sameBookUri??"",t.action=e.action??0,t}};n(37144);let Jn=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.SMALL=1]="SMALL",e[e.LARGE=2]="LARGE",e[e.XLARGE=3]="XLARGE",e[e.XXLARGE=4]="XXLARGE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function Zn(e){switch(e){case 0:case"DEFAULT":return Jn.DEFAULT;case 1:case"SMALL":return Jn.SMALL;case 2:case"LARGE":return Jn.LARGE;case 3:case"XLARGE":return Jn.XLARGE;case 4:case"XXLARGE":return Jn.XXLARGE;default:return Jn.UNRECOGNIZED}}const es={encode(e,t=jt().Writer.create()){for(const n of e.videoAssociation)ts.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={videoAssociation:[]};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.videoAssociation.push(ts.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({videoAssociation:globalThis.Array.isArray(e?.videoAssociation)?e.videoAssociation.map((e=>ts.fromJSON(e))):[]}),toJSON(e){const t={};return e.videoAssociation?.length&&(t.videoAssociation=e.videoAssociation.map((e=>ts.toJSON(e)))),t},create:e=>es.fromPartial(e??{}),fromPartial(e){const t={videoAssociation:[]};return t.videoAssociation=e.videoAssociation?.map((e=>ts.fromPartial(e)))||[],t}};const ts={encode:(e,t=jt().Writer.create())=>(""!==e.trackUri&&t.uint32(10).string(e.trackUri),void 0!==e.images&&ns.encode(e.images,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={trackUri:"",images:void 0};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.trackUri=n.string();continue;case 2:if(18!==e)break;i.images=ns.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({trackUri:rs(e.trackUri)?globalThis.String(e.trackUri):"",images:rs(e.images)?ns.fromJSON(e.images):void 0}),toJSON(e){const t={};return""!==e.trackUri&&(t.trackUri=e.trackUri),void 0!==e.images&&(t.images=ns.toJSON(e.images)),t},create:e=>ts.fromPartial(e??{}),fromPartial(e){const t={trackUri:"",images:void 0};return t.trackUri=e.trackUri??"",t.images=void 0!==e.images&&null!==e.images?ns.fromPartial(e.images):void 0,t}};const ns={encode(e,t=jt().Writer.create()){for(const n of e.image)ss.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={image:[]};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.image.push(ss.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({image:globalThis.Array.isArray(e?.image)?e.image.map((e=>ss.fromJSON(e))):[]}),toJSON(e){const t={};return e.image?.length&&(t.image=e.image.map((e=>ss.toJSON(e)))),t},create:e=>ns.fromPartial(e??{}),fromPartial(e){const t={image:[]};return t.image=e.image?.map((e=>ss.fromPartial(e)))||[],t}};const ss={encode:(e,t=jt().Writer.create())=>(void 0!==e.fileId&&t.uint32(10).bytes(e.fileId),void 0!==e.size&&t.uint32(16).int32(e.size),void 0!==e.width&&t.uint32(24).sint32(e.width),void 0!==e.height&&t.uint32(32).sint32(e.height),t),decode(e,t){const n=e instanceof jt().Reader?e:jt().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const i={fileId:void 0,size:void 0,width:void 0,height:void 0};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;i.fileId=n.bytes();continue;case 2:if(16!==e)break;i.size=n.int32();continue;case 3:if(24!==e)break;i.width=n.sint32();continue;case 4:if(32!==e)break;i.height=n.sint32();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return i},fromJSON:e=>({fileId:rs(e.fileId)?is(e.fileId):void 0,size:rs(e.size)?Zn(e.size):void 0,width:rs(e.width)?globalThis.Number(e.width):void 0,height:rs(e.height)?globalThis.Number(e.height):void 0}),toJSON(e){const t={};return void 0!==e.fileId&&(t.fileId=function(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(globalThis.String.fromCharCode(e))})),globalThis.btoa(t.join(""))}}(e.fileId)),void 0!==e.size&&(t.size=function(e){switch(e){case Jn.DEFAULT:return"DEFAULT";case Jn.SMALL:return"SMALL";case Jn.LARGE:return"LARGE";case Jn.XLARGE:return"XLARGE";case Jn.XXLARGE:return"XXLARGE";case Jn.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.size)),void 0!==e.width&&(t.width=Math.round(e.width)),void 0!==e.height&&(t.height=Math.round(e.height)),t},create:e=>ss.fromPartial(e??{}),fromPartial(e){const t={fileId:void 0,size:void 0,width:void 0,height:void 0};return t.fileId=e.fileId??void 0,t.size=e.size??void 0,t.width=e.width??void 0,t.height=e.height??void 0,t}};function is(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));{const t=globalThis.atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}}function rs(e){return null!=e}function as(e){const t={};return e.forEach((e=>{switch(e.extensionKind){case Nt.PODCAST_SUBSCRIPTIONS:t.podcastSubscription=Rt.decode(e.data);break;case Nt.SHOW_ACCESS:t.showAccess=Dt.Kg.decode(e.data);break;case Nt.SHOW_V4:t.showV4=wn.decode(e.data);break;case Nt.PLAYABILITY:t.playability=zn.decode(e.data);break;case Nt.COVER_IMAGE:t.coverImage=Yn.decode(e.data);break;case Nt.AUDIOBOOK_GENRE:t.audiobookGenres=Xn.decode(e.data);break;case Nt.AUDIOBOOK_SPECIFICS:t.audiobookSpecifics=Ft.decode(e.data);break;case Nt.PODCAST_TOPICS:t.podcastTopics=Xt.decode(e.data);break;case Nt.PODCAST_SEGMENTS:t.podcastSegments=an.decode(e.data);break;case Nt.HTML_DESCRIPTION:t.htmlDescription=en.decode(e.data);break;case Nt.PODCAST_RATING:t.rating=fn.decode(e.data);break;case Nt.CONTENT_WARNING:t.contentInformation=Kt.decode(e.data);break;case Nt.EPISODE_TRANSCRIPTS:t.transcripts=un.decode(e.data);break;case Nt.AUDIOBOOK_PRICE:t.audiobookPrice=xn.ey.decode(e.data);break;case Nt.SMART_SHUFFLE:t.smartShuffle=Cn.decode(e.data);break;case Nt.AUDIOBOOK_RELATIONS:t.audiobookRelation=$n.decode(e.data);break;case Nt.VIDEO_ASSOCIATIONS:t.videoAssociations=es.decode(e.data)}})),t}var os=n(66532),ls=n(74012),cs=n(72467),ds=n(74788);function us(e){return void 0===e?[]:function(...e){return e.filter((({url:e,label:t})=>e&&t)).map((({url:e,label:t})=>({url:e,label:t})))}({url:e.standardLink,label:"standard"},{url:e.smallLink,label:"small"},{url:e.largeLink,label:"large"},{url:e.xlargeLink,label:"xlarge"})}function ms(e){return void 0!==e&&e>0?function(e){return new Date(1e3*e)}(e).toISOString():null}function ps(e){return ms(e?Number(e):void 0)}function hs(e){return{milliseconds:1e3*e}}function gs(e,t){return e?t===e?null:ps(e):null}function fs(e){return e?[{url:e,width:300,height:300}]:[]}function ys(e){const t=e.entityInfo?.pinnable;switch(t){case mt.AT.YES:return kt.yu.YES;case mt.AT.NO_IN_FOLDER:return kt.yu.NO_IN_FOLDER;case mt.AT.UNRECOGNIZED:default:return kt.yu.NO}}function _s(e){return{type:te.s.ARTIST,uri:e.link,name:e.name}}function bs(e){return{type:te.s.ALBUM,name:e.entityInfo?.name??"",artists:e.album?.artistName?[{type:te.s.ARTIST,name:e.album?.artistName,uri:e.album?.artistUri??""}]:[],images:fs(e.entityInfo?.imageUri),uri:e.entityInfo?.uri??"",pinned:e.entityInfo?.pinned??!1,addedAt:ps(e.entityInfo?.addTime),lastPlayedAt:gs(e.entityInfo?.lastPlayed,e.entityInfo?.addTime),canPin:ys(e)}}function vs(e){return{type:te.s.ARTIST,uri:e.entityInfo?.uri??"",name:e.entityInfo?.name??"",images:fs(e.entityInfo?.imageUri),pinned:e.entityInfo?.pinned??!1,addedAt:ps(e.entityInfo?.addTime),lastPlayedAt:gs(e.entityInfo?.lastPlayed,e.entityInfo?.addTime),canPin:ys(e)}}function xs(e){return{type:te.s.SHOW,uri:e.entityInfo?.uri??"",name:e.entityInfo?.name??"",publisher:e.show?.creatorName??"",images:fs(e.entityInfo?.imageUri)}}function Cs(e,t){let n={};e.extension&&(n=as(e.extension));const s=e.show;return{type:te.s.EPISODE,uri:e.link,name:e.name,description:e.description,duration:hs(e.length),timeLeft:hs(t.isPlayed?0:t.timeLeft),images:us(e.covers),isExplicit:e.isExplicit,languages:[e.language],release:{date:new Date(1e3*Number(e.publishDate)).toISOString(),precision:"day"},podcastSubscription:{isPaywalled:n.podcastSubscription?.isPaywalled??!1,isUserSubscribed:n.podcastSubscription?.isUserSubscribed??!1},show:{type:te.s.SHOW,uri:s.link,name:s.name,publisher:s.publisher,images:us(s.covers),mediaType:Tt.v.UNKNOWN},isPlayable:t.isPlayable,is19PlusOnly:e.is19PlusOnly}}function Es(e){if(void 0===e.episodeMetadata||void 0===e.episodePlayedState)throw new Error("Invalid listen-later cosmos response!");return{...Cs(e.episodeMetadata,e.episodePlayedState)}}function Ss(e){return{type:te.s.ARTIST,uri:e.link,name:e.name}}function ws(e){return{type:te.s.ARTIST,uri:e.link,name:e.name}}function Is(e){return{type:te.s.ALBUM,uri:e.link,name:e.name,artist:e.artist&&Ss(e.artist),images:us(e.covers)}}function As(e,t){return{type:te.s.TRACK,uri:e.link,name:e.name,duration:hs(e.length),album:Is(e.album),artists:e.artist.map(ws),discNumber:e.discNumber,trackNumber:e.trackNumber,isExplicit:e.isExplicit,isPlayable:t.isPlayable,isLocal:e.isLocal,is19PlusOnly:e.is19PlusOnly}}function Ts(e){if(void 0===e.trackMetadata||void 0===e.trackPlayState)throw new Error("Invalid collection cosmos shows response!");return{...As(e.trackMetadata,e.trackPlayState),addedAt:ms(e.addTime)}}function ks(e){if(void 0===e.track||void 0===e.track?.trackMetadata||void 0===e.track?.trackPlayState)throw new Error("Invalid collection esperanto tracks response!");return function(e){if(void 0===e||void 0===e.trackMetadata)throw new Error("Invalid track data");const t=as(e.trackMetadata.extension);return{type:te.s.TRACK,uri:e.trackMetadata.link,name:e.trackMetadata.name,duration:hs(e.trackMetadata.length),album:Is(e.trackMetadata.album),artists:e.trackMetadata.artist.map(ws),discNumber:e.trackMetadata.discNumber,trackNumber:e.trackMetadata.trackNumber,isExplicit:e.trackMetadata.isExplicit,isPlayable:e.trackMetadata.playable,isLocal:e.trackMetadata.isLocal,is19PlusOnly:e.trackMetadata.is19PlusOnly,addedAt:ms(e.addTime),hasAssociatedVideo:(t.videoAssociations?.videoAssociation?.length||0)>0}}(e.track)}function Ns(e){return{type:te.s.AUDIOBOOK,uri:e.entityInfo?.uri??"",name:e.entityInfo?.name??"",authorName:e.book?.authorName??"",images:fs(e.entityInfo?.imageUri),isLocked:e.book?.access===mt.xq.LOCKED,pinned:e.entityInfo?.pinned??!1,addedAt:ps(e.entityInfo?.addTime),lastPlayedAt:gs(e.entityInfo?.lastPlayed,e.entityInfo?.addTime),canPin:ys(e)}}function Os(e,t){return e.length>=(t?.offset??0)+(t?.limit??0)}function Ps(e,t,n){if(e.error?.includes("filter only available"))throw new kt.oJ(e.error.match(/^(.*) filter only available/)?.at(1)??e.error);if(e.error?.includes("order only available"))throw new kt.wS(e.error.match(/^(.*) order only available/)?.at(1)??e.error);if(e.error&&404===e.statusCode&&t?.folderUri)throw new kt.im(e.error);const s=t?.folderUri?mt.cf.PLAYLIST:void 0,i=(0,cs.as)(t?.filters?.map(os._U)??[]).map(cs.Gc),r=s??(0,os.gz)(i.at(0)?.id),a=(0,ls.eS)((0,os.kX)(t?.sortOrder),r),o=r===mt.cf.PLAYLIST&&a.id===mt.Cu.CUSTOM.toString(),l=!!t?.textFilter;let c,d=e.header?.totalCount??0;if(n){const n=function(e,t,n,s){let i=0;const r=[],a=new Set(s?.expandedFolders??[]),o=e.slice(0),l=Array.from({length:o.length},(()=>0));let c;for(;c=o.shift();){const e=l.shift()??0,d=js(c,t,e,n);if(r.push(d),e>0&&i++,Os(r,s))break;if(c.folder&&c.entityInfo?.uri&&a.has(c.entityInfo?.uri)){o.unshift(...c.folder.entity);const t=e+1;l.unshift(...Array.from({length:c.folder.entity.length},(()=>t)))}}return{items:r.slice(s?.offset??0,(s?.offset??0)+(s?.limit??0)),numExpandedFolderItemsInChunk:i}}(e.entity,o,l,t);c=n.items,d+=n.numExpandedFolderItemsInChunk}else c=function(e,t,n){return e.map((e=>js(e,t,void 0,n)))}(e.entity,o,l);return{primaryFilter:(0,cs.qU)(r)??void 0,passedFilterIds:t?.filters??[],availableFilters:(0,cs.as)(e.header?.availableFilters?.filter??[]).map(cs.Gc),selectedFilters:t?.folderUri?(0,cs.G8)(i):i,availableSortOrders:(0,ls.WC)(r),selectedSortOrder:a,limit:t?.limit??e.header?.totalCount??0,offset:t?.offset??0,items:c,unfilteredTotalLength:e.header?.totalCount??0,totalLength:d,hasUnfilteredItems:!!e.header?.totalCount||!!t?.filters?.length||!!t?.textFilter,hasTextFilter:l,reorderAllowed:o,passedFolderUri:t?.folderUri,openedFolderName:e.header?.folderName,parentFolderUri:e.header?.parentFolderUri}}function js(e,t,n,s){return e.playlist?function(e,t,n){return{type:te.s.PLAYLIST,uri:e.entityInfo?.uri??"",name:e.entityInfo?.name??"",pinned:e.entityInfo?.pinned??!1,canPin:ys(e),images:fs(e.entityInfo?.imageUri),owner:{type:te.s.USER,name:e.playlist?.creatorName??"",uri:e.playlist?.creatorUri??"",id:"",username:"",images:[]},isOwnedBySelf:e.playlist?.ownedBySelf,isLoading:e.playlist?.isLoading,folderDepth:n,canAddTo:e.playlist?.canAdd,canReorder:t,addedAt:ps(e.entityInfo?.addTime),lastPlayedAt:gs(e.entityInfo?.lastPlayed,e.entityInfo?.addTime),hasCuratedItems:e.entityInfo?.hasCuratedItems,isBooklist:!!e.playlist?.numberOfItemsPerLinkType.find((({linkType:e})=>e===ds.q_Y.SHOW))?.numItems,isEmpty:!e.playlist?.numberOfItemsPerLinkType.some((e=>e.numItems>0))}}(e,t,n):e.album?bs(e):e.prerelease?function(e){return{type:te.s.PRE_RELEASE,name:e.entityInfo?.name??"",artists:e.prerelease?.artistName?[{type:te.s.ARTIST,name:e.prerelease?.artistName,uri:e.prerelease?.artistUri??""}]:[],images:fs(e.entityInfo?.imageUri),uri:e.entityInfo?.uri??"",pinned:e.entityInfo?.pinned??!1,addedAt:ps(e.entityInfo?.addTime),lastPlayedAt:gs(e.entityInfo?.lastPlayed,e.entityInfo?.addTime),canPin:ys(e)}}(e):e.artist?vs(e):e.show?function(e){return{type:te.s.SHOW,uri:e.entityInfo?.uri??"",name:e.entityInfo?.name??"",pinned:e.entityInfo?.pinned??!1,publisher:e.show?.creatorName??"",images:fs(e.entityInfo?.imageUri),addedAt:ps(e.entityInfo?.addTime),lastPlayedAt:gs(e.entityInfo?.lastPlayed,e.entityInfo?.addTime),canPin:ys(e)}}(e):e.book?Ns(e):e.folder?function(e,t,n,s=!1){return{type:te.s.FOLDER,uri:e.entityInfo?.uri??"",rowId:e.folder?.rowId??"",name:e.entityInfo?.name??"",pinned:e.entityInfo?.pinned??!1,canPin:ys(e),numberOfFolders:e.folder?.numberOfFolders??0,numberOfPlaylists:e.folder?.numberOfPlaylists??0,folderDepth:n,canReorder:t,isFlattened:s,addedAt:ps(e.entityInfo?.addTime),lastPlayedAt:gs(e.entityInfo?.lastPlayed,e.entityInfo?.addTime)}}(e,t,n,s):e.likedSongs?function(e){return{type:te.s.LIKED_SONGS,uri:kt.cx,name:e.entityInfo?.name??"",pinned:e.entityInfo?.pinned??!1,canPin:ys(e),images:fs(e.entityInfo?.imageUri),numberOfSongs:e.likedSongs?.numberOfSongs??0,addedAt:ps(e.entityInfo?.addTime),lastPlayedAt:gs(e.entityInfo?.lastPlayed,e.entityInfo?.addTime),hasCuratedItems:e.entityInfo?.hasCuratedItems}}(e):e.yourEpisodes?function(e){return{type:te.s.YOUR_EPISODES,uri:kt.ql,name:e.entityInfo?.name??"",pinned:e.entityInfo?.pinned??!1,canPin:ys(e),images:fs(e.entityInfo?.imageUri),numberOfDownloadedEpisodes:e.yourEpisodes?.numberOfDownloadedEpisodes??0,addedAt:ps(e.entityInfo?.addTime),lastPlayedAt:gs(e.entityInfo?.lastPlayed,e.entityInfo?.addTime),hasCuratedItems:e.entityInfo?.hasCuratedItems}}(e):e.localFiles?function(e){return{type:te.s.LOCAL_FILES,uri:"spotify:local-files",name:e.entityInfo?.name??"",pinned:e.entityInfo?.pinned??!1,canPin:ys(e),images:fs(e.entityInfo?.imageUri),numberOfFiles:e.localFiles?.numberOfFiles??0,addedAt:ps(e.entityInfo?.addTime),lastPlayedAt:gs(e.entityInfo?.lastPlayed,e.entityInfo?.addTime)}}(e):null}function Ls(e){switch(e){case"album":default:return"album";case"single":return"single";case"compilation":return"compilation";case"ep":return"ep"}}function Rs(e){const t=e.map((e=>(0,Z.nX)(e))),n=t.map((e=>null!==e?e.type:null)).reduce(((e,t)=>e===t?e:null));if(null===n)throw new Error("Given URIs need to be of the same type!");return{type:n,ids:t.map((e=>e.id))}}var Ds=n(33948),Ms=n(95092);function Us(e){return{likedSongs:e?.includeLikedSongs?{label:g._s.get("shared.library.entity-row.liked-songs.title"),image:"https://misc.scdn.co/liked-songs/liked-songs-300.png",includeEmpty:!1}:void 0,yourEpisodes:e?.includeYourEpisodes?{label:g._s.get("shared.library.entity-row.your-episodes.title"),image:"https://misc.spotifycdn.com/your-episodes/SE-300.png",includeEmpty:!1}:void 0,localFiles:e?.includeLocalFiles?{image:"",label:g._s.get("shared.library.entity-row.local-files.title"),includeEmpty:!1}:void 0,cachedFiles:void 0,newEpisodes:void 0,allAvailableConfigsProvided:"boolean"==typeof e?.includeLikedSongs&&"boolean"==typeof e?.includeYourEpisodes&&"boolean"==typeof e?.includeLocalFiles}}var Fs=n(96768),Bs=n(76404);const Gs={offset:0},Vs={episodePolicy:{link:!0,length:!0,name:!0,manifestId:!0,previewId:!0,previewManifestId:!0,description:!0,publishDate:!0,covers:!0,freezeFrames:!0,language:!0,available:!0,mediaTypeEnum:!0,number:!0,backgroundable:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,is19PlusOnly:!0,isBookChapter:!0,extension:[St.k1.PODCAST_SUBSCRIPTIONS]},showPolicy:{name:!0,link:!0,description:!0,publisher:!0,covers:!0,language:!0,isExplicit:!0,mediaTypeEnum:!0},collectionPolicy:{isFollowingShow:!0,isInListenLater:!0,isNew:!0},syncPolicy:{offline:!0,syncProgress:!0},playedStatePolicy:{timeLeft:!0,isPlayed:!0,playable:!0,playabilityRestriction:!0,lastPlayedAt:!0}};function Hs(e,t){return"end"===e.after?{}:e.after?.uri?{afterUri:(0,Ms.m)(e.after.uri,t)}:"start"===e.before?{first:!0}:e.before?.uri?{beforeUri:(0,Ms.m)(e.before.uri,t)}:{}}class Ws{_cache=new Map;constructor(e,t,n,s,i){this._your_library=e,this._collection=t,this._listen_later=n,this._builder=s,this._currentUsername=i,this._events=new At(this._your_library,this._collection,this._listen_later,this._cache)}getCapabilities(){return{canSort:!0,canFilter:!0,canSortTracksAndEpisodes:!0,canFilterTracksAndEpisodes:!0,canModifyOffline:!0,canGetTracksByArtistOrAlbum:!0,canMarkEpisodesAsDone:!0,canFetchAllItems:!0,canPin:!0,canTextFilterContentsInRealtime:!0}}async getAlbums(e=Gs){const{sort:t,filter:n,offset:s,limit:i}=e;if(void 0!==s&&"number"!=typeof s)throw new Error("Invalid offset! Expected a number.");return function(e,t){if(void 0===e.entity)throw new Error("Invalid collection Esperanto artists response!");return{items:e.entity.map(bs),offset:t||0,limit:e.entity.length,totalLength:e.header?.totalCount??0,unfilteredTotalLength:e.header?.totalCount??0}}(await this._your_library.all(mt.SK.fromPartial({header:{totalCount:!0,skip:s,length:i,filters:{filter:[mt.cf.ALBUM]},textFilter:(0,cs.Cu)((0,Ds.O8)(n)),sortOrder:{sortOrder:(0,ls.Av)(t)}}})),s)}async getArtists(e=Gs){const{sort:t,filter:n,offset:s,limit:i}=e;if(void 0!==s&&"number"!=typeof s)throw new Error("Invalid offset! Expected a number.");return function(e,t){if(void 0===e.entity)throw new Error("Invalid collection Esperanto artist response!");return{items:e.entity.map(vs),offset:t||0,limit:e.entity.length,totalLength:e.header?.totalCount??0,unfilteredTotalLength:e.header?.totalCount??0}}(await this._your_library.all(mt.SK.fromPartial({header:{totalCount:!0,skip:s,length:i,filters:{filter:[mt.cf.ARTIST]},textFilter:(0,cs.Cu)((0,Ds.O8)(n)),sortOrder:{sortOrder:(0,ls.Oq)(t)}}})),s)}async getTracks(e=Gs){const{sort:t,filters:n,offset:s,limit:i,uri:r}=e;if(void 0!==s&&"number"!=typeof s)throw new Error("Invalid offset! Expected a number.");const a=(0,Z.nX)(r),o=a&&(0,Z.Wq)(a.id)||void 0,l=wt.W.fromPartial({trackPolicy:{collectionPolicy:{isInCollection:!0},trackPolicy:{link:!0,name:!0,playable:!0,length:!0,trackNumber:!0,discNumber:!0,isExplicit:!0,is19PlusOnly:!0,isLocal:!0,extension:[St.k1.VIDEO_ASSOCIATIONS]},albumPolicy:{decorated:!0,albumPolicy:{link:!0,name:!0,covers:!0}},artistPolicy:{name:!0,link:!0}},addTime:!0,start:s,length:i,filter:(0,cs.KG)(n?.map(Ds.O8).map((e=>e??null)).filter(Fs.g)??[]),sort:t?(0,ls.cv)(t):"",id:o});let c;return c=(0,Z.nX)(r)?.type===Z.cH.ARTIST?await this._collection.getArtistTrackList(l):(0,Z.nX)(r)?.type===Z.cH.ALBUM?await this._collection.getAlbumTrackList(l):await this._collection.getTrackList(l),function(e,t){if(void 0===e.item)throw new Error("Invalid collection esperanto tracks response!");return{items:e.item.map(ks),offset:t||0,limit:e.item.length,totalLength:e.unrangedLength,unfilteredTotalLength:e.unfilteredLength}}(c,s)}async _isTagsInfoSynced(){return await new Promise((e=>{let t=null;const n=this._collection.streamTagsInfo({},(s=>{s.isSynced&&(n.cancel(),t&&clearTimeout(t),e(!0))}));t=setTimeout((()=>{e(!1),n.cancel()}),5e3)}))}async getTracksFilterTags(){if(await this._isTagsInfoSynced()){const e=this._builder.build(),t=await e.withHost(Bs.El).withPath("/liked-songs").withQueryParameters({subjective:!0}).withJsonContentType().withResponseType("json").send();return t.body?.contentFilters.map((({title:e,query:t})=>({name:e,filter:t})))??[]}return[]}async getShows(e=Gs){const{sort:t,filter:n,offset:s,limit:i}=e;if(void 0!==s&&"number"!=typeof s)throw new Error("Invalid offset! Expected a number.");return function(e,t){if(void 0===e.entity)throw new Error("Invalid collection cosmos shows response!");return{items:e.entity.map(xs),offset:t||0,limit:e.entity.length,totalLength:e.header?.totalCount??0,unfilteredTotalLength:e.header?.totalCount??0}}(await this._your_library.all(mt.SK.fromPartial({header:{totalCount:!0,skip:s,length:i,filters:{filter:[mt.cf.SHOW]},textFilter:(0,cs.Cu)((0,Ds.O8)(n)),sortOrder:{sortOrder:(0,ls.gT)(t)}}})),s)}async getEpisodes(e=Gs){const{sort:t,filter:n,offset:s,limit:i}=e;if(void 0!==s&&"number"!=typeof s)throw new Error("Invalid offset! Expected a number.");return function(e,t){return{items:(e.episode||[]).map(Es),offset:t||0,limit:(e.episode||[]).length,totalLength:e.unrangedLength,unfilteredTotalLength:e.unfilteredLength}}(await this._listen_later.episodes(St.Mp.fromPartial({...Vs,sort:(0,ls.cL)(t),filter:(0,cs.KG)([(0,Ds.O8)(n)??null].filter(Fs.g)),start:s,length:i})),s)}async getBooks(e=Gs){const{filter:t,sort:n,offset:s,limit:i}=e;if(void 0!==s&&"number"!=typeof s)throw new Error("Invalid offset! Expected a number.");return function(e,t){if(void 0===e.entity)throw new Error("Invalid your library esperanto response!");return{items:e.entity.map(Ns),offset:t||0,limit:e.entity.length,totalLength:e.header?.totalCount??0,unfilteredTotalLength:e.header?.totalCount??0}}(await this._your_library.all(mt.SK.fromPartial({header:{totalCount:!0,skip:s,length:i,filters:{filter:[mt.cf.BOOK]},textFilter:(0,cs.Cu)((0,Ds.O8)(t)),sortOrder:{sortOrder:(0,ls.QX)(n)}}})),s)}getEvents(){return this._events}async add({uris:e,silent:t}){if(!this._events.emitOperationSync(Ct.aG.ADD,e,t))try{this._events.emitUpdateItems(e,!0),await async function(e,t,n){const{type:s}=Rs(n);s===Z.cH.EPISODE?await t.add({uris:n}):await e.add({uri:n})}(this._collection,this._listen_later,e),this._events.emitOperationComplete(Ct.aG.ADD,e,null,t)}catch(n){throw this._events.emitUpdateItems(e,!1),this._events.emitOperationComplete(Ct.aG.ADD,e,n instanceof Error?n:new Error("Unknown error object"),t),n}}async remove({uris:e,silent:t}){if(!this._events.emitOperationSync(Ct.aG.REMOVE,e,t))try{this._events.emitUpdateItems(e,!1),await async function(e,t,n){const{type:s}=Rs(n);s===Z.cH.EPISODE?await t.remove({uris:n}):await e.remove({uri:n})}(this._collection,this._listen_later,e),this._events.emitOperationComplete(Ct.aG.REMOVE,e,null,t)}catch(n){throw this._events.emitUpdateItems(e,!0),this._events.emitOperationComplete(Ct.aG.REMOVE,e,n instanceof Error?n:new Error("Unknown error object"),t),n}}async contains(...e){const t=await async function(e,t){return(await e.contains(wt.gz.fromPartial({uri:t}))).found||[]}(this._collection,e);return this._events.emitUpdateItems(e,t),t}containsSync(e){return this._cache.get(e)}async markAsPlayed(e){await this._collection.removeUnplayed({uri:[e]})}async markAsUnPlayed(e){await this._collection.addUnplayed({uri:[e]})}async pin(e,t){const n=await this._your_library.pin(mt.Yl.fromPartial({uri:(0,Ms.m)(e,this._currentUsername),...t&&Hs(t,this._currentUsername)}));n.status===mt.IN.PINNED?this._events.emitUpdatePin(e,!0):n.status===mt.IN.NOT_PINNED&&n.hasMaximumPinnedItems&&this._events.emitUpdatePinErrorTooManyPins(e,n.maximumPinnedItems)}async unpin(e){await this._your_library.unPin(mt.Yl.fromPartial({uri:(0,Ms.m)(e,this._currentUsername)})),this._events.emitUpdatePin(e,!1)}async getContents(e){let t=e?.itemToCheckCurationFor,n=e?.textFilter;const s=n?(0,Z.nX)(n):null;let i=mt.Cg.GROUP_BY;!s||s.type!==Z.cH.TRACK&&s.type!==Z.cH.EPISODE&&s.type!==Z.cH.LOCAL_TRACK&&s.type!==Z.cH.SHOW||(t||(i=mt.Cg.ONLY_CURATED,t=[]),t.push(s.toURI()),n="");const r=t&&mt.CC.fromPartial({items:t,filter:i}),a=e?.filters?.map(os._U),o=a&&(0,cs.as)(a).at(0),l=!!o,c=o===mt.cf.PLAYLIST,d=o===mt.cf.DOWNLOADED,u=!!e?.expandedFolders?.length&&!!!e?.textFilter&&(!l||c||d);let m=e?.offset,p=e?.limit;u&&(m=0,p=(e?.offset??0)+(e?.limit??0));const h=(0,ls.eS)((0,os.kX)(e?.sortOrder),o),g=(0,Z.nX)(e?.folderUri)?.id;let f;g&&""!==g&&(f=Ot.c.fromString(g,!0,16).toString(10));return Ps(await this._your_library.all(mt.SK.fromPartial({header:{length:p,skip:m,textFilter:n,sortOrder:{sortOrder:(0,os.kX)(h.id)},filters:{filter:a},totalCount:!0,allPlaylists:!!e?.textFilter,entitiesInFolders:u,folderId:f?BigInt(f):void 0,numLinkTypesInPlaylists:!0,curatedItems:r},pseudoPlaylistConfig:Us(e)})),e,u)}getContentsPrimaryFilterId(e){return(0,cs.c5)(e)?.toString()??null}getFilterLabel(e){const t=(0,os.gz)(e);return void 0!==t?mt.cf[t]?.toLowerCase():e}getSortOrderLabel(e){const t=(0,os.kX)(e);return void 0!==t?mt.Cu[t]?.toLowerCase():e}getStaticallyKnownFilters(){return{playlist:{filterId:mt.cf.PLAYLIST.toString(),sortOrderIds:{customSort:mt.Cu.CUSTOM.toString()}}}}async getAlbum(e){const t=await this._collection.getAlbumView(wt.OI.fromPartial({albumUri:e,trackPolicy:{collectionPolicy:{isInCollection:!0},trackPolicy:{link:!0,name:!0,playable:!0,length:!0,trackNumber:!0,discNumber:!0,isExplicit:!0,is19PlusOnly:!0},artistPolicy:{name:!0,link:!0},playedStatePolicy:{playable:!0}},albumPolicy:{decorated:!0,albumType:!0,artistsPolicy:{artistPolicy:{link:!0,name:!0,portraits:!0},decorated:!0},albumPolicy:{link:!0,name:!0,copyrights:!0,covers:!0,year:!0,numDiscs:!0,numTracks:!0,playability:!0}}}));return(n=t).album&&n.album.albumMetadata?{type:te.s.ALBUM,uri:n.album.albumMetadata.link,name:n.album.albumMetadata.name,artists:n.album.albumMetadata.artists.map(_s).filter((e=>e.name)),images:us(n.album.albumMetadata.covers),albumType:Ls(n.album.albumType),year:n.album.albumMetadata.year,copyrights:(s=n.album.albumMetadata.copyright,s.map((e=>e.includes("℗")?{type:"P",text:e}:{type:"C",text:e}))),items:n.album.track.map(Ts)}:null;var n,s}}var zs=n(33876);function Ys(e){return{type:te.s.ARTIST,uri:e.link,name:e.name}}function Ks(e){const t=e.metadata;return{type:te.s.TRACK,uid:e.rowId,addedAt:(r=e.addTime,new Date(1e3*r)),uri:t.link,name:t.name,album:(s=t.album,{type:te.s.ALBUM,uri:s.link,name:s.name,artist:s.artist&&Ys(s.artist),images:(i=s.covers?.standardLink,i?[{url:i,label:"standard"}]:[])}),artists:t.artist.map(Ys),discNumber:t.discNumber,trackNumber:t.trackNumber,duration:(n=1e3*t.length,{milliseconds:n}),isExplicit:!1,isLocal:t.isLocal,isPlayable:t.playable,is19PlusOnly:!1};var n,s,i,r}var qs=n(81812),Qs=n(25956),Xs=n(55356),$s=n(92116),Js=n(15712);const Zs="showLocalFiles";function ei(e){switch(e){case qs.EN.UNKNOWN:return zs.Y.UNKNOWN;case qs.EN.ITUNES:return zs.Y.ITUNES;case qs.EN.DOWNLOADS:return zs.Y.DOWNLOADS;case qs.EN.MY_MUSIC:return zs.Y.MY_MUSIC;case qs.EN.WINDOWS_MUSIC_LIBRARY:return zs.Y.WINDOWS_MUSIC_LIBRARY;case qs.EN.ANDROID_MEDIA_STORE:case qs.EN.UNRECOGNIZED:case qs.EN.IOS_DOCUMENTS:return zs.Y.UNRECOGNIZED;default:return(0,ue.I)(e),zs.Y.UNRECOGNIZED}}function ti(e){switch(e){case zs.Y.UNKNOWN:return qs.EN.UNKNOWN;case zs.Y.ITUNES:return qs.EN.ITUNES;case zs.Y.DOWNLOADS:return qs.EN.DOWNLOADS;case zs.Y.MY_MUSIC:return qs.EN.MY_MUSIC;case zs.Y.WINDOWS_MUSIC_LIBRARY:return qs.EN.WINDOWS_MUSIC_LIBRARY;case zs.Y.UNRECOGNIZED:return qs.EN.UNRECOGNIZED;default:return(0,ue.I)(e),qs.EN.UNRECOGNIZED}}const ni=e=>{const t=e?.order===Qs._.DESC?1:0;switch(e?.field){case Xs.k.TITLE:return qs.Af.NAME_ASC+t;case Xs.k.ADDED_AT:return qs.Af.ADD_TIME_ASC+t;case Xs.k.ALBUM:return qs.Af.ALBUM_NAME_ASC+t;case Xs.k.ARTIST:return qs.Af.ARTIST_NAME_ASC+t;case Xs.k.DURATION:return qs.Af.LENGTH_ASC+t;default:return qs.Af.NO_SORT}};function si(e){switch(e){case qs.sJ.NOT_FOUND:throw new Error("Error adding local files folder: Path not found!");case qs.sJ.UNKNOWN:case qs.sJ.UNRECOGNIZED:throw new Error("Error adding local files folder!");case qs.sJ.SUCCESS:case qs.sJ.NOT_CHANGED:return Promise.resolve();default:return(0,ue.E)(e)}}const ii=qs.Ke.fromPartial({rowId:!0,addTime:!0,track:{link:!0,name:!0,discNumber:!0,trackNumber:!0,length:!0,isLocal:!0,playable:!0,hasLyrics:!1,is19PlusOnly:!1,isAvailableInMetadataCatalogue:!1,isExplicit:!1,isPremiumOnly:!1,locallyPlayable:!1,playableLocalTrack:!1,playableTrackLink:!1,popularity:!1,previewId:!1,trackDescriptors:!1},album:{album:{link:!0,name:!0,covers:!0,copyrights:!1,isPremiumOnly:!1,numDiscs:!1,numTracks:!1,playability:!1,year:!1},artist:{link:!0,name:!0,isVariousArtists:!1,portraits:!1}},artist:{link:!0,name:!0,isVariousArtists:!1,portraits:!1},addedBy:void 0,canAddToCollection:!1,canBan:!1,displayCovers:!1,formatListAttributes:!1,inCollection:!1,isBanned:!1,localFile:!1,offline:!1});class ri{_totalLength=0;constructor(e,t,n){this._cosmos=t,this._localStorageAPI=n,this._client=new qs.y_(e),this._events=new Js.N,this._subscribeToTracksUpdates()}getCapabilities(){return{canSort:!0,canFilter:!0,canFetchAllTracks:!0}}getEvents(){return this._events}getIsEnabled(){const e=this._localStorageAPI.getItem(Zs);return!(e instanceof Error)&&e}setIsEnabled(e){this._localStorageAPI.setItem(Zs,e),this._emitUpdate()}subscribeIsEnabled(e){const t=this._localStorageAPI.getEvents(),n=t=>{t.data.key===Zs&&e(t.data.value)};return t.addListener($s.s.UPDATE,n),()=>t.removeListener($s.s.UPDATE,n)}async browseForFolder(){return function(e){return{path:e.path||null}}(await this._cosmos.post("sp://desktop/v1/browse_for_folder"))}async getSources(){const e=await this._client.getSources({});return{defaultSources:e.defaultSources.map((e=>({enabled:e.enabled,id:ei(e.id)}))),folders:e.folders}}async addFolder(e){si((await this._client.addFolder({path:e.path})).result)}async removeFolder(e){si((await this._client.removeFolder({path:e.path})).result)}async mutateDefaultSource(e){si((await this._client.mutateDefaultSource({id:ti(e.id),enabled:e.enabled})).result)}async getTracks(e,t){const n=await this._client.getTracks({query:{sortBy:ni(e),textFilter:t??"",range:void 0,minLength:0,removeDuplicateLinks:!1},policy:ii});return void 0!==n.data?n.data.item.map(Ks):[]}_subscribeToTracksUpdates(){let e=!0;this._client.subscribeTracks(qs.Ip.fromPartial({query:{range:{start:0,length:0}}}),(t=>{this._totalLength=t.data?.unfilteredLength??0,e?e=!1:this._emitUpdate()}))}_emitUpdate(){this._events.emit(Js.g.UPDATE,{isEnabled:this.getIsEnabled(),totalLength:this._totalLength})}}var ai=n(26336),oi=n(31780),li=n(50900),ci=n(44132),di=n(24252),ui=n(8968),mi=n(85784),pi=n(31812),hi=n(92780);function gi(e,t){t=t.split(":").map((e=>encodeURIComponent(e))).join(":");const n=(0,Z.nX)(t,{parseUnknown:!0});if(null===n)throw new Error(`URI "${t}" is invalid!`);switch(n.type){case Z.cH.TRACK:case Z.cH.LOCAL:case Z.cH.EPISODE:case Z.cH.SHOW:case Z.cH.PLAYLIST:case Z.cH.PLAYLIST_V2:case Z.cH.COLLECTION:case Z.cH.COLLECTION_ALBUM:case Z.cH.COLLECTION_ARTIST:return t;case Z.cH.ALBUM:return(0,Z.YH)(e,n.id).toURI();case Z.cH.ARTIST:return(0,Z.IB)(e,n.id).toURI();default:return console.warn(`URI "${t}" is can not be downloaded!`),null}}function fi(e){const t=(0,Z.nX)(e);if(null===t)throw new Error(`URI "${e}" is invalid!`);switch(t.type){case Z.cH.ALBUM:case Z.cH.ARTIST:case Z.cH.TRACK:case Z.cH.LOCAL:case Z.cH.EPISODE:case Z.cH.SHOW:case Z.cH.PLAYLIST:case Z.cH.PLAYLIST_V2:case Z.cH.COLLECTION:return e;case Z.cH.COLLECTION_ALBUM:return(0,Z.Bi)(t.id).toURI();case Z.cH.COLLECTION_ARTIST:return(0,Z.Ke)(t.id).toURI();default:return console.warn(`URI "${e}" is can not be downloaded!`),null}}function yi(e=!1,t=!1){return(n,s=!0)=>(0,Z.QB)(n)||(0,Z.Gi)(n)?s?ui.Wm.YES:ui.Wm.NO_PERMISSION_HIDE:e?ui.Wm.YES:t?ui.Wm.NO_PERMISSION_HIDE:ui.Wm.NO_PERMISSION}let _i=function(e){return e[e.CONTEXT=0]="CONTEXT",e[e.ITEM=1]="ITEM",e[e.UNRECOGNIZED=2]="UNRECOGNIZED",e}({});function bi(e){const t=(0,Z.nX)(e);if(null===t)return _i.UNRECOGNIZED;switch(t.type){case Z.cH.ALBUM:case Z.cH.ARTIST:case Z.cH.SHOW:case Z.cH.PLAYLIST:case Z.cH.PLAYLIST_V2:case Z.cH.COLLECTION:case Z.cH.COLLECTION_ALBUM:case Z.cH.COLLECTION_ARTIST:return _i.CONTEXT;case Z.cH.TRACK:case Z.cH.EPISODE:return _i.ITEM;default:return _i.UNRECOGNIZED}}var vi=function(e){return e.ONLINE="online",e.OFFLINE="offline",e.FORCED_OFFLINE="forced_offline",e.RECONNECTING="reconnecting",e}(vi||{});function xi(e){switch(e.connection.status){case vi.ONLINE:return ui.EN.ONLINE;case vi.OFFLINE:return ui.EN.OFFLINE;case vi.FORCED_OFFLINE:return ui.EN.FORCED_OFFLINE;case vi.RECONNECTING:return ui.EN.RECONNECTING;default:return ui.EN.OFFLINE}}function Ci(e){const t=e?Number(e.totalTracks):0,n=e?Number(e.downloadedTracks):0;return{syncing:e?.downloading??!1,percentage:e?.percentComplete??0,totalItems:t,currentItem:Math.min(n+1,t)}}function Ei(e){switch(e){case ci.KG.SUCCESS:return ui.uI.SUCCESS;case ci.KG.GENERIC:return ui.uI.GENERIC;case ci.KG.DISK_FULL:return ui.uI.DISK_FULL;case ci.KG.EXPIRED:return ui.uI.EXPIRED;case ci.KG.TOO_MANY_TRACKS:return ui.uI.TOO_MANY_TRACKS;case ci.KG.NOT_ALLOWED:return ui.uI.NOT_ALLOWED;case ci.KG.CONNECTION_DISABLED:return ui.uI.CONNECTION_DISABLED;case ci.KG.DEVICE_LIMIT_REACHED:return ui.uI.DEVICE_LIMIT_REACHED;case ci.KG.UNRECOGNIZED:default:return ui.uI.UNRECOGNIZED}}function Si(e){let t=[];return(0,pi.a5)((n=>{t.forEach((e=>e.cancel())),t=[],(0,hi.e)(Array.from(n.keys()),(n=>t.push(e(n))),100)}),100)}class wi extends mi.O{constructor(e,t,n,s,i){super(),this._username=e,this._cosmos=t,this._offline=n,this._productState=s,this._cache=i,this.setupConnectivityEvents(),this.setupErrorEvents(),this.setupCapabilitiesEvents(),this.setupTotalProgressEvents(),this.setupContextProgressEvents(),this.setupContextAndItemAvailabilityEvents()}setupConnectivityEvents(){let e=0,t=null;this.onAddListener(mi.k.UPDATE_CONNECTIVITY,(()=>{1==++e&&(t=this._cosmos.sub("sp://connectivity-manager/v1/connection",(e=>this.emit(mi.k.UPDATE_CONNECTIVITY,{connectivity:xi(e)}))))})),this.onRemoveListener(mi.k.UPDATE_CONNECTIVITY,(()=>{0==--e&&(t?.cancel(),t=null)}))}setupErrorEvents(){let e=0,t=null;this.onAddListener(mi.k.ERROR,(()=>{1==++e&&(t=this._offline.subscribeError({},(({code:e})=>this.emit(mi.k.ERROR,{code:Ei(e)}))))})),this.onRemoveListener(mi.k.ERROR,(()=>{0==--e&&(t?.cancel(),t=null)}))}setupCapabilitiesEvents(){let e=0,t=null;this.onAddListener(mi.k.UPDATE_CAPABILITIES,(()=>{1==++e&&(t=this._productState.subValues({},(({pairs:e})=>{e.offline&&this.emit(mi.k.UPDATE_CAPABILITIES,{capabilites:{canDownload:yi("1"===e.offline,"1"===e["streaming-only-premium"])}})})))})),this.onRemoveListener(mi.k.UPDATE_CAPABILITIES,(()=>{0==--e&&(t?.cancel(),t=null)}))}setupTotalProgressEvents(){let e=0,t=null;this.onAddListener(mi.k.UPDATE_TOTAL_PROGRESS,(()=>{1==++e&&(t=this._offline.subscribeTotalProgress({},(({progress:e})=>this.emit(mi.k.UPDATE_TOTAL_PROGRESS,{progress:Ci(e)}))))})),this.onRemoveListener(mi.k.UPDATE_TOTAL_PROGRESS,(()=>{0==--e&&(t?.cancel(),t=null)}))}setupContextProgressEvents(){const e=e=>{const t=fi(e.uri);null!==t&&this.emit(mi.k.UPDATE_CONTEXT_PROGRESS,{uri:t,progress:Ci(e.progress)})},t=Si((t=>this._offline.subscribeContextsProgress({uris:t},(({progresses:t})=>t.forEach((t=>e(t)))))));this.onAddListener(mi.k.UPDATE_CONTEXT_PROGRESS,(e=>{const n=gi(this._username,e.data.options.uri);null!==n&&t.subscribe(n)})),this.onRemoveListener(mi.k.UPDATE_CONTEXT_PROGRESS,(e=>{const n=gi(this._username,e.data.options.uri);null!==n&&t.unsubscribe(n)}))}setupContextAndItemAvailabilityEvents(){const e=e=>{const t=fi(e.uri);if(null===t)return;const n=function(e){switch(e.state){case ci._M.DOWNLOADED:return ui.If.YES;case ci._M.DOWNLOADING:return ui.If.DOWNLOADING;case ci._M.WAITING:case ci._M.REQUESTED:return ui.If.WAITING;case ci._M.NOT_DOWNLOADED:case ci._M.ERROR:case ci._M.UNRECOGNIZED:default:return ui.If.NO}}(e);this._cache.set(t,n),this.emit(mi.k.UPDATE_AVAILABILITY,{uri:t,availability:n})},t=Si((t=>this._offline.subscribeContexts({uris:t},(({contexts:t})=>t.forEach((t=>{void 0!==t.context&&e(t.context)})))))),n=e=>{const t=fi(e.uri);if(null===t)return;const n=function(e){switch(e.state){case ci.G6.DOWNLOADED:return ui.If.YES;case ci.G6.DOWNLOADING:return ui.If.DOWNLOADING;case ci.G6.WAITING_FOR_REDOWNLOAD:case ci.G6.WAITING:case ci.G6.WAITING_LIMIT_EXCEEDED:return ui.If.WAITING;case ci.G6.NOT_DOWNLOADED:case ci.G6.ERROR:case ci.G6.DOWNLOADED_EXPIRED:case ci.G6.UNRECOGNIZED:default:return ui.If.NO}}(e);this._cache.set(t,n),this.emit(mi.k.UPDATE_AVAILABILITY,{uri:t,availability:n})},s=Si((e=>this._offline.subscribeItems({uris:e},(({items:e})=>e.forEach((e=>n(e)))))));this.onAddListener(mi.k.UPDATE_AVAILABILITY,(e=>{const n=gi(this._username,e.data.options.uri);if(null===n)return;const i=bi(n);i===_i.CONTEXT?t.subscribe(n):i===_i.ITEM&&s.subscribe(n)})),this.onRemoveListener(mi.k.UPDATE_AVAILABILITY,(e=>{const n=gi(this._username,e.data.options.uri);if(null===n)return;const i=bi(n);i===_i.CONTEXT?t.unsubscribe(n):i===_i.ITEM&&s.unsubscribe(n)}))}}var Ii=n(81628);const Ai=(0,n(70396).Q)(ci._M);function Ti(e){if(Ai(e))switch(e){case ci._M.UNRECOGNIZED:return ui.If.NO;case ci._M.REQUESTED:case ci._M.WAITING:return ui.If.WAITING;case ci._M.DOWNLOADING:return ui.If.DOWNLOADING;case ci._M.DOWNLOADED:return ui.If.YES;case ci._M.ERROR:case ci._M.NOT_DOWNLOADED:return ui.If.NO;default:return(0,ue.I)(e),ui.If.NO}return ui.If.NO}function ki(e){const t=e.entityInfo;if(void 0===t)return null;const n=(0,Z.nX)(t.uri);if(null===n)return null;switch(n.type){case Z.cH.ARTIST:case Z.cH.COLLECTION_ARTIST:return function(e){return{type:te.s.ARTIST,uri:fi(e.uri)??"",name:e.name,images:[{url:e.imageUri,label:"standard"}]}}(t);case Z.cH.ALBUM:case Z.cH.COLLECTION_ALBUM:return function(e,t){return{type:te.s.ALBUM,uri:fi(e.uri)??"",name:e.name,artists:[{type:te.s.ARTIST,uri:t?.artistUri??"",name:t?.artistName??""}],images:[{url:e.imageUri,label:"standard"}]}}(t,e.album);case Z.cH.SHOW:return function(e,t){return{type:te.s.SHOW,uri:e.uri,name:e.name,publisher:t?.creatorName??"",images:[{url:e.imageUri,label:"standard"}]}}(t,e.show);case Z.cH.PLAYLIST:case Z.cH.PLAYLIST_V2:return function(e,t){return{type:te.s.PLAYLIST,uri:e.uri,name:e.name,creatorName:t?.creatorName??"",images:[{url:e.imageUri,label:"standard"}]}}(t,e.playlist);case Z.cH.COLLECTION:return function(e){return{type:e.uri.endsWith("your-episodes")?te.s.YOUR_EPISODES:te.s.LIKED_SONGS,uri:e.uri}}(t);default:return null}}class Ni{_cache=new Map;constructor(e,t,n,s,i,r){this._username=e,this._storage=n,this._offline=s,this._yourLibrary=i,this._productState=r,this._events=new wi(this._username,t,this._offline,this._productState,this._cache),this._events.addListener(mi.k.UPDATE_CAPABILITIES,(e=>this._canDownload=e.data.capabilites.canDownload)),this._canDownload=yi()}getCapabilities(){return{canDownload:(e,t)=>this._canDownload(e,t),canRemoteDownload:!0}}getEvents(){return this._events}async getDownloads(){return(await this._yourLibrary.all(mt.SK.fromPartial({header:{allPlaylists:!0,filters:{filter:[mt.cf.DOWNLOADED]},length:1e3}}))).entity.map(ki).filter(Fs.g)}getAvailabilitySync(e){return this._cache.get(e)??ui.If.NO}async getContextForDevices(e){const t=await new Promise((t=>{const n=this._offline.subscribeDevicesWithContext(ci.ik.fromPartial({uri:e}),(e=>{t(e),n.cancel()}))}));return t.deviceWithContext.filter((e=>!!e.device&&e.isSupported&&!!e.device.capabilities?.remoteDownloadsEnabled)).map((({device:e,context:t})=>{const{deviceId:n,cacheId:s,isLocal:i,name:r,type:a,lastSeenAt:o,platform:l}=e;return{deviceId:n,cacheId:s,deviceType:a,clientPlatform:l,isLocal:i,name:r,type:(0,Ii.y)(a),lastSeenAtMs:o?.getTime()??0,contextDownloadAvailability:Ti(t?.state),contextDownloadPercentage:t?.percentComplete??0}}))}async addDownload(e,t){const n=gi(this._username,e);null!==n&&await this._offline.addDownload(ci.uy.fromPartial({uri:n,device:t}))}async removeDownload(e,t){const n=gi(this._username,e);null!==n&&await this._offline.removeDownload(ci.uy.fromPartial({uri:n,device:t}))}async removeAllDownloads(){await this._offline.removeAllDownloads({})}async removeCache(){await this._storage.deleteUnlockedItems({})}async getStatistics(){const e=await this._storage.getStats({});return{currentSizeMB:Number(e.currentSize),currentLockedSizeMB:Number(e.currentLockedSize)}}}var Oi=n(9852);class Pi{getFilterState(){return Promise.resolve(null)}getDevices(){return Promise.resolve([])}getFiltersEvents(){return null}setCurrentDevice(){return Promise.resolve(void 0)}getCurrentAudioDevice(){return null}restorePreviouslyActiveDevice(){return Promise.resolve(void 0)}getSavedDevices(){return[]}removeCurrentDevice(){}}n(704);class ji{_info=null;getCapabilities(){return{canChangeVolume:!0,canGetPlaybackInfo:!0,canGetFiles:!0,puffinEnabled:!0}}_isLocal=!1;_isAvailable=!1;_volume=-1;constructor(e,t,n,s,i,r,o,l){this._playbackService=e,this._storageService=t,this._builder=n,this._localStorageAPI=s,this._transport=i,this._connectServiceClient=r,this._eventSender=o,this._playerAPI=l,this._events=new Oi.e,this._filters=new Pi,this._playbackService.subPlaybackInfo({},(async e=>{this._info=e,this._events.emit(Oi.k.INFO,e)})),this._playbackService.subVolume({},(({volume:e})=>{this._volume=e,this.emitVolume()})),this._connectServiceClient&&this._connectServiceClient.state(a.oB.fromPartial({includeLocalDevice:!0}),(({devices:e})=>{const t=e.find((e=>e.isActive));t?(this._isLocal=t.isSelf,this._isAvailable=t.supportsVolume):(this._isLocal=!1,this._isAvailable=!0),this.emitVolume()}))}getEvents(){return this._events}async getVolume(){return this.getVolumeInternal()}async setVolume(e){this._playbackService.setVolume({source:o.g3.USER,volume:e,connectLoggingParams:void 0})}async raiseVolume(){this._playbackService.raiseVolume({source:o.g3.USER,connectLoggingParams:void 0})}async lowerVolume(){this._playbackService.lowerVolume({source:o.g3.USER,connectLoggingParams:void 0})}async getPlaybackInfo(){return this._info}async getFiles(e){const t=await this._playbackService.getFiles({uri:e});if(t.status!==o.Yt.GETFILES_OK)throw new Error(`Failed to get files for URI '${e}'. Error code: ${t.status}`);const n=await Promise.all(t.files.map((({fileId:e})=>this._storageService.getFileRanges({fileId:e,realm:di.cB.STREAM}))));return t.files.map(((e,t)=>({...e,byteSize:n[t].byteSizeKnown?Number(n[t].byteSize):-1,byteRanges:n[t].ranges.map((e=>({fromByte:Number(e.fromByte),toByte:Number(e.toByte)})))})))}getVolumeInternal(){return this._isAvailable?this._volume:-1}emitVolume(){this._events.emit(Oi.k.VOLUME,{volume:this.getVolumeInternal(),isLocal:this._isLocal})}async getDevices(){return this._filters.getDevices()}async getFilterState(){return this._filters.getFilterState()}getCurrentAudioDevice(){return this._filters.getCurrentAudioDevice()}async setCurrentDevice(e){return this._filters.setCurrentDevice(e)}getSavedDevices(){return this._filters.getSavedDevices()}removeCurrentDevice(){return this._filters.removeCurrentDevice()}getFiltersEvents(){return this._filters.getFiltersEvents()}}var Li=n(16928),Ri=n(50799);function Di(e){return void 0===e?[]:function(...e){return e.filter((({url:e,label:t})=>e&&t)).map((({url:e,label:t})=>({url:e,label:t})))}({url:e.image_url,label:"standard"},{url:e.image_small_url,label:"small"},{url:e.image_large_url,label:"large"},{url:e.image_xlarge_url,label:"xlarge"})}function Mi(e){return{milliseconds:(t=e,n=-1,t?parseInt(t,10):n)};var t,n}function Ui(e){return"true"===e?.toLowerCase()}const Fi=9;function Bi(e,t){if(void 0===e)return[];const n="artist_uri",s="artist_name",i=[{type:t,uri:e[n]??"",name:e[s]??""}];for(let r=1;r<=Fi;++r){const a=`${n}:${r}`,o=`${s}:${r}`;if(!e[a]||!e[o])break;i.push({type:t,uri:e[a]??"",name:e[o]??""})}return i}function Gi(e){return{type:te.s.ALBUM,uri:e.album_uri??"",name:e.album_title??"",images:Di(e)}}function Vi(e){return{type:te.s.SHOW,uri:e.album_uri??"",name:e.album_title??"",images:Di(e)}}function Hi(e){return{type:te.s.ALBUM,uri:e.album_uri??"",name:e.album_title??"",images:Di(e)}}function Wi(e){return{type:te.s.AUDIOBOOK,uri:e.album_uri??"",name:e.album_title??"",images:Di(e)}}function zi(e,t){return(0,Z._Z)(t.uri)||(0,Z.UF)(t.uri)?function(e,t){const n=t.metadata;return{type:te.s.TRACK,uri:t.uri,uid:t.uid,name:n.title??"",mediaType:n["media.type"]??"audio",duration:Mi(n.duration),album:Gi(n),artists:Bi(n,te.s.ARTIST),isLocal:Ui(n.is_local),isExplicit:Ui(n.is_explicit),is19PlusOnly:Ui(n.is_19_plus),hasAssociatedVideo:!!n.video_association,provider:e.provider.length>0?e.provider:null,metadata:t.metadata,get images(){return this.album.images}}}(e,t):(0,Z.QB)(t.uri)?function(e){return"true"===e.metadata.is_audiobook_chapter}(t)?function(e,t){const n=t.metadata;return{type:te.s.CHAPTER,uri:t.uri,uid:t.uid,name:n.title??"",mediaType:n["media.type"]??"audio",duration:Mi(n.duration),book:Wi(n),provider:e.provider.length>0?e.provider:null,metadata:t.metadata,isExplicit:Ui(n.is_explicit),is19PlusOnly:Ui(n.is_19_plus),get images(){return this.book.images}}}(e,t):function(e,t){const n=t.metadata;return{type:te.s.EPISODE,uri:t.uri,uid:t.uid,name:n.title??"",mediaType:n["media.type"]??"audio",duration:Mi(n.duration),show:Vi(n),provider:e.provider.length>0?e.provider:null,metadata:t.metadata,isExplicit:Ui(n.is_explicit),is19PlusOnly:Ui(n.is_19_plus),get images(){return this.show.images}}}(e,t):(0,Z.ee)(t.uri)?function(e,t){const n=t.metadata,s=Ui(n.is_podcast_advertisement),i=n.artist_name??null;return{type:te.s.AD,uri:t.uri,uid:t.uid,title:n.title??null,advertiser:s?i:n.advertiser??null,url:n.click_url??null,id:n.ad_id??null,mediaType:n["media.type"]??"audio",duration:Mi(n.duration),images:Di(n),videoOrientation:n["ad.video_orientation"],isPodcastAd:s,isSkippableAd:Ui(n["ad.is_skippable"]),isTestAd:Ui(n["ad.is_test"]),provider:e.provider.length>0?e.provider:null,metadata:t.metadata}}(e,t):function(e,t){const n=t.metadata;return{type:te.s.UNKNOWN,uri:t.uri,uid:t.uid??null,name:n.title??"",mediaType:n["media.type"]??"audio",duration:Mi(n.duration),album:Hi(n),artists:Bi(n,te.s.ARTIST),provider:e.provider.length>0?e.provider:null,metadata:t.metadata,get images(){return this.album.images}}}(e,t)}const Yi={canPause:!0,canResume:!0,canSeek:!0,canSkipPrevious:!0,canSkipNext:!0,canToggleRepeatContext:!0,canToggleRepeatTrack:!0,canToggleShuffle:!0,disallowPausingReasons:[],disallowResumingReasons:[],disallowSeekingReasons:[],disallowSkippingPreviousReasons:[],disallowSkippingNextReasons:[],disallowTogglingRepeatContextReasons:[],disallowTogglingRepeatTrackReasons:[],disallowTogglingShuffleReasons:[],disallowTransferringPlaybackReasons:[]};function Ki(e=[]){return e.map((e=>Li.GM.includes(e)?e:"unknown"))}function qi(e){return{canPause:0===e.disallowPausingReasons.length,canResume:0===e.disallowResumingReasons.length,canSeek:0===e.disallowSeekingReasons.length,canSkipPrevious:0===e.disallowSkippingPrevReasons.length,canSkipNext:0===e.disallowSkippingNextReasons.length,canToggleRepeatContext:0===e.disallowTogglingRepeatContextReasons.length,canToggleRepeatTrack:0===e.disallowTogglingRepeatTrackReasons.length,canToggleShuffle:0===e.disallowTogglingShuffleReasons.length,disallowPausingReasons:Ki(e.disallowPausingReasons),disallowResumingReasons:Ki(e.disallowResumingReasons),disallowSeekingReasons:Ki(e.disallowSeekingReasons),disallowSkippingPreviousReasons:Ki(e.disallowSkippingPrevReasons),disallowSkippingNextReasons:Ki(e.disallowSkippingNextReasons),disallowTogglingRepeatContextReasons:Ki(e.disallowTogglingRepeatContextReasons),disallowTogglingRepeatTrackReasons:Ki(e.disallowTogglingRepeatTrackReasons),disallowTogglingShuffleReasons:Ki(e.disallowTogglingShuffleReasons),disallowTransferringPlaybackReasons:Ki(e.disallowTransferringPlaybackReasons)}}const Qi={bitrateLevel:Li.eG.UNKNOWN,strategy:Li.m_.UNKNOWN,targetBitrateLevel:Li.eG.UNKNOWN,targetBitrateAvailable:!1,hifiStatus:Li.YX.NONE};function Xi(e){const t=e=>{switch(e){case $.U5.LOW:return Li.eG.LOW;case $.U5.NORMAL:return Li.eG.NORMAL;case $.U5.HIGH:return Li.eG.HIGH;case $.U5.VERY_HIGH:return Li.eG.VERY_HIGH;case $.U5.HIFI:return Li.eG.HIFI;case $.U5.HIFI24:return Li.eG.HIFI24;default:return Li.eG.UNKNOWN}};return{bitrateLevel:t(e.bitrateLevel),strategy:(()=>{switch(e.strategy){case $.Sm.BEST_MATCHING:return Li.m_.BEST_MATCHING;case $.Sm.BACKEND_ADVISED:return Li.m_.BACKEND_ADVISED;case $.Sm.OFFLINED_FILE:return Li.m_.OFFLINED_FILE;case $.Sm.CACHED_FILE:return Li.m_.CACHED_FILE;case $.Sm.LOCAL_FILE:return Li.m_.LOCAL_FILE;default:return Li.m_.UNKNOWN}})(),targetBitrateLevel:t(e.targetBitrateLevel),targetBitrateAvailable:e.targetBitrateAvailable,hifiStatus:(()=>{switch(e.hifiStatus){case $.S6.UNRECOGNIZED:case $.S6.NONE:default:return Li.YX.NONE;case $.S6.OFF:return Li.YX.OFF;case $.S6.ON:return Li.YX.ON}})()}}var $i=n(79592);function Ji({uri:e,url:t,pages:n,metadata:s,restrictions:i}){return void 0!==n?$.es.fromPartial({uri:e,url:t,pages:n.map(Zi),metadata:s,restrictions:ir(i),isLoading:!1}):$.es.fromPartial({uri:e,url:t??`context://${e}`,metadata:s,isLoading:!0})}function Zi({uri:e,url:t,nextPageUrl:n,items:s,metadata:i}){if(void 0!==t)return $.yy.fromPartial({pageUrl:t,nextPageUrl:n,metadata:{...i,page_uri:e},isLoading:!0});if(void 0!==s)return $.yy.fromPartial({tracks:s.map(er),nextPageUrl:n,metadata:i,isLoading:!1});throw new Error("Invalid 'ContextPage' provided! Either 'url' or 'items' needs to be set.")}function er(e){return $.KY.fromPartial({uid:e.uid??"",uri:e.uri,metadata:e.metadata??{}})}var tr=n(23452);function nr(e){return new tr.GO(function(e){switch(e){case $.It.SUCCESS:return tr.CW.SUCCESS;case $.It.PLAYBACK_STUCK:return tr.CW.PLAYBACK_STUCK;case $.It.PLAYBACK_ERROR:return tr.CW.PLAYBACK_ERROR;case $.It.LICENSE_CHANGE:return tr.CW.LICENSE_CHANGE;case $.It.PLAY_RESTRICTED:return tr.CW.PLAY_RESTRICTED;case $.It.STOP_RESTRICTED:return tr.CW.STOP_RESTRICTED;case $.It.UPDATE_RESTRICTED:return tr.CW.UPDATE_RESTRICTED;case $.It.PAUSE_RESTRICTED:return tr.CW.PAUSE_RESTRICTED;case $.It.RESUME_RESTRICTED:return tr.CW.RESUME_RESTRICTED;case $.It.SKIP_TO_PREV_RESTRICTED:return tr.CW.SKIP_TO_PREV_RESTRICTED;case $.It.SKIP_TO_NEXT_RESTRICTED:return tr.CW.SKIP_TO_NEXT_RESTRICTED;case $.It.SKIP_TO_NON_EXISTENT_TRACK:return tr.CW.SKIP_TO_NON_EXISTENT_TRACK;case $.It.SEEK_TO_RESTRICTED:return tr.CW.SEEK_TO_RESTRICTED;case $.It.TOGGLE_REPEAT_CONTEXT_RESTRICTED:return tr.CW.TOGGLE_REPEAT_CONTEXT_RESTRICTED;case $.It.TOGGLE_REPEAT_TRACK_RESTRICTED:return tr.CW.TOGGLE_REPEAT_TRACK_RESTRICTED;case $.It.SET_OPTIONS_RESTRICTED:return tr.CW.SET_OPTIONS_RESTRICTED;case $.It.TOGGLE_SHUFFLE_RESTRICTED:return tr.CW.TOGGLE_SHUFFLE_RESTRICTED;case $.It.SET_QUEUE_RESTRICTED:return tr.CW.SET_QUEUE_RESTRICTED;case $.It.INTERRUPT_PLAYBACK_RESTRICTED:return tr.CW.INTERRUPT_PLAYBACK_RESTRICTED;case $.It.ONE_TRACK_UNPLAYABLE:return tr.CW.ONE_TRACK_UNPLAYABLE;case $.It.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED:return tr.CW.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED;case $.It.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED:return tr.CW.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED;case $.It.SKIP_TO_NON_EXISTENT_TRACK_AUTO_STOPPED:return tr.CW.SKIP_TO_NON_EXISTENT_TRACK_AUTO_STOPPED;case $.It.QUEUE_REVISION_MISMATCH:return tr.CW.QUEUE_REVISION_MISMATCH;case $.It.VIDEO_PLAYBACK_ERROR:return tr.CW.VIDEO_PLAYBACK_ERROR;case $.It.VIDEO_GEOGRAPHICALLY_RESTRICTED:return tr.CW.VIDEO_GEORESTRICTED;case $.It.VIDEO_UNSUPPORTED_PLATFORM_VERSION:return tr.CW.VIDEO_UNSUPPORTED_PLATFORM_VERSION;case $.It.VIDEO_UNSUPPORTED_CLIENT_VERSION:return tr.CW.VIDEO_UNSUPPORTED_CLIENT_VERSION;case $.It.VIDEO_UNSUPPORTED_KEY_SYSTEM:return tr.CW.VIDEO_UNSUPPORTED_KEY_SYSTEM;case $.It.VIDEO_MANIFEST_DELETED:return tr.CW.VIDEO_MANIFEST_DELETED;case $.It.VIDEO_COUNTRY_RESTRICTED:return tr.CW.VIDEO_COUNTRY_RESTRICTED;case $.It.VIDEO_UNAVAILABLE:return tr.CW.VIDEO_UNAVAILABLE;case $.It.VIDEO_CATALOGUE_RESTRICTED:return tr.CW.VIDEO_CATALOGUE_RESTRICTED;case $.It.INVALID:return tr.CW.INVALID;case $.It.TIMEOUT:return tr.CW.TIMEOUT;case $.It.PLAYBACK_REPORTING_ERROR:return tr.CW.PLAYBACK_REPORTING_ERROR;case $.It.AUDIOBOOK_NOT_PLAYABLE:return tr.CW.AUDIOBOOK_NOT_PLAYABLE;case $.It.UNKNOWN:return tr.CW.UNKNOWN;case $.It.UNRECOGNIZED:default:return tr.CW.UNRECOGNIZED}}(e.code),e.data.reasons?e.data.reasons.split(","):[])}function sr(e){return $.a0.fromPartial({featureIdentifier:e.featureIdentifier??"",featureVersion:e.featureVersion??"",referrerIdentifier:e.referrerIdentifier??"",viewUri:e.viewURI??"",externalReferrer:e.externalReferrer??""})}function ir(e){return $.ee.fromPartial({disallowPausingReasons:e?.disallowPausingReasons,disallowResumingReasons:e?.disallowResumingReasons,disallowSeekingReasons:e?.disallowSeekingReasons,disallowSkippingPrevReasons:e?.disallowSkippingPreviousReasons,disallowSkippingNextReasons:e?.disallowSkippingNextReasons,disallowTogglingRepeatContextReasons:e?.disallowTogglingRepeatContextReasons,disallowTogglingRepeatTrackReasons:e?.disallowTogglingRepeatTrackReasons,disallowTogglingShuffleReasons:e?.disallowTogglingShuffleReasons})}function rr(e,{shuffle:t,repeat:n}){const s=$.aK.fromPartial({});return void 0!==t?s.shufflingContext={value:t}:(0,Z.Gi)(e.uri)&&(s.shufflingContext={value:!1}),void 0!==n?(s.repeatingContext={value:n!==Li.Su.REPEAT_NONE},s.repeatingTrack={value:n===Li.Su.REPEAT_TRACK}):(0,Z.Gi)(e.uri)&&(s.repeatingContext={value:!1},s.repeatingTrack={value:!1}),s}function ar(e,t){return $.c7.fromPartial({skipTo:void 0!==t.skipTo?(n=t.skipTo,{pageUrl:n.pageURL??"",pageIndex:void 0!==n.pageIndex?{value:BigInt(n.pageIndex)}:void 0,trackUid:n.uid??"",trackUri:n.uri??"",trackIndex:void 0!==n.index?{value:BigInt(n.index)}:void 0}):void 0,seekTo:void 0!==t.seekTo?{value:BigInt(t.seekTo)}:void 0,playerOptionsOverride:rr(e,t)});var n}function or(e){return{feature_identifier:e.featureIdentifier,feature_version:e.featureVersion??"",referrer_identifier:e.referrerIdentifier??"",view_uri:e.viewURI??"",external_referrer:e.externalReferrer??"",device_identifier:""}}function lr(e,t){const n={},s=function(e,{shuffle:t,repeat:n}){const s={};return void 0!==t?s.shuffling_context=t:(0,Z.Gi)(e.uri)&&(s.shuffling_context=!1),void 0!==n?(s.repeating_context=n!==Li.Su.REPEAT_NONE,s.repeating_track=n===Li.Su.REPEAT_TRACK):(0,Z.Gi)(e.uri)&&(s.repeating_context=!1,s.repeating_track=!1),s}(e,t);0!==Object.keys(s).length&&(n.player_options_override=s);const i=function({skipTo:e}){const{pageURL:t,pageIndex:n,uid:s,uri:i,index:r}=e??{};if(void 0===s&&void 0===i&&void 0===r&&void 0===n&&void 0===t)return;const a={};return void 0!==t&&(a.page_url=t),void 0!==n&&(a.page_index=n),void 0!==s&&(a.track_uid=s),void 0!==i&&(a.track_uri=i),void 0!==r&&(a.track_index=r),a}(t);return void 0!==i&&(n.skip_to=i),void 0!==t.seekTo&&(n.seek_to=t.seekTo),n}async function cr(e,t,n,s,i,r){var a,o,l;return t&&await(a=n.maybeResync(s.uri),o=750,Promise.race([a,new Promise((e=>setTimeout(e,o)))])),await e.post(`sp://core-playlist/v1/playlist/${s.uri}/play`,{prepare_play_options:lr(s,r),play_origin:or(i),...s.metadata?{context_metadata:s.metadata}:{},logging_params:(l=r.loggingParams,{command_initiated_time:Date.now(),interaction_ids:l?.interactionId?[l.interactionId]:[],page_instance_ids:l?.pageInstanceId?[l.pageInstanceId]:[]})})}function dr({uri:e,url:t,nextPageUrl:n,items:s,metadata:i}){if(void 0!==t)return wt.yy.fromPartial({pageUrl:t,nextPageUrl:n,metadata:{...i,page_uri:e},isLoading:!0});if(void 0!==s)return wt.yy.fromPartial({tracks:s.map(er),nextPageUrl:n,metadata:i,isLoading:!1});throw new Error("Invalid 'ContextPage' provided! Either 'url' or 'items' needs to be set.")}function ur({uri:e,url:t,pages:n,metadata:s,restrictions:i}){return void 0!==n?wt.es.fromPartial({uri:e,url:t,pages:n.map(dr),metadata:s,restrictions:ir(i),isLoading:!1}):wt.es.fromPartial({uri:e,url:t??`context://${e}`,metadata:s,isLoading:!0})}function mr(e){if(e.error!==$.E7.OK)throw new Error(`Command failed with code '${e.error}' and reasons '${e.reasons}'`);return{}}function pr(e){return $.yg.fromPartial({commandInitiatedTime:{value:BigInt(Date.now())},interactionIds:e?.interactionId?[e.interactionId]:void 0,pageInstanceIds:e?.pageInstanceId?[e.pageInstanceId]:void 0})}async function hr(e,t,n,s){return e.setQueue($.aW.fromPartial({nextTracks:t,prevTracks:n,queueRevision:BigInt(s),loggingParams:pr()}))}n(78620);let gr=!1;class fr extends Ri.GO{constructor(e,t){super(),this._client=e;let n=null,s=null;this._client.getState($.Ep.fromPartial({prevTracksCap:{value:BigInt(0)},nextTracksCap:{value:BigInt(t)}}),(e=>{const t=function(e){const t={timestamp:Number(e.timestamp),context:{uri:e.contextUri,url:e.contextUrl,metadata:e.contextMetadata},index:{pageURI:e.pageMetadata.page_uri??null,pageIndex:void 0!==e.index?.page?Number(e.index.page):null,itemIndex:void 0!==e.index?.track?Number(e.index.track):null},item:null,shuffle:null,repeat:null,speed:e.playbackSpeed?.value??null,positionAsOfTimestamp:Number(e.positionAsOfTimestamp?.value??0),duration:void 0!==e.duration?Number(e.duration.value):null,hasContext:e.isPlaying&&void 0!==e.track,isPaused:e.isPaused,isBuffering:e.isBuffering,restrictions:void 0!==e.restrictions?qi(e.restrictions):Yi,previousItems:[],nextItems:[],playbackQuality:void 0!==e.playbackQuality?Xi(e.playbackQuality):Qi,playbackId:e.playbackId.length>0?(0,$i.i_)(e.playbackId):null,sessionId:e.sessionId,signals:e.signals};return void 0!==e.options&&(t.shuffle=e.options.shufflingContext,e.options.repeatingTrack?t.repeat=Li.Su.REPEAT_TRACK:e.options.repeatingContext?t.repeat=Li.Su.REPEAT_CONTEXT:t.repeat=Li.Su.REPEAT_NONE),void 0!==e.track&&void 0!==e.track.contextTrack&&(t.item=zi(e.track,e.track.contextTrack)),e.prevTracks.forEach((e=>{e.contextTrack&&t.previousItems.push(zi(e,e.contextTrack))})),e.nextTracks.forEach((e=>{e.contextTrack&&t.nextItems.push(zi(e,e.contextTrack))})),t}(e);e.timestamp===BigInt(0)?null===s&&(s=setTimeout((()=>{this.emit(Ri.AU.UPDATE,t)}),500)):(null!==s&&(clearTimeout(s),s=null),this.emit(Ri.AU.UPDATE,t),null!==n&&function(e,t){const n=e.contextUri===t.contextUri,s=e.sessionId===t.sessionId,i=(r=e.playbackId,a=t.playbackId,r.byteLength===a.byteLength&&r.every(((e,t)=>e===a[t])));var r,a;const o=t.isPaused,l=t.positionAsOfTimestamp?.value===BigInt(0);return n&&s?(o||(gr=!0),!i&&gr&&o&&l):(gr=!1,!1)}(n,e)&&this.emit(Ri.AU.CONTEXT_WRAPAROUND,{contextURI:e.contextUri,previousItemURI:n.track?.contextTrack?.uri??null}),n=e)})),this._client.getError($.eY.fromPartial({}),(e=>{this.emit(Ri.AU.ERROR,nr(e))}))}}n(91372);var yr=n(36788);class _r{_queue=null;timeoutId=null;constructor(e,t,n,s){this._client=e,this._events=t,this.getRepeatMode=n,this._shouldRenderSecondRepeatedContextItemsIteration=s,this._client.getQueue($.EF.fromPartial({}),(e=>{const t=!e.track?.contextTrack||0===e.nextTracks.length;this._queue=e,this._queueState=this.convertQueueState(e,this.getRepeatMode()),clearTimeout(this.timeoutId??0),t?this.timeoutId=setTimeout((()=>{this._events.emitQueueUpdate(this._queueState)}),500):this._events.emitQueueUpdate(this._queueState)})),this._queueState=(0,yr.mi)([],this.getRepeatMode(),this._shouldRenderSecondRepeatedContextItemsIteration)}convertQueueState(e,t){const n=e?.track&&e.track.contextTrack?zi(e.track,e.track.contextTrack):null,s=this._queue?.nextTracks?.filter((e=>e.contextTrack)).map((e=>zi(e,e.contextTrack)))??[],i=n?[n,...s]:s;return(0,yr.mi)(i,t,this._shouldRenderSecondRepeatedContextItemsIteration)}isSameItem(e,t){return e.uid&&t.contextTrack?.uid?e.uid===t.contextTrack?.uid:e.uri===t.contextTrack?.uri}isQueued(e){return"queue"===e.provider}markAsQueued(e){return $._q.fromPartial({...e,contextTrack:$.KY.fromPartial({...e.contextTrack,metadata:{...e.contextTrack?.metadata,is_queued:"true"}}),provider:"queue"})}createQueueItem(e,t){return $._q.fromPartial({contextTrack:$.KY.fromPartial({uri:e.uri,metadata:{is_queued:t.toString()}}),provider:t?"queue":"context"})}async addToQueue(e){if(null===this._queue)return;const t=e.map((e=>this.createQueueItem(e,!0))),n=[...this._queue?.nextTracks||[]],s=n.map((e=>e.provider)).lastIndexOf("queue");n.splice(s+1,0,...t),await hr(this._client,n,this._queue.prevTracks,this._queue.queueRevision.toString())}async removeFromQueue(e){null!==this._queue&&await hr(this._client,this._queue.nextTracks.filter((t=>!e.some((e=>this.isSameItem(e,t))))),this._queue.prevTracks,this._queue.queueRevision.toString())}async clearQueue(){null!==this._queue&&await hr(this._client,this._queue.nextTracks.filter((e=>!this.isQueued(e))),this._queue.prevTracks,this._queue.queueRevision.toString())}async reorderQueue(e,t){if(null===this._queue)return;const n=[...this._queue?.nextTracks||[]];await hr(this._client,(0,yr.y_)(e,n,t,this.isSameItem,this.isQueued,this.markAsQueued),this._queue.prevTracks,this._queue.queueRevision.toString())}async insertIntoQueue(e,t){if(null===this._queue)return;const n=[...this._queue?.nextTracks||[]];await hr(this._client,(0,yr.gB)(e,n,t,this.isSameItem,this.isQueued,this.createQueueItem),this._queue.prevTracks,this._queue.queueRevision.toString())}getQueue(){return this._queueState}getInternalQueue(){return this._queue}}const br=e=>(0,Z.Gi)(e);var vr=n(3696),xr=n(14532);var Cr=n(19364);function Er(e){return`context://${e}`}class Sr{_state=null;forcedShuffle=!1;constructor(e,t,n,s,i,r,a,o,l,c,d,u){this._cosmos=e,this._prefs=t,this._contextPlayer=n,this._collection=s,this._playlistServiceClient=i,this._contextualShuffle=r,this._smartShuffleEligibility=a,this._defaultFeatureVersion=o,this._isSmartShuffleEnabled=l,this._isResyncBeforePlayPlaylistEnabled=c,this._playlistResyncerAPI=d,this._shouldRenderSecondRepeatedContextItemsIteration=u,this._events=new fr(this._contextPlayer,50),this._queue=new _r(this._contextPlayer,this._events,(()=>this._state?.repeat??Li.Su.REPEAT_NONE),this._shouldRenderSecondRepeatedContextItemsIteration),this._events.addListener(Ri.AU.UPDATE,(({data:e})=>{this._state=e,this.forcedShuffle&&e&&!1===e.shuffle&&e.restrictions.canToggleShuffle&&!br(e.context.uri)&&this.setShuffle(!0)})),this.referrer="PlayerCore_UnknownReferrer"}setDefaultFeatureVersion(e){void 0===e.featureVersion&&(e.featureVersion=this._defaultFeatureVersion)}getCapabilities(){return{canChangeSpeed:!0,canChangeVolume:!0,canPlayMultipleContextPages:!0,maxNextTracks:50,hasDecoratedQueue:!0}}getEvents(){return this._events}getState(){return this._state}getReferrer(){return this.referrer}setReferrer(e){this.referrer=e}async play(e,t,n={}){const s={...n},i={...e};if("your_library"===t.featureIdentifier&&n.skipTo?.index){const e=Math.floor(n.skipTo.index/150),t={index:n.skipTo.index-150*e,pageIndex:e};s.skipTo={...s.skipTo,...t}}if(this.forcedShuffle&&!br(i.uri))s.shuffle=!0;else if(this._isSmartShuffleEnabled){const e=(0,Z.nX)(i.uri)?.type===Z.cH.COLLECTION;let t=i.uri;const n=await(this._contextualShuffle?.getContextualShuffleMode(i.uri))??xr.u.OFF;n===xr.u.SMART_SHUFFLE&&e&&(({lensUri:t}=await this._smartShuffleEligibility.getEligibility(i.uri)),i.url=Er((0,Cr.OS)(t,!0))),s.shuffle=(0,vr.s)(n),((e,t,n)=>{(0,Z.mS)(e)?n.requestLenses(ds.Go1.fromPartial({uri:e,lenses:[{identifier:"enhance",active:t}]})):Promise.resolve(null)})(t,n===xr.u.SMART_SHUFFLE,this._playlistServiceClient)}if(this._events.emitPlaySync(i,t,s))return;this.setDefaultFeatureVersion(t);const r=(0,Z.mS)(i.uri),a=(0,Z.W8)(i.uri)&&!i.uri.endsWith("your-episodes")||(0,Z._C)(i.uri)||(0,Z.uu)(i.uri),o=!!i.url;a&&!o?await async function(e,t,n,s){const i=wt.eY.fromPartial({sort:t.metadata?.[Li.WE.LIST_UTIL_SORT],filter:t.metadata?.[Li.WE.LIST_UTIL_FILTER],context:ur(t),preparePlayOptions:ar(t,s),playOrigin:sr(n),loggingParams:pr(s.loggingParams)}),r=(0,Z.nX)(t.uri);return r?.type===Z.cH.COLLECTION_ARTIST?(i.id=r.id,await e.playArtist(i)):r?.type===Z.cH.COLLECTION_ALBUM?(i.id=r.id,await e.playAlbum(i)):await e.playTracks(i)}(this._collection,i,t,s):r&&!o?await cr(this._cosmos,this._isResyncBeforePlayPlaylistEnabled,this._playlistResyncerAPI,i,t,s):await async function(e,t,n,s){return e.play($.kV.fromPartial({preparePlayRequest:$.IF.fromPartial({context:Ji(t),playOrigin:sr(n),options:ar(t,s)}),loggingParams:pr(s.loggingParams)})).then(mr)}(this._contextPlayer,i,t,s)}async pause(){this._events.emitPauseSync()||await async function(e){return e.pause($.Yf.fromPartial({loggingParams:pr()})).then(mr)}(this._contextPlayer)}async resume(){this._events.emitResumeSync()||await async function(e){return e.resume($._i.fromPartial({loggingParams:pr()})).then(mr)}(this._contextPlayer)}async skipToNext(e){this._events.emitSkipToNextSync()||await async function(e,t,n){const s={};return void 0!==n&&t&&(s.track=t.nextTracks.find((e=>(!n.uid||e.contextTrack?.uid===n.uid)&&e.contextTrack?.uri===n.uri))?.contextTrack),e.skipNext($.Yp.fromPartial({...s,loggingParams:pr()})).then(mr)}(this._contextPlayer,this._queue.getInternalQueue(),e)}async skipTo(e){this._events.emitSkipToNextSync()||await async function(e,t){const n={track:t};return e.skipNext($.Yp.fromPartial({...n,loggingParams:pr()})).then(mr)}(this._contextPlayer,er(e))}async skipToPrevious(){this._events.emitSkipToPreviousSync()||await async function(e){return e.skipPrev($.aQ.fromPartial({allowSeeking:!0,loggingParams:pr()})).then(mr)}(this._contextPlayer)}async seekTo(e){await async function(e,t,n=null){return e.seekTo($.uK.fromPartial({position:BigInt(Math.floor(t)),relative:$.cj.BEGINNING,options:{onlyForPlaybackId:n??void 0},loggingParams:pr()})).then(mr)}(this._contextPlayer,e,this._state?.playbackId?(0,$i.gP)(this._state.playbackId):null)}async seekBy(e){await async function(e,t,n=null){return e.seekTo($.uK.fromPartial({position:BigInt(Math.floor(t)),relative:$.cj.CURRENT,options:{onlyForPlaybackId:n??void 0},loggingParams:pr()})).then(mr)}(this._contextPlayer,e,this._state?.playbackId?(0,$i.gP)(this._state.playbackId):null)}async seekForward(e){await this.seekBy(e)}async seekBackward(e){await this.seekBy(-e)}async setShuffle(e){await async function(e,t){return e.setShufflingContext($.Qh.fromPartial({shufflingContext:t,loggingParams:pr()})).then(mr)}(this._contextPlayer,this.forcedShuffle||e)}async setRepeat(e){await async function(e,t){let n=!1,s=!1;switch(t){case Li.Su.REPEAT_NONE:n=!1,s=!1;break;case Li.Su.REPEAT_CONTEXT:n=!0,s=!1;break;case Li.Su.REPEAT_TRACK:n=!0,s=!0}return e.setOptions($.yS.fromPartial({repeatingTrack:{value:s},repeatingContext:{value:n},loggingParams:pr()})).then(mr)}(this._contextPlayer,e)}async setSpeed(e){await async function(e,t){await e.set({entries:{"audio.episode.speed":{number:BigInt(Math.round(100*t))}}})}(this._prefs,e)}async canPlayEncryptedContent(){return!0}async refreshCurrentContext(){}async updateContext(e,t,n){t&&async function(e,t,n,s){e.updateContext($.c1.fromPartial({sessionId:t,context:n,loggingParams:pr(s?.loggingParams)})).then(mr)}(this._contextPlayer,e,t,n)}async sendSignal(e){await async function(e,t,n){return e.signal($.Y3.fromPartial({signalId:t,options:n,loggingParams:pr()}))}(this._contextPlayer,e)}canSendSignal(e){const t=this._state?.signals;return!!t&&(!(t.length<=0)&&t.includes(e))}async addToQueue(e){if(!this._events.emitQueueActionSync(Ri.UV.ADD))try{await this._queue.addToQueue(e),this._events.emitQueueActionComplete(Ri.UV.ADD)}catch(e){throw this._events.emitQueueActionComplete(Ri.UV.ADD,e instanceof Error?e:new Error("Unknown error object")),e}}async removeFromQueue(e){if(!this._events.emitQueueActionSync(Ri.UV.REMOVE))try{await this._queue.removeFromQueue(e),this._events.emitQueueActionComplete(Ri.UV.REMOVE)}catch(e){throw this._events.emitQueueActionComplete(Ri.UV.REMOVE,e instanceof Error?e:new Error("Unknown error object")),e}}async clearQueue(){if(!this._events.emitQueueActionSync(Ri.UV.CLEAR))try{await this._queue.clearQueue(),this._events.emitQueueActionComplete(Ri.UV.CLEAR)}catch(e){throw this._events.emitQueueActionComplete(Ri.UV.CLEAR,e instanceof Error?e:new Error("Unknown error object")),e}}async reorderQueue(e,t){if(!this._events.emitQueueActionSync(Ri.UV.REORDER))try{await this._queue.reorderQueue(e,t),this._events.emitQueueActionComplete(Ri.UV.REORDER)}catch(e){throw this._events.emitQueueActionComplete(Ri.UV.REORDER,e instanceof Error?e:new Error("Unknown error object")),e}}async insertIntoQueue(e,t){if(!this._events.emitQueueActionSync(Ri.UV.INSERT))try{await this._queue.insertIntoQueue(e,t),this._events.emitQueueActionComplete(Ri.UV.INSERT)}catch(e){throw this._events.emitQueueActionComplete(Ri.UV.INSERT,e instanceof Error?e:new Error("Unknown error object")),e}}getQueue(){return this._queue.getQueue()}getForcedShuffle(){return this.forcedShuffle}setForcedShuffle(e){this.forcedShuffle=e}async playAsNextInQueue(e){const t=e.map((e=>er(e)));await async function(e,t,n){await e.playAsNextInQueue($.KC.fromPartial({tracks:t,options:n,loggingParams:pr()}))}(this._contextPlayer,t)}}var wr=n(94584),Ir=n.n(wr),Ar=n(98896),Tr=n(97243);const kr={},Nr={policy:{folder:{rows:!0},playlist:{ownedBySelf:!0},request:kr}},Or={policy:{folder:{addTime:!0,rowId:!0,link:!0,name:!0,rows:!0},playlist:{addTime:!0,allows:{insert:!0,remove:!0},canReportAnnotationAbuse:!0,description:!0,duration:!0,formatListAttributes:!0,formatListType:!0,link:!0,loadState:!0,loaded:!0,name:!0,ownedBySelf:!0,owner:{link:!0,name:!0,username:!0},picture:!0,playable:!0,published:!0,rowId:!0,totalLength:!0},request:kr}},Pr={policy:{addTime:!0,addedBy:{image:!0,link:!0,name:!0,username:!0},album:{artist:{link:!0,name:!0},link:!0,name:!0,covers:!0},artist:{link:!0,name:!0},covers:!0,description:!0,discNumber:!0,formatListAttributes:!0,is19PlusOnly:!0,isExplicit:!0,isLocal:!0,language:!0,length:!0,link:!0,mediaTypeEnum:!0,name:!0,playable:!0,publishDate:!0,rowId:!0,show:{link:!0,name:!0,publisher:!0,covers:!0},trackNumber:!0,extension:[ds.k12.PODCAST_SUBSCRIPTIONS]}},jr={policy:{playlist:{allows:{insert:!0,remove:!0},canReportAnnotationAbuse:!0,containsEpisodes:!0,containsSpotifyTracks:!0,description:!0,duration:!0,followers:!0,formatListAttributes:!0,formatListType:!0,link:!0,madeFor:{image:!0,link:!0,name:!0,username:!0},name:!0,ownedBySelf:!0,owner:{image:!0,link:!0,name:!0,username:!0},picture:!0,playable:!0,published:!0,totalLength:!0,basePermission:!0,userCapabilities:!0,collaboratingUsers:{count:!0,limit:5,collaborator:{user:{username:!0,link:!0,name:!0,image:!0,thumbnail:!0},numberOfItems:!0,numberOfTracks:!0,numberOfEpisodes:!0,isOwner:!0}}},track:Pr.policy,episode:Pr.policy}};function Lr(e){return void 0===e?[]:function(...e){return e.filter((({url:e,label:t})=>e&&t)).map((({url:e,label:t})=>({url:e,label:t})))}({url:e.standardLink,label:"standard"},{url:e.smallLink,label:"small"},{url:e.largeLink,label:"large"},{url:e.xlargeLink,label:"xlarge"},{url:e.imageUri,label:"standard"},{url:e.thumbnailUri,label:"small"})}function Rr(e){return new Date(1e3*e)}function Dr(e){return{milliseconds:e}}function Mr(e){return{isPaywalled:e.podcastSubscription?.isPaywalled??!1,isUserSubscribed:e.podcastSubscription?.isUserSubscribed??!1}}function Ur(e){return{type:te.s.ARTIST,uri:e.link,name:e.name}}function Fr(e){return{type:te.s.ARTIST,uri:e.link,name:e.name}}function Br(e){return{type:te.s.ALBUM,uri:e.link,name:e.name,artist:e.artist&&Fr(e.artist),images:Lr(e.covers)}}function Gr(e,t){return{type:te.s.SHOW,uri:e.link,name:e.name,publisher:e.publisher,images:Lr(e.covers),mediaType:t}}function Vr(e,t){const n=as(e.extension);return{type:te.s.EPISODE,uri:e.link,name:e.name,description:e.description,duration:Dr(1e3*e.length),timeLeft:Dr(1e3*t.timeLeft),images:Lr(e.covers),isExplicit:e.isExplicit,isPlayable:t.isPlayable,languages:[e.language],release:(s=e.publishDate,{date:Rr(Number(s)).toISOString(),precision:"day"}),show:Gr(e.show,e.mediaTypeEnum),podcastSubscription:Mr(n),is19PlusOnly:e.is19PlusOnly};var s}function Hr(e,t){if(!e.item)throw new Error("Invalid playlist cosmos response!");return{items:e.item.map((e=>function(e){const t={uid:e.rowId,playIndex:null,addedAt:(n=e.addTime,void 0!==n?Rr(n).toISOString():null),addedBy:zr(e.addedBy),formatListAttributes:Yr(e.formatListAttributes)};var n,s,i;if(void 0!==e.trackMetadata&&void 0!==e.trackPlayState)return{...t,...(s=e.trackMetadata,i=e.trackPlayState,{type:te.s.TRACK,uri:s.link,name:s.name,album:Br(s.album),artists:s.artist.map(Ur),discNumber:s.discNumber,trackNumber:s.trackNumber,duration:Dr(1e3*s.length),isExplicit:s.isExplicit,isLocal:s.isLocal,isPlayable:i.isPlayable,is19PlusOnly:s.is19PlusOnly})};if(void 0!==e.episodeMetadata&&void 0!==e.episodePlayState)return{...t,...Vr(e.episodeMetadata,e.episodePlayState)};throw new Error("Invalid playlist cosmos response!")}(e))),offset:t||0,limit:e.item.length,totalLength:e.unrangedLength}}function Wr(e){return{type:te.s.USER,uri:e.link,username:e.username,displayName:e.displayName,images:Lr(e)}}function zr(e){return void 0===e||""===e.username?null:Wr(e)}function Yr(e){return e.reduce(((e,t)=>(e[t.key]=t.value,e)),{})}function Kr(e){return e.formatListType&&""!==e.formatListType?{type:e.formatListType,attributes:Yr(e.formatListAttributes)}:null}function qr(e){return{isOwner:e.isOwner,tracksAdded:e.numberOfItems,user:e.user&&Wr(e.user)}}function Qr(e){return{isOwner:e.isOwner,tracksAdded:e.numTracks,user:e.user&&Wr(e.user)}}function Xr(e,t){return t&&t.basePermissionLevel!==ds.myE.CONTRIBUTOR?{count:t?.numTotalMembers||0,items:(t?.members||[]).map(Qr)}:{count:e?.count||0,items:(e?.collaborator||[]).map(qr)}}function $r(e,t){return{type:te.s.PLAYLIST,uri:e.link,name:e.name,description:e.description,images:Lr(e.pictures),madeFor:zr(e.madeFor),owner:Wr(e.owner),totalLength:t?.totalLength??e.totalLength,unfilteredTotalLength:e.totalLength,totalLikes:t?.totalLikes||null,duration:t?.duration?(a=t.duration,{milliseconds:1e3*Number(a),isEstimate:!1}):null,isLoaded:e.isLoaded,isOwnedBySelf:e.ownedBySelf,isPublished:e.published,hasEpisodes:t?.hasEpisodes||null,hasSpotifyTracks:t?.hasSpotifyTracks||null,hasSpotifyAudiobooks:t?.hasSpotifyAudiobooks||null,canAdd:e.allows.canInsert,canRemove:e.allows.canRemove,canPlay:t?.isPlayable||null,formatListData:Kr(e),canReportAnnotationAbuse:e.canReportAnnotationAbuse,hasDateAdded:(r=e.formatListType,!r||!Tr.q.includes(r)),permissions:(n=t?.userCapabilities,s=t?.collaborators,i=t?.basePermission,n||s||i?{canView:!!n?.canView,canAdministratePermissions:n?.canAdministratePermissions||!1,canCancelMembership:n?.canCancelMembership||!1,isPrivate:i?.permissionLevel===ds.myE.BLOCKED}:null),collaborators:Xr(t?.collaborators,t?.members)};var n,s,i,r,a}function Jr(e){const t=e.item;let n=0,s=0;for(;t.length>0;){const e=t[0];e.folder?t.push(...e.folder.item):(!0===e.playlist?.playlistMetadata?.ownedBySelf&&n++,s++),t.shift()}return{ownedPlaylistCount:n,playlistCount:s}}function Zr(e){return"notFound"===e.loadState}function ea(e){return"forbidden"===e.loadState}function ta(e){const t=e.playlistMetadata;return Zr(t)||ea(t)?function(e,t){return{type:"placeholder",uri:t.link,addedAt:Rr(e.addTime),isNotFound:Zr(t),isForbidden:ea(t)}}(e,t):{addedAt:Rr(e.addTime),...$r(t)}}function na(e,t){const n=e.folderMetadata,s=(e.item||[]).map((e=>function(e,t){if(e.folder)return na(e.folder,t);if(e.playlist)return ta(e.playlist);throw new Error("Invalid playlist cosmos response!")}(e,t)));return s.forEach(t),{type:"folder",addedAt:Rr(e.addTime),items:s,name:n.name,uri:n.link}}function sa(e){return e===ds.myE.BLOCKED?"BLOCKED":e===ds.myE.CONTRIBUTOR?"CONTRIBUTOR":e===ds.myE.VIEWER?"VIEWER":"UNKNOWN"}function ia(e){return{canView:e?.canView??!1,canAdministratePermissions:e?.canAdministratePermissions??!1,canEditMetadata:e?.canEditMetadata??!1,canEditItems:e?.canEditItems??!1,canCancelMembership:e?.canCancelMembership??!1}}function ra(e){return{isFollowed:e.followState===ds.ArD.CAN_BE_UNFOLLOWED,isOwner:e.isOwner,permissionLevel:sa(e.permissionLevel),user:e.user&&Wr(e.user),songsAdded:e.numTracks}}function aa(e){return e.map(ra)}var oa=n(13748),la=n(19836);class ca extends la.a{_subscriptions=new Map;constructor(e,t,n){super(),this._subAggregator=e,this._endpoint=t,this._policy=n}onBatchChanged(e){this._subscriptions.forEach(((t,n)=>{e.has(n)||(t.cancel(),this._subscriptions.delete(n))})),e.forEach(((e,t)=>{this._subscriptions.has(t)||this._subscriptions.set(t,this._subAggregator.sub(`${this._endpoint}/${encodeURIComponent(t)}?start=0&length=0&updateOnIdenticalResponse=true`,(0,se.C)((()=>{this.emit(oa.Yh.UPDATE,{uri:t})}))(100,true),(()=>{}),this._policy))}))}}var da=n(77543),ua=n(93060),ma=n(50504);function pa(e){console.error(e)}class ha{_subscriptions=new Set;constructor(e){this._cosmos=e,this._aggregator=(0,pi.wp)(this.onBatchChanged.bind(this))}onBatchChanged(e){this._subscriptions.forEach((e=>e.cancel())),this._subscriptions.clear(),e.forEach(((e,t)=>{const n=ma.L.parse(t);this._subscriptions.add(this._cosmos.sub(n.uri,(t=>{e.forEach((({onSuccess:e})=>e(t)))}),(t=>{e.forEach((({onError:e})=>e(t)))}),n.body,n.headers))}))}sub(e,t,n=pa,s=null,i={}){const r=new ma.L(ma.c.SUB,e,i,s).stringify(),a={onSuccess:t,onError:n};return this._aggregator.subscribe(r,a),{cancel:()=>{this._aggregator.unsubscribe(r,a)}}}}function ga(e){return new ha(e)}var fa=n(19712),ya=n(15464),_a=n(69596),ba=n(99292),va=n(48092);function xa(e){return{metadata:{type:te.s.PLAYLIST,uri:e,name:"",description:"",images:[],madeFor:null,owner:{type:te.s.USER,uri:"",username:"",displayName:"",images:[]},totalLength:0,unfilteredTotalLength:0,totalLikes:null,duration:null,isLoaded:!1,isOwnedBySelf:!1,isPublished:!1,hasEpisodes:null,hasSpotifyTracks:null,hasSpotifyAudiobooks:null,canAdd:!1,canRemove:!1,canPlay:null,formatListData:null,canReportAnnotationAbuse:!1,hasDateAdded:!1,permissions:{isPrivate:!1,canView:!1,canAdministratePermissions:!1,canCancelMembership:!1},collaborators:null},contents:{totalLength:0,offset:0,limit:0,items:[]}}}var Ca=n(51228);function Ea(e){return Object.prototype.hasOwnProperty.call(e,"uid")}function Sa(e){const{before:t,after:n}=e;return"start"===t?{before:"start"}:void 0!==t?{before:Ea(t)?t.uid:t.uri}:"end"===n?{after:"end"}:void 0!==n?{after:Ea(n)?n.uid:n.uri}:{}}function wa(e){return e.some((e=>e.uid.length>0))?{rows:e.map((e=>e.uid))}:{uris:e.map((e=>e.uri))}}const Ia="sp://core-playlist/v1/playlist",Aa="?responseFormat=protobufJson";function Ta(e){return void 0===e?"":`&start=${e}`}function ka(e){return void 0===e?"":`&length=${e}`}class Na{constructor(e,t){this._cosmos=e,this._builder=t;const n=ga(e);this._events=function(e){return new ca(e,"sp://core-playlist/v1/playlist",{policy:{}})}(n)}getCapabilities(){return{canSort:!0,canFilter:!0,canModifyOffline:!0,canMoveMultipleItems:!0,canFetchAllTracks:!0,canDecorateAddedBy:!0,hasUidsGeneratedFromIndicies:!1,canAddAudiobooks:!1}}async getPlaylist(e,t={},n={}){const s=(0,ya.w)(n?.sort),i=(0,_a.A)((0,va.O8)(n?.filter)),r=Ta(n?.offset??0),a=ka(n?.limit??0);t.withSync&&this._cosmos.post(`${Ia}/${encodeURIComponent(e)}/resync`);try{const n=await this._cosmos.get(`${Ia}/${encodeURIComponent(e)}/${Aa}${s}${i}${r}${a}`,jr),o=Ar.uq.Eh.fromJSON(n);if(!o.playlist||!o.playlist.playlistMetadata)throw new Error("Invalid playlist cosmos response!");let l;t.hydrateCollaboratorsWithMembers&&(l=Ar.UV.ak.fromJSON(await this._cosmos.get("sp://core-playlist/v2/playlist/members",{uri:e})));const c=$r(o.playlist.playlistMetadata,{totalLength:o.unrangedLength,duration:o.duration,totalLikes:o.numFollowers,isPlayable:o.playable,hasEpisodes:o.containsEpisodes,hasSpotifyTracks:o.containsSpotifyTracks,hasSpotifyAudiobooks:void 0,userCapabilities:o.userCapabilities,collaborators:o.collaborators,basePermission:o.basePermission,members:l});return{metadata:c,contents:Hr(o)}}catch(t){if(Ir().isHttpError(t)&&403===t.status)return xa(e);throw t}}async getContents(e,t){const n=(0,ya.w)(t?.sort),s=(0,_a.A)((0,va.O8)(t?.filter)),i=Ta(t?.offset),r=ka(t?.limit);return Hr(Ar.uq.Eh.fromJSON(await this._cosmos.get(`${Ia}/${encodeURIComponent(e)}/rows${Aa}${n}${s}${i}${r}`,Pr)))}async getMetadata(e,t){return(await this.getPlaylist(e,t,{offset:0,limit:0})).metadata}getEvents(){return this._events}async applyModification(e,t,n=!0){const s=Ar.UX.uI.fromPartial(t);Object.keys(s).forEach((e=>{s[e]||delete s[e]}));if(!(await this._cosmos.post(`${Ia}/${encodeURIComponent(e)}${Aa}`,n?s:t)).success)throw new Error("Failed to apply playlist modification!")}async add(e,t,n,s){if(!this._events.emitAddSync(e,t,s))try{await this.applyModification(e,{operation:"add",uris:t,...Sa(n)}),this._events.emitAddComplete(e,null,t,s)}catch(n){throw this._events.emitAddComplete(e,(0,Ca.S)(n),t,s),n}}async move(e,t,n){if(!this._events.emitMoveSync(e,t))try{await this.applyModification(e,{operation:"move",rows:t.map((e=>e.uid)),...Sa(n)}),this._events.emitMoveComplete(e,null,t)}catch(n){throw this._events.emitMoveComplete(e,(0,Ca.S)(n),t),n}}async remove(e,t){if(!this._events.emitRemoveSync(e,t))try{await this.applyModification(e,{operation:"remove",...wa(t)}),this._events.emitRemoveComplete(e,null,t)}catch(n){throw this._events.emitRemoveComplete(e,(0,Ca.S)(n),t),n}}async uploadImage(e){return(0,da.e)(this._builder,e)}async updateDetails(e,t){if(this._events.emitUpdateSync(e,t))return;let n=null;const s=(0,Z.nX)(e).id;t.imageUploadToken&&(n=await(0,ua.A)(this._builder,s,t.imageUploadToken));const i={};if("name"in t){if(!t.name)throw Error("Can not set empty playlist name!");i.name=t.name}"description"in t&&(i.description=t.description),null!==n?i.picture=(0,$i.i_)(n):null===t.imageUploadToken&&(i.picture="");try{await this.applyModification(e,{operation:"set",attributes:i},!1),this._events.emitUpdateComplete(e,null,t)}catch(n){throw this._events.emitUpdateComplete(e,(0,Ca.S)(n),t),n}}async resolvePlaylistFormatURI(e){return(0,fa.E)(this._builder,e)}async getRecommendedTracks(e,t,n){return await(0,ba.M)(this._builder,e,t,n)}async getRecommendedBookUris(e,t,n){return await(0,ba.G)(this._builder,e,t,n)}async resync(e){await this._cosmos.post(`${Ia}/${encodeURIComponent(e)}/resync`)}sendItemSignal(e,t,n){throw new Error("Method not implemented.")}}var Oa=n(97376),Pa=n(60968);const ja="sp://core-playlist/v2/playlist";class La{constructor(e,t){this._cosmos=e,this._builder=t,this._events=new Pa.sn}getCapabilities(){return{}}getEvents(){return this._events}async getPermissionGrant(e,t){const n={operation:Pa.Gm.GET_PERMISSION_GRANT,uri:e};this._events.emitOperationSync(n);try{const s=await(0,Oa._2)(this._builder,e,t);return this._events.emitOperationComplete(n),s}catch(e){throw this._events.emitOperationComplete(n,e),e}}async claimPermissions(e,t){const n={operation:Pa.Gm.CLAIM_PERMISSION,uri:e,token:t};this._events.emitOperationSync(n);try{const s=await(0,Oa.WO)(this._builder,e,t);return this._events.emitOperationComplete(n),s}catch(e){throw this._events.emitOperationComplete(n,e),e}}async getMembers(e){const t=Ar.UV.ak.fromJSON(await this._cosmos.get(`${ja}/members`,{uri:e}));return{basePermissionLevel:sa(t.basePermissionLevel),capabilities:ia(t.capabilities),members:aa(t.members)}}subscribeToMembers(e,t){return this._cosmos.sub(`${ja}/members`,(e=>{const n=Ar.UV.ak.fromJSON(e),s={members:aa(n.members),capabilities:ia(n.capabilities),basePermissionLevel:sa(n.basePermissionLevel)};t(null,s)}),(e=>{t(e)}),{uri:e}).cancel}async removeMember(e,t){const n={operation:Pa.Gm.REMOVE_MEMBER,uri:e,username:t};this._events.emitOperationSync(n);try{await this._cosmos.post(`${ja}/set-member-permission`,{playlist_uri:e,username:t}),this._events.emitOperationComplete(n)}catch(e){throw this._events.emitOperationComplete(n,e),e}}async setMemberPermission(e,t,n){const s={operation:Pa.Gm.SET_MEMBER_PERMISSION,uri:e,permissionLevel:n};this._events.emitOperationSync(s);try{await this._cosmos.post(`${ja}/set-member-permission`,{playlist_uri:e,username:t,permission_level:n}),this._events.emitOperationComplete(s)}catch(e){throw this._events.emitOperationComplete(s,e),e}}async setBasePermission(e,t){const n={operation:Pa.Gm.SET_BASE_PERMISSION,uri:e,permissionLevel:t};this._events.emitOperationSync(n);try{await this._cosmos.post(`sp://core-playlist/v1/playlist/${encodeURIComponent(e)}/set-base-permission`,{permission_level:t}),this._events.emitOperationComplete(n)}catch(e){throw this._events.emitOperationComplete(n,e),e}}}var Ra=n(75552),Da=n(51696),Ma=n(26076);class Ua extends Ma.q{_subscription=null;constructor(e,t,n,s){super(),this._subAggregator=e,this._endpoint=t,this._policy=n,this._contains=s}subscribeToUpdates(){this._subscription=this._subAggregator.sub(`${this._endpoint}?start=0&length=0`,(0,se.C)(this.onUpdate.bind(this))(100,true),(()=>{}),this._policy)}unsubscribeFromUpdates(){null!==this._subscription&&(this._subscription.cancel(),this._subscription=null)}async onUpdate(){this.emit(Da.KB.UPDATE,null),this.onContainsItems(this._aggregator.getBatch())}async onContainsItems(e){if(e.size>0){const t=Array.from(e.keys()),n=await this._contains(t);this.emitUpdateItems(t,n)}}}var Fa=n(98512),Ba=n(99100),Ga=n(29836);const Va="sp://core-playlist/v1/rootlist",Ha="?responseFormat=protobufJson";const Wa={[Ra.kB.NAME]:"name",[Ra.kB.ADDED_AT]:"addTime",[Ra.kB.RECENTLY_PLAYED]:"recentlyPlayedRank",[Ra.kB.RELEVANCE]:"frecencyScore",[Ra.kB.AVAILABLE_OFFLINE]:"availableOffline"},za={[Ra._8.ASC]:"ASC",[Ra._8.DESC]:"DESC"};const Ya={[Ra.o5.TEXT]:"text"},Ka={[Ra.Kr.CONTAINS]:"contains"};class qa{_cache=null;_decorationCache=new J.uK(3e5);_inFlightCache=new J.Ut;constructor(e,t){this._cosmos=e,this._builder=t;const n=ga(e);this._events=function(e,t){return new Ua(e,"sp://core-playlist/v1/rootlist",{policy:{folder:{name:!0},playlist:{name:!0}}},t)}(n,this.contains.bind(this))}getCapabilities(){return{canSort:!0,canFilter:!0,canModifyOffline:!0}}async getMetadata(){const e=`${Va}${Ha}`;return Jr(Ar.kH.Eh.fromJSON(await this._inFlightCache.create(`metadata:${e}`,(()=>this._cosmos.get(e,Nr)))).root)}async getContents(e){const t=function(e){if(void 0===e)return"";const t=(0,Z.nX)(e);if(!t||t.type!==Z.cH.FOLDER)throw new Error("Invalid rootlist folder URI!");return`/${t.id}`}(e?.folderUri),n=function(e){if(!e)return"";const{field:t,order:n}=e;return`&sort=${encodeURIComponent(`${Wa[t]} ${n?za[n]:""}`.trim())}`}(e?.sort),s=function(e){if(!e?.value)return"";const{field:t,operator:n,value:s}=e;return`&filter=${encodeURIComponent(`${Ya[t]} ${Ka[n]} ${encodeURIComponent(s)}`)}`}((0,Ga.O8)(e?.filter)),i=(r=e?.offset,void 0===r?"":`&start=${r}`);var r;const a=(o=e?.limit,void 0===o?"":`&length=${o}`);var o;const l=(c=e?.flatten,void 0!==c&&c?"&flattenTree":"");var c;const d=`${Va}${t}${Ha}${n}${s}${i}${a}${l}`,u=Ar.kH.Eh.fromJSON(await this._inFlightCache.create(`contents:${d}`,(()=>this._cosmos.get(d,Or)))),m=new Set,p={...na(u.root,(e=>{(0,Ra.Yb)(e)&&m.add(e.uri)})),totalItemCount:u.unrangedLength};return this._cache=m,e?.decorateImagesAndOwner&&await(0,Ba.G)(this._builder,this._decorationCache,(0,Fa.M$)(p)),p}getEvents(){return this._events}onUpdateItems(e,t){if(null!==this._cache){const n=this._cache;e.forEach((e=>t?n.add(e):n.delete(e)))}this._events.emitUpdateItems(e,t)}async applyModification(e,t=!0){const n=Ar.UX.uI.fromPartial(e);""===n.before&&delete n.before,""===n.after&&delete n.after;const s=await this._cosmos.post(`${Va}${Ha}`,t?n:e);if(!s.success)throw new Error("Failed to apply rootlist modification!");return s}async renameFolder(e,t){await this.applyModification({operation:"set",attributes:{name:t},rows:[e.uri]})}async createFolder(e,t){return await this.applyModification({operation:"create",playlist:!1,...Sa(t),name:e})}async moveFolder(e,t){await this.move(e,t)}async removeFolder(e){await this.applyModification({operation:"remove",contents:!0,rows:[e]})}async createPlaylist(e,t,n){if(this._events.emitCreatePlaylistSync(e,t,n))return null;try{const s=await this.applyModification({operation:"create",playlist:!0,...Sa(t),name:e});return this._events.emitCreatePlaylistComplete(e,t,s.uri,null,n),s.uri}catch(s){return this._events.emitCreatePlaylistComplete(e,t,null,(0,Ca.S)(s),n),null}}async add(e,t){if(!this._events.emitAddSync(e,t))try{this.onUpdateItems(e,!0),await this.applyModification({operation:"add",uris:e,...Sa(t)}),this._events.emitAddComplete(e,t)}catch(n){this.onUpdateItems(e,!1),this._events.emitAddComplete(e,t,(0,Ca.S)(n))}}async move(e,t,n){if(!this._events.emitMoveSync(e,t))try{await this.applyModification({operation:"move",rows:[e.uri],...Sa(t)}),this._events.emitMoveComplete(e,t,null,n)}catch(n){this._events.emitMoveComplete(e,t,(0,Ca.S)(n))}}async remove(e){if(this._events.emitRemoveSync(e))return;const t=e.map((e=>e.uri));try{this.onUpdateItems(t,!1),await this.applyModification({operation:"remove",rows:t}),this._events.emitRemoveComplete(e)}catch(n){this.onUpdateItems(t,!0),this._events.emitRemoveComplete(e,(0,Ca.S)(n))}}async contains(e){return(await this._cosmos.post(`${Va}/contains`,{items:e})).found}containsSync(e){return null!==this._cache?this._cache.has(e):void 0}async getPublishedState(e){const t=await this._cosmos.get(`sp://core-playlist/v1/playlist/${encodeURIComponent(e)}?start=0&length=0&responseFormat=protobufJson`),n=Ar.uq.Eh.fromJSON(t);return n.playlist?.playlistMetadata?.published??!1}async setPublishedState(e,t){await this.applyModification({operation:"set",attributes:{published:t},rows:[e]},!1)}}class Qa extends la.a{_subscriptions=new Map;constructor(e){super(),this._dataClient=e}onBatchChanged(e){this._subscriptions.forEach(((t,n)=>{e.has(n)||(t.cancel(),this._subscriptions.delete(n))})),e.forEach(((e,t)=>{this._subscriptions.has(t)||this._dataClient.subscribe({uri:t,query:ds.UzW.fromPartial({range:{start:0,length:0},updateThrottlingMs:100,showUnavailable:!0}),policy:{playlist:ds.W2Z.fromPartial({name:!0,description:!0,picture:!0}),item:void 0,track:void 0,episode:void 0}},(()=>{this.emit(oa.Yh.UPDATE,{uri:t})}))}))}}const Xa=ds.YN8.fromPartial({username:!0,link:!0,name:!0,image:!0,thumbnail:!0,color:!0}),$a=ds.W2Z.fromPartial({link:!0,name:!0,loaded:!0,totalLength:!0,duration:!0,description:!0,picture:!0,playable:!0,canReportAnnotationAbuse:!0,followers:!0,ownedBySelf:!0,published:!0,formatListType:!0,formatListAttributes:!0,containsSpotifyTracks:!0,containsTracks:!0,containsEpisodes:!0,owner:Xa,madeFor:Xa,allows:{insert:!0,remove:!0},numberOfEpisodes:!0,numberOfTracks:!0,collaboratingUsers:{count:!0,limit:5,collaborator:{user:Xa,numberOfItems:!0,numberOfTracks:!0,numberOfEpisodes:!0,isOwner:!0}},basePermission:!0,userCapabilities:!0,extension:[],lenses:!0,lengthIgnoringTextFilter:!0,numberOfItemsPerLinkType:!0}),Ja=ds.UJJ.fromPartial({hasLyrics:!0,link:!0,name:!0,length:!0,playable:!0,isAvailableInMetadataCatalogue:!0,locallyPlayable:!0,playableLocalTrack:!0,discNumber:!0,trackNumber:!0,isExplicit:!0,previewId:!0,isLocal:!0,isPremiumOnly:!0,playableTrackLink:!0,popularity:!0,is19PlusOnly:!0,trackDescriptors:!0,extension:[ds.k12.VIDEO_ASSOCIATIONS]}),Za=ds.imw.fromPartial({link:!0,name:!0,covers:!0}),eo=ds.UXH.fromPartial({link:!0,name:!0}),to=ds.Kel.fromPartial({track:Ja,rowId:!0,addTime:!0,formatListAttributes:!0,addedBy:Xa,album:{album:Za,artist:eo},artist:eo}),no=ds.WKS.fromPartial({link:!0,length:!0,name:!0,number:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,publishDate:!0,extension:[ds.k12.PODCAST_SUBSCRIPTIONS],is19PlusOnly:!0,isBookChapter:!0,isPodcastShort:!0}),so=ds.Yv7.fromPartial({link:!0,name:!0,covers:!0,isMusicAndTalk:!0,extension:[],isBook:!0}),io=ds.E5p.fromPartial({episode:no,rowId:!0,addTime:!0,formatListAttributes:!0,addedBy:Xa,show:so,signals:!0,isRecommendation:!0,playedState:{playable:!0,timeLeft:!0}}),ro=ds._qB.fromPartial({uri:!0,collectionState:!0,extensionPolicy:[{linkType:ds.q_Y.SHOW,extension:ds.k12.SHOW_ACCESS},{linkType:ds.q_Y.SHOW,extension:ds.k12.COVER_IMAGE},{linkType:ds.q_Y.SHOW,extension:ds.k12.AUDIOBOOK_SPECIFICS},{linkType:ds.q_Y.SHOW,extension:ds.k12.PLAYABILITY},{linkType:ds.q_Y.SHOW,extension:ds.k12.SHOW_V4},{linkType:ds.q_Y.SHOW,extension:ds.k12.HTML_DESCRIPTION},{linkType:ds.q_Y.SHOW,extension:ds.k12.PODCAST_RATING},{linkType:ds.q_Y.SHOW,extension:ds.k12.AUDIOBOOK_GENRE}]});function ao(e){return void 0===e?[]:function(...e){return e.filter((({url:e,label:t})=>e&&t)).map((({url:e,label:t})=>({url:e,label:t})))}({url:e.standardLink,label:"standard"},{url:e.smallLink,label:"small"},{url:e.largeLink,label:"large"},{url:e.xlargeLink,label:"xlarge"},{url:e.imageUri,label:"standard"},{url:e.thumbnailUri,label:"small"})}function oo(e){return e?{type:te.s.USER,uri:e.link,username:e.username,displayName:e.displayName,images:ao(e)}:null}function lo(e){return e?new Date(1e3*e):null}function co(e){return e.reduce(((e,t)=>(e[t.key]=t.value,e)),{})}function uo(e){return{milliseconds:e}}function mo(e){return{isOwner:e.isOwner,tracksAdded:e.numberOfItems,user:e.user&&oo(e.user)}}function po(e){return{isOwner:e.isOwner,tracksAdded:e.numTracks,user:e.user&&oo(e.user)}}function ho(e,t){return t&&t.basePermissionLevel!==ds.myE.CONTRIBUTOR?{count:t?.numTotalMembers||0,items:(t?.members||[]).map(po)}:{count:e?.count||0,items:(e?.collaborator||[]).map(mo)}}function go(e){return!e||!Tr.q.includes(e)}function fo(e,t){const n=e.playlist?.playlistMetadata;if(!n)throw new Error("Invalid playlist response!");return{type:te.s.PLAYLIST,uri:n.link,name:n.name,description:n.description,images:ao(n.pictures),madeFor:oo(n.madeFor),owner:oo(n.owner),totalLength:e.unrangedLength,unfilteredTotalLength:n.lengthIgnoringTextFilter,totalLikes:e.numFollowers,duration:(l=e.duration,{milliseconds:1e3*Number(l),isEstimate:!1}),isLoaded:n.isLoaded,isOwnedBySelf:n.ownedBySelf,isPublished:n.published,hasEpisodes:e.containsEpisodes,hasSpotifyTracks:e.containsSpotifyTracks,hasSpotifyAudiobooks:!!e?.numberOfItemsPerLinkType?.find((({linkType:e})=>e===ds.q_Y.SHOW))?.numItems,canAdd:n.allows?.canInsert??!1,canRemove:n.allows?.canRemove??!1,canPlay:e.playable,formatListData:(a=n.formatListType,o=n.formatListAttributes,a?{type:a,attributes:co(o)}:null),canReportAnnotationAbuse:n.canReportAnnotationAbuse,hasDateAdded:go(n.formatListType),permissions:(s=e?.userCapabilities,i=e?.collaborators,r=e?.basePermission,s||i||r?{canView:!!s?.canView,canAdministratePermissions:s?.canAdministratePermissions||!1,canCancelMembership:s?.canCancelMembership||!1,isPrivate:r?.permissionLevel===ds.myE.BLOCKED}:null),collaborators:ho(e?.collaborators,t)};var s,i,r,a,o,l}function yo(e){return{type:te.s.ARTIST,uri:e.link,name:e.name}}function _o(e){return{type:te.s.ARTIST,uri:e.link,name:e.name}}function bo(e){return e?{type:te.s.ALBUM,uri:e.link,name:e.name,artist:e.artist&&_o(e.artist),images:ao(e.covers)}:null}function vo(e,t){const n=as(e.extension);return{type:te.s.TRACK,uri:e.link,name:e.name,album:bo(e.album),artists:e.artist.map(yo),discNumber:e.discNumber,trackNumber:e.trackNumber,duration:uo(1e3*e.length),isExplicit:e.isExplicit,isLocal:e.isLocal,isPlayable:t.isPlayable,is19PlusOnly:e.is19PlusOnly,hasAssociatedVideo:(n.videoAssociations?.videoAssociation?.length||0)>0}}function xo(e,t){return{type:te.s.SHOW,uri:e.link,name:e.name,publisher:e.publisher,images:ao(e.covers),mediaType:t}}function Co(e){return{isPaywalled:e.podcastSubscription?.isPaywalled??!1,isUserSubscribed:e.podcastSubscription?.isUserSubscribed??!1}}function Eo(e,t){const n=as(e.extension);return{type:te.s.EPISODE,uri:e.link,name:e.name,description:e.description,duration:uo(1e3*e.length),timeLeft:uo(1e3*t.timeLeft),images:ao(e.covers),isExplicit:e.isExplicit,isPlayable:t.isPlayable,languages:[e.language],release:(s=e.publishDate,{date:lo(Number(s)).toISOString(),precision:"day"}),show:xo(e.show,e.mediaTypeEnum),podcastSubscription:Co(n),is19PlusOnly:e.is19PlusOnly};var s}var So=n(84340),wo=n(86852),Io=n(89296);function Ao(e){return{isPaywalled:e.podcastSubscription?.isPaywalled??!1,isUserSubscribed:e.podcastSubscription?.isUserSubscribed??!1}}function To(e){return e.is19PlusOnly?{label:So.A7.NineteenPlus}:e.isExplicit?{label:So.A7.Explicit}:{label:So.A7.Unknown}}function ko(e){return void 0===e?[]:function(...e){return e.filter((({url:e})=>e)).map((({url:e,width:t,height:n})=>({url:e,width:t,height:n})))}({url:e.standardLink,width:300,height:300},{url:e.smallLink,width:64,height:64},{url:e.largeLink,width:640,height:640})}function No(e,t){const n=e.length-t.timeLeft;return{playPositionMilliseconds:1e3*n,playPosition:n,state:t.isPlayed?So.QF.Completed:So.QF.NotStarted}}function Oo(e){if(!e.publishDate)return null;const t=1e3*Number(e.publishDate);return{isoString:new Date(t).toISOString()}}function Po(e){return e.mediaTypeEnum===ds.sli.VODCAST||e.mediaTypeEnum===ds.sli.VIDEO?[wo.iM.Audio,wo.iM.Video]:e.mediaTypeEnum===ds.sli.AUDIO?[wo.iM.Audio]:[]}function jo(e,t){if(!e||!t)throw new Error("Error while constructing chapter metadata");const n=as(e.extension);return{type:te.s.CHAPTER,uri:e.link,name:e.name,duration:{milliseconds:1e3*e.length},description:e.description,coverArt:ko(e.covers)??[],audio:{items:[]},audioPreview:null,htmlDescription:n.htmlDescription?.htmlDescription||"",sharingInfo:null,contentRating:To(e),playedState:No(e,t),book:Ro(e.show),playability:Lo(t,n),isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly}}function Lo(e,t){const n=!!t?.podcastSubscription?.isPaywalled;return{playable:n?!!t?.podcastSubscription?.isUserSubscribed:e.isPlayable,reason:n?wo.IN.PaymentRequired:wo.IN.Unknown}}function Ro(e){return e?{uri:e.link,name:e.name,coverArt:ko(e.covers)??[],trailer:null}:null}function Do(e,t){if(!e||!t)throw new Error("Error while constructing episode");const n=as(e.extension);return{type:te.s.EPISODE,uri:e.link,name:e.name,description:e.description,htmlDescription:n.htmlDescription?.htmlDescription||"",episodeType:So.sF.Unknown,coverArt:ko(e.covers)??[],playedState:No(e,t),mediaTypes:Po(e),audio:{items:[]},audioPreview:null,sharingInfo:null,segmentsCount:n.podcastSegments?.playbackSegments.length||0,podcast:(s=e.show,s?{uri:s.link,name:s.name,coverArt:ko(s.covers)??[],trailer:null,showTypes:[]}:null),podcastSubscription:Ao(n),releaseDate:Oo(e),playability:Lo(t),contentRating:To(e),duration:{milliseconds:1e3*e.length},contentInformation:n.contentInformation||null,transcript:n.transcripts?.transcripts||null};var s}const Mo=e=>{switch(e){case d.e4.TRAILER:return wo.uW.TRAILER;case d.e4.CONTINUE_LISTENING:return wo.uW.CONTINUE_LISTENING;case d.e4.LATEST_PUBLISHED:return wo.uW.LATEST_PUBLISHED;case d.e4.UP_NEXT:return wo.uW.UP_NEXT;case d.e4.FIRST_PUBLISHED:return wo.uW.FIRST_PUBLISHED;default:return wo.uW.UNKNOWN}};function Uo(e){if(e?.item)return{type:Mo(e.label),data:Do(e.item.episodeMetadata,e.item.episodePlayState)}}function Fo(e){const t=e.auxiliarySections?.trailerSection?.item,n=t?function(e){const t=e.episodeMetadata,n=e.episodePlayState;if(!t||!n)throw new Error("Error while constructing trailer");return{type:te.s.EPISODE,uri:t.link,name:t.name,coverArt:ko(t.covers)??[],audio:{items:[]},audioPreview:null,sharingInfo:null,duration:{milliseconds:1e3*t.length},contentRating:To(t),mediaTypes:Po(t)}}(t):null,s=e.header?.showMetadata;if(!s)throw new Error("Error while constructing podcast metadata");const i=as(s.extension),r=(0,Io.y)(i.showAccess?.unlockedBy);return{type:te.s.SHOW,uri:s.link,name:s.name,description:s.description||"",htmlDescription:i.htmlDescription?.htmlDescription||"",coverArt:ko(s.covers)??[],trailer:n,topics:i.podcastTopics?.topics||[],podcastType:(o=s,o.isMusicAndTalk?"SHOW":"PODCAST"),showTypes:[],publisherName:s.publisher,consumptionOrder:(a=s.consumptionOrder,"sequential"===a?"sequential":"episodic"===a?"episodic":"recent"),nextBestEpisode:Uo(e.auxiliarySections?.nextBestEpisodeSection),gatedContentAccessReason:r,isLocked:null===r,rating:i?.rating};var a,o}function Bo(e,t){return{text:e,type:t}}function Go(e){const t=!1===e?.isUserMemberOfAtLeastOneGroup,n=e?.unlockedBy?.includes(Dt.YZ.ABP);return t&&!n}function Vo(e){const t=e.auxiliarySections?.trailerSection?.item,n=t?function(e){const t=e.episodeMetadata,n=e.episodePlayState;if(!t||!n)throw new Error("Error while constructing sample");return{type:te.s.CHAPTER,uri:t.link,name:t.name,coverArt:ko(t.covers)??[],audio:{items:[]},audioPreview:null,sharingInfo:null,duration:{milliseconds:1e3*t.length},contentRating:To(t),isPlayable:e.episodePlayState?.isPlayable??!1}}(t):null,s=e.header?.showMetadata;if(!s)throw new Error("Error while constructing book metadata");const i=as(s.extension),r=function(e){return e?.audiobookSpecifics?.credits?.narrators.map((e=>e.name))??[]}(i);return{type:te.s.AUDIOBOOK,uri:s.link,name:s.name,coverArt:ko(s.covers)??[],authorName:s.publisher,narrators:r,sample:n,htmlDescriptionPlain:i.htmlDescription?.htmlDescription,rating:i?.rating,isExplicit:s.isExplicit,duration:Number(i.audiobookSpecifics?.duration_ms),copyrights:(o=i.audiobookSpecifics?.credits?.publishers?.map((e=>e.name))??[],l=s.copyright,[...o.map((e=>Bo(e,"P"))),...l.map((e=>Bo(e,"C")))]),publishDate:i.audiobookSpecifics?.publish_date,price:i?.audiobookPrice,isLocked:Go(i?.showAccess),consumptionCapExplanation:i.showAccess?.consumptionCapped,signifierText:i.showAccess?.signifier?.text,latestPlayedEpisodeLink:e.header?.showPlayState?.latestPlayedEpisodeLink,topics:i.audiobookGenres?(a=i.audiobookGenres.genres,a.map((e=>({uri:e.destinationUri,title:e.contextualName})))):[]};var a,o,l}function Ho(e,t){const n=as(t);return{type:te.s.AUDIOBOOK,images:n.coverImage?.coverImages.map((e=>({url:`https://i.scdn.co/image/${(0,$i.i_)(e.fileId)}`,width:e.width,height:e.height})))??[],name:n.audiobookSpecifics?.main_title||"",uri:e,durationMs:Number(n.audiobookSpecifics?.duration_ms)||0,authorName:n.audiobookSpecifics?.credits?.authors?.map((e=>e.name)).join(g._s.getSeparator())||"",isLocked:Go(n.showAccess),isExplicit:n.showV4?.explicit,isOutOfMarket:!1===n.playability?.isPlayable&&n.playability?.reason===Wn.PLAYABILITY_VERDICT_COUNTRY_RESTRICTED,consumptionCapExplanation:n.showAccess?.consumptionCapped,description:n.htmlDescription?.htmlDescription,signifierText:n.showAccess?.signifier?.text,rating:{average:n.rating?.averageRating?.average,showAverage:!!n.rating?.averageRating?.showAverage},topics:n.audiobookGenres?.genres?.map((e=>({uri:e.destinationUri,title:e.contextualName})))??[]}}function Wo(e,t){if(!e?.item)throw new Error("Invalid playlist response!");return{items:e.item.map((e=>function(e){const t={uid:e.rowId,playIndex:null,addedAt:(n=e.addTime,lo(n)?.toISOString()??null),addedBy:oo(e.addedBy),formatListAttributes:co(e.formatListAttributes)};var n;return void 0!==e.trackMetadata&&void 0!==e.trackPlayState?{...t,...vo(e.trackMetadata,e.trackPlayState)}:void 0!==e.episodeMetadata&&void 0!==e.episodePlayState?{...t,...Eo(e.episodeMetadata,e.episodePlayState)}:void 0===e.trackMetadata&&void 0===e.episodeMetadata&&void 0!==e.extension?{...t,...Ho(e.uri,e.extension)}:null}(e))),offset:t||0,limit:e.item.length,totalLength:e.unrangedLength}}function zo(e){if(void 0===e)return ds.Wco.NO_SORT;const{field:t,order:n}=e;switch(t){case Xs.k.TITLE:return n===Qs._.DESC?ds.Wco.NAME_DESC:ds.Wco.NAME_ASC;case Xs.k.ADDED_AT:return n===Qs._.DESC?ds.Wco.ADD_TIME_DESC:ds.Wco.ADD_TIME_ASC;case Xs.k.ADDED_BY:return n===Qs._.DESC?ds.Wco.ADDED_BY_DESC:ds.Wco.ADDED_BY_ASC;case Xs.k.ALBUM:return n===Qs._.DESC?ds.Wco.ALBUM_NAME_DESC:ds.Wco.ALBUM_NAME_ASC;case Xs.k.ARTIST:return n===Qs._.DESC?ds.Wco.ARTIST_NAME_DESC:ds.Wco.ARTIST_NAME_ASC;case Xs.k.DURATION:return n===Qs._.DESC?ds.Wco.DURATION_DESC:ds.Wco.DURATION_ASC;default:return(0,ue.I)(t),ds.Wco.NO_SORT}}function Yo(e){if(void 0===e)return ds.aM7.NO_SORT;const{field:t,order:n}=e;switch(t){case Ra.kB.NAME:return n===Ra._8.DESC?ds.aM7.NAME_DESC:ds.aM7.NAME_ASC;case Ra.kB.ADDED_AT:return n===Ra._8.DESC?ds.aM7.ADD_TIME_DESC:ds.aM7.ADD_TIME_ASC;case Ra.kB.RECENTLY_PLAYED:return n===Ra._8.DESC?ds.aM7.RECENTLY_PLAYED_RANK_DESC:ds.aM7.RECENTLY_PLAYED_RANK_ASC;case Ra.kB.RELEVANCE:return n===Ra._8.DESC?ds.aM7.FRECENCY_SCORE_DESC:ds.aM7.FRECENCY_SCORE_ASC;case Ra.kB.AVAILABLE_OFFLINE:return n===Ra._8.DESC?ds.aM7.OFFLINE_STATE_DESC:ds.aM7.OFFLINE_STATE_ASC;default:return(0,ue.I)(t),ds.aM7.NO_SORT}}function Ko(e){const t=e?.statusCode??0;if(t<200||t>299)throw new Error(e?.reason??"Unknown error!")}class qo{constructor(e,t,n,s,i,r){this._playlistDataClient=e,this._playlistServiceClient=t,this._smartShuffleEligibilityAPI=n,this._builder=s,this._isAudiobookCurationEnabled=i,this._resyncAPI=r,this._events=new Qa(e)}getCapabilities(){return{canSort:!0,canFilter:!0,canModifyOffline:!0,canMoveMultipleItems:!0,canFetchAllTracks:!0,canDecorateAddedBy:!0,hasUidsGeneratedFromIndicies:!1,canAddAudiobooks:this._isAudiobookCurationEnabled}}getEvents(){return this._events}getPlaylistQuery(e){const t=[];return e?.includeRecommendations||t.push(ds.EZw.NOT_RECOMMENDATION),ds.UzW.fromPartial({supportedPlaceholderTypes:[ds.q_Y.SHOW],textFilter:(0,va.y6)(e?.filter),sortBy:zo(e?.sort),showUnavailable:!0,range:void 0!==e?.offset||void 0!==e?.limit?{start:e?.offset,length:e?.limit}:void 0,boolPredicates:t})}async getPlaylist(e,t,n){t?.withSync&&this.resync(e);const s=!n||0!==n.limit,i=this._playlistDataClient.get({uri:e,query:this.getPlaylistQuery(n),policy:ds.EpF.fromPartial({playlist:$a,track:s?to:void 0,episode:s?io:void 0,item:s?ro:void 0})});let r=Promise.resolve(null);t?.hydrateCollaboratorsWithMembers&&(r=this._playlistServiceClient.getMembers(ds.kvi.fromPartial({uri:e})));const[a,o]=await Promise.all([i,r]);return 403===a.status?.statusCode?xa(e):function(e,t){if(!e)throw new Error("Invalid playlist response!");return{metadata:fo(e,t),contents:Wo(e)}}(a.data,o?.response)}async getContents(e,t){return Wo((await this._playlistDataClient.get({uri:e,query:this.getPlaylistQuery(t),policy:ds.EpF.fromPartial({track:to,episode:io,item:ro})})).data)}async getMetadata(e,t){return(await this.getPlaylist(e,t,{offset:0,limit:0})).metadata}async resync(e){await this._resyncAPI.resync(e)}async add(e,t,n,s){if(!this._events.emitAddSync(e,t,s))try{Ko((await this._playlistServiceClient.modify(ds.sDS.fromPartial({uri:e,request:ds.uI9.fromPartial({operation:"add",uris:t,...Sa(n)})}))).status),this._events.emitAddComplete(e,null,t,s)}catch(n){throw this._events.emitAddComplete(e,(0,Ca.S)(n),t,s),n}}async move(e,t,n){if(!this._events.emitMoveSync(e,t))try{Ko((await this._playlistServiceClient.modify(ds.sDS.fromPartial({uri:e,request:ds.uI9.fromPartial({operation:"move",rows:t.map((e=>e.uid)),...Sa(n)})}))).status),this._events.emitMoveComplete(e,null,t)}catch(n){throw this._events.emitMoveComplete(e,(0,Ca.S)(n),t),n}}async remove(e,t){if(!this._events.emitRemoveSync(e,t))try{Ko((await this._playlistServiceClient.modify(ds.sDS.fromPartial({uri:e,request:ds.uI9.fromPartial({operation:"remove",...wa(t)})}))).status),this._events.emitRemoveComplete(e,null,t)}catch(n){throw this._events.emitRemoveComplete(e,(0,Ca.S)(n),t),n}}async uploadImage(e){return(0,da.e)(this._builder,e)}async setAttributes(e,t){Ko((await this._playlistServiceClient.modify(ds.sDS.fromPartial({uri:e,request:{operation:"set",attributes:t}}))).status)}async clearAttributes(e,t){Ko((await this._playlistServiceClient.modify(ds.sDS.fromPartial({uri:e,request:{operation:"clear",attributesToClear:t}}))).status)}async updateDetails(e,t){if(this._events.emitUpdateSync(e,t))return;const n={},s=[];if("name"in t){if(!t.name)throw Error("Can not set empty playlist name!");n.name=t.name}"description"in t&&(void 0===t.description||""===t.description?s.push(2):n.description=t.description);let i=null;if(t.imageUploadToken){const n=(0,Z.nX)(e).id;i=await(0,ua.A)(this._builder,n,t.imageUploadToken)}null!==i?n.picture=(0,$i.i_)(i):null===t.imageUploadToken&&s.push(3);try{Object.keys(n).length>0&&await this.setAttributes(e,n),s.length>0&&await this.clearAttributes(e,s),this._events.emitUpdateComplete(e,null,t)}catch(n){throw this._events.emitUpdateComplete(e,(0,Ca.S)(n),t),n}}async sendItemSignal(e,t,n){if(this._events.emitSendSignalSync(e,t,n))return;let s=e;(0,Z.W8)(e)&&({lensUri:s}=await this._smartShuffleEligibilityAPI.getEligibility(e));try{Ko((await this._playlistServiceClient.signalItem(ds.ov9.fromPartial({itemUri:s,itemId:t,signal:{identifier:n}}))).status),this._events.emitSendSignalComplete(e,t,n)}catch(s){this._events.emitSendSignalComplete(e,t,n,(0,Ca.S)(s))}}async resolvePlaylistFormatURI(e){return(0,fa.E)(this._builder,e)}async getRecommendedTracks(e,t,n){return await(0,ba.M)(this._builder,e,t,n)}async getRecommendedBookUris(e,t,n){return await(0,ba.G)(this._builder,e,t,n)}}function Qo(e=ds.myE.UNKNOWN){switch(e){case ds.myE.UNKNOWN:return"UNKNOWN";case ds.myE.BLOCKED:return"BLOCKED";case ds.myE.CONTRIBUTOR:return"CONTRIBUTOR";case ds.myE.VIEWER:return"VIEWER";case ds.myE.UNRECOGNIZED:return"UNKNOWN";default:return(0,ue.E)(e),"UNKNOWN"}}function Xo(e){switch(e){case"UNKNOWN":return ds.myE.UNKNOWN;case"BLOCKED":return ds.myE.BLOCKED;case"CONTRIBUTOR":return ds.myE.CONTRIBUTOR;case"VIEWER":return ds.myE.VIEWER;default:return(0,ue.E)(e),ds.myE.UNKNOWN}}function $o(e){return{canView:e?.canView??!1,canAdministratePermissions:e?.canAdministratePermissions??!1,canEditMetadata:e?.canEditMetadata??!1,canEditItems:e?.canEditItems??!1,canCancelMembership:e?.canCancelMembership??!1}}function Jo(e){return{isFollowed:e.followState===ds.ArD.CAN_BE_UNFOLLOWED,isOwner:e.isOwner,permissionLevel:Qo(e.permissionLevel),user:e.user&&oo(e.user),songsAdded:e.numTracks}}function Zo(e=[]){return e.map(Jo)}class el{constructor(e,t){this._client=e,this._builder=t,this._events=new Pa.sn}getCapabilities(){return{}}getEvents(){return this._events}async getPermissionGrant(e,t){const n={operation:Pa.Gm.GET_PERMISSION_GRANT,uri:e};this._events.emitOperationSync(n);try{const s=await(0,Oa._2)(this._builder,e,t);return this._events.emitOperationComplete(n),s}catch(e){throw this._events.emitOperationComplete(n,(0,Ca.S)(e)),e}}async claimPermissions(e,t){const n={operation:Pa.Gm.CLAIM_PERMISSION,uri:e,token:t};this._events.emitOperationSync(n);try{const s=await(0,Oa.WO)(this._builder,e,t);return this._events.emitOperationComplete(n),s}catch(e){throw this._events.emitOperationComplete(n,(0,Ca.S)(e)),e}}async getMembers(e){const t=(await this._client.getMembers({uri:e,limit:void 0})).response;return{basePermissionLevel:Qo(t?.basePermissionLevel),capabilities:$o(t?.capabilities),members:Zo(t?.members)}}subscribeToMembers(e,t){return this._client.subscribeToMembers({uri:e,limit:void 0},(e=>{const n=e.response,s={basePermissionLevel:Qo(n?.basePermissionLevel),capabilities:$o(n?.capabilities),members:Zo(n?.members)};t(null,s)})).cancel}async removeMember(e,t){const n={operation:Pa.Gm.REMOVE_MEMBER,uri:e,username:t};this._events.emitOperationSync(n);try{await this._client.setMemberPermission({playlistUri:e,username:t,permissionLevel:ds.myE.UNKNOWN,timeoutMs:1e3}),this._events.emitOperationComplete(n)}catch(e){throw this._events.emitOperationComplete(n,e),e}}async setMemberPermission(e,t,n){const s={operation:Pa.Gm.SET_MEMBER_PERMISSION,uri:e,permissionLevel:n};this._events.emitOperationSync(s);try{await this._client.setMemberPermission({playlistUri:e,username:t,permissionLevel:Xo(n),timeoutMs:1e3}),this._events.emitOperationComplete(s)}catch(e){throw this._events.emitOperationComplete(s,(0,Ca.S)(e)),e}}async setBasePermission(e,t){const n={operation:Pa.Gm.SET_BASE_PERMISSION,uri:e,permissionLevel:t};this._events.emitOperationSync(n);try{await this._client.setBasePermission({uri:e,request:{permissionLevel:Xo(t),timeoutMs:1e3}}),this._events.emitOperationComplete(n)}catch(e){throw this._events.emitOperationComplete(n,(0,Ca.S)(e)),e}}}class tl{constructor(e){this._playlistServiceClient=e,this.lastSync=new Map}async resync(e){await this._playlistServiceClient.resync(ds.Y3A.fromPartial({playlistUris:[e]})),this.lastSync.set(e,Date.now())}async maybeResync(e){const t=this.lastSync.get(e);(void 0===t||Date.now()-t>216e5)&&await this.resync(e)}}class nl extends Ma.q{_subscription=null;constructor(e,t){super(),this._dataClient=e,this._contains=t}subscribeToUpdates(){this._dataClient.subscribe({query:{range:{start:0,length:0},updateThrottlingMs:100},policy:{folder:{folder:{name:!0}},playlist:{playlist:{name:!0}}}},(()=>{this.onUpdate()}))}unsubscribeFromUpdates(){null!==this._subscription&&(this._subscription.cancel(),this._subscription=null)}async onUpdate(){this.emit(Da.KB.UPDATE,null),this.onContainsItems(this._aggregator.getBatch())}async onContainsItems(e){if(e.size>0){const t=Array.from(e.keys()),n=await this._contains(t);this.emitUpdateItems(t,n)}}}class sl{_cache=null;_decorationCache=new J.uK(3e5);constructor(e,t,n,s){var i,r;this._rootlistDataClient=e,this._rootlistModificationClient=t,this._playlistDataClient=n,this._builder=s,this._events=(i=this._rootlistDataClient,r=this.contains.bind(this),new nl(i,r))}getCapabilities(){return{canSort:!0,canFilter:!0,canModifyOffline:!0}}async getMetadata(){const e=await this._rootlistDataClient.get({policy:{folder:{folder:Nr.policy.folder},playlist:{playlist:Nr.policy.playlist}}});return Ko(e.status),Jr(e.data?.root)}async getContents(e){const t=await this._rootlistDataClient.get({query:{folderUri:e?.folderUri,sortBy:Yo(e?.sort),textFilter:(0,Ga.y6)(e?.filter),range:void 0!==e?.offset||void 0!==e?.limit?{start:e?.offset,length:e?.limit}:void 0,flattenTree:e?.flatten},policy:{folder:{folder:Or.policy.folder},playlist:{playlist:Or.policy.playlist}}});Ko(t.status);const n=new Set,s={...na(t.data?.root,(e=>{(0,Ra.Yb)(e)&&n.add(e.uri)})),totalItemCount:t.data?.unrangedLength};return this._cache=n,e?.decorateImagesAndOwner&&await(0,Ba.G)(this._builder,this._decorationCache,(0,Fa.M$)(s)),s}getEvents(){return this._events}onUpdateItems(e,t){if(null!==this._cache){const n=this._cache;e.forEach((e=>t?n.add(e):n.delete(e)))}this._events.emitUpdateItems(e,t)}async applyModification(e){const t=await this._rootlistModificationClient.modify({request:ds.uI9.fromPartial(e)});if(Ko(t.status),!t.response.success)throw new Error("Failed to apply rootlist modification!");return t.response}async renameFolder(e,t){await this.applyModification({operation:"set",attributes:{name:t},rows:[e.uri]})}async createFolder(e,t){return await this.applyModification({operation:"create",createItemKind:ds.UHw.CREATE_ITEM_KIND_FOLDER,...Sa(t),name:e})}async moveFolder(e,t){await this.move(e,t)}async removeFolder(e){await this.applyModification({operation:"remove",contents:!0,rows:[e]})}async createPlaylist(e,t,n){if(this._events.emitCreatePlaylistSync(e,t,n))return null;try{const s=await this.applyModification({operation:"create",createItemKind:ds.UHw.CREATE_ITEM_KIND_PLAYLIST,...Sa(t),name:e});return this._events.emitCreatePlaylistComplete(e,t,s.uri,null,n),s.uri}catch(s){return this._events.emitCreatePlaylistComplete(e,t,null,(0,Ca.S)(s),n),null}}async add(e,t){if(!this._events.emitAddSync(e,t))try{this.onUpdateItems(e,!0),await this.applyModification({operation:"add",uris:e,...Sa(t)}),this._events.emitAddComplete(e,t)}catch(n){this.onUpdateItems(e,!1),this._events.emitAddComplete(e,t,(0,Ca.S)(n))}}async move(e,t,n){if(!this._events.emitMoveSync(e,t))try{await this.applyModification({operation:"move",rows:[e.uri],...Sa(t)}),this._events.emitMoveComplete(e,t,null,n)}catch(n){this._events.emitMoveComplete(e,t,(0,Ca.S)(n))}}async remove(e){if(this._events.emitRemoveSync(e))return;const t=e.map((e=>e.uri));try{this.onUpdateItems(t,!1),await this.applyModification({operation:"remove",rows:t}),this._events.emitRemoveComplete(e)}catch(n){this.onUpdateItems(t,!0),this._events.emitRemoveComplete(e,(0,Ca.S)(n))}}async contains(e){const t=await this._rootlistDataClient.contains({items:e});return Ko(t.status),t.response?.found}containsSync(e){return null!==this._cache?this._cache.has(e):void 0}async getPublishedState(e){const t=await this._playlistDataClient.get({uri:e,query:{range:{start:0,length:0}},policy:{playlist:{published:!0}}});return Ko(t.status),t.data?.playlist?.playlistMetadata?.published??!1}async setPublishedState(e,t){await this.applyModification({operation:"set",attributes:{publishedState:t?ds._YC.PUBLISHED_STATE_PUBLISHED:ds._YC.PUBLISHED_STATE_NOT_PUBLISHED},rows:[e]})}}var il=n(27080),rl=n(64568);function al(e,t){const n=new il.gq(e);return new rl.V((e=>function(e,t){return e.addOnNewConnectionID({},(({id:e})=>t(e)))}(n,e)),((e,t,s)=>function(e,t,n,s){const i=e=>s({ident:e.Ident?.Ident??"",timestamp:Date.now(),attributes:e.Attributes,payloads:e.Payloads});return n?e.addOnPushedMessageForIdentFilter({Prefix:t},i):e.addOnPushedMessageForIdent({Ident:t},i)}(n,e,t,s)),t)}var ol=n(28020),ll=n(18944);const cl=ll.Iz.fromPartial({includeCollectionSongs:!0,includeYourEpisodes:!0,artistPolicy:{timestamp:!0,artistPolicy:{link:!0,name:!0,portraits:!0}},albumPolicy:{timestamp:!0,albumPolicy:{link:!0,name:!0,covers:!0},artistsPolicy:{link:!0,name:!0}},showPolicy:{timestamp:!0,showPolicy:{link:!0,name:!0,publisher:!0,covers:!0,extension:[d.k1.AUDIOBOOK_SPECIFICS,d.k1.SHOW_ACCESS]}},playlistPolicy:{timestamp:!0,playlistPolicy:{link:!0,name:!0,description:!0,picture:!0,owner:{link:!0,name:!0}}},trackPolicy:{timestamp:!0,trackPolicy:{link:!0,name:!0,isExplicit:!0,is19PlusOnly:!0},albumPolicy:{link:!0,name:!0,covers:!0},artistsPolicy:{link:!0,name:!0}},episodePolicy:{timestamp:!0,showPolicy:{link:!0,name:!0,publisher:!0,covers:!0,extension:[d.k1.AUDIOBOOK_SPECIFICS]}},collectionTracksPolicy:{link:!0,timestamp:!0}});function dl(e){return e?[{url:e,label:"standard"}]:[]}class ul extends ol._q{_contexts=null;_cancellable=null;constructor(e,t){super(),this._client=new ll.wn(e),this._events=t}getEvents(){return this._events}getContexts(){return null===this._cancellable&&(this._cancellable=this._client.stream(cl,(e=>{this._contexts=function(e){const t=new Set;return e.context.map((e=>{if(e.artist){const t=e.artist.artistMetadata;return{type:ol.eu.ARTIST,uri:t?.link??"",name:t?.name??"",images:dl(t?.portraits?.standardLink),timestampMs:e.artist.addTime}}if(e.album){const t=e.album.albumMetadata,n=new Set;return{type:ol.eu.ALBUM,uri:t?.link??"",name:t?.name??"",images:dl(t?.covers?.standardLink),artists:t?.artists.map((e=>({uri:e.link,name:e.name}))).filter((e=>!n.has(e.uri)&&n.add(e.uri)))??[],timestampMs:e.album.addTime}}if(e.show){const t=e.show.showMetadata,n=as(t?.extension??[]);if(void 0!==n.audiobookSpecifics){const s=n.audiobookSpecifics,i=n.showAccess?.signifier?.text;return{type:ol.eu.AUDIOBOOK,uri:t?.link??"",name:t?.name??"",images:dl(t?.covers?.standardLink),authors:s.credits?.authors.map((e=>e.name))??[],timestampMs:e.show.addTime,signifierText:i}}return{type:ol.eu.SHOW,uri:t?.link??"",name:t?.name??"",images:dl(t?.covers?.standardLink),publisher:t?.publisher??"",timestampMs:e.show.addTime}}if(e.playlist){const t=e.playlist.playlistMetadata;return{type:ol.eu.PLAYLIST,uri:t?.link??"",name:t?.name??"",description:t?.description??"",images:dl(t?.pictures?.standardLink),owner:{uri:t?.owner?.link??"",displayName:t?.owner?.displayName??""},attributes:t?.formatListAttributes??[],timestampMs:e.playlist.addTime}}if(e.track){const t=e.track.trackMetadata;return{type:ol.eu.TRACK,uri:t?.link??"",name:t?.name??"",images:dl(t?.album?.covers?.standardLink),artists:t?.artist.map((e=>({uri:e.link,name:e.name})))??[],isExplicit:t?.isExplicit??!1,isMOGEFRestricted:t?.is19PlusOnly??!1,timestampMs:e.track.addTime}}if(e.episode){const t=e.episode.showMetadata,n=as(t?.extension??[]);if(void 0!==n.audiobookSpecifics){const s=n.audiobookSpecifics;return{type:ol.eu.AUDIOBOOK,uri:t?.link??"",name:t?.name??"",images:dl(t?.covers?.standardLink),authors:s.credits?.authors.map((e=>e.name))??[],timestampMs:e.episode.addTime}}return{type:ol.eu.SHOW,uri:t?.link??"",name:t?.name??"",images:dl(t?.covers?.standardLink),publisher:t?.publisher??"",timestampMs:e.episode.addTime}}return e.collectionTracks&&(0,Z.W8)(e.collectionTracks.link)?e.collectionTracks.link.endsWith("your-episodes")?{type:ol.eu.YOUR_EPISODES,uri:e.collectionTracks.link??"",timestampMs:e.collectionTracks.addTime}:{type:ol.eu.LIKED_SONGS,uri:e.collectionTracks.link??"",timestampMs:e.collectionTracks.addTime}:null})).filter(Fs.g).sort(((e,t)=>t.timestampMs-e.timestampMs)).filter((e=>!t.has(e.uri)&&t.add(e.uri)))}(e),this._events.emit(ol.iI.UPDATE,this._contexts)}))),this._contexts}}var ml=n(35260),pl=n(87668),hl=n(80392);const gl={field:hl.I7.AVAILABLE,operator:hl.We.EQUALS,value:!0};var fl=function(e){return e.TITLE="TITLE",e}(fl||{});const yl={[hl.I7.AVAILABLE]:hl.I7.AVAILABLE,[hl.I7.NAME]:fl.TITLE,[hl.I7.TEXT]:hl.I7.TEXT,[hl.I7.ISPLAYED]:hl.I7.ISPLAYED,[hl.I7.STARTEDPLAYING]:hl.I7.STARTEDPLAYING},_l={[hl.I7.AVAILABLE]:["available"],[hl.I7.TEXT]:["text"],[hl.I7.NAME]:["name"],[hl.I7.ISPLAYED]:["isPlayed"],[hl.I7.STARTEDPLAYING]:["progress"],[fl.TITLE]:["title"]},bl={[hl.We.CONTAINS]:"contains",[hl.We.EQUALS]:"eq",[hl.We.NOT_EQUALS]:"!=",[hl.We.GREATER_THAN]:">"};function vl(e){return e.map((e=>{const{field:t,operator:n,value:s}=e;return`${_l[t]} ${bl[n]} ${encodeURIComponent(s)}`})).join(",")}var xl=function(e){return e.ADDED_AT="ADDED_AT",e.DURATION="DURATION",e.TITLE="TITLE",e}(xl||{});const Cl={[hl.YP.PUBLISH_DATE]:xl.ADDED_AT},El={[hl.YP.PUBLISH_DATE]:["number","publishDate","name"],[xl.ADDED_AT]:["added_at"],[xl.DURATION]:["duration"],[xl.TITLE]:["title"]};var Sl=n(25488),wl=n(89183),Il=n(56652);class Al extends Il.E{_subscriptions=new Map;constructor(e){super(),this._show_client=e,this.onAddListener(Il.A.UPDATE_ACCESS_INFO,(e=>{const{uri:t}=e.data.options;t&&this._aggregator.subscribe(t)})),this.onRemoveListener(Il.A.UPDATE_ACCESS_INFO,(e=>{const{uri:t}=e.data.options;t&&this._aggregator.unsubscribe(t)})),this.onAddListener(Il.A.UPDATE_LATEST_PLAYED_EPISODE_LINK,(e=>{const{uri:t}=e.data.options;this._aggregator.subscribe(t)})),this.onRemoveListener(Il.A.UPDATE_LATEST_PLAYED_EPISODE_LINK,(e=>{const{uri:t}=e.data.options;this._aggregator.unsubscribe(t)})),this._aggregator=(0,pi.a5)((e=>{this._subscriptions.forEach(((t,n)=>{e.has(n)||(t.cancel(),this._subscriptions.delete(n))})),e.forEach(((e,t)=>{this._subscriptions.has(t)||this._subscriptions.set(t,this._show_client.subDecorate(d.KE.fromPartial({item:[t],showPolicy:{showPolicy:{isBook:!0,extension:[d.k1.SHOW_ACCESS]},showPlayedStatePolicy:{latestPlayedEpisodeLink:!0}}}),(e=>{const n=e.response?.show.find((e=>e.link===t));if(!n)return;as(n.showMetadata?.extension).showAccess&&this.emit(Il.A.UPDATE_ACCESS_INFO,{uri:t}),n.showPlayState?.latestPlayedEpisodeLink&&n.showMetadata?.isBook&&this.emit(Il.A.UPDATE_LATEST_PLAYED_EPISODE_LINK,{uri:t,latestPlayedEpisodeLink:n.showPlayState?.latestPlayedEpisodeLink})})))}))}))}}var Tl=n(72660),kl=n(99548),Nl=n(74432);const Ol=d.OK.fromPartial({showPolicy:{showPolicy:{link:!0,name:!0,publisher:!0,covers:!0}},episodePolicy:{link:!0,length:!0,name:!0,manifestId:!0,previewId:!0,previewManifestId:!0,description:!0,publishDate:!0,covers:!0,freezeFrames:!0,language:!0,available:!0,mediaTypeEnum:!0,number:!0,backgroundable:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,is19PlusOnly:!0,isBookChapter:!0,extension:[d.k1.PODCAST_SUBSCRIPTIONS,d.k1.CONTENT_WARNING]},episodePlayedStatePolicy:{timeLeft:!0,isPlayed:!0,playable:!0,playabilityRestriction:!0,lastPlayedAt:!0},episodeCollectionPolicy:{isFollowingShow:!0,isInListenLater:!0,isNew:!0},episodeSyncPolicy:{offline:!0,syncProgress:!0},progress:!0}),Pl=d.qU.fromPartial({showPolicy:{link:!0,name:!0,description:!0,publisher:!0,isExplicit:!0,covers:!0,mediaTypeEnum:!0,copyrights:!0,isMusicAndTalk:!0,isBook:!0,consumptionOrder:!0,extension:[d.k1.AUDIOBOOK_SPECIFICS,d.k1.PODCAST_SUBSCRIPTIONS,d.k1.PODCAST_TOPICS,d.k1.HTML_DESCRIPTION,d.k1.EPISODE_TRANSCRIPTS,d.k1.PODCAST_RATING,d.k1.AUDIOBOOK_PRICE,d.k1.SHOW_ACCESS,d.k1.AUDIOBOOK_RELATIONS,d.k1.PLAYABILITY,d.k1.AUDIOBOOK_GENRE]},showPlayedStatePolicy:{latestPlayedEpisodeLink:!0}}),jl=ds.WKS.fromPartial({link:!0,length:!0,name:!0,manifestId:!0,previewId:!0,previewManifestId:!0,description:!0,publishDate:!0,covers:!0,freezeFrames:!0,language:!0,available:!0,mediaTypeEnum:!0,number:!0,backgroundable:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,is19PlusOnly:!0,isBookChapter:!0,extension:[d.k1.SHOW_ACCESS,d.k1.PODCAST_SEGMENTS,d.k1.PODCAST_SUBSCRIPTIONS,d.k1.HTML_DESCRIPTION,d.k1.CONTENT_WARNING,d.k1.EPISODE_TRANSCRIPTS]}),Ll=d.OK.fromPartial({episodeCollectionPolicy:{isNew:!0},episodePlayedStatePolicy:{playable:!0,timeLeft:!0,isPlayed:!0},episodePolicy:jl}),Rl=d.OK.fromPartial({showPolicy:{showPolicy:{link:!0,name:!0,publisher:!0,covers:!0}},episodePolicy:jl,episodePlayedStatePolicy:{timeLeft:!0,isPlayed:!0,playable:!0,playabilityRestriction:!0,lastPlayedAt:!0},episodeCollectionPolicy:{isFollowingShow:!0,isInListenLater:!0,isNew:!0},episodeSyncPolicy:{offline:!0,syncProgress:!0},progress:!0});class Dl{capabilities={canSort:!0,canFilter:!0,canGetDefaultSort:!0,canGetShowPlayedState:!0};constructor(e,t,n){this.remote_configuration=t,this._builder=n,this._podcast_paywalls_client=new Sl.Q1(e),this._show_service_client=new d.ei(e),this._events=new Al(this._show_service_client),this._metadata_service_client=new Nl.ym(e)}async getMetadata(e){const t=(0,Z.nX)(e).id,n=await this._show_service_client.getShow(d.qW.fromPartial({showId:t,range:{start:0,limit:1},headerPolicy:Pl,listPolicy:Ll,sectionsPolicy:{trailerSection:!0,nextBestEpisode:!0},includeExtensionsOnError:!0}));if(void 0===n.response||n.status?.code!==d.WY.SUCCESS){if(n.response?.header?.showMetadata?.extension){const e=as(n.response.header.showMetadata.extension);if(!e.playability?.isPlayable&&e.playability?.reason===Wn.PLAYABILITY_VERDICT_COUNTRY_RESTRICTED)throw new Tl.W("Requested audiobook is out of market",{cause:n.status?.reason,redirectUri:e.audiobookRelation?.sameBookUri})}throw new Error("Error while getting show metadata")}return function(e){const t=e.header?.showMetadata;if(t?.isBook)return Vo(e);if(!t)throw new Error("Error while constructing metadata");return Fo(e)}(n.response)}async getAccessInfo(e){const t=await this._show_service_client.getDecorate(d.KE.fromPartial({item:[e],showPolicy:{showPolicy:{extension:[d.k1.SHOW_ACCESS]}}}));if(void 0===t.response)throw new Error("decorate request error");return function(e){let t={};const n=e.show.map((e=>e.showMetadata?.extension)).filter((e=>null!==e));for(const e of n)if(e&&(t=as(e),t.showAccess))break;return{prompt:t?.showAccess?.prompt,upsellLink:t?.showAccess?.upsellLink,basic:t?.showAccess?.basic,multiPass:t?.showAccess?.multiPass&&{title:t?.showAccess?.multiPass?.title,body:t?.showAccess?.multiPass?.soaDescription,soaPartners:t?.showAccess?.multiPass?.soaPartner},consumptionCapped:t?.showAccess?.consumptionCapped}}(t.response)}async getBookContents(e,t){t.doRefreshSubscription&&await this._podcast_paywalls_client.putShowSubscription(Sl.eI.fromPartial({showUri:e}));const n=(0,Z.nX)(e).id,s=await this._show_service_client.getShow(d.qW.fromPartial({showId:n,range:{start:t.offset,limit:t.limit},listPolicy:Ol}));if(void 0===s.response||s.status?.code!==d.WY.SUCCESS)throw new Error("Error while getting show metadata");return function(e,t,n){if(!e.item)throw new Error("Invalid show cosmos response!");const s="number"==typeof t&&"number"==typeof n?t+n:0;return{nextOffset:e.unrangedLength<s?null:s,totalCount:e.unrangedLength,items:e.item.map((e=>jo(e.episodeMetadata,e.episodePlayState)))}}(s.response,t.offset,t.limit)}async getContents(e,t){const n=(0,Z.nX)(e).id,s=function(e){if(e?.field===hl.YP.PUBLISH_DATE&&e.order===hl.Sy.ASC)return d._8.PUBLISH_DATE_ASC;if(e?.field===hl.YP.PUBLISH_DATE&&e.order===hl.Sy.DESC)return d._8.PUBLISH_DATE_DESC;return d._8.CONSUMPTION_ORDER_ASC}(t.sort),i=function(e=[]){return e=e||[],vl([...e,gl])}(t.filters),r=await this._show_service_client.getShow(d.qW.fromPartial({showId:n,sortOrder:s,filter:i,listPolicy:Ol,range:{start:t.offset,limit:t.limit}}));if(void 0===r.response||r.status?.code!==d.WY.SUCCESS)throw new Error(`Error while getting show metadata: ${r.status?.reason}`);return function(e,t,n){if(!e.item)throw new Error("Invalid show cosmos response!");const s="number"==typeof t&&"number"==typeof n?t+n:0;return{nextOffset:e.unrangedLength<s?null:s,totalCount:e.unrangedLength,items:e.item.map((e=>Do(e.episodeMetadata,e.episodePlayState)))}}(r.response,t.offset,t.limit)}async getEpisodeOrChapter(e){const t=await this._show_service_client.getDecorate(d.KE.fromPartial({item:[e],episodePolicy:Rl}));if(void 0===t.response)throw new Error("decorate request error");return function(e){const t=e.episode?.[0];if(!t||!t.episodeMetadata)throw new Error("Error while constructing episode");if(t.episodeMetadata.isBookChapter)return jo(t.episodeMetadata,t.episodePlayState);if(!t.episodeMetadata)throw new Error("Error while constructing episode");return Do(t.episodeMetadata,t.episodePlayState)}(t.response)}async checkoutBook(e){return await(0,wl.m)(e)}getPlayerSort(e){return e?function(e){const{field:t,order:n}=e;return El[t].map((e=>n?`${e} ${n}`:e))}(function(e){return{field:Cl[e.field],order:e.order}}(e)).join(", "):""}getPlayerFilter(e=[]){return vl(function(e){return(e=e||[]).map((e=>{const t=yl[e.field],n=function(e){return"string"==typeof e.value?`"${e.value}"`:e.value}(e);return{...e,field:t,value:n}}))}(e))}getEvents(){return this._events}async getShowPlayedState(e){const t=await this._show_service_client.getShow(d.qW.fromPartial({showId:(0,Z.nX)(e).id,headerPolicy:d.qU.fromPartial({showPlayedStatePolicy:{playedTime:!0,label:!0}})}));if(void 0===t.response)throw new Error("decorate request error");return t.response.header?.showPlayState?function(e){const t=e.response?.header?.showPlayState;if(!t)return null;const n=Number(t.playedTime);let s;switch(t.label){case 0:s=wo.yQ.Unknown;break;case 1:s=wo.yQ.NotStarted;break;case 2:s=wo.yQ.InProgress;break;case 3:s=wo.yQ.Completed;break;default:s=wo.yQ.Unrecogniced}return{playPositionMilliseconds:1e3*n,state:s}}(t):null}async updateUserRating(e,t){const n=await(0,kl.u)(this._builder,e,t);return await this._metadata_service_client.expire(Nl.ue.fromPartial({extensionKind:d.k1.PODCAST_RATING,entityUri:[e]})),this._events.emit(Il.A.UPDATE_RATING,{uri:e}),n}}var Ml=n(80340),Ul=n(25283),Fl=n(98384),Bl=n(76908),Gl=n(70684);class Vl extends Gl.u{}const Hl="enhance";async function Wl({playlistDataServiceClient:e,playlistServiceClient:t,uri:n,isActive:s,timeout:i=5e3}){return await t.requestLenses(ds.Go1.fromPartial({uri:n,lenses:[{identifier:Hl,active:s}]})),new Promise(((r,a)=>{let o=null;const{cancel:l}=e.subscribe(ds.umY.fromPartial({uri:n,query:{range:{start:0,length:0}},policy:{playlist:{lenses:!0}}}),(e=>{!!e.data?.playlist?.lenses?.appliedLenses.find((e=>e.name===Hl))===s&&(l(),null!==o&&clearTimeout(o),r())}));i&&(o=setTimeout((()=>{l(),s&&t.requestLenses(ds.Go1.fromPartial({uri:n,lenses:[{identifier:Hl,active:!1}]})),a(new Vl(`${s?"Enabling":"Disabling"} Smart Shuffle failed after ${i}ms.`))}),i))}))}var zl=n(59252),Yl=n(90032),Kl=n(30716);class ql{_isDsaEnabled=!1;constructor(e,t,n,s,i,r,a,o){if(this._player=e,this._playlistServiceClient=t,this._playlistDataServiceClient=n,this._contextualShuffle=s,this._smartShuffleEligibility=i,this._userApi=r,this._history=a,this.isSmartShuffleEnabled=o,this._events=new Fl.A,(0,Kl.o)(this._userApi,(e=>{this._isDsaEnabled=e})),this.isSmartShuffleEnabled){new zl.k(this._contextualShuffle,this._events,this._syncShuffle.bind(this)).observe()}else{const e=e=>{const t=(0,Z.nX)(e);t?.type===Z.cH.PLAYLIST_V2&&Wl({playlistDataServiceClient:this._playlistDataServiceClient,playlistServiceClient:this._playlistServiceClient,uri:t.toURI(),isActive:!1})};this._player.getEvents().addListener(Ri.AU.ACTION,(t=>{t.data.action===Ri.ye.PLAY&&e(t.data.context.uri)})),this._history.listen((async t=>{e(t.pathname)}))}}async _syncShuffle(e,t){let n=this._player.getState();const s=n?.context.uri,i=(0,Z.nX)(e)?.type===Z.cH.COLLECTION,r=t===Ul.u.SMART_SHUFFLE;let a=e;i&&(a=(await this._smartShuffleEligibility.getEligibility(e)).lensUri),await Wl({playlistDataServiceClient:this._playlistDataServiceClient,playlistServiceClient:this._playlistServiceClient,uri:a,isActive:r}),n?.context&&(0,Ml.qk)(e,s)&&(await this._player.setShuffle((0,Bl.s)(t)),n=this._player.getState(),i?this._player.updateContext(null,{uri:e,url:Er((0,Cr.OS)(r?a:e,r)),metadata:{...n?.context.metadata,enhanced_context:r?"true":void 0}}):n&&this._player.updateContext(null,{...n.context,metadata:{...n.context.metadata,enhanced_context:r?"true":void 0}}))}getEvents(){return this._events}async getAvailableShuffleModes(e){const t=[],n=this._player.getState(),s=n?.context.uri;if((0,Ml.qk)(e,s)&&!1===n?.restrictions.canToggleShuffle)t.push(n?.shuffle?Ul.u.ON:Ul.u.OFF);else{t.push(Ul.u.OFF,Ul.u.ON);const{canSmartShuffle:n}=await this._smartShuffleEligibility.getEligibility(e);n&&t.push(Ul.u.SMART_SHUFFLE)}return t}async getShuffle(e){const t=this._player.getState(),n=t?.context.uri;let s=await this._contextualShuffle.getContextualShuffleMode(e);return(0,Ml.qk)(e,n)&&(s=(0,Yl.Y)(t)??s),s===Ul.u.SMART_SHUFFLE&&this._isDsaEnabled?Ul.u.ON:s}async setShuffle(e,t){if(this._events.emitUpdateShuffleModeSync(e,t),t===Ul.u.SMART_SHUFFLE&&this._isDsaEnabled)throw new Error("Trying to set smart shuffle when dsa is enabled");await this._contextualShuffle.setContextualShuffleMode(e,t)}}var Ql=n(91398),Xl=n(22464);class $l{constructor(e){this.karaokeServiceClient=new Ql.Yz(e)}getCapabilities(){return{isSupported:!0}}async setVocalVolume(e){await this.karaokeServiceClient.postVocalVolume({volume:e})}async setStatus(e){await this.karaokeServiceClient.postStatus({status:e===Xl.s.ENABLED?Ql.qw.ENABLED:Ql.qw.DISABLED})}async getStatus(){const{status:e}=await this.karaokeServiceClient.getStatus({});return e===Ql.qw.ENABLED?Xl.s.ENABLED:Xl.s.DISABLED}}class Jl{constructor(e){this._metadataServiceClient=e}async getEligibility(e){const t=(await this._metadataServiceClient.fetch(Nl.gT.fromPartial({extensionQuery:[{extensionKind:Nl.k1.SMART_SHUFFLE,entityUri:[e]}]}))).extension.at(0),n=t?.extensionKind,s=t?.entityExtension.at(0)?.extensionData?.value,i=void 0===n||void 0===s?null:as([{extensionKind:n,data:s}]),r=i?.smartShuffle??null;return{canSmartShuffle:r?.enabled??!1,lensUri:r?.uri??""}}}var Zl=n(2084),ec=n(63720),tc=n(95517),nc=n(84012),sc=n(56828),ic=n(39768),rc=n(87220),ac=n(99748),oc=n(59636),lc=n(18380);class cc{constructor(e,t){this.userApi=t,this.isJamFreeEnabled="1"===e?.["social-session-free-tier"],this.isJamPremiumEnabled="1"===e?.["social-session"],this.userApi.getEvents().addListener(lc.E.PRODUCT_STATE_UPDATE,this.handleProductStateUpdate.bind(this))}async handleProductStateUpdate(){const e=await this.userApi.getProductState();this.isJamFreeEnabled="1"===e?.["social-session-free-tier"],this.isJamPremiumEnabled="1"===e?.["social-session"]}getJamExperience(){return this.isJamPremiumEnabled?oc.C.PREMIUM:this.isJamFreeEnabled?oc.C.FREE:oc.C.NONE}}var dc=n(54872);var uc=n(11884),mc=n(71973),pc=n(67656);async function hc(e,t){const n=(0,mc.g)(Fe.createBaseTransport,(0,pc.u)(),e);return n.addPlugin(uc.c9,{WebSocket}),n.addPlugin(t),n.connect(),n}var gc=n(19252);class fc{constructor(e,t){this._cosmos=e,this._product_state_service=t,this._events=new lc.W,this._product_state_service.subValues(c.Mx.fromPartial({}),(()=>{this._events.emitProductStateUpdate()}))}async getUser(){const{username:e}=await this._cosmos.get("sp://desktop/v1/session"),t=await async function(e,t){const n={name:t,images:[]};try{const{profiles:s}=await e.get("sp://core-profile/v1/profiles",{usernames:[t]});return s.length>0?s[0]:n}catch(e){return n}}(this._cosmos,e);return{type:te.s.USER,uri:(0,Z.oh)(e).toURI(),username:e,displayName:t.name,avatarBackgroundColor:t.color,images:t.images?.map((e=>({url:e.url,width:e.maxWidth,height:e.maxHeight})))||[]}}async getProductState(){const{country_code:e,type:t,ads:n,catalogue:s,...i}=(await this._product_state_service.getValues(c.AH.fromPartial({}))).pairs;return{country:e,product:t,ads:n,catalogue:s,...i}}getEvents(){return this._events}}async function yc(e){return{remote_config_client_id:"desktop-ui",...await e.get("sp://desktop/v1/platform")}}var _c=n(5172);const bc=n(13728).cb.addMiddleware(_c.E);var vc=n(57880);class xc{constructor(e,t){this._pubsub=e,this._builder=t}subscribeToBuddyActivity(e,t){return this._pubsub.subscribe({ident:`hm://presence2/user/${encodeURIComponent(e)}`,isPrefix:!1,onMessage:async()=>{try{const n=await this.getBuddyActivity(e);t(n.body)}catch(e){}return{status:200,status_text:"Ok"}},onSubscribe:t=>(0,vc.mE)(this._builder,e,t),onCancel:t=>(0,vc.wH)(this._builder,e,t)})}getBuddyActivity(e){return(0,vc.SW)(this._builder,e)}getBuddyFeed(){return(0,vc.WE)(this._builder)}getFacebookFriends(){return(0,vc.A3)(this._builder)}}let Cc=function(e){return e.FACEBOOK="FACEBOOK",e}({});class Ec{constructor(e,t){this.cosmos=e,this.buddyFetchApi=t}getCapabilities(){return{isSupported:!0}}connectToFacebook(){return this.cosmos.post("sp://facebook/v1/connection",{enable:!0})}subscribeToFacebookConnectionState(e){return this.cosmos.sub("sp://facebook/v1/connection",(t=>{e(t)}))}subscribeToBuddyActivity(e,t){return this.buddyFetchApi.subscribeToBuddyActivity(e,t)}async fetchFacebookFriends(){const e=await this.buddyFetchApi.getFacebookFriends();return(e.body?.results||[]).filter((e=>e.indexes.includes(Cc.FACEBOOK))).map((({title:e,uri:t,image:n,following:s})=>({title:e,uri:t,image:n,following:s})))}async fetchFriendActivity(e){const t=(0,Z.nX)(e[0]).username,n=await this.buddyFetchApi.getBuddyActivity(t);return n.body?[n.body]:[]}}class Sc extends Gl.u{}class wc{value=null;subs=new Set;subscription=null;constructor(e,t,n,s){this.prefsApi=e,this.identifier=t,this.serializeValue=n,this.deserializeValue=s,this.getValue=this.getValue.bind(this),this.setValue=this.setValue.bind(this),this.subValue=this.subValue.bind(this)}async getValue(){const e=(await this.prefsApi.get({key:this.identifier})).entries[this.identifier];return this.value=this.deserializeValue(e),this.value}subValue(e){return this.subs.add(e),this.subscription??=this.prefsApi.sub({key:this.identifier},(e=>{const t=this.deserializeValue(e.entries[this.identifier]);t!==this.value&&(this.value=t,this.subs.forEach((e=>e(t))))})),()=>{this.subs.delete(e),0===this.subs.size&&(this.subscription?.cancel(),this.subscription=null)}}async setValue(e){await this.prefsApi.set({entries:{[this.identifier]:this.serializeValue(e)}}),this.value=e}}class Ic extends wc{static identifier="language";static serialize=e=>({string:e});static deserialize=e=>{if(void 0===e?.string)throw new Sc(`Could not deserialize ${Ic.identifier} from ${JSON.stringify(e)}`);return e.string};key="language";constructor(e){super(e,Ic.identifier,Ic.serialize,Ic.deserialize)}}class Ac extends wc{static identifier="audio.allow_downgrade";static serialize=e=>({bool:e});static deserialize=e=>{if(void 0===e.bool)throw new Sc(`Could not deserialize ${Ac.identifier} from ${JSON.stringify(e)}`);return e.bool};key="quality.autoAdjustQuality";constructor(e){super(e,Ac.identifier,Ac.serialize,Ac.deserialize)}}var Tc=n(26768);class kc extends wc{static identifier="audio.sync_bitrate_enumeration";static serialize=e=>({number:BigInt(e)});static deserialize=e=>{const t=(0,Tc.eU)(e.number);if(null===t)throw new Sc(`Could not deserialize ${kc.identifier} from ${JSON.stringify(e)}`);return t};key="quality.downloadAudioQuality";constructor(e,t){super(e,kc.identifier,kc.serialize,kc.deserialize),this.maxSupportedQuality=t,this.setValue=this.setValue.bind(this)}async setValue(e){const t=await this.maxSupportedQuality.clampAudioQuality(e);return super.setValue(t)}}var Nc=n(3912);class Oc{static identifier="audio-quality";static serialize=e=>`${e}`;static deserialize=e=>{const t=(0,Tc.Su)(e);if(null===t)throw new Sc(`Could not deserialize ${Oc.identifier} from ${JSON.stringify(e)}`);return t};value=null;subs=new Set;subscription=null;key="quality.maxSupportedQuality";constructor(e){this.productStateApi=e,this.getValue=this.getValue.bind(this),this.setValue=this.setValue.bind(this),this.subValue=this.subValue.bind(this),this.clampAudioQuality=this.clampAudioQuality.bind(this)}async getValue(){const e=(await this.productStateApi.getValues(c.AH.fromPartial({}))).pairs[Oc.identifier];return this.value=Oc.deserialize(e),this.value}subValue(e){return this.subs.add(e),this.subscription??=this.productStateApi.subValues(c.AH.fromPartial({}),(e=>{const t=e.pairs,n=Oc.deserialize(t[Oc.identifier]);n!==this.value&&(this.value=n,this.subs.forEach((e=>e(n))))})),()=>{this.subs.delete(e),0===this.subs.size&&(this.subscription?.cancel(),this.subscription=null)}}async setValue(e){await this.productStateApi.putValues(c.Q$.fromPartial({pairs:{[Oc.identifier]:Oc.serialize(e)}})),this.value=e}async clampAudioQuality(e){this.value??=await this.getValue();const t=this.value===Nc.qo.LOSSLESS&&e>Nc.kr.AUTOMATIC&&e<=Nc.kr.HIFI,n=this.value===Nc.qo.VERY_HIGH&&e<=Nc.kr.VERY_HIGH,s=this.value===Nc.qo.STANDARD&&e<=Nc.kr.HIGH;return t||n||s?e:Nc.kr.HIGH}}class Pc extends wc{static identifier="audio.normalize_v2";static serialize=e=>({bool:e});static deserialize=e=>{if(void 0===e.bool)throw new Sc(`Could not deserialize ${Pc.identifier} from ${JSON.stringify(e)}`);return e.bool};key="quality.normalizeVolume";constructor(e){super(e,Pc.identifier,Pc.serialize,Pc.deserialize)}}class jc extends wc{static identifierMetered="audio.play_bitrate_enumeration";static identifierNonMetered="audio.play_bitrate_non_metered_enumeration";static serialize=e=>({number:BigInt(e)});static deserialize=e=>{const t=(0,Tc.eU)(e.number);if(null===t)throw new Sc(`Could not deserialize ${JSON.stringify(e)}`);return t};key="quality.streamingQuality";constructor(e,t){super(e,jc.identifierNonMetered,jc.serialize,jc.deserialize),this.maxSupportedQuality=t,this.getValue=this.getValue.bind(this),this.setValue=this.setValue.bind(this),this.subValue=this.subValue.bind(this)}async setValue(e){const t=await this.maxSupportedQuality.clampAudioQuality(e),n=jc.serialize(t);await this.prefsApi.set({entries:{[jc.identifierNonMetered]:n,[jc.identifierMetered]:n}}),this.value=e}}class Lc extends wc{static identifier="audio.loudness.environment";static serialize=e=>({number:BigInt(e)});static deserialize=e=>{const t=(0,Tc.GK)(e.number);if(null===t)throw new Sc(`Could not deserialize ${Lc.identifier} from ${JSON.stringify(e)}`);return t};key="quality.volumeLevel";constructor(e){super(e,Lc.identifier,Lc.serialize,Lc.deserialize)}}class Rc{constructor(e,t,n){this.playbackService=n,this.maxSupportedQuality=new Oc(t),this.streamingQuality=new jc(e,this.maxSupportedQuality),this.downloadAudioQuality=new kc(e,this.maxSupportedQuality),this.normalizeVolume=new Pc(e),this.autoAdjustQuality=new Ac(e),this.volumeLevel=new Lc(e)}async getFormats(){return(await this.playbackService.getFormats({})).formats.filter((e=>e.supported)).map((e=>{const t=(0,Tc.eU)(e.enumValue);if(!t)throw new Sc(`Could not deserialize formats from ${JSON.stringify(e)}`);return{supported:e.supported,quality:t}}))}}class Dc{constructor(e,t,n){this.language=new Ic(e),this.quality=new Rc(e,t,n)}}var Mc=n(7092);async function Uc(e){return await fetch(`i18n/${e}.json`).then((e=>e.json()))}async function Fc(e,t){return await async function(e,t){const n=await e();return null!==n?{...n,market:"from_token",locale:t,valid:!0}:{accessToken:"accessToken",accessTokenExpirationTimestampMs:0,isAnonymous:!1,market:"from_token",locale:t,valid:!1}}(e,t)}function Bc(e){const t=new fe(new c.ae(e)),n=new ge(new p.yN(e));return{streamingRules:()=>t.streamingRules(),isIncognito:()=>n.isIncognito()}}async function Gc(e){navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then((e=>e.forEach((e=>e.unregister()))));const t="65b708073fc0480ea92a077233ca87bd",n=function(){const e=window.navigator.userAgent.match(Y);return e?.groups?.version||"unknown"}(),C=(0,H.A)(),E=(0,bt.Y)(),I=(0,l.K6)(E);dt(C);const A=new qe(C),k=A.getTokenProvider(),N=new fc(C,new c.ae(E)),O=await async function(e){const t="language";try{const n=await e.get({key:t});return n.entries[t]?.string??g.u2.en}catch{return g.u2.en}}(I),[P,L]=await async function(e){try{return[null,await Uc(e)]}catch(t){const n=g.u2.en;(0,s.C7)({message:`Attempt to use desired locale '${e}' failed. Using fallback '${n}'.`}),(0,pl.W8)(t);try{return[n,await Uc(n)]}catch(e){throw(0,pl.es)(e),new Error(`Error when getting fallback translation: ${e}`)}}}(O);g._s.initialize({localeForTranslation:P??O,localeForFormatting:P??navigator.language,translations:L});const[R,B,G,W,q,Q,J]=await Promise.all([yc(C),Fc(k,P??O),(0,Me.U)(),z(),N.getUser(),N.getProductState(),hc(k,(e=>A.createTransportPlugin(e)))]),Z=Re.W.getInstance();(0,F.g)(J,B,n,R.app_platform);const ee=q?.username||null,te=ee??"anonymous",ne=new li.c(te),se=new xt.v(te),ie=V(R,J,t,(()=>ee),`${t}-desktop-ui`,!1),re=new bc({timeout:1e4,clientId:R.remote_config_client_id,transport:J,eventSender:ie,version:n,sp_t_cookie:R.event_sender_context_information?.installation_id}),le=await re.resolve({username:ee}),de=(0,Mc.u)(ne),ue=m.E3.merge(le,W,de),me=m.E3.merge(le,W),pe=ue.getValue(Oe.Fq),ge=ue.getValue(Oe.w1);let fe;if(ee&&R.is_developer_mode){const e="lastVisitedLocation",t=ne.getItem(e);fe=t instanceof ai.U||t instanceof oi.E?(0,i.Wi)({initialEntries:void 0}):(0,i.Wi)({initialEntries:[encodeURI(t)]}),fe.listen((t=>{ne.setItem(e,t.pathname)}))}else fe=(0,i.Wi)();const ye=(0,vt.Gm)(Z),_e=(0,vt.CX)(ye),be=new X(C),ve=al(E,R.is_developer_mode),xe=new lt.Y(se),Ce=function(e){return new Jl(new Nl.ym(e))}(E),Ee=function(e){return new tl(new ds.mug(e))}(E),Se=function(e,t,n,s,i,r,a,o,c){return new Sr(e,(0,l.K6)(t),new $.OA(t),new wt.wL(t),new ds.mug(t),n,s,i,r,a,o,c)}(C,E,xe,Ce,"xpui_2024-02-23_1708709925614_4c6498b",pe,ge,Ee,!1===ue.getValue(Le.imM)),we=new a.Ex(E),Ie=new ot(we),Ae=function(e,t,n,s,i,r,a){return new ql(e,new ds.mug(i),new ds.qcp(i),t,n,s,r,a)}(Se,xe,Ce,N,E,fe,pe),Te=function(e,t,n,s,i){const r=new ic.S(i);switch(e){case oc.I.ENABLED:return new Zl.a(new nc.M(i),new sc.s(s),r,new cc(t,n));case oc.I.RESTRICTED:return new rc.w(new ac.Y(i),new tc.C,r,new cc(t,n));case oc.I.DISABLED:default:return new dc.S(new ec.Q,new tc.C,r,new cc(t,n))}}(ue.getValue(Le.wze),Q,N,ve,J),ke=function(e,t,n,s,i,r){const a=new o.eC(e),l=(0,di.s$)(e);return new ji(a,l,t,n,e,s,i,r)}(E,Z,ne,we,ie,Se),Ne=function(e,t,n){const s=new di.Ib(n),i=new ci.mU(n),r=new mt.aw(n),a=new c.ae(n);return new Ni(e,t,s,i,r,a)}(ee??"anonymous",C,E),Pe=function(e,t,n){return new Ws(new mt.aw(e),new wt.wL(e),new St.SE(e),n,t)}(E,ee,Z),Ue=ue.getValue(Oe.yq),Fe=ue.getValue(Oe.Et)||ue.getValue(Oe.QN),Be=Fe?function(e,t){return new sl(new ds.YNV(e),new ds.G45(e),new ds.qcp(e),t)}(E,Z):new qa(C,Z),Ge=Fe?function(e,t,n,s,i){return new qo(new ds.qcp(e),new ds.mug(e),t,n,s,i)}(E,Ce,Z,Ue,Ee):new Na(C,Z),Ve=Fe?function(e,t){return new el(new ds.mug(e),t)}(E,Z):new La(C,Z),He=function(e,t,n){return new _t(new mt.aw(e),t,n)}(E,Pe,Ge),We=new Dl(E,ue,Z),ze=new De.I(Se,We,ve),Ye=new ce(new c.ae(E),Ge),Ke=new ri(E,C,ne),Qe=new ae(E,_e),Xe=new T(C),$e=new v(C),Je=new D(C),Ze=new M.U(ye),et=new oe(new p.yN(E)),tt=new he(E),nt=new ml.q,st=new ul(E,nt),it=new gc.W(h.Oc.getUBILogger({eventSender:ie,disableAutoBackgroundMonitoring:!0,authenticationProvider:{isAuthenticated:()=>null!==q},contextualProviders:{playContextUriProvider:{getPlayContextUri:()=>Se.getState()?.context.uri??null},playbackIdProvider:{getPlaybackId:()=>Se.getState()?.playbackId??null}}})),rt=new b,at=(await f.U.getAdState()).app_startup_id.value,ct=(0,U.L)({container:e,history:fe,eventSender:ie,playerAPI:Se,appStartupId:at,resolver:ue}),ut=ue.getValue(Oe.E7),pt=new je(C,new d.ei(E),new c.ae(E),new p.yN(E),new o.eC(E),new u.w5(E),(0,l.K6)(E),ue,ie,ut?[...ct.vto.factories,(0,r.q)(E,Bc(E),ie)]:ct.vto.factories),ht=new $l(E),gt=function(e){return new S(new x.MD(e))}(E),ft=new j((0,l.K6)(E),ne),yt=new Ec(C,new xc(ve,Z)),Ct=new Dc((0,l.K6)(E),new c.ae(E),new o.eC(E));Xe.setTitlebarHeight(w.M);return ue.getValue(Le.m5c)&&(0,_.Up)(),pe&&(0,y.W)(Se,Ge,xe),Spicetify._platform={version:n,container:e,operatingSystem:(0,K.i)(),isDeveloperMode:R.is_developer_mode,isVideoSupported:!0,enableCastConnect:!1,initialUser:q,initialProductState:Q,username:te,getServiceWorkerMessenger:async()=>()=>new Promise((()=>{})),getSession:()=>B,getTransport:()=>J,getEventSender:()=>ie,getTranslations:()=>L,getFeatureFlags:()=>G,getHistory:()=>fe,getAdManagers:()=>ct,getRemoteConfiguration:()=>me,getActionStoreAPI:()=>rt,getAuthorizationAPI:()=>A,getClipboardAPI:()=>$e,getConnectAPI:()=>Ie,getSocialConnectAPI:()=>Te,getControlMessageAPI:()=>Xe,getFacebookAPI:()=>Je,getFollowAPI:()=>Ze,getGraphQLLoader:()=>ye,getLibraryAPI:()=>Pe,getCurationAPI:()=>He,getLocalFilesAPI:()=>Ke,getOfflineAPI:()=>Ne,getPlatformData:()=>R,getPlayerAPI:()=>Se,getShuffleAPI:()=>Ae,getPlayHistoryAPI:()=>Qe,getPlaylistAPI:()=>Ge,getPlaylistPermissionsAPI:()=>Ve,getPrivateSessionAPI:()=>et,getPubSubAPI:()=>ve,getRecentlyPlayedAPI:()=>st,getReportAPI:()=>Ye,getRootlistAPI:()=>Be,getSegmentsAPI:()=>tt,getShowAPI:()=>We,getAudiobooksPremiumConsumptionCapObserverAPI:()=>ze,getUpdateAPI:()=>be,getUserAPI:()=>N,getVideoAPI:()=>pt,getSEOExperiments:()=>({}),getSingAlongAPI:()=>ht,getPlaybackAPI:()=>ke,getUBILogger:()=>it,getCollectionPlatformAPI:()=>gt,getLocalStorageAPI:()=>ne,getIndexedDbAPI:()=>se,getEqualizerAPI:()=>ft,getBuddyFeedAPI:()=>yt,getSettingsAPI:()=>Ct,getRequestBuilder:()=>Z}}},55904:(e,t,n)=>{"use strict";n.d(t,{G$:()=>l,SM:()=>a,gG:()=>r,uo:()=>o});var s=n(51160),i=n(89240);const r=/Spotify\/(?<version>.+)\s/;function a(){if(!!window.navigator.userAgent.match(r))return i.q.Desktop;const e="serviceWorker"in window.navigator,t=window.matchMedia("(display-mode: standalone)").matches,n="Windows"in window;return e&&(t||n)?i.q.PWA:i.q.Web}function o(){const e="serviceWorker"in window.navigator,t=-1!==window.location.search.indexOf("pwa=1"),n=(0,s.i)()===i.I.ChromeOS;return e&&(n||t)}function l(){return a()===i.q.Desktop}},51160:(e,t,n)=>{"use strict";n.d(t,{i:()=>a,k:()=>o});var s=n(24368),i=n.n(s),r=n(89240);function a(){const e=i().parse(window.navigator.userAgent).os.name;return"macOS"===e?r.I.macOS:"Windows"===e?r.I.Windows:"Linux"===e?r.I.Linux:"Chrome OS"===e?r.I.ChromeOS:r.I.Other}function o(){return i().getParser(window.navigator.userAgent).getOSName()||"not_applicable"}},94216:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var s=n(24368),i=n.n(s);function r(){return"Safari"===i().parse(window.navigator.userAgent).browser.name}},89240:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,q:()=>s});let s=function(e){return e.Web="Web",e.PWA="PWA",e.Desktop="Desktop",e}({}),i=function(e){return e.macOS="macOS",e.Windows="Windows",e.Linux="Linux",e.ChromeOS="ChromeOS",e.Other="Other",e}({})},49320:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});let s=function(e){return e[e.UPDATE_NONE=0]="UPDATE_NONE",e[e.UPDATE_AVAILABLE=1]="UPDATE_AVAILABLE",e[e.UPDATE_PROCESSING=2]="UPDATE_PROCESSING",e[e.UPDATE_READY=3]="UPDATE_READY",e}({})},39224:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});const s=(0,n(96651).createContext)(null)},51396:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var s=n(96651),i=n(39224);function r(){const e=(0,s.useContext)(i.s),[t,n]=(0,s.useState)(null);return(0,s.useEffect)((()=>{const{cancel:t}=e.subscribe(n);return t}),[e,n]),t}},33084:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i,_:()=>r});var s=n(45808);let i=function(e){return e.UPDATE="update",e}({});class r extends s.u{_numListeners=0;constructor(){super(),this.onAddListener(i.UPDATE,this.onListenerAdded.bind(this)),this.onRemoveListener(i.UPDATE,this.onListenerRemoved.bind(this))}onListenerAdded(){++this._numListeners,this.startListening()}onListenerRemoved(){0==--this._numListeners&&this.stopListening()}}},67544:(e,t,n)=>{"use strict";n.d(t,{wp:()=>o,E5:()=>p,ET:()=>m});var s=n(96651);const i=new Error("Play History API used without being initialized.\n   Did you provide the context in a a parent component?'"),r=(0,s.createContext)({getContents:()=>{throw i}});var a=n(2488);const o=({instance:e,children:t})=>(0,a.jsx)(r.Provider,{value:e,children:t});var l=n(12924),c=n(40468);var d=n(33084);const u=["play-history-contents"];function m(){const e=(0,s.useContext)(r),t=(0,l.q$)();return function(e,t){const n=(0,s.useContext)(r);(0,s.useEffect)((()=>{const s=n.getEvents();return s.addListener(e,t),()=>{s.removeListener(e,t)}}),[e,t,n])}(d.Y.UPDATE,(e=>t.setQueryData(u,e.data))),(0,c.U)({queryKey:u,queryFn:()=>e.getContents(),gcTime:3e5,staleTime:0})}function p(){return(0,s.useContext)(r).getCapabilities().isSupported}},85712:(e,t,n)=>{"use strict";n.d(t,{c:()=>h});n(73952),n(97296),n(41260);var s=n(96651),i=n(33220),r=n(14788),a=n(12100),o=n(30348),l=n(66514),c=n(84944),d=n(47192),u=n(96768),m=n(93552),p=n(60328);function h(){const e=(0,i.i6)(),t=(0,s.useContext)(c.I),n=(0,s.useContext)(d.e),{request:h}=(0,s.useContext)(l.Q9),g=(0,s.useCallback)((async(e,s)=>{const{name:i,trackUris:r}=await(0,m.s)(e,0,h),a=await n.createPlaylist(i,s,!0);return a&&await t.add(a,r,{before:"start"}),a}),[t,n,h]),f=(0,s.useCallback)((async(e,s)=>{const i=await(0,m.Q)(e[0],h),r=await n.createPlaylist(i,s,!0);return r&&await t.add(r,e,{before:"start"}),r}),[t,n,h]),y=(0,s.useCallback)((async(e,s)=>{const i=await t.getMetadata(e),r=await t.getContents(e,{offset:0,limit:i.totalLength}),a=(0,p.ud)(i.name),o=await n.createPlaylist(a,s,!0);return o&&await t.add(o,r.items.map((e=>e?.uri??null)).filter(u.g),{before:"start"}),o}),[t,n]);return{createPlaylist:(0,s.useCallback)((async(t,s)=>{const{ownedPlaylistCount:i}=await n.getMetadata(),l=a._s.get("playlist.new-default-name",i+1),c=await n.createPlaylist(l,s??{before:"start"}),d=(0,r.nX)(c);return d&&e(`/playlist/${d.id}`,{state:{referrer:"your_library",navigationalRoot:o.Y.CREATE_PLAYLIST,interactionId:t}}),c}),[n,e]),createPlaylistFromAlbum:g,createPlaylistFromTracks:f,createPlaylistFromPlaylist:y}}},93552:(e,t,n)=>{"use strict";n.d(t,{s:()=>u,Q:()=>d});n(41260);var s=n(14788),i=n(12100),r=n(88272);n(99972);const a=Spicetify.GraphQL.Definitions["getAlbumNameAndTracks"]=new r.a("getAlbumNameAndTracks","query","5a0d4729518c17325756a3a9fdab0db7feeaf9f913e790de28bc53240b808d85",null),o=Spicetify.GraphQL.Definitions["getEpisodeName"]=new r.a("getEpisodeName","query","508f9db2e7dc340c338950dc67a6045ee1406703646f23b760986fa689c239b1",null),l=Spicetify.GraphQL.Definitions["getPodcastOrBookName"]=new r.a("getPodcastOrBookName","query","631676b4cf1eb7c93d1133e3f1f17e5bfe8d6a5e2fb9560148bac61f1531f267",null),c=Spicetify.GraphQL.Definitions["getTrackName"]=new r.a("getTrackName","query","3dee761788854e8dd9239e13ce0d712da031fb8c2036f096a1c765062b410660",null);async function d(e,t){const n=i._s.get("playlist.default_playlist_name");try{if((0,s.QB)(e)){const n=await t(o,{uri:e});if("Episode"===n?.data?.episodeUnionV2?.__typename)return n.data.episodeUnionV2.name}if((0,s._Z)(e)){const n=await t(c,{uri:e});if("Track"===n?.data?.trackUnion?.__typename)return n.data.trackUnion.name}if((0,s.Gi)(e)){const n=await t(l,{uri:e});if("Podcast"===n?.data?.podcastUnionV2?.__typename||"Audiobook"===n?.data?.podcastUnionV2?.__typename)return n.data.podcastUnionV2.name}return n}catch{return n}}async function u(e,t,n){const s=await n(a,{uri:e,offset:t,limit:200});if("Album"===s?.data?.albumUnion?.__typename){const{name:i,tracks:r}=s.data.albumUnion,a=r.items.map((e=>e.track.uri));if(r.pagingInfo.nextOffset){if(r.pagingInfo.nextOffset<=t||0===a.length)throw new Error(`Error while requesting ${e} content, unexpected nextOffset`);const s=await u(e,r.pagingInfo.nextOffset,n);return{name:i,trackUris:a.concat(s.trackUris)}}return{name:i,trackUris:a}}throw new Error(`Error while requesting ${e} content`)}},25040:(e,t,n)=>{"use strict";n.d(t,{q:()=>r,u:()=>i});var s=n(96651);const i=(0,s.createContext)(null);function r(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use 'PrivateSessionContext' without 'PrivateSessionProvider'!");return e}},11988:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});var s=n(96651),i=n(10952),r=n(25040);function a(){const e=(0,r.q)(),[t,n]=(0,s.useState)(!1),a=(0,i.E)();(0,s.useEffect)((()=>{const t=e.subscribeToPrivateSession((e=>{a()&&n(e)}));return()=>{t()}}),[e,a]);return{isPrivateSession:t,setPrivateSession:(0,s.useCallback)((t=>{e.setPrivateSession(t)}),[e])}}},2364:(e,t,n)=>{"use strict";n.d(t,{w:()=>b});const s=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"}),i=/\p{White_Space}/u,r=/\p{P}/u,a=/\p{sc=Han}/u;function o(e){return null!==e&&i.test(e)}function l(e){return null!==e&&(e<="/"||e>=":"&&e<="@"||"\\"===e||o(e))}function c(e){return null!==e&&r.test(e)}function d(e){return null!==e&&a.test(e)}class u{constructor(e,t,n){if(t<0||n<0||t+n>e.length)throw new RangeError;this.data=e,this.offset=t,this.length=n,this.position=0}static from(e){const t=Array.from(e.normalize("NFC"));return new u(t,0,t.length)}toString(){return this.data.slice(this.offset,this.offset+this.length).join("")}slice(e=0,t=this.length){if(e<0||t>this.length)throw new RangeError;const n=this.offset+e,s=t-e;return new u(this.data,n,s)}nextCodePoint(){return this.position===this.length?null:this.data[this.offset+this.position++]}}function m(e){let t;do{t=e.nextCodePoint()}while(null!==t&&o(t)||c(t));return t}function p(e,t){let n=m(e),i=m(t);if(null===i)return{offset:0,length:0};const r=e.offset+e.position-1;let a=e.offset+e.position;for(;;){if(null===n&&null===i)return{offset:r,length:a-r};if(null===i)return{offset:r,length:a-r};if(null===n)return null;if(0!==s.compare(n,i))return null;a=e.offset+e.position,n=m(e),i=m(t)}}function h(e,t){let n,s,i;do{s=e.position,n=e.nextCodePoint()}while(null!==n&&o(n));if(t?.segmentQuotedStrings&&function(e){return null!==e&&('"'===e||"'"===e)}(n)){const t=n;s=e.position;do{i=e.position,n=e.nextCodePoint()}while(null!==n&&n!==t);return null===n&&s===i?null:e.slice(s,i)}do{if(i=e.position,t?.segmentCJKUnifieIdeographs&&d(n))break;n=e.nextCodePoint()}while(null!==n&&!l(n));return null===n&&s===i?null:e.slice(s,i)}function g(e){return h(e,{segmentQuotedStrings:!0,segmentCJKUnifieIdeographs:!1})}function f(e){return h(e,{segmentQuotedStrings:!1,segmentCJKUnifieIdeographs:!0})}function y(e,t){const n=[];for(let s=f(e);null!==s;s=f(e)){let i=p(s,t.slice());null===i?(i=p(e.slice(s.offset),t.slice()),null===i||n.push(i)):n.push(i)}return n}function _(e,t){return e.offset===t.offset&&e.length===t.length}function b(e,...t){const n=u.from(e),s=[];for(let e=g(n);null!==e;e=g(n)){const n=[];for(let s=0;s<t.length;++s){const i=t[s],r=y(u.from(i),e);for(const e of r)n.push({text:i,range:e})}if(0===n.length)return null;s.push(...n.filter(((e,t,n)=>e.range.length>0&&n.findIndex((t=>_(e.range,t.range)))===t)))}return s.length>0?s:null}},7092:(e,t,n)=>{"use strict";n.d(t,{M:()=>i,u:()=>r});var s=n(46064);const i="remote-config-overrides";function r(e){const t=e.getItem(i);if(t instanceof Error)return s.E3.empty();try{return s.E3.fromJSON(t)}catch(e){return s.E3.empty()}}},1397:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var s=n(96651);const i=new Error("Report API used without being initialized.\n   Did you provide the context in a a parent component?'"),r=(0,s.createContext)({isURIReportable:()=>{throw i},canReportPlaylist:()=>{throw i},getReportURL:()=>{throw i}})},71680:(e,t,n)=>{"use strict";n.d(t,{E:()=>r,Q:()=>a});var s=n(14788),i=n(31144);const r=e=>(0,s.mS)(e)||(0,s.eg)(e)||(0,s.QB)(e)||(0,s.I9)(e)||(0,s.Gi)(e),a=(e,t,n,s)=>e.getMetadata(t).then((e=>{const t="chart"===e.formatListData?.type;return!(!s&&!e.canReportAnnotationAbuse||t||n===e.owner.uri)})).catch((e=>((0,i.Kk)(e),!1)))},43476:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var s=n(96651),i=n(52588),r=n(72001),a=n(59448);function o({episodeUri:e,start:t,stop:n}){const{togglePlay:o,triggerPlay:l,isPlaying:c,isActive:d}=(0,i.I)({uri:e},{featureIdentifier:"episode"}),u=(0,r.o)((e=>(0,a.E)(e)??0)),m=d&&function(e,t,n){return n>=e&&n<t}(t,n,u),p=c&&m;return{onClick:(0,s.useCallback)((e=>{m?o({seekTo:t,loggingParams:e}):l({seekTo:t,loggingParams:e})}),[m,t,o,l]),isPlaying:p,isActive:m}}},96196:(e,t,n)=>{"use strict";n.d(t,{M:()=>_});n(73952),n(39568);var s=n(96651),i=n(4564),r=n(33220),a=n(55780),o=n.n(a),l=n(10200),c=n(14788),d=n(12100),u=n(4732),m=n(60016),p=n(58303),h=n(57800),g=n(92292),f=n(47824),y=n(7296);const _=({sharingInfo:e,uri:t,interactionData:n})=>{const a=(0,y.w)(),_=(0,i.OY)(),{pathname:b}=(0,r.IT)(),v=(0,f.W)({type:"link",uri:t}),{enqueueSnackbar:x}=(0,g.u)(),C=d._s.getLocaleForURLPath();let E=e;E?.shareUrl||(E=((e,t,n)=>{const s=(0,c.nX)(e)?.toURL(),i=o().create().hex.replace(/-/g,"").substr(0,16),r=(0,c.k3)(e).toURL(`${m.Ji}${m.Si}${n}/`);return{shareUrl:t&&s?`${r}?si=${i}`:`${s}?si=${i}`,shareId:i}})(t,v,C));const S=E?.shareUrl||"",w=(0,h.mg)();return{onCopyLink:(0,s.useCallback)((e=>{let s=S;if(e){const t=new URL(S);e.forEach(((e,n)=>t.searchParams.set(n,e))),s=t.toString()}if(a(n),(0,p.y)(s),_((0,u.ey)(s)),x(d._s.get("feedback.link-copied")),E?.shareId){const e=(0,c.nX)(b);w.send((0,l.P)({share_id:E?.shareId,entity_uri:t,destination_id:"copy-link",source_page:e?.type||"",source_page_uri:e?.toURI()||""}))}}),[S,a,n,_,x,E?.shareId,b,w,t])}}},55644:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,y:()=>r});var s=n(45808);let i=function(e){return e.SUBTITLE_LANGUAGES_CHANGED="subtitle_languages_changed",e.PICTURE_IN_PICTURE_CHANGED="picture_in_picture_changed",e}({});class r extends s.u{}},83496:(e,t,n)=>{"use strict";n.d(t,{MN:()=>w,S_:()=>I,Ux:()=>j,YT:()=>A});var s=n(14788),i=n(94231),r=n(80060),a=n(25972),o=n(21884),l=n(60016),c=n(46700),d=n(51528),u=n(50799),m=n(16928),p=n(80340),h=n(51696),g=n(43619),f=n(34016),y=n(62576),_=n(7392),b=n(4732),v=n(76736),x=n(83336),C=n(17456),E=n(68964),S=n(54420);const w={START_RADIO:"START_RADIO"},I={SAVE_TRACK:"SAVE_TRACK",SAVE_EPISODE:"SAVE_EPISODE",SAVE_ALBUM:"SAVE_ALBUM",SAVE_PRERELEASE:"SAVE_PRERELEASE"},A={FOLLOW_USER:"FOLLOW_USER"},T=/(^PLAY_.+|QUEUE_UPDATE)/i,k={...{[o.sL]:o.sL},..._.i2},N=()=>{const e={...k};return delete e.DEVICE_INFO_CHANGED,delete e.PLAYBACK_CLEAR_DATA,delete e.QUEUE_UPDATE,e},O=(e,t)=>{if(N()[t.type]){if((e=>e.type!==o.sL&&!![_.i2.PLAYBACK_ERROR].includes(e.type))(t))return!1;const[n,s]=(e=>{const t=N();switch(e.type){case t.FOLLOW_PLAYLIST:return[!0,{triggerId:v.g,triggerAction:e}];case t.CREATE_PLAYLIST:return[!0,{triggerId:C._W,triggerAction:e}];case t.ADD_TO_QUEUE:case o.sL:return[!0,{triggerId:x.o,triggerAction:e}];default:return[!1,null]}})(t),r=T.test(t.type);if(e.dispatch((0,c.Km)(t,r?c.Mf.PLAY:c.Mf.USER_INVESTMENT)),n)i.F.set((e=>({...e,...s})));else{const n=t.uri||t.contextURI;if(e.dispatch((0,b.cP)(n)),t.type===S.OG)return!1}return!0}return!1};function P(e,t){if(e===d.aG.ADD){if((0,s._Z)(t))return[!0,{triggerId:x.o,triggerAction:{type:I.SAVE_TRACK}}];if((0,s.QB)(t))return[!0,{triggerId:x.o,triggerAction:{type:I.SAVE_EPISODE}}]}return e===u.ye.PLAY&&(0,s.SQ)(t)?[!0,{triggerId:x.o,triggerAction:{type:w.START_RADIO}}]:e===h.gd.ADD||e===h.gd.CREATE_PLAYLIST?[!0,{triggerId:C._W,triggerAction:{type:null}}]:e===a.nv.FOLLOW_USER?[!0,{triggerId:x.o,triggerAction:{type:A.FOLLOW_USER}}]:[!1,null]}const j=(e,t,n,c,_)=>v=>{const x=e.getEvents(),C=t.getEvents(),w=n.getEvents(),I=c.getEvents();return x.addListener(u.AU.ACTION,(e=>{((e,t,n)=>{const s=t.getState(),{isAnonymous:a}=(0,E.cx)(s);if(!a)return!1;switch(e.action){case u.ye.PLAY:{const{context:s,options:a}=e,l=function(e){return e.pages&&e.pages.length>0&&e.pages[0].items&&e.pages[0].items.length>0?e.pages[0].items[0]:null}(s);if(l?.type===g.s.EPISODE&&(o=l,void 0===o.metadata?.anonymousPlaybackAllowed||o.metadata.anonymousPlaybackAllowed))return!1;const c=a?.skipTo?.uri??s.uri;n.storeAction(r.xx,e);const[d,m]=P(u.ye.PLAY,c);return d?(i.F.set((e=>({...e,...m}))),!0):(t.dispatch((0,b.cP)(c)),!0)}case u.ye.SKIP_TO_NEXT:case u.ye.SKIP_TO_PREVIOUS:return t.dispatch((0,b.cP)()),!0;default:return!1}var o})(e.data,v,_)&&e.preventDefault()})),C.addListener(d.Wg.OPERATION,(e=>{((e,t,n)=>{const s=t.getState(),{isAnonymous:a}=(0,E.cx)(s);if(!a)return!1;if(e.operation===d.aG.ADD){const[s]=e.uris;n.storeAction(r.us,e);const[a,o]=P(d.aG.ADD,s);return a?(i.F.set((e=>({...e,...o}))),!0):(t.dispatch((0,b.cP)(s)),!0)}return!1})(e.data,v,_)&&e.preventDefault()})),w.addListener(h.KB.OPERATION,(e=>{((e,t,n)=>{const s=t.getState(),{isAnonymous:a}=(0,E.cx)(s);if(!a)return!1;switch(e.operation){case h.gd.ADD:{const[s]=e.uris;n.storeAction(r.Jt,e);const[a,o]=P(h.gd.ADD,s);return a?(i.F.set((e=>({...e,...o}))),!0):(t.dispatch((0,b.cP)(s)),!0)}case h.gd.CREATE_PLAYLIST:{const[e,n]=P(h.gd.CREATE_PLAYLIST,"");return e?(i.F.set((e=>({...e,...n}))),!0):(t.dispatch((0,b.cP)(null)),!0)}default:return!1}})(e.data,v,_)&&e.preventDefault()})),I.addListener(a.gz.OPERATION,(e=>{((e,t,n)=>{const s=t.getState(),{isAnonymous:o}=(0,E.cx)(s);if(!o)return!1;if(e.operation===a.nv.FOLLOW_USER){const[s]=e.uris;n.storeAction(r.y4,e);const[o,l]=P(a.nv.FOLLOW_USER,s);return o?(i.F.set((e=>({...e,...l}))),!0):(t.dispatch((0,b.cP)(s)),!0)}return!1})(e.data,v,_)&&e.preventDefault()})),t=>n=>{const i=v.getState(),{isAnonymous:a}=(0,E.cx)(i),c=new URL(location.href).searchParams.has("signupPrompt");if(a){if(!O(v,n)){switch(n.type){case y.i2.ANONYMOUS_LOGIN_CLICK:{const t=e.getState();if(function(e){return(0,p.IX)(e)===m.gp.PLAYING&&(0,m.sN)(e?.item??void 0)}(t)){const n=function(e,t){if(!e?.item)return null;const n={uri:e.context.uri,pages:[{items:[{type:e.item.type,uri:e.item.uri,uid:e.item.uid,metadata:e.item.metadata,provider:e.item.provider}]}]},s={referrerIdentifier:t.getReferrer(),featureIdentifier:"unknown"},i={seekTo:e.positionAsOfTimestamp??void 0};return{action:u.ye.PLAY,context:n,origin:s,options:i}}(t,e);n&&_.storeAction(r.xx,n)}setTimeout(f.KS,500);break}case y.i2.ANONYMOUS_SIGNUP_CLICK:setTimeout(f.mq,500);break;case y.i2.ANONYMOUS_PREMIUM_CLICK:setTimeout((()=>{window.location.assign(l.k0)}),500);break;case S.OG:c&&v.dispatch((0,b.cP)((0,s.nX)(location.pathname)?.toURI()||"")),(0,o.E$)(e,".main-view-container .os-viewport-native-scrollbars-invisible",(0,o.iA)(v),(0,o.Yb)(v))}t(n)}}else t(n)}}},21884:(e,t,n)=>{"use strict";n.d(t,{E$:()=>c,Yb:()=>l,iA:()=>o,sL:()=>r});var s=n(50799),i=n(59448);const r="ANONYMOUS_PLAYBACK_HOOK",a=(e,t)=>{const n=t?.item?.type;e.dispatch((e=>({type:r,entityType:e}))(n))},o=e=>t=>{a(e,t)},l=e=>(t,n,s)=>{const r=e.getState(),a=r?.ui?.modal,o=((e,t,n,s)=>{const r=((0,i.E)(n)??0)>1e4,a=document.hasFocus();return!e&&r&&a&&s&&"now-playing-view"!==t})(t,a,n,s);return o},c=(e,t,n,i)=>{let r=!1,a=Date.now(),o=document.querySelector(t);const l=e.getEvents(),c=()=>{a=Date.now()},d=()=>{o||(o=document.querySelector(t),o&&o.addEventListener("scroll",c))},u=({data:e})=>{d();const t=Date.now()-a>1e3;i(r,e,t)&&(r=!0,n(e),l.removeListener(s.AU.UPDATE,u),o&&o.removeEventListener("scroll",c))};l.addListener(s.AU.UPDATE,u),d()}},46156:(e,t,n)=>{"use strict";n.d(t,{UR:()=>p,wv:()=>g,Eh:()=>h,S5:()=>f});var s=n(61032),i=n(57708),r=n(58760),a=n(7392),o=n(29868),l=n(4732),c=n(40188),d=n(61732);var u=n(9999),m=n(85032);const p=(0,s.is)({name:"smartShuffle",initialState:{isOpen:!1},reducers:{open:e=>{e.isOpen=!0},close:e=>{e.isOpen=!1}}}),h=(0,s.is)({name:"personalizedRecommendations",initialState:{isOpen:!1,onConfirm:()=>{}},reducers:{open:(e,t)=>{e.isOpen=!0,e.onConfirm=t.payload.onConfirm},close:e=>{e.isOpen=!1}}}),g=(0,s.is)({name:"personalizedRecommendationsError",initialState:{isOpen:!1},reducers:{open:e=>{e.isOpen=!0},close:e=>{e.isOpen=!1}}}),f=(0,i.TL)({premiumDialog:(e={isOpen:!1},t)=>{switch(t.type){case m.S:{const{product:n,country:s,policies:i}=t.data;return"premium"===n&&!i?.opt_in_trial_premium_only_market||"KR"!==s?e:{...e,isOpen:!0}}case l.types.HIDE_PREMIUM_MODAL:return{...e,isOpen:!1};case l.types.SHOW_PREMIUM_MODAL:return{...e,isOpen:!0};default:return e}},loginToListenDialog:(e={isOpen:!1},t)=>{switch(t.type){case l.types.HIDE_L2L_MODAL:return{...e,isOpen:!1};case l.types.SHOW_L2L_MODAL:return{...e,isOpen:!0};default:return e}},signupToListenDialog:(e={isOpen:!1},t)=>{switch(t.type){case l.types.HIDE_S2L_MODAL:return{...e,isOpen:!1};case l.types.SHOW_S2L_MODAL:return{...e,isOpen:!0};default:return e}},deletePlaylistDialog:(e={isOpen:!1},t)=>{switch(t.type){case l.types.OPEN_DELETE_PLAYLIST_DIALOG:return{...e,isOpen:!0,uri:t.uri};case l.types.CLOSE_DELETE_PLAYLIST_DIALOG:return{...e,isOpen:!1};default:return e}},deleteFolderDialog:(e={isOpen:!1},t)=>{switch(t.type){case l.types.OPEN_DELETE_FOLDER_DIALOG:return{...e,isOpen:!0,uri:t.uri,onDeleteCallback:t.onDeleteCallback};case l.types.CLOSE_DELETE_FOLDER_DIALOG:return{...e,isOpen:!1};default:return e}},removeFromLibraryDialog:(e={isOpen:!1},t)=>{switch(t.type){case l.types.OPEN_REMOVE_FROM_LIBRARY_DIALOG:return{...e,isOpen:!0,uri:t.uri};case l.types.CLOSE_REMOVE_FROM_LIBRARY_DIALOG:return{...e,isOpen:!1};default:return e}},leavePlaylistDialog:(e={isOpen:!1,playlistUri:null},t)=>{switch(t.type){case l.types.OPEN_LEAVE_PLAYLIST_DIALOG:return{isOpen:!0,playlistUri:t.playlistUri};case l.types.CLOSE_LEAVE_PLAYLIST_DIALOG:return{isOpen:!1,playlistUri:t.playlistUri};default:return e}},blockUserDialog:(e={isOpen:!1},t)=>{switch(t.type){case l.types.OPEN_BLOCK_USER_DIALOG:return{...e,isOpen:!0,uri:t.uri,name:t.name};case l.types.CLOSE_BLOCK_USER_DIALOG:return{...e,isOpen:!1};default:return e}},improvedSignupPromptDialog:(e={uri:null,isOpen:!1},t)=>{switch(t.type){case l.types.OPEN_SIGNUP_PROMPT_DIALOG:return{...e,uri:t.uri,isOpen:!0};case l.types.CLOSE_SIGNUP_PROMPT_DIALOG:return{...e,isOpen:!1};default:return e}},unsupportedBrowser:(e={message:null,isOpen:!1},t)=>{switch(t.type){case l.types.HIDE_UNSUPPORTED_MESSAGE:return{...e,message:null,isOpen:!1};case l.types.SHOW_UNSUPPORTED_MESSAGE:return{...e,message:t.message,isOpen:!0};default:return e}},offlineDeviceLimitReachedDialog:(e={isOpen:!1},t)=>{switch(t.type){case l.types.HIDE_OFFLINE_DEVICE_LIMIT_REACHED_MODAL:return{...e,isOpen:!1};case l.types.SHOW_OFFLINE_DEVICE_LIMIT_REACHED_MODAL:return{...e,isOpen:!0};default:return e}},playbackNotSupportedErrorDialog:(e={isOpen:!1,hasOccurred:!1},t)=>{switch(t.type){case l.types.HIDE_PLAYBACK_NOT_SUPPORTED_MODAL:return{...e,isOpen:!1};case l.types.SHOW_PLAYBACK_NOT_SUPPORTED_MODAL:return{...e,isOpen:!0,hasOccurred:!0};default:return e}},errorPage:(e={isError:!1,name:""},t)=>{switch(t.type){case a.i2.CDM_ERROR:return{...e,isError:!0,name:"cdmerror"};case a.i2.HARMONY_MAX_SUBSCRIPTIONS_REACHED:return{...e,isError:!0,name:"max_subscriptions_reached"};default:return e}},fullscreenMode:(e={isOpen:!1},t)=>{switch(t.type){case l.types.OPEN_FULLSCREEN_MODE:return{isOpen:!0};case l.types.CLOSE_FULLSCREEN_MODE:case l.types.LEAVE_FULLSCREEN:return{isOpen:!1};default:return e}},connectDevicePicker:(e={isOpen:!1},t)=>{switch(t.type){case l.types.CONNECT_DEVICE_PICKER_OPENED:return{...e,isOpen:!0};case l.types.CONNECT_DEVICE_PICKER_CLOSED:return{...e,isOpen:!1};default:return e}},connectNudge:(e={isOpen:!1},t)=>{switch(t.type){case l.types.SHOW_CONNECT_NUDGE:return{...e,isOpen:!0};case l.types.HIDE_CONNECT_NUDGE:return{...e,isOpen:!1};default:return e}},videoPlayer:r.q4,textDirection:(e={isRTL:!1},t)=>t.type===o.i2.SET_RTL_MODE?{...e,isRTL:t.isRTL}:e,history:(e={canGoBack:!1,canGoForward:!1},t)=>t.type===l.types.UPDATE_UI_HISTORY_STATE?t.historyState:e,keyboardShortcutsHelpModal:(e={isOpen:!1},t)=>t.type===l.types.SET_KEYBOARD_SHORTCUTS_HELP_VISIBILITY?{...e,isOpen:t.isOpen}:e,trackCreditsModal:(e={isOpen:!1,trackUri:""},t)=>t.type===l.types.SHOW_TRACK_CREDITS?{...e,isOpen:t.isOpen,trackUri:t.trackUri}:e,removeDownloadsDialog:(e={isOpen:!1},t)=>{switch(t.type){case l.types.OPEN_REMOVE_DOWNLOADS_DIALOG:return{...e,isOpen:!0};case l.types.CLOSE_REMOVE_DOWNLOADS_DIALOG:return{...e,isOpen:!1};default:return e}},clearCacheDialog:(e={isOpen:!1},t)=>{switch(t.type){case l.types.OPEN_CLEAR_CACHE_DIALOG:return{...e,isOpen:!0};case l.types.CLOSE_CLEAR_CACHE_DIALOG:return{...e,isOpen:!1};default:return e}},renameFolderModal:(e={isOpen:!1,name:"",handleRename:()=>{}},t)=>{switch(t.type){case"OPEN_RENAME_FOLDER_MODAL":return{...e,isOpen:!0,name:t.name,handleRename:t.handleRename};case"CLOSE_RENAME_FOLDER_MODAL":return{...e,isOpen:!1};default:return e}},artistAboutDialog:(e={isOpen:!1,data:null},t)=>{switch(t.type){case l.types.OPEN_ARTIST_ABOUT_DIALOG:return{...e,data:t.data,isOpen:!0};case l.types.CLOSE_ARTIST_ABOUT_DIALOG:return{...e,data:null,isOpen:!1};default:return e}},yourDJUpsellDialog:(e={isOpen:!1},t)=>{switch(t.type){case l.types.OPEN_YOUR_DJ_UPSELL_MODAL:return{isOpen:!0};case l.types.CLOSE_YOUR_DJ_UPSELL_MODAL:return{isOpen:!1};default:return e}},lyrics:(e={mode:c.ch.none},t)=>{switch(t.type){case d.XF.SET_LYRICS_MODE:return{...e,mode:t.mode};case d.XF.SET_LYRICS_TRANSLATION_LANGUAGE:return{...e,translationLanguage:t.language};default:return e}},removeDownloadConfirmationDialog:(e={isOpen:!1},t)=>{switch(t.type){case l.types.OPEN_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG:return{uri:t.uri,isOpen:!0,onConfirm:t.onConfirm,onCancel:t.onCancel,remoteDeviceInfo:t.remoteDeviceInfo};case l.types.CLOSE_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG:return{isOpen:!1};default:return e}},bookConsumptionCapModal:(e={isOpen:!1,consumptionCapExplanation:{title:"",body:"",cta:""}},t)=>{switch(t.type){case l.types.OPEN_BOOK_CONSUMPTION_CAP_MODAL:return{...e,isOpen:!0,consumptionCapExplanation:t.consumptionCapExplanation};case l.types.CLOSE_BOOK_CONSUMPTION_CAP_MODAL:return{...e,isOpen:!1};default:return e}},dsaDialog:(e={isOpen:!1,item:null},t)=>{switch(t.type){case l.types.OPEN_DSA_DIALOG:return{...e,isOpen:!0,item:t.item};case l.types.CLOSE_DSA_DIALOG:return{...e,isOpen:!1,item:null};default:return e}},jamModalState:(e={isOpen:!1},t)=>{switch(t.type){case l.types.OPEN_JAM_MODAL:return{...e,isOpen:!0,modalType:t.modalType,joinToken:t.joinToken,memberToRemove:t.memberToRemove};case l.types.CLOSE_JAM_MODAL:return{...e,isOpen:!1,modalType:void 0,joinToken:void 0,memberToRemove:void 0};default:return e}},introducingSmartShuffleModal:p.reducer,turnOffPersonalizedRecommendationsModal:h.reducer,transcript:u.yF,personalizedRecommendationsErrorModal:g.reducer})},15040:(e,t,n)=>{"use strict";n.d(t,{A3I:()=>bt,A9z:()=>kt,AVm:()=>oe,AXs:()=>Te,Af5:()=>r.Af,CEK:()=>Ye,CGS:()=>ve,CK4:()=>He,Caq:()=>x,CwE:()=>$,Cyy:()=>p,E$H:()=>B,EFc:()=>Ct,EFu:()=>Qe,EVL:()=>r.EV,EvA:()=>O,ExF:()=>nt,FBk:()=>Ze,G2b:()=>r.G2,GUT:()=>D,G_1:()=>Le,INV:()=>b,IPY:()=>At,Ier:()=>qe,KEr:()=>f,KLu:()=>P,KMh:()=>_t,KY:()=>A,KY5:()=>lt,K_l:()=>be,Kob:()=>rt,KqP:()=>me,Ksj:()=>r.Ks,LBj:()=>V,M1F:()=>at,M45:()=>Q,M5A:()=>h,M9k:()=>gt,M9x:()=>z,MD1:()=>r.MD,MF0:()=>re,MJI:()=>Ot,ML9:()=>ce,MVg:()=>et,MXe:()=>r.MX,MdG:()=>Ee,O8K:()=>Oe,OJ0:()=>Pt,OMw:()=>N,OSC:()=>Tt,OVM:()=>r.OV,OyH:()=>it,Q6m:()=>d,QFh:()=>De,QPN:()=>T,QRC:()=>Ce,QdQ:()=>dt,RTD:()=>r.RT,SEH:()=>ye,SIw:()=>Ae,SOB:()=>K,SsF:()=>Me,SuL:()=>r.Su,Sw:()=>r.Sw,U71:()=>ue,UHG:()=>C,Ub_:()=>M,UxD:()=>le,UxK:()=>q,W4V:()=>Y,W8I:()=>u,WAO:()=>Je,WCY:()=>R,WEs:()=>w,WIf:()=>r.WI,WQf:()=>ct,WSC:()=>F,WWM:()=>E,We:()=>r.DT,We3:()=>k,Wel:()=>r.We,Wwy:()=>$e,Y50:()=>ee,YD5:()=>St,YVp:()=>mt,Yfs:()=>Z,_Ok:()=>ft,_Oo:()=>j,_SJ:()=>It,_gx:()=>a,_oY:()=>_,aik:()=>yt,c$p:()=>pt,cBv:()=>U,cGB:()=>ot,cLf:()=>G,cdb:()=>c,ct1:()=>ht,e46:()=>Xe,eAS:()=>xe,eU6:()=>tt,eWF:()=>Pe,ecP:()=>W,egq:()=>Ue,emd:()=>H,eo7:()=>vt,eqy:()=>y,gPb:()=>se,gVG:()=>ze,gbJ:()=>ne,ghs:()=>te,gxy:()=>_e,i0e:()=>g,iIu:()=>ke,iK$:()=>Se,iQs:()=>Et,ieB:()=>st,ikI:()=>Fe,imM:()=>Re,iy_:()=>ae,kXQ:()=>r.kX,kdo:()=>pe,knK:()=>X,krx:()=>r.kr,m5c:()=>J,mS1:()=>o,maj:()=>wt,msV:()=>fe,o5q:()=>r.o5,oR8:()=>r.oR,oZO:()=>he,oZY:()=>de,obX:()=>ge,odN:()=>r.od,ofi:()=>L,p6A:()=>I,q8O:()=>m,qWU:()=>We,qaN:()=>je,qao:()=>Nt,qq7:()=>we,qwu:()=>ie,s1W:()=>xt,sQt:()=>S,sTF:()=>ut,sjj:()=>v,sxW:()=>Be,szt:()=>r.sz,w9z:()=>Ge,wNQ:()=>r.wN,wze:()=>Ie,yKe:()=>l,yQu:()=>Ve,yci:()=>r.yc,ymn:()=>Ne,yqp:()=>r.yq});var s=n(46064),i=n(59636),r=n(24544);let a=function(e){return e.DEFAULT="DEFAULT",e.CALLOUT="CALLOUT",e.ONHOME="ONHOME",e}({}),o=function(e){return e.DISABLED="DISABLED",e.HELMET="HELMET",e.HELMET_AND_SOUND="HELMET_AND_SOUND",e.FELIX="FELIX",e}({});const l=(0,s.sV)({name:"useOptimizedESS2NA",description:"Enables ESS2NA optimization in Event Sender",default:!1}),c=(0,s.sV)({name:"enableInAppMessagingPreview",description:"Enables operators to preview In-App Messages on DesktopX.",default:!1}),d=(0,s.sV)({name:"enableInAppMessagingDevEnvironment",description:"Initializes In-App Messaging to use dev endpoints for testing purposes",default:!1}),u=(0,s.sV)({name:"enableInAppMessaging",description:"Enables quicksilver in-app messaging modal",default:!0}),m=(0,s.sV)({name:"enableNonUserTriggeredPopovers",description:"Enables programmatically triggered popovers",default:!0}),p=(0,s.sV)({name:"enableSingAlong",description:"Enables SingAlong in the Lyrics feature",default:!1}),h=(0,s.sV)({name:"enableSubtitlesAutogeneratedLabel",description:'Add "(autogenerated)" label in the subtitle picker',default:!1}),g=(0,s.wj)({name:"searchVisibilityTest",description:"Test to improve search visibility",values:a,default:a.DEFAULT}),f=(0,s.sV)({name:"enableBlockUsers",description:"Enable block users feature in clientX",default:!1}),y=(0,s.sV)({name:"enableEpisodeSponsors",description:"Enable episode sponsors section on the Episode Page",default:!1}),_=(0,s.c3)({name:"episodeSponsorsFetchDelay",description:"Amount of time to wait after a podcast ad starts streaming before fetching the ad's accompanying display ad",default:4200,lower:3888,upper:4242}),b=(0,s.sV)({name:"podcastaudioplus-episode_entity",description:"Enable the Sponsored By section on the Episode Page with Call to Action cards",default:!1}),v=((0,s.sV)({name:"podcastads-ads_npb",description:"Enable the podcast ads Now Playing Bar experience, including features like the podcast ad Now Playing Bar hat",default:!1}),(0,s.sV)({name:"podcastaudioplus-show_page",description:"Enable show sponsors section on the Show Page",default:!1})),x=((0,s.sV)({name:"enableHifi",description:"Enable Hifi indicator and flyout",default:!1}),(0,s.sV)({name:"enableMidyearExperiment",description:"Enable Mid-Year Upsell Experiment",default:!1})),C=(0,s.sV)({name:"enablePlaylistPermissionsProd",description:"Enable Playlist Permissions flows for Prod",default:!1}),E=((0,s.sV)({name:"enableAudiobooks",description:"Enable Audiobooks feature on ClientX",default:!1}),(0,s.sV)({name:"enableTopBarAuthorizationIndicator",description:"Enable authorization indicator in Top Bar",default:!1})),S=(0,s.sV)({name:"enableDiscographyShelf",description:"Enable a condensed disography shelf on artist pages",default:!1}),w=(0,s.sV)({name:"enableContentInformationMessage",description:"Enable showing content information messages for episodes",default:!1}),I=(0,s.sV)({name:"enableIgnoreInRecommendations",description:"Enable Ignore In Recommendations for desktop and web",default:!1}),A=(0,s.sV)({name:"enableLyricsMatch",description:"Enable Lyrics match labels in search results",default:!1}),T=(0,s.sV)({name:"enableStrangerThingsEasterEgg",description:"Enable the Stranger Things upside down Easter Egg",default:!1}),k=(0,s.sV)({name:"enableAlbumReleaseAnniversaries",description:"Enable showing balloons on album release date anniversaries",default:!1}),N=(0,s.sV)({name:"enableSearchV3",description:"Enable new Search experience",default:!1}),O=(0,s.sV)({name:"enableYLXFullCaching",description:"On desktop enable full caching of ylx data for better performance",default:!1}),P=(0,s.sV)({name:"enableRightSidebarTransitionAnimations",description:"Enable the slide-in/out transition on the right sidebar",default:!1}),j=(0,s.sV)({name:"enableRightSidebarLyrics",description:"Show lyrics in the right sidebar",default:!1}),L=(0,s.sV)({name:"enableNPVCreditsWithLinkability",description:"Show credits in the right sidebar",default:!1}),R=(0,s.sV)({name:"enableRightSidebarExtractedColors",description:"Extract background color based on artwork image",default:!1}),D=(0,s.sV)({name:"enableEmployeeLeaderboardArtists",description:"Enable Artist listening Leaderboard for employees",default:!1}),M=(0,s.sV)({name:"enablePiPMiniPlayer",description:"Enable the PiP Mini Player",default:!1}),U=(0,s.sV)({name:"enablePiPMiniPlayerVideo",description:"Enable playback of video inside the PiP Mini Player",default:!1}),F=(0,s.sV)({name:"enableCinemaMode",description:"Enable cinema mode",default:!0}),B=(0,s.sV)({name:"enableEmployeeLeaderboardPlaylist2022",description:"Enable Playlist listening Leaderboard for employees",default:!1}),G=(0,s.sV)({name:"enableReportPodcastShows",description:"Enable Report action for podcast shows",default:!1}),V=(0,s.sV)({name:"enableReportPodcastEpisodes",description:"Enable Report action for podcast episodes",default:!1}),H=(0,s.sV)({name:"enableReportAudiobooks",description:"Enable Report action for audiobooks",default:!1}),W=(0,s.sV)({name:"enableReportAudiobookChapters",description:"Enable Report action for audiobook chapters",default:!1}),z=(0,s.sV)({name:"enableDebugWindowBrowserShortcut",description:"Enable Debug Window browser shortcut to make it useable on Web Player",default:!1}),Y=(0,s.sV)({name:"enableWhatsNewFeedMainView",description:"Enable Whats new feed in the main view",default:!1}),K=(0,s.sV)({name:"enableSilenceTrimmer",description:"Enable silence trimming in podcasts",default:!1}),q=(0,s.sV)({name:"enableDynamicNormalizer",description:"Enable the dynamic normalizer/compressor",default:!1}),Q=(0,s.sV)({name:"enableOtfn",description:"Enable On-The-Fly-Normalization",default:!1}),X=(0,s.sV)({name:"enableNonBrowseMerchHub",description:"Render merch hub using custom components rather than Browse",default:!1}),$=(0,s.sV)({name:"enablePuffin",description:"Enables the Puffin feature",default:!1}),J=(0,s.sV)({name:"enableYourDJ",description:'Enables the "Your DJ" feature',default:!1}),Z=(0,s.sV)({name:"enableShowFollowsSetting",description:"Enable a setting to control if followers and following lists are shown on profile",default:!1}),ee=(0,s.sV)({name:"enableGatedPodcastSubscriberIndicator",description:"Enable showing label indicating access (Subscriber/Purchased) for gated podcasts in show header",default:!1}),te=(0,s.sV)({name:"enablePremiumPage",description:"Enable Premium Page feature to test conversion within the Desktop/Webplayer",default:!1}),ne=(0,s.sV)({name:"hideUpgradeCTA",description:"Hide the Upgrade CTA button on the Top Bar",default:!1}),se=(0,s.sV)({name:"enableAttackOnTitanEasterEgg",description:"Enable Attack on Titan Easter egg turning progress bar red when playing official soundtrack",default:!1}),ie=(0,s.sV)({name:"enableCulturalMoments",description:"Enable Cultural Moment pagess",default:!1}),re=(0,s.sV)({name:"enablePanelSizeCoordination",description:"Enable Panel Size Coordination between the left sidebar, the main view and the right sidebar",default:!1}),ae=(0,s.sV)({name:"enableRemoteDownloads",description:"Enable remote download support through the offline2 system",default:!1}),oe=(0,s.sV)({name:"enableAlbumPrerelease",description:"Enable album prerelease pages",default:!1}),le=(0,s.sV)({name:"enableYLXTypeaheadSearch",description:"Enable YLX typeahead search letting you start typing a substring and immediately jump to the first matching item",default:!1}),ce=(0,s.sV)({name:"enableDesktopMusicLeavebehinds",description:"Enable music leavebehinds on eligible playlists for desktop",default:!1}),de=(0,s.sV)({name:"enableEsperantoMigration",description:"Enable esperanto Migration for HPTO Ad Format",default:!1}),ue=(0,s.sV)({name:"enableSponsoredPlaylistEsperantoMigration",description:"Enable esperanto Migration for Sponsored Playlist Ad Formats",default:!1}),me=(0,s.sV)({name:"enableDsaAds",description:"Enable showing DSA (Digital Services Act) context menu and modal for ads",default:!1}),pe=(0,s.sV)({name:"enableNewAdsNpv",description:"Enable showing new ads NPV",default:!1}),he=(0,s.sV)({name:"enableNewAdsNpvVideoTakeover",description:"Enable redesigned VideoTakeover for new ads NPV",default:!1}),ge=(0,s.sV)({name:"enableNewAdsNpvNewVideoTakeoverSlot",description:"Enable new modal slot to position redesigned new ads NPV VideoTakeover above all areas except RightSidebar and NPB ",default:!1}),fe=(0,s.sV)({name:"enableNewAdsNpvColorExtraction",description:"Enable CTA card color extraction for new ads NPV",default:!1}),ye=(0,s.sV)({name:"enableNewAdsNpvCanvasAds",description:"Enable Canvas ads for new ads NPV",default:!1}),_e=((0,s.sV)({name:"enableHomeAds",description:"Enable Fist Impression Takeover ads on Home Page",default:!1}),(0,s.wj)({name:"enableMandalorianEasterEgg",description:"Enable the Mandalorian easter-egg",values:o,default:o.DISABLED})),be=(0,s.sV)({name:"enablePrefetching",description:"Enable prefetching of data for some entity views",default:!1}),ve=(0,s.sV)({name:"enableAlbumCoverArtModal",description:"Enable the cover art modal on the Album page",default:!1}),xe=(0,s.sV)({name:"enableABP",description:"Enable ABP",default:!1}),Ce=(0,s.sV)({name:"enableUnsupportedBooklistMessage",description:"Enable showing a message that audiobooks in playlists are currently not supported",default:!1}),Ee=(0,s.sV)({name:"enableAlignedCuration",description:"Enable Aligned Curation",default:!1}),Se=(0,s.sV)({name:"enableEncoreListRowMigration",description:"Enable Encore ListRow component migration for EpisodeBlock and ChapterBlock",default:!1}),we=(0,s.sV)({name:"enableHeBringsNpb",description:"he brings you playback progress",default:!1}),Ie=(0,s.wj)({name:"enableSocialConnectOnDesktop",description:"Enable the Social Connect API that powers group listening sessions for Desktop",values:i.I,default:i.I.DISABLED}),Ae=(0,s.wj)({name:"enableSocialConnectOnDesktopWebPlayer",description:"Enable the Social Connect API that powers group listening sessions for Desktop Web Player",values:i.I,default:i.I.DISABLED}),Te=(0,s.sV)({name:"enableNewConnectBar",description:"New Connect Bar without arrow and clickable elements",default:!1}),ke=(0,s.sV)({name:"enableDevicePickerSidePanel",description:"Enables Device Picker as a side panel",default:!1}),Ne=(0,s.sV)({name:"addYourDJToLibraryOnPlayback",description:"Add Your DJ to library on playback",default:!1}),Oe=(0,s.sV)({name:"enableRightSidebarArtistEnhanced",description:"Enable Artist about V2 section in NPV",default:!1});let Pe=function(e){return e.DEFAULT="DEFAULT",e.CONTROL="CONTROL",e.VARIANT="VARIANT",e}({});const je=(0,s.wj)({name:"enableInternalTrackSearch",description:"Enable internal track search on desktop UI",values:Pe,default:Pe.DEFAULT}),Le=(0,s.sV)({name:"enableReadAlongTranscripts",description:"Enable read along transcripts in the NPV",default:!1}),Re=(0,s.sV)({name:"enableQueueOnRightPanel",description:"Enable Queue on the right panel.",default:!1}),De=(0,s.sV)({name:"enableGroupSessionEntrypointInQueue",description:"Enable Group Session entrypoint in the queue.",default:!1}),Me=(0,s.sV)({name:"enableQueueOnRightPanelAnimations",description:"Enable animations for Queue on the right panel.",default:!1}),Ue=(0,s.sV)({name:"enableTogglePlaylistColumns",description:"Enable ability to toggle playlist column visibility",default:!1}),Fe=(0,s.sV)({name:"canYourDJUserBeConvertedToPremium",description:"Flag that controls if a user can be converted to premium when showing the DJ upsell",default:!1}),Be=(0,s.sV)({name:"canYourDJUserUseDesktopApp",description:"Flag that controls if a user can have the DJ on desktop",default:!1}),Ge=(0,s.sV)({name:"forceYourDJHomeCard",description:"Force YourDJHomeCard to appear",default:!1});let Ve=function(e){return e.CONTROL="CONTROL",e.TRUNCATED_LYRICS="TRUNCATED_LYRICS",e.EMPTY_LYRICS="EMPTY_LYRICS",e}({});const He=(0,s.wj)({name:"forceLyricsUpsell",description:"Force Lyrics Upsell for testing",values:Ve,default:Ve.CONTROL}),We=(0,s.sV)({name:"enableAudiobookAdExclusivity",description:"Enable Audiobook Ad Formats Exclusivity",default:!1}),ze=(0,s.sV)({name:"enableAudiobookList",description:"Enable Audiobook specific playlist experience",default:!1}),Ye=(0,s.sV)({name:"enableFC24EasterEgg",description:"Enable EA FC 24 easter egg",default:!1});let Ke=function(e){return e.CONTROL="CONTROL",e.UPSELL_SIMPLE="UPSELL_SIMPLE",e.UPSELL_POPOVER="UPSELL_POPOVER",e}({});(0,s.wj)({name:"musicVideosPremiumUpsell",description:"Testing Premium upsell for Free users on music videos",values:Ke,default:Ke.CONTROL});const qe=(0,s.sV)({name:"enableNPVideosV2",description:"Enable NPV 2.0 Video experience for testing",default:!1}),Qe=(0,s.sV)({name:"enablePodcastDescriptionAutomaticLinkification",description:"Linkifies anything looking like a url in a podcast description.",default:!1}),Xe=(0,s.sV)({name:"enableNpvAboutPodcast",description:"Enable About Podcast section in NPV",default:!1}),$e=(0,s.sV)({name:"enableRelatedVideos",description:"Enable Related Video section in NPV",default:!1}),Je=(0,s.sV)({name:"enableHomeSubfeeds",description:"Enable Subfeed filter chips on home",default:!1}),Ze=(0,s.sV)({name:"enableDSASetting",description:"Enable DSA (Digital Service Act) features for desktop and web",default:!1}),et=(0,s.sV)({name:"enableEncorePlaybackButtons",description:"Use Encore components in playback control components",default:!1}),tt=(0,s.sV)({name:"enableEightShortcuts",description:"Increase max number of shortcuts on home to 8",default:!1}),nt=(0,s.sV)({name:"enablePodcastChaptersInNpv",description:"Enable showing podcast chapters in NPV",default:!1}),st=(0,s.sV)({name:"enableAiDubbedEpisodesInNpv",description:"Enable showing AI dubbed episodes in NPV",default:!1}),it=(0,s.sV)({name:"enableHomeAdBanner",description:"Enables temporary home banner",default:!1}),rt=(0,s.sV)({name:"enableHomeAdStaticBanner",description:"Enables temporary home banner, static version",default:!1}),at=(0,s.sV)({name:"enableEncoreCards",description:"Enables all cards throughout app to be Encore Cards",default:!1}),ot=(0,s.sV)({name:"enableEpisodeLeavebehindConsolidation",description:"Enable podcast leavebehinds consolidated experience",default:!1}),lt=(0,s.sV)({name:"enableShowLeavebehindConsolidation",description:"Enable show leavebehinds consolidated experience",default:!1}),ct=(0,s.sV)({name:"showUserTopContent",description:"Show top tracks and top artists on profile page",default:!0}),dt=(0,s.sV)({name:"enableConcertsNearYouFeedPromoDWP",description:"Show the promo card for Concerts Near You playlist on Concert Feed",default:!1}),ut=(0,s.sV)({name:"enableConcertEntityPathfinderDWP",description:"Use pathfinder for the concert entity page on DWP",default:!1}),mt=(0,s.sV)({name:"enableConcertLinkToArtistConcertsDWP",description:"Links on concert page to artist concerts",default:!1});let pt=function(e){return e.CONTROL="control",e.HOME_NEXT_TO_NAVIGATION="home-next-to-navigation",e.HOME_NEXT_TO_SEARCH="home-next-to-search",e}({});const ht=(0,s.wj)({name:"enableGlobalNavBar",description:"Show global nav bar with home button, search input and user avatar",default:pt.CONTROL,values:pt}),gt=(0,s.sV)({name:"enableResizableTracklistColumns",description:"Enable resizable tracklist columns",default:!1});let ft=function(e){return e.DEFAULT="default",e.CONTROL="control",e.ABOVE="above",e.BELOW="below",e}({});const yt=(0,s.wj)({name:"enableILRAlbumOnDWP",description:"Enable internal link recommender component for album pages",values:ft,default:ft.DEFAULT}),_t=(0,s.sV)({name:"enableBanArtistAction",description:"Enable context menu action to ban/unban artists",default:!1}),bt=(0,s.sV)({name:"enableLikedSongsFilterTags",description:"Show filter tags on the Liked Songs entity view",default:!1}),vt=(0,s.sV)({name:"enableAnonymousVideoPlayback",description:"Enables anonymous users to play video podcasts",default:!1}),xt=(0,s.sV)({name:"enablePremiumUserForMiniPlayer",description:"Enables premium user flag for mini player",default:!1}),Ct=(0,s.sV)({name:"enableLeavebehindsMockData",description:"Use the mock endpoint to fetch Leavebehinds from AP4P",default:!1}),Et=(0,s.sV)({name:"enableReactQueryPersistence",description:"Enable React Query persistence",default:!1}),St=(0,s.sV)({name:"enableNotificationCenter",description:"Enables notification center for desktop & web",default:!1}),wt=(0,s.sV)({name:"enableLearningHomeCard",description:"Enable Learning Home Card",default:!1}),It=(0,s.sV)({name:"enablePodcastSponsoredContent",description:"Enable sponsored content information for podcasts",default:!1}),At=(0,s.sV)({name:"enableFullscreenMode",description:"Enable fullscreen mode",default:!1}),Tt=(0,s.sV)({name:"enableYLXPrereleaseAlbums",description:"Enables album pre-releases in YLX",default:!1}),kt=((0,s.sV)({name:"enableYLXPrereleaseAudiobooks",description:"Enables audiobook pre-releases in YLX",default:!1}),(0,s.sV)({name:"enablePipImpressionLogging",description:"Enables impression logging for PiP",default:!1})),Nt=(0,s.sV)({name:"enableGPCSignal",description:"Enables sending of the GPC signal to the backend",default:!1}),Ot=((0,s.sV)({name:"enableMoreLikeThisPlaylist",description:"Enables More Like This playlist for playlists the user cannot edit",default:!1}),(0,s.sV)({name:"enableWatchFeed",description:"Enable Watch Feed feature",default:!1}),(0,s.sV)({name:"enableBillboardEsperantoMigration",description:"Enable esperanto migration for Billboard Ad Format",default:!1}),(0,s.sV)({name:"enableShowRating",description:"Enables new UI for rating books and podcasts",default:!1})),Pt=(0,s.sV)({name:"enableEsperantoMigrationLeaderboard",description:"Enable esperanto Migration for Leaderboard Ad Format",default:!1})},66872:(e,t,n)=>{"use strict";n.d(t,{Qf:()=>d,Qr:()=>r,eK:()=>c,im:()=>i,uK:()=>a,wd:()=>o,yQ:()=>l});const s=e=>`:${e}`,i=s("showId"),r=e=>`/show/${e}`,a=r(i),o="episodeId",l=s(o),c=e=>`/episode/${e}`,d=c(l)},99640:(e,t,n)=>{"use strict";n.d(t,{SS:()=>s,y4:()=>r,yC:()=>i});const s=e=>{let t;return t=e.session.user?e.session.user.country:e.session.market,void 0===t&&e.session.productState&&(t=e.session.productState.country),t},i=e=>"KR"===s(e),r=e=>"RU"===s(e)},32848:(e,t,n)=>{"use strict";n.d(t,{Oq:()=>a,Y3:()=>r});var s=n(76288);const i=e=>e.features,r=((0,s.M3)(i,(e=>e?.enableShows||!1)),(0,s.M3)(i,(e=>e?.enableI18nLocales||!1))),a=(0,s.M3)(i,(e=>e?.isI18nAdditionalPagesEnabled||!1))},68964:(e,t,n)=>{"use strict";n.d(t,{Go:()=>l,SM:()=>r,YP:()=>a,Yf:()=>o,cx:()=>s,q2:()=>i});const s=e=>e.session,i=e=>e.session?.user||void 0,r=e=>"free"===e.session?.productState?.catalogue?.toLowerCase(),a=e=>e.session?.user?.display_name,o=e=>e.session?.user?.id,l=e=>"1"===e.session?.productState?.["filter-explicit-content"]},85032:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i,S:()=>s});const s="REQUEST_ME_SUCCESS",i="REQUEST_PRODUCT_STATE_SUCCESS"},54420:(e,t,n)=>{"use strict";n.d(t,{OG:()=>a,c7:()=>o,sV:()=>g,AJ:()=>u,YX:()=>m,I$:()=>p,M$:()=>f,cF:()=>C,_i:()=>y,K6:()=>_,Cn:()=>h});const s="ACCESS_TOKEN_UPDATE_SUCCESS",i="UPDATE_DISPLAY_NAME_SUCCESS",r="PROFILE_IMAGES_UPDATE_SUCCESS",a="LOAD",o="LOGOUT_REQUEST",l="LOGOUT_SUCCESS",c="SET_COUNTRY_OVERRIDE",d="SET_LOCALE_OVERRIDE";function u(){return{type:a}}function m(){return{type:o}}function p(){return{type:l}}function h(e){return{type:s,authData:e}}function g(e){return{type:i,name:e}}function f(e){return{type:r,images:e}}function y(e){return{type:c,country:e}}function _(e){return{type:d,locale:e}}var b=n(12100),v=n(85032);const x={isAnonymous:!0,accessToken:"",accessTokenExpirationTimestampMs:0,user:null,locale:b.u2.en,productState:null,market:"",valid:!1,overrides:null};function C(e=x,t){switch(t.type){case v.S:return{...e,user:t.data};case v.Q:return{...e,productState:t.data};case s:return{...e,accessToken:t.authData.accessToken,accessTokenExpirationTimestampMs:t.authData.accessTokenExpirationTimestampMs,isAnonymous:t.authData.isAnonymous,valid:!0};case i:return e.user?{...e,user:{...e.user,display_name:t.name}}:e;case r:return e.user?{...e,user:{...e.user,images:t.images}}:e;case c:return{...e,overrides:{...e.overrides,country:t.country}};case d:return{...e,overrides:{...e.overrides,locale:t.locale}};default:return e}}},40188:(e,t,n)=>{"use strict";n.d(t,{G8:()=>i,SI:()=>r,ch:()=>s});let s=function(e){return e.none="none",e.npv="npv",e.cinema="cinema",e}({}),i=function(e){return e.none="none",e.npv="npv",e.cinema="cinema",e.fullscreen="fullscreen",e}({}),r=function(e){return e.INVITE="invite",e.JOIN="join",e.REDIRECT="redirect",e.LEAVE_SESSION="leaveSession",e.END_SESSION="endSession",e.SESSION_ENDED="sessionEnded",e.REMOVE_PARTICIPANT="remove_participant",e.ERROR="error",e.MOBILE_ONLY="mobileOnly",e}({})},70684:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});class s extends Error{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace?.(this,this.constructor)}}},26208:(e,t,n)=>{"use strict";n.d(t,{AZ:()=>s,_B:()=>o,u0:()=>i});let s=function(e){return e.DEFAULT="DEFAULT",e.ENCORE_CARDS="ENCORE_CARDS",e}({}),i=function(e){return e.NEW_CARDS="newCards",e}({});const r={MINIMUM_COLUMN_WIDTH:180,TWO_COLUMNS_MAX_WIDTH:500,THREE_COLUMNS_MAX_WIDTH:700,FOUR_COLUMNS_MAX_WIDTH:850,MIN_COLUMNS_COUNT:2,COLUMN_GRID_GAP:24,COLUMN_GRID_GAP_MEDIUM:18,COLUMN_GRID_GAP_SMALL:12},a={[s.DEFAULT]:()=>r,[s.ENCORE_CARDS]:()=>{return e={COLUMN_GRID_GAP:0,COLUMN_GRID_GAP_MEDIUM:0,COLUMN_GRID_GAP_SMALL:0},{...r,...e};var e},[i.NEW_CARDS]:(e=1)=>({MINIMUM_COLUMN_WIDTH:140*e,TWO_COLUMNS_MAX_WIDTH:300*e,THREE_COLUMNS_MAX_WIDTH:500*e,FOUR_COLUMNS_MAX_WIDTH:700*e,MIN_COLUMNS_COUNT:1,COLUMN_GRID_GAP:0,COLUMN_GRID_GAP_MEDIUM:0,COLUMN_GRID_GAP_SMALL:0})};const o=(e,t)=>a[e](t)},37852:(e,t,n)=>{"use strict";n.d(t,{YB:()=>r,gN:()=>i});const s=(e,t)=>{const n=((e,t)=>e<t.TWO_COLUMNS_MAX_WIDTH?2:e<t.THREE_COLUMNS_MAX_WIDTH?3:e<t.FOUR_COLUMNS_MAX_WIDTH?4:Math.floor((e+t.COLUMN_GRID_GAP)/(t.MINIMUM_COLUMN_WIDTH+t.COLUMN_GRID_GAP)))(e,t),s=((e,t)=>2===e?t.COLUMN_GRID_GAP_SMALL:3===e?t.COLUMN_GRID_GAP_MEDIUM:t.COLUMN_GRID_GAP)(n,t);return{columnCountMainGrid:n,gapMainGrid:s,columnWidthMainGrid:Number(((e-(n-1)*s)/n).toFixed(4))}},i=(e,t,n)=>{const{gapMainGrid:i,columnWidthMainGrid:r,columnCountMainGrid:a}=s(e,n);return(r+i)*t(a)-i},r=(e,t,n)=>{const i=(n.MINIMUM_COLUMN_WIDTH+n.COLUMN_GRID_GAP_SMALL)*n.MIN_COLUMNS_COUNT-n.COLUMN_GRID_GAP_SMALL,r=Math.max(t,i),{gapMainGrid:a,columnWidthMainGrid:o}=s(r,n);return{columnWidth:o,gridGap:a,columnCount:Math.round((e+a)/(o+a)),minContainerWidth:i}}},1072:(e,t,n)=>{"use strict";n.d(t,{WC:()=>s.W,Q$:()=>r,C_:()=>a});var s=n(78390),i=n(96651);let r=function(e){return e[e.loading=0]="loading",e[e.loaded=1]="loaded",e[e.error=2]="error",e}({});function a(e,t){const n=e?r.loading:r.error,[s,a]=(0,i.useState)(n);return(0,i.useEffect)((()=>{const n=()=>{a(r.loaded)},s=()=>{a(r.error)};if(!e)return a(r.error),()=>{};a(r.loading);const i=document.createElement("img");return i.addEventListener("load",n),i.addEventListener("error",s),i.setAttribute("src",e),t&&i.setAttribute("srcSet",t),()=>{i.removeEventListener("load",n),i.removeEventListener("error",s)}}),[e,t]),s}},81604:(e,t,n)=>{"use strict";n.d(t,{oL:()=>o});n(39168);var s=n(81040),i=n(2488);const r=s.wj.Provider,a=s.wj.Consumer,o=({value:e,index:t,children:n})=>(0,i.jsx)(a,{children:s=>{let a=""===s?e:`${s}/${e}`;return"number"==typeof t&&(a=`${a}/${t}`),(0,i.jsx)(r,{value:a,children:n})}})},11816:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});n(73952),n(97296),n(41260),n(91372);var s=n(96651);const i=(e,t=0,n={items:[],invalid:!0,id:0})=>({fetchedId:e.fetchedId,items:Array.from({length:e.totalLength}).map(((s,i)=>{const r=n.invalid?void 0:n.items[i]?.value;return{value:i-t in e.items?e.items[i-t]:r,index:i}})),invalid:!1,id:n.id}),r=e=>e.filter((e=>null!==e.value)),a=e=>{e.invalid=!0,e.id++};function o({initialItems:e,nrItems:t,fetch:n,limit:o=0,cacheAllOnInvalidation:l=!1,cacheAllLimit:c=t}){const d=(0,s.useRef)(!1),u=(0,s.useRef)(i({totalLength:t,items:e??[]})),m=(0,s.useRef)(!0),[,p]=(0,s.useState)(0);(0,s.useMemo)((()=>{m.current||a(u.current)}),[n,t]),(0,s.useMemo)((()=>{0===e?.length||m.current||a(u.current)}),[e]);const h=(0,s.useCallback)((async(s,r=o,a=!0,l=!1)=>{if(d.current&&!l&&!u.current.invalid)return;const c=u.current.id;if(n){const e=u.current.invalid;u.current.invalid=!1,d.current=!0;const t=await n(s,r);if(d.current=!1,c!==u.current.id)return;if(0===t.items.length&&0!==t.totalLength&&t.totalLength===u.current.items.length)return;u.current=i(t,s,{...u.current,invalid:e}),t.onCacheSuccess?.(),a&&p((e=>e+1))}else u.current=i({totalLength:t,items:e??[]}),a&&setTimeout((()=>p((e=>e+1))),0)}),[n,e,o,t]),g=(0,s.useCallback)(((e,t,n)=>{const s=r(u.current.items).slice(e,t+1),i=s.filter((e=>u.current.invalid||void 0===e.value)),a=i.at(0)?.index??(u.current.invalid?e:void 0),l=i.at(-1)?.index??(u.current.invalid?t:void 0);return void 0===a||void 0===l||n?.cachedOnly||h(l===t?a:a===e?Math.max(l-o+1,0):a),s.map((e=>e.value))}),[h,o]),f=(0,s.useCallback)(((e,t)=>{const n=r(u.current.items),s=!u.current.invalid&&void 0!==n.at(e)?.value,i=!u.current.invalid&&void 0!==n.at(e+1)?.value;return s||t?.cachedOnly||h(i?Math.max(e-o+1,0):e),n.at(e)?.value}),[h,o]),y=(0,s.useRef)(!1),_=(0,s.useRef)(!1),b=(0,s.useCallback)((async(e=!1)=>{_.current||(y.current?_.current=!0:(y.current=!0,await h(0,c,e,!0),_.current&&await h(0,c,e,!0),_.current=!1,y.current=!1))}),[c,h]);(0,s.useEffect)((()=>{let e;return l&&(e=setTimeout(b,1e3)),()=>{clearTimeout(e)}}),[b,l]);const v=(0,s.useCallback)((()=>{l?b(!0):(a(u.current),p((e=>e+1)))}),[b,l]);return m.current=!1,{fetchedId:u.current.fetchedId,getItems:g,getItem:f,invalidateCache:v,hasItems:r(u.current.items).some((e=>!!e.value)),nrValidItems:r(u.current.items).length,cacheAll:b}}},4552:(e,t,n)=>{"use strict";n.d(t,{w:()=>i,y:()=>s});const s=e=>e instanceof HTMLButtonElement||e instanceof HTMLAnchorElement||e instanceof HTMLDivElement;let i=function(e){return e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right",e.HOME="home",e.END="end",e}({})},34592:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});n(73952),n(39568);var s=n(96651);const i=e=>{const[t,n]=(0,s.useState)(0);function i(s){const i=e.current?.querySelectorAll('button:not([disabled]), [href], input, select, textarea, a,[tabindex]:not([tabindex="-1"])');if(!i)return;i.forEach((e=>{e.setAttribute("tabindex","-1")})),i&&i[0].setAttribute("tabindex","0");let r=t;if(i&&i.length>0)switch(s.key){case"Tab":document.activeElement&&n(0);break;case"ArrowUp":0===r?(s.preventDefault(),r=i.length-1):r-=1,i[r].focus(),n(r);break;case"ArrowDown":s.preventDefault(),r===i.length-1?r=0:r+=1,i[r].focus(),n(r)}}s.useEffect((()=>{const t=e.current;return t?.addEventListener("keydown",i),()=>{t?.removeEventListener("keydown",i)}}))}},50156:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var s=n(96651);const i=({ref:e,getFocusElement:t,onFocus:n,preventScroll:i,deps:r=[]})=>{const a=(0,s.useRef)(t),o=(0,s.useRef)(n);a.current=t,o.current=n;const l=(0,s.useRef)(null);(0,s.useEffect)((()=>{l.current=document.activeElement;const t=a.current?.(e.current)??e.current;n?o.current?.(t):t?.focus({preventScroll:i})}),r)}},74764:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});n(73952),n(39568);var s=n(96651),i=n(21396);const r=(e,t=!1)=>{const n=(0,s.useCallback)((()=>{if(!e.current)return;Array.from(e.current.querySelectorAll(i._m)).forEach((e=>e.setAttribute("tabindex","-1")))}),[e]);(0,s.useEffect)(n),(0,s.useEffect)((()=>{let s=null;return t&&(s=new MutationObserver(n),s.observe(e.current,{childList:!0,subtree:!0})),()=>s?.disconnect()}),[t,e,n])}},68208:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var s=n(96651);const i=({onRestoreFocus:e,deps:t=[]}={})=>{const n=(0,s.useRef)(null);(0,s.useRef)(e).current=e,(0,s.useEffect)((()=>(n.current=document.activeElement,()=>{e?e?.(n.current):n.current?.focus({preventScroll:!0})})),t)}},21396:(e,t,n)=>{"use strict";n.d(t,{A5:()=>s,BA:()=>a,KU:()=>r,_m:()=>i,pZ:()=>o});const s=["a[href]:not([data-skip-in-keyboard-nav])","button:not([data-skip-in-keyboard-nav])",'[role="button"]:not([data-skip-in-keyboard-nav])','[role="progressbar"]:not([data-skip-in-keyboard-nav])'].join(", "),i=['a:not([data-roving-interactive="1"])','button:not([data-roving-interactive="1"])','[role="button"]:not([data-roving-interactive="1"])','[role="progressbar"]:not([data-skip-in-keyboard-nav])'].join(", ");function r(e){const t=e.querySelector(s),n=e.querySelector('[tabindex="0"]')||t;return!!n&&(n.setAttribute("tabindex","0"),n.setAttribute("data-roving-interactive","1"),!0)}function a(e,t,{preventScroll:n}={preventScroll:!1}){t&&(e&&(e.removeAttribute("data-roving-interactive"),e.tabIndex=-1),t.tabIndex=0,t.setAttribute("data-roving-interactive","1"),t.focus({preventScroll:n}))}function o(e){return!!e&&!!e.querySelector(s)}},83324:(e,t,n)=>{"use strict";n.d(t,{_s:()=>s._,E:()=>h,kv:()=>f});var s=n(28168),i=n(10124),r=n.n(i),a=n(12100),o=n(81940);const l=36e5,c=864e5;var d=n(56092);const u="poz9gZKE7xqFwgk231J4";function m(e,t){return e-e%t}var p=n(2488);const h=({durationMs:e,className:t})=>{const n=e>c;let s;var i;s=n?c:m(i=e,i>36e6?l:i>18e6?18e5:i>36e5?9e5:i>18e5?3e5:6e4);const{hours:h,minutes:g}=(0,o.s)(s);if(0===h&&0===g)return null;let f=(0,d.P)({h,m:g,s:0});return f=n?a._s.get("time.over",f):a._s.get("time.estimated",f),(0,p.jsx)("span",{className:r()(u,t),children:f})},g="xWm_uA0Co4SXVxaO7wlB",f=({durationMs:e,className:t,displaySeconds:n})=>{const{hours:s,minutes:i,seconds:l}=(0,o.s)(e);n=!1!==n&&!s&&l;const c=(0,d.P)({h:s,m:i,s:n?l:0});return(0,p.jsx)("span",{className:r()(g,t),children:a._s.get("time.left",c)})}},56092:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});n(73952),n(97296);var s=n(12100);function i({h:e,m:t,s:n},i=" "){return[e?s._s.get("time.hours.short",e):"",t?s._s.get("time.minutes.short",t):"",n?s._s.get("time.seconds.short",n):""].filter((e=>""!==e)).join(i)}},60016:(e,t,n)=>{"use strict";n.d(t,{A1:()=>v,Ap:()=>a,CI:()=>O,EP:()=>p,EX:()=>P,Gy:()=>A,Ji:()=>r,OY:()=>R,Om:()=>S,Qb:()=>E,Si:()=>b,WC:()=>o,Ws:()=>I,YN:()=>g,YX:()=>T,Yd:()=>m,_e:()=>j,ak:()=>w,ao:()=>_,cT:()=>y,e6:()=>c,eq:()=>L,i2:()=>x,k0:()=>d,mO:()=>N,qm:()=>C,u4:()=>h,u6:()=>f,wp:()=>u,y8:()=>l});var s=n(12100),i=n(43619);const r="https://open.spotify.com/",a="https://www.spotify.com/account/overview/",o="https://www.spotify.com/logout",l="https://www.spotify.com/account/privacy/",c="https://www.spotify.com/account/profile/",d="https://www.spotify.com/premium/",u="https://www.spotify.com/us/purchase/panel/",m="https://support.spotify.com/",p="https://www.spotify.com/legal/cookies-policy/",h="https://spotify.com/download",g="https://support.spotify.com/ru-ru/contact-spotify-legal-form/",f="https://spotify.com/premium/?utm_source=app&utm_medium=desktop&utm_campaign=upgrade",y=300,_="/__noul__",b="intl-",v=(new RegExp(`${`/${b}`}([a-zA-Z0-9-]+)`),[]),x=[s.u2.id,s.u2.de,"pt",s.u2.ja,s.u2.fr,s.u2.ar,s.u2.es,s.u2.tr,s.u2.it],C=[...x,...v],E=s.u2.en,S=[],w=[],I=[],A=[i.s.ALBUM,i.s.ARTIST,i.s.TRACK,i.s.PREMIUM],T=[i.s.CONCERT,i.s.CONCERTS],[k]=(v.length>0?v[0]:x[0],s.u2.hu,x),N=(v.length||s.u2.ca,s.u2.zhCN,s.u2.es419,s.u2.es,["/daily-mix-hub","/made-for-you","/genre/made-for-x-hub","/genre/made-for-x-hub-blend"]),O="/genre/0JQ5DAt0tbjZptfcdMSKl3",P="/genre/0JQ5DACFo5h0jxzOyHOsI9",j="/genre/0JQ5DACFo5h0jxzOyHOsIa",L="/genre/0JQ5DAqbMKFz6FAsUtgAab",R="/genre/0JQ5DAudkNjCgYMM0TZXDr"},81040:(e,t,n)=>{"use strict";n.d(t,{CI:()=>l,Ck:()=>r,Ib:()=>a,Iz:()=>o,wj:()=>i});var s=n(96651);const i=(0,s.createContext)(""),r=(0,s.createContext)(null),a=(0,s.createContext)({scrollNodeRef:{current:null},scrollNodeChildRef:{current:null}}),o=()=>{const e=(0,s.useContext)(a);if(null===e)throw new Error("Trying to use 'ScrollNodeContext' without 'ScrollNodeContext.Provider'!");return e.scrollNodeRef},l=(0,s.createContext)({isRightSidebarVisible:!0,isNavBarVisible:!0,isNowPlayingBarVisible:!0,isTopBarVisible:!0,isMainViewExpanded:!1,resetMainView:()=>{},collapseMainView:()=>{}})},53048:(e,t,n)=>{"use strict";n.d(t,{u_:()=>s.u,yM:()=>r,oV:()=>a,CA:()=>o.C});var s=n(48284),i=n(96651);const r=(0,i.createContext)(void 0),a=()=>(0,i.useContext)(r);var o=n(65736)},48284:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});let s=function(e){return e.XSMALL="XSMALL",e.SMALL="SMALL",e.MEDIUM="MEDIUM",e.LARGE="LARGE",e.XLARGE="XLARGE",e}({})},65736:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});n(73952),n(97768);var s=n(96651),i=n(62572);function r(e,t,n){const[r,a]=(0,s.useState)(),o=Object.entries(e).sort(((e,t)=>t[1]-e[1]));return{ref:(0,i.m)({refOrElement:n,observeOnly:t,onResize:({[t]:e})=>{if(void 0===e)return;const n=o.find((([,t])=>e>=t)),s=n&&n[0];s&&s!==r&&a(s)}}),breakpoint:r}}function a(e,t){return r(e,"width",t)}},41524:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var s=n(96651),i=n(81040);function r(e,{executeOnceOnStart:t=!1,disabled:n=!1}={}){const{scrollNodeRef:r}=(0,s.useContext)(i.Ib);(0,s.useEffect)((()=>{const s=r.current;if(!n){if(s)return s.addEventListener("scroll",e),t&&s.dispatchEvent(new Event("scroll")),()=>s.removeEventListener("scroll",e);console.error("useMainViewOnScroll found no scroll node")}}),[r,e,t,n])}},81044:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});var s=n(96651),i=n(77487);const r=e=>{const t=(0,s.useMemo)((()=>(0,i.C)()?null:window.matchMedia(e)),[e]),[n,r]=(0,s.useState)((()=>!t||t.matches));return(0,s.useEffect)((()=>{if(!t||!t.addEventListener)return()=>{};const e=e=>{r(e.matches)};return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}),[t]),n}},28892:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});var s=n(81044);const i=()=>(0,s.Y)("(prefers-reduced-motion: reduce)")},80660:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var s=n(96651);function i(e){const t=(0,s.useRef)();return(0,s.useEffect)((()=>{t.current=e}),[e]),t.current}},58840:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var s=n(96651),i=n(18648),r=n(56616);const a={throttleTime:100,leading:!0};function o(e,t=a){const n=(0,r.Oi)(),{throttleTime:o,...l}=t,c=(0,i.yK)(e,o,l);(0,s.useEffect)((()=>(n?.addEventListener("resize",c),()=>{n?.removeEventListener("resize",c),c.cancel()})),[c,n])}},62572:(e,t,n)=>{"use strict";n.d(t,{m:()=>l});n(73952),n(39568),n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256);var s=n(96651),i=n(77487);function r(e){return!(0,i.C)()&&e instanceof HTMLElement}let a;const o={subscribersByElement:new WeakMap,get resizeObserver(){return a||(a=new ResizeObserver((e=>{Array.isArray(e)&&e.forEach((t=>{const n={width:Math.round(t.contentRect.width),height:Math.round(t.contentRect.height)};(o.subscribersByElement.get(t.target)??new Set).forEach((s=>{s(n,t,e)}))}))}))),a}};function l({onResize:e,refOrElement:t,observeOnly:n,observeOnMount:i=!1}){const a=(0,s.useRef)(e);a.current=e;const l=(0,s.useRef)(n);l.current=n;const c=(0,s.useRef)({width:-1,height:-1}),d=(0,s.useCallback)(((e,t,n)=>{if(!a.current)return;const s=c.current.width!==e.width,i=c.current.height!==e.height;("width"===l.current&&s||"height"===l.current&&i||!l.current&&(s||i))&&a.current(e,t,n),c.current.width=e.width,c.current.height=e.height}),[]),u=function({refOrElement:e,subscriber:t}){let n=null;const i=(0,s.useRef)(null),a=(0,s.useRef)(null),o=(0,s.useRef)(null),l=(0,s.useRef)(),c=(0,s.useRef)(t);c.current=t;const d=(0,s.useCallback)((()=>{let t=null;a.current?t=a.current:i.current?t=i.current:r(e)&&(t=e),o.current!==t&&(l.current&&(l.current(),l.current=null),o.current=t,t&&c.current&&(l.current=c.current(t)))}),[e]),u=(0,s.useCallback)((e=>{a.current=e,d()}),[d]);return e&&!r(e)&&(n=e),(0,s.useEffect)((()=>{n&&(i.current=n.current),d()}),[n,n?.current,d]),(0,s.useEffect)((()=>()=>{l?.current?.()}),[]),u}({refOrElement:t,subscriber:e=>(i&&d({width:e.offsetWidth,height:e.offsetHeight},null,[]),o.subscribersByElement.has(e)||(o.resizeObserver.observe(e),o.subscribersByElement.set(e,new Set)),o.subscribersByElement.get(e)?.add(d),()=>{o.subscribersByElement.get(e)?.delete(d),0===o.subscribersByElement.get(e)?.size&&(o.resizeObserver.unobserve(e),o.subscribersByElement.delete(e))})});return u}},10952:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var s=n(96651);function i(){const e=(0,s.useRef)(!1);return(0,s.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),(0,s.useCallback)((()=>e.current),[])}},87668:(e,t,n)=>{"use strict";n.d(t,{W8:()=>l,es:()=>c,gh:()=>d,io:()=>u});n(73952),n(39568);var s=n(86816),i=n(31524),r=n(55128),a=n(56584);const o=["open.spotifycdn.com","xpui.app.spotify.com"],l=e=>{(0,s.wx)(e),console.error(e)},c=e=>{(0,s.oV)((t=>{t.setTag("FatalError","true"),l(e)}))},d=(e,t)=>{(0,s.oV)((n=>{n.setTag("ErrorBoundary",t),c(e)}))},u=(e,t,n={},l={},c,d=[])=>{(0,i._6)({dsn:e,allowUrls:o,sampleRate:.1,tracesSampleRate:0,environment:"production",release:t,...n,integrations:[new r.U,...d],ignoreErrors:[/\/[\dA-F]{8}-[\dA-F]{4}-[\dA-F]{4}-[\dA-F]{4}-[\dA-F]{12}\/main\.js/,/^NotFoundError: Failed to execute '(removeChild|insertBefore)' on 'Node': The node.*child.*this node.$/,/ResizeObserver loop limit exceeded/,"PresentationRequest",/DA97E0680A7030159BC0C0EE3A1D098E947A08E3/]}),(0,s.SA)((e=>{const t=(0,a.e)("config").correlationId;t&&e.setUser({id:t}),Object.keys(l).forEach((t=>{e.setExtra(t,l[t])})),""!==document.referrer&&e.setExtra("referrer",document.referrer),c&&e.setTag("container",c)}))}},19872:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,u:()=>a});var s=n(81940),i=n(40068),r=n(77487);const a=(e=[],{desiredSize:t=300,desiredLabel:n=""}={})=>{0===t&&(t=300);const s=!(0,r.C)()&&(window?.devicePixelRatio>1||window?.matchMedia&&window?.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches)?2:1;return(0,i.C)(e,{desiredSize:t*s,desiredLabel:n})?.url},o=e=>{if(-1===e||Number.isNaN(e))return"-:--";const{hours:t,minutes:n,seconds:i}=(0,s.s)(e);return`${t>0?`${t}:`:""}${t>0&&n<10?`0${n}`:n}:${i<10?`0${i}`:i}`}},31812:(e,t,n)=>{"use strict";n.d(t,{a5:()=>l,wp:()=>a});n(73952),n(39568),n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256);class s extends Map{}class i{_batch=new s;_additions=new s;_deletions=new s;_timeoutId=null;constructor(e,t,n,s,i=0){this._onBatch=e,this._onAdd=t,this._onRemove=n,this._onUpdate=s,this._timeout=i}onUpdate(){this._timeoutId=null,this._onUpdate(this._batch,this._additions,this._deletions),this._onBatch(this._batch)}scheduleUpdate(){null===this._timeoutId&&(this._timeoutId=setTimeout(this.onUpdate.bind(this),this._timeout))}getBatch(){return this._batch}subscribe(e,t){this._onAdd(this._additions,e,t),this._onRemove(this._deletions,e,t),this.scheduleUpdate()}unsubscribe(e,t){this._onAdd(this._deletions,e,t),this._onRemove(this._additions,e,t),this.scheduleUpdate()}}class r extends i{}function a(e,t=0){return new r(e,((e,t,n)=>{const s=e.get(t);s?s.add(n):e.set(t,new Set([n]))}),((e,t,n)=>{const s=e.get(t);s&&(s.delete(n),0===s.size&&e.delete(t))}),((e,t,n)=>{n.forEach(((t,n)=>{const s=e.get(n);void 0!==s&&(t.forEach((e=>s.delete(e))),0===s.size&&e.delete(n))})),n.clear(),t.forEach(((t,n)=>{const s=e.get(n);void 0!==s?t.forEach((e=>s.add(e))):e.set(n,t)})),t.clear()}),t)}class o extends i{}function l(e,t=0){return new o(e,((e,t)=>{const n=e.get(t);void 0!==n?e.set(t,n+1):e.set(t,1)}),((e,t)=>{const n=e.get(t);void 0!==n&&(n-1==0?e.delete(t):e.set(t,n-1))}),((e,t,n)=>{n.forEach(((t,n)=>{const s=e.get(n)||0;s-t<=0?e.delete(n):e.set(n,s-t)})),n.clear(),t.forEach(((t,n)=>{const s=e.get(n)||0;e.set(n,s+t)})),t.clear()}),t)}},92780:(e,t,n)=>{"use strict";async function s(e,t,n=50){const s=[];for(let i=0;i<e.length;i+=n)s.push(t(e.slice(i,i+n)));return Promise.all(s)}n.d(t,{e:()=>s})},98399:(e,t,n)=>{"use strict";n.d(t,{Mb:()=>o,ev:()=>l,S6:()=>c});var s=n(84264),i=n(76404);const r=async(e,t,n)=>(n??="com.widevine.alpha",(await e.build().withMethod("GET").withHost(i.eS).withPath(`/unauth/episode/${t}/${n}`).withEndpointIdentifier("/unauth/episode/{episodeId}/{keysystem}").send()).body);var a=n(14788);function o(e){return 0===e.showTypes?.length}function l(e,t){return e.uri===t.trailer?.uri}async function c(e,t,n){const i=(0,a.nX)(e.uri),o=await r(s.W.getInstance(),i?.id,t);if("video"===n)return{format:"MANIFEST_ID",mediaType:n,noManifest:!1,fileId:o.video?.[0].manifestId};const l=o.format?.replace(/_(128|256)/,""),c="NONE"!==o.passthrough;return{format:l,mediaType:n??"audio",noManifest:c,resolvedURL:c?o.passthroughUrl:o.url[0],fileId:c?"":o.fileId}}},84264:(e,t,n)=>{"use strict";n.d(t,{W:()=>x});n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256);var s=n(76995),i=n(91412),r=n(62984),a=n(72136);function o(e){return`${e.method}::${e.host}${e.path}::${JSON.stringify(e.queryParameters)}`}function l(e,t,n){try{(0,i.Qp)({metric_type:s.MetricTypes.COUNTER,what:"request-rate",value:1,tags:{endpoint:e,statusCode:t,isFatal:n}}).catch((()=>({})))}catch(e){}}class c extends a.O{constructor(e){super(e),this.pendingRequests=new Set}resetPendingRequests(){this.pendingRequests=new Set}build(){const e=super.build();let t;return e.onBeforeSend=()=>{if(t=o(e),this.pendingRequests.has(t)){const e=new Error(`DUPLICATE_REQUEST_ERROR: Already sent this request (${t})`);throw e.name="DUPLICATE_REQUEST_ERROR",e}"GET"===e.method.toUpperCase()&&this.pendingRequests.add(t)},e.onAfterSend=n=>{t=o(e);let a="unknown",c=!1;if(null!==e.endpointIdentifier&&(c=!0,a=`${e.method} ${e.hostIdentifier||"unknown-host"}::${e.endpointIdentifier}`),this.pendingRequests.delete(t),n)throw c&&l(a,JSON.stringify(n.status||0),JSON.stringify(0===(e.endpointIdentifier||"").indexOf("/me"))),r.S.fromResponse(n,e.method);if(c){l(a,"200","false");const t=Date.now()-(e.startTimestamp||0);!function(e,t,n){try{(0,i.Qp)({metric_type:s.MetricTypes.TIMER,what:"request-duration",value:n,tags:{endpoint:e,statusCode:t}}).catch((()=>({})))}catch(e){}}(a,"200",s.Time.fromMillis(t).asNanos())}},e}}var d=n(42628),u=n(82192),m=n(90675),p=n.n(m),h=n(35812),g=n.n(h);const f=p()(u.fetch);async function y(e,t,n=1e4){const s=new(g()),i=s.signal,a=setTimeout((()=>s.abort()),n),o=function(e){return e&&void 0!==e.retries&&e.retries>0?f:u.fetch}(t);return o(e,{...t,signal:i}).then((e=>(clearTimeout(a),e))).catch((s=>{if("AbortError"===s.name)throw new r.W({timeout:n,url:e,method:t?.method??"get"});throw clearTimeout(a),s}))}class _{constructor(e,t){return this.method=e,this.url=t,this.postData=null,this.queryParameters=void 0,this.responseType="json",this._headers={},this._includeCredentials=!1,this._endpointIdentifier=null,this}withQueryParameters(e){this.queryParameters=e}withResponseType(e){this.responseType=e}withPostData(e){this.postData=e}withEndpointIdentifier(e){this._endpointIdentifier=e}addHeader(e,t){return this._headers[e]=t,this}includeCredentials(){return this._includeCredentials=!0,this}async send(){let e;this.postData&&(e=this._headers["Content-Type"]?.startsWith("application/json;charset=UTF-8")?JSON.stringify(this.postData):this.postData);const t=new URLSearchParams(this.queryParameters).toString(),n=s.Timer.start(),a=await y(`${this.url}${t?`?${t}`:""}`,{method:this.method,body:e,credentials:this._includeCredentials?"include":void 0,headers:{"User-Agent":{}.SERVER_UA,"Content-Type":b(this.responseType),...this._headers}},1e4);if((0,i.Qp)({metric_type:s.MetricTypes.TIMER,what:"isomorphic-request-time",value:n.end().nanoseconds,tags:this._endpointIdentifier?{endpoint:this._endpointIdentifier}:{}}),!a.ok)throw r.S.fromResponse(a,this.method||"GET");return{body:"text"===this.responseType?await a.text():await a.json(),status:a.status}}}function b(e){return"text"===e?"text/plain":"application/json"}let v=null;class x{static setSession(e){if(!e)return;const{accessToken:t}=e,n=this.getInstance();n.accessToken=t,t||n.resetPendingRequests()}static setLocale(e){this.getInstance().locale=e}static setGlobalRequestHeaders(e){this.getInstance().globalRequestHeaders=e}static setMarket(e){this.getInstance().market=e}static resetInstance(){v=null}static getInstance(e={}){return v||(v=this.createNew(e)),v}static createNew(e){const{Constructor:t=c,fromServer:n=!1}=e;return new t(n?_:d.C)}}},76404:(e,t,n)=>{"use strict";n.d(t,{EZ:()=>R,Ef:()=>S,El:()=>V,Ev:()=>_,G2:()=>D,GO:()=>f,IZ:()=>M,If:()=>m,K4:()=>W,K_:()=>y,O6:()=>H,OR:()=>L,Ql:()=>v,Qz:()=>N,SC:()=>z,Sq:()=>O,Su:()=>i,U7:()=>u,UD:()=>c,UT:()=>p,Ud:()=>C,Up:()=>h,YL:()=>E,Yl:()=>o,_y:()=>w,ay:()=>G,cV:()=>l,eS:()=>T,em:()=>x,g1:()=>k,iM:()=>Y,iu:()=>I,km:()=>P,o3:()=>b,op:()=>F,qE:()=>g,sh:()=>B,so:()=>A,u2:()=>j,wD:()=>d,zE:()=>U});const{WEB_API_URL:s,SPCLIENT_WG_URL:i,PARTNER_API_ENDPOINT:r,ACCOUNTS_HOST:a,EXP_WG_ENDPOINT:o}={WEB_API_URL:"https://api.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_ENDPOINT:"https://exp.wg.spotify.com",ACCOUNTS_HOST:"https://accounts.spotify.com",PARTNER_API_ENDPOINT:"https://api-partner.spotify.com"},l="",c=`${s}/v1`,d=`${i}/melody/v1`,u=`${i}/recently-played/v3`,m=`${i}/sponsoredplaylist/v1`,p=`${i}/playlist/v2`,h=`${i}/inspiredby-mix/v2`,g=`${i}/ads`,f=`${r}/pathfinder/v1`,y=`${i}/age-verification/v1`,_=`${i}/concerts`,b=`${i}/collection`,v=`${i}/presence-view`,x=`${i}/presence2`,C=`${i}/find-friends`,E=`${i}/track-credits-view`,S=`${i}/color-lyrics/v2`,w=`${i}/metadata/4`,I=`${i}/user-profile-view/v3`,A=`${i}/campaigns-service/v1`,T=`${i}/soundfinder/v1`,k=`${i}/`,N=`${i}/socialgraph/v2`,O=`${i}/ondemand-selector/v2`,P=`${i}/playlist-permission/v1`,j=`${i}/blend-invitation`,L=`${i}/spotify.audiobookcashier.v1.AudiobookCashier`,R=`${i}/profile-privacy`,D=`${i}/user-verification-service/v0`,M=`${i}/cultural-moment/v1`,U=`${i}/algotorial-sharing-service/v1`,F=`${i}/transcript-read-along/v2`,B=`${i}/podcast-ap4p`,G=`${i}/ad-dsa-metadata-lookup`,V=`${i}/content-filter/v1`,H=`${i}/gander/v1`,W=`${i}/playlistextender`,z=`${i}/assisted-curation/v1/recommendations/curation/uri`,Y=`${i}/ratings/v1`},57880:(e,t,n)=>{"use strict";n.d(t,{A3:()=>a,SW:()=>r,WE:()=>i,mE:()=>o,wH:()=>l});var s=n(76404);const i=e=>e.build().withHost(s.Ql).withMethod("GET").withoutMarket().withPath("/v1/buddylist").withJsonContentType().withEndpointIdentifier("/v1/buddylist").send(),r=(e,t)=>e.build().withHost(s.Ql).withMethod("GET").withoutMarket().withPath(`/v1/user/${encodeURIComponent(t)}`).withJsonContentType().withEndpointIdentifier("/v1/user").send(),a=e=>e.build().withHost(s.Ud).withMethod("POST").withoutMarket().withPath("/v1/friends").withJsonContentType().withEndpointIdentifier("/v1/friends").send(),o=(e,t,n)=>e.build().withHost(s.em).withMethod("POST").withoutMarket().withJsonContentType().withPath(`/sub/user/${encodeURIComponent(t)}/connection_id/${n}`).withEndpointIdentifier("POST:/sub/user/:username/connection_id/:connection_id").send(),l=(e,t,n)=>e.build().withHost(s.em).withMethod("DELETE").withoutMarket().withPath(`/sub/user/${encodeURIComponent(t)}/connection_id/${n}`).withEndpointIdentifier("DELETE:/sub/user/:username/connection_id/:connection_id").send()},56872:(e,t,n)=>{"use strict";n.d(t,{Ce:()=>c,Mv:()=>a,aK:()=>u,eN:()=>d,iE:()=>r,iS:()=>o,ik:()=>p,oJ:()=>m,qt:()=>l,yU:()=>h});var s=n(76404),i=n(12100);function r(e,t){return e.build().withHost(s.Ev).withPath(`/v1/concert/view/${t}`).withQueryParameters({locale:i._s.getLocaleForTranslation()}).withEndpointIdentifier("/concert/{concertId}").send()}const a=(e,t)=>e.build().withMethod("POST").withHost(s.Ev).withPath(`/v2/concerts/saved/${t}`).withEndpointIdentifier("/concerts/saved/{concertId}").withoutMarket().send(),o=(e,t)=>e.build().withMethod("DELETE").withHost(s.Ev).withPath(`/v2/concerts/saved/${t}`).withEndpointIdentifier("/concerts/saved/{concertId}").withoutMarket().send(),l=(e,t,n)=>e.build().withMethod("POST").withHost(s.o3).withPath("/v2/contains").withHeaders([{key:"content-type",value:"application/json"},{key:"accept",value:"application/json"}]).withBody(JSON.stringify({username:t,set:"concerts",items:[{uri:n}]})).send();function c(e,t,n){return e.build().withHost(s.Ev).withPath(`/v2/concerts/artist/${n}`).withQueryParameters({locale:i._s.getLocaleForTranslation(),filterByLoc:!1,decorate:!0,...t&&{geohash:t}}).withEndpointIdentifier("concerts/artist/${artistId}").send()}function d(e,t){return e.build().withHost(s.Ev).withPath("/v3/concerts/view").withQueryParameters({locale:i._s.getLocaleForTranslation(),source:["user","popular","online"],playlists:!1,...t&&{geonameId:t}}).withEndpointIdentifier("/concerts/view").send()}function u(e,t){return e.build().withHost(s.Ev).withPath("/v1/location/suggest").withQueryParameters({q:t}).withEndpointIdentifier("/concerts/location/suggest").send()}function m(e,t,n){const i={};return t&&(i.ip=t),n&&(i.geonameId=n),e.build().withHost(s.Ev).withPath("/v3/concerts/open").withQueryParameters(i).withEndpointIdentifier("/v3/concerts/open").send()}function p(e,t){const n={};return t.page&&(n.page=t.page),t.geonameId&&(n.geonameId=t.geonameId),t.startDate&&(n.startDate=t.startDate),t.endDate&&(n.endDate=t.endDate),e.build().withHost(s.Ev).withPath("/v3/concerts").withQueryParameters(n).withEndpointIdentifier("/v3/concerts").send()}function h(e){return e.build().withHost(s.Ev).withPath("/v3/concerts/saved").withEndpointIdentifier("/v3/concerts/saved").send()}},74884:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,Y:()=>r});var s=n(76404);const i=(e,t,n)=>{const i=t.replace("<reason>","LOCAL_NOT_APPROPRIATE_FOR_CONTEXT").replace("<track-uri>",n);return e.build().withMethod("POST").withHost(s.g1).withPath(i).withEndpointIdentifier("/<feature>/feedback/").send()},r=(e,t,n)=>{const i=t.replace("<reason>","LOCAL_NOT_APPROPRIATE_FOR_CONTEXT").replace("<track-uri>",n);return e.build().withMethod("DELETE").withHost(s.g1).withPath(i).withEndpointIdentifier("/<feature>/feedback/").send()}},22607:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createCheckoutSession:()=>a,getEpisode:()=>r,getShow:()=>i});var s=n(76404);function i(e,t,n){return e.build().withHost(s.UD).withPath(`/shows/${t}`).withQueryParameters({market:n}).withEndpointIdentifier("shows/{showId}").send()}function r(e,t,n){return e.build().withHost(s.UD).withPath(`/episodes/${t}`).withQueryParameters({market:n}).withEndpointIdentifier("episodes/{episodeId}").send()}function a(e,t){const n="undefined"!=typeof window&&window.navigator&&window.navigator.platform||"";let i=null;return-1!==n.indexOf("Mac")?i="OSX":-1!==n.indexOf("Win")?i="Win32":-1!==n.indexOf("Linux")&&(i="Linux"),e.build().withMethod("POST").withHost(s.OR).withPath("/CheckoutBook").withoutMarket().withBody(JSON.stringify(t)).withEndpointIdentifier("show/{showId}").withHeaders([{key:"App-Platform",value:i??"Browser"}]).send()}},40176:(e,t,n)=>{"use strict";n.d(t,{M7:()=>w,aw:()=>v,Ep:()=>b,O2:()=>S,a_:()=>C,OQ:()=>_,u_:()=>x,U1:()=>E,S_:()=>A,At:()=>T,K2:()=>I});var s=n(42444),i=n(76404);n(41260);const r={fromJSON:e=>({uri:p(e.uri)?String(e.uri):"",name:p(e.name)?String(e.name):"",image_url:p(e.image_url)?String(e.image_url):"",followers_count:p(e.followers_count)?Number(e.followers_count):0,following_count:p(e.following_count)?Number(e.following_count):0,is_following:!!p(e.is_following)&&Boolean(e.is_following),recently_played_artists:Array.isArray(e?.recently_played_artists)?e.recently_played_artists.map((e=>l.fromJSON(e))):[],public_playlists:Array.isArray(e?.public_playlists)?e.public_playlists.map((e=>d.fromJSON(e))):[],total_public_playlists_count:p(e.total_public_playlists_count)?Number(e.total_public_playlists_count):0,is_current_user:!!p(e.is_current_user)&&Boolean(e.is_current_user),is_verified:!!p(e.is_verified)&&Boolean(e.is_verified),edit_profile_disabled:!!p(e.edit_profile_disabled)&&Boolean(e.edit_profile_disabled),report_abuse_disabled:!!p(e.report_abuse_disabled)&&Boolean(e.report_abuse_disabled),has_spotify_name:!!p(e.has_spotify_name)&&Boolean(e.has_spotify_name),has_spotify_image:!!p(e.has_spotify_image)&&Boolean(e.has_spotify_image),color:p(e.color)?Number(e.color):0,is_dismissed:!!p(e.is_dismissed)&&Boolean(e.is_dismissed),allow_follows:!!p(e.allow_follows)&&Boolean(e.allow_follows),show_follows:!!p(e.show_follows)&&Boolean(e.show_follows),pronouns:p(e.pronouns)?String(e.pronouns):"",location:p(e.location)?String(e.location):"",bio:p(e.bio)?String(e.bio):"",blends:Array.isArray(e?.blends)?e.blends.map((e=>d.fromJSON(e))):[],top_artists:p(e.top_artists)?a.fromJSON(e.top_artists):void 0,edit_name_disabled:!!p(e.edit_name_disabled)&&Boolean(e.edit_name_disabled),edit_image_disabled:!!p(e.edit_image_disabled)&&Boolean(e.edit_image_disabled),edit_bio_disabled:!!p(e.edit_bio_disabled)&&Boolean(e.edit_bio_disabled)}),toJSON(e){const t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.name&&(t.name=e.name),void 0!==e.image_url&&(t.image_url=e.image_url),void 0!==e.followers_count&&(t.followers_count=Math.round(e.followers_count)),void 0!==e.following_count&&(t.following_count=Math.round(e.following_count)),void 0!==e.is_following&&(t.is_following=e.is_following),e.recently_played_artists?t.recently_played_artists=e.recently_played_artists.map((e=>e?l.toJSON(e):void 0)):t.recently_played_artists=[],e.public_playlists?t.public_playlists=e.public_playlists.map((e=>e?d.toJSON(e):void 0)):t.public_playlists=[],void 0!==e.total_public_playlists_count&&(t.total_public_playlists_count=Math.round(e.total_public_playlists_count)),void 0!==e.is_current_user&&(t.is_current_user=e.is_current_user),void 0!==e.is_verified&&(t.is_verified=e.is_verified),void 0!==e.edit_profile_disabled&&(t.edit_profile_disabled=e.edit_profile_disabled),void 0!==e.report_abuse_disabled&&(t.report_abuse_disabled=e.report_abuse_disabled),void 0!==e.has_spotify_name&&(t.has_spotify_name=e.has_spotify_name),void 0!==e.has_spotify_image&&(t.has_spotify_image=e.has_spotify_image),void 0!==e.color&&(t.color=Math.round(e.color)),void 0!==e.is_dismissed&&(t.is_dismissed=e.is_dismissed),void 0!==e.allow_follows&&(t.allow_follows=e.allow_follows),void 0!==e.show_follows&&(t.show_follows=e.show_follows),void 0!==e.pronouns&&(t.pronouns=e.pronouns),void 0!==e.location&&(t.location=e.location),void 0!==e.bio&&(t.bio=e.bio),e.blends?t.blends=e.blends.map((e=>e?d.toJSON(e):void 0)):t.blends=[],void 0!==e.top_artists&&(t.top_artists=e.top_artists?a.toJSON(e.top_artists):void 0),void 0!==e.edit_name_disabled&&(t.edit_name_disabled=e.edit_name_disabled),void 0!==e.edit_image_disabled&&(t.edit_image_disabled=e.edit_image_disabled),void 0!==e.edit_bio_disabled&&(t.edit_bio_disabled=e.edit_bio_disabled),t},create:e=>r.fromPartial(e??{}),fromPartial(e){const t={uri:"",name:"",image_url:"",followers_count:0,following_count:0,is_following:!1,recently_played_artists:[],public_playlists:[],total_public_playlists_count:0,is_current_user:!1,is_verified:!1,edit_profile_disabled:!1,report_abuse_disabled:!1,has_spotify_name:!1,has_spotify_image:!1,color:0,is_dismissed:!1,allow_follows:!1,show_follows:!1,pronouns:"",location:"",bio:"",blends:[],top_artists:void 0,edit_name_disabled:!1,edit_image_disabled:!1,edit_bio_disabled:!1};return t.uri=e.uri??"",t.name=e.name??"",t.image_url=e.image_url??"",t.followers_count=e.followers_count??0,t.following_count=e.following_count??0,t.is_following=e.is_following??!1,t.recently_played_artists=e.recently_played_artists?.map((e=>l.fromPartial(e)))||[],t.public_playlists=e.public_playlists?.map((e=>d.fromPartial(e)))||[],t.total_public_playlists_count=e.total_public_playlists_count??0,t.is_current_user=e.is_current_user??!1,t.is_verified=e.is_verified??!1,t.edit_profile_disabled=e.edit_profile_disabled??!1,t.report_abuse_disabled=e.report_abuse_disabled??!1,t.has_spotify_name=e.has_spotify_name??!1,t.has_spotify_image=e.has_spotify_image??!1,t.color=e.color??0,t.is_dismissed=e.is_dismissed??!1,t.allow_follows=e.allow_follows??!1,t.show_follows=e.show_follows??!1,t.pronouns=e.pronouns??"",t.location=e.location??"",t.bio=e.bio??"",t.blends=e.blends?.map((e=>d.fromPartial(e)))||[],t.top_artists=void 0!==e.top_artists&&null!==e.top_artists?a.fromPartial(e.top_artists):void 0,t.edit_name_disabled=e.edit_name_disabled??!1,t.edit_image_disabled=e.edit_image_disabled??!1,t.edit_bio_disabled=e.edit_bio_disabled??!1,t}};const a={fromJSON:e=>({title:p(e.title)?String(e.title):"",subtitle:p(e.subtitle)?String(e.subtitle):"",image_url:p(e.image_url)?String(e.image_url):"",top_artists_page_uri:p(e.top_artists_page_uri)?String(e.top_artists_page_uri):""}),toJSON(e){const t={};return void 0!==e.title&&(t.title=e.title),void 0!==e.subtitle&&(t.subtitle=e.subtitle),void 0!==e.image_url&&(t.image_url=e.image_url),void 0!==e.top_artists_page_uri&&(t.top_artists_page_uri=e.top_artists_page_uri),t},create:e=>a.fromPartial(e??{}),fromPartial(e){const t={title:"",subtitle:"",image_url:"",top_artists_page_uri:""};return t.title=e.title??"",t.subtitle=e.subtitle??"",t.image_url=e.image_url??"",t.top_artists_page_uri=e.top_artists_page_uri??"",t}};const o={fromJSON:e=>({artists:Array.isArray(e?.artists)?e.artists.map((e=>l.fromJSON(e))):[]}),toJSON(e){const t={};return e.artists?t.artists=e.artists.map((e=>e?l.toJSON(e):void 0)):t.artists=[],t},create:e=>o.fromPartial(e??{}),fromPartial(e){const t={artists:[]};return t.artists=e.artists?.map((e=>l.fromPartial(e)))||[],t}};const l={fromJSON:e=>({uri:p(e.uri)?String(e.uri):"",name:p(e.name)?String(e.name):"",image_url:p(e.image_url)?String(e.image_url):"",followers_count:p(e.followers_count)?Number(e.followers_count):0,is_following:!!p(e.is_following)&&Boolean(e.is_following)}),toJSON(e){const t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.name&&(t.name=e.name),void 0!==e.image_url&&(t.image_url=e.image_url),void 0!==e.followers_count&&(t.followers_count=Math.round(e.followers_count)),void 0!==e.is_following&&(t.is_following=e.is_following),t},create:e=>l.fromPartial(e??{}),fromPartial(e){const t={uri:"",name:"",image_url:"",followers_count:0,is_following:!1};return t.uri=e.uri??"",t.name=e.name??"",t.image_url=e.image_url??"",t.followers_count=e.followers_count??0,t.is_following=e.is_following??!1,t}};const c={fromJSON:e=>({public_playlists:Array.isArray(e?.public_playlists)?e.public_playlists.map((e=>d.fromJSON(e))):[],total_public_playlists_count:p(e.total_public_playlists_count)?Number(e.total_public_playlists_count):0}),toJSON(e){const t={};return e.public_playlists?t.public_playlists=e.public_playlists.map((e=>e?d.toJSON(e):void 0)):t.public_playlists=[],void 0!==e.total_public_playlists_count&&(t.total_public_playlists_count=Math.round(e.total_public_playlists_count)),t},create:e=>c.fromPartial(e??{}),fromPartial(e){const t={public_playlists:[],total_public_playlists_count:0};return t.public_playlists=e.public_playlists?.map((e=>d.fromPartial(e)))||[],t.total_public_playlists_count=e.total_public_playlists_count??0,t}};const d={fromJSON:e=>({uri:p(e.uri)?String(e.uri):"",name:p(e.name)?String(e.name):"",image_url:p(e.image_url)?String(e.image_url):"",followers_count:p(e.followers_count)?Number(e.followers_count):0,owner_name:p(e.owner_name)?String(e.owner_name):"",owner_uri:p(e.owner_uri)?String(e.owner_uri):"",is_following:!!p(e.is_following)&&Boolean(e.is_following)}),toJSON(e){const t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.name&&(t.name=e.name),void 0!==e.image_url&&(t.image_url=e.image_url),void 0!==e.followers_count&&(t.followers_count=Math.round(e.followers_count)),void 0!==e.owner_name&&(t.owner_name=e.owner_name),void 0!==e.owner_uri&&(t.owner_uri=e.owner_uri),void 0!==e.is_following&&(t.is_following=e.is_following),t},create:e=>d.fromPartial(e??{}),fromPartial(e){const t={uri:"",name:"",image_url:"",followers_count:0,owner_name:"",owner_uri:"",is_following:!1};return t.uri=e.uri??"",t.name=e.name??"",t.image_url=e.image_url??"",t.followers_count=e.followers_count??0,t.owner_name=e.owner_name??"",t.owner_uri=e.owner_uri??"",t.is_following=e.is_following??!1,t}};const u={fromJSON:e=>({profiles:Array.isArray(e?.profiles)?e.profiles.map((e=>m.fromJSON(e))):[]}),toJSON(e){const t={};return e.profiles?t.profiles=e.profiles.map((e=>e?m.toJSON(e):void 0)):t.profiles=[],t},create:e=>u.fromPartial(e??{}),fromPartial(e){const t={profiles:[]};return t.profiles=e.profiles?.map((e=>m.fromPartial(e)))||[],t}};const m={fromJSON:e=>({uri:p(e.uri)?String(e.uri):"",name:p(e.name)?String(e.name):"",image_url:p(e.image_url)?String(e.image_url):"",followers_count:p(e.followers_count)?Number(e.followers_count):0,following_count:p(e.following_count)?Number(e.following_count):0,is_followed:!!p(e.is_followed)&&Boolean(e.is_followed),is_following:!!p(e.is_following)&&Boolean(e.is_following),is_dismissed:!!p(e.is_dismissed)&&Boolean(e.is_dismissed),is_verified:!!p(e.is_verified)&&Boolean(e.is_verified),color:p(e.color)?Number(e.color):0,allow_follows:!!p(e.allow_follows)&&Boolean(e.allow_follows)}),toJSON(e){const t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.name&&(t.name=e.name),void 0!==e.image_url&&(t.image_url=e.image_url),void 0!==e.followers_count&&(t.followers_count=Math.round(e.followers_count)),void 0!==e.following_count&&(t.following_count=Math.round(e.following_count)),void 0!==e.is_followed&&(t.is_followed=e.is_followed),void 0!==e.is_following&&(t.is_following=e.is_following),void 0!==e.is_dismissed&&(t.is_dismissed=e.is_dismissed),void 0!==e.is_verified&&(t.is_verified=e.is_verified),void 0!==e.color&&(t.color=Math.round(e.color)),void 0!==e.allow_follows&&(t.allow_follows=e.allow_follows),t},create:e=>m.fromPartial(e??{}),fromPartial(e){const t={uri:"",name:"",image_url:"",followers_count:0,following_count:0,is_followed:!1,is_following:!1,is_dismissed:!1,is_verified:!1,color:0,allow_follows:!1};return t.uri=e.uri??"",t.name=e.name??"",t.image_url=e.image_url??"",t.followers_count=e.followers_count??0,t.following_count=e.following_count??0,t.is_followed=e.is_followed??!1,t.is_following=e.is_following??!1,t.is_dismissed=e.is_dismissed??!1,t.is_verified=e.is_verified??!1,t.color=e.color??0,t.allow_follows=e.allow_follows??!1,t}};function p(e){return null!=e}var h=n(78200),g=n.n(h);const f={encode:(e,t=g().Writer.create())=>(!0===e.showFollows&&t.uint32(8).bool(e.showFollows),t),decode(e,t){const n=e instanceof g().Reader?e:new(g().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={showFollows:!1};for(;n.pos<s;){const e=n.uint32();if(e>>>3==1)i.showFollows=n.bool();else n.skipType(7&e)}return i},fromPartial(e){const t={showFollows:!1};return t.showFollows=e.showFollows??!1,t}};const y={encode:(e,t=g().Writer.create())=>(""!==e.username&&t.uint32(10).string(e.username),!0===e.showFollows&&t.uint32(16).bool(e.showFollows),t),decode(e,t){const n=e instanceof g().Reader?e:new(g().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={username:"",showFollows:!1};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:i.username=n.string();break;case 2:i.showFollows=n.bool();break;default:n.skipType(7&e)}}return i},fromPartial(e){const t={username:"",showFollows:!1};return t.username=e.username??"",t.showFollows=e.showFollows??!1,t}};const _=e=>e.build().withHost(i.wD).withPath("/product_state").withEndpointIdentifier("/product_state").send(),b=async(e,t)=>{const n=await e.build().withMethod("GET").withHost(i.iu).withPath(`/profile/${encodeURIComponent((0,s.w)(t))}/following`).withEndpointIdentifier("/profile/{username}/following").send();return u.fromJSON(n.body)},v=async(e,t)=>{const n=await e.build().withMethod("GET").withHost(i.iu).withPath(`/profile/${encodeURIComponent((0,s.w)(t))}/followers`).withEndpointIdentifier("/profile/{username}/followers").send();return u.fromJSON(n.body)},x=async(e,{uri:t,playlists:n=0,artists:a=0,episodes:o=0})=>{const l=await e.build().withHost(i.iu).withPath(`/profile/${encodeURIComponent((0,s.w)(t))}`).withEndpointIdentifier("/profile/{username}").withQueryParameters({playlist_limit:n,artist_limit:a,episode_limit:o}).send();return r.fromJSON(l.body)},C=async(e,{uri:t,offset:n=0,limit:r=200})=>{const a=await e.build().withHost(i.iu).withPath(`/profile/${encodeURIComponent((0,s.w)(t))}/playlists`).withEndpointIdentifier("/profile/{username}/playlists").withQueryParameters({offset:n,limit:r}).send();return c.fromJSON(a.body)},E=async(e,{uri:t,limit:n=10})=>{const r=await e.build().withMethod("GET").withHost(i.iu).withPath(`/profile/${encodeURIComponent((0,s.w)(t))}/artists`).withEndpointIdentifier("/profile/{username}/artists").withQueryParameters({limit:n}).send();return o.fromJSON(r.body)},S=(e,{currentUserUri:t,uri:n})=>e.build().withMethod("GET").withHost(i.Qz).withPath("/is_dismissed").withEndpointIdentifier("/is_dismissed").withQueryParameters({source_uri:t,target_uri:n,format:"json"}).send(),w=(e,{currentUserUri:t,uri:n})=>e.build().withMethod("POST").withHost(i.Qz).withPath("/dismissed").withEndpointIdentifier("/dismissed").withQueryParameters({source_uri:t,target_uri:n,format:"json"}).send(),I=(e,{currentUserUri:t,uri:n})=>e.build().withMethod("DELETE").withHost(i.Qz).withPath("/dismissed").withEndpointIdentifier("/dismissed").withQueryParameters({source_uri:t,target_uri:n,format:"json"}).send(),A=async(e,{uri:t})=>e.build().withHost(i.EZ).withMethod("GET").withoutMarket().withResponseType("arraybuffer").withPath(`/show-follows/${encodeURIComponent((0,s.w)(t))}`).withEndpointIdentifier("/show-follows/{username}").send().then((e=>f.decode(new Uint8Array(e.body)))),T=async(e,{uri:t,showFollows:n})=>{const r=y.encode(y.fromPartial({username:(0,s.w)(t),showFollows:n}));await e.build().withHost(i.EZ).withMethod("POST").withoutMarket().withBody(r.finish()).withPath("/show-follows").withEndpointIdentifier("/show-follows").send()}},82156:(e,t,n)=>{"use strict";n.d(t,{O:()=>r,Q:()=>a});var s=n(49743),i=n(76404);function r(e){return e.build().withHost(i.G2).withPath("/verifications/").withEndpointIdentifier("/verifications/").send()}function a(e,t){return e.build().withMethod(s.Method.PUT).withHost(i.G2).withPath(`/verifications/${t}/`).withEndpointIdentifier("/verifications/{verificationId}/").send()}},62984:(e,t,n)=>{"use strict";n.d(t,{S:()=>s,W:()=>i});class s extends Error{static fromResponse(e,t){return new s({message:e.statusText,url:e.url,method:t,status:e.status,response:e})}constructor(e){const{message:t,url:n,method:s,status:i,response:r}=e;super(t),this.name="HttpResponseError",this.requestUrl=n,this.requestMethod=s,this.status=i,this.response=r}}class i extends s{constructor(e){const{timeout:t,url:n,method:s}=e;super({message:`${s.toUpperCase()} ${n} timed out (${t}ms)`,url:n,method:s,status:503}),this.name="HttpRequestTimeoutError",this.timeout=t}}},800:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var s=n(40468),i=n(71796),r=n(4964);let a=0;const o=new WeakMap,l=function(e,t,n){const l=(0,r.W4)(),c=o.has(e)?o.get(e):o.set(e,++a).get(e),d=(0,i.ek)((()=>["useEndpoint",e.name,c,t]),[e.name,c,t]),{isLoading:u,error:m,data:p}=(0,s.U)({...n,queryKey:d,queryFn:()=>e(l,...t||[])});return{data:p??null,error:m,loading:u,queryKey:d}}},72136:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});n(73952),n(39568);let s;class i{constructor(){this._accessToken=null,this._market="",this._headers=[],this._globalRequestHeaders=[],this._shouldSendMarket=!0,this._shouldSendGlobalHeaders=!0,this._locale=null,this._shouldSendLocale=!1,this._shouldSendAuthorization=!0,this._host="",this._hostIdentifier="",this.path="",this.responseType="json",this.queryParameters=void 0,this._method="GET",this.jsonContentType=!1,this.body=null,this._endpointIdentifier=null,this._startTimestamp=null,this._includeCredentials=!1}static setRequestImplementation(e){s=e}getRequestImplementation(){return s}set accessToken(e){this._accessToken=e}get market(){return this._market}set market(e){this._market=e}get locale(){return this._locale}set locale(e){this._locale=e}get globalRequestHeaders(){return this._globalRequestHeaders}set globalRequestHeaders(e){this._globalRequestHeaders=e}get startTimestamp(){return this._startTimestamp}get host(){return this._host}get hostIdentifier(){return this._hostIdentifier||this._host}get method(){return this._method}get endpointIdentifier(){return this._endpointIdentifier}withHost(e){return this._host=e,this}withHostIdentifier(e){return this._hostIdentifier=e,this}withPath(e){return this.path=e,this}withResponseType(e){return this.responseType=e,this}withEndpointIdentifier(e){return this._endpointIdentifier=e,this}withQueryParameters(e){return this.queryParameters=e,this}withBody(e){return this.body=e,this}withMethod(e){return this._method=e,this}withoutMarket(){return this._shouldSendMarket=!1,this}withoutGlobalHeaders(){return this._shouldSendGlobalHeaders=!1,this}withoutAuthorization(){return this._shouldSendAuthorization=!1,this}withLocale(e){return this._shouldSendLocale=!0,e&&(this._locale=e),this}withJsonContentType(){return this.jsonContentType=!0,this}withHeaders(e){return this._headers=e,this}withCredentials(){return this._includeCredentials=!0,this}onBeforeSend(e){}onAfterSend(e){}async send(){const e=new s(this.method,`${this._host}${this.path}`,this._shouldSendAuthorization);this._shouldSendMarket&&this.market&&(this.queryParameters={...this.queryParameters,market:this.market}),this._shouldSendLocale&&this.locale&&(this.queryParameters={...this.queryParameters,locale:this.locale}),this.locale&&e.addHeader("Accept-Language",this.locale),e.withQueryParameters(this.queryParameters),e.withResponseType(this.responseType),e.withEndpointIdentifier(this._endpointIdentifier),this._shouldSendAuthorization&&this._accessToken&&e.addHeader("Authorization",`Bearer ${this._accessToken}`),e.addHeader("Accept","application/json"),this._includeCredentials&&e.includeCredentials(),this._shouldSendGlobalHeaders&&this._globalRequestHeaders.length>0&&this._globalRequestHeaders.forEach((([t,n])=>{e.addHeader(t,n)}));for(let t=0;t<this._headers.length;t++){const n=this._headers[t];e.addHeader(n.key,n.value)}this.jsonContentType&&e.addHeader("Content-Type","application/json;charset=UTF-8"),this.body&&e.withPostData(this.body);try{this.onBeforeSend(e)}catch(e){return Promise.reject(e)}return this._startTimestamp=Date.now(),e.send().then((e=>(this.onAfterSend(),e))).catch((e=>{throw this.onAfterSend(e),e}))}}var r=n(42628);class a{constructor(e){this._accessToken=null,this._market="",this._locale="",this._globalRequestHeaders=[],this._RequestImplementation=e||r.C}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e}get globalRequestHeaders(){return this._globalRequestHeaders}set globalRequestHeaders(e){this._globalRequestHeaders=e}get market(){return this._market}set market(e){this._market=e}get locale(){return this._locale}set locale(e){this._locale=e}resetPendingRequests(){}build(){i.setRequestImplementation(this._RequestImplementation);const e=new i;return e.accessToken=this._accessToken,e.market=this.market,e.locale=this.locale,e.globalRequestHeaders=this.globalRequestHeaders,e}}},42628:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});var s=n(71128);class i{constructor(e,t,n){return this.method=e,this.url=t,this.postData=null,this.queryParameters=void 0,this.responseType="json",this._headers={},this._authorize=n,this._includeCredentials=!1,this}withQueryParameters(e){this.queryParameters=e}withPostData(e){this.postData=e}withResponseType(e){this.responseType=e}withEndpointIdentifier(){}addHeader(e,t){return this._headers[e]=t,this}includeCredentials(){return this._includeCredentials=!0,this}async send(){const e=(0,s.G)(),t=new URLSearchParams(this.queryParameters).toString(),n=`${this.url}${t?`?${t}`:""}`,i={method:this.method,responseType:this.responseType,headers:this._headers,authorize:this._authorize,rejectNotOk:!0};return this._includeCredentials&&(i.credentials="include"),this.postData&&(this._headers["Content-Type"]?.startsWith("application/json;charset=UTF-8")?i.payload=JSON.stringify(this.postData):i.payload=this.postData),e.request(n,i).then((e=>e)).catch((e=>{throw e}))}}},97380:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});var s=n(14788),i=n(50799),r=n(56652);class a{currentPlayerState=null;requestInFlight=!1;constructor(e,t,n){this._playerApi=e,this._showApi=t,this._pubSubApi=n;const a=this._playerApi.getEvents(),o=this._showApi.getEvents();a.addListener(i.AU.UPDATE,(({data:e})=>{this.currentPlayerState=e})),a.addListener(i.AU.ERROR,(async()=>{if(this.requestInFlight)return;const e=this.currentPlayerState?.context.uri;if(!e)return;if(!(0,s.Gi)(e))return;this.requestInFlight=!0;const t=await this._showApi.getAccessInfo(e).catch((e=>{throw e})).finally((()=>{this.requestInFlight=!1})),n=t?.consumptionCapped;n&&o.emitSync(r.A.UPDATE_ACCESS_INFO,{consumptionCapExplanation:n})})),this._pubSubApi.subscribe({ident:"hm://show-access/user-capped",onMessage:()=>o.emitSync(r.A.UPDATE_ACCESS_INFO,{})}),this._pubSubApi.subscribe({ident:"hm://show-access/user-quota-changed",onMessage:()=>o.emitSync(r.A.UPDATE_ACCESS_INFO,{})})}}},5072:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});var s=n(96651),i=n(20684),r=n(56652);function a({callback:e,uri:t}){const n=(0,s.useContext)(i.w);(0,s.useEffect)((()=>{const s=n.getEvents(),i=n=>{n.data.uri!==t&&void 0!==n.data.uri||e(n)};return s.addListener(r.A.UPDATE_ACCESS_INFO,i),()=>{s.removeListener(r.A.UPDATE_ACCESS_INFO,i)}}),[n,t,e])}},48844:(e,t,n)=>{"use strict";n.d(t,{U:()=>l,a:()=>o});var s=n(36836),i=n(68792),r=n(56508);const a=(0,i.A)();async function o(){await a.post("sp://desktop/v1/logout")}async function l(){const e=new s.ae((0,r.Y)());return{enableShows:await e.getValues(s.AH.fromPartial({})).then((e=>"1"===e.pairs["shows-collection"]))}}},36680:(e,t,n)=>{"use strict";n.d(t,{C:()=>i,u:()=>r});var s=n(45808);let i=function(e){return e.UPDATE="update",e}({});class r extends s.u{}},44260:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});const s={isAuthorized:!1,token:null,retryAttempt:null,retryAt:null}},32308:(e,t,n)=>{"use strict";function s(e){return Date.now()>=e.accessTokenExpirationTimestampMs}function i(e,t){let n=null,s=null;return async({preferCached:i=!1}={})=>{if(i&&n)return n;if(s)return s;s=e();try{n=await s,t(n)}finally{s=null}return n}}n.d(t,{W:()=>s,m:()=>i})},68340:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i,e:()=>r});var s=n(96651);const i=(0,s.createContext)(null);function r(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use 'AuthorizationContext' without 'AuthorizationProvider'!");return e}},15124:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});var s=n(96651),i=n(36680),r=n(68340);function a(){const e=(0,r.e)(),[t,n]=(0,s.useState)(e.getState());return(0,s.useEffect)((()=>{const t=e.getEvents(),s=i.C.UPDATE,r=e=>{n(e.data)};return t.addListener(s,r),()=>{t.removeListener(s,r)}}),[e]),t}},27892:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var s=n(96651),i=n(68340);function r(){const e=(0,i.e)(),{canGetSessionTransferURL:t}=e.getCapabilities();return{openURL:(0,s.useCallback)(((e,t="_blank")=>{window.open(e,t)}),[]),openURLWithSessionTransfer:(0,s.useCallback)((async(n,s="_blank")=>{if(t){const t=await e.getSessionTransferURL(n);window.open(t,s)}else window.open(n,s)}),[e,t]),useGetURLWithSessionTransfer:n=>{const[i,r]=(0,s.useState)(n);return(0,s.useEffect)((()=>{t&&async function(){const t=await e.getSessionTransferURL(n);r(t)}()}),[n]),i}}}},47752:(e,t,n)=>{"use strict";n.d(t,{K8:()=>r,Ut:()=>a,uK:()=>i});n(73952),n(39568);const s=864e5;class i{_cache=new Map;constructor(e=null){if(this._ttl=e,null!==e&&(e<1||e>s))throw new Error("TTL should be between 1 (1 ms) and 86400000 (1 day).")}isExpired(e){return null!==e.expiry&&e.expiry<Date.now()}getExpiry(){return null!==this._ttl?Date.now()+this._ttl:null}entries(){return this._cache.entries()}has(e){return void 0!==this.get(e)}get(e){const t=this._cache.get(e);if(void 0!==t){if(!this.isExpired(t))return t.value;this._cache.delete(e)}}set(e,t){this._cache.set(e,{value:t,expiry:this.getExpiry()})}create(e,t){const n=this.get(e);if(void 0===n){const n=t();return this.set(e,n),n}return n}delete(e){this._cache.delete(e)}clear(){this._cache.clear()}cleanup(){this._cache.forEach(((e,t)=>{this.isExpired(e)&&this._cache.delete(t)}))}}class r extends i{constructor(e,t){super(e),setInterval(this.cleanup.bind(this),t)}}class a extends i{constructor(){super(null)}async deleteOnResolve(e,t){const n=await t;return this.delete(e),n}create(e,t){const n=super.create(e,t);return this.deleteOnResolve(e,n)}set(e,t){super.set(e,this.deleteOnResolve(e,t))}}},32656:(e,t,n)=>{"use strict";n.d(t,{extractColors:()=>m});var s=n(33896);const i="https://local-image.spotify.com";let r=function(e){return e[e.ARRAY_BUFFER=0]="ARRAY_BUFFER",e[e.IMAGE_BITMAP=1]="IMAGE_BITMAP",e}({});var a=n(15264),o=n.n(a);var l=n(87468);const c=new function(){return o()('(()=>{"use strict";var t={8135:(t,r,n)=>{var e=n(1568),o=n(7488),i=TypeError;t.exports=function(t){if(e(t))return t;throw new i(o(t)+" is not a function")}},5688:(t,r,n)=>{var e=n(732).has;t.exports=function(t){return e(t),t}},2843:(t,r,n)=>{var e=n(7080),o=TypeError;t.exports=function(t,r){if(e(r,t))return t;throw new o("Incorrect invocation")}},2888:(t,r,n)=>{var e=n(4336),o=String,i=TypeError;t.exports=function(t){if(e(t))return t;throw new i(o(t)+" is not an object")}},5140:(t,r,n)=>{var e=n(6460),o=n(3904),i=n(7176),a=function(t){return function(r,n,a){var s,u=e(r),c=i(u),f=o(a,c);if(t&&n!=n){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},9928:(t,r,n)=>{var e=n(2888),o=n(4872);t.exports=function(t,r,n,i){try{return i?r(e(n)[0],n[1]):r(n)}catch(r){o(t,"throw",r)}}},4044:(t,r,n)=>{var e=n(5376),o=e({}.toString),i=e("".slice);t.exports=function(t){return i(o(t),8,-1)}},6744:(t,r,n)=>{var e=n(340),o=n(1568),i=n(4044),a=n(5600)("toStringTag"),s=Object,u="Arguments"===i(function(){return arguments}());t.exports=e?i:function(t){var r,n,e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,r){try{return t[r]}catch(t){}}(r=s(t),a))?n:u?i(r):"Object"===(e=i(r))&&o(r.callee)?"Arguments":e}},3840:(t,r,n)=>{var e=n(248),o=n(2532),i=n(4092),a=n(464);t.exports=function(t,r,n){for(var s=o(r),u=a.f,c=i.f,f=0;f<s.length;f++){var h=s[f];e(t,h)||n&&e(n,h)||u(t,h,c(r,h))}}},368:(t,r,n)=>{var e=n(7008);t.exports=!e((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},3664:t=>{t.exports=function(t,r){return{value:t,done:r}}},7868:(t,r,n)=>{var e=n(120),o=n(464),i=n(640);t.exports=e?function(t,r,n){return o.f(t,r,i(1,n))}:function(t,r,n){return t[r]=n,t}},640:t=>{t.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},8348:(t,r,n)=>{var e=n(8240),o=n(464),i=n(640);t.exports=function(t,r,n){var a=e(r);a in t?o.f(t,a,i(0,n)):t[a]=n}},5555:(t,r,n)=>{var e=n(8628),o=n(464);t.exports=function(t,r,n){return n.get&&e(n.get,r,{getter:!0}),n.set&&e(n.set,r,{setter:!0}),o.f(t,r,n)}},5732:(t,r,n)=>{var e=n(1568),o=n(464),i=n(8628),a=n(2864);t.exports=function(t,r,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:r;if(e(n)&&i(n,c,s),s.global)u?t[r]=n:a(r,n);else{try{s.unsafe?t[r]&&(u=!0):delete t[r]}catch(t){}u?t[r]=n:o.f(t,r,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},500:(t,r,n)=>{var e=n(5732);t.exports=function(t,r,n){for(var o in r)e(t,o,r[o],n);return t}},2864:(t,r,n)=>{var e=n(7300),o=Object.defineProperty;t.exports=function(t,r){try{o(e,t,{value:r,configurable:!0,writable:!0})}catch(n){e[t]=r}return r}},120:(t,r,n)=>{var e=n(7008);t.exports=!e((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8960:(t,r,n)=>{var e=n(7300),o=n(4336),i=e.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},5116:t=>{t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},2653:(t,r,n)=>{var e,o,i=n(7300),a=n(5116),s=i.process,u=i.Deno,c=s&&s.versions||u&&u.version,f=c&&c.v8;f&&(o=(e=f.split("."))[0]>0&&e[0]<4?1:+(e[0]+e[1])),!o&&a&&(!(e=a.match(/Edge\\/(\\d+)/))||e[1]>=74)&&(e=a.match(/Chrome\\/(\\d+)/))&&(o=+e[1]),t.exports=o},9964:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},5408:(t,r,n)=>{var e=n(7300),o=n(4092).f,i=n(7868),a=n(5732),s=n(2864),u=n(3840),c=n(7676);t.exports=function(t,r){var n,f,h,l,p,v=t.target,g=t.global,d=t.stat;if(n=g?e:d?e[v]||s(v,{}):e[v]&&e[v].prototype)for(f in r){if(l=r[f],h=t.dontCallGetSet?(p=o(n,f))&&p.value:n[f],!c(g?f:v+(d?".":"#")+f,t.forced)&&void 0!==h){if(typeof l==typeof h)continue;u(l,h)}(t.sham||h&&h.sham)&&i(l,"sham",!0),a(n,f,l,t)}}},7008:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},2704:(t,r,n)=>{var e=n(3200),o=n(8135),i=n(9024),a=e(e.bind);t.exports=function(t,r){return o(t),void 0===r?t:i?a(t,r):function(){return t.apply(r,arguments)}}},9024:(t,r,n)=>{var e=n(7008);t.exports=!e((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},7764:(t,r,n)=>{var e=n(9024),o=Function.prototype.call;t.exports=e?o.bind(o):function(){return o.apply(o,arguments)}},4888:(t,r,n)=>{var e=n(120),o=n(248),i=Function.prototype,a=e&&Object.getOwnPropertyDescriptor,s=o(i,"name"),u=s&&"something"===function(){}.name,c=s&&(!e||e&&a(i,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},1916:(t,r,n)=>{var e=n(5376),o=n(8135);t.exports=function(t,r,n){try{return e(o(Object.getOwnPropertyDescriptor(t,r)[n]))}catch(t){}}},3200:(t,r,n)=>{var e=n(4044),o=n(5376);t.exports=function(t){if("Function"===e(t))return o(t)}},5376:(t,r,n)=>{var e=n(9024),o=Function.prototype,i=o.call,a=e&&o.bind.bind(i,i);t.exports=e?a:function(t){return function(){return i.apply(t,arguments)}}},36:(t,r,n)=>{var e=n(7300),o=n(1568);t.exports=function(t,r){return arguments.length<2?(n=e[t],o(n)?n:void 0):e[t]&&e[t][r];var n}},4220:t=>{t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},5820:(t,r,n)=>{var e=n(6744),o=n(3176),i=n(5592),a=n(3027),s=n(5600)("iterator");t.exports=function(t){if(!i(t))return o(t,s)||o(t,"@@iterator")||a[e(t)]}},1376:(t,r,n)=>{var e=n(7764),o=n(8135),i=n(2888),a=n(7488),s=n(5820),u=TypeError;t.exports=function(t,r){var n=arguments.length<2?s(t):r;if(o(n))return i(e(n,t));throw new u(a(t)+" is not iterable")}},3176:(t,r,n)=>{var e=n(8135),o=n(5592);t.exports=function(t,r){var n=t[r];return o(n)?void 0:e(n)}},2352:(t,r,n)=>{var e=n(8135),o=n(2888),i=n(7764),a=n(928),s=n(4220),u="Invalid size",c=RangeError,f=TypeError,h=Math.max,l=function(t,r){this.set=t,this.size=h(r,0),this.has=e(t.has),this.keys=e(t.keys)};l.prototype={getIterator:function(){return s(o(i(this.keys,this.set)))},includes:function(t){return i(this.has,this.set,t)}},t.exports=function(t){o(t);var r=+t.size;if(r!=r)throw new f(u);var n=a(r);if(n<0)throw new c(u);return new l(t,n)}},7300:function(t,r,n){var e=function(t){return t&&t.Math===Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof n.g&&n.g)||e("object"==typeof this&&this)||function(){return this}()||Function("return this")()},248:(t,r,n)=>{var e=n(5376),o=n(9056),i=e({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,r){return i(o(t),r)}},5944:t=>{t.exports={}},2900:(t,r,n)=>{var e=n(36);t.exports=e("document","documentElement")},1491:(t,r,n)=>{var e=n(120),o=n(7008),i=n(8960);t.exports=!e&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},4224:(t,r,n)=>{var e=n(5376),o=n(7008),i=n(4044),a=Object,s=e("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===i(t)?s(t,""):a(t)}:a},6248:(t,r,n)=>{var e=n(5376),o=n(1568),i=n(7424),a=e(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},2148:(t,r,n)=>{var e,o,i,a=n(2820),s=n(7300),u=n(4336),c=n(7868),f=n(248),h=n(7424),l=n(9880),p=n(5944),v="Object already initialized",g=s.TypeError,d=s.WeakMap;if(a||h.state){var b=h.state||(h.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,e=function(t,r){if(b.has(t))throw new g(v);return r.facade=t,b.set(t,r),r},o=function(t){return b.get(t)||{}},i=function(t){return b.has(t)}}else{var m=l("state");p[m]=!0,e=function(t,r){if(f(t,m))throw new g(v);return r.facade=t,c(t,m,r),r},o=function(t){return f(t,m)?t[m]:{}},i=function(t){return f(t,m)}}t.exports={set:e,get:o,has:i,enforce:function(t){return i(t)?o(t):e(t,{})},getterFor:function(t){return function(r){var n;if(!u(r)||(n=o(r)).type!==t)throw new g("Incompatible receiver, "+t+" required");return n}}}},2044:(t,r,n)=>{var e=n(5600),o=n(3027),i=e("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},1568:t=>{var r="object"==typeof document&&document.all;t.exports=void 0===r&&void 0!==r?function(t){return"function"==typeof t||t===r}:function(t){return"function"==typeof t}},7676:(t,r,n)=>{var e=n(7008),o=n(1568),i=/#|\\.prototype\\./,a=function(t,r){var n=u[s(t)];return n===f||n!==c&&(o(r)?e(r):!!r)},s=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",f=a.POLYFILL="P";t.exports=a},5592:t=>{t.exports=function(t){return null==t}},4336:(t,r,n)=>{var e=n(1568);t.exports=function(t){return"object"==typeof t?null!==t:e(t)}},9187:t=>{t.exports=!1},9336:(t,r,n)=>{var e=n(36),o=n(1568),i=n(7080),a=n(9984),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var r=e("Symbol");return o(r)&&i(r.prototype,s(t))}},2792:(t,r,n)=>{var e=n(7764);t.exports=function(t,r,n){for(var o,i,a=n?t:t.iterator,s=t.next;!(o=e(s,a)).done;)if(void 0!==(i=r(o.value)))return i}},2808:(t,r,n)=>{var e=n(2704),o=n(7764),i=n(2888),a=n(7488),s=n(2044),u=n(7176),c=n(7080),f=n(1376),h=n(5820),l=n(4872),p=TypeError,v=function(t,r){this.stopped=t,this.result=r},g=v.prototype;t.exports=function(t,r,n){var d,b,m,w,x,y,S,_=n&&n.that,O=!(!n||!n.AS_ENTRIES),I=!(!n||!n.IS_RECORD),M=!(!n||!n.IS_ITERATOR),E=!(!n||!n.INTERRUPTED),R=e(r,_),j=function(t){return d&&l(d,"normal",t),new v(!0,t)},A=function(t){return O?(i(t),E?R(t[0],t[1],j):R(t[0],t[1])):E?R(t,j):R(t)};if(I)d=t.iterator;else if(M)d=t;else{if(!(b=h(t)))throw new p(a(t)+" is not iterable");if(s(b)){for(m=0,w=u(t);w>m;m++)if((x=A(t[m]))&&c(g,x))return x;return new v(!1)}d=f(t,b)}for(y=I?t.next:d.next;!(S=o(y,d)).done;){try{x=A(S.value)}catch(t){l(d,"throw",t)}if("object"==typeof x&&x&&c(g,x))return x}return new v(!1)}},4872:(t,r,n)=>{var e=n(7764),o=n(2888),i=n(3176);t.exports=function(t,r,n){var a,s;o(t);try{if(!(a=i(t,"return"))){if("throw"===r)throw n;return n}a=e(a,t)}catch(t){s=!0,a=t}if("throw"===r)throw n;if(s)throw a;return o(a),n}},2568:(t,r,n)=>{var e=n(7764),o=n(6496),i=n(7868),a=n(500),s=n(5600),u=n(2148),c=n(3176),f=n(5384).IteratorPrototype,h=n(3664),l=n(4872),p=s("toStringTag"),v="IteratorHelper",g="WrapForValidIterator",d=u.set,b=function(t){var r=u.getterFor(t?g:v);return a(o(f),{next:function(){var n=r(this);if(t)return n.nextHandler();try{var e=n.done?void 0:n.nextHandler();return h(e,n.done)}catch(t){throw n.done=!0,t}},return:function(){var n=r(this),o=n.iterator;if(n.done=!0,t){var i=c(o,"return");return i?e(i,o):h(void 0,!0)}if(n.inner)try{l(n.inner.iterator,"normal")}catch(t){return l(o,"throw",t)}return l(o,"normal"),h(void 0,!0)}})},m=b(!0),w=b(!1);i(w,p,"Iterator Helper"),t.exports=function(t,r){var n=function(n,e){e?(e.iterator=n.iterator,e.next=n.next):e=n,e.type=r?g:v,e.nextHandler=t,e.counter=0,e.done=!1,d(this,e)};return n.prototype=r?m:w,n}},160:(t,r,n)=>{var e=n(7764),o=n(8135),i=n(2888),a=n(4220),s=n(2568),u=n(9928),c=s((function(){var t=this.iterator,r=i(e(this.next,t));if(!(this.done=!!r.done))return u(t,this.mapper,[r.value,this.counter++],!0)}));t.exports=function(t){return i(this),o(t),new c(a(this),{mapper:t})}},5384:(t,r,n)=>{var e,o,i,a=n(7008),s=n(1568),u=n(4336),c=n(6496),f=n(9504),h=n(5732),l=n(5600),p=n(9187),v=l("iterator"),g=!1;[].keys&&("next"in(i=[].keys())?(o=f(f(i)))!==Object.prototype&&(e=o):g=!0),!u(e)||a((function(){var t={};return e[v].call(t)!==t}))?e={}:p&&(e=c(e)),s(e[v])||h(e,v,(function(){return this})),t.exports={IteratorPrototype:e,BUGGY_SAFARI_ITERATORS:g}},3027:t=>{t.exports={}},7176:(t,r,n)=>{var e=n(6032);t.exports=function(t){return e(t.length)}},8628:(t,r,n)=>{var e=n(5376),o=n(7008),i=n(1568),a=n(248),s=n(120),u=n(4888).CONFIGURABLE,c=n(6248),f=n(2148),h=f.enforce,l=f.get,p=String,v=Object.defineProperty,g=e("".slice),d=e("".replace),b=e([].join),m=s&&!o((function(){return 8!==v((function(){}),"length",{value:8}).length})),w=String(String).split("String"),x=t.exports=function(t,r,n){"Symbol("===g(p(r),0,7)&&(r="["+d(p(r),/^Symbol\\(([^)]*)\\).*$/,"$1")+"]"),n&&n.getter&&(r="get "+r),n&&n.setter&&(r="set "+r),(!a(t,"name")||u&&t.name!==r)&&(s?v(t,"name",{value:r,configurable:!0}):t.name=r),m&&n&&a(n,"arity")&&t.length!==n.arity&&v(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&v(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var e=h(t);return a(e,"source")||(e.source=b(w,"string"==typeof r?r:"")),t};Function.prototype.toString=x((function(){return i(this)&&l(this).source||c(this)}),"toString")},6644:t=>{var r=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var e=+t;return(e>0?n:r)(e)}},6496:(t,r,n)=>{var e,o=n(2888),i=n(9420),a=n(9964),s=n(5944),u=n(2900),c=n(8960),f=n(9880),h="prototype",l="script",p=f("IE_PROTO"),v=function(){},g=function(t){return"<"+l+">"+t+"</"+l+">"},d=function(t){t.write(g("")),t.close();var r=t.parentWindow.Object;return t=null,r},b=function(){try{e=new ActiveXObject("htmlfile")}catch(t){}var t,r,n;b="undefined"!=typeof document?document.domain&&e?d(e):(r=c("iframe"),n="java"+l+":",r.style.display="none",u.appendChild(r),r.src=String(n),(t=r.contentWindow.document).open(),t.write(g("document.F=Object")),t.close(),t.F):d(e);for(var o=a.length;o--;)delete b[h][a[o]];return b()};s[p]=!0,t.exports=Object.create||function(t,r){var n;return null!==t?(v[h]=o(t),n=new v,v[h]=null,n[p]=t):n=b(),void 0===r?n:i.f(n,r)}},9420:(t,r,n)=>{var e=n(120),o=n(9188),i=n(464),a=n(2888),s=n(6460),u=n(4184);r.f=e&&!o?Object.defineProperties:function(t,r){a(t);for(var n,e=s(r),o=u(r),c=o.length,f=0;c>f;)i.f(t,n=o[f++],e[n]);return t}},464:(t,r,n)=>{var e=n(120),o=n(1491),i=n(9188),a=n(2888),s=n(8240),u=TypeError,c=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h="enumerable",l="configurable",p="writable";r.f=e?i?function(t,r,n){if(a(t),r=s(r),a(n),"function"==typeof t&&"prototype"===r&&"value"in n&&p in n&&!n[p]){var e=f(t,r);e&&e[p]&&(t[r]=n.value,n={configurable:l in n?n[l]:e[l],enumerable:h in n?n[h]:e[h],writable:!1})}return c(t,r,n)}:c:function(t,r,n){if(a(t),r=s(r),a(n),o)try{return c(t,r,n)}catch(t){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(t[r]=n.value),t}},4092:(t,r,n)=>{var e=n(120),o=n(7764),i=n(7496),a=n(640),s=n(6460),u=n(8240),c=n(248),f=n(1491),h=Object.getOwnPropertyDescriptor;r.f=e?h:function(t,r){if(t=s(t),r=u(r),f)try{return h(t,r)}catch(t){}if(c(t,r))return a(!o(i.f,t,r),t[r])}},7936:(t,r,n)=>{var e=n(8668),o=n(9964).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},2360:(t,r)=>{r.f=Object.getOwnPropertySymbols},9504:(t,r,n)=>{var e=n(248),o=n(1568),i=n(9056),a=n(9880),s=n(368),u=a("IE_PROTO"),c=Object,f=c.prototype;t.exports=s?c.getPrototypeOf:function(t){var r=i(t);if(e(r,u))return r[u];var n=r.constructor;return o(n)&&r instanceof n?n.prototype:r instanceof c?f:null}},7080:(t,r,n)=>{var e=n(5376);t.exports=e({}.isPrototypeOf)},8668:(t,r,n)=>{var e=n(5376),o=n(248),i=n(6460),a=n(5140).indexOf,s=n(5944),u=e([].push);t.exports=function(t,r){var n,e=i(t),c=0,f=[];for(n in e)!o(s,n)&&o(e,n)&&u(f,n);for(;r.length>c;)o(e,n=r[c++])&&(~a(f,n)||u(f,n));return f}},4184:(t,r,n)=>{var e=n(8668),o=n(9964);t.exports=Object.keys||function(t){return e(t,o)}},7496:(t,r)=>{var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,o=e&&!n.call({1:2},1);r.f=o?function(t){var r=e(this,t);return!!r&&r.enumerable}:n},716:(t,r,n)=>{var e=n(7764),o=n(1568),i=n(4336),a=TypeError;t.exports=function(t,r){var n,s;if("string"===r&&o(n=t.toString)&&!i(s=e(n,t)))return s;if(o(n=t.valueOf)&&!i(s=e(n,t)))return s;if("string"!==r&&o(n=t.toString)&&!i(s=e(n,t)))return s;throw new a("Can\'t convert object to primitive value")}},2532:(t,r,n)=>{var e=n(36),o=n(5376),i=n(7936),a=n(2360),s=n(2888),u=o([].concat);t.exports=e("Reflect","ownKeys")||function(t){var r=i.f(s(t)),n=a.f;return n?u(r,n(t)):r}},8756:(t,r,n)=>{var e=n(5592),o=TypeError;t.exports=function(t){if(e(t))throw new o("Can\'t call method on "+t);return t}},4007:(t,r,n)=>{var e=n(732),o=n(528),i=e.Set,a=e.add;t.exports=function(t){var r=new i;return o(t,(function(t){a(r,t)})),r}},8732:(t,r,n)=>{var e=n(5688),o=n(732),i=n(4007),a=n(3211),s=n(2352),u=n(528),c=n(2792),f=o.has,h=o.remove;t.exports=function(t){var r=e(this),n=s(t),o=i(r);return a(r)<=n.size?u(r,(function(t){n.includes(t)&&h(o,t)})):c(n.getIterator(),(function(t){f(r,t)&&h(o,t)})),o}},732:(t,r,n)=>{var e=n(5376),o=Set.prototype;t.exports={Set,add:e(o.add),has:e(o.has),remove:e(o.delete),proto:o}},7072:(t,r,n)=>{var e=n(5688),o=n(732),i=n(3211),a=n(2352),s=n(528),u=n(2792),c=o.Set,f=o.add,h=o.has;t.exports=function(t){var r=e(this),n=a(t),o=new c;return i(r)>n.size?u(n.getIterator(),(function(t){h(r,t)&&f(o,t)})):s(r,(function(t){n.includes(t)&&f(o,t)})),o}},9620:(t,r,n)=>{var e=n(5688),o=n(732).has,i=n(3211),a=n(2352),s=n(528),u=n(2792),c=n(4872);t.exports=function(t){var r=e(this),n=a(t);if(i(r)<=n.size)return!1!==s(r,(function(t){if(n.includes(t))return!1}),!0);var f=n.getIterator();return!1!==u(f,(function(t){if(o(r,t))return c(f,"normal",!1)}))}},9256:(t,r,n)=>{var e=n(5688),o=n(3211),i=n(528),a=n(2352);t.exports=function(t){var r=e(this),n=a(t);return!(o(r)>n.size)&&!1!==i(r,(function(t){if(!n.includes(t))return!1}),!0)}},3128:(t,r,n)=>{var e=n(5688),o=n(732).has,i=n(3211),a=n(2352),s=n(2792),u=n(4872);t.exports=function(t){var r=e(this),n=a(t);if(i(r)<n.size)return!1;var c=n.getIterator();return!1!==s(c,(function(t){if(!o(r,t))return u(c,"normal",!1)}))}},528:(t,r,n)=>{var e=n(5376),o=n(2792),i=n(732),a=i.Set,s=i.proto,u=e(s.forEach),c=e(s.keys),f=c(new a).next;t.exports=function(t,r,n){return n?o({iterator:c(t),next:f},r):u(t,r)}},1420:(t,r,n)=>{var e=n(36),o=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var r=e("Set");try{(new r)[t](o(0));try{return(new r)[t](o(-1)),!1}catch(t){return!0}}catch(t){return!1}}},3211:(t,r,n)=>{var e=n(1916),o=n(732);t.exports=e(o.proto,"size","get")||function(t){return t.size}},3828:(t,r,n)=>{var e=n(5688),o=n(732),i=n(4007),a=n(2352),s=n(2792),u=o.add,c=o.has,f=o.remove;t.exports=function(t){var r=e(this),n=a(t).getIterator(),o=i(r);return s(n,(function(t){c(r,t)?f(o,t):u(o,t)})),o}},3392:(t,r,n)=>{var e=n(5688),o=n(732).add,i=n(4007),a=n(2352),s=n(2792);t.exports=function(t){var r=e(this),n=a(t).getIterator(),u=i(r);return s(n,(function(t){o(u,t)})),u}},9880:(t,r,n)=>{var e=n(2024),o=n(9280),i=e("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},7424:(t,r,n)=>{var e=n(7300),o=n(2864),i="__core-js_shared__",a=e[i]||o(i,{});t.exports=a},2024:(t,r,n)=>{var e=n(9187),o=n(7424);(t.exports=function(t,r){return o[t]||(o[t]=void 0!==r?r:{})})("versions",[]).push({version:"3.35.1",mode:e?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5216:(t,r,n)=>{var e=n(2653),o=n(7008),i=n(7300).String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol("symbol detection");return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&e&&e<41}))},3904:(t,r,n)=>{var e=n(928),o=Math.max,i=Math.min;t.exports=function(t,r){var n=e(t);return n<0?o(n+r,0):i(n,r)}},6460:(t,r,n)=>{var e=n(4224),o=n(8756);t.exports=function(t){return e(o(t))}},928:(t,r,n)=>{var e=n(6644);t.exports=function(t){var r=+t;return r!=r||0===r?0:e(r)}},6032:(t,r,n)=>{var e=n(928),o=Math.min;t.exports=function(t){var r=e(t);return r>0?o(r,9007199254740991):0}},9056:(t,r,n)=>{var e=n(8756),o=Object;t.exports=function(t){return o(e(t))}},7324:(t,r,n)=>{var e=n(7764),o=n(4336),i=n(9336),a=n(3176),s=n(716),u=n(5600),c=TypeError,f=u("toPrimitive");t.exports=function(t,r){if(!o(t)||i(t))return t;var n,u=a(t,f);if(u){if(void 0===r&&(r="default"),n=e(u,t,r),!o(n)||i(n))return n;throw new c("Can\'t convert object to primitive value")}return void 0===r&&(r="number"),s(t,r)}},8240:(t,r,n)=>{var e=n(7324),o=n(9336);t.exports=function(t){var r=e(t,"string");return o(r)?r:r+""}},340:(t,r,n)=>{var e={};e[n(5600)("toStringTag")]="z",t.exports="[object z]"===String(e)},7488:t=>{var r=String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},9280:(t,r,n)=>{var e=n(5376),o=0,i=Math.random(),a=e(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},9984:(t,r,n)=>{var e=n(5216);t.exports=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},9188:(t,r,n)=>{var e=n(120),o=n(7008);t.exports=e&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2820:(t,r,n)=>{var e=n(7300),o=n(1568),i=e.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},5600:(t,r,n)=>{var e=n(7300),o=n(2024),i=n(248),a=n(9280),s=n(5216),u=n(9984),c=e.Symbol,f=o("wks"),h=u?c.for||c:c&&c.withoutSetter||a;t.exports=function(t){return i(f,t)||(f[t]=s&&i(c,t)?c[t]:h("Symbol."+t)),f[t]}},3952:(t,r,n)=>{var e=n(5408),o=n(7300),i=n(2843),a=n(2888),s=n(1568),u=n(9504),c=n(5555),f=n(8348),h=n(7008),l=n(248),p=n(5600),v=n(5384).IteratorPrototype,g=n(120),d=n(9187),b="constructor",m="Iterator",w=p("toStringTag"),x=TypeError,y=o[m],S=d||!s(y)||y.prototype!==v||!h((function(){y({})})),_=function(){if(i(this,v),u(this)===v)throw new x("Abstract class Iterator not directly constructable")},O=function(t,r){g?c(v,t,{configurable:!0,get:function(){return r},set:function(r){if(a(this),this===v)throw new x("You can\'t redefine this property");l(this,t)?this[t]=r:f(this,t,r)}}):v[t]=r};l(v,w)||O(w,m),!S&&l(v,b)&&v[b]!==Object||O(b,_),_.prototype=v,e({global:!0,constructor:!0,forced:S},{Iterator:_})},8620:(t,r,n)=>{var e=n(5408),o=n(2808),i=n(8135),a=n(2888),s=n(4220);e({target:"Iterator",proto:!0,real:!0},{every:function(t){a(this),i(t);var r=s(this),n=0;return!o(r,(function(r,e){if(!t(r,n++))return e()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},7296:(t,r,n)=>{var e=n(5408),o=n(7764),i=n(8135),a=n(2888),s=n(4220),u=n(2568),c=n(9928),f=n(9187),h=u((function(){for(var t,r,n=this.iterator,e=this.predicate,i=this.next;;){if(t=a(o(i,n)),this.done=!!t.done)return;if(r=t.value,c(n,e,[r,this.counter++],!0))return r}}));e({target:"Iterator",proto:!0,real:!0,forced:f},{filter:function(t){return a(this),i(t),new h(s(this),{predicate:t})}})},1260:(t,r,n)=>{var e=n(5408),o=n(160);e({target:"Iterator",proto:!0,real:!0,forced:n(9187)},{map:o})},9400:(t,r,n)=>{var e=n(5408),o=n(2808),i=n(8135),a=n(2888),s=n(4220),u=TypeError;e({target:"Iterator",proto:!0,real:!0},{reduce:function(t){a(this),i(t);var r=s(this),n=arguments.length<2,e=n?void 0:arguments[1],c=0;if(o(r,(function(r){n?(n=!1,e=r):e=t(e,r,c),c++}),{IS_RECORD:!0}),n)throw new u("Reduce of empty iterator with no initial value");return e}})},8032:(t,r,n)=>{var e=n(5408),o=n(8732);e({target:"Set",proto:!0,real:!0,forced:!n(1420)("difference")},{difference:o})},8924:(t,r,n)=>{var e=n(5408),o=n(7008),i=n(7072);e({target:"Set",proto:!0,real:!0,forced:!n(1420)("intersection")||o((function(){return"3,2"!==Array.from(new Set([1,2,3]).intersection(new Set([3,2])))}))},{intersection:i})},9696:(t,r,n)=>{var e=n(5408),o=n(9620);e({target:"Set",proto:!0,real:!0,forced:!n(1420)("isDisjointFrom")},{isDisjointFrom:o})},3120:(t,r,n)=>{var e=n(5408),o=n(9256);e({target:"Set",proto:!0,real:!0,forced:!n(1420)("isSubsetOf")},{isSubsetOf:o})},2248:(t,r,n)=>{var e=n(5408),o=n(3128);e({target:"Set",proto:!0,real:!0,forced:!n(1420)("isSupersetOf")},{isSupersetOf:o})},1384:(t,r,n)=>{var e=n(5408),o=n(3828);e({target:"Set",proto:!0,real:!0,forced:!n(1420)("symmetricDifference")},{symmetricDifference:o})},1256:(t,r,n)=>{var e=n(5408),o=n(3392);e({target:"Set",proto:!0,real:!0,forced:!n(1420)("union")},{union:o})}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{n(3952),n(7296),n(1260);let t=function(t){return t[t.HEX=0]="HEX",t[t.HEXA=1]="HEXA",t[t.RGB=2]="RGB",t[t.RGBA=3]="RGBA",t[t.HSL=4]="HSL",t[t.HSLA=5]="HSLA",t}({});function r(t,r,n=1e-6){return Math.abs(t-r)<n}function e(t){return t.toString(16).padStart(2,"0")}function o(t){return`${parseFloat((100*t).toFixed(1))}%`}function i(t){t=t.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,(function(t,r,n,e){return r+r+n+n+e+e}));const r=/^#?(?<r>[a-f\\d]{2})(?<g>[a-f\\d]{2})(?<b>[a-f\\d]{2})(?<a>[a-f\\d]{2})?$/i.exec(t),n=r?.groups?.r,e=r?.groups?.g,o=r?.groups?.b,i=r?.groups?.a;if(void 0===n||void 0===e||void 0===o)throw new Error(`Invalid hex color code "${t}"`);return{r:n,g:e,b:o,a:i}}function a(t){const{a:r}=i(t);if(!r)return 1;return function(t,r,n){const e=t.toLocaleString("en",{useGrouping:!1,minimumFractionDigits:r,maximumFractionDigits:n});return Number(e)}(parseInt(r,16)/255,0,2)}function s(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function u({rgb:{r:t,g:r,b:n}}){return.2126*s(t/255)+.7152*s(r/255)+.0722*s(n/255)}function c(t,r){const n=u(t),e=u(r);return(Math.max(n,e)+.05)/(Math.min(n,e)+.05)}class f{constructor(t,r,n,e=1){this.rgb=t,this.hsl=r,this.hsv=n,this.a=e}static BLACK=f.fromRGB({r:0,g:0,b:0});static WHITE=f.fromRGB({r:255,g:255,b:255});static fromRGB(t,n){if(t.r<0||t.g<0||t.b<0||t.r>255||t.g>255||t.b>255||n&&n<0||n&&n>1)throw Error(`Invalid RGB color: ${JSON.stringify(t)}, alpha: ${n}`);const e=function({r:t,g:n,b:e}){const o=t/255,i=n/255,a=e/255,s=Math.max(o,i,a),u=Math.min(o,i,a),c=s-u;let f;const h=(s+u)/2,l=s;f=r(c,0)?0:r(l,o)?60*(0+(i-a)/c):r(l,i)?60*(2+(a-o)/c):60*(4+(o-i)/c),f%=360,f<0&&(f+=360);const p=0===h||1===h?0:(l-h)/Math.min(h,1-h);return{h:Math.round(f),s:p,l:h}}(t),o=function({r:t,g:n,b:e}){const o=t/255,i=n/255,a=e/255,s=Math.max(o,i,a),u=s-Math.min(o,i,a);let c;const f=s;c=r(u,0)?0:r(f,o)?60*(0+(i-a)/u):r(f,i)?60*(2+(a-o)/u):60*(4+(o-i)/u),c%=360,c<0&&(c+=360);const h=0===f?0:u/f;return{h:Math.round(c),s:h,v:f}}(t);return new f(t,e,o,n)}static fromHex(t,r){const n=function(t){const{r,g:n,b:e}=i(t);return{r:parseInt(r,16),g:parseInt(n,16),b:parseInt(e,16)}}(t),e=a(t);return f.fromRGB(n,r??e)}static fromHSV(t,r){const n=function({h:t,s:r,v:n}){const e=n*r,o=t/60,i=e*(1-Math.abs(o%2-1));let a;a=o>=0&&o<=1?[e,i,0]:o>1&&o<=2?[i,e,0]:o>2&&o<=3?[0,e,i]:o>3&&o<=4?[0,i,e]:o>4&&o<=5?[i,0,e]:o>5&&o<=6?[e,0,i]:[0,0,0];const s=n-e;return{r:Math.round(255*(a[0]+s)),g:Math.round(255*(a[1]+s)),b:Math.round(255*(a[2]+s))}}(t);return f.fromRGB(n,r)}static fromHSL(t,r){const n=function({h:t,s:r,l:n}){const e=(1-Math.abs(2*n-1))*r,o=t/60,i=e*(1-Math.abs(o%2-1));let a;a=o>=0&&o<=1?[e,i,0]:o>1&&o<=2?[i,e,0]:o>2&&o<=3?[0,e,i]:o>3&&o<=4?[0,i,e]:o>4&&o<=5?[i,0,e]:o>5&&o<=6?[e,0,i]:[0,0,0];const s=n-e/2;return{r:Math.round(255*(a[0]+s)),g:Math.round(255*(a[1]+s)),b:Math.round(255*(a[2]+s))}}(t);return f.fromRGB(n,r)}static fromInt(t,r){const n=function(t){return{r:t>>16&255,g:t>>8&255,b:255&t}}(t);return f.fromRGB(n,r)}static fromCSS(t,r){const n=function(t,r){const n=t.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/);if(n){const[t,e,o,i]=n.slice(1),a=r??parseFloat(i);return{rgb:{r:parseInt(t,10),g:parseInt(e,10),b:parseInt(o,10)},rgbAlpha:Number.isNaN(a)?void 0:a}}return null}(t,r);if(n){const{rgb:t,rgbAlpha:r}=n;return f.fromRGB(t,r)}const e=function(t){const r=t.match(/^#([0-9a-f]{3}|[0-9a-f]{6}|[0-9a-f]{8})$/i);if(r)return r[1];return null}(t);if(e)return f.fromHex(e,r);const o=function(t,r){const n=t.match(/^hsla?\\((\\d+),\\s*(\\d+)%,\\s*(\\d+)%(?:,\\s*(\\d*(?:\\.\\d+)?))?\\)$/);if(n){const[t,e,o,i]=n.slice(1),a=r??parseFloat(i);return{hsl:{h:parseInt(t,10),s:parseInt(e,10)/100,l:parseInt(o,10)/100},hslAlpha:Number.isNaN(a)?void 0:a}}return null}(t,r);if(o){const{hsl:t,hslAlpha:r}=o;return f.fromHSL(t,r)}throw new Error(`Invalid or unsupported CSS color: ${t}`)}toCSS(r){switch(r){case t.HEX:return`#${e((n=this).rgb.r)}${e(n.rgb.g)}${e(n.rgb.b)}`;case t.HEXA:return function(t){return`#${e(t.rgb.r)}${e(t.rgb.g)}${e(t.rgb.b)}${e(Math.floor(255*t.a))}`}(this);case t.RGB:return function(t){return`rgb(${t.rgb.r}, ${t.rgb.g}, ${t.rgb.b})`}(this);case t.RGBA:return function(t){return`rgba(${t.rgb.r}, ${t.rgb.g}, ${t.rgb.b}, ${t.a})`}(this);case t.HSL:return function(t){const{h:r,s:n,l:e}=t.hsl;return`hsl(${r}, ${o(n)}, ${o(e)})`}(this);case t.HSLA:return function(t){const{h:r,s:n,l:e}=t.hsl;return`hsla(${r}, ${o(n)}, ${o(e)}, ${t.a})`}(this);default:throw new Error("Invalid or unsupported CSSColorFormat!")}var n}contrastAdjust(t,r=4.5){let n=f.BLACK;return"light"===t&&(n=f.WHITE),function(t,r,n){if(r!==f.BLACK&&r!==f.WHITE)throw new Error("Only supports contrast calculation between black and white.");let e=c(t,r);if(e>=n)return t;let o=t.hsv.v,i=r===f.WHITE?-.02:.02,a=Number.MAX_VALUE,s=null;for(let r=0;r<100&&a>.07&&o>=0&&o<=1;r++){o=Math.min(o+i,1),s=f.fromHSV({h:t.hsv.h,s:t.hsl.s,v:o}),e=c(s,f.WHITE);const r=Math.round(10*Math.abs(e-n))/10;r>a&&(i*=-.5),a=r}return null===s?t:s}(this,n,r)}toString(){return`${this.rgb.r},${this.rgb.g},${this.rgb.b},${this.a}`}stringify(){return JSON.stringify(this)}static parse(t){const{rgb:r,hsl:n,hsv:e,a:o}=JSON.parse(t);return new f(r,n,e,o)}}class h{constructor(t,r){this.color=t,this.population=r}static fromColor(t,r){return new h(t,r)}static fromRGB(t,r){return new h(f.fromRGB(t),r)}}class l{constructor(t,r=[]){this._comparator=t,this._data=r}swap(t,r){[this._data[t],this._data[r]]=[this._data[r],this._data[t]]}compare(t,r){return this._comparator(this._data[t],this._data[r])}bubbleUp(t){for(;t>0;){const r=t-1>>>1;if(this.compare(t,r)>=0)break;this.swap(t,r),t=r}}bubbleDown(t){const r=this._data.length;for(;;){const n=1+(t<<1),e=n+1;let o=t;if(n<r&&this.compare(n,o)<=0&&(o=n),e<r&&this.compare(e,o)<0&&(o=e),o===t)break;this.swap(o,t),t=o}}size(){return this._data.length}push(t){this._data.push(t),this.bubbleUp(this._data.length-1)}pop(){if(0===this._data.length)return null;this.swap(0,this._data.length-1);const t=this._data.pop();return this.bubbleDown(0),t}clone(){return new l(this._comparator,[...this._data])}*popAll(){for(;this._data.length>0;)yield this.pop()}}const p=31;function v(t){const r=(t>>>10&31)<<3,n=(t>>>5&31)<<3,e=(t>>>0&31)<<3;return f.fromRGB({r,g:n,b:e})}function g(t,r){return Math.round((t>>>3)/r)<<3}function d({rgb:{r:t,g:r,b:n}},{rgb:{r:e,g:o,b:i}}){return t*p*p+r*p+n-(e*p*p+o*p+i)}function b({rgb:{r:t,g:r,b:n}},{rgb:{r:e,g:o,b:i}}){return r*p*p+t*p+n-(o*p*p+e*p+i)}function m({rgb:{r:t,g:r,b:n}},{rgb:{r:e,g:o,b:i}}){return n*p*p+r*p+t-(i*p*p+o*p+e)}class w{constructor(t,r){this.min=t,this.max=r}size(){return this.max-this.min+1}clampTo(t){this.min=this.max=t}extendTo(t){this.min=Math.min(this.min,t),this.max=Math.max(this.max,t)}}class x{_population=0;_spanR=new w(0,0);_spanG=new w(0,0);_spanB=new w(0,0);constructor(t){this._swatches=t,this.fitBox()}getVolume(){return this._spanR.size()*this._spanG.size()*this._spanB.size()}getColorCount(){return this._swatches.length}getAverageColor(){let t=0,r=0,n=0,e=0;for(const{color:o,population:i}of this._swatches)e+=i,t+=i*o.rgb.r,r+=i*o.rgb.g,n+=i*o.rgb.b;const o=g(t,e),i=g(r,e),a=g(n,e);return h.fromRGB({r:o,g:i,b:a},e)}canSplit(){return this.getColorCount()>1}split(){if(!this.canSplit())throw new Error("Can not split a box with only 1 color");const t=this.findSplitPoint(),r=new x(this._swatches.slice(t+1,this._swatches.length));return this._swatches.splice(t+1),this.fitBox(),r}fitBox(){this._population=0;for(let t=0;t<this._swatches.length;t++){const{color:r,population:n}=this._swatches[t];this._population+=n,0===t?(this._spanR.clampTo(r.rgb.r),this._spanG.clampTo(r.rgb.g),this._spanB.clampTo(r.rgb.b)):(this._spanR.extendTo(r.rgb.r),this._spanG.extendTo(r.rgb.g),this._spanB.extendTo(r.rgb.b))}}findSplitPoint(){const t=this.getLongestDimensionComparator();this._swatches.sort(((r,n)=>t(r.color,n.color)));const r=Math.floor(this._population/2);for(let t=0,n=0;t<this._swatches.length;t++)if(n+=this._swatches[t].population,n>=r)return Math.min(this._swatches.length-1,t);return 0}getLongestDimensionComparator(){const t=this._spanR.size(),r=this._spanG.size(),n=this._spanB.size();return t>=r&&t>=n?d:r>=t&&r>=n?b:m}}class y{queue=new l(((t,r)=>r.getVolume()-t.getVolume()));_swatches=[];constructor(t){this._options=t}static fromPixels(t,r){return new y(r).quantize(t)}quantize(t){const r=new Array(32768).fill(0);let n=0,e=0,o=0;for(let e=t.next();!e.done;e=t.next()){n++;r[((i=e.value)>>>0&255)>>3<<10|(i>>>8&255)>>3<<5|(i>>>16&255)>>3]++}var i;for(let t=0;t<r.length;t++){const n=r[t];if(0===n)continue;const i=v(t);(void 0===this._options.filter||this._options.filter(i))&&(e++,o+=i.hsv.s,this._swatches.push(h.fromColor(i,n)))}return this._swatches.length>this._options.maxColors&&(this._swatches=this.quantizePixels(this._options.maxColors)),{swatches:this._swatches,totalPixels:n,totalColors:e,totalSaturationFromHSV:o}}quantizePixels(t){this.queue.push(new x(this._swatches)),this.splitBoxes(t);const r=Array.from(this.queue.popAll()).map((t=>t.getAverageColor())),n=this._options.filter;return void 0!==n?r.filter((t=>n(t.color))):r}splitBoxes(t){for(;this.queue.size()<t;){const t=this.queue.pop();if(null===t||!t.canSplit())return;this.queue.push(t.split()),this.queue.push(t)}}}n(8032),n(8924),n(9696),n(3120),n(2248),n(1384),n(1256),n(8620),n(9400);function S(t,r){return t.reduce(((t,n)=>null!==t&&r(t)>r(n)?t:n),null)}const _=30,O=80,I=2,M=.0016,E=.3,R=.1,j=45,A=.4,T=.6,P=.1,B=.02;function C(t,r,n){return(t-r)/(n-r)}function $(t){return(t%=360)<0?360+t:t}function G(t,r){const n=function(t){let r=Number.MAX_VALUE;for(const n of t)r=Math.min(r,n);r=-1*Math.abs(r);let n=0,e=360;for(const o of t){const t=$(o+r);t<180&&t>n&&(n=t),t>=180&&t<e&&(e=t)}return n=$(n-r),e=$(e-r),{hue1:Math.min(n,e),hue2:Math.max(n,e)}}(t);let e=0;return r>=n.hue1&&r<=n.hue2?C($(r),n.hue1,n.hue2):(e=360-n.hue2,C($(r+e),0,$(n.hue1+e)))}function F(t,r){const n=t.map((t=>t.color.hsv.h)),e=function(t){let r=0,n=0;for(const e of t)r+=Math.cos(e/180*Math.PI),n+=Math.sin(e/180*Math.PI);const e=r/t.length,o=n/t.length,i=180*Math.atan2(o,e)/Math.PI%360;return i>=0?i:360-Math.abs(i)}(n),o=G(n,e);return o>A||o<T?t.filter((t=>{return t.population/r>B||(n=t.color.hsv.h,o=e,i=j,Math.min(Math.abs(o-n),360-Math.abs(o-n))<i);var n,o,i})):t}function z({color:{hsv:t},population:r},n,e){return(n?1:function(t){const r=function(t,r,n){const e=(n-r)/2+r-r,o=t-r,i=(e-Math.abs(e-o))/e;return Math.max(0,Math.min(i,1))}(t,_,O);return-1*Math.abs(r*I)}(t.h))+r/e+t.s*t.v}function H(t,r,n,e){const o=e/n;if(o<R)return null;const i=t.filter((t=>t.population/r>=M)).filter((t=>!(o>=R+P)||function({hsv:t}){return(t.v>.85||t.v<.15)&&t.s<.2||t.v<.15||t.s<.2||t.s<.2&&t.v<.4?0:(t.v+t.s)/2}(t.color)>=E));if(0===i.length)return null;const a=F(i,r),s=function(t){return t.map((t=>t.color.hsv.h)).every((t=>t>=_&&t<=O))}(a);return S(a,(t=>z(t,s,r)))}const L={min:.3,target:.5,max:.7},D={min:0,target:.26,max:.45},k={min:.55,target:.74,max:1},N={min:.35,target:1,max:1},U={min:0,target:.3,max:.4},q={saturation:.24,luminance:.52,population:.24},V={vibrantLight:{lightness:k,saturation:N,weights:q},vibrant:{lightness:L,saturation:N,weights:q},vibrantDark:{lightness:D,saturation:N,weights:q},mutedLight:{lightness:k,saturation:U,weights:q},muted:{lightness:L,saturation:U,weights:q},mutedDark:{lightness:D,saturation:U,weights:q}},W=h.fromRGB({r:83,g:83,b:83},1),X=h.fromRGB({r:83,g:83,b:83},1),J=h.fromRGB({r:127,g:127,b:127},1);function Y(t,r){const{color:{hsl:n}}=t;return n.s>=r.saturation.min&&n.s<=r.saturation.max&&n.l>=r.lightness.min&&n.l<=r.lightness.max}function K(t,r,n){const{color:{hsl:e}}=t;let o=0,i=0,a=0;return r.weights.saturation>0&&(o=r.weights.saturation*(1-Math.abs(e.s-r.saturation.target))),r.weights.luminance>0&&(i=r.weights.luminance*(1-Math.abs(e.l-r.lightness.target))),r.weights.population>0&&(a=r.weights.population*(t.population/n)),o+i+a}let Q=function(t){return t[t.ARRAY_BUFFER=0]="ARRAY_BUFFER",t[t.IMAGE_BITMAP=1]="IMAGE_BITMAP",t}({});const Z=self;const tt=t=>!function({hsl:t}){return t.l<=.05}(t)&&!function({hsl:t}){return t.l>=.95}(t)&&!function({hsl:t}){return t.h>=10&&t.h<=37&&t.s<=.82}(t)&&function({hsv:t}){return t.v>.2}(t);Z.addEventListener("message",(t=>{const[r,n]=t.data,e=function(t){if(t.source===Q.IMAGE_BITMAP){const r=t.data,n=new OffscreenCanvas(r.width,r.height).getContext("2d");return n.drawImage(r,0,0,r.width,r.height),n.getImageData(0,0,r.width,r.height).data.buffer}return t.data}(n),o=function*(t,r){const n=new Uint32Array(t),e=Math.ceil(n.length/r);for(let t=0;t<n.length;t+=e)yield n[t]}(e,2e4),i=y.fromPixels(o,{maxColors:16,filter:tt}),{visRefSwatch:a,visRefDarkSwatch:s,visRefLightSwatch:u}=function(t,r,n,e,o=V){const i=new Set,a=S(t,(t=>t.population)),s={};for(const[r,n]of Object.entries(o)){const e=S(t.filter((t=>!i.has(t.color.toString()))).filter((t=>Y(t,n))),(t=>K(t,n,a?.population||1)));null!==e&&(s[r]=e,i.add(e.color.toString()))}const u=H(Object.values(s),r,n,e),c=u?h.fromColor(u.color.contrastAdjust("dark"),1):null,f=u?h.fromColor(u.color.contrastAdjust("light"),1):null;return{dominantSwatch:a,visRefSwatch:u||W,visRefDarkSwatch:c||X,visRefLightSwatch:f||J,visRefIsFallback:null===u,targetSwatches:s}}(i.swatches,i.totalPixels,i.totalColors,i.totalSaturationFromHSV);Z.postMessage([r,{colorRawJson:a.color.stringify(),colorLightJson:u.color.stringify(),colorDarkJson:s.color.stringify()}])}))})()})();\n',"Worker",void 0,void 0)};let d=0;async function u(e){const t=d++,n=new Promise(((e,n)=>{c.addEventListener("message",(n=>{const[i,r]=n.data;i===t&&e({colorRaw:s.gC.parse(r.colorRawJson),colorDark:s.gC.parse(r.colorDarkJson),colorLight:s.gC.parse(r.colorLightJson)})})),c.addEventListener("error",n)}));return c.postMessage([t,e],[e.data]),await n}async function m(e){let t;try{t=await async function(e){const t=new Image;return t.crossOrigin="anonymous",function(e){const t=0===e.indexOf("spotify:image:"),n=0===e.indexOf("spotify:mosaic:"),s=0===e.indexOf("spotify:localfileimage:");return t||n||s}(e)?t.src=`${i}?uri=${encodeURIComponent(e)}`:t.src=e,await t.decode(),t}(e)}catch(e){return Promise.resolve(l.kn)}const n=t.naturalWidth,s=t.naturalHeight;if("createImageBitmap"in window&&"OffscreenCanvas"in window){const e=await window.createImageBitmap(t);return await async function(e){return await u({source:r.IMAGE_BITMAP,data:e})}(e)}const a=document.createElement("canvas"),o=a.getContext("2d");return a.width=n,a.height=s,o.drawImage(t,0,0,n,s),await async function(e){return await u({source:r.ARRAY_BUFFER,data:e.data.buffer})}(o.getImageData(0,0,n,s))}},50892:(e,t,n)=>{"use strict";n.d(t,{Q:()=>w,g:()=>C});var s=n(14788),i=n(32976),r=n(96651),a=n(88272);n(99972);const o=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForAlbumEntity"]=new a.a("fetchExtractedColorAndImageForAlbumEntity","query","b721a99c1e892af374bd23b88f402945d7b410470b7535fe1dede8fd0515670a",null),l=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForArtistEntity"]=new a.a("fetchExtractedColorAndImageForArtistEntity","query","b721a99c1e892af374bd23b88f402945d7b410470b7535fe1dede8fd0515670a",null),c=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForEpisodeEntity"]=new a.a("fetchExtractedColorAndImageForEpisodeEntity","query","b721a99c1e892af374bd23b88f402945d7b410470b7535fe1dede8fd0515670a",null),d=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForPlaylistEntity"]=new a.a("fetchExtractedColorAndImageForPlaylistEntity","query","b721a99c1e892af374bd23b88f402945d7b410470b7535fe1dede8fd0515670a",null),u=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForPodcastEntity"]=new a.a("fetchExtractedColorAndImageForPodcastEntity","query","b721a99c1e892af374bd23b88f402945d7b410470b7535fe1dede8fd0515670a",null),m=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForTrackEntity"]=new a.a("fetchExtractedColorAndImageForTrackEntity","query","b721a99c1e892af374bd23b88f402945d7b410470b7535fe1dede8fd0515670a",null),p=Spicetify.GraphQL.Definitions["fetchExtractedColorForAlbumEntity"]=new a.a("fetchExtractedColorForAlbumEntity","query","b721a99c1e892af374bd23b88f402945d7b410470b7535fe1dede8fd0515670a",null),h=Spicetify.GraphQL.Definitions["fetchExtractedColorForArtistEntity"]=new a.a("fetchExtractedColorForArtistEntity","query","b721a99c1e892af374bd23b88f402945d7b410470b7535fe1dede8fd0515670a",null),g=Spicetify.GraphQL.Definitions["fetchExtractedColorForEpisodeEntity"]=new a.a("fetchExtractedColorForEpisodeEntity","query","b721a99c1e892af374bd23b88f402945d7b410470b7535fe1dede8fd0515670a",null),f=Spicetify.GraphQL.Definitions["fetchExtractedColorForPlaylistEntity"]=new a.a("fetchExtractedColorForPlaylistEntity","query","b721a99c1e892af374bd23b88f402945d7b410470b7535fe1dede8fd0515670a",null),y=Spicetify.GraphQL.Definitions["fetchExtractedColorForPodcastEntity"]=new a.a("fetchExtractedColorForPodcastEntity","query","b721a99c1e892af374bd23b88f402945d7b410470b7535fe1dede8fd0515670a",null),_=Spicetify.GraphQL.Definitions["fetchExtractedColorForTrackEntity"]=new a.a("fetchExtractedColorForTrackEntity","query","b721a99c1e892af374bd23b88f402945d7b410470b7535fe1dede8fd0515670a",null);var b=n(66514),v=n(40068);const x={artist:h,album:p,episode:g,playlist:f,"playlist-v2":f,show:y,track:_};function C(e,t=i.EFd){const{request:n}=(0,r.useContext)(b.Q9),[a,o]=(0,r.useState)(t);return(0,r.useEffect)((()=>{(async()=>{const t=(0,s.nX)(e);if(!t)return;const i=x[t.type];if(!i)return void console.error(`The entity (${e}) you're trying to use it not supported for this query`);const r=await n(i,{uri:t.toURI()}),{albumUnion:a,artistUnion:l,episodeUnionV2:c,playlistV2:d,podcastUnionV2:u,trackUnion:m}=r?.data||{};I(a)?o(E(a.coverArt)):A(l)?o(E(l.visuals?.avatarImage)):T(c)?o(E(c.coverArt)):k(d)?o(E(d.images?.items?.[0])):N(u)?o(E(u?.coverArt)):O(m)&&o(E(m.albumOfTrack?.coverArt))})()}),[e,n]),a}function E(e){return e?.extractedColors?.colorDark.hex}const S={artist:l,album:o,episode:c,playlist:d,"playlist-v2":d,show:u,track:m};function w(e,t=i.EFd,n){const{request:a}=(0,r.useContext)(b.Q9),[o,l]=(0,r.useState)(t),[c,d]=(0,r.useState)(n),u=(0,r.useCallback)((e=>{const{url:t}=(0,v.C)(e?.sources)||{},n=E(e);t&&d(t),n&&l(n)}),[d]);return(0,r.useEffect)((()=>{(async()=>{const t=(0,s.nX)(e);if(!t)return;const n=S[t.type];if(!n)return void console.error(`The entity (${e}) you're trying to use it not supported for this query`);const i=await a(n,{uri:t.toURI()}),{albumUnion:r,artistUnion:o,episodeUnionV2:l,playlistV2:c,podcastUnionV2:d,trackUnion:m}=i?.data||{};I(r)?u(r.coverArt):A(o)?u(o.visuals.avatarImage):T(l)?u(l.coverArt):k(c)?u(c.images?.items?.[0]):N(d)||function(e){if(!e||0===Object.keys(e).length)return!1;return"Audiobook"===e.__typename}(d)?u(d.coverArt):O(m)&&u(m.albumOfTrack?.coverArt)})()}),[e,a,u]),[c,o]}function I(e){return!!e}function A(e){return!!e}function T(e){return!(!e||0===Object.keys(e).length)&&"Episode"===e.__typename}function k(e){return!!e}function N(e){return!(!e||0===Object.keys(e).length)&&"Podcast"===e.__typename}function O(e){return!!e}},34344:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,q:()=>o});n(41260);var s=n(33896),i=n(88272);n(99972);const r=Spicetify.GraphQL.Definitions["fetchExtractedColors"]=new i.a("fetchExtractedColors","query","86bdf61bb598ee07dc85d6c3456d9c88eb94f33178509ddc9b33fc9710aa9e9c",null);function a(e){return s.gC.fromHex(e)}async function o(e,t){Array.isArray(t)||(t=[t]);const n=await e(r,{uris:t}),{extractedColors:s}=n?.data||{};if(!s)throw new Error("Failed to fetch multiple extracted colors!");return s.map((e=>"ExtractedColors"!==e.__typename?null:{colorRaw:a(e.colorRaw.hex),colorDark:a(e.colorDark.hex),colorLight:a(e.colorLight.hex),isFallback:e.colorRaw.isFallback&&e.colorDark.isFallback&&e.colorLight.isFallback}))}},87468:(e,t,n)=>{"use strict";n.d(t,{OK:()=>c,kn:()=>l});n(73952),n(78620),n(39568),n(41260);var s=n(32976),i=n(34344),r=n(47752),a=n(77487);const o=new r.uK,l={colorRaw:(0,i.C)(s.EFd),colorDark:(0,i.C)(s.EFd),colorLight:(0,i.C)(s.EFd)};async function c(e,t){Array.isArray(t)||(t=[t]);const s=await Promise.all(t.map((e=>o.get(e))));if(s.every((e=>!!e)))return s;try{const s=await(0,i.q)(e,t),r=await function(e,t){const s=t.map((async(t,s)=>{if(t&&!t.isFallback)return t;if(""===e[s])return l;if(!(0,a.C)()){const{extractColors:t}=await Promise.resolve().then(n.bind(n,32656));return t(e[s])}return l}));return Promise.all(s)}(t,s);return r.forEach(((e,n)=>{o.set(t[n],Promise.resolve(e))})),r}catch{if(!(0,a.C)()){const{extractColors:e}=await Promise.resolve().then(n.bind(n,32656));return Promise.all(t.map((t=>{const n=e(t);return o.set(t,n),n})))}return Promise.resolve([l])}}},32476:(e,t,n)=>{"use strict";n.d(t,{s:()=>c});var s=n(96651),i=n(32976),r=n(33896),a=n(87468),o=n(66514),l=n(40468);function c(e=null,t=i.EFd,n="colorRaw"){const{request:c}=(0,s.useContext)(o.Q9),{data:d}=(0,l.U)({queryKey:["extracted-color",e],queryFn:()=>e?(0,a.OK)(c,e).then((([{colorDark:e,colorLight:t,colorRaw:n}])=>({colorDark:e.toCSS(r.wt.HEX),colorLight:t.toCSS(r.wt.HEX),colorRaw:n.toCSS(r.wt.HEX)}))):null,gcTime:864e5,staleTime:216e5,enabled:!!e});return d?.[n]??t}},33896:(e,t,n)=>{"use strict";n.d(t,{wt:()=>s.w,gC:()=>c,y_:()=>d});var s=n(70992),i=n(70096);function r(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,s){return t+t+n+n+s+s}));const t=/^#?(?<r>[a-f\d]{2})(?<g>[a-f\d]{2})(?<b>[a-f\d]{2})(?<a>[a-f\d]{2})?$/i.exec(e),n=t?.groups?.r,s=t?.groups?.g,i=t?.groups?.b,r=t?.groups?.a;if(void 0===n||void 0===s||void 0===i)throw new Error(`Invalid hex color code "${e}"`);return{r:n,g:s,b:i,a:r}}function a(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function o({rgb:{r:e,g:t,b:n}}){return.2126*a(e/255)+.7152*a(t/255)+.0722*a(n/255)}function l(e,t){const n=o(e),s=o(t);return(Math.max(n,s)+.05)/(Math.min(n,s)+.05)}class c{constructor(e,t,n,s=1){this.rgb=e,this.hsl=t,this.hsv=n,this.a=s}static BLACK=c.fromRGB({r:0,g:0,b:0});static WHITE=c.fromRGB({r:255,g:255,b:255});static fromRGB(e,t){if(e.r<0||e.g<0||e.b<0||e.r>255||e.g>255||e.b>255||t&&t<0||t&&t>1)throw Error(`Invalid RGB color: ${JSON.stringify(e)}, alpha: ${t}`);const n=function({r:e,g:t,b:n}){const s=e/255,r=t/255,a=n/255,o=Math.max(s,r,a),l=Math.min(s,r,a),c=o-l;let d;const u=(o+l)/2,m=o;d=(0,i.EN)(c,0)?0:(0,i.EN)(m,s)?60*(0+(r-a)/c):(0,i.EN)(m,r)?60*(2+(a-s)/c):60*(4+(s-r)/c),d%=360,d<0&&(d+=360);const p=0===u||1===u?0:(m-u)/Math.min(u,1-u);return{h:Math.round(d),s:p,l:u}}(e),s=function({r:e,g:t,b:n}){const s=e/255,r=t/255,a=n/255,o=Math.max(s,r,a),l=o-Math.min(s,r,a);let c;const d=o;c=(0,i.EN)(l,0)?0:(0,i.EN)(d,s)?60*(0+(r-a)/l):(0,i.EN)(d,r)?60*(2+(a-s)/l):60*(4+(s-r)/l),c%=360,c<0&&(c+=360);const u=0===d?0:l/d;return{h:Math.round(c),s:u,v:d}}(e);return new c(e,n,s,t)}static fromHex(e,t){const n=function(e){const{r:t,g:n,b:s}=r(e);return{r:parseInt(t,16),g:parseInt(n,16),b:parseInt(s,16)}}(e),s=function(e){const{a:t}=r(e);if(!t)return 1;const n=parseInt(t,16)/255;return(0,i.kL)(n,0,2)}(e);return c.fromRGB(n,t??s)}static fromHSV(e,t){const n=function({h:e,s:t,v:n}){const s=n*t,i=e/60,r=s*(1-Math.abs(i%2-1));let a;a=i>=0&&i<=1?[s,r,0]:i>1&&i<=2?[r,s,0]:i>2&&i<=3?[0,s,r]:i>3&&i<=4?[0,r,s]:i>4&&i<=5?[r,0,s]:i>5&&i<=6?[s,0,r]:[0,0,0];const o=n-s;return{r:Math.round(255*(a[0]+o)),g:Math.round(255*(a[1]+o)),b:Math.round(255*(a[2]+o))}}(e);return c.fromRGB(n,t)}static fromHSL(e,t){const n=function({h:e,s:t,l:n}){const s=(1-Math.abs(2*n-1))*t,i=e/60,r=s*(1-Math.abs(i%2-1));let a;a=i>=0&&i<=1?[s,r,0]:i>1&&i<=2?[r,s,0]:i>2&&i<=3?[0,s,r]:i>3&&i<=4?[0,r,s]:i>4&&i<=5?[r,0,s]:i>5&&i<=6?[s,0,r]:[0,0,0];const o=n-s/2;return{r:Math.round(255*(a[0]+o)),g:Math.round(255*(a[1]+o)),b:Math.round(255*(a[2]+o))}}(e);return c.fromRGB(n,t)}static fromInt(e,t){const n=function(e){return{r:e>>16&255,g:e>>8&255,b:255&e}}(e);return c.fromRGB(n,t)}static fromCSS(e,t){const n=function(e,t){const n=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);if(n){const[e,s,i,r]=n.slice(1),a=t??parseFloat(r);return{rgb:{r:parseInt(e,10),g:parseInt(s,10),b:parseInt(i,10)},rgbAlpha:Number.isNaN(a)?void 0:a}}return null}(e,t);if(n){const{rgb:e,rgbAlpha:t}=n;return c.fromRGB(e,t)}const s=function(e){const t=e.match(/^#([0-9a-f]{3}|[0-9a-f]{6}|[0-9a-f]{8})$/i);if(t)return t[1];return null}(e);if(s)return c.fromHex(s,t);const i=function(e,t){const n=e.match(/^hsla?\((\d+),\s*(\d+)%,\s*(\d+)%(?:,\s*(\d*(?:\.\d+)?))?\)$/);if(n){const[e,s,i,r]=n.slice(1),a=t??parseFloat(r);return{hsl:{h:parseInt(e,10),s:parseInt(s,10)/100,l:parseInt(i,10)/100},hslAlpha:Number.isNaN(a)?void 0:a}}return null}(e,t);if(i){const{hsl:e,hslAlpha:t}=i;return c.fromHSL(e,t)}throw new Error(`Invalid or unsupported CSS color: ${e}`)}toCSS(e){switch(e){case s.w.HEX:return t=this,`#${(0,i.Sm)(t.rgb.r)}${(0,i.Sm)(t.rgb.g)}${(0,i.Sm)(t.rgb.b)}`;case s.w.HEXA:return function(e){return`#${(0,i.Sm)(e.rgb.r)}${(0,i.Sm)(e.rgb.g)}${(0,i.Sm)(e.rgb.b)}${(0,i.Sm)(Math.floor(255*e.a))}`}(this);case s.w.RGB:return function(e){return`rgb(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b})`}(this);case s.w.RGBA:return function(e){return`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.a})`}(this);case s.w.HSL:return function(e){const{h:t,s:n,l:s}=e.hsl;return`hsl(${t}, ${(0,i.YH)(n)}, ${(0,i.YH)(s)})`}(this);case s.w.HSLA:return function(e){const{h:t,s:n,l:s}=e.hsl;return`hsla(${t}, ${(0,i.YH)(n)}, ${(0,i.YH)(s)}, ${e.a})`}(this);default:throw new Error("Invalid or unsupported CSSColorFormat!")}var t}contrastAdjust(e,t=4.5){let n=c.BLACK;return"light"===e&&(n=c.WHITE),function(e,t,n){if(t!==c.BLACK&&t!==c.WHITE)throw new Error("Only supports contrast calculation between black and white.");let s=l(e,t);if(s>=n)return e;let i=e.hsv.v,r=t===c.WHITE?-.02:.02,a=Number.MAX_VALUE,o=null;for(let t=0;t<100&&a>.07&&i>=0&&i<=1;t++){i=Math.min(i+r,1),o=c.fromHSV({h:e.hsv.h,s:e.hsl.s,v:i}),s=l(o,c.WHITE);const t=Math.round(10*Math.abs(s-n))/10;t>a&&(r*=-.5),a=t}return null===o?e:o}(this,n,t)}toString(){return`${this.rgb.r},${this.rgb.g},${this.rgb.b},${this.a}`}stringify(){return JSON.stringify(this)}static parse(e){const{rgb:t,hsl:n,hsv:s,a:i}=JSON.parse(e);return new c(t,n,s,i)}}function d(e){if(!e?.colorDark.isFallback)return e?.colorDark.hex}},70096:(e,t,n)=>{"use strict";function s(e,t,n=1e-6){return Math.abs(e-t)<n}function i(e){return e.toString(16).padStart(2,"0")}function r(e){return`${parseFloat((100*e).toFixed(1))}%`}function a(e,t,n){const s=e.toLocaleString("en",{useGrouping:!1,minimumFractionDigits:t,maximumFractionDigits:n});return Number(s)}n.d(t,{EN:()=>s,Sm:()=>i,YH:()=>r,kL:()=>a})},70992:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});let s=function(e){return e[e.HEX=0]="HEX",e[e.HEXA=1]="HEXA",e[e.RGB=2]="RGB",e[e.RGBA=3]="RGBA",e[e.HSL=4]="HSL",e[e.HSLA=5]="HSLA",e}({})},46924:(e,t,n)=>{"use strict";n.d(t,{U:()=>i,d:()=>r});var s=n(45808);let i=function(e){return e.UPDATE="update",e}({});class r extends s.u{}},62176:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,m:()=>r});var s=n(96651);const i=(0,s.createContext)(null);function r(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use 'ConnectContext' without 'ConnectProvider'!");return e}},55748:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});var s=n(96651),i=n(62176);function r(e,t){const n=(0,s.useRef)(t),r=(0,i.m)();n.current=t,(0,s.useEffect)((()=>{const t=r.getEvents(),s=e=>n.current(e);return t.addListener(e,s),()=>{t.removeListener(e,s)}}),[e,r])}},4957:(e,t,n)=>{"use strict";n.d(t,{G:()=>l,c:()=>c});var s=n(96651),i=n(46924),r=n(15563),a=n(62176),o=n(55748);const l={connectionStatus:r.UD.NOT_CONNECTED,activeDevice:null,connectingDevice:null,devices:[]};function c(){const e=(0,a.m)(),[t,n]=(0,s.useState)(e.getState());return(0,o.I)(i.U.UPDATE,(e=>n(e.data))),null===t?l:t}},2748:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var s=n(15563),i=n(4957);function r(){const e=(0,i.c)();let t,n=!1;return e.connectionStatus===s.UD.CONNECTING?(n=!0,t=e.connectingDevice):e.connectionStatus===s.UD.CONNECTED&&(n=!0,t=e.activeDevice),{isPlayingRemotely:n,connectionStatus:e.connectionStatus,remoteDevice:t}}},15563:(e,t,n)=>{"use strict";n.d(t,{KQ:()=>i,O8:()=>a,Q1:()=>l,UD:()=>s,i0:()=>r});let s=function(e){return e.NOT_CONNECTED="not_connected",e.CONNECTING="connecting",e.CONNECTED="connected",e}({}),i=function(e){return e.UNKNOWN="unknown",e.COMPUTER="computer",e.TABLET="tablet",e.SMARTPHONE="smartphone",e.SPEAKER="speaker",e.TV="tv",e.AVR="avr",e.STB="stb",e.AUDIO_DONGLE="audio_dongle",e.GAME_CONSOLE="game_console",e.CAST_VIDEO="cast_video",e.CAST_AUDIO="cast_audio",e.AUTOMOBILE="automobile",e.SMARTWATCH="smartwatch",e.CHROMEBOOK="chromebook",e.CarThing="carthing",e.HomeThing="homething",e}({}),r=function(e){return e.CONNECTING="connecting",e.LOGGED_IN="logged_in",e.NOT_LOGGED_IN="not_logged_in",e.SLEEPING="sleeping",e.NOT_LOADED="not_loaded",e.UNKNOWN="unknown",e}({}),a=function(e){return e.INCOMPATIBLE="incompatible",e.UNAVAILABLE="unavailable",e.PREMIUM_REQUIRED="premium_required",e.NOT_INSTALLED="not_installed",e.UNSUPPORTED_URI="unsupported_uri",e.NOT_AUTHORIZED="not_authorized",e.AD_PLAYING="ad_playing",e.NARRATION="narration",e.WAKING_UP="waking_up",e.TIMED_OUT_WAKEUP="timed_out_wakeup",e.UNKNOWN="unknown",e}({});const o=["cast","connect"];function l(e){return Boolean(o.find((t=>t===e)))}},31144:(e,t,n)=>{"use strict";n.d(t,{Kk:()=>i});const s=!1;function i(...e){r((()=>{console.error(...e)}))}function r(e){s&&e()}},14532:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});let s=function(e){return e[e.OFF=0]="OFF",e[e.ON=1]="ON",e[e.SMART_SHUFFLE=2]="SMART_SHUFFLE",e}({})},26132:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var s=n(14448),i=n(14532);const r={[s.m.OFF]:i.u.OFF,[s.m.LOCAL]:i.u.ON,[s.m.SMART]:i.u.SMART_SHUFFLE},a={[i.u.OFF]:s.m.OFF,[i.u.ON]:s.m.LOCAL,[i.u.SMART_SHUFFLE]:s.m.SMART};class o{constructor(e){this._indexedDbAPI=e}async getContextualShuffleMode(e){const t=await this._indexedDbAPI.getItem("shuffle-state",e);return t instanceof Error?i.u.OFF:r[t]}async setContextualShuffleMode(e,t){const n=a[t];if(n===s.m.OFF){const t=await this._indexedDbAPI.deleteItem("shuffle-state",e);if(t instanceof Error)throw t}else{const t=await this._indexedDbAPI.setItem("shuffle-state",e,n);if(t instanceof Error)throw t}}getEvents(){return this._indexedDbAPI.getEvents()}}},10156:(e,t,n)=>{"use strict";n.d(t,{Ij:()=>i,y:()=>s});n(73952),n(41260),n(99400);function s(e,t=document){const{name:n,value:s,days:i,domain:r,secure:a=!0,samesite:o="none"}=e;let l="";if(i){const e=new Date;e.setTime(Date.now()+24*i*60*60*1e3),l=`; expires=${e.toUTCString()}`}else l="";let c=`${n}=${s}${l}; path=/`;r&&r.length&&(c+=`;domain=${r}`),s&&(!0===a&&(c+=";secure"),c+=`;samesite=${o}`),t.cookie=c}function i(e,t=document){try{const n=t.cookie;return n.split(";").map((e=>e.trim().split("="))).reduce(((e,t)=>(e.set(t[0],t[1]),e)),new Map).get(e)}catch(e){return}}},51956:(e,t,n)=>{"use strict";n.d(t,{C:()=>r,U:()=>i});n(73952),n(99400);var s=n(50504);function i(e){return Object.keys(e).reduce(((t,n)=>(t[n.toLowerCase()]=e[n],t)),{})}class r{constructor(e,t){this.resolver=e,this.requestFactory=t}head(e,t){return this.resolve(s.c.HEAD,e,null,t).then((e=>e.headers))}get(e,t,n){return this.resolve(s.c.GET,e,t,n).then((e=>e.body))}post(e,t=null,n){return this.resolve(s.c.POST,e,t,n).then((e=>e.body))}put(e,t,n){return this.resolve(s.c.PUT,e,t,n).then((e=>e.body))}del(e,t,n){return this.resolve(s.c.DELETE,e,t,n).then((e=>e.body))}patch(e,t,n){return this.resolve(s.c.PATCH,e,t,n).then((e=>e.body))}sub(e,t,n=(e=>{console.error(e)}),i=null,r={}){const a=this.requestFactory(s.c.SUB,e,r,i);return this.resolver.resolve(a,(e=>t(e.body)),n)}postSub(e,t=null,n,i=(e=>{console.error(e)})){const r=this.requestFactory(s.c.SUB,e,{},t);return this.resolver.resolve(r,(e=>n(e.body)),i)}request(e,t,n=null,s){return this.resolve(e,t,n,s)}resolve(e,t,n=null,s={}){return new Promise(((i,r)=>{const a=this.requestFactory(e,t,s,n);this.resolver.resolve(a,i,r)}))}}},68792:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var s=n(51956),i=n(50504);class r{constructor(e,t,n){this.status=e,this.headers=(0,s.U)(t),this.body=this.parseBody(n)}static isSuccessStatus(e){return e>=200&&e<=299}static parse(e){const t=JSON.parse(e),n=this.isSuccessStatus(t.status)&&t.body?t.body:"";return new r(t.status,t.headers||{},n)}parseBody(e){return""!==e?JSON.parse(e):{}}}var a=n(94584),o=n.n(a);class l{constructor(e,t){this.send=e,this.cancel=t}resolve(e,t,n){const s=this.send({request:e.stringify(),persistent:e.method===i.c.SUB,onSuccess:s=>this.onSuccess(e,s,t,n),onFailure:(t,s)=>this.onFailure(e,t,s,n)});return{cancel:()=>{this.cancel(s)}}}onSuccess(e,t,n,s){try{const i=r.parse(t);if(r.isSuccessStatus(i.status))n(i);else{s(o()(i.status,`${e.method} request to ${e.uri} failed with status code ${i.status}`))}}catch(t){const n=t instanceof Error?t.message:"(unknown error object)";s(new Error(`${e.method} request to ${e.uri} failed with exception '${n}'`))}}onFailure(e,t,n,s){s(new Error(`${e.method} request to ${e.uri} request failed with error code ${t} (${n})`))}}function c(){const e=function(){const e=n.g.window||{};return new l(e.sendCosmosRequest,e.cancelCosmosRequest)}(),t=(...e)=>new i.L(...e);return new s.C(e,t)}},50504:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,c:()=>i});var s=n(51956);let i=function(e){return e.DELETE="DELETE",e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.SUB="SUB",e.PATCH="PATCH",e}({});class r{constructor(e,t,n,i){this.uri=t,this.headers=(0,s.U)(n),this.body=this.stringifyBody(i||""),this.method=e}stringify(){return JSON.stringify({headers:this.headers,body:this.body,method:this.method,uri:this.uri})}stringifyBody(e){return"string"!=typeof e?JSON.stringify(e):e}static parse(e){const t=JSON.parse(e);return new r(t.method,t.uri,t.headers,t.body)}}},9600:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var s=n(43619);function i(e){return null===e||e.type===s.s.PLAYLIST||e.type===s.s.FOLDER||e.type===s.s.LIKED_SONGS||e.type===s.s.YOUR_EPISODES}},7696:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var s=n(70684);class i extends s.u{}},44736:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var s=n(14788),i=n(47724);function r(e){switch((0,s.nX)(e)?.type){case s.cH.TRACK:case s.cH.LOCAL_TRACK:return i.cx;case s.cH.EPISODE:return i.ql;default:return i.k1}}},55563:(e,t,n)=>{"use strict";n.d(t,{Oi:()=>i,em:()=>a,qc:()=>r});var s=n(45808);let i=function(e){return e.CURATE_ITEMS="curate_items",e}({}),r=function(e){return e.UPDATE_CURATED_ITEM="update_curated_item",e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete",e}({});class a extends s.u{}},3136:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});n(73952),n(39568);var s=n(31812),i=n(55563);class r extends i.em{constructor(e){super(),this.cache=e,this.aggregator=(0,s.a5)(this.onCuratedBatchChanged.bind(this),100),this.onAddListener(i.qc.UPDATE_CURATED_ITEM,(e=>{this.aggregator.subscribe(e.data.options.uri)})),this.onRemoveListener(i.qc.UPDATE_CURATED_ITEM,(e=>{this.aggregator.unsubscribe(e.data.options.uri)}))}emitUpdateCuratedItems(e,t){Array.isArray(t)?e.forEach(((e,n)=>{this.cache.set(e,t[n]),this.emit(i.qc.UPDATE_CURATED_ITEM,{uri:e,isCurated:t[n]})})):e.forEach((e=>{this.cache.set(e,t),this.emit(i.qc.UPDATE_CURATED_ITEM,{uri:e,isCurated:t})}))}emitOperationSync(e,t,n,s){return this.emitSync(i.qc.OPERATION,{operation:e,curatedItemUri:t,addedCurationContextUris:n,removedCurationContextUris:s}).defaultPrevented}emitOperationComplete(e,t,n,s,r=null){this.emit(i.qc.OPERATION_COMPLETE,{operation:e,curatedItemUri:t,addedCurationContextUris:n,removedCurationContextUris:s,error:r})}}},5752:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var s=n(14788);function i(e){const t=(0,s.nX)(e);return t?.type===s.cH.TRACK||t?.type===s.cH.LOCAL_TRACK||t?.type===s.cH.EPISODE}},40060:(e,t,n)=>{"use strict";n.d(t,{M:()=>i,m:()=>r});var s=n(96651);const i=(0,s.createContext)(null);function r(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use 'CurationContext' without 'CurationProvider'!");return e}},97596:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});let s=function(e){return e.STAR_WARS="star_wars",e.MANDALORIAN="mandalorian",e.FC_24="fc_24",e}({})},11920:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});let s=function(e){return e.ALBUM="album",e.ARTIST="artist",e.TRACK="track",e.PLAYLIST="playlist",e.NOW_PLAYING="now_playing",e}({})},22480:(e,t,n)=>{"use strict";n.d(t,{y:()=>s.y});var s=n(16504)},38420:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s.Y});var s=n(97596)},46068:(e,t,n)=>{"use strict";n.d(t,{Q:()=>u});var s=n(16504),i=(n(73952),n(91372),n(14788)),r=n(97596);const a={[r.Y.STAR_WARS]:[(0,i.k3)("spotify:playlist:37i9dQZF1DXaUaRhCgtpCo"),(0,i.k3)("spotify:playlist:69BOXIItwwyxTgdz6flzvU"),(0,i.k3)("spotify:playlist:37i9dQZF1DWUgUvAPAFxdh")],[r.Y.MANDALORIAN]:[(0,i.k3)("spotify:album:4xFmHg5dYvaqmn9ZNQpjWL"),(0,i.k3)("spotify:album:4AOyNiCYswORQsTLxyGYQ4"),(0,i.k3)("spotify:album:5r9JMvwLPm2HNY5WgBZ8Q7"),(0,i.k3)("spotify:album:43PIYGro37xm0Y8iXMP5Pc"),(0,i.k3)("spotify:album:249DL9DzLAZRyxkpOa5w5w"),(0,i.k3)("spotify:album:71GgO9VtkVN2grqmpZo4Y2"),(0,i.k3)("spotify:album:4PMsqnolvUGyj1ZRxE1aki"),(0,i.k3)("spotify:album:4UbdaOH1jy1l9EG9vLFCle"),(0,i.k3)("spotify:album:2NxNzw1ohPc2Hhjaq2j3tW"),(0,i.k3)("spotify:album:4xUXCZfINYIV1DdZKomeVx"),(0,i.k3)("spotify:album:2JtB7K4gMmfC7Ow9Y4pz4b"),(0,i.k3)("spotify:album:3wuE2JeCx2Vmvk7b1c9fnI"),(0,i.k3)("spotify:playlist:37i9dQZF1DWTEvftu9yFoF")],[r.Y.FC_24]:[(0,i.k3)("spotify:playlist:37i9dQZF1DX3rXtgePifMs")]};function o(e,t){if(null===t)return null;for(const[n,s]of e)if(s.some((e=>(0,i.mG)(t,e))))return n;return null}function l(e){const t=Object.entries(a),n=Array.isArray(e)?e:[e];for(const e of n){const n=o(t,e);if(null!==n)return n}return null}var c=n(72001),d=n(16928);function u(){const e=(0,s.W)(),t=(0,c.o)((e=>e?.context.uri??null)),n=(0,c.o)((e=>{const t=e?.item??void 0;return(0,d.gB)(t)?t.album.uri:null}));if(null===e)return{surface:null,isViewingVariant:null,isPlayingVariant:null};const{surface:i,uris:r}=e;return{surface:i,isViewingVariant:l(r),isPlayingVariant:l([t,n])}}},71640:(e,t,n)=>{"use strict";n.d(t,{kr:()=>i,Gy:()=>o,Mp:()=>a,sH:()=>l});n(73952),n(39568);var s=n(56584);const i=(e,t,n)=>(n&&e.searchParams.set("t",n.toString()),t&&(e.searchParams.has("utm_source")||e.searchParams.set("utm_source",t)),e.searchParams.has("utm_medium")||e.searchParams.set("utm_medium",function(){let e;if("undefined"==typeof window)return!1;if(void 0!==window.orientation)switch(window.orientation){case 0:case 180:e=window.screen.width;break;default:e=window.screen.height}else{const t=window.screen.orientation&&window.screen.orientation.type||window.screen.msOrientation||"";if(0===t.indexOf("portrait"))e=window.screen.width;else{if(0!==t.indexOf("landscape"))return!1;e=window.screen.height}}return e<=432}()?"mobile":"desktop"),e);function r(e,t=!0){const n=new URL("undefined"!=typeof location&&location.href?location.href:"https://open.spotify.com");let i=null;if(e){const s=e.toURL();i=new URL(s),t&&n.searchParams.forEach(((e,t)=>{i.searchParams.set(t,e)}))}else i=n,t||(i.search="");i.searchParams.delete("nd"),i.searchParams.delete("fallback"),i.searchParams.set("go","1");const r=(0,s.e)("config");return"string"==typeof r?.correlationId&&i.searchParams.append("sp_cid",r.correlationId),i}function a(e,t){const n=r(e,t);return n.searchParams.set("fallback","getapp"),n}function o(e,t){const n=r(e,t);return n.searchParams.set("fallback","download"),n}function l(){return new URL(`https://www.spotify.com/download${window.location.search}`)}},46700:(e,t,n)=>{"use strict";n.d(t,{Km:()=>a,Mf:()=>r,iG:()=>o,uc:()=>i,yc:()=>s});const s="STORE_DEFERRED_ACTION",i="PULL_DEFERRED_ACTION";let r=function(e){return e.PLAY="play",e.PLAYING="playing",e.USER_INVESTMENT="user-investment",e}({});const a=(e,t)=>({type:s,storeAction:e,actionIntent:t}),o=()=>({type:i})},45808:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var s=n(74992);class i{constructor(e=new s._w){this._emitter=e,this._emitter=e||new s._w}addListener(e,t,n){return this._emitter.addListener(e,t,n),this}removeListener(e,t,n){return this._emitter.removeListener(e,t,n),this}onAddListener(e,t){return this._emitter.onAddListener(e,t),this}onRemoveListener(e,t){return this._emitter.onRemoveListener(e,t),this}emit(e,t){return this._emitter.emit(e,t)}emitSync(e,t){return this._emitter.emitSync(e,t)}}},56508:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});var s=n(79592);class i extends Error{constructor(){super("aborted")}}class r{constructor(e,t){this.send=e,this.cancel=t}callSingle(e,{signal:t}={}){let n;return new Promise(((s,r)=>{const a=this.call(e,!1,s,r);t?.addEventListener("abort",n=()=>{a.cancel(),r(new i)})})).finally((()=>t?.removeEventListener("abort",n)))}callStream(e,t){return this.call(e,!0,t,(e=>{throw e}))}call(e,t,n,i){const r=this.send({request:JSON.stringify({method:t?"SUB":"POST",uri:(a=e.service,o=e.method,`sp://esperanto/${a}/${o}`),headers:{"Esperanto-Encoding":"base64"},body:(0,s.a6)(e.payload)}),persistent:t,onSuccess:t=>{const r=JSON.parse(t);200!==r.status?i(new Error(`${e.service}.${e.method} failed with ${r.status} ${r.body}`)):n((0,s.eu)(r.body))},onFailure:(t,n)=>{i(new Error(`${e.service}.${e.method} failed with code: ${n}`))}});var a,o;const l=this.cancel;return{cancel(){l(r)}}}}function a(){return function(){const e=n.g.window||{};return new r(e.sendCosmosRequest,e.cancelCosmosRequest)}()}},42144:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});const s=(0,n(96651).createContext)({request:()=>{throw new Error("GraphQL Context not initialized with Request object")}})},88272:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});class s{constructor(e,t,n,s){this.name=e,this.operation=t,this.sha256Hash=n,this.value=s}}},49812:(e,t,n)=>{"use strict";async function s(e,t,n){try{const s=await e(t,n);return s?.errors?Promise.reject(s?.errors):s}catch(e){return e instanceof Error?Promise.reject([{message:e.message}]):Promise.reject(null)}}n.d(t,{M:()=>s})},99972:(e,t,n)=>{"use strict";n.d(t,{U:()=>c,y:()=>l});var s=n(96651),i=n(12924),r=n(40468),a=n(42144),o=n(49812);const l=6e4;function c(e,t,n){const l=(0,i.q$)(),{request:c}=(0,s.useContext)(a.Q),{name:d,operation:u,sha256Hash:m}=e,p="query"===u,h=p&&n?.gcTime?n?.gcTime:0,g=p&&n?.staleTime?n?.staleTime:0,f=(0,s.useRef)([d,t,m]);f.current=[d,t,m];const{data:y,isLoading:_,isFetching:b,error:v}=(0,r.U)({queryKey:f.current,queryFn:()=>(0,o.M)(c,e,t),...n,gcTime:h,staleTime:g}),x=(0,s.useCallback)((()=>l.invalidateQueries({queryKey:f.current,exact:!0})),[l]);return{data:y?.data??null,extensions:y?.extensions,error:v??null,loading:_,fetching:b,invalidate:x}}},54008:(e,t,n)=>{"use strict";n.d(t,{v:()=>_});var s=n(31640),i=n(70684);class r extends i.u{constructor(e,t){super(e,t)}}n(37144);class a extends i.u{constructor(e,t){super(e,t)}}class o extends i.u{constructor(e,t){super(e,t)}}class l extends i.u{constructor(e,t){super(e,t)}}class c extends i.u{constructor(e,t){super(e,t)}}class d extends i.u{constructor(e,t){super(e,t)}}class u extends i.u{constructor(e,t){super(e,t)}}class m extends i.u{}const p={0:e=>{const t=e;return t.createObjectStore("shuffle-state"),t}};var h=n(91832);function g(e){e instanceof Error&&!(e instanceof r)&&console.error(e,"cause:",e.cause)}class f{constructor(e){this.name=e}close(){}dispatchEvent(){return!1}addEventListener(){}removeEventListener(){}postMessage(){}onmessage(){}onmessageerror(){}}class y extends(window.BroadcastChannel??f){postMessage(e){super.postMessage(e)}addEventListener(e,t,n){super.addEventListener(e,t,n)}}class _{constructor(e){this.name=`${e}:client-web`,this.version=1,this._events=new h.S,this._channel=new y(this.name),this._channel.addEventListener("message",(e=>{const{type:t,payload:n}=e.data;if(t===h.c.UPDATE){const{storeName:e,key:t,value:s}=n;this._events.emit(h.c.UPDATE,{storeName:e,key:t,value:s})}else if(t===h.c.DELETE){const{storeName:e,key:t}=n;this._events.emit(h.c.DELETE,{storeName:e,key:t})}}))}getEvents(){return this._events}async openDb(){const e=(0,s.CA)(this.name,this.version,{upgrade(e,t,n){!function(e,t,n){if(!n)throw new m(`Version change triggered for version ${t} but there is no new version to migrate to.`);let s=t;for(;s<n;){const t=p[s];if(!t)throw new m(`No migration from version ${s} to ${s+1}.`);t(e),s++}}(e,t,n)},blocking(){window.location.reload()}}).catch((t=this.version,e=>{if(e instanceof DOMException)switch(e.name){case"ConstraintError":return new o(`ConstraintError while opening database version "${t}"`,{cause:e});case"VersionError":return new c(e.message,{cause:e});case"AbortError":return new a(`AbortError while opening database version "${t}"`,{cause:e})}return new l(`Error opening database version "${t}"`,{cause:e})}));var t;return g(e),e}async getItem(e,t){const n=await this.openDb();if(n instanceof Error)return n;const s=await n.get(e,t).then((n=>void 0===n?new r(`Key "${t}" not found in store "${e}". DB version: "${this.version}"`,{cause:void 0}):n)).catch(((e,t,n)=>s=>{if(s instanceof DOMException)switch(s.name){case"NotFoundError":return new r(`Key "${n}" not found in store "${t}". DB version: "${e}"`,{cause:s});case"InvalidStateError":return new u(`InvalidStateError when reading key "${n}" from store "${t}". DB version: "${e}"`,{cause:s})}return new l(`Error reading key "${n}" from store "${t}". DB version: "${e}"`,{cause:s})})(this.version,e,t));return g(s),s}async setItem(e,t,n){const s=await this.openDb();if(s instanceof Error)return s;const i=await s.put(e,n,t).catch(((e,t)=>n=>{if(n instanceof DOMException)switch(n.name){case"QuotaExceededError":return new d(`Quota exceeded when writing to object store "${t}". DB version: "${e}"`,{cause:n});case"AbortError":return new a(`Abort occured when writing to object store "${t}". DB version: "${e}"`,{cause:n})}return new l(`Error writing to "${t}". DB version: "${e}"`,{cause:n})})(this.version,e));return g(i),i instanceof Error||(this._channel.postMessage({type:h.c.UPDATE,payload:{storeName:e,key:t,value:n}}),this._events.emit(h.c.UPDATE,{storeName:e,key:t,value:n})),i}async deleteItem(e,t){const n=await this.openDb();if(n instanceof Error)return n;const s=n.delete(e,t).catch(((e,t,n)=>s=>{if(s instanceof DOMException)switch(s.name){case"NotFoundError":return new r(`Key "${n}" not found in store "${t}". DB version: "${e}"`,{cause:s});case"InvalidStateError":return new u(`InvalidStateError when deleting key "${n}" from store "${t}". DB version: "${e}"`,{cause:s})}return new l(`Error deleting key "${n}" from store "${t}". DB version: "${e}"`,{cause:s})})(this.version,e,t));return g(s),s instanceof Error||(this._channel.postMessage({type:h.c.DELETE,payload:{storeName:e,key:t}}),this._events.emit(h.c.DELETE,{storeName:e,key:t})),s}}},91832:(e,t,n)=>{"use strict";n.d(t,{S:()=>r,c:()=>i});var s=n(45808);let i=function(e){return e.UPDATE="update",e.DELETE="delete",e}({});class r extends s.u{}},14448:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});let s=function(e){return e.OFF="OFF",e.LOCAL="LOCAL",e.SMART="SMART",e}({})},47724:(e,t,n)=>{"use strict";n.d(t,{cx:()=>i,cz:()=>a,im:()=>d,k1:()=>s,oJ:()=>l,ql:()=>r,wS:()=>c,yu:()=>o});n(43619);const s="spotify:collection",i="spotify:collection:tracks",r="spotify:collection:your-episodes",a="spotify:collection:local-files";let o=function(e){return e[e.YES=0]="YES",e[e.NO_IN_FOLDER=1]="NO_IN_FOLDER",e[e.NO=2]="NO",e}({});class l extends Error{constructor(e){super(`"${e}" is not a valid YLX filter.`),Object.setPrototypeOf(this,l.prototype)}}class c extends Error{constructor(e){super(`"${e}" is not a valid YLX sort order.`),Object.setPrototypeOf(this,c.prototype)}}class d extends Error{constructor(e){super(`${e}`),Object.setPrototypeOf(this,d.prototype)}}},51528:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,Wg:()=>a,Yd:()=>l,aG:()=>r,uJ:()=>o});var s=n(45808);let i=function(e){return e.ALBUMS="albums",e.ARTISTS="artists",e.SHOWS="shows",e.TRACKS="tracks",e.EPISODES="episodes",e.BOOKS="books",e}({}),r=function(e){return e.ADD="add",e.REMOVE="remove",e}({}),a=function(e){return e.UPDATE="update",e.UPDATE_ITEM="update_item",e.UPDATE_PIN="update_pin",e.UPDATE_PIN_ERROR="update_pin_error",e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete",e}({}),o=function(e){return e[e.TOO_MANY_PINS=0]="TOO_MANY_PINS",e[e.NO_PIN_IN_FOLDER=1]="NO_PIN_IN_FOLDER",e}({});class l extends s.u{}},33948:(e,t,n)=>{"use strict";n.d(t,{Kr:()=>i,O8:()=>r,o5:()=>s});let s=function(e){return e.TEXT="TEXT",e.TAGS="TAGS",e}({}),i=function(e){return e.CONTAINS="CONTAINS",e}({});function r(e){if(e)return"string"==typeof e&&e.startsWith("tags contains")?{field:s.TAGS,operator:i.CONTAINS,value:e.slice(14)}:"string"==typeof e?{field:s.TEXT,operator:i.CONTAINS,value:e.trim()}:e}},96275:(e,t,n)=>{"use strict";n.d(t,{EH:()=>c,Sw:()=>r,Sy:()=>i,YN:()=>l,_8:()=>s,_S:()=>o,gX:()=>a});let s=function(e){return e.ASC="ASC",e.DESC="DESC",e}({}),i=function(e){return e.NAME="NAME",e.ARTIST_NAME="ARTIST_NAME",e.ALBUM_NAME="ALBUM_NAME",e.ADDED_AT="ADDED_AT",e}({}),r=function(e){return e.NAME="NAME",e.ARTIST_NAME="ARTIST_NAME",e.ADDED_AT="ADDED_AT",e}({}),a=function(e){return e.NAME="NAME",e.ADDED_AT="ADDED_AT",e}({}),o=function(e){return e.NAME="NAME",e.ADDED_AT="ADDED_AT",e}({}),l=function(e){return e.NAME="NAME",e.SHOW_NAME="SHOW_NAME",e.ADDED_AT="ADDED_AT",e}({}),c=function(e){return e.NAME="NAME",e.ADDED_AT="ADDED_AT",e}({})},24036:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});n(73952),n(39568);var s=n(31812),i=n(51528);class r extends i.Yd{_numListeners=0;constructor(e){super(),this._cache=e,this._aggregator=(0,s.a5)(this.onBatchChanged.bind(this),100),this.onAddListener(i.Wg.UPDATE,(()=>{1==++this._numListeners&&this.subscribeToUpdates()})),this.onRemoveListener(i.Wg.UPDATE,(()=>{0==--this._numListeners&&this.unsubscribeFromUpdates()})),this.onAddListener(i.Wg.UPDATE_ITEM,(e=>{1==++this._numListeners&&this.subscribeToUpdates(),this._aggregator.subscribe(e.data.options.uri)})),this.onRemoveListener(i.Wg.UPDATE_ITEM,(e=>{0==--this._numListeners&&this.unsubscribeFromUpdates(),this._aggregator.unsubscribe(e.data.options.uri)}))}emitUpdateItems(e,t){Array.isArray(t)?e.forEach(((e,n)=>{this._cache.set(e,t[n]),this.emit(i.Wg.UPDATE_ITEM,{uri:e,isInLibrary:t[n]})})):e.forEach((e=>{this._cache.set(e,t),this.emit(i.Wg.UPDATE_ITEM,{uri:e,isInLibrary:t})}))}emitUpdatePin(e,t){this.emit(i.Wg.UPDATE_PIN,{uri:e,isPinned:t})}emitUpdatePinErrorTooManyPins(e,t){this.emit(i.Wg.UPDATE_PIN_ERROR,{reason:i.uJ.TOO_MANY_PINS,uri:e,maximumPinnedItems:t})}emitOperationSync(e,t,n){return this.emitSync(i.Wg.OPERATION,{operation:e,uris:t,silent:n}).defaultPrevented}emitOperationComplete(e,t,n=null,s){this.emit(i.Wg.OPERATION_COMPLETE,{operation:e,uris:t,error:n,silent:s})}}},95092:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var s=n(14788),i=n(47724);function r(e,t){if(t){if(e===i.cx)return(0,s.ML)(t).toURI();if(e===i.ql)return(0,s.ML)(t,"your-episodes").toURI()}return e===i.cz?"spotify:local-files":e}},72467:(e,t,n)=>{"use strict";n.d(t,{Cu:()=>y,G8:()=>C,Gc:()=>b,KG:()=>f,as:()=>x,c5:()=>S,mM:()=>_,qU:()=>E});n(73952),n(97296),n(41260);var s=n(16928),i=n(33948),r=n(47724),a=n(52264),o=n(52276),l=n(12100),c=n(43619),d=n(66532);const u={[i.o5.TEXT]:"text",[i.o5.TAGS]:"tags"},m={[i.Kr.CONTAINS]:"contains"};function p(e){return e.map((e=>{const{field:t,operator:n,value:s}=e;if(t!==i.o5.TEXT&&t!==i.o5.TAGS||n!==i.Kr.CONTAINS)throw new Error("Invalid filter params!");return`${u[t]} ${m[n]} ${encodeURIComponent(s)}`})).join(",")}const h={[i.o5.TEXT]:"text",[i.o5.TAGS]:"tags"},g={[i.Kr.CONTAINS]:"=^#"};function f(e){return p(e)}function y(e){return e?.value??""}function _(e,t){if(void 0===t||0===t.length)return;const n=function(e){return e.map((e=>{const{field:t,operator:n,value:s}=e;if(t!==i.o5.TEXT&&t!==i.o5.TAGS||n!==i.Kr.CONTAINS)throw new Error("Invalid filter params!");return`${h[t]} ${g[n]} "${s}"`})).join(",")}(t),r=p(t);e.url=`context://${e.uri}?filter=${encodeURIComponent(r)}`,e.metadata=e.metadata??{},e.metadata[s.WE.FILTERING_PREDICATE]=n,e.metadata[s.WE.LIST_UTIL_FILTER]=r}function b(e){const t=e?.toString()??"";switch(e){case a.cf.ALBUM:return{id:t,name:l._s.get("shared.library.filter.album")};case a.cf.ARTIST:return{id:t,name:l._s.get("shared.library.filter.artist")};case a.cf.PLAYLIST:return{id:t,name:l._s.get("shared.library.filter.playlist")};case a.cf.SHOW:return{id:t,name:l._s.get("shared.library.filter.show")};case a.cf.BOOK:return{id:t,name:l._s.get("shared.library.filter.book")};case a.cf.DOWNLOADED:return{id:t,name:l._s.get("shared.library.filter.downloaded")};case a.cf.BY_YOU:return{id:t,name:l._s.get("shared.library.filter.by-you")};case a.cf.BY_SPOTIFY:return{id:t,name:l._s.get("shared.library.filter.by-spotify")};case a.cf.UNPLAYED:return{id:t,name:l._s.get("shared.library.filter.unplayed")};case a.cf.IN_PROGRESS:return{id:t,name:l._s.get("shared.library.filter.in-progress")};case a.cf.EVENT:case a.cf.WRITABLE:case a.cf.UNRECOGNIZED:return{id:t,name:a.cf[e]};default:throw(0,o.I)(e),new r.oJ(`${e}`)}}const v={[a.cf.PLAYLIST]:0,[a.cf.SHOW]:1,[a.cf.BOOK]:2,[a.cf.ALBUM]:3,[a.cf.ARTIST]:4,[a.cf.BY_YOU]:5,[a.cf.BY_SPOTIFY]:6,[a.cf.IN_PROGRESS]:7,[a.cf.UNPLAYED]:8,[a.cf.DOWNLOADED]:9,[a.cf.WRITABLE]:-1,[a.cf.UNRECOGNIZED]:-1,[a.cf.EVENT]:-1};function x(e){return e.filter((e=>-1!==v[e])).sort(((e,t)=>v[e]-v[t]))}function C(e){return e.filter((({id:e})=>![a.cf.PLAYLIST].includes((0,d._U)(e))))}function E(e){switch(e){case a.cf.ALBUM:return c.s.ALBUM;case a.cf.ARTIST:return c.s.ARTIST;case a.cf.PLAYLIST:return c.s.PLAYLIST;case a.cf.SHOW:return c.s.SHOW;case a.cf.BOOK:return c.s.AUDIOBOOK;case a.cf.DOWNLOADED:return"downloaded";default:return null}}function S(e){switch(e){case c.s.ALBUM:return a.cf.ALBUM;case c.s.ARTIST:return a.cf.ARTIST;case c.s.PLAYLIST:return a.cf.PLAYLIST;case c.s.SHOW:return a.cf.SHOW;case c.s.AUDIOBOOK:return a.cf.BOOK;case"downloaded":return a.cf.DOWNLOADED;default:return null}}},74012:(e,t,n)=>{"use strict";n.d(t,{Av:()=>l,Oq:()=>c,QX:()=>y,WC:()=>v,cL:()=>f,cv:()=>u,eS:()=>b,gT:()=>h,yE:()=>p});n(41260);var s=n(16928),i=n(96275),r=n(52264),a=n(52276),o=n(12100);function l(e){if(void 0===e)return;const{field:t}=e;if(t===i.Sw.NAME)return r.Cu.NAME;if(t===i.Sw.ARTIST_NAME)return r.Cu.CREATOR;if(t===i.Sw.ADDED_AT)return r.Cu.RECENTLY_ADDED;throw new Error("Invalid album sort params!")}function c(e){if(void 0===e)return;const{field:t}=e;if(t===i._S.NAME)return r.Cu.NAME;if(t===i._S.ADDED_AT)return r.Cu.RECENTLY_ADDED;throw new Error("Invalid artist sort params!")}var d=function(e){return e.TRACK_NAME_ASC="name ASC",e.TRACK_NAME_DESC="name DESC",e.TRACK_ARTIST_NAME_ASC="artist.name ASC,album.name,discNumber,trackNumber",e.TRACK_ARTIST_NAME_DESC="artist.name DESC,album.name,discNumber,trackNumber",e.TRACK_ALBUM_NAME_ASC="album.name ASC,discNumber,trackNumber",e.TRACK_ALBUM_NAME_DESC="album.name DESC,discNumber,trackNumber",e.TRACK_ADDED_AT_ASC="addTime ASC,album.name,album.artist.name,discNumber,trackNumber",e.TRACK_ADDED_AT_DESC="addTime DESC,album.name,album.artist.name,discNumber,trackNumber",e}(d||{});function u({field:e,order:t}){switch(e){case i.Sy.NAME:return t===i._8.ASC?d.TRACK_NAME_ASC:d.TRACK_NAME_DESC;case i.Sy.ARTIST_NAME:return t===i._8.ASC?d.TRACK_ARTIST_NAME_ASC:d.TRACK_ARTIST_NAME_DESC;case i.Sy.ALBUM_NAME:return t===i._8.ASC?d.TRACK_ALBUM_NAME_ASC:d.TRACK_ALBUM_NAME_DESC;case i.Sy.ADDED_AT:return t===i._8.ASC?d.TRACK_ADDED_AT_ASC:d.TRACK_ADDED_AT_DESC;default:throw new Error("Invalid track sort params!")}}var m=function(e){return e.TRACK_NAME_ASC="title ASC",e.TRACK_NAME_DESC="title DESC",e.TRACK_ARTIST_NAME_ASC="artist_name ASC, album_title, album_disc_number, album_track_number",e.TRACK_ARTIST_NAME_DESC="artist_name DESC, album_title, album_disc_number, album_track_number",e.TRACK_ALBUM_NAME_ASC="album_title ASC, album_disc_number, album_track_number",e.TRACK_ALBUM_NAME_DESC="album_title DESC, album_disc_number, album_track_number",e.TRACK_ADDED_AT_ASC="added_at ASC, album_title, album_artist_name, album_disc_number, album_track_number",e.TRACK_ADDED_AT_DESC="added_at DESC, album_title, album_artist_name, album_disc_number, album_track_number",e}(m||{});function p(e,t){void 0!==t&&(e.metadata=e.metadata??{},e.metadata[s.WE.SORTING_CRITERIA]=function({field:e,order:t}){switch(e){case i.Sy.NAME:return t===i._8.ASC?m.TRACK_NAME_ASC:m.TRACK_NAME_DESC;case i.Sy.ARTIST_NAME:return t===i._8.ASC?m.TRACK_ARTIST_NAME_ASC:m.TRACK_ARTIST_NAME_DESC;case i.Sy.ALBUM_NAME:return t===i._8.ASC?m.TRACK_ALBUM_NAME_ASC:m.TRACK_ALBUM_NAME_DESC;case i.Sy.ADDED_AT:return t===i._8.ASC?m.TRACK_ADDED_AT_ASC:m.TRACK_ADDED_AT_DESC;default:throw new Error("Invalid track sort params!")}}(t),e.metadata[s.WE.LIST_UTIL_SORT]=u(t))}function h(e){if(void 0===e)return;const{field:t}=e;if(t===i.gX.NAME)return r.Cu.NAME;if(t===i.gX.ADDED_AT)return r.Cu.RECENTLY_ADDED;throw new Error("Invalid show sort params!")}var g=function(e){return e.EPISODE_NAME_ASC="name ASC",e.EPISODE_NAME_DESC="name DESC",e.EPISODE_ADDED_AT_ASC="addTime ASC,name",e.EPISODE_ADDED_AT_DESC="addTime DESC,name",e.SHOW_NAME_ASC="show.name ASC,addTime ASC",e.SHOW_NAME_DESC="show.name DESC,addTime ASC",e}(g||{});function f(e){return void 0===e?"":function({field:e,order:t}){if(e===i.YN.NAME&&t===i._8.ASC)return g.EPISODE_NAME_ASC;if(e===i.YN.NAME&&t===i._8.DESC)return g.EPISODE_NAME_DESC;if(e===i.YN.ADDED_AT&&t===i._8.ASC)return g.EPISODE_ADDED_AT_ASC;if(e===i.YN.ADDED_AT&&t===i._8.DESC)return g.EPISODE_ADDED_AT_DESC;if(e===i.YN.SHOW_NAME&&t===i._8.ASC)return g.SHOW_NAME_ASC;if(e===i.YN.SHOW_NAME&&t===i._8.DESC)return g.SHOW_NAME_DESC;throw new Error("Invalid episode sort params!")}(e)}function y(e){if(void 0!==e){if(e===i.EH.NAME)return r.Cu.NAME;if(e===i.EH.ADDED_AT)return r.Cu.RECENTLY_ADDED;throw new Error("Invalid book sort params!")}}function _(e){return v(e)?.[0]}function b(e,t){const n=e?.toString()??"";switch(e){case r.Cu.CREATOR:return{id:n,name:t===r.cf.BOOK?o._s.get("shared.library.sort-by.author"):o._s.get("shared.library.sort-by.creator")};case r.Cu.CUSTOM:return{id:n,name:o._s.get("shared.library.sort-by.custom")};case r.Cu.NAME:return{id:n,name:o._s.get("shared.library.sort-by.name")};case r.Cu.RECENTLY_ADDED:return{id:n,name:o._s.get("shared.library.sort-by.recently-added")};case r.Cu.RECENTLY_PLAYED_OR_ADDED:return{id:n,name:o._s.get("shared.library.sort-by.recently-played-or-added")};case r.Cu.RECENTLY_UPDATED:return{id:n,name:o._s.get("shared.library.sort-by.recently-updated")};case r.Cu.RELEVANCE:return{id:n,name:o._s.get("shared.library.sort-by.relevance")};case r.Cu.UNRECOGNIZED:case void 0:return _(t);default:return(0,a.I)(e),_(t)}}function v(e){let t=[];switch(e){case r.cf.ALBUM:case r.cf.DOWNLOADED:case r.cf.WRITABLE:case r.cf.BY_YOU:case r.cf.BY_SPOTIFY:case r.cf.UNPLAYED:case r.cf.EVENT:case r.cf.IN_PROGRESS:case r.cf.UNRECOGNIZED:case r.cf.BOOK:t=[r.Cu.RECENTLY_PLAYED_OR_ADDED,r.Cu.RECENTLY_ADDED,r.Cu.NAME,r.Cu.CREATOR];break;case r.cf.SHOW:t=[r.Cu.RECENTLY_PLAYED_OR_ADDED,r.Cu.RECENTLY_ADDED,r.Cu.NAME,r.Cu.CREATOR,r.Cu.RECENTLY_UPDATED];break;case r.cf.PLAYLIST:t=[r.Cu.RECENTLY_PLAYED_OR_ADDED,r.Cu.RECENTLY_ADDED,r.Cu.NAME,r.Cu.CREATOR,r.Cu.CUSTOM];break;case r.cf.ARTIST:t=[r.Cu.RECENTLY_PLAYED_OR_ADDED,r.Cu.RECENTLY_ADDED,r.Cu.NAME];break;case void 0:t=[r.Cu.RECENTLY_PLAYED_OR_ADDED,r.Cu.RECENTLY_ADDED,r.Cu.NAME,r.Cu.CREATOR];break;default:(0,a.I)(e)}return t.map((t=>b(t,e)))}},66532:(e,t,n)=>{"use strict";function s(e){return Number(e)}function i(e){return e?s(e):void 0}function r(e){return e?function(e){return Number(e)}(e):void 0}n.d(t,{_U:()=>s,gz:()=>i,kX:()=>r})},93948:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});const s=(0,n(96651).createContext)(null)},36356:(e,t,n)=>{"use strict";n.d(t,{iQ:()=>m,oJ:()=>u});var s=n(96651),i=n(51528),r=n(93948),a=n(30140),o=n(71796),l=n(74992);const c=i.Wg.UPDATE;function d(e,t){const n=(0,s.useContext)(r.g),[i,o]=(0,s.useState)(null),d=(0,s.useCallback)((async s=>{e===s.data.list&&o(await t(n))}),[n,e,t]);return(0,s.useEffect)((()=>{d(new l.Uh(c,{list:e}))}),[d,e]),(0,a.l)(c,d),i}function u(e){return d(i.K.TRACKS,(0,o.Y1)((t=>t.getTracks(e)),[e]))}function m(e){return d(i.K.EPISODES,(0,o.Y1)((t=>t.getEpisodes(e)),[e]))}},30140:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var s=n(96651),i=n(93948);function r(e,t){const n=(0,s.useContext)(i.g),r=(0,s.useRef)(t);(0,s.useLayoutEffect)((()=>{r.current=t})),(0,s.useEffect)((()=>{const t=n.getEvents(),s=e=>r.current(e);return t.addListener(e,s),()=>{t.removeListener(e,s)}}),[e,n])}},33876:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i,d:()=>s});const s="spotify:internal:local-files";let i=function(e){return e.UNKNOWN="unknown",e.ITUNES="itunes",e.DOWNLOADS="downloads",e.MY_MUSIC="my_music",e.WINDOWS_MUSIC_LIBRARY="windows_music_library",e.UNRECOGNIZED="unrecognized",e}({})},15712:(e,t,n)=>{"use strict";n.d(t,{N:()=>r,g:()=>i});var s=n(45808);let i=function(e){return e.UPDATE="update",e}({});class r extends s.u{}},48348:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var s=n(96651);const i=new Error("Local files API used without being initialized.\n   Did you provide the context in a a parent component?'"),r=(0,s.createContext)({getCapabilities:()=>{throw i},getTracks:()=>{throw i},getScannerStatus:()=>{throw i},getSources:()=>{throw i},mutateDefaultSource:()=>{throw i},addFolder:()=>{throw i},removeFolder:()=>{throw i}})},99096:(e,t,n)=>{"use strict";n.d(t,{i:()=>r,A:()=>o});var s=n(48348),i=n(2488);const r=({instance:e,children:t})=>(0,i.jsx)(s.E.Provider,{value:e,children:t});var a=n(96651);function o(){return(0,a.useContext)(s.E).getCapabilities()}},35132:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});var s=n(25336);function i(){return(0,s.k)()[0]}},25336:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var s=n(96651),i=n(48348);function r(){const e=(0,s.useContext)(i.E),[t,n]=(0,s.useState)(e.getIsEnabled());(0,s.useEffect)((()=>{const t=e.subscribeIsEnabled(n);return()=>t()}),[e]);return[t,(0,s.useCallback)((t=>e.setIsEnabled(t)),[e])]}},50900:(e,t,n)=>{"use strict";n.d(t,{c:()=>d});n(73952),n(39568);var s=n(87668),i=n(70684);class r extends i.u{}var a=n(26336);class o extends i.u{static getSize(e){return`${(JSON.stringify(e).length/1024).toFixed(2)}KB`}constructor(){super(`Local storage quota exceeded. Total size used: ${o.getSize(localStorage)}`),Object.setPrototypeOf(this,o.prototype)}}var l=n(31780),c=n(92116);class d{items={};max_retries=3;auto_cleanup=!1;constructor(e,t){this.namespace=e,this._events=new c.O,this.max_retries=t?.max_retries??this.max_retries,this.auto_cleanup=t?.auto_cleanup??this.auto_cleanup,this.listenToStorageEvents()}createNamespacedKey(e){return`${this.namespace}:${e}`}parseLocalStorageValue(e,t){try{const n=JSON.parse(t);return this.items[e]=n,n}catch(n){return console.error(`Failed to parse value ${t} for key ${e}`),new l.E(t)}}listenToStorageEvents(){window.addEventListener("storage",(e=>{const{key:t,newValue:n,oldValue:s}=e;if(null!==t&&null!==n&&t.startsWith(this.namespace)&&n!==s){const e=this.parseLocalStorageValue(t,n);this.items[t]=e,this._events.emit(c.s.UPDATE,{key:t.replace(`${this.namespace}:`,""),value:e})}}))}getEvents(){return this._events}getItem(e){const t=this.createNamespacedKey(e),n=this.items[t];if(t in this.items)return n;const s=window.localStorage.getItem(t);return null===s?new a.U(e):this.parseLocalStorageValue(t,s)}setItem(e,t){this.setItemInternal(e,t,this.max_retries)}setItemInternal(e,t,n){if(0===n)return void(0,s.W8)(new Error("LocalStorage retried too many times"));const i=this.createNamespacedKey(e),a=JSON.stringify(t),l=window.localStorage.getItem(i);if(l!==a){this.items[i]=t;try{window.localStorage.setItem(i,a)}catch(i){if(console.error("LocalStorage quota exceeded (no space left)"),(0,s.W8)(new o),this.auto_cleanup)return this.toggleItemsTypeAndCleanup(),this.setItemInternal(e,t,n-1)}try{this._events.emitSync(c.s.UPDATE,{key:e,value:t})}catch(t){const n=new r(`Failed to emit UPDATE event for key: ${e}`,{cause:t});console.error(n,`value: ${l}`),(0,s.W8)(n)}}}toggleItemsTypeAndCleanup(){Object.keys(localStorage).forEach((e=>{"true"!==localStorage[e]&&"false"!==localStorage[e]||localStorage.setItem(e,"true"===localStorage[e]?"1":"0"),e.startsWith(this.namespace)&&localStorage.removeItem(e)}))}clearItem(e){const t=this.createNamespacedKey(e);window.localStorage.removeItem(t),delete this.items[t]}}},92116:(e,t,n)=>{"use strict";n.d(t,{O:()=>r,s:()=>i});var s=n(45808);let i=function(e){return e.UPDATE="update",e}({});class r extends s.u{}},26336:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});class s extends Error{constructor(e){super(`"${e}" not found in local storage.`),Object.setPrototypeOf(this,s.prototype)}}},31780:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});class s extends Error{constructor(e){super(`Failed to JSON.parse value "${e}"`),Object.setPrototypeOf(this,s.prototype)}}},37116:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var s=n(96651),i=n(71796),r=n(31360),a=n(92116);const o=(e,t)=>{const n=(0,r.Ow)(),o=(0,s.useRef)(n.getItem(e)),[l,c]=(0,s.useState)(o.current instanceof Error?t:o.current),d=(0,s.useCallback)((t=>{o.current=t,n.setItem(e,t)}),[e,n]);return(0,i.c5)((()=>{o.current instanceof Error&&d(t)}),[t,d]),(0,s.useEffect)((()=>{const t=n.getEvents(),s=t=>{t.data.key===e&&(o.current=t.data.value,c(t.data.value))},i=n.getItem(e);return i instanceof Error||c(i),t.addListener(a.s.UPDATE,s),()=>{t.removeListener(a.s.UPDATE,s)}}),[e,n]),[l,d]}},78040:(e,t,n)=>{"use strict";n.d(t,{Kg:()=>o,YZ:()=>a});var s=n(78200),i=n.n(s),r=n(95992);let a=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.ANCHOR_PAYWALL=1]="ANCHOR_PAYWALL",e[e.OAP_OTP=2]="OAP_OTP",e[e.OAP_LINKING=3]="OAP_LINKING",e[e.AUDIOBOOK_DIRECT_SALES=4]="AUDIOBOOK_DIRECT_SALES",e[e.ABP=5]="ABP",e[e.AUDIOBOOK_PROMOTION=6]="AUDIOBOOK_PROMOTION",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});const o={encode(e,t=i().Writer.create()){void 0!==e.none&&u.encode(e.none,t.uint32(10).fork()).ldelim(),void 0!==e.legacy&&d.encode(e.legacy,t.uint32(18).fork()).ldelim(),void 0!==e.basic&&c.encode(e.basic,t.uint32(26).fork()).ldelim(),void 0!==e.upsellLink&&m.encode(e.upsellLink,t.uint32(34).fork()).ldelim(),void 0!==e.engagement&&p.encode(e.engagement,t.uint32(50).fork()).ldelim(),void 0!==e.multiPass&&y.encode(e.multiPass,t.uint32(74).fork()).ldelim(),void 0!==e.checkoutOnWebOverlay&&h.encode(e.checkoutOnWebOverlay,t.uint32(90).fork()).ldelim(),void 0!==e.freeCheckout&&g.encode(e.freeCheckout,t.uint32(98).fork()).ldelim(),void 0!==e.consumptionCapped&&f.encode(e.consumptionCapped,t.uint32(106).fork()).ldelim(),void 0!==e.prompt&&b.encode(e.prompt,t.uint32(42).fork()).ldelim(),!0===e.isUserMemberOfAtLeastOneGroup&&t.uint32(64).bool(e.isUserMemberOfAtLeastOneGroup),t.uint32(82).fork();for(const n of e.unlockedBy)t.int32(n);t.ldelim(),t.uint32(114).fork();for(const n of e.unlockingMethods)t.int32(n);return t.ldelim(),void 0!==e.signifier&&l.encode(e.signifier,t.uint32(122).fork()).ldelim(),t},decode(e,t){const n=e instanceof i().Reader?e:i().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const r={none:void 0,legacy:void 0,basic:void 0,upsellLink:void 0,engagement:void 0,multiPass:void 0,checkoutOnWebOverlay:void 0,freeCheckout:void 0,consumptionCapped:void 0,prompt:void 0,isUserMemberOfAtLeastOneGroup:!1,unlockedBy:[],unlockingMethods:[],signifier:void 0};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;r.none=u.decode(n,n.uint32());continue;case 2:if(18!==e)break;r.legacy=d.decode(n,n.uint32());continue;case 3:if(26!==e)break;r.basic=c.decode(n,n.uint32());continue;case 4:if(34!==e)break;r.upsellLink=m.decode(n,n.uint32());continue;case 6:if(50!==e)break;r.engagement=p.decode(n,n.uint32());continue;case 9:if(74!==e)break;r.multiPass=y.decode(n,n.uint32());continue;case 11:if(90!==e)break;r.checkoutOnWebOverlay=h.decode(n,n.uint32());continue;case 12:if(98!==e)break;r.freeCheckout=g.decode(n,n.uint32());continue;case 13:if(106!==e)break;r.consumptionCapped=f.decode(n,n.uint32());continue;case 5:if(42!==e)break;r.prompt=b.decode(n,n.uint32());continue;case 8:if(64!==e)break;r.isUserMemberOfAtLeastOneGroup=n.bool();continue;case 10:if(80===e){r.unlockedBy.push(n.int32());continue}if(82===e){const e=n.uint32()+n.pos;for(;n.pos<e;)r.unlockedBy.push(n.int32());continue}break;case 14:if(112===e){r.unlockingMethods.push(n.int32());continue}if(114===e){const e=n.uint32()+n.pos;for(;n.pos<e;)r.unlockingMethods.push(n.int32());continue}break;case 15:if(122!==e)break;r.signifier=l.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return r},create:e=>o.fromPartial(e??{}),fromPartial(e){const t={none:void 0,legacy:void 0,basic:void 0,upsellLink:void 0,engagement:void 0,multiPass:void 0,checkoutOnWebOverlay:void 0,freeCheckout:void 0,consumptionCapped:void 0,prompt:void 0,isUserMemberOfAtLeastOneGroup:!1,unlockedBy:[],unlockingMethods:[],signifier:void 0};return t.none=void 0!==e.none&&null!==e.none?u.fromPartial(e.none):void 0,t.legacy=void 0!==e.legacy&&null!==e.legacy?d.fromPartial(e.legacy):void 0,t.basic=void 0!==e.basic&&null!==e.basic?c.fromPartial(e.basic):void 0,t.upsellLink=void 0!==e.upsellLink&&null!==e.upsellLink?m.fromPartial(e.upsellLink):void 0,t.engagement=void 0!==e.engagement&&null!==e.engagement?p.fromPartial(e.engagement):void 0,t.multiPass=void 0!==e.multiPass&&null!==e.multiPass?y.fromPartial(e.multiPass):void 0,t.checkoutOnWebOverlay=void 0!==e.checkoutOnWebOverlay&&null!==e.checkoutOnWebOverlay?h.fromPartial(e.checkoutOnWebOverlay):void 0,t.freeCheckout=void 0!==e.freeCheckout&&null!==e.freeCheckout?g.fromPartial(e.freeCheckout):void 0,t.consumptionCapped=void 0!==e.consumptionCapped&&null!==e.consumptionCapped?f.fromPartial(e.consumptionCapped):void 0,t.prompt=void 0!==e.prompt&&null!==e.prompt?b.fromPartial(e.prompt):void 0,t.isUserMemberOfAtLeastOneGroup=e.isUserMemberOfAtLeastOneGroup??!1,t.unlockedBy=e.unlockedBy?.map((e=>e))||[],t.unlockingMethods=e.unlockingMethods?.map((e=>e))||[],t.signifier=void 0!==e.signifier&&null!==e.signifier?l.fromPartial(e.signifier):void 0,t}};const l={encode:(e,t=i().Writer.create())=>(""!==e.text&&t.uint32(10).string(e.text),t),decode(e,t){const n=e instanceof i().Reader?e:i().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const r={text:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;r.text=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return r},create:e=>l.fromPartial(e??{}),fromPartial(e){const t={text:""};return t.text=e.text??"",t}};const c={encode:(e,t=i().Writer.create())=>(""!==e.title&&t.uint32(10).string(e.title),""!==e.body&&t.uint32(18).string(e.body),""!==e.cta&&t.uint32(26).string(e.cta),t),decode(e,t){const n=e instanceof i().Reader?e:i().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const r={title:"",body:"",cta:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;r.title=n.string();continue;case 2:if(18!==e)break;r.body=n.string();continue;case 3:if(26!==e)break;r.cta=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return r},create:e=>c.fromPartial(e??{}),fromPartial(e){const t={title:"",body:"",cta:""};return t.title=e.title??"",t.body=e.body??"",t.cta=e.cta??"",t}};const d={encode:(e,t=i().Writer.create())=>t,decode(e,t){const n=e instanceof i().Reader?e:i().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const r={};for(;n.pos<s;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skipType(7&e)}return r},create:e=>d.fromPartial(e??{}),fromPartial:e=>({})};const u={encode:(e,t=i().Writer.create())=>t,decode(e,t){const n=e instanceof i().Reader?e:i().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const r={};for(;n.pos<s;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skipType(7&e)}return r},create:e=>u.fromPartial(e??{}),fromPartial:e=>({})};const m={encode:(e,t=i().Writer.create())=>(""!==e.title&&t.uint32(10).string(e.title),""!==e.body&&t.uint32(18).string(e.body),""!==e.cta&&t.uint32(26).string(e.cta),""!==e.url&&t.uint32(34).string(e.url),t),decode(e,t){const n=e instanceof i().Reader?e:i().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const r={title:"",body:"",cta:"",url:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;r.title=n.string();continue;case 2:if(18!==e)break;r.body=n.string();continue;case 3:if(26!==e)break;r.cta=n.string();continue;case 4:if(34!==e)break;r.url=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return r},create:e=>m.fromPartial(e??{}),fromPartial(e){const t={title:"",body:"",cta:"",url:""};return t.title=e.title??"",t.body=e.body??"",t.cta=e.cta??"",t.url=e.url??"",t}};const p={encode:(e,t=i().Writer.create())=>(""!==e.header&&t.uint32(10).string(e.header),""!==e.title&&t.uint32(18).string(e.title),""!==e.body&&t.uint32(26).string(e.body),""!==e.cta&&t.uint32(34).string(e.cta),""!==e.dismiss&&t.uint32(42).string(e.dismiss),""!==e.actionType&&t.uint32(50).string(e.actionType),""!==e.bodySecondary&&t.uint32(58).string(e.bodySecondary),t),decode(e,t){const n=e instanceof i().Reader?e:i().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const r={header:"",title:"",body:"",cta:"",dismiss:"",actionType:"",bodySecondary:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;r.header=n.string();continue;case 2:if(18!==e)break;r.title=n.string();continue;case 3:if(26!==e)break;r.body=n.string();continue;case 4:if(34!==e)break;r.cta=n.string();continue;case 5:if(42!==e)break;r.dismiss=n.string();continue;case 6:if(50!==e)break;r.actionType=n.string();continue;case 7:if(58!==e)break;r.bodySecondary=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return r},create:e=>p.fromPartial(e??{}),fromPartial(e){const t={header:"",title:"",body:"",cta:"",dismiss:"",actionType:"",bodySecondary:""};return t.header=e.header??"",t.title=e.title??"",t.body=e.body??"",t.cta=e.cta??"",t.dismiss=e.dismiss??"",t.actionType=e.actionType??"",t.bodySecondary=e.bodySecondary??"",t}};const h={encode:(e,t=i().Writer.create())=>(""!==e.cta&&t.uint32(10).string(e.cta),""!==e.snackbarSuccess&&t.uint32(18).string(e.snackbarSuccess),""!==e.snackbarError&&t.uint32(26).string(e.snackbarError),""!==e.snackbarFulfilmentComplete&&t.uint32(34).string(e.snackbarFulfilmentComplete),void 0!==e.price&&r.ey.encode(e.price,t.uint32(42).fork()).ldelim(),!0===e.isPriceDisplayed&&t.uint32(48).bool(e.isPriceDisplayed),t),decode(e,t){const n=e instanceof i().Reader?e:i().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const a={cta:"",snackbarSuccess:"",snackbarError:"",snackbarFulfilmentComplete:"",price:void 0,isPriceDisplayed:!1};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.cta=n.string();continue;case 2:if(18!==e)break;a.snackbarSuccess=n.string();continue;case 3:if(26!==e)break;a.snackbarError=n.string();continue;case 4:if(34!==e)break;a.snackbarFulfilmentComplete=n.string();continue;case 5:if(42!==e)break;a.price=r.ey.decode(n,n.uint32());continue;case 6:if(48!==e)break;a.isPriceDisplayed=n.bool();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return a},create:e=>h.fromPartial(e??{}),fromPartial(e){const t={cta:"",snackbarSuccess:"",snackbarError:"",snackbarFulfilmentComplete:"",price:void 0,isPriceDisplayed:!1};return t.cta=e.cta??"",t.snackbarSuccess=e.snackbarSuccess??"",t.snackbarError=e.snackbarError??"",t.snackbarFulfilmentComplete=e.snackbarFulfilmentComplete??"",t.price=void 0!==e.price&&null!==e.price?r.ey.fromPartial(e.price):void 0,t.isPriceDisplayed=e.isPriceDisplayed??!1,t}};const g={encode:(e,t=i().Writer.create())=>(""!==e.snackbarAwaitingFulfilment&&t.uint32(10).string(e.snackbarAwaitingFulfilment),t),decode(e,t){const n=e instanceof i().Reader?e:i().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const r={snackbarAwaitingFulfilment:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;r.snackbarAwaitingFulfilment=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return r},create:e=>g.fromPartial(e??{}),fromPartial(e){const t={snackbarAwaitingFulfilment:""};return t.snackbarAwaitingFulfilment=e.snackbarAwaitingFulfilment??"",t}};const f={encode:(e,t=i().Writer.create())=>(""!==e.title&&t.uint32(10).string(e.title),""!==e.body&&t.uint32(18).string(e.body),""!==e.cta&&t.uint32(26).string(e.cta),void 0!==e.ctaUrl&&t.uint32(34).string(e.ctaUrl),void 0!==e.dismiss&&t.uint32(42).string(e.dismiss),t),decode(e,t){const n=e instanceof i().Reader?e:i().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const r={title:"",body:"",cta:"",ctaUrl:void 0,dismiss:void 0};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;r.title=n.string();continue;case 2:if(18!==e)break;r.body=n.string();continue;case 3:if(26!==e)break;r.cta=n.string();continue;case 4:if(34!==e)break;r.ctaUrl=n.string();continue;case 5:if(42!==e)break;r.dismiss=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return r},create:e=>f.fromPartial(e??{}),fromPartial(e){const t={title:"",body:"",cta:"",ctaUrl:void 0,dismiss:void 0};return t.title=e.title??"",t.body=e.body??"",t.cta=e.cta??"",t.ctaUrl=e.ctaUrl??void 0,t.dismiss=e.dismiss??void 0,t}};const y={encode(e,t=i().Writer.create()){""!==e.title&&t.uint32(10).string(e.title),""!==e.soaDescription&&t.uint32(18).string(e.soaDescription);for(const n of e.soaPartner)_.encode(n,t.uint32(26).fork()).ldelim();return t},decode(e,t){const n=e instanceof i().Reader?e:i().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const r={title:"",soaDescription:"",soaPartner:[]};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;r.title=n.string();continue;case 2:if(18!==e)break;r.soaDescription=n.string();continue;case 3:if(26!==e)break;r.soaPartner.push(_.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return r},create:e=>y.fromPartial(e??{}),fromPartial(e){const t={title:"",soaDescription:"",soaPartner:[]};return t.title=e.title??"",t.soaDescription=e.soaDescription??"",t.soaPartner=e.soaPartner?.map((e=>_.fromPartial(e)))||[],t}};const _={encode:(e,t=i().Writer.create())=>(""!==e.displayName&&t.uint32(10).string(e.displayName),""!==e.linkUrl&&t.uint32(18).string(e.linkUrl),""!==e.logoUrl&&t.uint32(26).string(e.logoUrl),t),decode(e,t){const n=e instanceof i().Reader?e:i().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const r={displayName:"",linkUrl:"",logoUrl:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;r.displayName=n.string();continue;case 2:if(18!==e)break;r.linkUrl=n.string();continue;case 3:if(26!==e)break;r.logoUrl=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return r},create:e=>_.fromPartial(e??{}),fromPartial(e){const t={displayName:"",linkUrl:"",logoUrl:""};return t.displayName=e.displayName??"",t.linkUrl=e.linkUrl??"",t.logoUrl=e.logoUrl??"",t}};const b={encode:(e,t=i().Writer.create())=>(""!==e.title&&t.uint32(10).string(e.title),""!==e.body&&t.uint32(18).string(e.body),""!==e.cta&&t.uint32(26).string(e.cta),""!==e.url&&t.uint32(34).string(e.url),t),decode(e,t){const n=e instanceof i().Reader?e:i().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const r={title:"",body:"",cta:"",url:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;r.title=n.string();continue;case 2:if(18!==e)break;r.body=n.string();continue;case 3:if(26!==e)break;r.cta=n.string();continue;case 4:if(34!==e)break;r.url=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return r},create:e=>b.fromPartial(e??{}),fromPartial(e){const t={title:"",body:"",cta:"",url:""};return t.title=e.title??"",t.body=e.body??"",t.cta=e.cta??"",t.url=e.url??"",t}}},95992:(e,t,n)=>{"use strict";n.d(t,{ey:()=>a});var s=n(78200),i=n.n(s);const r={encode:(e,t=i().Writer.create())=>(0!==e.amount&&t.uint32(9).double(e.amount),""!==e.currency&&t.uint32(18).string(e.currency),""!==e.formattedPrice&&t.uint32(26).string(e.formattedPrice),t),decode(e,t){const n=e instanceof i().Reader?e:i().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const r={amount:0,currency:"",formattedPrice:""};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(9!==e)break;r.amount=n.double();continue;case 2:if(18!==e)break;r.currency=n.string();continue;case 3:if(26!==e)break;r.formattedPrice=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return r},create:e=>r.fromPartial(e??{}),fromPartial(e){const t={amount:0,currency:"",formattedPrice:""};return t.amount=e.amount??0,t.currency=e.currency??"",t.formattedPrice=e.formattedPrice??"",t}};const a={encode:(e,t=i().Writer.create())=>(void 0!==e.finalPrice&&r.encode(e.finalPrice,t.uint32(10).fork()).ldelim(),void 0!==e.finalListPrice&&r.encode(e.finalListPrice,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof i().Reader?e:i().Reader.create(e);let s=void 0===t?n.len:n.pos+t;const a={finalPrice:void 0,finalListPrice:void 0};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;a.finalPrice=r.decode(n,n.uint32());continue;case 2:if(18!==e)break;a.finalListPrice=r.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return a},create:e=>a.fromPartial(e??{}),fromPartial(e){const t={finalPrice:void 0,finalListPrice:void 0};return t.finalPrice=void 0!==e.finalPrice&&null!==e.finalPrice?r.fromPartial(e.finalPrice):void 0,t.finalListPrice=void 0!==e.finalListPrice&&null!==e.finalListPrice?r.fromPartial(e.finalListPrice):void 0,t}}},8968:(e,t,n)=>{"use strict";n.d(t,{EN:()=>s,If:()=>r,Wm:()=>i,_w:()=>a,uI:()=>o});let s=function(e){return e.ONLINE="online",e.OFFLINE="offline",e.FORCED_OFFLINE="forced_offline",e.RECONNECTING="reconnecting",e}({}),i=function(e){return e[e.NO_CAPABILITY=0]="NO_CAPABILITY",e[e.NO_PERMISSION=1]="NO_PERMISSION",e[e.NO_PERMISSION_HIDE=2]="NO_PERMISSION_HIDE",e[e.YES=3]="YES",e}({}),r=function(e){return e.NO="no",e.YES="yes",e.DOWNLOADING="downloading",e.WAITING="waiting",e}({}),a=function(e){return e[e.ADD=0]="ADD",e[e.REMOVE=1]="REMOVE",e[e.NO_PERMISSION=2]="NO_PERMISSION",e}({}),o=function(e){return e[e.SUCCESS=0]="SUCCESS",e[e.GENERIC=1]="GENERIC",e[e.DISK_FULL=2]="DISK_FULL",e[e.EXPIRED=3]="EXPIRED",e[e.TOO_MANY_TRACKS=4]="TOO_MANY_TRACKS",e[e.NOT_ALLOWED=5]="NOT_ALLOWED",e[e.CONNECTION_DISABLED=6]="CONNECTION_DISABLED",e[e.DEVICE_LIMIT_REACHED=7]="DEVICE_LIMIT_REACHED",e[e.UNRECOGNIZED=8]="UNRECOGNIZED",e}({})},85784:(e,t,n)=>{"use strict";n.d(t,{O:()=>r,k:()=>i});var s=n(45808);let i=function(e){return e.UPDATE_CONNECTIVITY="update_connectivity",e.UPDATE_CAPABILITIES="update_capabilities",e.UPDATE_TOTAL_PROGRESS="update_total_progress",e.UPDATE_CONTEXT_PROGRESS="update_context_progress",e.UPDATE_AVAILABILITY="update_availability",e.ERROR="error",e}({});class r extends s.u{}},81628:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var s=n(70396),i=n(52276),r=n(15563),a=function(e){return e[e.Unknown=0]="Unknown",e[e.Computer=1]="Computer",e[e.Tablet=2]="Tablet",e[e.Smartphone=3]="Smartphone",e[e.Speaker=4]="Speaker",e[e.TV=5]="TV",e[e.AVR=6]="AVR",e[e.STB=7]="STB",e[e.AudioDongle=8]="AudioDongle",e[e.GameConsole=9]="GameConsole",e[e.CastVideo=10]="CastVideo",e[e.CastAudio=11]="CastAudio",e[e.Automobile=12]="Automobile",e[e.Smartwatch=13]="Smartwatch",e[e.Chromebook=14]="Chromebook",e[e.UnknownSpotifyHardware=100]="UnknownSpotifyHardware",e[e.CarThing=101]="CarThing",e[e.HomeThing=103]="HomeThing",e}(a||{});const o=(0,s.Q)(a);function l(e){if(o(e))switch(e){case a.Unknown:return r.KQ.UNKNOWN;case a.Computer:return r.KQ.COMPUTER;case a.Tablet:return r.KQ.TABLET;case a.Smartphone:return r.KQ.SMARTPHONE;case a.Speaker:return r.KQ.SPEAKER;case a.TV:return r.KQ.TV;case a.AVR:return r.KQ.AVR;case a.STB:return r.KQ.STB;case a.AudioDongle:return r.KQ.AUDIO_DONGLE;case a.GameConsole:return r.KQ.GAME_CONSOLE;case a.CastVideo:return r.KQ.CAST_VIDEO;case a.CastAudio:return r.KQ.CAST_AUDIO;case a.Automobile:return r.KQ.AUTOMOBILE;case a.Smartwatch:return r.KQ.SMARTWATCH;case a.Chromebook:return r.KQ.CHROMEBOOK;case a.UnknownSpotifyHardware:return r.KQ.UNKNOWN;case a.CarThing:return r.KQ.CarThing;case a.HomeThing:return r.KQ.HomeThing;default:return(0,i.I)(e),r.KQ.UNKNOWN}return r.KQ.UNKNOWN}},808:(e,t,n)=>{"use strict";n.d(t,{M:()=>i,o:()=>r});var s=n(96651);const i=(0,s.createContext)(null);function r(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use 'OfflineContext' without 'OfflineProvider'!");return e}},49156:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});var s=n(8968);function i(e){return[s.If.YES,s.If.DOWNLOADING,s.If.WAITING].includes(e)}},50060:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var s=n(96651),i=n(85784),r=n(16064),a=n(808);function o(e){const t=(0,a.o)(),[n,o]=(0,s.useState)(t.getAvailabilitySync(e)),l=i.k.UPDATE_AVAILABILITY,c=(0,s.useCallback)((t=>{t.data.uri===e&&o(t.data.availability)}),[e]);return(0,r.W)(l,c,{uri:e}),n}},56200:(e,t,n)=>{"use strict";n.d(t,{G:()=>l});var s=n(96651),i=n(808),r=n(50060),a=n(85784),o=n(16064);function l(e,t=!0){const n=(0,i.o)(),l=function(e,t=!0){const n=(0,i.o)(),[r,l]=(0,s.useState)(n.getCapabilities().canDownload(e,t)),c=a.k.UPDATE_CAPABILITIES,d=(0,s.useCallback)((n=>l(n.data.capabilites.canDownload(e,t))),[e,t]);return(0,o.W)(c,d),r}(e,t);return{capability:l,availability:(0,r._)(e),addDownload:(0,s.useCallback)((()=>n.addDownload(e)),[n,e]),removeDownload:(0,s.useCallback)((()=>n.removeDownload(e)),[n,e])}}},66564:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});var s=n(96651),i=n(85784),r=n(16064);function a(e){const[t,n]=(0,s.useState)({syncing:!1,percentage:0,totalItems:0,currentItem:0}),a=i.k.UPDATE_CONTEXT_PROGRESS,o=(0,s.useCallback)((t=>{t.data.uri===e&&n(t.data.progress)}),[e]);return(0,r.W)(a,o,{uri:e}),t}},16064:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var s=n(96651),i=n(808),r=n(71796);function a(e,t,n){const a=(0,i.o)(),o=(0,r.ek)((()=>n),[n]);(0,s.useEffect)((()=>{const n=a.getEvents();return n.addListener(e,t,o),()=>{n.removeListener(e,t,o)}}),[e,t,o,a])}},56584:(e,t,n)=>{"use strict";n.d(t,{U:()=>i,e:()=>s});n(37144);function s(e,t={}){try{const n=document.getElementById(e);return n?JSON.parse(n.innerHTML):t}catch{return t}}function i(e,t={}){try{const s=document.getElementById(e);return s?JSON.parse((n=s.innerHTML,decodeURIComponent(Array.prototype.map.call(atob(n),(function(e){return`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`})).join("")))):t}catch{return t}var n}},85708:(e,t,n)=>{"use strict";n.d(t,{G$:()=>a,SM:()=>r});n(8484);var s=n(87204);const i=/Spotify\/(?<version>.+)\s/;function r(){if(!!window.navigator.userAgent.match(i))return s.q.Desktop;const e="serviceWorker"in window.navigator,t=window.matchMedia("(display-mode: standalone)").matches,n="Windows"in window;return e&&(t||n)?s.q.PWA:s.q.Web}function a(){return r()===s.q.Desktop}},8484:(e,t,n)=>{"use strict";n.d(t,{i:()=>a,k:()=>o});var s=n(24368),i=n.n(s),r=n(87204);function a(){const e=i().parse(window.navigator.userAgent).os.name;return"macOS"===e?r.I.macOS:"Windows"===e?r.I.Windows:"Linux"===e?r.I.Linux:"Chrome OS"===e?r.I.ChromeOS:r.I.Other}function o(){return i().getParser(window.navigator.userAgent).getOSName()||"not_applicable"}},11560:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var s=n(24368),i=n.n(s);function r(){return"Safari"===i().parse(window.navigator.userAgent).browser.name}},87204:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,q:()=>s});let s=function(e){return e.Web="Web",e.PWA="PWA",e.Desktop="Desktop",e}({}),i=function(e){return e.macOS="macOS",e.Windows="Windows",e.Linux="Linux",e.ChromeOS="ChromeOS",e.Other="Other",e}({})},9852:(e,t,n)=>{"use strict";n.d(t,{e:()=>r,k:()=>i});var s=n(45808);let i=function(e){return e.VOLUME="volume",e.INFO="info",e}({});class r extends s.u{}},29476:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r,S:()=>i});var s=n(96651);const i=(0,s.createContext)(null);function r(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use 'PlaybackContext' without 'PlaybackProvider'!");return e}},61696:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});var s=n(96651),i=n(29476);function r(e,t){const n=(0,s.useRef)(t),r=(0,i.Q)();n.current=t,(0,s.useEffect)((()=>{const t=r.getEvents(),s=e=>n.current(e);return t.addListener(e,s),()=>{t.removeListener(e,s)}}),[e,r])}},58088:(e,t,n)=>{"use strict";n.d(t,{Uv:()=>m});n(73952),n(97296),n(39568),n(41260),n(99400),n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256);var s=n(14788),i=n(84340),r=n(59476),a=n(43619),o=n(52276),l=n(88272);n(99972);const c=Spicetify.GraphQL.Definitions["decorateContextEpisodesOrChapters"]=new l.a("decorateContextEpisodesOrChapters","query","8b8d939c5d6da65a3f1b9fbaa96106b27fd6ff1ae7205846d9de3ffbee3298ee",null),d=Spicetify.GraphQL.Definitions["decorateContextTracks"]=new l.a("decorateContextTracks","query","8b8d939c5d6da65a3f1b9fbaa96106b27fd6ff1ae7205846d9de3ffbee3298ee",null);function u(e){const t=e??[];return t.length>1?"mixed":0===t.length||t[0]===i.iM.Audio?"audio":t[0]===i.iM.Video?"video":"audio"}async function m(e,t,n){const l=Array.from(new Set(n.map((e=>e.uri)).filter((e=>!t.has(e))))),m=l.filter((e=>(0,s._Z)(e))),p=l.filter((e=>(0,s.QB)(e))),[h,g]=await Promise.all([m.length>0?e(d,{uris:m},["uris"]):Promise.resolve([]),p.length>0?e(c,{uris:p},["uris"]):Promise.resolve([])]);return[...h.reduce(((e,t)=>e.concat(t.tracks??[])),[]),...g.reduce(((e,t)=>e.concat(t.episodes??[])),[])].map((e=>"GenericError"===e.__typename||"NotFound"===e.__typename||"RestrictedContent"===e.__typename?null:function(e){return"Track"===e.__typename}(e)?function(e){return{type:a.s.TRACK,uri:e.uri,name:e.name,mediaType:"audio",duration:{milliseconds:e.duration.totalMilliseconds},album:{type:a.s.ALBUM,uri:e.albumOfTrack?.uri??"",name:e.albumOfTrack?.name??"",images:e.albumOfTrack?.coverArt?.sources.map((e=>(0,r.WG)(e)))??[]},artists:e.artists.items.map((e=>({type:a.s.ARTIST,uri:e.uri,name:e.profile.name}))),isLocal:!1,isExplicit:e.contentRating?.label===i.A7.Explicit,is19PlusOnly:e.contentRating?.label===i.A7.NineteenPlus,hasAssociatedVideo:(e.associations?.associatedVideos?.totalCount||0)>0,get images(){return this.album.images},uid:null,provider:null}}(e):function(e){return"Episode"===e.__typename}(e)?function(e){if("Podcast"!==e.podcastV2.data.__typename)return null;const t=e.podcastV2.data;return{type:a.s.EPISODE,uri:e.uri,name:e.name??"",mediaType:u(e.mediaTypes),duration:{milliseconds:e.duration.totalMilliseconds},show:{type:a.s.SHOW,uri:t.uri??"",name:t.name??"",images:t.coverArt?.sources.map((e=>(0,r.WG)(e)))??[]},isExplicit:e.contentRating?.label===i.A7.Explicit,is19PlusOnly:e.contentRating?.label===i.A7.NineteenPlus,get images(){return this.show.images},uid:null,provider:null}}(e):function(e){return"Chapter"===e.__typename}(e)?function(e){if("Audiobook"!==e.audiobookV2.data.__typename)return null;const t=e.audiobookV2.data;return{type:a.s.CHAPTER,uri:e.uri,name:e.name??"",mediaType:u(e.mediaTypes),duration:{milliseconds:e.duration.totalMilliseconds},book:{type:a.s.AUDIOBOOK,uri:t.uri??"",name:t.name??"",images:t.coverArt?.sources.map((e=>(0,r.WG)(e)))??[]},isExplicit:e.contentRating?.label===i.A7.Explicit,is19PlusOnly:e.contentRating?.label===i.A7.NineteenPlus,get images(){return this.book.images},uid:null,provider:null}}(e):((0,o.I)(e),null))).forEach((e=>{null!==e&&t.set(e.uri,e)})),n.map((e=>({...e,...t.get(e.uri),uid:e.uid,provider:e.provider})))}},23452:(e,t,n)=>{"use strict";n.d(t,{CW:()=>i,GO:()=>o,Ku:()=>r,w6:()=>l});let s=function(e){return e[e.TRANSIENT=0]="TRANSIENT",e[e.PERSISTENT=1]="PERSISTENT",e}({}),i=function(e){return e.SUCCESS="success",e.PLAYBACK_STUCK="playback_stuck",e.PLAYBACK_ERROR="playback_error",e.LICENSE_CHANGE="license_change",e.PLAY_RESTRICTED="play_restricted",e.STOP_RESTRICTED="stop_restricted",e.UPDATE_RESTRICTED="update_restricted",e.PAUSE_RESTRICTED="pause_restricted",e.RESUME_RESTRICTED="resume_restricted",e.SKIP_TO_PREV_RESTRICTED="skip_to_prev_restricted",e.SKIP_TO_NEXT_RESTRICTED="skip_to_next_restricted",e.SKIP_TO_NON_EXISTENT_TRACK="skip_to_non_existent_track",e.TOGGLE_REPEAT_CONTEXT_RESTRICTED="toggle_repeat_context_restricted",e.TOGGLE_REPEAT_TRACK_RESTRICTED="toggle_repeat_track_restricted",e.SET_OPTIONS_RESTRICTED="set_options_restricted",e.TOGGLE_SHUFFLE_RESTRICTED="toggle_shuffle_restricted",e.SET_QUEUE_RESTRICTED="set_queue_restricted",e.INTERRUPT_PLAYBACK_RESTRICTED="interrupt_playback_restricted",e.SEEK_TO_RESTRICTED="seek_to_restricted",e.ONE_TRACK_UNPLAYABLE="one_track_unplayable",e.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED="one_track_unplayable_auto_stopped",e.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED="all_tracks_unplayable_auto_stopped",e.SKIP_TO_NON_EXISTENT_TRACK_AUTO_STOPPED="skip_to_non_existent_track_auto_stopped",e.QUEUE_REVISION_MISMATCH="queue_revision_mismatch",e.VIDEO_PLAYBACK_ERROR="video_playback_error",e.VIDEO_GEORESTRICTED="video_georestricted",e.VIDEO_UNSUPPORTED_PLATFORM_VERSION="video_unsupported_platform_version",e.VIDEO_UNSUPPORTED_CLIENT_VERSION="video_unsupported_client_version",e.VIDEO_UNSUPPORTED_KEY_SYSTEM="video_unsupported_key_system",e.VIDEO_COUNTRY_RESTRICTED="video_country_restricted",e.VIDEO_UNAVAILABLE="video_unavailable",e.VIDEO_CATALOGUE_RESTRICTED="video_catalogue_restricted",e.VIDEO_MANIFEST_DELETED="video_manifest_deleted",e.TIMEOUT="timeout",e.INVALID="invalid",e.PLAYBACK_REPORTING_ERROR="playback_reporting_error",e.AUDIOBOOK_NOT_PLAYABLE="audiobook_not_playable",e.UNKNOWN="unknown",e.UNRECOGNIZED="unrecognized",e}({}),r=function(e){return e.AD_DISALLOW="ad_disallow",e.AGE_RESTRICTION_FILTERED="age_restriction_filtered",e.ALREADY_PAUSED="already_paused",e.ALREADY_PLAYING="already_playing",e.BANNED_BY_USER_TRACK="banned_by_user/track",e.BANNED_BY_USER_ALBUM="banned_by_user/album",e.BANNED_BY_USER_ARTIST="banned_by_user/artist",e.CONTEXT_PLAYER_DISALLOW="context_player_disallow",e.ENDLESS_CONTEXT="endless_context",e.EXPLICIT_CONTENT_FILTERED="explicit_content_filtered",e.LOCAL_FILE_BAD_FORMAT="local_file_bad_format",e.LOCAL_FILE_DRM_PROTECTED="local_file_drm_protected",e.LOCAL_FILE_NOT_FOUND="local_file_not_found",e.MFT_DISALLOW="mft_disallow",e.MFT_DISALLOW_MISSING_TRAC="mft_disallow_missing_trac",e.NEWS_SET_TRACK_FILTERED="news_set_track_filtered",e.NO_NEXT_TRACK="no_next_track",e.NO_PREV_TRACK="no_prev_track",e.NO_SPECIFIC_TRACK="no_specific_track",e.NOT_AVAILABLE="not_available",e.NOT_AVAILABLE_BY_ARTIST_BAN="not_available_by_artist_ban",e.NOT_AVAILABLE_IN_CURRENT_REGION="not_available_in_current_region",e.NOT_AVAILABLE_IN_NON_PREMIUM="not_available_in_non_premium",e.NOT_AVAILABLE_OFFLINE="not_available_offline",e.NOT_AVAILABLE_ON_MOBILE_NETWORK="not_available_on_mobile_network",e.NOT_PAUSED="not_paused",e.NOT_PLAYING_CONTEXT="not_playing_context",e.NOT_PLAYING_LOCALLY="not_playing_locally",e.NOT_PLAYING_TRACK="not_playing_track",e.OFFLINE_CAPPING_REACHED="offline_capping_reached",e.PLAYER_CONTEXT_DISALLOW="player_context_disallow",e.PROTOCOL_LIMITATIONS="protocol_limitations",e.PROTOCOL_LIMITIATIONS="protocol_limitiations",e.THROTTLED="throttled",e.UNKNOWN="unknown",e.UNSUPPORTED_FILE_FORMAT="unsupported_file_format",e.USER_CAPPING_REACHED="user_capping_reached",e.USER_STREAMING_DISALLOWED="user_streaming_disallowed",e}({});class a extends Error{constructor(e,t,n,s=void 0){super(a.getMessage(t,n,s)),this.type=e,this.code=t,this.reasons=n,this.cause=s}static getMessage(e,t,n=void 0){return t.length>0?`Code '${e}' with reasons '${t.join(", ")}'`:void 0!==n?`Code '${e}' with cause '${n.name}: ${n.message}'`:`Code '${e}'`}}class o extends a{constructor(e,t,n=void 0){super(s.TRANSIENT,e,t,n)}}class l extends a{constructor(e,t,n=void 0){super(s.PERSISTENT,e,t,n)}}},50799:(e,t,n)=>{"use strict";n.d(t,{AU:()=>i,GO:()=>o,UV:()=>a,ye:()=>r});var s=n(45808);let i=function(e){return e.UPDATE="update",e.ERROR="error",e.ACTION="action",e.QUEUE_ACTION="queue_action",e.QUEUE_ACTION_COMPLETE="queue_action_complete",e.QUEUE_UPDATE="queue_update",e.CONTEXT_WRAPAROUND="context_wraparound",e}({}),r=function(e){return e.PLAY="play",e.PAUSE="pause",e.RESUME="resume",e.SKIP_TO_NEXT="skipToNext",e.SKIP_TO_PREVIOUS="skipToPrevious",e}({}),a=function(e){return e.ADD="add",e.REMOVE="remove",e.CLEAR="clear",e.INSERT="insert",e.REORDER="reorder",e}({});class o extends s.u{emitPlaySync(e,t,n){const{defaultPrevented:s}=this.emitSync(i.ACTION,{action:r.PLAY,context:e,origin:t,options:n});return s}emitPauseSync(){const{defaultPrevented:e}=this.emitSync(i.ACTION,{action:r.PAUSE});return e}emitResumeSync(){const{defaultPrevented:e}=this.emitSync(i.ACTION,{action:r.RESUME});return e}emitSkipToNextSync(){const{defaultPrevented:e}=this.emitSync(i.ACTION,{action:r.SKIP_TO_NEXT});return e}emitSkipToPreviousSync(){const{defaultPrevented:e}=this.emitSync(i.ACTION,{action:r.SKIP_TO_PREVIOUS});return e}emitQueueActionSync(e){const{defaultPrevented:t}=this.emitSync(i.QUEUE_ACTION,{action:e});return t}emitQueueActionComplete(e,t=null){this.emit(i.QUEUE_ACTION_COMPLETE,{action:e,error:t})}emitQueueUpdate(e){this.emit(i.QUEUE_UPDATE,e)}}},6912:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r,u:()=>i});var s=n(96651);const i=(0,s.createContext)(null);function r(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use 'PlayerContext' without 'PlayerProvider'!");return e}},52588:(e,t,n)=>{"use strict";n.d(t,{I:()=>u});var s=n(96651),i=n(52276),r=n(6912),a=n(16928),o=n(94192);function l(e,t,n,s,r,o){switch(t){case a.gp.NOT_ACTIVE:o?o():e.play(n,s,r);break;case a.gp.PLAYING:e.pause();break;case a.gp.PAUSED:e.resume();break;default:(0,i.E)(t)}}function c(e,t,n,i,r,a){const c=(0,s.useRef)(a);c.current=a;const{playbackStatus:d,isActive:u,isPlaying:m}=(0,o.Qp)({contextURI:t.current.uri,...i.current,...a}),p=(0,s.useCallback)(((s,a)=>{a?a():e.play(t.current,n.current,{...r.current,...s,skipTo:{...i.current,...c.current}})}),[e,t,n,r,i]),h=(0,s.useCallback)(((s,a)=>{l(e,d,t.current,n.current,{...r.current,...s,skipTo:{...i.current,...c.current}},a)}),[e,d,t,n,r,i]);return{playbackStatus:d,isActive:u,isPlaying:m,triggerPlay:p,togglePlay:h}}function d(e,t,n,i,r){const[a,d]=function(e,t,n){return e.getCapabilities().canPlayMultipleContextPages||void 0===n.pageURI?[t,n]:[{current:{uri:n.pageURI,metadata:t.current.metadata}},{pageURI:n.pageURI,pageIndex:0}]}(e,t,r),u=(0,s.useRef)(d);u.current=d;const{playbackStatus:m,isActive:p,isPlaying:h}=(0,o.oP)({contextURI:a.current.uri,pageIndex:d.pageIndex,pageURI:d.pageURI}),g=(0,s.useMemo)((()=>c.bind(null,e,a,n,u,i)),[e,a,n,i]),f=(0,s.useCallback)(((t,s)=>{s?s():e.play(a.current,n.current,{...i.current,...t,skipTo:u.current})}),[e,a,n,i]),y=(0,s.useCallback)(((t,s)=>{l(e,m,a.current,n.current,{...i.current,...t,skipTo:u.current},s)}),[e,m,a,n,i]);return{playbackStatus:m,isActive:p,isPlaying:h,triggerPlay:f,togglePlay:y,usePlayContextItem:g}}function u(e,t,n){const i=(0,r.Q)(),a={...t,referrerIdentifier:t.referrerIdentifier??i.getReferrer()},u=(0,s.useRef)(e),m=(0,s.useRef)(a),p=(0,s.useRef)(n);u.current=e,m.current=a,p.current=n;const{playbackStatus:h,isActive:g,isPlaying:f}=(0,o.kP)(e.uri),y=(0,s.useMemo)((()=>d.bind(null,i,u,m,p)),[i]),_=(0,s.useMemo)((()=>c.bind(null,i,u,m,{current:null},p)),[i]),b=(0,s.useCallback)(((e,t)=>{i.play(t??u.current,m.current,{...p.current,...e})}),[i]),v=(0,s.useCallback)(((e,t)=>{l(i,h,t??u.current,m.current,{...p.current,...e})}),[i,h]);return{playbackStatus:h,isActive:g,isPlaying:f,triggerPlay:b,togglePlay:v,usePlayContextPage:y,usePlayContextItem:_}}},64672:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var s=n(16928),i=n(6912),r=n(72001),a=n(3990);function o(){const e=(0,i.Q)();return{...(0,r.o)((e=>({shuffle:e?.shuffle??!1,repeat:e?.repeat??s.Su.REPEAT_NONE,speed:e?.speed??0,canToggleShuffle:e?.restrictions.canToggleShuffle??!1,canToggleRepeatContext:e?.restrictions.canToggleRepeatContext??!1,canToggleRepeatTrack:e?.restrictions.canToggleRepeatTrack??!1})),a.c),canChangeSpeed:e.getCapabilities().canChangeSpeed,setShuffle:e.setShuffle.bind(e),setRepeat:e.setRepeat.bind(e),setSpeed:e.setSpeed.bind(e)}}},81740:(e,t,n)=>{"use strict";n.d(t,{S:()=>a});var s=n(96651),i=n(6912),r=n(10952);function a(e,t){const n=(0,s.useRef)(t),a=(0,i.Q)(),o=(0,r.E)();(0,s.useLayoutEffect)((()=>{n.current=t})),(0,s.useEffect)((()=>{const t=a.getEvents(),s=e=>{o()&&n.current(e)};return t.addListener(e,s),()=>{t.removeListener(e,s)}}),[e,o,a])}},5256:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d,e:()=>c});var s=n(96651),i=n(59448),r=n(72001),a=n(56616);const o=()=>!0;function l(e,t=o,n){const i=(0,a.Oi)(),l=(0,r.o)((e=>e),((e,t)=>e?.timestamp===t?.timestamp&&e?.positionAsOfTimestamp===t?.positionAsOfTimestamp&&e?.duration===t?.duration&&e?.speed===t?.speed&&e?.hasContext===t?.hasContext&&e?.isPaused===t?.isPaused&&e?.isBuffering===t?.isBuffering)),[c,d]=(0,s.useState)((()=>null===l||t(l)?n(l)??0:0)),[u,m]=(0,s.useState)(null),p=(0,s.useRef)(t);return p.current=t,(0,s.useEffect)((()=>{(null===l||p.current(l))&&d(n(l)??0)}),[l,n]),(0,s.useEffect)((()=>{l?.isPaused||l?.isBuffering||m(null)}),[l?.timestamp,l?.isPaused,l?.isBuffering]),(0,s.useEffect)((()=>{let t=!0;if(null===l||!l.hasContext||l.isPaused||!p.current(l))return()=>{};d(n(l)??0);const s=i?.setInterval((()=>{if(t){const e=n(l);d(e??0)}}),e);return()=>{t=!1,null!==s&&i?.clearInterval(s)}}),[i,l,e,n]),[u??c,m]}function c(e,t=o){return l(e,t,i.E)}function d(e,t=o){return l(e,t,i.Q)}},94192:(e,t,n)=>{"use strict";n.d(t,{CQ:()=>u,Cu:()=>c,Qp:()=>d,_y:()=>a,kP:()=>o,oP:()=>l});var s=n(41012),i=n(80340),r=n(72001);function a(e){const t=(0,r.o)(e);return{playbackStatus:t,isActive:t!==s.g.NOT_ACTIVE,isPlaying:t===s.g.PLAYING}}function o(e){return a((t=>(0,i._o)(t,e)))}function l(e){return a((t=>(0,i.YB)(t,e)))}function c(e){return a((t=>(0,i.i5)(t,e)))}function d(e){return a((t=>(0,i.Et)(t,e)))}function u(){return a((e=>(0,i.IX)(e)))}},23760:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var s=n(96651),i=n(50799),r=n(6912),a=n(81740);function o(){const e=(0,r.Q)(),[t,n]=(0,s.useState)(e.getQueue());return(0,a.S)(i.AU.QUEUE_UPDATE,(e=>n(e.data))),t}},41152:(e,t,n)=>{"use strict";n.d(t,{q:()=>c});var s=n(96651),i=n(43619),r=n(6912),a=n(72001);const o=5e3,l=15e3;function c(){const e=(0,r.Q)(),t=function(e){return e===i.s.TRACK?o:e===i.s.EPISODE?l:0}((0,a.o)((e=>e?.item?.type)));return{seekBackward:(0,s.useCallback)((()=>(0!==t&&e.seekBackward(t),t)),[e,t]),seekForward:(0,s.useCallback)((()=>(0!==t&&e.seekForward(t),t)),[e,t]),seekOffsetMs:t}}},72001:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var s=n(96651),i=n(50799),r=n(6912),a=n(81740);function o(e,t=((e,t)=>e===t)){const n=(0,r.Q)().getState(),[o,l]=(0,s.useState)(e(n));return(0,a.S)(i.AU.UPDATE,(n=>{const s=e(n.data);t(o,s)||l(s)})),o}},95928:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});var s=n(16928),i=n(72001),r=n(3990),a=n(14788),o=n(12100);function l(e){if(e?.metadata?.[s.WE.CONTEXT_DESCRIPTION])return e.metadata[s.WE.CONTEXT_DESCRIPTION];const t=(0,a.nX)(e?.uri);if(t?.type===a.cH.COLLECTION){const{category:e}=t;if("your-episodes"===e)return o._s.get("sidebar.your_episodes");if(void 0===e)return o._s.get("sidebar.liked_songs")}return null}function c(){return(0,i.o)((e=>({uri:e?.context.uri??null,description:l(e?.context)})),r.c)}},49220:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,W:()=>s});let s=function(e){return e.CONTEXT_DESCRIPTION="context_description",e.IS_AUDIOBOOK="is_audiobook",e.REPORTING_URI="reporting.uri",e.FILTERING_PREDICATE="filtering.predicate",e.SORTING_CRITERIA="sorting.criteria",e.LIST_UTIL_FILTER="list_util_filter",e.LIST_UTIL_SORT="list_util_sort",e}({}),i=function(e){return e.ALBUM_URI="album_uri",e.ARTIST_NAME="artist_name",e.ARTIST_URI="artist_uri",e.DURATION="duration",e.HAS_SEGMENTS="has_display_segments",e.SEGMENT_INDEX="segment.index",e.HAS_LYRICS="has_lyrics",e.PARENT_EPISODE_URI="parent_episode.uri",e.PAGE_INSTANCE_ID="page_instance_id",e.IMAGE_URL="image_url",e}({})},7316:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var s=n(43619);function i(e){return e?.type===s.s.EPISODE}},28628:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});var s=n(43619);function i(e){return e?.type===s.s.TRACK}},41012:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});let s=function(e){return e[e.NOT_ACTIVE=0]="NOT_ACTIVE",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e}({})},16928:(e,t,n)=>{"use strict";n.d(t,{eG:()=>h,m_:()=>g,WE:()=>s.W,m0:()=>y,YX:()=>f,GM:()=>p,gp:()=>u.g,Su:()=>m,G2:()=>d,UZ:()=>r,Q9:()=>a,sN:()=>o.s,gB:()=>l.g,u_:()=>c});var s=n(49220),i=n(43619);function r(e){return e?.type===i.s.AD}function a(e){return e?.type===i.s.CHAPTER}var o=n(7316),l=n(28628);function c(e){return e?.type===i.s.UNKNOWN}const d={type:i.s.UNKNOWN,uri:"",uid:"",name:"",images:[],mediaType:"audio",duration:{milliseconds:-1},album:{type:i.s.ALBUM,uri:"",name:"",images:[]},artists:[{type:i.s.ARTIST,uri:"",name:""}],provider:null};var u=n(41012);let m=function(e){return e[e.REPEAT_NONE=0]="REPEAT_NONE",e[e.REPEAT_CONTEXT=1]="REPEAT_CONTEXT",e[e.REPEAT_TRACK=2]="REPEAT_TRACK",e}({});const p=["not_playing_locally","not_playing_context","not_playing_track","no_prev_track","no_next_track","no_specific_track","already_paused","not_paused","context_player_disallow","mft_disallow","ad_disallow","protocol_limitations","unknown","already_playing","throttled","endless_context","autoplay","narration"];let h=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.LOW=1]="LOW",e[e.NORMAL=2]="NORMAL",e[e.HIGH=3]="HIGH",e[e.VERY_HIGH=4]="VERY_HIGH",e[e.HIFI=5]="HIFI",e[e.HIFI24=6]="HIFI24",e}({}),g=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.BEST_MATCHING=1]="BEST_MATCHING",e[e.BACKEND_ADVISED=2]="BACKEND_ADVISED",e[e.OFFLINED_FILE=3]="OFFLINED_FILE",e[e.CACHED_FILE=4]="CACHED_FILE",e[e.LOCAL_FILE=5]="LOCAL_FILE",e}({}),f=function(e){return e[e.NONE=0]="NONE",e[e.OFF=1]="OFF",e[e.ON=2]="ON",e}({}),y=function(e){return e.SWITCH_TO_VIDEO="switch-to-video",e.SWITCH_TO_AUDIO="switch-to-audio",e}({})},59448:(e,t,n)=>{"use strict";function s(e,t){if(null===e||null===t||null===e.duration)return null;const{timestamp:n,duration:s,speed:i,hasContext:r,isPaused:a,isBuffering:o}=e;if(!r||a||o)return t;const l=(Date.now()-n)*(i??0);return Math.min(t+l,s)}function i(e){return s(e,e?.positionAsOfTimestamp??null)}function r(e){const t=parseInt(e?.item?.metadata?.["segment.position_as_of_timestamp"]??"",10),n=e?.positionAsOfTimestamp??null;return s(e,isNaN(t)?n:t)}n.d(t,{E:()=>i,Q:()=>r})},3696:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var s=n(52276),i=n(14532);const r=e=>{if("boolean"==typeof e)return e;switch(e){case i.u.OFF:return!1;case i.u.ON:case i.u.SMART_SHUFFLE:return!0;default:return(0,s.I)(e),!1}}},77620:(e,t,n)=>{"use strict";function s(e){const t=e?.uri;return Boolean(t)&&""!==t&&"invalid_context_uri"!==t}n.d(t,{A:()=>s})},80340:(e,t,n)=>{"use strict";n.d(t,{Et:()=>g,IX:()=>u,WA:()=>f,YB:()=>p,_o:()=>m,i5:()=>h,qk:()=>l,wT:()=>y});var s=n(14788),i=n(16928),r=n(43619),a=n(52276),o=n(49220);function l(e,t){const n=(0,s.nX)(e,{parseUnknown:!0}),i=(0,s.nX)(t,{parseUnknown:!0});return!(!n||!i)&&((0,s.mG)(n,i)??!1)}function c(e){return"queue"===e?.provider}function d(e,t){if(null===e)return!1;switch(e.type){case r.s.TRACK:if(l(e.album.uri,t)||l(e.uri,t))return!0;break;case r.s.EPISODE:if(l(e.show.uri,t)||l(e.uri,t))return!0;break;case r.s.CHAPTER:if(l(e.book.uri,t)||l(e.uri,t))return!0;break;case r.s.AD:case r.s.UNKNOWN:break;default:(0,a.E)(e)}return!1}function u(e){return null!==e&&e.hasContext?e.isPaused?i.gp.PAUSED:i.gp.PLAYING:i.gp.NOT_ACTIVE}function m(e,t){return null===e?i.gp.NOT_ACTIVE:(!c(e.item)&&(n=e.item,"autoplay"!==n?.provider)||d(e.item,t??null))&&(l(e.context.uri,t??null)||l(e.index?.pageURI??null,t??null)||l(e.item?.uri??null,e.context.uri??null)&&d(e.item,t??null))?u(e):i.gp.NOT_ACTIVE;var n}function p(e,{contextURI:t,pageIndex:n,pageURI:s}){if(null===e)return i.gp.NOT_ACTIVE;if(c(e.item)&&!d(e.item,s??null))return i.gp.NOT_ACTIVE;if(l(e.context.uri,t??null)){if(r=e.index.pageIndex??null,a=n??null,null!==r&&null!==a&&r===a)return u(e);if(l(e.index.pageURI??null,s??null))return u(e)}var r,a;return l(e.context.uri,s??null)?u(e):i.gp.NOT_ACTIVE}function h(e,t){return null===e?i.gp.NOT_ACTIVE:l(e.item?.uri??null,t??null)?u(e):i.gp.NOT_ACTIVE}function g(e,t){if(null===e)return i.gp.NOT_ACTIVE;let n=function(e,t){if(!c(e.item))return i.gp.NOT_ACTIVE;const{item:n}=e;if(l(n.uri,t.uri??null)){if(d(n,t.contextURI??null))return u(e);if(d(n,t.pageURI??null))return u(e)}return i.gp.NOT_ACTIVE}(e,t);return n!==i.gp.NOT_ACTIVE?n:(n=m(e,t.contextURI),n===i.gp.NOT_ACTIVE&&(n=m(e,t.pageURI),n===i.gp.NOT_ACTIVE)?i.gp.NOT_ACTIVE:void 0!==t.uid?e.item?.uid===t.uid?n:i.gp.NOT_ACTIVE:void 0!==t.uri?e.item?.uri===t.uri||e.item?.metadata&&e.item.metadata[o.E.PARENT_EPISODE_URI]===t.uri?n:i.gp.NOT_ACTIVE:void 0!==t.index&&e.index.itemIndex===t.index?n:i.gp.NOT_ACTIVE)}function f(e){const t=e?.item??void 0;if((0,i.gB)(t)||(0,i.sN)(t)||(0,i.UZ)(t)){return("video"===t.mediaType||"mixed"===t.mediaType)&&e?.playbackQuality.strategy!==i.m_.OFFLINED_FILE}return!1}function y(e){return"true"===String(e?.context.metadata?.is_audiobook)}},36788:(e,t,n)=>{"use strict";n.d(t,{gB:()=>a,mi:()=>o,y_:()=>r});n(73952),n(97296),n(97768),n(39568),n(41260);var s=n(16928),i=n(43619);function r(e,t,n,s,i,r){const a=t.find((e=>s(n.after||n.before,e)));if(!a)return t;const o=[];e.forEach((e=>{const n=t.find((t=>s(e,t)));n&&o.push(n)}));const l=t.filter((e=>!o.includes(e))),c=o.map((e=>i(a)?r(e):e)),d=a?l.indexOf(a):0;return n.after?l.splice(d+1,0,...c):l.splice(d,0,...c),l}function a(e,t,n,s,i,r){const a=t.find((e=>s(n.after||n.before,e)));if(!a)return t;const o=e.map((e=>r(e,i(a)))),l=t.indexOf(a);return n.after?t.splice(l+1,0,...o):t.splice(l,0,...o),t}function o(e,t,n){if(0===e.length)return{current:null,queued:[],nextUp:[]};const r=t===s.Su.REPEAT_CONTEXT&&n?2:1,a=[];let o=0;const l=e[0];for(let t=1;t<e.length;t++){const{type:n,uri:s,metadata:{hidden:l,availability_restrictions:c}={}}=e[t],d="spotify:delimiter"===s||"spotify:meta:delimiter"===s;if(d&&++o>=r)break;const u=s.startsWith("spotify:meta:"),m=n!==i.s.UNKNOWN&&c;u||d||"true"===l||m||a.push(e[t])}const c=a.findIndex((({provider:e})=>"queue"!==e));return{current:l,queued:-1===c?a:a.slice(0,c),nextUp:-1===c?[]:a.slice(c)}}},19364:(e,t,n)=>{"use strict";n.d(t,{OS:()=>r});n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256);const s="enhance",i="spotify-apply-lenses";function r(e,t){const n=new URL(e),r=new Set(n.searchParams.get(i)?.split(","));return t?r.add(s):r.delete(s),r.size?n.searchParams.set(i,[...r].join(",")):n.searchParams.delete(i),n.toString()}},13748:(e,t,n)=>{"use strict";n.d(t,{MX:()=>a,Yh:()=>r,m1:()=>i});var s=n(45808);let i=function(e){return e.ADD="add",e.MOVE="move",e.REMOVE="remove",e.UPDATE="update",e.SET_COLLABORATIVE="set_collaborative",e.SIGNAL="signal",e}({}),r=function(e){return e.UPDATE="update",e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete",e}({});class a extends s.u{}},48092:(e,t,n)=>{"use strict";n.d(t,{Kr:()=>i,O8:()=>r,o5:()=>s,y6:()=>a});let s=function(e){return e.TEXT="TEXT",e}({}),i=function(e){return e.CONTAINS="CONTAINS",e}({});function r(e){if(e)return"string"==typeof e?{field:s.TEXT,operator:i.CONTAINS,value:e.trim()}:e}function a(e){if(e)return"string"==typeof e?e.trim():e.value.trim()}},60968:(e,t,n)=>{"use strict";n.d(t,{EJ:()=>r,Gm:()=>i,sn:()=>a});var s=n(45808);let i=function(e){return e.CLAIM_PERMISSION="claim_permission",e.REMOVE_MEMBER="remove_member",e.SET_MEMBER_PERMISSION="set_member_permission",e.SET_BASE_PERMISSION="set_base_permission",e.GET_PERMISSION_GRANT="get_permission_grant",e}({}),r=function(e){return e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete",e}({});class a extends s.u{emitOperationSync(e){return this.emitSync(r.OPERATION,e).defaultPrevented}emitOperationComplete(e,t=null){this.emit(r.OPERATION_COMPLETE,{...e,error:t})}}},75552:(e,t,n)=>{"use strict";n.d(t,{Kr:()=>s.Kr,Yb:()=>r,_8:()=>o,kB:()=>a,o5:()=>s.o5,u4:()=>i});var s=n(29836);function i(e){return"folder"===e.type}function r(e){return"playlist"===e.type}let a=function(e){return e.NAME="NAME",e.ADDED_AT="ADDED_AT",e.RECENTLY_PLAYED="RECENTLY_PLAYED",e.RELEVANCE="RELEVANCE",e.AVAILABLE_OFFLINE="AVAILABLE_OFFLINE",e}({}),o=function(e){return e.ASC="ASC",e.DESC="DESC",e}({})},51696:(e,t,n)=>{"use strict";n.d(t,{KB:()=>r,gd:()=>i,uS:()=>a});var s=n(45808);let i=function(e){return e.ADD="add",e.MOVE="move",e.REMOVE="remove",e.CREATE_PLAYLIST="create_playlist",e}({}),r=function(e){return e.UPDATE="update",e.UPDATE_ITEM="update_item",e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete",e}({});class a extends s.u{}},29836:(e,t,n)=>{"use strict";n.d(t,{Kr:()=>i,O8:()=>r,o5:()=>s,y6:()=>a});let s=function(e){return e.TEXT="TEXT",e}({}),i=function(e){return e.CONTAINS="CONTAINS",e}({});function r(e){if(e)return"string"==typeof e?{field:s.TEXT,operator:i.CONTAINS,value:e.trim()}:e}function a(e){if(e)return"string"==typeof e?e.trim():e.value.trim()}},88704:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});n(41260);var s=n(4920),i=n(30340),r=n(79592);function a(e){return t=e,Object.prototype.hasOwnProperty.call(t,"uid")?{itemId:(0,r.gP)(e.uid)}:{};var t}function o(e){const{before:t,after:n}=e;return"start"===t?{addFirst:!0}:void 0!==t?{addBeforeItem:{uri:(0,i._C)(t.uri),attributes:a(t)}}:"end"===n?{addLast:!0}:void 0!==n?{addAfterItem:{uri:(0,i._C)(n.uri),attributes:a(n)}}:{}}class l{_ops=[];_needsBaseRevision=!1;add(e,t,n=Date.now()){return this._ops.push({kind:s.s7.ADD,add:{...o(t),items:e.map((e=>({uri:e,attributes:{timestamp:n.toString()}})))}}),this}addByIndex(e,t,n,i=Date.now()){var r,a;return this._needsBaseRevision=!0,this._ops.push({kind:s.s7.ADD,add:{...(r=e,a=t,0===r?{addFirst:!0}:r>=a?{addLast:!0}:{fromIndex:r}),items:n.map((e=>({uri:e,attributes:{timestamp:i.toString()}})))}}),this}removeByIndex(e,t=1){return this._needsBaseRevision=!0,this._ops.push({kind:s.s7.REM,rem:{fromIndex:e,length:t}}),this}remove(e){return this._ops.push({kind:s.s7.REM,rem:{itemsAsKey:!0,items:e.map((e=>({uri:e.uri})))}}),this}move(e,t){return this._ops.push({kind:s.s7.MOV,mov:{items:e.map((e=>({uri:e.uri,attributes:a(e)}))),...o(t)}}),this}moveByIndex(e,t,n=1){return this._needsBaseRevision=!0,this._ops.push({kind:s.s7.MOV,mov:{fromIndex:e,toIndex:t,length:n}}),this}updateListAttributes(e){return this._ops.push({kind:s.s7.UPDATE_LIST_ATTRIBUTES,updateListAttributes:e}),this}updateItemAttributes(e){return this._ops.push({kind:s.s7.UPDATE_ITEM_ATTRIBUTES,updateItemAttributes:e}),this}buildDelta(){return{ops:this._ops,info:{source:{client:s.yE.WEBPLAYER}}}}buildListChanges(e){if(this._needsBaseRevision&&void 0===e)throw new Error("Operation needs base revision, which was not provided!");return{baseRevision:e,deltas:[this.buildDelta()],wantResultingRevisions:!1,wantSyncResult:!1,nonces:[]}}}},19836:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var s=n(31812),i=n(13748);class r extends i.MX{constructor(){super(),this._aggregator=(0,s.a5)(this.onBatchChanged.bind(this)),this.onAddListener(i.Yh.UPDATE,(e=>{const{uri:t}=e.data.options;this._aggregator.subscribe(t)})),this.onRemoveListener(i.Yh.UPDATE,(e=>{const{uri:t}=e.data.options;this._aggregator.unsubscribe(t)}))}emitAddSync(e,t,n){return this.emitSync(i.Yh.OPERATION,{operation:i.m1.ADD,uri:e,items:t,silent:n}).defaultPrevented}emitMoveSync(e,t){return this.emitSync(i.Yh.OPERATION,{operation:i.m1.MOVE,uri:e,items:t}).defaultPrevented}emitRemoveSync(e,t,n){return this.emitSync(i.Yh.OPERATION,{operation:i.m1.REMOVE,uri:e,items:t,silent:n}).defaultPrevented}emitUpdateSync(e,t){return this.emitSync(i.Yh.OPERATION,{operation:i.m1.UPDATE,uri:e,details:t}).defaultPrevented}emitSendSignalSync(e,t,n){return this.emitSync(i.Yh.OPERATION,{operation:i.m1.SIGNAL,uri:e,itemId:t,signalIdentifier:n}).defaultPrevented}emitAddComplete(e,t=null,n=[],s){this.emit(i.Yh.OPERATION_COMPLETE,{operation:i.m1.ADD,uri:e,uris:n,error:t,silent:s})}emitMoveComplete(e,t=null,n=[]){this.emit(i.Yh.OPERATION_COMPLETE,{operation:i.m1.MOVE,uri:e,items:n,error:t})}emitRemoveComplete(e,t=null,n=[],s){this.emit(i.Yh.OPERATION_COMPLETE,{operation:i.m1.REMOVE,uri:e,items:n,error:t,silent:s})}emitUpdateComplete(e,t=null,n={}){this.emit(i.Yh.OPERATION_COMPLETE,{operation:i.m1.UPDATE,uri:e,details:n,error:t})}emitSendSignalComplete(e,t,n,s=null){this.emit(i.Yh.OPERATION_COMPLETE,{operation:i.m1.SIGNAL,uri:e,itemId:t,signalIdentifier:n,error:s})}}},97376:(e,t,n)=>{"use strict";n.d(t,{SU:()=>l,WO:()=>o,_2:()=>a});var s=n(76404),i=n(51228);const r=6048e5;async function a(e,t,n,a=r){const o=(0,i.q)(t);return(await e.build().withHost(s.km).withMethod("POST").withPath(`/playlist/${o}/permission-grant`).withEndpointIdentifier("/playlist/{id}/permission-grant").withJsonContentType().withBody({permission:{permissionLevel:n},ttlMs:a}).withoutMarket().send()).body}async function o(e,t,n){const r=(0,i.q)(t);return(await e.build().withHost(s.km).withMethod("POST").withPath(`/playlist/${r}/permission-grant/token/${n}/claim`).withEndpointIdentifier("/playlist/{id}/permission-grant/token/{token}/claim").withJsonContentType().withoutMarket().send()).body}async function l(e,t){const n=(0,i.q)(t);return(await e.build().withHost(s.km).withMethod("GET").withPath(`/playlist/${n}/permission/base`).withEndpointIdentifier("/playlist/{id}/permission/base").withoutMarket().send()).body}},26076:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});n(73952),n(39568);var s=n(51696),i=n(31812);class r extends s.uS{_numListeners=0;constructor(){super(),this._aggregator=(0,i.a5)(this.onContainsItems.bind(this)),this.onAddListener(s.KB.UPDATE,(()=>{1==++this._numListeners&&this.subscribeToUpdates()})),this.onRemoveListener(s.KB.UPDATE,(()=>{0==--this._numListeners&&this.unsubscribeFromUpdates()})),this.onAddListener(s.KB.UPDATE_ITEM,(e=>{1==++this._numListeners&&this.subscribeToUpdates();const{uri:t}=e.data.options;this._aggregator.subscribe(t)})),this.onRemoveListener(s.KB.UPDATE_ITEM,(e=>{0==--this._numListeners&&this.unsubscribeFromUpdates();const{uri:t}=e.data.options;this._aggregator.unsubscribe(t)}))}emitUpdateItems(e,t){e.forEach(((e,n)=>{this.emit(s.KB.UPDATE_ITEM,{uri:e,isInRootlist:Array.isArray(t)?t[n]:t})}))}emitCreatePlaylistSync(e,t,n){return this.emitSync(s.KB.OPERATION,{operation:s.gd.CREATE_PLAYLIST,name:e,position:t,silent:n}).defaultPrevented}emitAddSync(e,t,n){return this.emitSync(s.KB.OPERATION,{operation:s.gd.ADD,uris:e,position:t,silent:n}).defaultPrevented}emitMoveSync(e,t,n=!1){return this.emitSync(s.KB.OPERATION,{operation:s.gd.MOVE,item:e,position:t,showAddConfirmation:n}).defaultPrevented}emitRemoveSync(e){return this.emitSync(s.KB.OPERATION,{operation:s.gd.REMOVE,items:e}).defaultPrevented}emitCreatePlaylistComplete(e,t,n=null,i=null,r){this.emit(s.KB.OPERATION_COMPLETE,{operation:s.gd.CREATE_PLAYLIST,name:e,position:t,uri:n,error:i,silent:r})}emitAddComplete(e,t,n=null,i){this.emit(s.KB.OPERATION_COMPLETE,{operation:s.gd.ADD,uris:e,position:t,error:n,silent:i})}emitMoveComplete(e,t,n=null,i=!1){this.emit(s.KB.OPERATION_COMPLETE,{operation:s.gd.MOVE,item:e,position:t,error:n,showAddConfirmation:i})}emitRemoveComplete(e,t=null){this.emit(s.KB.OPERATION_COMPLETE,{operation:s.gd.REMOVE,items:e,error:t})}}},98512:(e,t,n)=>{"use strict";n.d(t,{MN:()=>v,w7:()=>S,YZ:()=>w,wp:()=>E,M$:()=>C,yc:()=>y,Ws:()=>f});var s=n(14788),i=n(75552),r=(n(73952),n(97296),n(41260),n(96768)),a=n(43619),o=n(79592);function l(e){return e?new Date(parseInt(e,10)):null}function c(e){return{type:a.s.USER,uri:(0,s.oh)(e).toURI(),username:e,displayName:null,images:[]}}function d(e,t){if(void 0!==e)return e.map((e=>e.url??null)).filter(r.g).map((e=>({url:e})));if(void 0!==t){return[{url:`https://i.scdn.co/image/${(0,o.i_)(t)}`}]}return[]}function u(e,t,n){const s=n.attributes;return{type:"folder",uri:e,name:t,addedAt:l(s?.timestamp),items:[]}}function m(e,t,n){const s=t.attributes,i=n.attributes;if(!(t.uri&&n.ownerUsername&&s&&i))return function(e){const t=e.attributes;return{type:"placeholder",uri:e.uri??"",addedAt:l(t?.timestamp),isNotFound:!0,isForbidden:!1}}(t);const r=c(n.ownerUsername),o=function(e){return void 0===e?null:c(e)}(i.formatAttributes?.find((e=>"madeFor.username"===e.key))?.value),u=e===r.username,m=s.public??!1,p=u,h=u;return{type:a.s.PLAYLIST,addedAt:l(s.timestamp),uri:t.uri,name:i.name??"",description:i.description??"",totalLength:n.length??0,unfilteredTotalLength:n.length??0,totalLikes:null,duration:null,images:d(i.pictureSize,i.picture),owner:r,madeFor:o,isLoaded:!0,isOwnedBySelf:u,isPublished:m,hasEpisodes:null,hasSpotifyTracks:null,hasSpotifyAudiobooks:null,canAdd:p,canRemove:h,canPlay:null,formatListData:null,canReportAnnotationAbuse:!1,hasDateAdded:!0,permissions:null,collaborators:null}}var p=n(30340);function h(e){const t=e;return"folder"===t.type&&void 0!==t.hash&&void 0!==t.rawItemCount}function g(e,t){const n=e.contents?.items?.[t];return void 0===n?null:(0,s.nX)(n.uri,{parseUnknown:!0})}function f(e,t){const n=g(e,t);return null!==n&&(n.type===s.cH.UNKNOWN&&"start-group"===n.args?.[0]&&3===n.args.length)}function y(e,t){const n=g(e,t);return null!==n&&(n.type===s.cH.UNKNOWN&&"end-group"===n.args?.[0]&&2===n.args.length)}function _(e,t){return{type:"folder",uri:e,name:"<root>",addedAt:new Date(0),items:[],hash:"0000000000000000",rawItemCount:0,...t}}function b(e,t,n,s){return{...u((0,p.Gk)(e,t,n),n,s),hash:t,rawItemCount:1}}class v{stack=[];seen=[];constructor(e){this.username=e;const t=(0,p.Gk)(e,"0000000000000000","<root>");this.root=_(t)}build(e){const t=e.contents,n=t?.items||[],i=t?.metaItems||[];for(let e=0;e<n.length;++e){this.increaseRawItemCount();const t=n[e],r=i[e],a=(0,s.nX)(t.uri,{parseUnknown:!0});if(a)switch(a.type){case s.cH.PLAYLIST:case s.cH.PLAYLIST_V2:{const e=m(this.username,t,r);this.onPlaylist(e);break}case s.cH.UNKNOWN:if("start-group"===a.args?.[0]&&3===a.args?.length){const e=a.args[1],n=(0,s.Si)(a.args[2]);this.hasSeen(e)||this.onStartGroup(b(this.username,e,n,t))}else if("end-group"===a.args?.[0]&&2===a.args?.length){const e=a.args[1];this.onEndGroup(e)}}}return this.root}peek(){return this.stack.length>0?this.stack[this.stack.length-1]:this.root}onPlaylist(e){this.peek().items.push(e)}onStartGroup(e){this.peek().items.push(e),this.stack.push(e),this.seen.push(e.hash)}onEndGroup(e){const t=this.stack.findIndex((t=>t.hash===e));-1!==t&&(this.stack.length=t)}hasSeen(e){return-1!==this.seen.indexOf(e)}increaseRawItemCount(){this.root.rawItemCount++;for(let e=0;e<this.stack.length;++e)this.stack[e].rawItemCount++}}function x(e,t){const n=[];t(e)&&n.push(e);const s=[e];for(;s.length>0;){const e=s.pop();for(const i of e.items)h(i)&&s.push(i),t(i)&&n.push(i)}return n}function C(e){return x(e,(e=>(0,i.Yb)(e)))}function E(e){return _(e.uri,{items:C(e)})}function S(e,t){const n=(0,s.nX)(t),i=x(e,(e=>(0,p.mG)(n,(0,s.nX)(e.uri))));return i.length>0?i[0]:null}function w(e,t){const n=(0,s.nX)(t);return x(e,(e=>(0,p.mG)(n,(0,s.nX)(e.uri)))).at(0)??null}},99100:(e,t,n)=>{"use strict";n.d(t,{G:()=>c});n(73952),n(97296),n(41260),n(99400);var s=n(66514),i=n(88272);n(99972);const r=Spicetify.GraphQL.Definitions["decoratePlaylists"]=new i.a("decoratePlaylists","query","896382ce80ad65a99a7acef04886629b57f9673bdef3ed3d1c90cdc17237612b",null);var a=n(92780);const o=50;const l=e=>null===e.owner.displayName||0===e.images.length;async function c(e,t,n){try{for(let e=0;e<n.length;++e){const s=n[e];if(t.has(s.uri)){const{images:e,owner:n}=t.get(s.uri);s.owner=n,s.images=e}}const i=n.filter(l).filter((e=>!t.has(e.uri))),c=await async function(e,t){const n=(0,s.Gm)(e);return{playlistsV2:(await(0,a.e)(t,(async e=>{const t=await n(r,{uris:e}),{errors:s,data:i}=t||{};if(!i?.playlistsV2)throw s&&s.length>0?new Error(`GraphQL error: ${s[0].message}`):new Error("Unknown GraphQL error!");return i}),o)).reduce(((e,t)=>e.concat(t.playlistsV2||[])),[])}}(e,i.map((e=>e.uri))),d=c.playlistsV2;for(let e=0;e<i.length;++e){const n=i[e],s=d[e];if("Playlist"===s.__typename){const{uri:e,images:i,ownerV2:r}=s;r&&"User"===r.data.__typename&&(n.owner.displayName=r.data.name),n.images=i.items?.[0]?.sources.map((({url:e,width:t,height:n})=>({url:e,width:t||void 0,height:n||void 0}))),t.set(e,{owner:n.owner,images:n.images})}}}catch(e){window.console.error(e)}}},30340:(e,t,n)=>{"use strict";n.d(t,{Gk:()=>o,MD:()=>p,Mt:()=>l,_C:()=>g,_S:()=>c,mG:()=>d,mS:()=>r});var s=n(14788),i=n(79592);function r(e){const t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),(0,i.i_)(t)}function a(e){const t=e.replace(/\s+/g," ");return encodeURIComponent(t).replace(/%20/g,"+")}function o(e,t,n){return`${(0,s.sl)(e,t).toURI()}:${a(n)}`}function l(e){const t=(0,s.nX)(e,{parseUnknown:!0});return null!==t&&t.type===s.cH.UNKNOWN&&void 0!==t.args&&"start-group"===t.args[0]&&t.args.length>=2&&t.args.length<=3}function c(e){const t=(0,s.nX)(e,{parseUnknown:!0});return null!==t&&t.type===s.cH.UNKNOWN&&void 0!==t.args&&"end-group"===t.args[0]&&2===t.args.length}function d(e,t){const n=(0,s.nX)(e,{parseUnknown:!0}),i=(0,s.nX)(t,{parseUnknown:!0});return null!==n&&null!==i&&(n.type===s.cH.FOLDER&&i.type===s.cH.FOLDER?n.id===i.id:l(n)&&l(i)||c(n)&&c(i)?n.args[0]===i.args[0]:n.type===s.cH.FOLDER&&l(i)?n.id===i.args[1]:l(n)&&i.type===s.cH.FOLDER?n.args[1]===i.id:(0,s.mG)(n,i))}function u(e,t){return void 0!==t?`spotify:start-group:${e}:${a(t)}`:`spotify:start-group:${e}`}function m(e){return`spotify:end-group:${e}`}function p(e={}){const{name:t,folderUri:n,hash:s=(n?h(n):r(8))}=e;return[u(s,t),m(s)]}function h(e){const t=(0,s.nX)(e);if(null===t||t.type!==s.cH.FOLDER)throw new Error("Failed to parse folder URI!");return t.id}function g(e){try{return u(h(e))}catch{return e}}},97243:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});const s=["daily-mix","my-mix","car-mix","personalized-podcasts"]},99292:(e,t,n)=>{"use strict";n.d(t,{G:()=>a,M:()=>r});n(41260);var s=n(14788),i=n(76404);const r=async(e,t,n,r)=>{const a=await e.build().withMethod("POST").withHost(i.K4).withPath("/extendp/").withEndpointIdentifier("/extendp/").withJsonContentType().withBody({playlistURI:t,trackSkipIDs:n||[],numResults:r||10}).withoutMarket().send();return a.body?a.body.recommendedTracks.map((e=>{const{id:t,album:{id:n},artists:i}=e,r=(0,s.U1)(t).toURI(),a=(0,s.Bi)(n).toURI(),o=i.map((({id:e,name:t})=>({id:e,name:t,uri:(0,s.Ke)(e).toURI()})));return{...e,uri:r,album:{...e.album,uri:a},artists:o,isMOGEFRestricted:!!e.contentRating?.find((e=>"KR"===e.country&&e.tag.includes("MOGEF-19+")))}})):[]},a=async(e,t,n,s)=>{try{return(await e.build().withMethod("POST").withHost(i.SC).withJsonContentType().withBody({curation_uri:t,suggested_audiobooks:{},skipItemUris:n,limit:s}).withoutMarket().send()).body.uris}catch(e){return[]}}},19712:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var s=n(76404);async function i(e,t){const n=await e.build().withHost(s.UT).withMethod("GET").withPath(`/resolve-uri/${encodeURIComponent(t)}`).withEndpointIdentifier("/resolve-uri/{uri}").withoutMarket().send(),{resolvedPlaylists:i}=n.body;if(i.length>0)return i[0].uri;throw new Error("Error resolving playlist format URI!")}},4920:(e,t,n)=>{"use strict";n.d(t,{M7:()=>i,_:()=>s._,eQ:()=>s.eQ,e_:()=>s.e_,gZ:()=>s.gZ,s7:()=>s.s7,sP:()=>s.sP,yE:()=>s.yE});var s=n(98800),i=n(85263)},93060:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,u:()=>l});var s=n(14788),i=n(4920),r=n(88704),a=n(76404),o=n(79592);async function l(e,t,n){let l=null;const d=(0,s.nX)(t).id;n.imageUploadToken&&(l=await c(e,d,n.imageUploadToken));const u={},m=[];if(null!==l?u.picture=l:null===n.imageUploadToken&&m.push(i._.LIST_PICTURE),"name"in n){if(!n.name)throw Error("Can not set empty playlist name!");u.name=n.name}if("description"in n&&(u.description=n.description),0===Object.keys(u).length&&0===m.length)return null;const p=(new r.a).updateListAttributes({newAttributes:{values:u,noValue:m}}).buildListChanges(),h=i.eQ.toJSON(p),g=await e.build().withMethod("POST").withHost(a.UT).withPath(`/playlist/${d}/changes`).withEndpointIdentifier("/playlist/{id}/changes").withoutMarket().withJsonContentType().withBody(h).send();return(0,o.eu)(g.body.revision)}async function c(e,t,n){const s=await e.build().withEndpointIdentifier("playlist/${id}/register-image").withHost(a.UT).withMethod("POST").withPath(`/playlist/${t}/register-image`).withJsonContentType().withBody({uploadToken:n}).withoutMarket().send();if(!s.body)throw new Error("No image id from registration!");return(0,o.eu)(s.body.picture)}},77543:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});const s="https://image-upload.spotify.com/v4";async function i(e,t){const n=await e.build().withEndpointIdentifier("image-upload/v4/playlist").withHost(s).withMethod("POST").withPath("/playlist").withBody(t).withoutGlobalHeaders().withHeaders([{key:"Content-Type",value:"image/jpeg"}]).withoutMarket().send();if(!n.body)throw new Error("No upload token recieved");return n.body.uploadToken}},51228:(e,t,n)=>{"use strict";n.d(t,{S:()=>r,q:()=>i});var s=n(14788);function i(e){const t=(0,s.nX)(e);return t?t.id:""}function r(e){return e instanceof Error?e:new Error("Unknown error!")}},69596:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,o:()=>d});var s=n(16928),i=n(48092);const r={[i.o5.TEXT]:"text"},a={[i.Kr.CONTAINS]:"contains"};const o={[i.o5.TEXT]:"text"},l={[i.Kr.CONTAINS]:"=^#"};function c(e){return e?.value?`&filter=${encodeURIComponent(function(e){const{field:t,operator:n,value:s}=e;if(t!==i.o5.TEXT||n!==i.Kr.CONTAINS)throw new Error("Invalid filter params!");return`${r[t]} ${a[n]} ${encodeURIComponent(s)}`}(e))}`:""}function d(e,t){void 0!==t?.value&&(e.metadata||={},e.metadata[s.WE.FILTERING_PREDICATE]=function(e){const{field:t,operator:n,value:s}=e;if(t!==i.o5.TEXT||n!==i.Kr.CONTAINS)throw new Error("Invalid filter params!");return`${o[t]} ${l[n]} "${s}"`}(t))}},15464:(e,t,n)=>{"use strict";n.d(t,{w:()=>l,y:()=>c});n(41260);var s=n(16928),i=n(25956),r=n(55356);const a={[r.k.TITLE]:["name","originalIndex"],[r.k.ADDED_BY]:["addedByDisplayName","originalIndex"],[r.k.ADDED_AT]:["addTime","album.name","album.artist.name","discNumber","trackNumber","originalIndex"],[r.k.ARTIST]:["artist.name","album.name","discNumber","trackNumber","originalIndex"],[r.k.ALBUM]:["album.name","discNumber","trackNumber","originalIndex"],[r.k.DURATION]:["length","album.name","discNumber","trackNumber","originalIndex"]};const o={[r.k.TITLE]:["title","original_index"],[r.k.ADDED_BY]:["added_by","original_index"],[r.k.ADDED_AT]:["added_at","album_title","album_artist_name","album_disc_number","album_track_number","original_index"],[r.k.ARTIST]:["artist_name","album_title","album_disc_number","album_track_number","original_index"],[r.k.ALBUM]:["album_title","album_disc_number","album_track_number","original_index"],[r.k.DURATION]:["duration","album_title","album_disc_number","album_track_number","original_index"]};function l(e){return void 0===e?"":`&sort=${encodeURIComponent(function(e){const{field:t,order:n}=e,s=a[t];if(void 0===s||n!==i._.ASC&&n!==i._.DESC)throw new Error("Invalid sort params!");return s.map(((e,t)=>n?`${e} ${t>0?i._.ASC:n}`:e)).join(",")}(e))}`}function c(e,t){void 0!==t&&(e.metadata||={},e.metadata[s.WE.SORTING_CRITERIA]=function(e){const{field:t,order:n}=e,s=o[t];if(void 0===s||n!==i._.ASC&&n!==i._.DESC)throw new Error("Invalid sort params!");return s.map(((e,t)=>n?`${e} ${t>0?i._.ASC:n}`:e)).join(",")}(t))}},84944:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});const s=(0,n(96651).createContext)({getCapabilities:()=>{},getMetadata:()=>{},getContents:()=>{},add:()=>{},move:()=>{},remove:()=>{},getEvents:()=>{}})},47192:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});const s=(0,n(96651).createContext)(null)},68488:(e,t,n)=>{"use strict";n.d(t,{O:()=>f,_:()=>y});var s=n(96651),i=n(84944),r=n(59356),a=n(12924),o=n(40468),l=n(86620),c=n(71796),d=n(5072),u=(n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256),n(33996)),m=n(96768),p=n(19240);const h=(e,t,n)=>["usePlaylist",e,t,n],g=(e,t,n,s,i)=>()=>e.getPlaylist(t,{...s,withSync:n},i),f=(e,t,n)=>{const f=(0,s.useContext)(i.I),y=(0,a.q$)(),_=(0,s.useRef)(t?.withSync),b=(0,c.Y1)((()=>h(e,t,n)),[e,t,n]),{data:v,isLoading:x,isError:C}=(0,o.U)({queryKey:b(),queryFn:g(f,e,_.current,t,n),gcTime:36e5,staleTime:5e3,placeholderData:l.iq}),E=(0,s.useCallback)((()=>{_.current=!1,y.invalidateQueries({queryKey:b()})}),[y,b]);return(0,d.q)({callback:E,uri:e}),(0,r.U)(e,E),((e,t,n=!1)=>{const i=(0,u.g)(),r=(0,s.useRef)(null),a=(0,s.useRef)(t);(0,s.useLayoutEffect)((()=>{a.current=t})),(0,s.useEffect)((()=>n?i.subscribeToMembers(e,((e,t)=>{const n=r.current,s=new Set(t?.members?.map((e=>e.user?.uri??null)).filter(m.g)??[]);n&&!(0,p.Q)(n,s)&&a.current(),r.current=s})):()=>{}),[e,i,n])})(e,E,t?.hydrateCollaboratorsWithMembers),{data:v??null,isLoading:x,isError:C}},y=(e,t,n)=>{const r=(0,s.useContext)(i.I),o=(0,a.q$)();return(0,s.useCallback)((()=>{const s=h(e,t,n),i=g(r,e,!1,t,n);o.prefetchQuery({queryKey:s,queryFn:i})}),[r,n,t,o,e])}},37292:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var s=n(96651),i=n(84944),r=n(71796);function a(...e){const[t,n,a]=e,o=(0,s.useRef)(n),l=(0,r.ek)((()=>a),[a]),c=(0,s.useContext)(i.I);o.current=n,(0,s.useEffect)((()=>{const e=c.getEvents(),n=e=>o.current(e);return e.addListener(t,n,l),()=>{e.removeListener(t,n,l)}}),[c,t,l])}},47132:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var s=n(96651),i=n(47192),r=n(29684);function a(e){const t=(0,s.useContext)(i.e),[n,a]=(0,s.useState)(void 0),o=(0,s.useCallback)((()=>{t.getPublishedState(e).then(a)}),[t,e]);return(0,s.useEffect)(o,[o]),(0,r.w)(o),n}},59356:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var s=n(13748),i=n(37292);function r(e,t){(0,i.w)(s.Yh.UPDATE,(n=>{n.data.uri===e&&t(n)}),{uri:e})}},53044:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});var s=n(96651),i=n(47192);function r(){return(0,s.useContext)(i.e)}},44948:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var s=n(96651),i=n(47192);function r(){const e=(0,s.useContext)(i.e);return{createFolder:(0,s.useCallback)(((t,n)=>e.createFolder(t,n)),[e]),createPlaylist:(0,s.useCallback)(((t,n)=>e.createPlaylist(t,n)),[e]),moveFolder:(0,s.useCallback)(((t,n)=>e.moveFolder(t,n)),[e]),removeFolder:(0,s.useCallback)((t=>e.removeFolder(t)),[e]),renameFolder:(0,s.useCallback)(((t,n)=>e.renameFolder(t,n)),[e]),addPlaylists:(0,s.useCallback)(((t,n)=>e.add(t,n)),[e]),movePlaylists:(0,s.useCallback)(((t,n)=>e.move(t,n)),[e]),removePlaylists:(0,s.useCallback)((t=>e.remove(t)),[e]),containsPlaylists:(0,s.useCallback)((t=>e.contains(t)),[e]),setPublishedState:(0,s.useCallback)(((t,n)=>e.setPublishedState(t,n)),[e])}}},29684:(e,t,n)=>{"use strict";n.d(t,{e:()=>l,w:()=>o});var s=n(96651),i=n(51696),r=n(47192),a=n(71796);function o(e){const t=(0,s.useContext)(r.e);(0,s.useEffect)((()=>{const n=t.getEvents();return n.addListener(i.KB.UPDATE,e),()=>{n.removeListener(i.KB.UPDATE,e)}}),[e,t])}function l(...e){const[t,n,i]=e,o=(0,s.useRef)(n),l=(0,a.ek)((()=>i),[i]),c=(0,s.useContext)(r.e);o.current=n,(0,s.useEffect)((()=>{const e=c.getEvents(),n=e=>o.current(e);return e.addListener(t,n,l),()=>{e.removeListener(t,n,l)}}),[c,t,l])}},55356:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});let s=function(e){return e.TITLE="TITLE",e.ADDED_BY="ADDED_BY",e.ADDED_AT="ADDED_AT",e.ARTIST="ARTIST",e.ALBUM="ALBUM",e.DURATION="DURATION",e}({})},25956:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});let s=function(e){return e.ASC="ASC",e.DESC="DESC",e}({})},252:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});n(73952),n(91372);function s(e){return!!e&&(Array.isArray(e)?e.some((e=>"is-editorial-booklist"===e.key&&"true"===e.value)):"true"===e["is-editorial-booklist"])}},90332:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var s=n(43619);function i(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}}function r(e){return{type:s.s.USER,uri:e.uri,username:e.id,displayName:e?.display_name||null,images:e?.images?.map(i)||[]}}},92836:(e,t,n)=>{"use strict";n.d(t,{S:()=>i,c:()=>r});var s=n(45808);let i=function(e){return e.CONNECTION="connection",e.MESSAGE="push",e.SUBSCRIBE="subscribe",e.CANCEL="cancel",e.REFRESH="refresh",e.ERROR="error",e}({});class r extends s.u{}},64568:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});n(73952),n(97296),n(39568);var s=n(92836);const i="hm://";class r{static NEXT_SUBSCRIPTION_ID=0;_subscriptions=new Map;_messages=[];constructor(e,t,n){this._subscribeToConnectionId=e,this._subscribeToMessages=t,this._isDeveloperMode=n,this._events=new s.c,this._connectionId=new Promise((e=>{this._subscribeToConnectionId((t=>{this.onConnectionId(t),e(t),this._events.emit(s.S.CONNECTION,{connectionId:t})}))})),this._isDeveloperMode&&this.subscribe({ident:i,isPrefix:!0,onMessage:()=>{}})}onConnectionId(e){this._connectionId=Promise.resolve(e);for(const t of this._subscriptions.values())this.refreshSubscription(t,e)}getConnectionId(){return this._connectionId}async cancelSubscription(e){const t=this._subscriptions.get(e);if(void 0!==t)try{await(t.onCancel?.(t.connectionId)),this._events.emit(s.S.CANCEL,{ident:t.ident,isPrefix:t.isPrefix??!1})}catch(e){this._events.emit(s.S.ERROR,new Error("Error while trying to cancel!",{cause:e}))}this._subscriptions.delete(e)}async createSubscription(e,t,n){if(n.aborted)return;const i=r.NEXT_SUBSCRIPTION_ID++,{ident:a,isPrefix:o,onMessage:l}=e;this._subscriptions.set(i,{...e,connectionId:t});const c=this._subscribeToMessages(a,o??!1,(e=>{l(e),this._isDeveloperMode&&(this._messages.unshift(e),this._messages.length>1e3&&this._messages.pop(),this._messages.splice(0,this._messages.length,...function(e,t){const n=new Map;return e.forEach((e=>{const s=t(e);n.has(s)||n.set(s,e)})),Array.from(n.values())}(this._messages,(e=>`${e.timestamp}-${e.ident}`)))),this._events.emit(s.S.MESSAGE,e)}));n.addEventListener("abort",(()=>{this.cancelSubscription(i),c.cancel()}),{once:!0});try{await(e.onSubscribe?.(t)),this._events.emit(s.S.SUBSCRIBE,{ident:a,isPrefix:o??!1})}catch(e){this._events.emit(s.S.ERROR,new Error("Error while trying to subscribe!",{cause:e}))}}async refreshSubscription(e,t){try{await(e.onCancel?.(e.connectionId))}catch(e){this._events.emit(s.S.ERROR,new Error("Error while trying to cancel!",{cause:e}))}try{const n=e.connectionId;await(e.onSubscribe?.(t)),e.connectionId=t,this._events.emit(s.S.REFRESH,{ident:e.ident,isPrefix:e.isPrefix??!1,oldConnectionId:n,newConnectionId:t})}catch(e){this._events.emit(s.S.ERROR,new Error("Error while trying to subscribe!",{cause:e}))}}subscribe(e){const t=new AbortController,n=t.signal;return this._connectionId.then((t=>this.createSubscription(e,t,n))),{cancel:()=>t.abort()}}getSubscriptions(){return Array.from(this._subscriptions.values()).filter((e=>!(e.ident===i&&!0===e.isPrefix)))}getMessages(){return this._messages}getEvents(){return this._events}}},98620:(e,t,n)=>{"use strict";n.d(t,{e:()=>i,u:()=>r});var s=n(96651);const i=(0,s.createContext)(null);function r(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use 'PubSubContext' without 'PubSubProvider'!");return e}},28020:(e,t,n)=>{"use strict";n.d(t,{_q:()=>r,eu:()=>s,iI:()=>i});let s=function(e){return e.ARTIST="artist",e.ALBUM="album",e.SHOW="show",e.AUDIOBOOK="audiobook",e.PLAYLIST="playlist",e.LIKED_SONGS="liked_songs",e.YOUR_EPISODES="your_episodes",e.TRACK="track",e}({}),i=function(e){return e.UPDATE="update",e}({});class r{}},35260:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});var s=n(45808);class i extends s.u{}},3420:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,e:()=>r});var s=n(96651);const i=(0,s.createContext)(null);function r(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use 'RecentlyPlayedContext' without 'RecentlyPlayedProvider'!");return e}},91412:(e,t,n)=>{"use strict";n.d(t,{O1:()=>o,Qp:()=>l});var s=n(76995),i=n(29972);let r;function a({isAnonymous:e,transport:t,tokenProvider:n}){const{DEBUG_SEMANTIC_METRICS:r}={};if("1"===r)return[new s.ConsoleReporter];if(!t&&!n)throw new Error("[SemanticMetricsHelper] An instance of either transport or tokenProvider is required!");let a={environment:"undefined"!=typeof window?"browser":"nodejs"};return e||(a={...a,getToken:async e=>{if(n){const t=await(0,i.u)(n);e(await t())}else t&&e(t.getLastToken())}}),[(0,s.createUniversalReporter)(a),..."2"===r?[new s.ConsoleReporter]:[]]}function o(e,t,n=!1){const{sendMetric:i}=(0,s.createSemanticMetrics)({key:e,dev:!"production"?.startsWith("prod")&&!0,reporter:a({transport:t,isAnonymous:n})});r=i}async function l(e){if(!r)throw new Error("Invalid call to sendMetric before initSemanticMetrics.");return e.tags||(e.tags={}),"review_build"in e.tags||(e.tags.review_build="1"==={}.IS_REVIEW_BUILD?"true":"false"),r(e)}},80392:(e,t,n)=>{"use strict";n.d(t,{I7:()=>r,Sy:()=>i,We:()=>a,YP:()=>s});let s=function(e){return e.PUBLISH_DATE="PUBLISH_DATE",e}({}),i=function(e){return e.ASC="ASC",e.DESC="DESC",e}({}),r=function(e){return e.AVAILABLE="AVAILABLE",e.TEXT="TEXT",e.NAME="NAME",e.ISPLAYED="ISPLAYED",e.STARTEDPLAYING="STARTEDPLAYING",e}({}),a=function(e){return e.CONTAINS="CONTAINS",e.EQUALS="EQUALS",e.NOT_EQUALS="NOT_EQUALS",e.GREATER_THAN="GREATER_THAN",e}({})},56652:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,E:()=>r});var s=n(45808);let i=function(e){return e.UPDATE_ACCESS_INFO="update_access_info",e.UPDATE_LATEST_PLAYED_EPISODE_LINK="update_latest_played_episode_link",e.UPDATE_RATING="update_rating",e}({});class r extends s.u{}},89183:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var s=n(22607),i=n(72136);async function r(e){const{body:t}=await s.createCheckoutSession(new i.O,e),{redirectToUrl:n}=t;if(!new URL(n).hostname.endsWith(".spotify.com"))throw new Error("Unknown URL host");window.location.assign(n)}},72660:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var s=n(70684);class i extends s.u{constructor(e,t){super(e,t),this.redirectUri=t.redirectUri}}},89296:(e,t,n)=>{"use strict";n.d(t,{a:()=>a,y:()=>r});n(73952),n(91372);var s=n(78040),i=n(84340);function r(e){return void 0===e||0===e.length?null:e.some((e=>[s.YZ.OAP_OTP,s.YZ.AUDIOBOOK_DIRECT_SALES].includes(e)))?"OTP":e.some((e=>[s.YZ.OAP_LINKING,s.YZ.ANCHOR_PAYWALL].includes(e)))?"SUBSCRIPTION":"OTHER"}function a(e){return e?.length?e.some((e=>e&&[i.YZ.OapOtp,i.YZ.AudiobookDirectSales].includes(e)))?"OTP":e.some((e=>e&&[i.YZ.OapLinking,i.YZ.AnchorPaywall].includes(e)))?"SUBSCRIPTION":"OTHER":null}},20684:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var s=n(96651),i=n(56652);const r=(0,s.createContext)({capabilities:{canFilter:!1,canSort:!1,canGetDefaultSort:!1,canGetShowPlayedState:!1},getMetadata:()=>Promise.reject(),getContents:()=>Promise.reject(),getBookContents:()=>Promise.reject(),getEpisodeOrChapter:()=>Promise.reject(),getPlayerSort:()=>"",getPlayerFilter:()=>"",getAccessInfo:()=>Promise.reject(),checkoutBook:()=>Promise.reject(),getShowPlayedState:()=>Promise.reject(),getEvents:()=>new i.E,updateUserRating:()=>Promise.reject()})},52216:(e,t,n)=>{"use strict";n.d(t,{ai:()=>r,Og:()=>l,oX:()=>d,ik:()=>a.i});var s=n(20684),i=n(2488);const r=function(e){const{instance:t,children:n}=e;return(0,i.jsx)(s.w.Provider,{value:t,children:n})};var a=n(40728),o=n(71796);function l(e,t,n){const s=(0,a.i)(),{canSort:i}=s.capabilities,r=(0,o.Y1)((async(i,r)=>s.getContents(e,{offset:i,limit:r,sort:t,filters:n})),[s,e,t,n]),l=(0,o.Y1)((async(t,n)=>s.getContents(e,{offset:t,limit:n})),[s,e]);return i?r:l}var c=n(96651);function d(e){const t=(0,a.i)(),[n,s]=(0,c.useState)(null);return(0,c.useEffect)((()=>{!async function(){try{const n=await t.getAccessInfo(e);s(n)}catch(e){console.error(e),s(void 0)}}()}),[t,e]),n}},38356:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var s=n(40468),i=n(40728);const r=3e5;function a(e){const t=(0,i.i)(),{data:n,isError:a}=(0,s.U)({queryKey:["useEpisodeOrChapter",e],queryFn:()=>t.getEpisodeOrChapter(e),gcTime:r,retry:(e,t)=>!t});return n||a?{isError:a,episodeOrChapter:n}:null}},40728:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var s=n(96651),i=n(20684);function r(){return(0,s.useContext)(i.w)}},3176:(e,t,n)=>{"use strict";n.d(t,{i:()=>p});var s=n(12924),i=n(40468),r=n(40728),a=n(86852),o=n(5072),l=n(96651),c=n(72660),d=n(56652),u=n(20684);const m=3e5;function p(e){const t=(0,r.i)(),n=(0,s.q$)(),p=(0,l.useCallback)((()=>["useShowMetadata",e]),[e]),{data:h,error:g}=(0,i.U)({queryKey:p(),queryFn:()=>t.getMetadata(e),gcTime:m,refetchOnWindowFocus:!1,retry:(e,t)=>!(t.message===a.a.RestrictedContent||t instanceof c.W)&&e<3}),f=(0,l.useCallback)((()=>{h&&n.invalidateQueries({queryKey:p()})}),[h,p,n]);return(0,o.q)({callback:f,uri:e}),function({callback:e,uri:t}){const n=(0,l.useContext)(u.w);(0,l.useEffect)((()=>{const s=n.getEvents(),i=n=>{n.data.uri!==t&&void 0!==n.data.uri||e(n)};return s.addListener(d.A.UPDATE_RATING,i),()=>{s.removeListener(d.A.UPDATE_RATING,i)}}),[n,t,e])}({callback:f,uri:e}),(0,l.useEffect)((()=>{const s=e=>{n.setQueryData(p(),(t=>t?{...t,latestPlayedEpisodeLink:e.data.latestPlayedEpisodeLink}:t))};return t.getEvents().addListener(d.A.UPDATE_LATEST_PLAYED_EPISODE_LINK,s,{uri:e}),()=>{t.getEvents().removeListener(d.A.UPDATE_LATEST_PLAYED_EPISODE_LINK,s,{uri:e})}}),[p,n,t,e]),g?{data:null,error:g,redirectUri:g instanceof c.W?g.redirectUri:void 0}:{data:h??null}}},80420:(e,t,n)=>{"use strict";n.d(t,{Q:()=>h});n(41260);var s=n(62924),i=n(78200),r=n.n(i);let a=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.PLAINTEXT_CONTENT=1]="PLAINTEXT_CONTENT",e[e.MUSIC_TRACK=2]="MUSIC_TRACK",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function o(e){switch(e){case 0:case"UNKNOWN":return a.UNKNOWN;case 1:case"PLAINTEXT_CONTENT":return a.PLAINTEXT_CONTENT;case 2:case"MUSIC_TRACK":return a.MUSIC_TRACK;default:return a.UNRECOGNIZED}}const l={encode(e,t=r().Writer.create()){""!==e.version&&t.uint32(10).string(e.version),""!==e.episodeUri&&t.uint32(18).string(e.episodeUri),""!==e.publishedAt&&t.uint32(26).string(e.publishedAt);for(const n of e.sections)c.encode(n,t.uint32(34).fork()).ldelim();return""!==e.language&&t.uint32(42).string(e.language),!0===e.curated&&t.uint32(48).bool(e.curated),t},decode(e,t){const n=e instanceof r().Reader?e:new(r().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={version:"",episodeUri:"",publishedAt:"",sections:[],language:"",curated:!1};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:i.version=n.string();break;case 2:i.episodeUri=n.string();break;case 3:i.publishedAt=n.string();break;case 4:i.sections.push(c.decode(n,n.uint32()));break;case 5:i.language=n.string();break;case 6:i.curated=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({version:m(e.version)?String(e.version):"",episodeUri:m(e.episodeUri)?String(e.episodeUri):"",publishedAt:m(e.publishedAt)?String(e.publishedAt):"",sections:Array.isArray(e?.sections)?e.sections.map((e=>c.fromJSON(e))):[],language:m(e.language)?String(e.language):"",curated:!!m(e.curated)&&Boolean(e.curated)}),toJSON(e){const t={};return void 0!==e.version&&(t.version=e.version),void 0!==e.episodeUri&&(t.episodeUri=e.episodeUri),void 0!==e.publishedAt&&(t.publishedAt=e.publishedAt),e.sections?t.sections=e.sections.map((e=>e?c.toJSON(e):void 0)):t.sections=[],void 0!==e.language&&(t.language=e.language),void 0!==e.curated&&(t.curated=e.curated),t},fromPartial(e){const t={version:"",episodeUri:"",publishedAt:"",sections:[],language:"",curated:!1};return t.version=e.version??"",t.episodeUri=e.episodeUri??"",t.publishedAt=e.publishedAt??"",t.sections=e.sections?.map((e=>c.fromPartial(e)))||[],t.language=e.language??"",t.curated=e.curated??!1,t}};const c={encode:(e,t=r().Writer.create())=>(0!==e.type&&t.uint32(8).int32(e.type),0!==e.startMs&&t.uint32(16).int32(e.startMs),void 0!==e.plaintextContent&&d.encode(e.plaintextContent,t.uint32(26).fork()).ldelim(),void 0!==e.musicTrack&&u.encode(e.musicTrack,t.uint32(50).fork()).ldelim(),""!==e.title&&t.uint32(34).string(e.title),void 0!==e.fallback&&d.encode(e.fallback,t.uint32(42).fork()).ldelim(),t),decode(e,t){const n=e instanceof r().Reader?e:new(r().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={type:0,startMs:0,plaintextContent:void 0,musicTrack:void 0,title:"",fallback:void 0};for(;n.pos<s;){const e=n.uint32();switch(e>>>3){case 1:i.type=n.int32();break;case 2:i.startMs=n.int32();break;case 3:i.plaintextContent=d.decode(n,n.uint32());break;case 6:i.musicTrack=u.decode(n,n.uint32());break;case 4:i.title=n.string();break;case 5:i.fallback=d.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({type:m(e.type)?o(e.type):0,startMs:m(e.startMs)?Number(e.startMs):0,plaintextContent:m(e.plaintextContent)?d.fromJSON(e.plaintextContent):void 0,musicTrack:m(e.musicTrack)?u.fromJSON(e.musicTrack):void 0,title:m(e.title)?String(e.title):"",fallback:m(e.fallback)?d.fromJSON(e.fallback):void 0}),toJSON(e){const t={};return void 0!==e.type&&(t.type=function(e){switch(e){case a.UNKNOWN:return"UNKNOWN";case a.PLAINTEXT_CONTENT:return"PLAINTEXT_CONTENT";case a.MUSIC_TRACK:return"MUSIC_TRACK";default:return"UNKNOWN"}}(e.type)),void 0!==e.startMs&&(t.startMs=Math.round(e.startMs)),void 0!==e.plaintextContent&&(t.plaintextContent=e.plaintextContent?d.toJSON(e.plaintextContent):void 0),void 0!==e.musicTrack&&(t.musicTrack=e.musicTrack?u.toJSON(e.musicTrack):void 0),void 0!==e.title&&(t.title=e.title),void 0!==e.fallback&&(t.fallback=e.fallback?d.toJSON(e.fallback):void 0),t},fromPartial(e){const t={type:0,startMs:0,plaintextContent:void 0,musicTrack:void 0,title:"",fallback:void 0};return t.type=e.type??0,t.startMs=e.startMs??0,t.plaintextContent=void 0!==e.plaintextContent&&null!==e.plaintextContent?d.fromPartial(e.plaintextContent):void 0,t.musicTrack=void 0!==e.musicTrack&&null!==e.musicTrack?u.fromPartial(e.musicTrack):void 0,t.title=e.title??"",t.fallback=void 0!==e.fallback&&null!==e.fallback?d.fromPartial(e.fallback):void 0,t}};const d={encode(e,t=r().Writer.create()){for(const n of e.plaintext)t.uint32(10).string(n);return t},decode(e,t){const n=e instanceof r().Reader?e:new(r().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={plaintext:[]};for(;n.pos<s;){const e=n.uint32();if(e>>>3==1)i.plaintext.push(n.string());else n.skipType(7&e)}return i},fromJSON:e=>({plaintext:Array.isArray(e?.plaintext)?e.plaintext.map((e=>String(e))):[]}),toJSON(e){const t={};return e.plaintext?t.plaintext=e.plaintext.map((e=>e)):t.plaintext=[],t},fromPartial(e){const t={plaintext:[]};return t.plaintext=e.plaintext?.map((e=>e))||[],t}};const u={encode:(e,t=r().Writer.create())=>(""!==e.uri&&t.uint32(10).string(e.uri),t),decode(e,t){const n=e instanceof r().Reader?e:new(r().Reader)(e);let s=void 0===t?n.len:n.pos+t;const i={uri:""};for(;n.pos<s;){const e=n.uint32();if(e>>>3==1)i.uri=n.string();else n.skipType(7&e)}return i},fromJSON:e=>({uri:m(e.uri)?String(e.uri):""}),toJSON(e){const t={};return void 0!==e.uri&&(t.uri=e.uri),t},fromPartial(e){const t={uri:""};return t.uri=e.uri??"",t}};function m(e){return null!=e}function p(e){return e.type===a.MUSIC_TRACK?{type:"track",startMs:e.startMs,content:e.fallback?.plaintext||[],trackUri:e.musicTrack?.uri}:{type:"text",startMs:e.startMs,content:e.plaintextContent?.plaintext||[]}}async function h(e){try{const t=await fetch(e,{});if(t.ok&&t.body){const e=await t.arrayBuffer(),n=l.decode(new Uint8Array(e));return n.sections.map(p)}return null}catch(e){return null}}r().util.Long!==s.c&&(r().util.Long=s.c,r().configure())},86852:(e,t,n)=>{"use strict";n.d(t,{A7:()=>i,IN:()=>l,QF:()=>a,a:()=>c,c:()=>m,iM:()=>r,q8:()=>u,uW:()=>d,yQ:()=>o});var s=n(43619);let i=function(e){return e.Explicit="EXPLICIT",e.NineteenPlus="NINETEEN_PLUS",e.None="NONE",e.Unknown="UNKNOWN",e}({}),r=function(e){return e.Audio="AUDIO",e.Unknown="UNKNOWN",e.Video="VIDEO",e}({}),a=function(e){return e.Completed="COMPLETED",e.InProgress="IN_PROGRESS",e.NotStarted="NOT_STARTED",e}({}),o=function(e){return e.Unknown="UNKNOWN",e.NotStarted="NOT_STARTED",e.InProgress="IN_PROGRESS",e.Completed="COMPLETED",e.Unrecogniced="UNRECOGNIZED",e}({}),l=function(e){return e.AgeRestricted="AGE_RESTRICTED",e.Anonymous="ANONYMOUS",e.CatalogueRestricted="CATALOGUE_RESTRICTED",e.CountryRestricted="COUNTRY_RESTRICTED",e.Explicit="EXPLICIT",e.PaymentRequired="PAYMENT_REQUIRED",e.Playable="PLAYABLE",e.Unavailable="UNAVAILABLE",e.Unknown="UNKNOWN",e}({}),c=function(e){return e.RestrictedContent="Restricted content",e.Generic="Error while requesting the show metadata",e}({}),d=function(e){return e.UNKNOWN="unknown",e.TRAILER="trailer",e.CONTINUE_LISTENING="continue-listening",e.LATEST_PUBLISHED="latest-published",e.UP_NEXT="up-next",e.FIRST_PUBLISHED="first-published",e}({});function u(e){return e.type===s.s.AUDIOBOOK}function m(e){return e.type===s.s.CHAPTER}},99548:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var s=n(76404);const i=async(e,t,n)=>{const i=e.build();try{const e=await i.withMethod("POST").withHost(s.iM).withPath(`/rating/show/${t}`).withBody({rating:n}).withJsonContentType().withResponseType("json").send();return e.body?{showUri:e.body.show_uri,rating:e.body.rating,ratedAt:new Date(e.body.rated_at)}:null}catch(e){throw new Error("Error while rating show",{cause:e})}}},10572:(e,t,n)=>{"use strict";n.d(t,{C0:()=>u,y0:()=>m,mc:()=>g,U9:()=>v,sh:()=>d,_o:()=>S,IR:()=>C});n(73952),n(97296),n(41260);var s=n(12100),i=n(84340),r=n(59476),a=n(43619),o=n(86852);const l="recent";var c=n(89296);function d(e){return{totalCount:e.totalCount,nextOffset:e.pagingInfo.nextOffset,items:e.items.map((e=>"Episode"!==e.entity.data.__typename?null:g(e.entity.data)))}}function u(e,t){return{totalCount:e.totalCount,nextOffset:e.pagingInfo.nextOffset,items:e.items.map((e=>"Chapter"===e.entity.data.__typename?f(e.entity.data,t):null))}}function m(e,t){return"Chapter"===e.__typename?f(e,t):g(e)}function p(e){switch(e){case i.QG.AgeRestricted:return o.IN.AgeRestricted;case i.QG.CatalogueRestricted:return o.IN.CatalogueRestricted;case i.QG.CountryRestricted:return o.IN.CountryRestricted;case i.QG.Explicit:return o.IN.Explicit;case i.QG.PaymentRequired:return o.IN.PaymentRequired;case i.QG.Playable:return o.IN.Playable;case i.QG.Unavailable:default:return o.IN.Unavailable}}function h(e,t=!1){return{playable:!t&&e.playable,reason:t?o.IN.Anonymous:p(e.reason)}}function g(e){const t="Podcast"!==(n=e.podcastV2).data.__typename?null:{uri:n.data.uri,name:n.data.name,coverArt:n.data.coverArt?.sources||[],trailer:(s=n.data.trailerV2,("Episode"===s?.data.__typename?{uri:s.data.uri}:null)||null),showTypes:(n.data.showTypes||[]).filter(y)};var n,s;const i=(0,r.w7)(e?.restrictions,e.playability);return{type:a.s.EPISODE,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",podcast:t,episodeType:e.type,mediaTypes:e.mediaTypes,coverArt:e.coverArt?.sources||[],audio:e.audio,releaseDate:(o=e.releaseDate,o?{isoString:o.isoString}:null),playedState:e.playedState,playability:h(e.playability),audioPreview:e.audioPreview,sharingInfo:e.sharingInfo,duration:{milliseconds:e.duration.totalMilliseconds},contentRating:e.contentRating,segmentsCount:0,podcastSubscription:i,contentInformation:e.contentInformation,transcript:e.transcripts?.items||null};var o}function f(e,t){return{type:a.s.CHAPTER,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",coverArt:e.coverArt?.sources||[],audio:e.audio,playedState:e.playedState,audioPreview:e.audioPreview,sharingInfo:e.sharingInfo,duration:{milliseconds:e.duration.totalMilliseconds},contentRating:e.contentRating,playability:h(e.playability,t),book:x(e.audiobookV2),isExplicit:e.contentRating?.label===i.A7.Explicit,is19PlusOnly:e.contentRating?.label===i.A7.NineteenPlus}}function y(e){return!!e}function _(e){return Boolean(e)}function b(e){const t=e.nextBestEpisodes.items.sort(((e,t)=>t.score-e.score)),n=t[0]?.item.data;if("Episode"!==n?.__typename)return;let s;const r="Episode"===e.trailerV2?.data.__typename?e.trailerV2.data.uri:null;return s=n.uri===r?o.uW.TRAILER:n.playedState.state===i.QF.InProgress?o.uW.CONTINUE_LISTENING:o.uW.UP_NEXT,{type:s,data:g(n)}}function v(e){const t="Episode"===e.trailerV2?.data.__typename?(n=e.trailerV2.data,{type:a.s.EPISODE,uri:n.uri,name:n.name,coverArt:n.coverArt?.sources||[],audio:n.audio,audioPreview:n.audioPreview,sharingInfo:n.sharingInfo,duration:{milliseconds:n.duration.totalMilliseconds},contentRating:n.contentRating,mediaTypes:n.mediaTypes}):null;var n;const s=(0,c.a)(e?.accessInfo?.unlockedBy);return{type:a.s.SHOW,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",coverArt:e.coverArt?.sources||[],trailer:t,topics:e.topics.items,podcastType:e.musicAndTalk?"SHOW":"PODCAST",showTypes:(e.showTypes||[]).filter(y),publisherName:e.publisher?.name||"",consumptionOrder:l,nextBestEpisode:b(e),gatedContentAccessReason:s,isLocked:null===s,rating:e.rating}}function x(e){if("Audiobook"!==e.data.__typename)return null;const t=e.data;return{uri:t.uri,name:t.name,coverArt:t.coverArt?.sources||[],trailer:(n=t,"Chapter"===n.trailerV2?.data.__typename?{uri:n.trailerV2.data.uri}:null)};var n}function C(e){const t=!1===e?.isUserMemberOfAtLeastOneGroup,n=e?.unlockedBy?.includes(i.YZ.Abp);return t&&!n}function E(e){return"ConsumptionCappedAccessExplanation"===e?.accessInfo?.accessExplanation?.__typename?{title:e.accessInfo.accessExplanation.title||"",body:e.accessInfo.accessExplanation.body||"",cta:e.accessInfo.accessExplanation.actionText||"",ctaUrl:e.accessInfo.accessExplanation.ctaUrl??void 0,dismiss:e.accessInfo.accessExplanation.dismiss??void 0}:null}function S(e,t){return"Audiobook"===e.__typename?function(e,t){return{type:a.s.AUDIOBOOK,uri:e.uri,name:e.name,coverArt:e.coverArt?.sources??[],narrators:e.narrators?.map((e=>e?.name)).filter(_)??[],sample:"Chapter"===e.trailerV2?.data.__typename?(c=e.trailerV2.data,{type:a.s.CHAPTER,uri:c.uri,name:c.name,coverArt:c.coverArt?.sources||[],audio:c.audio,audioPreview:c.audioPreview,sharingInfo:c.sharingInfo,duration:{milliseconds:c.duration.totalMilliseconds},contentRating:c.contentRating,isPlayable:c.playability.playable}):null,htmlDescription:e.htmlDescription??"",htmlDescriptionPlain:e.htmlDescriptionPlain??"",authorName:e.authors?.map((e=>e?.name)).filter(Boolean).join(s._s.getSeparator())??"",rating:e.rating,isExplicit:e.contentRating?.label===i.A7.Explicit,duration:e.duration?.totalMilliseconds??0,copyrights:e.publisher?(n=e.publisher.name,r=e.copyrights,[(o=n,l="P",{text:o,type:l}),...r.items]):[],publishDate:e.publishDate?new Date(e.publishDate.isoString):null,price:e.price,isLocked:!!t||C(e.accessInfo),consumptionCapExplanation:E(e),signifierText:e.accessInfo?.signifier?.text??void 0,topics:e.genres?.map((e=>({uri:e.destinationUri,title:e.contextualName})))||[]};var n,r,o,l,c}(e,t):v(e)}},25283:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});let s=function(e){return e[e.OFF=0]="OFF",e[e.ON=1]="ON",e[e.SMART_SHUFFLE=2]="SMART_SHUFFLE",e}({})},59252:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var s=n(91832),i=n(25283),r=n(14448);const a={[r.m.OFF]:i.u.OFF,[r.m.LOCAL]:i.u.ON,[r.m.SMART]:i.u.SMART_SHUFFLE};class o{sessionShuffleStates=new Map;constructor(e,t,n){this._contextualShuffle=e,this._events=t,this._syncShuffle=n}_update=(e,t)=>{this.sessionShuffleStates.get(e)!==t&&(this.sessionShuffleStates.set(e,t),this._syncShuffle(e,t).then((()=>{this._events.emitUpdateShuffleModeCompleteSync(e,t)}),(()=>this._events.emitUpdateShuffleModeErrorSync(e,t))))};observe=()=>{this._contextualShuffle.getEvents().addListener(s.c.UPDATE,(e=>{if("shuffle-state"===e.data.storeName){const t=a[e.data.value];this._update(e.data.key,t)}})),this._contextualShuffle.getEvents().addListener(s.c.DELETE,(e=>{"shuffle-state"===e.data.storeName&&this._update(e.data.key,i.u.OFF)}))}}},98384:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,w:()=>i});var s=n(45808);let i=function(e){return e.UPDATE="update",e.UPDATE_COMPLETE="update_complete",e.UPDATE_ERROR="update_error",e}({});class r extends s.u{emitUpdateShuffleModeSync(e,t){const{defaultPrevented:n}=this.emitSync(i.UPDATE,{shuffleMode:t,contextURI:e});return n}emitUpdateShuffleModeCompleteSync(e,t){const{defaultPrevented:n}=this.emitSync(i.UPDATE_COMPLETE,{shuffleMode:t,contextURI:e});return n}emitUpdateShuffleModeErrorSync(e,t){const{defaultPrevented:n}=this.emitSync(i.UPDATE_ERROR,{shuffleMode:t,contextURI:e});return n}}},30716:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var s=n(18380);const i=(e,t)=>{const n=()=>{e.getProductState().then((e=>{t("1"===e?.["dsa-mode-enabled"])}))};n(),e.getEvents().addListener(s.E.PRODUCT_STATE_UPDATE,n)}},91468:(e,t,n)=>{"use strict";n.d(t,{_:()=>r,q:()=>i});var s=n(96651);const i=(0,s.createContext)(null);function r(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use 'ShuffleContext' without 'ShuffleProvider'!");return e}},76908:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var s=n(52276),i=n(25283);const r=e=>{switch(e){case i.u.OFF:return!1;case i.u.ON:case i.u.SMART_SHUFFLE:return!0;default:return(0,s.I)(e),!1}}},90032:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var s=n(25283);function i(e){return"true"===e?.context.metadata?.enhanced_context?s.u.SMART_SHUFFLE:!0===e?.shuffle?s.u.ON:!1===e?.shuffle?s.u.OFF:void 0}},22464:(e,t,n)=>{"use strict";n.d(t,{s:()=>i,u:()=>s});let s=function(e){return e[e.HIGH=.25]="HIGH",e[e.LOW=.1]="LOW",e[e.SING_ALONG_OFF=.99999]="SING_ALONG_OFF",e}({}),i=function(e){return e.ENABLED="enabled",e.DISABLED="disabled",e}({})},2084:(e,t,n)=>{"use strict";n.d(t,{a:()=>p,x:()=>m});var s=n(82428),i=n(94112),r=n(87668);n(73952),n(97296),n(97768);function a(e,t,n){return t.filter((t=>!function(e,t,n){return e.find((e=>e[t]===n))??null}(e,n,t[n])))}var o=n(47752),l=n(12100),c=n(54816);function d(e){const{id:t,username:n,display_name:s,image_url:i,large_image_url:r}=e;return{id:t,username:n,displayName:s,imageUrl:i,largeImageUrl:r}}function u(e){const{timestamp:t,session_id:n,join_session_token:s,session_owner_id:i,session_members:r,join_session_uri:a,is_session_owner:o,active:l,queue_only_mode:c,participantVolumeControl:u}=e;return{timestamp:t,sessionId:n,isSessionOwner:o,joinSessionToken:s??"",sessionOwnerId:i??"",sessionMembers:r?.map(d)??[],joinSessionUri:a??"",queueOnlyMode:c,participantVolumeControl:u??"UNAVAILABLE",active:l??!1}}let m=function(e){return e.DISABLED="DISABLED",e.RESTRICTED="RESTRICTED",e.ENABLED="ENABLED",e}({});class p{socialConnectStatus=m.ENABLED;constructor(e,t,n,r){this.socialConnectServiceClient=e,this.serviceEvents=t,this.urlDispenserServiceClient=n,this.socialConnectProductState=r,this.socialConnectServiceClient=e,this.currentSession=null,this.events=new s.O,this.shortLinkCache=new o.uK,this.serviceEvents.addListener(i.M.SESSION_UPDATE,this.handleSessionUpdate.bind(this)),this.serviceEvents.addListener(i.M.SESSION_MESSAGE,this.handleSessionMessage.bind(this)),this.socialConnectServiceClient.onConnected(this.fetchCurrentSession.bind(this))}handleSessionUpdate({data:e}){if(this.currentSession&&this.currentSession.sessionId&&this.currentSession.sessionId!==e.session.session_id)return;const t=u(e.session);if(this.isSessionNewer(t))switch(e.reason){case c.Ge.YOU_LEFT:case c.Ge.YOU_WERE_KICKED:case c.Ge.SESSION_DELETED:this.shortLinkCache.clear(),this.setCurrentSession(null,e.reason);break;default:this.setCurrentSession(t,e.reason)}}handleSessionMessage({data:e}){this.events.emit(s.E.SESSION_MESSAGE,e.userMessage)}isSessionNewer(e){const t=parseInt(this.currentSession?.timestamp??"0",10);return parseInt(e.timestamp,10)>t}getEnabled(){return this.socialConnectStatus}getJamExperience(){return this.socialConnectProductState.getJamExperience()}getCurrentSession(){return this.currentSession}setCurrentSession(e,t){if(t===c.Ge.SESSION_DELETED){const e=this.currentSession?.sessionMembers.find((({id:e})=>e===this.currentSession?.sessionOwnerId))?.displayName??null;this.events.emit(s.E.SESSION_ENDED,{sessionId:this.currentSession?.sessionId??null,isSessionOwner:this.currentSession?.isSessionOwner??null,hostDisplayName:e})}if(t===c.Ge.USER_JOINED){if(e&&!this.isSessionNewer(e)||this.currentSession?.sessionId&&e?.sessionId!==this.currentSession?.sessionId||!e||!this.currentSession)return;const t=a(this.currentSession.sessionMembers,e.sessionMembers,"id");if(!t?.length)return;const n=Array.from(t,(e=>e.displayName));this.events.emit(s.E.JOINED,{sessionId:this.currentSession?.sessionId??null,isSessionOwner:this.currentSession?.isSessionOwner??null,users:n})}if(t===c.Ge.USER_LEFT){if(e&&!this.isSessionNewer(e)||this.currentSession?.sessionId&&e?.sessionId!==this.currentSession?.sessionId||!e||!this.currentSession)return;const t=a(e.sessionMembers,this.currentSession.sessionMembers,"id");if(!t)return;const n=Array.from(t,(e=>e.displayName));this.events.emit(s.E.LEFT,{sessionId:this.currentSession?.sessionId??null,isSessionOwner:this.currentSession?.isSessionOwner??null,users:n})}this.currentSession=e,this.events.emit(s.E.UPDATE,e)}getEvents(){return this.events}handleSessionResponse(e){if(!e)return this.setCurrentSession(null,c.Ge.UNKNOWN_UPDATE_TYPE),null;const t=u(e);return(e.session_id!==this.currentSession?.sessionId||this.isSessionNewer(t))&&this.setCurrentSession(t,c.Ge.UNKNOWN_UPDATE_TYPE),t}async fetchCurrentSession(){try{const e=await this.socialConnectServiceClient.fetchCurrentSession();return this.handleSessionResponse(e)}catch(e){return(0,r.W8)(e),null}}async createSession(){try{const e=await this.socialConnectServiceClient.createSession();return this.handleSessionResponse(e)}catch(e){return(0,r.W8)(e),null}}async leaveSession(){if(this.currentSession)try{const e=await this.socialConnectServiceClient.leaveSession(this.currentSession.sessionId);return e&&this.setCurrentSession(null,c.Ge.YOU_LEFT),e}catch(e){return(0,r.W8)(e),!1}return!1}async deleteSession(){if(this.currentSession)try{const e=await this.socialConnectServiceClient.deleteSession(this.currentSession.sessionId);return e&&this.setCurrentSession(null,c.Ge.SESSION_DELETED),e}catch(e){return(0,r.W8)(e),!1}return!1}async joinSession(e,t,n){const s=await this.socialConnectServiceClient.joinSession(e,t,n);return this.handleSessionResponse(s)}async getSessionInfo(e){const t=await this.socialConnectServiceClient.getSessionInfo(e);return t?u(t):null}async removeSessionMember(e){if(this.currentSession)try{const t=await this.socialConnectServiceClient.removeSessionMember(this.currentSession.sessionId,e);return this.handleSessionResponse(t)}catch(e){return(0,r.W8)(e),null}return null}async kickAllParticipants(e){if(this.currentSession)try{const t=await this.socialConnectServiceClient.kickAllParticipants(e);return this.handleSessionResponse(t)}catch(e){return(0,r.W8)(e),null}return null}async getShortInviteLink(){if(!this.currentSession)return null;const e=this.currentSession.joinSessionToken,t=this.shortLinkCache.get(e);if(t)return t;try{const t={utm_campaign:null,utm_term:null,utm_medium:"share-link",utm_content:null,utm_source:"share-options-sheet"},n=[{key:"ssp",value:"1"},{key:"app_destination",value:"socialsession"}],s={title:l._s.get("web-player.social-connect.share.title"),image_url:`https://shareables.scdn.co/publish/socialsession/${e}`},i=await this.urlDispenserServiceClient.getShortUrl(this.currentSession.joinSessionUri,t,n,s),r={spotifyUri:i.spotify_uri,shareableUrl:i.shareable_url,shareId:i.share_id};return this.shortLinkCache.set(e,r),r}catch(e){return(0,r.W8)(e),null}}async setQueueOnlyMode(e){const t=await this.socialConnectServiceClient.setQueueOnlyMode(e);return this.handleSessionResponse(t)}async setParticipantVolumeControl(e){const t=await this.socialConnectServiceClient.setParticipantVolumeControl(e);return this.handleSessionResponse(t)}}},56828:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});n(73952),n(39568);var s=n(79592),i=n(94112),r=n(54816);class a extends i.A{_update_subscription=null;_message_subscription=null;constructor(e){super(),this._pubSubAPI=e}subscribeToUpdates(){this._update_subscription||(this._update_subscription=this._pubSubAPI.subscribe({ident:"social-connect/v2/session_update",onMessage:e=>this.onSessionUpdate(e)}))}unsubscribeToUpdates(){null!==this._update_subscription&&this._update_subscription.cancel()}onSessionUpdate(e){e.payloads.forEach((e=>{const t=JSON.parse((0,s.MR)(e));(0,r.WY)(t)&&this.emit(i.M.SESSION_UPDATE,t)}))}subscribeToMessages(){this._message_subscription||(this._message_subscription=this._pubSubAPI.subscribe({ident:"social-connect/v2/session_messages",onMessage:e=>this.onSessionMessage(e)}))}unsubscribeToMessages(){null!==this._message_subscription&&this._message_subscription.cancel()}onSessionMessage(e){e.payloads.forEach((e=>{const t=JSON.parse((0,s.MR)(e));(0,r.Q5)(t)&&this.emit(i.M.SESSION_MESSAGE,t)}))}}},54872:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});var s=n(2084);class i extends s.a{constructor(e,t,n,i){super(e,t,n,i),this.socialConnectStatus=s.x.DISABLED}}},63720:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});class s{async fetchCurrentSession(){return null}async createSession(){return null}async leaveSession(e){return!1}async deleteSession(e){return!1}async joinSession(e,t,n){return null}async getSessionInfo(){return null}async removeSessionMember(){return null}async kickAllParticipants(){return null}async setParticipantVolumeControl(){return null}onConnected(){}async setQueueOnlyMode(){return null}}},95517:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});var s=n(94112);class i extends s.A{subscribeToUpdates(){}unsubscribeToUpdates(){}subscribeToMessages(){}unsubscribeToMessages(){}}},82428:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,O:()=>r});var s=n(45808);let i=function(e){return e.UPDATE="update",e.SESSION_ENDED="session_ended",e.JOINED="joined",e.LEFT="left",e.SESSION_MESSAGE="session_message",e}({});class r extends s.u{}},94112:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,M:()=>i});var s=n(45808);let i=function(e){return e.SESSION_UPDATE="SESSION_UPDATE",e.SESSION_MESSAGE="SESSION_MESSAGE",e}({});class r extends s.u{numUpdateListeners=0;numMessageListeners=0;constructor(){super(),this.onAddListener(i.SESSION_UPDATE,(()=>{this.numUpdateListeners++,1===this.numUpdateListeners&&this.subscribeToUpdates()})),this.onRemoveListener(i.SESSION_UPDATE,(()=>{this.numUpdateListeners--,0===this.numUpdateListeners&&this.unsubscribeToUpdates()})),this.onAddListener(i.SESSION_MESSAGE,(()=>{this.numMessageListeners++,1===this.numMessageListeners&&this.subscribeToMessages()})),this.onRemoveListener(i.SESSION_MESSAGE,(()=>{this.numMessageListeners--,0===this.numMessageListeners&&this.unsubscribeToMessages()}))}}},89940:(e,t,n)=>{"use strict";n.d(t,{C:()=>i,y:()=>r});var s=n(96651);const i=(0,s.createContext)(null);function r(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use 'SocialConnectAPIContext' without 'SocialConnectAPIProvider'!");return e}},86477:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var s=n(89940);function i(){return(0,s.y)().getEnabled()}},51760:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var s=n(96651),i=n(89940),r=n(57080);const a=()=>{const e=(0,i.y)();return{currentSession:(0,s.useContext)(r.g),createSession:(0,s.useCallback)((()=>e.createSession()),[e]),leaveSession:(0,s.useCallback)((()=>e.leaveSession()),[e]),deleteSession:(0,s.useCallback)((()=>e.deleteSession()),[e]),joinSession:(0,s.useCallback)(((t,n,s)=>e.joinSession(t,n,s)),[e]),refreshCurrentSession:(0,s.useCallback)((()=>e.fetchCurrentSession()),[e]),getSessionInfo:(0,s.useCallback)((t=>e.getSessionInfo(t)),[e]),removeSessionMember:(0,s.useCallback)((t=>e.removeSessionMember(t)),[e]),kickAllParticipants:(0,s.useCallback)((t=>e.kickAllParticipants(t)),[e]),getShortInviteLink:(0,s.useCallback)((()=>e.getShortInviteLink()),[e]),setQueueOnlyMode:(0,s.useCallback)((t=>e.setQueueOnlyMode(t)),[e]),setParticipantVolumeControl:(0,s.useCallback)((t=>e.setParticipantVolumeControl(t)),[e])}}},11160:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var s=n(96651),i=n(89940);function r(e,t){const n=(0,s.useRef)(t),r=(0,i.y)();n.current=t,(0,s.useEffect)((()=>{const t=e=>n.current(e);return r.getEvents().addListener(e,t),()=>{r.getEvents().removeListener(e,t)}}),[r,e])}},87220:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var s=n(2084);class i extends s.a{constructor(e,t,n,i){super(e,t,n,i),this.socialConnectStatus=s.x.RESTRICTED}}},99748:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var s=n(49743);class i{constructor(e){this.transport=e}onConnected(e){this.transport.on(s.TransportEvent.CONNECTED,e),this.transport.on(s.TransportEvent.RECONNECTED,e)}async getSessionInfo(e){const{body:t}=await this.transport.request(`@webgate/social-connect/v2/sessions/info/${e}`,{responseType:"json"});return t}async fetchCurrentSession(){return null}async createSession(){return null}async leaveSession(){return!1}async deleteSession(){return!1}async joinSession(){return null}async removeSessionMember(){return null}async kickAllParticipants(){return null}async setQueueOnlyMode(){return null}async setParticipantVolumeControl(){return null}}},59636:(e,t,n)=>{"use strict";n.d(t,{C:()=>i,I:()=>s});let s=function(e){return e.DISABLED="DISABLED",e.RESTRICTED="RESTRICTED",e.ENABLED="ENABLED",e}({}),i=function(e){return e.NONE="NONE",e.UNKNOWN="UNKNOWN",e.FREE="FREE",e.PREMIUM="PREMIUM",e}({})},54816:(e,t,n)=>{"use strict";n.d(t,{Ge:()=>s,Q5:()=>a,WY:()=>i,cl:()=>r});let s=function(e){return e.UNKNOWN_UPDATE_TYPE="UNKNOWN_UPDATE_TYPE",e.NEW_SESSION="NEW_SESSION",e.USER_JOINED="USER_JOINED",e.USER_LEFT="USER_LEFT",e.SESSION_DELETED="SESSION_DELETED",e.YOU_LEFT="YOU_LEFT",e.YOU_WERE_KICKED="YOU_WERE_KICKED",e.YOU_JOINED="YOU_JOINED",e.PARTICIPANT_PROMOTED_TO_HOST="PARTICIPANT_PROMOTED_TO_HOST",e.USER_KICKED="USER_KICKED",e.VOLUME_CONTROL_PERMISSIONS_CHANGED="VOLUME_CONTROL_PERMISSIONS_CHANGED",e.QUEUE_ONLY_MODE_CONTROL_CHANGED="QUEUE_ONLY_MODE_CONTROL_CHANGED",e.WIFI_BROADCAST_CHANGED="WIFI_BROADCAST_CHANGED",e.ACTIVE_DEVICE_CHANGED="ACTIVE_DEVICE_CHANGED",e}({});function i(e){return"object"==typeof e&&null!==e&&"session"in e&&"reason"in e&&"string"==typeof e.reason&&e.reason in s}let r=function(e){return e.UNKNOWN="UNKNOWN",e.PERMISSIONS_RESTRICTED_GENERIC="PERMISSIONS_RESTRICTED_GENERIC",e.CONNECTIVITY_ISSUES="CONNECTIVITY_ISSUES",e.CONTENT_ISSUES="CONTENT_ISSUES",e.NO_HOST_ACTIVE_DEVICE="NO_HOST_ACTIVE_DEVICE",e.GENERIC_ERROR="GENERIC_ERROR",e}({});function a(e){return"object"==typeof e&&null!==e&&"userMessage"in e&&"string"==typeof e.userMessage&&e.userMessage in r}},84012:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var s=n(49743);const i="@webgate/social-connect";class r{constructor(e){this.transport=e}onConnected(e){this.transport.on(s.TransportEvent.CONNECTED,e),this.transport.on(s.TransportEvent.RECONNECTED,e)}async fetchCurrentSession(){const{body:e,ok:t,status:n}=await this.transport.request(`${i}/v2/sessions/current`,{responseType:"json"});if(t)return e;if(404===n)return null;throw new Error(`Failed to fetch Jam session with status ${n}`)}async createSession(){const{body:e,ok:t,status:n}=await this.transport.request(`${i}/v2/sessions/current_or_new?activate=true`,{responseType:"json"});if(t)return e;throw new Error(`Failed to create Jam session with status ${n}`)}async leaveSession(e){const{ok:t,status:n}=await this.transport.request(`${i}/v3/sessions/${e}/leave`,{responseType:"json",method:"POST"});if(t||404===n)return!0;throw new Error(`Failed to leave Jam session with status ${n}`)}async deleteSession(e){const{ok:t,status:n}=await this.transport.request(`${i}/v3/sessions/${e}`,{responseType:"json",method:"DELETE"});if(t||404===n)return!0;throw new Error(`Failed to delete Jam session with status ${n}`)}async joinSession(e,t,n){const s=new URLSearchParams;s.set("playback_control","REMOTE"===t?"listen_and_control":"control"),n&&s.set("local_device_id",n);const{body:r,ok:a,status:o}=await this.transport.request(`${i}/v2/sessions/join/${e}?${s.toString()}`,{responseType:"json",method:"POST"});if(a)return r;throw new Error(`Failed to join Jam session with status ${o}`)}async getSessionInfo(e){const{body:t,ok:n,status:s}=await this.transport.request(`${i}/v2/sessions/info/${e}`,{responseType:"json"});if(n)return t;if(404===s)return null;throw new Error(`Failed to get Jam session info with status ${s}`)}async removeSessionMember(e,t){const{body:n,ok:s,status:r}=await this.transport.request(`${i}/v3/sessions/${e}/member/${t}/kick`,{method:"POST",responseType:"json"});if(s)return n;throw new Error(`Failed to remove user from Jam session with status ${r}`)}async kickAllParticipants(e){const{body:t,ok:n,status:s}=await this.transport.request(`${i}/v3/sessions/${e}/participant/all/kick`,{method:"POST",responseType:"json"});if(n)return t;throw new Error(`Failed to kick all users from Jam session with status ${s}`)}async setQueueOnlyMode(e){const{body:t,ok:n,status:r}=await this.transport.request(`${i}/v2/sessions/current/queue_only_mode/${e?"enabled":"disabled"}`,{responseType:"json",method:s.Method.PUT});if(n)return t;throw new Error(`Failed to set queue only mode with status ${r}`)}async setParticipantVolumeControl(e){const{body:t,ok:n,status:r}=await this.transport.request(`${i}/v2/sessions/current/volume_control/${e?"ENABLED":"DISABLED"}`,{responseType:"json",method:s.Method.PUT});if(n)return t;throw new Error(`Failed to set queue only mode with status ${r}`)}}},62692:(e,t,n)=>{"use strict";n.d(t,{Ef:()=>c,M7:()=>r,S2:()=>a,S8:()=>o,WI:()=>u,eG:()=>d,wt:()=>l});n(41260);var s=n(84340),i=n(72032);const r=({albumArtists:e,albumName:t,albumType:n,shouldLocalize:r,i18n:a})=>{if(!n||!t||!e)return"";const o=n!==s.s1.Ep?(e=>e.charAt(0).toUpperCase()+e.toLowerCase().slice(1))(n):n,l=(0,i.E)(n),c=`${t} - ${o} by ${e} | Spotify`,d=a.get("i18n.meta.album.title",t,l,e);return r?d:c},a=({artistName:e})=>e?`${e} | Spotify`:"",o=({showOrAudiobookName:e,type:t})=>e?`${e} | ${t} on Spotify`:"",l=({episodeOrChapterName:e,showOrAudiobookName:t,type:n})=>e&&t?`${e} - ${t} | ${n} on Spotify`:"",c=({playlistName:e,userName:t,isSpotifyOwned:n=!1})=>{if(!e||!t)return"";return`${e}${n?"":` - playlist by ${t}`} | ${n?"Spotify Playlist":"Spotify"}`},d=({i18n:e,trackArtistsList:t,trackName:n,shouldLocalize:s})=>{if(!t||!n)return"";const i=`${n} - song and lyrics by ${t} | Spotify`,r=e.get("i18n.meta.track-lyrics.title",n,t);return s?r:i},u=({i18n:e,shouldLocalize:t})=>{const n=e.get("i18n.meta.home.title");return t?n:"Spotify - Web Player: Music for everyone"}},71128:(e,t,n)=>{"use strict";n.d(t,{G:()=>r,s:()=>i});let s=null;function i(e){s=e}function r(){if(null===s)throw new Error("Missing `instance`. Have you called `setTransportInstance` yet?");return s}},29972:(e,t,n)=>{"use strict";function s(e){return async()=>{const t=await e();if(null===t)throw new Error("Token is currently unavailable.");const{accessToken:n,accessTokenExpirationTimestampMs:s}=t;return[n,Math.floor(((s||0)-Date.now())/1e3)]}}n.d(t,{u:()=>s})},71973:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});var s=n(29972);const i={disconnectBeforeUnload:!0,reconnectionRetries:3,requestMode:"fetch"};function r(e,t,n,r={}){return e({providers:{endpoints:t,token:(0,s.u)(n)},...i,...r})}},67656:(e,t,n)=>{"use strict";n.d(t,{u:()=>l});var s=n(48112);const i="https://apresolve.spotify.com/",r="https://api.spotify.com/";var a=function(e){return e.DEALER="dealer",e.WEBGATE="spclient",e}(a||{});const o=3e3;function l({timeout:e=o}={}){const t=function(e){const t=`${i}?type=${a.DEALER}&type=${a.WEBGATE}`;return async()=>{const n=new AbortController,s=setTimeout((()=>n.abort()),e);let i;try{const e=await fetch(t,{signal:n.signal});clearTimeout(s),i=await e.json()}catch(t){if(n.signal.aborted)throw new Error(`x-resolve request timed out after ${e} ms`);throw t}if(!Array.isArray(i[a.DEALER])||!Array.isArray(i[a.WEBGATE])||0===i[a.DEALER].length||0===i[a.WEBGATE].length)throw new Error("x-resolve responded with incomplete results");const o=i[a.DEALER][0],l=i[a.WEBGATE][0];return{dealer:`wss://${o.replace(/:443$/,"")}`,webgate:`https://${l.replace(/:443$/,"")}`,webapi:r}}}(e),n=(0,s.O)({});return async function(e){try{return await t(e)}catch(t){return console.error("Failed to resolve endpoints via x-resolve. Using fallbacks!",t),await n(e)}}}},34468:(e,t,n)=>{"use strict";function s(e,t={}){return void 0===e?t:{...e,...t}}n.d(t,{i:()=>s})},19252:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var s=n(68016);class i{constructor(e){this.ubiLogger=e}logInteraction(e){return {interactionId:null,pageInstanceId:null};const t=this.ubiLogger.logInteraction.bind(this.ubiLogger),n=this.ubiLogger.getPageInstanceId()??void 0;if("ui_navigate"!==e.actionName){return{interactionId:t(e),pageInstanceId:n}}const s=this.formatUiNavigateEvent(e),i=t(s);return this.interaction={id:i,event:s},{interactionId:i,pageInstanceId:n}}logImpression(e){return;return this.ubiLogger.logImpression(e)}logNavigation(e){return;this.ubiLogger.logNavigationStart(e),this.ubiLogger.logNavigationEnd({pageId:e.pageId,entityUri:e.entityUri}),this.interaction=void 0}getInteractionId(e){if(!this.interaction)return;const{event:t,id:n}=this.interaction,s=t.actionParameterNames?.findIndex((e=>"destination"===e));if(void 0===s||-1===s)return;const i=t.actionParameterValues?.[s];if(i&&i===e)return n}formatUiNavigateEvent=e=>{const t=e.actionParameterNames?.findIndex((e=>"destination"===e));return void 0===t||-1===t?e:{...e,actionParameterValues:e.actionParameterValues?.map(((e,n)=>n!==t?e:(0,s.e)(e)??""))}}}},40636:(e,t,n)=>{"use strict";n.d(t,{qi:()=>s.q,Ud:()=>d.U,ol:()=>i.o,K2:()=>c,Mk:()=>i.M,gp:()=>r.g});var s=n(54748),i=n(87460),r=n(39748),a=n(96651),o=n(49560),l=n(71796);const c=(e,t=!0)=>{const n=(0,o.qK)(),s=(0,a.useRef)(null),i=(0,a.useMemo)((()=>{if(t)return e?.impression()}),[t,e]);return(0,l.c5)((()=>{if(s.current&&n&&i){return n.addToObservableEntities({impression:()=>i,element:s.current})||void 0}}),[n,i]),(0,a.useCallback)((e=>{s.current=e}),[])};var d=n(97015)},68016:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});n(58032),n(78924),n(99696),n(63120),n(72248),n(1384),n(41256);var s=n(14788);const i=new Set([s.cH.ALBUM,s.cH.ARTIST,s.cH.PLAYLIST,s.cH.PLAYLIST_V2,s.cH.TRACK,s.cH.EPISODE,s.cH.SHOW,s.cH.LOCAL_TRACK]),r=e=>{const t=(0,s.nX)(e);if(!t)return;if((0,s.e_)(t))return i.has(t.id)?t.toString().replace(":app:",":"):t.toString();if(i.has(t.type))return t.toString();const n=t.args||t.query&&[t.query]||t.category&&[t.category]||void 0,r=(0,s.IF)(t.type,n);return r?.toString()??void 0}},39768:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});class s{constructor(e){this.transport=e}async getShortUrl(e,t,n,s){const{body:i,ok:r}=await this.transport.request("@webgate/url-dispenser/v1/generate-url?format=json",{method:"POST",payload:JSON.stringify({spotify_uri:e,custom_data:n,link_preview:s,utm_parameters:t})});if(r)return JSON.parse(i);throw new Error(`Failed to get short link for uri ${e}`)}}},18380:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,W:()=>r});var s=n(45808);let i=function(e){return e.PRODUCT_STATE_UPDATE="productStateUpdate",e}({});class r extends s.u{emitProductStateUpdate(){const{defaultPrevented:e}=this.emitSync(i.PRODUCT_STATE_UPDATE,{});return e}}},35948:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var s=n(88272);n(99972);const i=Spicetify.GraphQL.Definitions["profileAndAccountAttributes"]=new s.a("profileAndAccountAttributes","query","e0298c5d974e4713ffdcc14980b285cd8e0826412c1ce33db57e0e576fea0f68",null)},85312:(e,t,n)=>{"use strict";n.d(t,{g:()=>i,u:()=>r});var s=n(96651);const i=(0,s.createContext)(null);function r(){const e=(0,s.useContext)(i);if(null===e)throw new Error("Trying to use 'UserAPIContext' without 'UserAPIProvider'!");return e}},99432:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var s=n(96651),i=n(85312);function r(){const e=(0,i.u)(),[t,n]=(0,s.useState)(!0),[r,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(null);return(0,s.useEffect)((()=>{let t=!0;return e.getProductState().then((e=>{t&&a(e)})).catch((e=>{t&&l(e)})).finally((()=>{t&&n(!1)})),()=>{t=!1}}),[e]),{isLoading:t,data:r,error:o}}},72888:(e,t,n)=>{"use strict";n.d(t,{o:()=>l});var s=n(12924),i=n(40468),r=n(85312),a=n(96651),o=n(18380);const l=e=>{const t=(0,r.u)(),n=(0,s.q$)(),{data:l}=(0,i.U)({queryKey:["useProductStateValue"],queryFn:async()=>await t.getProductState(!1),select:t=>t?.[e]??null,gcTime:3e5});return(0,a.useEffect)((()=>{const e=()=>{n.invalidateQueries({queryKey:["useProductStateValue"]})};return t.getEvents().addListener(o.E.PRODUCT_STATE_UPDATE,e),()=>{t.getEvents().removeListener(o.E.PRODUCT_STATE_UPDATE,e)}}),[e,n,t]),l??null}},42444:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var s=n(14788);function i(e){const t=(0,s.nX)(e);if(null===t||void 0===t.username)throw new Error("Invalid URI or URI does not contain username!");return t.username}},39772:(e,t,n)=>{"use strict";n.d(t,{iC:()=>c,me:()=>o,ob:()=>r,wl:()=>l});var s=n(12100),i=n(52276);const r={[s.u2.en]:{displayName:"English",displayNameEn:"English"},[s.u2.af]:{displayName:"Afrikaans",displayNameEn:"Afrikaans"},[s.u2.am]:{displayName:"አማርኛ",displayNameEn:"Amharic"},[s.u2.ar]:{displayName:"العَرَبِيَّة",displayNameEn:"Arabic",isRTL:!0},[s.u2.arEG]:{displayName:"عربي مصري",displayNameEn:"Arabic (Egypt)",isRTL:!0},[s.u2.arMA]:{displayName:"العَرَبِيَّة مغربي",displayNameEn:"Arabic (Morocco)",isRTL:!0},[s.u2.arSA]:{displayName:"العربية السعودية",displayNameEn:"Arabic (Saudi Arabia)",isRTL:!0},[s.u2.az]:{displayName:"Azərbaycanca",displayNameEn:"Azerbaijani"},[s.u2.bg]:{displayName:"Български",displayNameEn:"Bulgarian"},[s.u2.bho]:{displayName:"भोजपुरी",displayNameEn:"Bhojpuri"},[s.u2.bn]:{displayName:"বাংলা",displayNameEn:"Bengali"},[s.u2.bs]:{displayName:"Bosanski",displayNameEn:"Bosnian"},[s.u2.ca]:{displayName:"Català",displayNameEn:"Catalan"},[s.u2.cs]:{displayName:"Čeština",displayNameEn:"Czech"},[s.u2.da]:{displayName:"Dansk",displayNameEn:"Danish"},[s.u2.de]:{displayName:"Deutsch",displayNameEn:"German"},[s.u2.el]:{displayName:"Eλληνικά",displayNameEn:"Greek"},[s.u2.enGB]:{displayName:"English",displayNameEn:"United Kingdom"},[s.u2.es]:{displayName:"Español de España",displayNameEn:"European Spanish"},[s.u2.esAR]:{displayName:"Español (Argentina)",displayNameEn:"Spanish (Argentina)"},[s.u2.esMX]:{displayName:"Español (México)",displayNameEn:"Spanish (Mexico)"},[s.u2.es419]:{displayName:"Español de Latinoamérica",displayNameEn:"Latin American Spanish"},[s.u2.et]:{displayName:"Eesti",displayNameEn:"Estonian"},[s.u2.eu]:{displayName:"Euskara",displayNameEn:"Basque"},[s.u2.fa]:{displayName:"فارسی",displayNameEn:"Persian",isRTL:!0},[s.u2.fi]:{displayName:"Suomeksi",displayNameEn:"Finnish"},[s.u2.fil]:{displayName:"Filipino",displayNameEn:"Filipino"},[s.u2.fr]:{displayName:"Français",displayNameEn:"French"},[s.u2.frCA]:{displayName:"Français Canadien",displayNameEn:"Canadian French"},[s.u2.gl]:{displayName:"Galego",displayNameEn:"Galician"},[s.u2.gu]:{displayName:"ગુજરાતી",displayNameEn:"Gujarati"},[s.u2.he]:{displayName:"עברית",displayNameEn:"Hebrew",isRTL:!0},[s.u2.hi]:{displayName:"हिन्दी",displayNameEn:"Hindi"},[s.u2.hr]:{displayName:"Hrvatski",displayNameEn:"Croatian"},[s.u2.hu]:{displayName:"Magyar",displayNameEn:"Hungarian"},[s.u2.id]:{displayName:"Bahasa Indonesia",displayNameEn:"Indonesian"},[s.u2.is]:{displayName:"Íslenska",displayNameEn:"Icelandic"},[s.u2.it]:{displayName:"Italiano",displayNameEn:"Italian"},[s.u2.ja]:{displayName:"日本語",displayNameEn:"Japanese"},[s.u2.kn]:{displayName:"ಕನ್ನಡ",displayNameEn:"Kannada"},[s.u2.ko]:{displayName:"한국어",displayNameEn:"Korean"},[s.u2.lt]:{displayName:"Lietuvių",displayNameEn:"Lithuanian"},[s.u2.lv]:{displayName:"Latviešu",displayNameEn:"Latvian"},[s.u2.mk]:{displayName:"Македонски",displayNameEn:"Macedonian"},[s.u2.ml]:{displayName:"മലയാളം",displayNameEn:"Malayalam"},[s.u2.mr]:{displayName:"मराठी",displayNameEn:"Marathi"},[s.u2.ms]:{displayName:"Melayu",displayNameEn:"Malay"},[s.u2.nb]:{displayName:"Norsk",displayNameEn:"Norwegian"},[s.u2.ne]:{displayName:"नेपाली",displayNameEn:"Nepali"},[s.u2.nl]:{displayName:"Nederlands",displayNameEn:"Dutch"},[s.u2.or]:{displayName:"ଓଡ଼ିଆ",displayNameEn:"Odia"},[s.u2.paIN]:{displayName:"ਪੰਜਾਬੀ",displayNameEn:"Punjabi"},[s.u2.paPK]:{displayName:"پنجابی",displayNameEn:"Punjabi (Naskh)",isRTL:!0},[s.u2.pl]:{displayName:"Polski",displayNameEn:"Polish"},[s.u2.ptBR]:{displayName:"Português do Brasil",displayNameEn:"Brazilian Portuguese"},[s.u2.ptPT]:{displayName:"Português",displayNameEn:"European Portuguese"},[s.u2.ro]:{displayName:"Română",displayNameEn:"Romanian"},[s.u2.ru]:{displayName:"Русский",displayNameEn:"Russian"},[s.u2.sk]:{displayName:"Slovenčina",displayNameEn:"Slovak"},[s.u2.sl]:{displayName:"Slovenski",displayNameEn:"Slovenian"},[s.u2.sr]:{displayName:"Srpski",displayNameEn:"Serbian"},[s.u2.sv]:{displayName:"Svenska",displayNameEn:"Swedish"},[s.u2.sw]:{displayName:"Kiswahili",displayNameEn:"Swahili"},[s.u2.ta]:{displayName:"தமிழ்",displayNameEn:"Tamil"},[s.u2.te]:{displayName:"తెలుగు",displayNameEn:"Telugu"},[s.u2.th]:{displayName:"ภาษาไทย",displayNameEn:"Thai"},[s.u2.tr]:{displayName:"Türkçe",displayNameEn:"Turkish"},[s.u2.uk]:{displayName:"Українська",displayNameEn:"Ukrainian"},[s.u2.ur]:{displayName:"اردو",displayNameEn:"Urdu",isRTL:!0},[s.u2.vi]:{displayName:"Tiếng Việt",displayNameEn:"Vietnamese"},[s.u2.zhCN]:{displayName:"简体中文",displayNameEn:"Simplified Chinese"},[s.u2.zhHK]:{displayName:"繁體中文 (香港)",displayNameEn:"Chinese (Traditional) Hong Kong"},[s.u2.zhTW]:{displayName:"中文",displayNameEn:"Traditional Chinese"},[s.u2.zu]:{displayName:"IsiZulu",displayNameEn:"Zulu"}},a=[s.u2.en,s.u2.af,s.u2.am,s.u2.ar,s.u2.arEG,s.u2.arMA,s.u2.arSA,s.u2.az,s.u2.bg,s.u2.bho,s.u2.bn,s.u2.bs,s.u2.ca,s.u2.cs,s.u2.da,s.u2.de,s.u2.el,s.u2.enGB,s.u2.es,s.u2.es419,s.u2.esAR,s.u2.esMX,s.u2.et,s.u2.eu,s.u2.fa,s.u2.fi,s.u2.fil,s.u2.fr,s.u2.frCA,s.u2.gl,s.u2.gu,s.u2.he,s.u2.hi,s.u2.hr,s.u2.hu,s.u2.id,s.u2.is,s.u2.it,s.u2.ja,s.u2.kn,s.u2.ko,s.u2.lt,s.u2.lv,s.u2.mk,s.u2.ml,s.u2.mr,s.u2.ms,s.u2.nb,s.u2.ne,s.u2.nl,s.u2.or,s.u2.paIN,s.u2.paPK,s.u2.pl,s.u2.ptBR,s.u2.ptPT,s.u2.ro,s.u2.ru,s.u2.sk,s.u2.sl,s.u2.sr,s.u2.sv,s.u2.sw,s.u2.ta,s.u2.te,s.u2.th,s.u2.tr,s.u2.uk,s.u2.ur,s.u2.vi,s.u2.zhCN,s.u2.zhHK,s.u2.zhTW,s.u2.zu],o=[...a],l=[...a],c=e=>{switch(e){case s.u2.en:return s._s.get("locale.en");case s.u2.af:return s._s.get("locale.af");case s.u2.am:return s._s.get("locale.am");case s.u2.ar:return s._s.get("locale.ar");case s.u2.arEG:return s._s.get("locale.ar-EG");case s.u2.arMA:return s._s.get("locale.ar-MA");case s.u2.arSA:return s._s.get("locale.ar-SA");case s.u2.az:return s._s.get("locale.az");case s.u2.bg:return s._s.get("locale.bg");case s.u2.bho:return s._s.get("locale.bho");case s.u2.bn:return s._s.get("locale.bn");case s.u2.bs:return s._s.get("locale.bs");case s.u2.ca:return s._s.get("locale.ca");case s.u2.cs:return s._s.get("locale.cs");case s.u2.da:return s._s.get("locale.da");case s.u2.de:return s._s.get("locale.de");case s.u2.el:return s._s.get("locale.el");case s.u2.enGB:return s._s.get("locale.en-GB");case s.u2.es:return s._s.get("locale.es");case s.u2.es419:return s._s.get("locale.es-419");case s.u2.esAR:return s._s.get("locale.es-AR");case s.u2.esMX:return s._s.get("locale.es-MX");case s.u2.et:return s._s.get("locale.et");case s.u2.eu:return s._s.get("locale.eu");case s.u2.fa:return s._s.get("locale.fa");case s.u2.fi:return s._s.get("locale.fi");case s.u2.fil:return s._s.get("locale.fil");case s.u2.fr:return s._s.get("locale.fr");case s.u2.frCA:return s._s.get("locale.fr-CA");case s.u2.gl:return s._s.get("locale.gl");case s.u2.gu:return s._s.get("locale.gu");case s.u2.he:return s._s.get("locale.he");case s.u2.hi:return s._s.get("locale.hi");case s.u2.hr:return s._s.get("locale.hr");case s.u2.hu:return s._s.get("locale.hu");case s.u2.id:return s._s.get("locale.id");case s.u2.is:return s._s.get("locale.is");case s.u2.it:return s._s.get("locale.it");case s.u2.ja:return s._s.get("locale.ja");case s.u2.kn:return s._s.get("locale.kn");case s.u2.ko:return s._s.get("locale.ko");case s.u2.lt:return s._s.get("locale.lt");case s.u2.lv:return s._s.get("locale.lv");case s.u2.mk:return s._s.get("locale.mk");case s.u2.ml:return s._s.get("locale.ml");case s.u2.mr:return s._s.get("locale.mr");case s.u2.ms:return s._s.get("locale.ms");case s.u2.nb:return s._s.get("locale.nb");case s.u2.ne:return s._s.get("locale.ne");case s.u2.nl:return s._s.get("locale.nl");case s.u2.or:return s._s.get("locale.or");case s.u2.paIN:return s._s.get("locale.pa-IN");case s.u2.paPK:return s._s.get("locale.pa-PK");case s.u2.pl:return s._s.get("locale.pl");case s.u2.ptBR:return s._s.get("locale.pt-BR");case s.u2.ptPT:return s._s.get("locale.pt-PT");case s.u2.ro:return s._s.get("locale.ro");case s.u2.ru:return s._s.get("locale.ru");case s.u2.sk:return s._s.get("locale.sk");case s.u2.sl:return s._s.get("locale.sl");case s.u2.sr:return s._s.get("locale.sr");case s.u2.sv:return s._s.get("locale.sv");case s.u2.sw:return s._s.get("locale.sw");case s.u2.ta:return s._s.get("locale.ta");case s.u2.te:return s._s.get("locale.te");case s.u2.th:return s._s.get("locale.th");case s.u2.tr:return s._s.get("locale.tr");case s.u2.uk:return s._s.get("locale.uk");case s.u2.ur:return s._s.get("locale.ur");case s.u2.vi:return s._s.get("locale.vi");case s.u2.zhCN:return s._s.get("locale.zh-CN");case s.u2.zhHK:return s._s.get("locale.zh-HK");case s.u2.zhTW:return s._s.get("locale.zh-TW");case s.u2.zu:return s._s.get("locale.zu");default:return(0,i.E)(e)}}},84340:(e,t,n)=>{"use strict";n.d(t,{A7:()=>l,Hk:()=>a,K0:()=>S,Ks:()=>h,Q3:()=>o,Q5:()=>i,QF:()=>m,QG:()=>_,Ur:()=>b,Wk:()=>x,YZ:()=>C,a6:()=>f,aY:()=>y,ct:()=>c,eW:()=>s,gh:()=>d,iM:()=>u,kh:()=>g,kl:()=>v,s1:()=>r,sF:()=>p,uu:()=>E});let s=function(e){return e.Affinity="AFFINITY",e.LastPlayed="LAST_PLAYED",e.PlayCount="PLAY_COUNT",e}({}),i=function(e){return e.LongTerm="LONG_TERM",e.MidTerm="MID_TERM",e.ShortTerm="SHORT_TERM",e}({}),r=function(e){return e.Album="ALBUM",e.Audiobook="AUDIOBOOK",e.Compilation="COMPILATION",e.Ep="EP",e.Podcast="PODCAST",e.Single="SINGLE",e.Unknown="UNKNOWN",e}({}),a=function(e){return e.Autobiography="AUTOBIOGRAPHY",e.Biography="BIOGRAPHY",e}({}),o=function(e){return e.Albums="ALBUMS",e.Artists="ARTISTS",e.Audiobooks="AUDIOBOOKS",e.Episodes="EPISODES",e.Genres="GENRES",e.Playlists="PLAYLISTS",e.Podcasts="PODCASTS",e.TopResults="TOP_RESULTS",e.Tracks="TRACKS",e.Users="USERS",e}({}),l=function(e){return e.Explicit="EXPLICIT",e.NineteenPlus="NINETEEN_PLUS",e.None="NONE",e.Unknown="UNKNOWN",e}({}),c=function(e){return e.Curate="CURATE",e.Uncurate="UNCURATE",e}({}),d=function(e){return e.Day="DAY",e.Hour="HOUR",e.Minute="MINUTE",e.Month="MONTH",e.Year="YEAR",e}({}),u=function(e){return e.Audio="AUDIO",e.Unknown="UNKNOWN",e.Video="VIDEO",e}({}),m=function(e){return e.Completed="COMPLETED",e.InProgress="IN_PROGRESS",e.NotStarted="NOT_STARTED",e}({}),p=function(e){return e.Episode="EPISODE",e.PodcastEpisode="PODCAST_EPISODE",e.Unknown="UNKNOWN",e}({}),h=function(e){return e.LikedSongs="LIKED_SONGS",e.YourEpisodes="YOUR_EPISODES",e}({}),g=function(e){return e.Facebook="FACEBOOK",e.Instagram="INSTAGRAM",e.Other="OTHER",e.Soundbetter="SOUNDBETTER",e.Twitter="TWITTER",e.Wikipedia="WIKIPEDIA",e}({}),f=function(e){return e.Description="DESCRIPTION",e.Guest="GUEST",e.Host="HOST",e.Lyrics="LYRICS",e.Name="NAME",e.UnknownField="UNKNOWN_FIELD",e}({}),y=function(e){return e.FailedItemInFolder="FAILED_ITEM_IN_FOLDER",e.FailedItemLimitReached="FAILED_ITEM_LIMIT_REACHED",e.FailedItemNotSupported="FAILED_ITEM_NOT_SUPPORTED",e.FailedNotInYourLibrary="FAILED_NOT_IN_YOUR_LIBRARY",e.Successful="SUCCESSFUL",e}({}),_=function(e){return e.AgeRestricted="AGE_RESTRICTED",e.CatalogueRestricted="CATALOGUE_RESTRICTED",e.CountryRestricted="COUNTRY_RESTRICTED",e.Explicit="EXPLICIT",e.PaymentRequired="PAYMENT_REQUIRED",e.Playable="PLAYABLE",e.Unavailable="UNAVAILABLE",e.Unknown="UNKNOWN",e}({}),b=function(e){return e.AfterUid="AFTER_UID",e.BeforeUid="BEFORE_UID",e.BottomOfPlaylist="BOTTOM_OF_PLAYLIST",e.TopOfPlaylist="TOP_OF_PLAYLIST",e}({}),v=function(e){return e.Audio="AUDIO",e.Mixed="MIXED",e.Unknown="UNKNOWN",e.Video="VIDEO",e}({}),x=function(e){return e.ContentOnly="CONTENT_ONLY",e.OrganicTraffic="ORGANIC_TRAFFIC",e.OrganicTrafficContentPool="ORGANIC_TRAFFIC_CONTENT_POOL",e}({}),C=function(e){return e.Abp="ABP",e.AnchorPaywall="ANCHOR_PAYWALL",e.AudiobookDirectSales="AUDIOBOOK_DIRECT_SALES",e.AudiobookPromotion="AUDIOBOOK_PROMOTION",e.OapLinking="OAP_LINKING",e.OapOtp="OAP_OTP",e.Unknown="UNKNOWN",e}({}),E=function(e){return e.Album="ALBUM",e.Episode="EPISODE",e.Unknown="UNKNOWN",e.WhatsNewFeedNotification="WHATS_NEW_FEED_NOTIFICATION",e}({}),S=function(e){return e.Hidden="HIDDEN",e.New="NEW",e.Seen="SEEN",e.Unknown="UNKNOWN",e}({})},59476:(e,t,n)=>{"use strict";n.d(t,{GE:()=>I,m4:()=>f,iK:()=>o,Q5:()=>u,ML:()=>v,WG:()=>p,SG:()=>m,Z2:()=>b,aM:()=>l,w7:()=>x,w3:()=>d,cT:()=>_,ac:()=>C,C6:()=>w,ob:()=>E,_M:()=>A,CO:()=>r,K:()=>i,Ep:()=>h,Dj:()=>T});var s=n(84340);function i(e){return e?.label===s.A7.Explicit}function r(e){return e?.label===s.A7.NineteenPlus}var a=n(52276);function o(e,t=null){if(null===e){return(t??new Date(0)).toISOString()}return e.isoString}function l(e){return null===e?null:o(e)}function c(e){const t=e?.precision;switch(t){case s.gh.Minute:case s.gh.Hour:case s.gh.Day:return"day";case s.gh.Month:return"month";case s.gh.Year:case void 0:return"year";default:return(0,a.E)(t)}}function d(e,t=null){return{date:o(e,t),precision:c(e)}}function u(e){return{milliseconds:e.totalMilliseconds}}n(41260);function m(e){return null!==e?e.sources.map(p):[]}function p(e){return{url:e.url,width:e.width,height:e.height}}function h(e){return e?.playable??!1}var g=n(43619);function f(e){return e.items.map((({uri:e,profile:{name:t}})=>({type:g.s.ARTIST,uri:e,name:t})))}var y=n(88168);function _(e){switch(e){case s.kl.Audio:return y.v.AUDIO;case s.kl.Video:return y.v.VIDEO;case s.kl.Mixed:return y.v.MIXED;case s.kl.Unknown:return y.v.UNKNOWN;default:return(0,a.E)(e)}}function b(e){return null!==e?[e.code]:[]}function v(e){return{type:g.s.SHOW,uri:e.uri,name:e.name,publisher:e.publisher?.name??"",images:m(e.coverArt),mediaType:_(e.mediaType)}}function x(e,t){const n=e?.paywallContent??!1,i=t.reason;return{isPaywalled:n,isUserSubscribed:n&&i!==s.QG.PaymentRequired}}function C(e,t){return{milliseconds:e.totalMilliseconds-t.playPositionMilliseconds}}function E(e){return e.items.map((({uri:e,profile:{name:t}})=>({type:g.s.ARTIST,uri:e,name:t})))}function S({items:e}){if(0===e.length)return{type:g.s.ARTIST,uri:"",name:""};const{uri:t,profile:{name:n}}=e[0];return{type:g.s.ARTIST,uri:t,name:n}}function w(e){return{type:g.s.ALBUM,uri:e.uri,name:e.name,images:m(e.coverArt),artist:S(e.artists)}}function I(e,t,n){if(null!==e&&e.__typename!==t)throw new Error(n||`${e} is not a "${t}"`)}function A(e,t){try{!function(e){if(null===e)throw new Error(`${e} is \`null\``)}(e);const n=t.split(".");let s=e;for(;n.length;){s=s[n.shift()]}return function(e){if(e.message)throw new Error(`${e} is a \`PathfinderError\``)}(s),s}catch{throw new Error(`Could not get "${t}"!`)}}function T(e,t,n){try{return A(e,t)}catch{return n}}},24544:(e,t,n)=>{"use strict";n.d(t,{AD:()=>v,Af:()=>ue,Ar:()=>g,Ax:()=>ce,C2:()=>u,CA:()=>N,DT:()=>J,E7:()=>j,EJ:()=>L,EV:()=>$,Ed:()=>ae,Et:()=>Y,Fq:()=>ne,G2:()=>B,G4:()=>V,It:()=>I,Ks:()=>oe,MD:()=>W,MF:()=>A,MX:()=>F,OV:()=>U,Oq:()=>P,QN:()=>K,RT:()=>le,Su:()=>pe,Sw:()=>me,WI:()=>ee,We:()=>i,Yb:()=>w,_m:()=>Z,au:()=>re,e0:()=>O,eK:()=>X,gR:()=>C,gp:()=>p,iU:()=>D,k2:()=>b,kL:()=>G,kX:()=>H,kr:()=>R,mC:()=>_,o5:()=>ie,o9:()=>E,oP:()=>f,oR:()=>z,ob:()=>h,od:()=>he,qC:()=>T,qU:()=>y,qk:()=>M,qm:()=>te,s1:()=>k,sr:()=>S,sz:()=>o,u0:()=>m,w1:()=>se,wB:()=>x,wN:()=>ge,yc:()=>Q,yq:()=>de});var s=n(46064);let i=function(e){return e.DISABLED="DISABLED",e.TWO_USER="TWO_USER",e.MULTI_USER="MULTI_USER",e}({}),r=function(e){return e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant",e}({}),a=function(e){return e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant",e}({}),o=function(e){return e.DEFAULT="default",e.VARIANTA="varianta",e.VARIANTB="variantb",e}({}),l=function(e){return e.DEFAULT="default",e.VARIANTA="varianta",e.VARIANTB="variantb",e}({}),c=function(e){return e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant",e}({}),d=function(e){return e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant",e}({});(0,s.sV)({name:"exampleOfSharedPropertyThatDoesNotExist",description:"Example of enabling a propoerty that is shared between Desktop, Mobile and Embed",default:!1});const u=(0,s.sV)({name:"enableOfflineVideoDev",description:"Enables Spotify videos to be offlined on DesktopX. Used during feature development",default:!1}),m=(0,s.sV)({name:"betamaxWidevineVersionSupported",description:"true if the version of widevine used is still supported.",default:!0}),p=(0,s.sV)({name:"betamaxBoomboxAudioSync",description:"true if video/audio sync is enabled (experimental).",default:!1}),h=(0,s.c3)({name:"betamaxOfflineTargetBitrate",description:"targetBitrate to use when offlining. The closest to this bitrate to this is used.",default:12e5,lower:1e3,upper:1e9}),g=(0,s.sV)({name:"enableBetamaxSdkSubtitlesDesktopX",description:"Enables subtitles setting and rendering subtitles on the betamax SDK on DesktopX",default:!0}),f=(0,s.sV)({name:"enableBetamaxSdkMuxDesktopXDev",description:"Enables MUX library for development on Desktop X",default:!1}),y=((0,s.sV)({name:"enableVideoOnVideoSaiDev",description:"Enables video-on-video SAI on videos Desktop X. Used during feature development",default:!0}),(0,s.sV)({name:"enableBetamaxSdkVmp",description:"Enables client-side widevine VMP (verified media path) on betamax SDK.",default:!0})),_=(0,s.sV)({name:"enableBetamaxSdkVideoOnVideoSai",description:"Enables video-on-video SAI on videos Desktop X",default:!1}),b=(0,s.c3)({name:"betamaxSdkMinimumBuffer",description:"Sets the minimum buffer goal (in seconds) required before starting or resuming playback video on betamax SDK",default:2,upper:8,lower:0}),v=(0,s.c3)({name:"betamaxSdkRetryAttempts",description:"The number of times to retry on network",default:2,upper:100,lower:1}),x=(0,s.sV)({name:"betamaxSdkDataSaverV2",description:"Enables the data saver feature on betamax SDK (linked to the video show/hide controls and close video window)",default:!0}),C=(0,s.c3)({name:"betamaxSdkDataSaverBufferMargin",description:"Sets the amount of buffer in seconds to be kept when disabling data saver (lower = faster variant change)",default:4,upper:100,lower:0}),E=(0,s.sV)({name:"betamaxVideoAutoplay",description:"Enables an alternative method for video autoplay to address Mux metrics",default:!1}),S=(0,s.sV)({name:"enableBetamaxSdkInitialLowBitrateV2",description:"Optimize startup time by choosing the lowest quality for the first segment",default:!0}),w=(0,s.sV)({name:"enableBetamaxSdkSurfaceBasedResolutionCapV2",description:"Enables surface-based resolution cap for adaptive video on betamax SDK",default:!0}),I=(0,s.c3)({name:"betamaxSdkMaxBitrate",description:"Sets the max bitrate cap for adaptive video on betamax SDK (0=disabled)",default:0,upper:1e8,lower:0}),A=(0,s.sV)({name:"enableBetamaxSdkPlayerPool",description:"Enables player pool for betamax SDK",default:!1}),T=(0,s.c3)({name:"betamaxSdkPlayerPoolSize",description:"Sets the player pool size, should it be enabled",default:20,upper:100,lower:0}),k=(0,s.sV)({name:"enableVideoPip",description:"Enables desktop picture-in-picture surface using betamax SDK.",default:!1}),N=(0,s.sV)({name:"betamaxUsePendingStorage",description:"true if pending storage is used to generate BetamaxPlaybackSession messages, false if using only the normal event sender.",default:!0}),O=(0,s.sV)({name:"betamaxAutoSeekToAdPosition",description:"If true, the player will seek to the ad position when an stop position is registered. Usefull for debugging ads.",default:!1}),P=(0,s.sV)({name:"enableAutoSeekToVideoBufferedStartPosition",description:"Automatically seek to the video buffered start position on load to avoid initial seek if the initial position is not buffered",default:!1}),j=(0,s.sV)({name:"enableStreamReportingTracker3",description:"Enables use of the StreamReporting module for video playback",default:!0}),L=(0,s.sV)({name:"showWrappedBanner",description:"Show Wrapped banner on wrapped genre page",default:!1}),R=(0,s.wj)({name:"enableBlendInvitation",description:"Enable users to join Blends through client-web",values:i,default:i.DISABLED}),D=(0,s.sV)({name:"enableSubtitlesUsingHarmony",description:"Enable subtitles using Harmony",default:!1}),M=((0,s.sV)({name:"enableUriLinks",description:"Enable the `uri_link` type in Web API /views",default:!1}),(0,s.wj)({name:"enableI18nRoutes",description:"Enable internationalized routes for all locales in EXPERIMENTAL_INTERNATIONALIZED_LOCALES.",values:r,default:r.DEFAULT}),(0,s.sV)({name:"enableCastConnect",description:"Enable Google's new Cast Connect feature for Android TV from Web Player's Cast Sender implementation",default:!1})),U=((0,s.sV)({name:"enableNewEpisodes",description:"Enable the new episodes view",default:!1}),(0,s.sV)({name:"enableMerchHubWrappedTakeover",description:"Route merchhub url to the new genre page for the wrapped takeover",default:!1})),F=(0,s.wj)({name:"merchVariantExperiment",description:"Merch shelf re-ordering experiment on Artist Profile Page(A/B/C test)",values:o,default:o.DEFAULT}),B=((0,s.wj)({name:"OnTourVariantExperiment",description:"On Tour shelf re-ordering experiment on Artist Page(A/B/C test)",values:l,default:l.DEFAULT}),(0,s.sV)({name:"enableMerchOnAlbum",description:"Enable merch shelf view on album page",default:!1}),(0,s.sV)({name:"enablePickAndShuffle",description:"Enable pick and shuffle",default:!1})),G=((0,s.sV)({name:"enableNewTicketingSection",description:"Enable New Ticketing section on Concert Event Pages",default:!1}),(0,s.sV)({name:"enableEqualizer",description:"Enable audio equalizer for Desktop and Web Player",default:!1})),V=(0,s.sV)({name:"betamaxFilterNegativeDuration",description:"Remove updates to esperanto for duration that is negative",default:!0}),H=((0,s.wj)({name:"enableRTPTrackCredits",description:"Enable track credits on track page",values:a,default:a.DEFAULT}),(0,s.sV)({name:"enableUserFraudVerification",description:"Enable user fraud verification",default:!1})),W=((0,s.sV)({name:"enableUserFraudVerificationRequest",description:"Enable the IAV component make api requests",default:!0}),(0,s.sV)({name:"enableConcertsInterested",description:"Enable Save & Retrieve feature for concerts",default:!1})),z=((0,s.wj)({name:"enableI18nAdditionalPages",description:"Enable additional internationalized pages beyond initial pages.",values:c,default:c.DEFAULT}),(0,s.sV)({name:"enableUserFraudSignals",description:"Enable user fraud signals",default:!1})),Y=(0,s.sV)({name:"enablePlaylistEsperanto",description:"Use the PlaylistEsperanto implementation of the Playlist API",default:!1}),K=(0,s.sV)({name:"enablePartialPlaylistEsperantoForAudiobooks",description:"Use a partial PlaylistEsperanto implementation of the Playlist API just to support Audiobooks",default:!1});let q=function(e){return e.DEFAULT="default",e.CONTROL="control",e.CANONICAL_TOP_POSITION="canonical-top-position",e.CANONICAL_BOTTOM_POSITION="canonical-bottom-position",e.ORGANIC_TOP_POSITION="organic-top-position",e.ORGANIC_BOTTOM_POSITION="organic-bottom-position",e}({});(0,s.wj)({name:"enableTrackInternalLinkRecommender",description:"Enable internal link recommender component for track entity pages",values:q,default:q.DEFAULT});const Q=(0,s.wj)({name:"enableRichPlaylistPages",description:"Enable recommended tracks on playlist pages",values:d,default:d.DEFAULT}),X=((0,s.sV)({name:"enableConcertsForThisIsPlaylist",description:"Enable Tour Card on This is Playlist",default:!1}),(0,s.sV)({name:"enableConcertsNearYou",description:"Enable Concerts Near You Playlist",default:!1})),$=(0,s.sV)({name:"enableUserFraudCanvas",description:"Enable user fraud Canvas Fingerprinting",default:!1}),J=((0,s.sV)({name:"enableConcertsTicketPrice",description:"Display ticket price on Event page",default:!1}),(0,s.sV)({name:"enableUserFraudCspViolation",description:"Enable CSP violation detection",default:!0})),Z=(0,s.sV)({name:"enableNewArtistEventsPage",description:"Display the new Artist events page",default:!1}),ee=(0,s.sV)({name:"enableYLXEnhancements",description:"Enable Your Library X Enhancements",default:!1}),te=(0,s.sV)({name:"enableStaticImage2Optimizer",description:"Enable static image2 optimizer to optimize image urls",default:!1}),ne=(0,s.sV)({name:"enableSmartShuffle",description:"Enable Smart Shuffle",default:!1}),se=(0,s.sV)({name:"enableResyncBeforePlayPlaylist",description:"Enable triggering a resync on a playlist before playing it",default:!0}),ie=(0,s.sV)({name:"enableFraudLoadSignals",description:"Enable user fraud signals emitted on page load",default:!0});let re=function(e){return e.CONTROL="CONTROL",e.SYSTEM_LANGUAGE="SYSTEM_LANGUAGE",e.ALL_LANGUAGES="ALL_LANGUAGES",e}({});const ae=(0,s.wj)({name:"enableLyricsTranslations",description:"Enable Lyrics Translations",values:re,default:re.CONTROL}),oe=(0,s.sV)({name:"enableNowPlayingBarVideo",description:"Enable showing video in Now Playing Bar when all other video elements are closed",default:!1}),le=(0,s.sV)({name:"enableViewMode",description:"Enable list / compact mode in entity pages",default:!1}),ce=(0,s.sV)({name:"useHarmonyDisabledReasons",description:"Use provided reason from Harmony explaining why a device is disabled",default:!1}),de=((0,s.sV)({name:"enableYourListeningUpsell",description:"Enable Your Listening Upsell Banner for free & unauth users",default:!1}),(0,s.sV)({name:"enableAudiobookCuration",description:"Enable curation of audiobooks",default:!1})),ue=(0,s.sV)({name:"enableConcertsCarouselForThisIsPlaylist",description:"Enable Concerts Carousel on This is Playlist",default:!1}),me=(0,s.sV)({name:"enableVerticalMetricsFonts",description:"Enable Vertical Metrics font updates",default:!1});let pe=function(e){return e.DEFAULT="default",e.CONTROL="control",e.VARIANT_A="variant-a",e.VARIANT_B="variant-b",e}({});const he=(0,s.wj)({name:"enableILRShow",description:"Enable internal link recommender component for show pages",values:pe,default:pe.DEFAULT}),ge=(0,s.sV)({name:"enableMainViewWidthLogging",description:"Enable Main View Width Logging",default:!1})},20896:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});const s={ALBUM:"ALBUM",AUDIOBOOK:"AUDIOBOOK",EP:"EP",COMPILATION:"COMPILATION",PODCAST:"PODCAST",SINGLE:"SINGLE",UNKNOWN:"UNKNOWN"}},43619:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});let s=function(e){return e.AD="ad",e.ALBUM="album",e.ARTIST="artist",e.ARTIST_CONCERTS="artist-concerts",e.AUDIOBOOK="audiobook",e.CHAPTER="chapter",e.CONCERT="concert",e.CONCERTS="concerts",e.EPISODE="episode",e.PODCAST_SHORT="podcast-short",e.GENRE="genre",e.VIEW="view",e.PLAYLIST="playlist",e.PLAYLISTV2="playlist-v2",e.PRE_RELEASE="pre-release",e.SHOW="show",e.TRACK="track",e.UNKNOWN="unknown",e.USER="user",e.LIKED_SONGS="liked-songs",e.LOCAL_FILES="local-files",e.YOUR_EPISODES="your-episodes",e.FOLDER="folder",e.PREMIUM="premium",e}({})},88168:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});let s=function(e){return e[e.UNKNOWN=-1]="UNKNOWN",e[e.MIXED=0]="MIXED",e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e}({})},96768:(e,t,n)=>{"use strict";function s(e){return null!==e}n.d(t,{g:()=>s})},70396:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});const s=e=>t=>Object.values(e).includes(t)},52276:(e,t,n)=>{"use strict";function s(e,t){throw new Error(t??`Unexpectedly hit unreachable code! Unhandled discriminated union member: ${JSON.stringify(e)}`)}function i(e,t){try{s(e,t)}catch(e){console.error(e)}}n.d(t,{E:()=>s,I:()=>i})},34016:(e,t,n)=>{"use strict";n.d(t,{KS:()=>h,mq:()=>g,iQ:()=>f});n(41260);var s=n(85708);var i=n(87204),r=n(60016);let a=()=>{window.location.reload()},o=e=>{window.location.assign(e)},l=()=>window.location.origin,c=()=>window.location.href;const d={reload(){a()},assign(e){o(e)},get origin(){return l()},get href(){return c()}},u=()=>(0,s.SM)()===i.q.PWA||"1"===function(e){try{return window?.google_optimize?.get(e)}catch(e){return}}("u7gmg4jBRTOUMmTZNyEx9w"),m=()=>{if(u())return`${d.origin}/auth_redirect`;if(/iphone|ipod|ipad/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)){const e=new URL(d.href);return e.pathname=`${r.ao}${e.pathname}`,e.toString()}return d.href},p=(e,t,n)=>{var s;n&&(e+=`&${s=n,Object.keys(s).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(s[e]).replace(/%7C/g,"|")}`)).join("&")}`),u()?((e,t)=>{const n=void 0!==window.screenLeft?window.screenLeft:window.screenX,s=void 0!==window.screenTop?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,r=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,a=i/window.screen.availWidth,o=(i-t.width)/2/a+n,l=(r-t.height)/2/a+s,c=window.open(e,void 0,`scrollbars=${t.scrollbars?"yes":"no"},\n    toolbar=${t.toolbar?"yes":"no"},\n    width=${t.width/a},\n    height=${t.height/a},\n    top=${l},\n    left=${o}`);c?.focus&&c.focus()})(e,t):d.assign(e)},h=e=>{const t=`https://accounts.spotify.com/login?continue=${encodeURIComponent(m())}`;p(t,{width:500,height:824,toolbar:!1,scrollbars:!0},e)},g=e=>{const t=`https://www.spotify.com/signup?forward_url=${encodeURIComponent(m())}`;p(t,{width:500,height:824,toolbar:!1,scrollbars:!0},e)},f=()=>{window.addEventListener("storage",(e=>{"login_success"===e.key&&(window.focus(),window.localStorage.removeItem("login_success"),d.reload())}))}},79592:(e,t,n)=>{"use strict";n.d(t,{K0:()=>r,MR:()=>i,a6:()=>l,eu:()=>c,gP:()=>o,i_:()=>a});n(41260);var s=n(78200);function i(e){return(new TextDecoder).decode(e)}function r(e){if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}function a(e){return Array.from(e).map((e=>e.toString(16).padStart(2,"0"))).join("")}function o(e){if(e.length%2!=0)throw new Error("Invalid encoding!");const t=e.length/2,n=new Array(t);for(let s=0,i=0;s<t;++s,i+=2){const t=parseInt(e.charAt(i),16),r=parseInt(e.charAt(i+1),16);if(Number.isNaN(t)||Number.isNaN(r))throw new Error("Invalid encoding!");n[s]=t<<4|r}return Uint8Array.from(n)}function l(e){return s.util.base64.encode(e,0,e.length)}function c(e){const t=new Uint8Array(s.util.base64.length(e));return s.util.base64.decode(e,t,0),t}},42343:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});n(73952),n(99400);function s(e,t){return e.reduce(((e,n)=>{const s=t(n);return(e[s]=e[s]||[]).push(n),e}),{})}},3990:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});n(73952),n(78620);function s(e,t){const n=e?Object.keys(e):[],s=t?Object.keys(t):[];return n.length===s.length&&n.every((n=>Object.prototype.hasOwnProperty.call(t,n)&&e[n]===t[n]))}},89060:(e,t,n)=>{"use strict";n.d(t,{Ed:()=>o,_z:()=>i,iY:()=>r,qw:()=>l});var s=n(12100);const i=e=>new Date(e),r=(e,t,n,s)=>{const i=6e4*e.getTimezoneOffset(),r=n??{year:"numeric",month:"long",day:"numeric",weekday:"long"};return new Date(e.valueOf()+i).toLocaleDateString(t,o(r,s))},a=["year","month","weekday","day","hour","minute","second"];function o(e,t){if(void 0===t)return e;const n={...e},s=a.indexOf(t);if(-1!==s)for(let e=s+1;e<a.length;e++)delete n[a[e]];return n}const l=(e,t=s._s)=>(new Date).getUTCFullYear()===e.getUTCFullYear()?t.formatDate(e,{month:"short",day:"numeric",timeZone:"UTC"}):t.formatDate(e,{month:"short",year:"numeric",timeZone:"UTC"})},81940:(e,t,n)=>{"use strict";function s(e){const t=Math.floor(e/1e3),n=Math.floor(t/60),s=Math.floor(n/60),i=60*s,r=n-i;return{hours:s,minutes:r,seconds:t-60*i-60*r}}n.d(t,{s:()=>s})},1516:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var s=n(12100);const i=e=>{if(!Number.isInteger(e))return"";const t=Date.now()-Number(e),n=Math.round(t/1e3/60),i=Math.round(t/1e3/60/60),r=Math.round(t/1e3/60/60/24),a=Math.round(t/1e3/60/60/24/7);return r>=7?s._s.get("time.weeks.short",a):i>=24?s._s.get("time.days.short",r):n>=60?s._s.get("time.hours.short",i):n>0?s._s.get("time.minutes.short",n):s._s.get("time.now")}},59792:(e,t,n)=>{"use strict";n.d(t,{Ck:()=>r,UJ:()=>s,ag:()=>i,eQ:()=>a});n(73952),n(99400);function s(e){return e?e.reduce(((e,t)=>(t.releases.items[0]&&e.push(t.releases.items[0]),e)),[]):[]}const i=e=>`spotify:app:artist:${e}`,r=e=>`spotify:artist:${e}`,a=(e,t,n)=>({artists:[{uri:t,name:n}],images:e.coverArt?.sources||[],name:e.name,uri:e.uri,year:e.date?.year,type:e.type,sharingInfo:e.sharingInfo})},72032:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var s=n(12100),i=n(20896);function r(e){switch(e){case i.Q.SINGLE:return s._s.get("single");case i.Q.EP:return s._s.get("ep");case i.Q.COMPILATION:return s._s.get("compilation");case i.Q.ALBUM:default:return s._s.get("album")}}},58303:(e,t,n)=>{"use strict";async function s(e,t=document.body){if("clipboard"in navigator)try{if("string"==typeof e)return await navigator.clipboard.writeText(e);if("undefined"!=typeof ClipboardItem&&navigator.clipboard.write)return await navigator.clipboard.write([new ClipboardItem({"text/plain":e.then((e=>new Blob([e],{type:"text/plain"})))})]);const t=await e;return await navigator.clipboard.writeText(t)}catch(e){}if(null===t)throw new Error("Node is null, copy cannot be performed.");let n="";n="string"==typeof e?e:await e;const s=document.createElement("textarea");return s.value=n,s.setAttribute("readonly",""),s.style.position="absolute",s.style.left="-9999px",t.appendChild(s),s.select(),document.execCommand("copy"),t.removeChild(s),Promise.resolve()}n.d(t,{y:()=>s})},77487:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});const s=()=>"undefined"==typeof window},91404:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});const s=e=>(t,n=!1)=>{let s;return(...i)=>{n?n=!1:(clearTimeout(s),s=setTimeout((()=>{e.apply(e,i)}),t))}}},40068:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});n(73952),n(97296),n(41260);const s=(e,{desiredSize:t=Number.MAX_SAFE_INTEGER,desiredHeight:n=t,desiredWidth:s=t,desiredLabel:i=""}={})=>{if(!e||e.length<=0)return;if(i){const[t]=e.filter((e=>e.label===i));if(t)return t}if(1===e.length)return e[0];const[r]=e.map((e=>{const t=[(e.width||0)*(e.height||0),n*s];return{ratio:Math.max(...t)/Math.min(...t),image:e}})).sort(((e,t)=>e.ratio-t.ratio));return r.image}},57148:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});var s=n(84340),i=n(8968);const r=({downloadAvailability:e,isExplicit:t,isMOGEFRestricted:n,contentRating:r,isPaywalled:a,isEnhanced:o,hasAssociatedVideo:l})=>{let c=0;const d={download:!1,explicit:!1,nineteen:!1,paid:!1,enhanced:!1,hasAssociatedVideo:!1};return e===i.If.YES&&(d.download=!0,c++),(t&&!n||r===s.A7.Explicit)&&(d.explicit=!0,c++),(n||r===s.A7.NineteenPlus)&&(d.nineteen=!0,c++),a&&(d.paid=!0,c++),o&&(d.enhanced=!0,c++),l&&(d.hasAssociatedVideo=!0,c++),{badges:d,hasBadges:c>0}}},28288:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});const s=e=>({xsmall:12,small:16,medium:24,large:32,xlarge:48,xxlarge:64}[e])},54584:(e,t,n)=>{"use strict";n.d(t,{Qd:()=>r,eG:()=>o,oP:()=>a});var s=n(12100),i=n(60016);const r=(e,t=!0)=>{const n=t?"/":"";if(!e)return"";const s=e.split("/");return s[1].includes(i.Si)?`${n}${s.slice(2).join("/")}`:e},a=(e,t)=>{const n=t||s._s.getLocaleForURLPath();if(!e)return"";const r=e.split("/")[1];if(!n||n===i.Qb||r.includes(i.Si))return e;const a="/"===e?"":e;return`/${i.Si}${n}${a}`},o=e=>{if(!e)return"";const t=e.split("/");return t[1].includes(i.Si)?t[2]||"":t[1]||""}},88004:(e,t,n)=>{"use strict";n.d(t,{QZ:()=>l,au:()=>c});n(73952),n(41260),n(91372);var s=n(60016);const i=(e,t)=>void 0!==t&&e.some((e=>e===t)),r=(e,t,n)=>{const r=n&&s.YX.some((e=>e===n)),a=r?s.Om:s.A1,o=r?s.ak:s.i2,l=i(a,e)&&t,c=i(o,e);return l||c},a=(e,t)=>{if(void 0===e)return!1;const n=""===e;return t.some((t=>t===e))||n},o=(e,t)=>{const n=a(e,s.Ws)&&t,i=a(e,s.Gy);return n||i},l=({localeFeatureFlag:e,entityFeatureFlag:t,urlLocale:n,entity:s,type:i})=>{switch(i){case"locale":return r(n,e,s);case"route":return o(s,t);case"link":return r(n,e,s)&&o(s,t);default:return!1}},c=e=>["/",...s.qm.map((e=>`/${s.Si}${e}`))].includes(e)},68592:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});const s=({imageUriOrUrl:e="",desiredMosaicSize:t=300}={})=>{if(!e)return"";if(e.startsWith("spotify:")){const[,n,...s]=e.split(":");if("image"===n)return`https://i.scdn.co/image/${s[0]}`;if("mosaic"===n)return`https://mosaic.scdn.co/${t}/${s.join("")}`}return e}},28224:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",ActionBar:"main-actionBar-ActionBar",ActionBarRow:"main-actionBar-ActionBarRow"}},16560:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={container:"main-downloadClient-actionContainer"}},80496:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={card:"main-card-card",cardLink:"main-card-cardLink",type:"main-card-type",cardTitle:"main-card-cardTitle",newEpisodeIndicator:"main-card-newEpisodeIndicator",draggable:"main-card-draggable",imageContainer:"main-card-imageContainer",imageContainerOld:"main-card-imageContainerOld",imageContainerSkeleton:"main-card-imageContainerSkeleton",cardMetadata:"main-card-cardMetadata",DownloadStatusIndicator:"main-card-DownloadStatusIndicator",PlayButtonContainer:"main-card-PlayButtonContainer",oldExperience:"yQR3gZkUwRPHSaeJBXEk",PlayButtonContainerVisible:"main-card-PlayButtonContainerVisible",cardContainer:"main-card-cardContainer"}},27864:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={imageWrapper:"main-cardImage-imageWrapper",image:"main-cardImage-image",imagePlaceholder:"main-card-imagePlaceholder",circular:"main-cardImage-circular",withWavesWrapper:"main-card-withWavesWrapper",withWaves:"main-card-withWaves",hero:"main-card-hero"}},18432:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={menu:"NbcaczStd8vD2rHWwaKv",menuHeading:"ig17e2GN63Tgv3JeRoJF",menuItemButton:"mWj8N7D_OlsbDgtQx5GW",disabled:"egE6UQjF_UUoCzvMxREj",menuItemStatic:"BmRbu742cR31_QlTDob1",subMenuIcon:"klmTmoDHY2lTsLzlA2qX",subMenuLeading:"lQEXaOyKiOHRJAkTf1EF",menuItem:"rQ6LXqVlEOGZdGIG0LgP",dividerBefore:"vvMORUKtQKpQcpQ992bR",dividerAfter:"Vz3pFUXmll6fKB5Fc4nd",menuItemLabel:"htqz7Vb8mLJvGKTi1vrs",loadingContainer:"eof5OA2Ldhob6LU1jNoF"}},2960:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={addToPlaylistTitle:"main-contextMenu-addToPlaylistTitle",addToPlaylistSubtitle:"main-contextMenu-addToPlaylistSubtitle"}},63880:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={filterPlaylistSearch:"main-contextMenu-filterPlaylistSearch"}},15240:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={menu:"main-contextMenu-menu",menuHeading:"main-contextMenu-menuHeading",menuItemButton:"main-contextMenu-menuItemButton",disabled:"main-contextMenu-disabled",menuItemStatic:"main-contextMenu-menuItemStatic",subMenuIcon:"main-contextMenu-subMenuIcon",subMenuLeading:"main-contextMenu-subMenuLeading",menuItem:"main-contextMenu-menuItem",dividerBefore:"main-contextMenu-dividerBefore",dividerAfter:"main-contextMenu-dividerAfter",menuItemLabel:"main-contextMenu-menuItemLabel",loadingContainer:"main-contextMenu-loadingContainer",filterInputContainer:"main-contextMenu-filterInputContainer",expanded:"main-contextMenu-expanded",expandButton:"main-contextMenu-expandButton",filterInput:"main-contextMenu-filterInput",filterInputFullWidth:"main-contextMenu-filterInputFullWidth",overlay:"main-contextMenu-overlay",expandRight:"main-contextMenu-expandRight",searchIconContainer:"main-contextMenu-searchIconContainer",searchIcon:"main-contextMenu-searchIcon",clearButton:"main-contextMenu-clearButton",filterPlaylistSearchContainer:"main-contextMenu-filterPlaylistSearchContainer",trigger:"main-contextMenu-trigger"}},33062:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",MINIMUM_HEADER_HEIGHT:"250px",MAXIMUM_HEADER_HEIGHT:"400px",IMAGE_SIZE:"192px",IMAGE_SIZE_BIG:"232px",BACKGROUND_HEIGHT_PERCENTAGE:"40vh",container:"main-entityHeader-container",nonWrapped:"main-entityHeader-nonWrapped",largeHeader:"main-entityHeader-largeHeader",withBackgroundImage:"main-entityHeader-withBackgroundImage",smallHeader:"main-entityHeader-smallHeader",backgroundColor:"main-entityHeader-backgroundColor",background:"main-entityHeader-background",overlay:"main-entityHeader-overlay",headerText:"main-entityHeader-headerText",topbarTitle:"main-entityHeader-topbarTitle",topbarContent:"main-entityHeader-topbarContent",topbarContentFadeIn:"main-entityHeader-topbarContentFadeIn",title:"main-entityHeader-title",titleInner:"main-entityHeader-titleInner",titleButton:"main-entityHeader-titleButton",pretitle:"main-entityHeader-pretitle",imageContainer:"main-entityHeader-imageContainer",imageContainerNew:"main-entityHeader-imageContainerNew",imageContainerClickable:"main-entityHeader-imageContainerClickable",theyFollowUs:"main-entityHeader-theyFollowUs",image:"main-entityHeader-image",shadow:"main-entityHeader-shadow",imagePlaceholder:"main-entityHeader-imagePlaceholder",wavesBackground:"main-entityHeader-wavesBackground",roundedCorners:"main-entityHeader-roundedCorners",circle:"main-entityHeader-circle",detailsText:"main-entityHeader-detailsText",uppercase:"main-entityHeader-uppercase",metaData:"main-entityHeader-metaData",creatorWrapper:"main-entityHeader-creatorWrapper",piled:"main-entityHeader-piled",creatorButton:"main-entityHeader-creatorButton",metaDataText:"main-entityHeader-metaDataText",metaDataAuthor:"main-entityHeader-metaDataAuthor",newEntriesIndicator:"main-entityHeader-newEntriesIndicator",divider:"main-entityHeader-divider",smallMadeForIcon:"main-entityHeader-smallMadeForIcon",subtitle:"main-entityHeader-subtitle",subtitleButton:"main-entityHeader-subtitleButton",gradient:"main-entityHeader-gradient"}},56424:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={shortcuts:"view-homeShortcutsGrid-shortcuts",title:"view-homeShortcutsGrid-title",grid:"view-homeShortcutsGrid-grid",gridOf4Columns:"view-homeShortcutsGrid-gridOf4Columns",shortcutLink:"view-homeShortcutsGrid-shortcutLink",shortcut:"view-homeShortcutsGrid-shortcut",draggable:"view-homeShortcutsGrid-draggable",imageContainer:"view-homeShortcutsGrid-imageContainer",imageWrapper:"view-homeShortcutsGrid-imageWrapper",image:"view-homeShortcutsGrid-image",main:"view-homeShortcutsGrid-main",skeletonShortcut:"eisrx2dEtE9CrVWQxu_z",content:"view-homeShortcutsGrid-nameWrapper",nameContainer:"view-homeShortcutsGrid-name",name:"view-homeShortcutsGrid-name",shortcutNewEpisodeIndicator:"view-homeShortcutsGrid-shortcutNewEpisodeIndicator",episodeExtraContent:"view-homeShortcutsGrid-episodeExtraContent",iconDownloaded:"view-homeShortcutsGrid-iconDownloaded",episodeProgressBar:"view-homeShortcutsGrid-episodeProgressBar",trailingIndicator:"view-homeShortcutsGrid-trailingIndicator",PlayButtonContainer:"view-homeShortcutsGrid-PlayButtonContainer",PlayButtonContainerVisible:"view-homeShortcutsGrid-PlayButtonContainerVisible",playButton:"view-homeShortcutsGrid-playButton",equaliser:"view-homeShortcutsGrid-equaliser"}},4484:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={shelf:"main-shelf-shelf",header:"main-shelf-header",subHeader:"main-shelf-subHeader",topRow:"main-shelf-topRow",topRowSpacer:"Ka1dWQSP_XL6v8hGDuTA",titleSpacing:"z1JCQBCM5st3bnlYiQ3S",titleWrapper:"main-shelf-titleWrapper",title:"main-shelf-title",seeAll:"main-shelf-seeAll",shelfGrid:"main-shelf-shelfGrid",showAll:"main-shelf-showAll",encoreSkeletonShelfGrid:"zneUnYCt1csnpaKsGKsy",skeletonShelf:"main-shelf-skeletonShelf"}},66487:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",container:"main-topBar-container",withBackgroundBlur:"main-topBar-withBackgroundBlur",background:"main-topBar-background",indicators:"main-actionButtons",overlay:"main-topBar-overlay",loggedOut:"main-topBar-loggedOut",fullscreenHistoryButtons:"main-topBar-fullscreenHistoryButtons",globalNavBarHistoryButtonsContainer:"VizXsWMIuNfKGN5pMyox",globalNavBarHistoryButton:"rBX1EWVZ2EaPwP4y1Gkd",historyButtons:"main-topBar-historyButtons",icon:"main-topBar-icon",button:"main-topBar-button",forward:"main-topBar-forward",responsiveForward:"main-topBar-responsiveForward",topbarContentWrapper:"main-topBar-topbarContentWrapper",topbarContent:"main-topBar-topbarContent",topNavBarLinks:"main-topBar-topNavBarLinks",topNavBarSeparator:"main-topBar-topNavBarSeparator",topbarContentRight:"main-topBar-topbarContentRight",topBarRightButtonContainer:"main-actionButtons",expand:"QTj1mCVVUuiwy6mQ0shv",globalNavBar:"LedDBMWCxYhMD20KtPJo",shrink:"MEbEPFcmpW1uJC9VI7He",loginButtons:"main-topBar-loginButtons",signupButton:"main-topBar-signupButton",UpgradeButton:"main-topBar-UpgradeButton",contentArea:"main-topBar-contentArea"}},94496:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",TRACKLIST_HEADER_HEIGHT:"36px",MINMIMUM_COLUMN_WIDTH:"120px",trackList:"main-trackList-trackList",trackListCompactMode:"main-trackList-trackListCompactMode",indexable:"main-trackList-indexable",trackListRowGrid:"main-trackList-trackListRowGrid",rowSectionVariable:"main-trackList-rowSectionVariable",rowSectionStart:"main-trackList-rowSectionStart",rowSectionEnd:"main-trackList-rowSectionEnd",rowFeedback:"main-trackList-rowFeedback",queuePanelTracklist:"main-trackList-queuePanelTracklist",isRecommendedTrackListRow:"main-trackList-isRecommendedTrackListRow",chartTrackList:"main-trackList-chartTrackList",rowChartStatus:"main-trackList-icon",concertTrackList:"main-trackList-concertTrackList",trackListHeader:"main-trackList-trackListHeader",trackListHeaderRow:"main-trackList-trackListHeaderRow",trackListHeaderStuck:"main-trackList-trackListHeaderStuck",trackListRow:"main-trackList-trackListRow",isPreviousRowSelected:"main-trackList-isPreviousRowSelected",isNextRowSelected:"main-trackList-isNextRowSelected",dropTargetBefore:"main-trackList-dropTargetBefore",dropTargetAfter:"main-trackList-dropTargetAfter",rowHeartButton:"main-trackList-rowHeartButton",curationButton:"main-trackList-curationButton",rowFeedbackButton:"main-trackList-rowFeedbackButton",rowMoreButton:"main-trackList-rowMoreButton",disabled:"main-trackList-disabled",rowPlayPauseButton:"main-trackList-rowImagePlayButton",rowSubTitle:"main-trackList-rowSubTitle",text:"main-trackList-text",number:"main-trackList-number",icon:"main-trackList-icon",playingIcon:"main-trackList-playingIcon",selected:"main-trackList-selected",rowMarker:"main-trackList-rowMarker",active:"main-trackList-active",rowTitle:"main-trackList-rowTitle",rowSectionIndex:"main-trackList-rowSectionIndex",showDisabledAsEnabled:"main-trackList-showDisabledAsEnabled",playsHeader:"main-trackList-playsHeader",column:"main-trackList-column",sortable:"main-trackList-sortable",arrow:"main-trackList-arrow",durationHeader:"main-trackList-durationHeader",actionsHeader:"main-trackList-actionsHeader",rowMainContent:"main-trackList-rowMainContent",rowCompactMode:"main-trackList-rowCompactMode",rowMainContentCompact:"main-trackList-rowMainContentCompact",facepile:"main-trackList-facepile",rowBadges:"main-trackList-rowBadges",rowDuration:"main-trackList-rowDuration",nineteen:"main-trackList-nineteen",enhanced:"main-trackList-enhanced",rowMarkerChartStatus:"main-trackList-rowMarkerChartStatus",statusChangeDown:"main-trackList-statusChangeDown",statusChangeUp:"main-trackList-statusChangeUp",statusChangeNew:"main-trackList-statusChangeNew",rowImageWithPlay:"main-trackList-rowImageWithPlay",rowImagePlayPauseButton:"main-trackList-rowImagePlayPauseButton",rowPlayCount:"main-trackList-rowPlayCount",ownedBySelf:"main-trackList-ownedBySelf",rowImage:"main-trackList-rowImage",rowImageVideo:"main-trackList-rowImageVideo",rowImageFallback:"main-trackList-rowImageFallback",rowPlayPauseIcon:"main-trackList-rowPlayPauseIcon",placeholder:"main-trackList-placeholder",placeholderIndex:"main-trackList-placeholderIndex",placeholderStart:"main-trackList-placeholderStart",placeholderStartWithCoverImage:"main-trackList-placeholderStartWithCoverImage",placeholderEnd:"main-trackList-placeholderEnd",placeholderVariable:"main-trackList-placeholderVariable",discTitle:"main-trackList-discTitle",discRow:"main-trackList-discRow",addedBy:"main-trackList-addedBy",facepileAvatar:"main-trackList-facepileAvatar",delayedVisibility:"main-trackList-delayedVisibility",eventDate:"main-trackList-eventDate",eventVenue:"main-trackList-eventVenue",eventTicketIcon:"main-trackList-eventTicketIcon",talkIcon:"main-trackList-talkIcon",talkSegmentDuration:"main-trackList-talkSegmentDuration",notificationDot:"main-trackList-notificationDot",resizeHandle:"main-trackList-resizeHandle",columnResizing:"main-trackList-columnResizing"}},90615:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={TRACKLIST_HEADER_HEIGHT:"36px",MINMIMUM_COLUMN_WIDTH:"120px"}},22756:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={artistOverviewContent:"artist-artistAbout-artistOverviewContent",artistOverviewContainer:"artist-artistAbout-artistOverviewContainer",popularTracks:"artist-artistAbout-popularTracks",artistShelfSpacer:"artist-artistAbout-artistShelfSpacer",artistShelfRelatedVideos:"artist-artistOverview-artistShelfRelatedVideos",artistSides:"artist-artistAbout-artistSides",artistSidesBlock:"artist-artistAbout-artistSidesBlock",sideBlock:"artist-artistAbout-sideBlock",popularTracksBlock:"artist-artistAbout-popularTracksBlock",about:"artist-artistAbout-about",events:"artist-artistAbout-events",merch:"artist-artistAbout-merch",merchSmall:"artist-artistAbout-merchSmall",overview:"artist-artistAbout-overview",heading:"artist-artistAbout-heading",merchShelfContent:"artist-artistAbout-merchShelfContent",container:"artist-artistAbout-container",content:"artist-artistAbout-content",backgroundImage:"artist-artistAbout-backgroundImage",bio:"artist-artistAbout-bio",artistGridContainer:"artist-artistAbout-artistGridContainer",image:"artist-artistAbout-image",columnContainer:"artist-artistAbout-columnContainer",bioContainer:"artist-artistAbout-bioContainer",statsContainer:"artist-artistAbout-statsContainer",stats:"artist-artistAbout-stats",postedBy:"artist-artistAbout-postedBy",postedByAvatar:"artist-artistAbout-postedByAvatar",avatar:"artist-artistAbout-avatar",modal:"artist-artistAbout-modal",scrollbars:"artist-artistAbout-scrollbars",close:"artist-artistAbout-close",modalBase:"artist-artistAbout-modalBase",modalAfterOpen:"artist-artistAbout-modalAfterOpen",modalBeforeClose:"artist-artistAbout-modalBeforeClose",rank:"artist-artistAbout-rank",cityBlock:"artist-artistAbout-cityBlock"}},64744:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={artistOverviewContent:"artist-artistOverview-artistOverviewContent",artistOverviewContainer:"artist-artistOverview-artistOverviewContainer",popularTracks:"artist-artistOverview-popularTracks",artistShelfSpacer:"artist-artistOverview-artistShelfSpacer",artistShelfRelatedVideos:"Xu3KiTIAnKJNq2jnApJO",artistSides:"artist-artistOverview-artistSides",artistSidesBlock:"artist-artistOverview-artistSidesBlock",sideBlock:"artist-artistOverview-sideBlock",popularTracksBlock:"artist-artistOverview-popularTracksBlock",about:"artist-artistOverview-about",events:"artist-artistOverview-events",merch:"artist-artistOverview-merch",merchSmall:"artist-artistOverview-merchSmall",overview:"artist-artistOverview-overview",heading:"artist-artistOverview-heading",merchShelfContent:"artist-artistOverview-merchShelfContent"}},51300:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={item:"artist-artistOnTour-item",condensed:"artist-artistOnTour-condensed",date:"artist-artistOnTour-date",elevated:"artist-artistOnTour-elevated",dateMonth:"artist-artistOnTour-dateMonth",dateDay:"artist-artistOnTour-dateDay",info:"artist-artistOnTour-info",title:"artist-artistOnTour-title",time:"artist-artistOnTour-time",timeAndVenue:"artist-artistOnTour-timeAndVenue",seeAll:"main-seeAll-link",timeAndVenueText:"artist-artistOnTour-timeAndVenueText",onTourShelfGrid:"artist-artistOnTour-onTourShelfGrid",metadata:"artist-artistOnTour-metadata",location:"artist-artistOnTour-location",eventName:"artist-artistOnTour-eventName"}},16540:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={home:"main-home-home",withGlobalNavBarEnabled:"RLpHJIvu9c94gy1K34bT",content:"main-home-content",subfeedSection:"main-home-subfeedSection"}},80876:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",lyricsCinemaVisible:"main-lyricsCinema-lyricsCinemaVisible",nonDisplayedArea:"main-lyricsCinema-nonDisplayedArea",Container:"main-lyricsCinema-container",Controls:"main-lyricsCinema-controls",Content:"main-lyricsCinema-content"}},87568:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={container:"main-trackInfo-container",pretitle:"G71vEHtzwmEPHJGcXVTm",ellipsis:"AUYbNWYUQl7BT4IQy0IA",title:"main-trackInfo-name",subtitle:"main-trackInfo-artists",badges:"main-trackInfo-enhanced",xsmallBadges:"main-trackInfo-xsmallBadges"}},96859:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={container:"main-buddyFeed-container",panelTransition:"main-buddyFeed-panelTransition",scrollBarContainer:"main-buddyFeed-scrollBarContainer",header:"main-buddyFeed-header",closeContainer:"main-buddyFeed-closeContainer",fixedHeader:"M5kgcnhbv4Vi_POvYxSZ",contentPadding:"Jg9Sdg82oTVV58xFeM2i",shadow:"eXA363rmzs50JAKKhMoT",content:"main-buddyFeed-content",titleContainer:"main-buddyFeed-titleContainer",link:"main-buddyFeed-link",closeButton:"main-buddyFeed-closeButton",actions:"main-buddyFeed-actions"}},32424:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={emptyContainer:"queue-queuePage-emptyContainer",titleContainer:"CFs2mUpqIYqltzDj1ygk"}},83728:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={videoPlayerContainer:"QGZf175zwAVSD7lIwJjY"}},41768:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={coverContainer:"main-yourEpisodes-coverContainer",yourEpisodesCard:"main-yourEpisodes-yourEpisodesCard",coverIcon:"main-yourEpisodes-coverIcon"}},91844:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});const s={entityImage:"main-yourLibraryX-listRowEntityImage",pulse:"main-yourLibraryX-pulse",link:"main-yourLibraryX-listRowLink",subtitle:"main-yourLibraryX-listRowSubtitle",titleLink:"main-yourLibraryX-listRowTitleLink",icon:"main-yourLibraryX-listRowIcon",subtitleLeadingWrapper:"main-yourLibraryX-listRowSubtitleLeadingWrapper"}},65784:()=>{},92285:()=>{},73804:()=>{}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=r,o.amdO={},e=[],o.O=(t,n,s,i)=>{if(!n){var r=1/0;for(d=0;d<e.length;d++){for(var[n,s,i]=e[d],a=!0,l=0;l<n.length;l++)(!1&i||r>=i)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(a=!1,i<r&&(r=i));if(a){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,s,i]},o.F={},o.E=e=>{Object.keys(o.F).map((t=>{o.F[t](e)}))},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var i=Object.create(null);o.r(i);var r={};t=t||[null,n({}),n([]),n(n)];for(var a=2&s&&e;"object"==typeof a&&!~t.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,o.d(i,r),i},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>(({232:"xpui-routes-search",364:"xpui-routes-all-show-sponsors",368:"xpui-routes-track-v2",392:"xpui-playback-handle-icons",624:"home-v2",760:"this-is-playlist-concerts-carousel",1e3:"xpui-routes-collection-songs",1432:"xpui-routes-collection-local-files",1512:"xpui-routes-merch-hub",1836:"xpui-pip-mini-player",1852:"xpui-routes-all-episode-sponsors",1950:"xpui-routes-buddy-feed",1972:"xpui-routes-create-playlist",2136:"xpui-routes-recent-searches",2156:"xpui-routes-queue-page",2256:"concerts-on-tour-playlist-card",2780:"xpui-routes-blend",2876:"xpui-debug-window-contents",3068:"dev-playground",3456:"home-hpto",3840:"xpui-routes-album",3892:"playlist-leavebehinds",4292:"xpui-routes-playlist",4572:"xpui-routes-concert",5160:"debug-locales",5832:"xpui-routes-cultural-moment-hub",5922:"browse-v2",6088:"xpui-desktop-routes-settings",6151:"xpui-routes-lyrics",6556:"xpui-routes-play-history-page",7212:"xpui-desktop-modals",7692:"xpui-routes-show",7712:"xpui-routes-album-prerelease",7752:"xpui-routes-track",7776:"xpui-routes-offline-browse",7968:"xpui-routes-profile",8064:"xpui-routes-health-check",8384:"lottie-animation",8564:"xpui-routes-all-show-sponsors-consolidated",8808:"xpui-routes-collection-concerts",8872:"home-v2-section",9004:"xpui-routes-collection-episodes",9656:"xpui-feature-activation",9789:"xpui-routes-episode"}[e]||e)+".js"),o.miniCssF=e=>(({232:"xpui-routes-search",368:"xpui-routes-track-v2",624:"home-v2",1e3:"xpui-routes-collection-songs",1432:"xpui-routes-collection-local-files",1512:"xpui-routes-merch-hub",1836:"xpui-pip-mini-player",1950:"xpui-routes-buddy-feed",2136:"xpui-routes-recent-searches",2156:"xpui-routes-queue-page",2256:"concerts-on-tour-playlist-card",2780:"xpui-routes-blend",2876:"xpui-debug-window-contents",3456:"home-hpto",3840:"xpui-routes-album",4292:"xpui-routes-playlist",4572:"xpui-routes-concert",5160:"debug-locales",5832:"xpui-routes-cultural-moment-hub",5922:"browse-v2",6556:"xpui-routes-play-history-page",7212:"xpui-desktop-modals",7692:"xpui-routes-show",7712:"xpui-routes-album-prerelease",7776:"xpui-routes-offline-browse",7968:"xpui-routes-profile",8808:"xpui-routes-collection-concerts",9004:"xpui-routes-collection-episodes",9656:"xpui-feature-activation",9789:"xpui-routes-episode"}[e]||e)+".css"),o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s={},i="client-web:",o.l=(e,t,n,r)=>{if(s[e])s[e].push(t);else{var a,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==i+n){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",i+n),a.src=e),s[e]=[t];var m=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var i=s[e];if(delete s[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=m.bind(null,a.onerror),a.onload=m.bind(null,a.onload),l&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="/",(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,n)=>{var s=o.miniCssF(e),i=o.p+s;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),s=0;s<n.length;s++){var i=(a=n[s]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}var r=document.getElementsByTagName("style");for(s=0;s<r.length;s++){var a;if((i=(a=r[s]).getAttribute("data-href"))===e||i===t)return a}})(s,i))return t();((e,t,n,s,i)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.onerror=r.onload=n=>{if(r.onerror=r.onload=null,"load"===n.type)s();else{var a=n&&n.type,o=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+a+": "+o+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=o,r.parentNode&&r.parentNode.removeChild(r),i(l)}},r.href=t,n?n.parentNode.insertBefore(r,n.nextSibling):document.head.appendChild(r)})(e,i,null,t,n)})),t={3484:0};o.f.miniCss=(n,s)=>{t[n]?s.push(t[n]):0!==t[n]&&{232:1,368:1,624:1,1e3:1,1432:1,1512:1,1836:1,1950:1,2136:1,2156:1,2256:1,2272:1,2688:1,2780:1,2876:1,3072:1,3360:1,3456:1,3532:1,3640:1,3840:1,4292:1,4572:1,5160:1,5832:1,5922:1,6556:1,7212:1,7608:1,7692:1,7712:1,7776:1,7968:1,8036:1,8192:1,8284:1,8544:1,8808:1,9004:1,9076:1,9656:1,9789:1}[n]&&s.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}}})(),(()=>{var e={3484:0};o.f.j=(t,n)=>{var s=o.o(e,t)?e[t]:void 0;if(0!==s)if(s)n.push(s[2]);else{var i=new Promise(((n,i)=>s=e[t]=[n,i]));n.push(s[2]=i);var r=o.p+o.u(t),a=new Error;o.l(r,(n=>{if(o.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",a.name="ChunkLoadError",a.type=i,a.request=r,s[1](a)}}),"chunk-"+t,t)}},o.F.j=t=>{if(!o.o(e,t)||void 0===e[t]){e[t]=null;var n=document.createElement("link");o.nc&&n.setAttribute("nonce",o.nc),n.rel="prefetch",n.as="script",n.href=o.p+o.u(t),document.head.appendChild(n)}},o.O.j=t=>0===e[t];var t=(t,n)=>{var s,i,[r,a,l]=n,c=0;if(r.some((t=>0!==e[t]))){for(s in a)o.o(a,s)&&(o.m[s]=a[s]);if(l)var d=l(o)}for(t&&t(n);c<r.length;c++)i=r[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},n=("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.nc=void 0,o.O(0,[3484],(()=>{[8596,2812,4371,232,3456,7776].map(o.E)}),5);var l=o.O(void 0,[8596],(()=>o(43172)));l=o.O(l)})();
//# sourceMappingURL=xpui.js.map