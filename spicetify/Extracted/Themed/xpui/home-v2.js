"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[624],{86572:(e,t,s)=>{s.d(t,{q:()=>n});var i=s(96651),a=s(2488);const n=e=>(0,a.jsx)(i.Suspense,{fallback:null,children:(0,i.createElement)((0,i.lazy)((async()=>{const{FeatureActivationSection:e}=await Promise.all([s.e(8596),s.e(9656)]).then(s.bind(s,18144));return{default:e}})),e)})},67772:(e,t,s)=>{s.r(t),s.d(t,{SKELETON_CARDS_COUNT:()=>Ke,SKELETON_SHELVES_COUNT:()=>Te,default:()=>$e});s(41260);var i=s(96651),a=s(10124),n=s.n(a),r=s(4564),o=s(33220),c=s(49232),l=s(30312),d=s(12100),m=s(12980),p=s(62856),u=s(92376),g=s(10484),h=s(10156),x=s(87668),j=s(62692),y=s(40636),f=s(39628),v=s(41264),S=s(768),b=s(92280),w=s(15040),_=s(6356),D=s(90464),C=s(8340),k=s(7896),I=s(93620),N=s(53048),A=s(28892);const P="AaXwi9LLckdsxNwrosnQ",E="yX31EzBkHzNooefkSvT3",F="EjJHF7tjFYigQK8pIVbV",M="Z5xLXZofWXGooKRjW6kd",L="kM546dTx5cxDNH530zm8",H="mnhJCpUiriAb7Ay3HOTz",R="rRldspwHsrgo8DsecR2Q";var T=s(2488);const K=({isMWP:e})=>(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${M} ${L}`,"aria-hidden":"true",children:[(0,T.jsx)("source",{src:(0,I.K)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,T.jsx)("source",{src:(0,I.K)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.mp4`),type:"video/mp4"})]}),(0,T.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${M} ${H}`,"aria-hidden":"true",children:[(0,T.jsx)("source",{src:(0,I.K)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,T.jsx)("source",{src:(0,I.K)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.mp4`),type:"video/mp4"})]})]}),O=({isMWP:e})=>(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("picture",{children:[(0,T.jsx)("source",{srcSet:(0,I.K)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.webp`),type:"image/webp"}),(0,T.jsx)("source",{srcSet:(0,I.K)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.png`),type:"image/png"}),(0,T.jsx)("img",{className:`${M} ${L}`,src:"",alt:""})]}),(0,T.jsxs)("picture",{children:[(0,T.jsx)("source",{srcSet:(0,I.K)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.webp`),type:"image/webp"}),(0,T.jsx)("source",{srcSet:(0,I.K)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.png`),type:"image/png"}),(0,T.jsx)("img",{className:`${M} ${H}`,src:"",alt:""})]})]}),W=(0,i.forwardRef)((({linkUri:e,loggedIn:t,isMWP:s,isStatic:i=!1,onClick:a},r)=>{const o=(0,N.oV)(),c=(0,A.C)();return(0,T.jsx)("div",{className:P,ref:r,children:(0,T.jsxs)("div",{className:(0,_.O8)("invertedLight",n()(E,{[F]:s})),children:[i||c?(0,T.jsx)(O,{isMWP:s}):(0,T.jsx)(K,{isMWP:s}),(0,T.jsx)(D.F,{as:"h2",variant:"brio",semanticColor:"textBase",className:R,children:t?d._s.get("shared.wrapped-banner.title"):d._s.get("shared.wrapped-banner.title-loggedout")}),(0,T.jsx)(D.F,{as:"p",variant:o===N.u_.SMALL||s?"mesto":"ballad",semanticColor:"textBase",children:t?d._s.get("shared.wrapped-banner.body"):d._s.get("shared.wrapped-banner.body-loggedout")}),(0,T.jsx)(C.g,{colorSet:"invertedDark",iconTrailing:k.E,href:e,target:"_blank",size:o===N.u_.SMALL||s?"small":"medium",onClick:a,children:d._s.get("shared.wrapped-banner.button")})]})})}));var $=s(27892);const U=()=>{const e=(0,b.A)(),t=(0,c.IP)(w.Kob),{openURLWithSessionTransfer:s}=(0,$.W)(),{spec:a,logger:n}=(0,y.gp)(S.W,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),r=(0,i.useMemo)((()=>a.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})),[a]),o=(0,y.K2)(r),l="https://spotify.com/wrapped",d=(0,i.useCallback)((e=>{n.logInteraction(r.hitUiNavigate({destination:l})),s(l),e.preventDefault()}),[n,s,r]);return(0,T.jsx)(W,{linkUri:l,loggedIn:!e,onClick:d,ref:o,isStatic:t})};s(73952),s(97768);var z=s(54504);const J=JSON.parse('{"data":{"__typename":"HomeLearningSectionData","title":{"text":"Introducing"}},"sectionItems":{"items":[{"title":"Video Courses","description":"Learn from the best online creators.Try everything, for free."}],"totalCount":1}}');var V=s(8004),Z=s(71992),B=s(25620),q=s(26208),Y=s(59148);const Q="https://courses.spotify.com",X="dnyg39bzenKDCjizwMzt",G="wQraCJRwv242wm4StxJc",ee="K7stzlHC447r9oht42X6",te="ttgzfbfB4GP6WRVuhLSa",se="ZRShtgAZLMUHmCZ3kelw",ie="fodeOTunaw7uLX6oRbLw",ae="CVo6IW1mq3srWy9YZrAk",ne="IbWcT9VDY62fMGWKyVRg",re="Dfqze5PoXWjDFglzjSTo",oe="KBC0QaBWPGFHcOPnXlFA",ce=["Learn from the best online creators.","Try everything, for free."],le=({index:e})=>{const{spec:t,logger:s,UBIFragment:a}=(0,y.gp)(Z.q,{data:{uri:"spotify:app:learning",position:e,reason:""}}),r=(0,i.useCallback)((()=>{const e=t.cardLinkFactory({position:0}).hitNavigateToExternalUri({destination:Q});s.logInteraction(e)}),[s,t]),o=(0,c.IP)(w.M1F),l=o?q.AZ.ENCORE_CARDS:q.AZ.DEFAULT,d=(0,q._B)(l);return(0,T.jsx)(a,{spec:t,children:(0,T.jsx)(B.E,{config:d,children:(0,T.jsx)("div",{className:n()(ee,{[te]:o}),children:(0,T.jsx)("div",{className:X,tabIndex:0,role:"button",onClick:()=>{r(),window.open(Q,"_blank","noopener")},children:(0,T.jsxs)("div",{className:G,children:[(0,T.jsxs)("div",{className:se,children:[(0,T.jsx)("div",{className:ae,children:(0,T.jsx)(V.a,{variant:"titleMedium",semanticColor:"textBase",children:"Video Courses"})}),(0,T.jsx)(V.a,{variant:"bodySmall",className:ne,children:ce[0]}),(0,T.jsx)(V.a,{variant:"bodySmall",className:ne,children:ce[1]})]}),(0,T.jsx)("div",{className:ie,children:(0,T.jsx)(C.g,{as:"a",size:"small",href:Q,target:"_blank",colorSet:"invertedLight",iconTrailing:Y.K,onClick:e=>{r(),e.stopPropagation()},children:(0,T.jsx)(V.a,{variant:"bodySmallBold",children:"Discover Courses"})})}),(0,T.jsx)("div",{className:re}),(0,T.jsx)("div",{className:oe})]})})})})})};var de=s(33584),me=s(36172);const pe="zecaxp9A6ET66ZYuMSLr",ue="CNmffmOxA0meXLgIZ2P4",ge=({spec:e,index:t,shelfTitle:s,isDjRendered:a})=>{const n=(0,i.useCallback)((e=>e<=3?e:4!==e||a?4===e&&a?3:(5!==e||a)&&a?Math.min(3,e-3):3:2),[a]),r=(0,c.IP)(w.M1F),o=r?q.AZ.ENCORE_CARDS:q.AZ.DEFAULT,l=(0,q._B)(o);return(0,T.jsx)(y.Ud,{spec:e.shelvesFactory(),children:(0,T.jsx)(B.E,{config:l,children:(0,T.jsxs)(me.G,{getSpanColumns:n,className:pe,areEncoreCardsEnabled:r,children:[(0,T.jsx)("div",{className:ue,children:(0,T.jsx)(de.q,{title:s})}),(0,T.jsx)(le,{index:t})]})})})},he=JSON.parse('{"uri":"spotify:section:0JQ5DAVAaDNAlq7hOF3StH","data":{"__typename":"HomeYourDJSectionData","title":{"text":"Meet DJ"}},"sectionItems":{"items":[{"uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","content":{"__typename":"PlaylistResponseWrapper","data":{"__typename":"Playlist","uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","name":"DJ","images":{"items":[{"sources":[{"url":"https://lexicon-assets.spotifycdn.com/DJ-Beta-CoverArt-300.jpg","width":null,"height":null}],"extractedColors":{"colorDark":{"hex":"#0858B8","isFallback":false}}}]},"description":"All kinds of music, picked by your own AI DJ.","ownerV2":{"data":{"__typename":"User","name":"Spotify"}}}},"data":null}],"totalCount":1}}');var xe=s(85708),je=s(52276),ye=(s(97296),s(91372),s(90496)),fe=s(54088);const ve=({spec:e,section:t,index:s})=>(0,i.useMemo)((()=>t.sectionItems.items.some((e=>(0,fe.M)(e.content)))),[t.sectionItems])?(0,T.jsx)(y.Ud,{spec:e.shelvesFactory(),children:(0,T.jsx)(ye.c,{total:t.sectionItems.totalCount,seeAllUri:t.uri,pageId:t.uri,title:t.data.title?.text??"",index:s,id:t.uri,children:t.sectionItems.items.map(fe.u).filter((e=>!!e))})}):null;var Se=s(66748);const be=({spec:e,section:t,index:s})=>(0,T.jsx)(y.Ud,{spec:e.shelvesFactory(),children:(0,T.jsx)(Se.default,{title:t.data.title?.text??void 0,showAll:!1,index:s})});var we=s(91232),_e=s(86572),De=s(5508),Ce=s(29152),ke=s(1032),Ie=s(72544);const Ne=({spec:e,greeting:t,section:s,index:i})=>{const a=(0,ke.aw)();switch(s.data?.__typename){case"HomeGenericSectionData":return(0,T.jsx)(ve,{spec:e,section:(0,Ie.g)(s,s.data),index:i});case"HomeShortsSectionData":return(0,T.jsx)(we.O,{spec:e,greeting:t,section:(0,Ie.g)(s,s.data)});case"HomeRecentlyPlayedSectionData":return(0,T.jsx)(be,{spec:e,section:(0,Ie.g)(s,s.data),index:i});case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{const e=(0,Ie.g)(s,s.data),{data:t,sectionItems:i}=e,n=i.items[0];if(a(s,s.data)&&"PlaylistResponseWrapper"===n.content.__typename&&"Playlist"===n.content.data.__typename){const{data:e}=n.content;return(0,T.jsx)(De.UF,{uri:Ce.mO,shelfTitle:t.title?.text??"",title:e.name,description:e.description??""})}return null}case"HomeFeatureActivationSectionDataV2":return(0,T.jsx)(_e.q,{sectionItems:s.sectionItems.items,uri:s.uri,localStorageKey:s.data.localStorageKey});case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,je.I)(s.data),null}};const Ae=({spec:e,greeting:t,container:s})=>{const{spec:a,logger:n}=(0,y.gp)(z.createDesktopHomeFeatureActivationShelfEventFactory,{}),r=(0,c.IP)(w.w9z,{loadingValue:!1}),o=(0,c.IP)(w.maj,{loadingValue:!1}),l=(0,i.useMemo)((()=>((e,t,s)=>{const i=[];s&&i.push(J),t&&i.push(he);let a=[];return a=function(e){const t=e.sections.items;return t.length>0&&"HomeShortsSectionData"===t[0].data?.__typename}(e)?[e.sections.items[0],...i,...e.sections.items.slice(1)]:[...i,...e.sections.items],a.map((e=>"HomeLearningSectionData"===e.data?.__typename?{localOverride:!0,item:e}:{localOverride:!1,item:e}))})(s,r,o)),[s,r,o]),d=(0,ke.aw)();return(0,i.useEffect)((()=>{(0,xe.G$)()&&n.logImpression(a.impressionElementFactory().impression())}),[a,n]),(0,T.jsx)(T.Fragment,{children:l.map(((s,i)=>{if(s.localOverride){const t=s.item,a=t?.sectionItems.items[0];if(!t||!a)return null;const n=l.find((e=>"HomeYourDJSectionData"===e.item.data?.__typename));let r=!1;if(n){const e=n.item;r=d(e,e.data)}return(0,T.jsx)(ge,{spec:e,index:i,isDjRendered:r,shelfTitle:t.data.title.text},`${i}-${a.title}`)}return(0,T.jsx)(Ne,{spec:e,greeting:t,section:s.item,index:i},`${i}-${s.item.uri}`)}))})};var Pe=s(1220),Ee=s(47824),Fe=s(99640),Me=s(86904),Le=s(43052);const He=()=>(0,c.IP)(w.i0e)===w._gx.ONHOME?(0,T.jsx)(Le.J,{children:(0,T.jsx)(Me.o,{onSearch:!1})}):null;var Re=s(16540);const Te=6,Ke=6,Oe=(0,i.memo)((({shelfCount:e,cardCount:t})=>(0,T.jsx)("section",{"data-testid":"home-page",children:(0,T.jsx)("div",{className:Re.c.home,children:(0,T.jsxs)("div",{className:n()(Re.c.content,"contentSpacing"),children:[(0,T.jsx)(p.i,{withTitle:!1}),[...new Array(e).keys()].map(((e,s)=>(0,T.jsx)(Pe.w,{withTitle:!0,cardCount:t},s)))]})})}))),We=({spec:e})=>{(0,g.o)("home");const t=(0,r.w1)(Fe.SS),s=(0,o.IT)(),i=new URLSearchParams(s.search).get("pCountry"),{subfeedId:a=null}=(0,o.W4)(),{data:l,error:m,fetching:p}=(0,f.kP)({timeZone:(0,v.NJ)(),sp_t:(0,h.Ij)("sp_t")??"",country:i??t,facet:a},{gcTime:v.QR,staleTime:v.AD}),j=(0,c.IP)(w.OyH),y=(0,c.IP)(w.Kob),S=j||y;if(p)return(0,T.jsx)(Oe,{shelfCount:Te,cardCount:Ke});if(null!==m)return(0,T.jsx)(u.K,{hasError:!0,errorMessage:d._s.get("error.generic")});const b=l?.home;return"HomeResponsePayload"!==b?.__typename?(0,T.jsx)(u.K,{hasError:!0,errorMessage:d._s.get("error.generic")}):0===b.sectionContainer.sections.totalCount||0===b.sectionContainer.sections.items.length?((0,x.gh)(new Error("Empty response from pathfinder"),"Home"),(0,T.jsx)(u.K,{hasError:!0,errorMessage:d._s.get("error.generic")})):(0,T.jsx)("section",{"data-testid":"home-page",children:(0,T.jsx)("div",{className:Re.c.home,children:(0,T.jsxs)("div",{className:n()(Re.c.content,"contentSpacing"),children:[S&&(0,T.jsx)(U,{}),(0,T.jsx)(Ae,{spec:e,greeting:b.greeting?.text??null,container:b.sectionContainer})]})})})},$e=()=>{const{spec:e}=(0,y.gp)(l.C,{data:{identifier:"home",uri:"spotify:home"}}),t=(0,Ee.W)({type:"locale",uri:"home"});return(0,T.jsxs)(y.Ud,{spec:e,children:[(0,T.jsx)(m.Q,{children:(0,j.WI)({i18n:d._s,shouldLocalize:t})}),(0,T.jsx)(i.Suspense,{fallback:null,children:(0,T.jsx)(He,{})}),(0,T.jsx)(We,{spec:e})]})}}}]);
//# sourceMappingURL=home-v2.js.map